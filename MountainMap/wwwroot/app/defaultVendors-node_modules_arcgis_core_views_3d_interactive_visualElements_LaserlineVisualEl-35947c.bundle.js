"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_interactive_visualElements_LaserlineVisualEl-35947c"],{

/***/ "./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ w),
/* harmony export */   b: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(i){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__.ShaderBuilder;r.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__.Laserline,i);const{vertex:v,fragment:w}=r;return v.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Matrix4PassUniform("modelView",((i,o)=>(0,_mat4_js__WEBPACK_IMPORTED_MODULE_0__.w)(m,o.camera.viewMatrix,i.origin))),new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Matrix4PassUniform("proj",((e,i)=>i.camera.projectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("glowWidth",((e,i)=>e.glowWidth*i.camera.pixelRatio)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Float2PassUniform("pixelToNDC",((e,i)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(p,2/i.camera.fullViewport[2],2/i.camera.fullViewport[3])))),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.START,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.END,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.UP,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.EXTRUDE,"vec2"),r.varyings.add("uv","vec2"),r.varyings.add("vViewStart","vec3"),r.varyings.add("vViewEnd","vec3"),r.varyings.add("vViewPlane","vec4"),v.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`void main() {
vec3 pos = mix(start, end, extrude.x);
vec4 viewPos = modelView * vec4(pos, 1);
vec4 projPos = proj * viewPos;
vec2 ndcPos = projPos.xy / projPos.w;
vec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;
vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);
vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);
vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
ndcPos += length(lxy) * projExtrudeDir;
vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
vec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;
vViewStart = (modelView * vec4(start, 1)).xyz;
vViewEnd = (modelView * vec4(end, 1)).xyz;
vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));
float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
ndcPos.x += xPaddingPixels * pixelToNDC.x;
uv = ndcPos * 0.5 + 0.5;
gl_Position = vec4(ndcPos, 0, 1);
}`),w.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("perScreenPixelRatio",((e,i)=>i.camera.perScreenPixelRatio))),w.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
vec3 origin = mix(start, end, 0.5);
vec3 basis = end - origin;
vec3 posAtOrigin = pos - origin;
float x = dot(normalize(basis), posAtOrigin);
float y = dot(plane.xyz, posAtOrigin);
float dx = max(abs(x) - length(basis), 0.0);
float dy = y;
float dist = length(vec2(dx, dy));
float width = fwidth(y);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}
void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
vec3 dEndStart = vViewEnd - vViewStart;
if (dot(dEndStart, dEndStart) < 1e-5) {
discard;
}
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);
vec4 color = laserlineProfile(distance);
float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));
fragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
}`),r}const p=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),m=(0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),w=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Laserlines.glsl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Laserlines.glsl.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ _),
/* harmony export */   b: () => (/* binding */ A),
/* harmony export */   d: () => (/* binding */ C)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _sphere_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const C=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(6);function A(e){const i=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__.ShaderBuilder;i.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__.ScreenSpacePass),i.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__.Laserline,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("maxPixelDistance",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`),e.spherical){const e=(e,i,t)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("heightManifoldOrigin",((t,r)=>(e(T,t,r),i(U,r),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(U,U,T),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(R,U),R[3]=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(U),R))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("globalOrigin",((e,t)=>i(T,t))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("cosSphericalAngleThreshold",((e,i)=>1-Math.max(2,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(e.heightManifoldTarget)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`float globeDistancePixels(float posInGlobalOriginLength) {
float dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}
float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
vec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);
float cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);
vec3 posInGlobalOrigin = globalOrigin - pos;
float posInGlobalOriginLength = length(posInGlobalOrigin);
float sphericalDistance = globeDistancePixels(posInGlobalOriginLength);
float planarDistance = planeDistancePixels(heightPlane, pos);
return cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;
}`)}else t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
return planeDistancePixels(heightPlane, pos);
}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("maxPixelDistance",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`)),e.intersectsLineEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("perScreenPixelRatio",((e,i)=>i.camera.perScreenPixelRatio))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`)),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
vec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled){t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("heightPlane",((e,i)=>z(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,T),i.camera.viewMatrix))));const i=e.spherical?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`normalize(globalOrigin - pos)`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`heightPlane.xyz`;t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
    {
      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, ${i})));
      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));
      color = max(color, heightManifoldColor * heightManifoldAlpha);
    }
    `)}return e.pointDistanceEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("pointDistanceSphere",((e,i)=>j(e,i)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`{
float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
}`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float4PassUniform("lineVerticalPlane",((e,i)=>y(e,i))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("lineVerticalStart",((e,i)=>O(e,i))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("lineVerticalEnd",((e,i)=>E(e,i)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`{
if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}
}`)),e.intersectsLineEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Float2PassUniform("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("intersectsLineStart",((e,i)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(T,e.lineStartWorld,i.camera.viewMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("intersectsLineEnd",((e,i)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(T,e.lineEndWorld,i.camera.viewMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float3PassUniform("intersectsLineDirection",((e,i)=>((0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(R,e.intersectsLineSegment.vector),R[3]=0,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(T,(0,_vec4_js__WEBPACK_IMPORTED_MODULE_5__.t)(R,R,i.camera.viewMatrix))))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__.FloatPassUniform("intersectsLineRadius",(e=>e.intersectsLineRadius))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`{
if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}
}`)),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);
}`),i}function V(t){return (0,_vec2_js__WEBPACK_IMPORTED_MODULE_1__.s)(I,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(2))))}function j(e,i){return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(H,e.pointDistanceOrigin,i.camera.viewMatrix),H[3]=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(e.pointDistanceOrigin,e.pointDistanceTarget),H}function y(e,i){const t=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e.lineVerticalPlaneSegment,.5,T),n=e.renderCoordsHelper.worldUpAtPosition(t,G),o=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(U,e.lineVerticalPlaneSegment.vector),r=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(R,n,o);return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(r,r),z(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function O(e,i){const t=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(T,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(t,t,i.camera.viewMatrix)}function E(e,i){const t=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(T,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(t,t,i.camera.viewMatrix)}function z(e,i,t){return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(F,e,t),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(R,i),R[3]=0,(0,_vec4_js__WEBPACK_IMPORTED_MODULE_5__.t)(R,R,t),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.fromPositionAndNormal)(F,R,W)}const I=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),T=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),R=(0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),G=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),U=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),F=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),W=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.create)(),H=(0,_sphere_js__WEBPACK_IMPORTED_MODULE_9__.c)(),_=Object.freeze(Object.defineProperty({__proto__:null,build:A,defaultAngleCutoff:C},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlineVisualElement: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js");
/* harmony import */ var _support_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/LaserLineRenderer.js */ "./node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js");
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ "./node_modules/@arcgis/core/chunks/Laserlines.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__.VisualElement{constructor(e){super(e),this._angleCutoff=_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_5__.d,this._style={},this._heightManifoldTarget=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this._heightManifoldEnabled=!1,this._intersectsLine=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){return this._renderer}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.c)(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.copy)(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.copy)(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.origin),target:e.target?(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new _support_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_4__.LaserLineRenderer({renderCoordsHelper:this.view.renderCoordsHelper,contrastControlEnabled:!0,_isDecoration:this.isDecoration}),this._renderer.viewingMode=this.view.state.viewingMode,this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this._renderer))}_syncStyle(){null!=this._renderer&&(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){null!=this._renderer&&this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view._stage&&(this.view._stage.removeRenderPlugin(this._renderer),this._renderer=null)}}const _=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointVisualElement: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/graphics/ElevationContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js");
/* harmony import */ var _support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/engineContent/sdfPrimitives.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/materials/HUDMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class x extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_8__.Object3DVisualElement{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive="square",this._outlineSize=1,this._outlineColor=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e,this._color)||((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e,this._outlineColor)||((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material&&this._material.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.SIZE).data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.SIZE)}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__.requiresHalfTexelOffset)(this._primitive),distanceFieldBoundingBox:v,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/S}createExternalResources(){this._texture=(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__.createTexture)(this._primitive,this._preferredTextureSize),this._material=new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_14__.HUDMaterial(this._materialParameters);const e=this.view._stage;this._texture.load(e.renderView.renderingContext),e.add(this._texture)}destroyExternalResources(){if(this._texture){this.view._stage.remove(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachExternalMaterial(e){this._material&&e(this._material)}get _preferredTextureSize(){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION);return (0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__.projectVectorToVector)(i.data,this.view.renderCoordsHelper.spatialReference,y,this.view.spatialReference),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__.expandWithBuffer)(e,y),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=(0,_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_9__.evaluateElevationAlignmentAtPoint)(e,s,_layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_10__.ElevationContext.fromElevationInfo(this.elevationInfo),r),l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(),e.x,e.y,o),u=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get();(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__.projectVectorToVector)(l,e.spatialReference,u,r.spatialReference);const p=this._geometrySize;return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createPointGeometry)(i,null,u,null,[p,p],[0,0,0,1])}}const S=_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_11__.defaultSymbolSizeRatio,v=[S/2,S/2,1-S/2,1-S/2],y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserLineRenderer: () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/clipRay.js */ "./node_modules/@arcgis/core/geometry/support/clipRay.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LaserlinePathData.js */ "./node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../webgl-engine/materials/internal/MaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js");
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js");
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js");
/* harmony import */ var _webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlineTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js");
/* harmony import */ var _webgl_engine_shaders_LaserlineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let D=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_14__.SyncPrepareRenderPlugin{constructor(e){super(e),this._technique=null,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._viewingMode=_ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Local,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this._passParameters=new _webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__.LaserlinePassParameters,this.produces=new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.LASERLINES,()=>!this.contrastControlEnabled],[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.LASERLINES_CONTRAST_CONTROL,()=>this.contrastControlEnabled]])}initialize(){this._passParameters.renderCoordsHelper=this.renderCoordsHelper}consumes(){return _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_14__.ConsumesDepth}get isDecoration(){return this._isDecoration}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e,this._passParameters.lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e,this._passParameters.intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get viewingMode(){return this._viewingMode}set viewingMode(e){e!==this._viewingMode&&(this._viewingMode=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this._requestRender())}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__.LaserlinePathData(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__.LaserlinePathData(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){(0,_webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__.updateParameters)(this._passParameters,e)&&this._requestRender()}initializeRenderContext(e){this._context=e,this._techniqueRepository=e.techniqueRepository,this._techniqueConfig=new _webgl_engine_shaders_LaserlineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.LaserlineTechniqueConfiguration;const t=new _webgl_engine_shaders_LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LaserlinePathTechniqueConfiguration;t.contrastControlEnabled=this.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(_webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__.LaserlinePathTechnique,t)}uninitializeRenderContext(){this._technique=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.releaseMaybe)(this._technique),this._pathVerticalPlaneData=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._pathVerticalPlaneData),this._pathTechnique=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.releaseMaybe)(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this.contrastControlEnabled,this._techniqueConfig.spherical=this._viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global,this._technique=this._techniqueRepository.releaseAndAcquire(_webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_19__.LaserlineTechnique,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}renderNode(e,t){(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e)}_renderUnified(e,t){const i=e.rctx;this._updatePassParameters(e),i.bindTechnique(t,this._passParameters,e.bindParameters),i.screen.draw()}_renderPath(e){if(null==this._pathVerticalPlaneData||null==this._pathTechnique)return;const t=e.rctx,i=this._pathTechnique;t.bindTechnique(i,{...this._passParameters,origin:this._pathVerticalPlaneData.origin},e.bindParameters),this._pathVerticalPlaneData.draw(e.rctx)}_updatePassParameters(e){if(!this._intersectsLineEnabled)return;const t=e.bindParameters.camera;if(this._intersectsLineInfinite){if((0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.fromRay)((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__.wrap)(this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector),S),S.c0=-Number.MAX_VALUE,!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_9__.intersectClipRay)(t.frustum,S))return;(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.getStart)(S,this._passParameters.lineStartWorld),(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.getEnd)(S,this._passParameters.lineEndWorld)}else (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._passParameters.lineStartWorld,this._passParameters.intersectsLineSegment.origin),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__.g)(this._passParameters.lineEndWorld,this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector)}_requestRender(){this._context&&this._context.requestRender()}get test(){return{passParameters:this._passParameters}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],D.prototype,"contrastControlEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],D.prototype,"_isDecoration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],D.prototype,"renderCoordsHelper",void 0),D=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.support.LaserLineRenderer")],D);const S=(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_8__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePathData: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl-engine/lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_2__.newDoubleArray)(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(this._origin,t[r],t[r+1],t[r+2])}else (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}_ensureVAO(e){return null==this._buffers?null:(null==this._vao&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_5__.VertexArrayObject(e,_webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_7__.attributeLocations,{data:(0,_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__.glLayout)(b)},{data:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createVertex(e,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data?.setData(r),this._dirty=!1}_numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+this._numberOfRenderVertices(t)),0);this._count=s;const i=b.createBuffer(s),o=this._origin;let n=0,u=0;for(const f of r){for(let r=0;r<f.length;r+=3){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(d,f[r],f[r+1],f[r+2]);0===r?u=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,u);const a=this._renderCoordsHelper.worldUpAtPosition(s,_),l=n+2*r,h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(d,s,o);if(r<f.length-3){i.up.setVec(l,a),i.up.setVec(l+3,a),i.up.setVec(l+5,a);for(let e=0;e<6;e++)i.start.setVec(l+e,h);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0){i.up.setVec(l-2,a),i.up.setVec(l-4,a),i.up.setVec(l-5,a);for(let e=-6;e<0;e++)i.end.setVec(l+e,h)}}n+=this._numberOfRenderVertices(f)}return i.buffer}}const _=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),d=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),b=(0,_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__.newLayout)().vec3f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.START).vec3f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.END).vec3f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.UP).vec2f(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.EXTRUDE);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Laserline: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./output/ReadLinearDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js");
/* harmony import */ var _util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/CameraSpace.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js");
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function d(d,i){const s=d.fragment;s.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadLinearDepth),d.include(_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__.CameraSpace),s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("globalAlpha",(o=>o.globalAlpha)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("glowColor",(o=>o.glowColor)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("glowWidth",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("glowFalloff",(o=>o.glowFalloff)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("innerColor",(o=>o.innerColor)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("innerWidth",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("depthMap",((o,e)=>e.linearDepth?.colorTexture)),new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2PassUniform("nearFar",((o,e)=>e.camera.nearFar)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("frameColor",((o,e)=>e.mainColor))),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 blendPremultiplied(vec4 source, vec4 dest) {
float oneMinusSourceAlpha = 1.0 - source.a;
return vec4(
source.rgb + dest.rgb * oneMinusSourceAlpha,
source.a + dest.a * oneMinusSourceAlpha
);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
float depth = linearDepthFromTexture(depthMap, uv, nearFar);
if (-depth == nearFar[0]) {
return false;
}
pos = reconstructPosition(gl_FragCoord.xy, depth);
normal = normalize(cross(dFdx(pos), dFdy(pos)));
float ddepth = fwidth(depth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);
return true;
}`),i.contrastControlEnabled?(s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.FloatPassUniform("globalAlphaContrastBoost",(o=>null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1))),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`)):s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePathTechnique: () => (/* binding */ m),
/* harmony export */   attributeLocations: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/LaserlinePath.glsl.js */ "./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class m extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_2__.Program(e.rctx,m.shader.get().build(this.configuration),h)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.makePipelineState)({blending:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.BlendFactor.ONE_MINUS_SRC_ALPHA),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultColorWriteParams})}}m.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_4__.L,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_LaserlinePath_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./LaserlinePath.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePath.glsl.js"))));const h=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.START,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.END,1],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.UP,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.EXTRUDE,3]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePathTechniqueConfiguration: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechniqueConfiguration{constructor(){super(...arguments),this.contrastControlEnabled=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],e.prototype,"contrastControlEnabled",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlinePassParameters: () => (/* binding */ f),
/* harmony export */   LaserlineTechnique: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ "./node_modules/@arcgis/core/chunks/Laserlines.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class f extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters{constructor(){super(...arguments),this.innerColor=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(1,1,1),this.innerWidth=1,this.glowColor=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(6),this.pointDistanceOrigin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this.pointDistanceTarget=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this.lineVerticalPlaneSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.intersectsLineSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this.intersectsLineRadius=3,this.heightManifoldTarget=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this.lineStartWorld=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),this.lineEndWorld=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)()}}class p extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__.Program(e.rctx,p.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_6__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams})}}p.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__.ReloadableShaderModule(_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_8__.L,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Laserlines_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./Laserlines.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Laserlines.glsl.js"))));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LaserlineTechniqueConfiguration: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LaserlinePathTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends _LaserlinePathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.LaserlinePathTechniqueConfiguration{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.spherical=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"heightManifoldEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"pointDistanceEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"lineVerticalPlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"intersectsLineEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],n.prototype,"spherical",void 0);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2ludGVyYWN0aXZlX3Zpc3VhbEVsZW1lbnRzX0xhc2VybGluZVZpc3VhbEVsLTM1OTQ3Yy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3V3QixjQUFjLFlBQVkscUdBQUMsQ0FBQyxVQUFVLGtHQUFDLElBQUksTUFBTSxvQkFBb0IsR0FBRywwQkFBMEIsK0dBQUMscUJBQXFCLDJDQUFDLHVDQUF1QywrR0FBQyxnREFBZ0QsMkdBQUMsMkRBQTJELDZHQUFDLHNCQUFzQiwyQ0FBQyw4RUFBOEUsMkZBQUMsZ0NBQWdDLDJGQUFDLDhCQUE4QiwyRkFBQyw2QkFBNkIsMkZBQUMsa0tBQWtLLDZGQUFDO0FBQzUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNCQUFzQiwyR0FBQywwRUFBMEUsNkZBQUM7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEtBQUssUUFBUSw4Q0FBQyxLQUFLLDhDQUFDLDBDQUEwQyx1QkFBdUIscUJBQXFCLGVBQWUsR0FBeUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcERuSjtBQUNBO0FBQ0E7QUFDQTtBQUMyc0MsUUFBUSwyREFBQyxJQUFJLGNBQWMsWUFBWSxzR0FBQyxDQUFDLFVBQVUsK0dBQUMsWUFBWSxtR0FBQyxJQUFJLG1CQUFtQiw2RUFBNkUsNEdBQUMscU1BQXFNLDhGQUFDO0FBQ3ZqRDtB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RSxnR0FBQyxnREFBZ0QsdURBQUMsRUFBRSxnR0FBQyxvQ0FBaUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL0xhc2VybGluZVBhdGguZ2xzbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL0xhc2VybGluZXMuZ2xzbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvTGFzZXJsaW5lVmlzdWFsRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvUG9pbnRWaXN1YWxFbGVtZW50LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0xhc2VyTGluZVJlbmRlcmVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0xhc2VybGluZVBhdGhEYXRhLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L0xhc2VybGluZS5nbHNsLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9MYXNlcmxpbmVQYXRoVGVjaG5pcXVlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9MYXNlcmxpbmVQYXRoVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvTGFzZXJsaW5lVGVjaG5pcXVlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9MYXNlcmxpbmVUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dyBhcyBlfWZyb21cIi4vbWF0NC5qc1wiO2ltcG9ydHthIGFzIGl9ZnJvbVwiLi9tYXQ0ZjY0LmpzXCI7aW1wb3J0e3MgYXMgb31mcm9tXCIuL3ZlYzIuanNcIjtpbXBvcnR7YSBhcyByfWZyb21cIi4vdmVjMmY2NC5qc1wiO2ltcG9ydHtMYXNlcmxpbmUgYXMgYX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L0xhc2VybGluZS5nbHNsLmpzXCI7aW1wb3J0e0Zsb2F0MlBhc3NVbmlmb3JtIGFzIHR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDJQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIHN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgbn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7TWF0cml4NFBhc3NVbmlmb3JtIGFzIGR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9NYXRyaXg0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBsfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvU2hhZGVyQnVpbGRlci5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgY31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2Z1bmN0aW9uIHYoaSl7Y29uc3Qgcj1uZXcgbDtyLmluY2x1ZGUoYSxpKTtjb25zdHt2ZXJ0ZXg6dixmcmFnbWVudDp3fT1yO3JldHVybiB2LnVuaWZvcm1zLmFkZChuZXcgZChcIm1vZGVsVmlld1wiLCgoaSxvKT0+ZShtLG8uY2FtZXJhLnZpZXdNYXRyaXgsaS5vcmlnaW4pKSksbmV3IGQoXCJwcm9qXCIsKChlLGkpPT5pLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KSksbmV3IHMoXCJnbG93V2lkdGhcIiwoKGUsaSk9PmUuZ2xvd1dpZHRoKmkuY2FtZXJhLnBpeGVsUmF0aW8pKSxuZXcgdChcInBpeGVsVG9ORENcIiwoKGUsaSk9Pm8ocCwyL2kuY2FtZXJhLmZ1bGxWaWV3cG9ydFsyXSwyL2kuY2FtZXJhLmZ1bGxWaWV3cG9ydFszXSkpKSksci5hdHRyaWJ1dGVzLmFkZChjLlNUQVJULFwidmVjM1wiKSxyLmF0dHJpYnV0ZXMuYWRkKGMuRU5ELFwidmVjM1wiKSxyLmF0dHJpYnV0ZXMuYWRkKGMuVVAsXCJ2ZWMzXCIpLHIuYXR0cmlidXRlcy5hZGQoYy5FWFRSVURFLFwidmVjMlwiKSxyLnZhcnlpbmdzLmFkZChcInV2XCIsXCJ2ZWMyXCIpLHIudmFyeWluZ3MuYWRkKFwidlZpZXdTdGFydFwiLFwidmVjM1wiKSxyLnZhcnlpbmdzLmFkZChcInZWaWV3RW5kXCIsXCJ2ZWMzXCIpLHIudmFyeWluZ3MuYWRkKFwidlZpZXdQbGFuZVwiLFwidmVjNFwiKSx2LmNvZGUuYWRkKG5gdm9pZCBtYWluKCkge1xudmVjMyBwb3MgPSBtaXgoc3RhcnQsIGVuZCwgZXh0cnVkZS54KTtcbnZlYzQgdmlld1BvcyA9IG1vZGVsVmlldyAqIHZlYzQocG9zLCAxKTtcbnZlYzQgcHJvalBvcyA9IHByb2ogKiB2aWV3UG9zO1xudmVjMiBuZGNQb3MgPSBwcm9qUG9zLnh5IC8gcHJvalBvcy53O1xudmVjMyB2aWV3VXAgPSAobW9kZWxWaWV3ICogdmVjNChleHRydWRlLnkgKiB1cCwgMCkpLnh5ejtcbnZlYzQgcHJvalBvc1VwID0gcHJvaiAqIHZlYzQodmlld1Bvcy54eXogKyB2aWV3VXAsIDEpO1xudmVjMiBwcm9qRXh0cnVkZURpciA9IG5vcm1hbGl6ZShwcm9qUG9zVXAueHkgLyBwcm9qUG9zVXAudyAtIG5kY1Bvcyk7XG52ZWMyIGx4eSA9IGFicyhzaWduKHByb2pFeHRydWRlRGlyKSAtIG5kY1Bvcyk7XG5uZGNQb3MgKz0gbGVuZ3RoKGx4eSkgKiBwcm9qRXh0cnVkZURpcjtcbnZlYzMgd29ybGRQbGFuZU5vcm1hbCA9IG5vcm1hbGl6ZShjcm9zcyh1cCwgbm9ybWFsaXplKGVuZCAtIHN0YXJ0KSkpO1xudmVjMyB2aWV3UGxhbmVOb3JtYWwgPSAobW9kZWxWaWV3ICogdmVjNCh3b3JsZFBsYW5lTm9ybWFsLCAwKSkueHl6O1xudlZpZXdTdGFydCA9IChtb2RlbFZpZXcgKiB2ZWM0KHN0YXJ0LCAxKSkueHl6O1xudlZpZXdFbmQgPSAobW9kZWxWaWV3ICogdmVjNChlbmQsIDEpKS54eXo7XG52Vmlld1BsYW5lID0gdmVjNCh2aWV3UGxhbmVOb3JtYWwsIC1kb3Qodmlld1BsYW5lTm9ybWFsLCB2Vmlld1N0YXJ0KSk7XG5mbG9hdCB4UGFkZGluZ1BpeGVscyA9IHNpZ24oZG90KHZpZXdQbGFuZU5vcm1hbCwgdmlld1Bvcy54eXopKSAqIChleHRydWRlLnggKiAyLjAgLSAxLjApICogZ2xvd1dpZHRoO1xubmRjUG9zLnggKz0geFBhZGRpbmdQaXhlbHMgKiBwaXhlbFRvTkRDLng7XG51diA9IG5kY1BvcyAqIDAuNSArIDAuNTtcbmdsX1Bvc2l0aW9uID0gdmVjNChuZGNQb3MsIDAsIDEpO1xufWApLHcudW5pZm9ybXMuYWRkKG5ldyBzKFwicGVyU2NyZWVuUGl4ZWxSYXRpb1wiLCgoZSxpKT0+aS5jYW1lcmEucGVyU2NyZWVuUGl4ZWxSYXRpbykpKSx3LmNvZGUuYWRkKG5gZmxvYXQgcGxhbmVEaXN0YW5jZVBpeGVscyh2ZWM0IHBsYW5lLCB2ZWMzIHBvcywgdmVjMyBzdGFydCwgdmVjMyBlbmQpIHtcbnZlYzMgb3JpZ2luID0gbWl4KHN0YXJ0LCBlbmQsIDAuNSk7XG52ZWMzIGJhc2lzID0gZW5kIC0gb3JpZ2luO1xudmVjMyBwb3NBdE9yaWdpbiA9IHBvcyAtIG9yaWdpbjtcbmZsb2F0IHggPSBkb3Qobm9ybWFsaXplKGJhc2lzKSwgcG9zQXRPcmlnaW4pO1xuZmxvYXQgeSA9IGRvdChwbGFuZS54eXosIHBvc0F0T3JpZ2luKTtcbmZsb2F0IGR4ID0gbWF4KGFicyh4KSAtIGxlbmd0aChiYXNpcyksIDAuMCk7XG5mbG9hdCBkeSA9IHk7XG5mbG9hdCBkaXN0ID0gbGVuZ3RoKHZlYzIoZHgsIGR5KSk7XG5mbG9hdCB3aWR0aCA9IGZ3aWR0aCh5KTtcbmZsb2F0IG1heFBpeGVsRGlzdGFuY2UgPSBsZW5ndGgocG9zKSAqIHBlclNjcmVlblBpeGVsUmF0aW8gKiAyLjA7XG5mbG9hdCBwaXhlbERpc3QgPSBkaXN0IC8gbWluKHdpZHRoLCBtYXhQaXhlbERpc3RhbmNlKTtcbnJldHVybiBhYnMocGl4ZWxEaXN0KTtcbn1cbnZvaWQgbWFpbigpIHtcbnZlYzMgcG9zO1xudmVjMyBub3JtYWw7XG5mbG9hdCBkZXB0aERpc2NvbnRpbnVpdHlBbHBoYTtcbnZlYzMgZEVuZFN0YXJ0ID0gdlZpZXdFbmQgLSB2Vmlld1N0YXJ0O1xuaWYgKGRvdChkRW5kU3RhcnQsIGRFbmRTdGFydCkgPCAxZS01KSB7XG5kaXNjYXJkO1xufVxuaWYgKCFsYXNlcmxpbmVSZWNvbnN0cnVjdEZyb21EZXB0aChwb3MsIG5vcm1hbCwgZGVwdGhEaXNjb250aW51aXR5QWxwaGEpKSB7XG5kaXNjYXJkO1xufVxuZmxvYXQgZGlzdGFuY2UgPSBwbGFuZURpc3RhbmNlUGl4ZWxzKHZWaWV3UGxhbmUsIHBvcywgdlZpZXdTdGFydCwgdlZpZXdFbmQpO1xudmVjNCBjb2xvciA9IGxhc2VybGluZVByb2ZpbGUoZGlzdGFuY2UpO1xuZmxvYXQgYWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKDAuOTk1LCAwLjk5OSwgYWJzKGRvdChub3JtYWwsIHZWaWV3UGxhbmUueHl6KSkpO1xuZnJhZ0NvbG9yID0gbGFzZXJsaW5lT3V0cHV0KGNvbG9yICogYWxwaGEgKiBkZXB0aERpc2NvbnRpbnVpdHlBbHBoYSk7XG59YCkscn1jb25zdCBwPXIoKSxtPWkoKSx3PU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxidWlsZDp2fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e3cgYXMgTCx2IGFzIGJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkZWcycmFkIGFzIGV9ZnJvbVwiLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7cyBhcyBpfWZyb21cIi4vdmVjMi5qc1wiO2ltcG9ydHthIGFzIHR9ZnJvbVwiLi92ZWMyZjY0LmpzXCI7aW1wb3J0e2YgYXMgbixuIGFzIGEsbCBhcyBvLG8gYXMgcixlIGFzIGwsYyBhcyBzLGIgYXMgYyxnIGFzIGR9ZnJvbVwiLi92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgcH1mcm9tXCIuL3ZlYzNmNjQuanNcIjtpbXBvcnR7dCBhcyBmfWZyb21cIi4vdmVjNC5qc1wiO2ltcG9ydHtjIGFzIGh9ZnJvbVwiLi92ZWM0ZjY0LmpzXCI7aW1wb3J0e3BvaW50QXQgYXMgZ31mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBtLGZyb21Qb3NpdGlvbkFuZE5vcm1hbCBhcyB1fWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvcGxhbmUuanNcIjtpbXBvcnR7YyBhcyB3fWZyb21cIi4vc3BoZXJlLmpzXCI7aW1wb3J0e0xhc2VybGluZSBhcyB4fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvTGFzZXJsaW5lLmdsc2wuanNcIjtpbXBvcnR7U2NyZWVuU3BhY2VQYXNzIGFzIFB9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TY3JlZW5TcGFjZVBhc3MuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdDJQYXNzVW5pZm9ybSBhcyB2fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQyUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXQzUGFzc1VuaWZvcm0gYXMgYn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0M1Bhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0NFBhc3NVbmlmb3JtIGFzIER9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIE19ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgU31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBMfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvU2hhZGVyQnVpbGRlci5qc1wiO2NvbnN0IEM9ZSg2KTtmdW5jdGlvbiBBKGUpe2NvbnN0IGk9bmV3IEw7aS5pbmNsdWRlKFApLGkuaW5jbHVkZSh4LGUpO2NvbnN0IHQ9aS5mcmFnbWVudDtpZihlLmxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZHx8ZS5oZWlnaHRNYW5pZm9sZEVuYWJsZWQpaWYodC51bmlmb3Jtcy5hZGQobmV3IE0oXCJtYXhQaXhlbERpc3RhbmNlXCIsKChpLHQpPT5lLmhlaWdodE1hbmlmb2xkRW5hYmxlZD8yKnQuY2FtZXJhLmNvbXB1dGVTY3JlZW5QaXhlbFNpemVBdChpLmhlaWdodE1hbmlmb2xkVGFyZ2V0KToyKnQuY2FtZXJhLmNvbXB1dGVTY3JlZW5QaXhlbFNpemVBdChpLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudC5vcmlnaW4pKSkpLHQuY29kZS5hZGQoU2BmbG9hdCBwbGFuZURpc3RhbmNlUGl4ZWxzKHZlYzQgcGxhbmUsIHZlYzMgcG9zKSB7XG5mbG9hdCBkaXN0ID0gZG90KHBsYW5lLnh5eiwgcG9zKSArIHBsYW5lLnc7XG5mbG9hdCB3aWR0aCA9IGZ3aWR0aChkaXN0KTtcbmRpc3QgLz0gbWluKHdpZHRoLCBtYXhQaXhlbERpc3RhbmNlKTtcbnJldHVybiBhYnMoZGlzdCk7XG59YCksZS5zcGhlcmljYWwpe2NvbnN0IGU9KGUsaSx0KT0+bChlLGkuaGVpZ2h0TWFuaWZvbGRUYXJnZXQsdC5jYW1lcmEudmlld01hdHJpeCksaT0oZSxpKT0+bChlLFswLDAsMF0saS5jYW1lcmEudmlld01hdHJpeCk7dC51bmlmb3Jtcy5hZGQobmV3IEQoXCJoZWlnaHRNYW5pZm9sZE9yaWdpblwiLCgodCxyKT0+KGUoVCx0LHIpLGkoVSxyKSxuKFUsVSxUKSxhKFIsVSksUlszXT1vKFUpLFIpKSksbmV3IGIoXCJnbG9iYWxPcmlnaW5cIiwoKGUsdCk9PmkoVCx0KSkpLG5ldyBNKFwiY29zU3BoZXJpY2FsQW5nbGVUaHJlc2hvbGRcIiwoKGUsaSk9PjEtTWF0aC5tYXgoMixyKGkuY2FtZXJhLmV5ZSxlLmhlaWdodE1hbmlmb2xkVGFyZ2V0KSppLmNhbWVyYS5wZXJSZW5kZXJQaXhlbFJhdGlvKS9vKGUuaGVpZ2h0TWFuaWZvbGRUYXJnZXQpKSkpLHQuY29kZS5hZGQoU2BmbG9hdCBnbG9iZURpc3RhbmNlUGl4ZWxzKGZsb2F0IHBvc0luR2xvYmFsT3JpZ2luTGVuZ3RoKSB7XG5mbG9hdCBkaXN0ID0gYWJzKHBvc0luR2xvYmFsT3JpZ2luTGVuZ3RoIC0gaGVpZ2h0TWFuaWZvbGRPcmlnaW4udyk7XG5mbG9hdCB3aWR0aCA9IGZ3aWR0aChkaXN0KTtcbmRpc3QgLz0gbWluKHdpZHRoLCBtYXhQaXhlbERpc3RhbmNlKTtcbnJldHVybiBhYnMoZGlzdCk7XG59XG5mbG9hdCBoZWlnaHRNYW5pZm9sZERpc3RhbmNlUGl4ZWxzKHZlYzQgaGVpZ2h0UGxhbmUsIHZlYzMgcG9zKSB7XG52ZWMzIHBvc0luR2xvYmFsT3JpZ2luTm9ybSA9IG5vcm1hbGl6ZShnbG9iYWxPcmlnaW4gLSBwb3MpO1xuZmxvYXQgY29zQW5nbGUgPSBkb3QocG9zSW5HbG9iYWxPcmlnaW5Ob3JtLCBoZWlnaHRNYW5pZm9sZE9yaWdpbi54eXopO1xudmVjMyBwb3NJbkdsb2JhbE9yaWdpbiA9IGdsb2JhbE9yaWdpbiAtIHBvcztcbmZsb2F0IHBvc0luR2xvYmFsT3JpZ2luTGVuZ3RoID0gbGVuZ3RoKHBvc0luR2xvYmFsT3JpZ2luKTtcbmZsb2F0IHNwaGVyaWNhbERpc3RhbmNlID0gZ2xvYmVEaXN0YW5jZVBpeGVscyhwb3NJbkdsb2JhbE9yaWdpbkxlbmd0aCk7XG5mbG9hdCBwbGFuYXJEaXN0YW5jZSA9IHBsYW5lRGlzdGFuY2VQaXhlbHMoaGVpZ2h0UGxhbmUsIHBvcyk7XG5yZXR1cm4gY29zQW5nbGUgPCBjb3NTcGhlcmljYWxBbmdsZVRocmVzaG9sZCA/IHNwaGVyaWNhbERpc3RhbmNlIDogcGxhbmFyRGlzdGFuY2U7XG59YCl9ZWxzZSB0LmNvZGUuYWRkKFNgZmxvYXQgaGVpZ2h0TWFuaWZvbGREaXN0YW5jZVBpeGVscyh2ZWM0IGhlaWdodFBsYW5lLCB2ZWMzIHBvcykge1xucmV0dXJuIHBsYW5lRGlzdGFuY2VQaXhlbHMoaGVpZ2h0UGxhbmUsIHBvcyk7XG59YCk7aWYoZS5wb2ludERpc3RhbmNlRW5hYmxlZCYmKHQudW5pZm9ybXMuYWRkKG5ldyBNKFwibWF4UGl4ZWxEaXN0YW5jZVwiLCgoZSxpKT0+MippLmNhbWVyYS5jb21wdXRlU2NyZWVuUGl4ZWxTaXplQXQoZS5wb2ludERpc3RhbmNlVGFyZ2V0KSkpKSx0LmNvZGUuYWRkKFNgZmxvYXQgc3BoZXJlRGlzdGFuY2VQaXhlbHModmVjNCBzcGhlcmUsIHZlYzMgcG9zKSB7XG5mbG9hdCBkaXN0ID0gZGlzdGFuY2Uoc3BoZXJlLnh5eiwgcG9zKSAtIHNwaGVyZS53O1xuZmxvYXQgd2lkdGggPSBmd2lkdGgoZGlzdCk7XG5kaXN0IC89IG1pbih3aWR0aCwgbWF4UGl4ZWxEaXN0YW5jZSk7XG5yZXR1cm4gYWJzKGRpc3QpO1xufWApKSxlLmludGVyc2VjdHNMaW5lRW5hYmxlZCYmKHQudW5pZm9ybXMuYWRkKG5ldyBNKFwicGVyU2NyZWVuUGl4ZWxSYXRpb1wiLCgoZSxpKT0+aS5jYW1lcmEucGVyU2NyZWVuUGl4ZWxSYXRpbykpKSx0LmNvZGUuYWRkKFNgZmxvYXQgbGluZURpc3RhbmNlUGl4ZWxzKHZlYzMgc3RhcnQsIHZlYzMgZGlyLCBmbG9hdCByYWRpdXMsIHZlYzMgcG9zKSB7XG5mbG9hdCBkaXN0ID0gbGVuZ3RoKGNyb3NzKGRpciwgcG9zIC0gc3RhcnQpKSAvIChsZW5ndGgocG9zKSAqIHBlclNjcmVlblBpeGVsUmF0aW8pO1xucmV0dXJuIGFicyhkaXN0KSAtIHJhZGl1cztcbn1gKSksKGUubGluZVZlcnRpY2FsUGxhbmVFbmFibGVkfHxlLmludGVyc2VjdHNMaW5lRW5hYmxlZCkmJnQuY29kZS5hZGQoU2Bib29sIHBvaW50SXNXaXRoaW5MaW5lKHZlYzMgcG9zLCB2ZWMzIHN0YXJ0LCB2ZWMzIGVuZCkge1xudmVjMyBkaXIgPSBlbmQgLSBzdGFydDtcbmZsb2F0IHQyID0gZG90KGRpciwgcG9zIC0gc3RhcnQpO1xuZmxvYXQgbDIgPSBkb3QoZGlyLCBkaXIpO1xucmV0dXJuIHQyID49IDAuMCAmJiB0MiA8PSBsMjtcbn1gKSx0LmNvZGUuYWRkKFNgdm9pZCBtYWluKCkge1xudmVjMyBwb3M7XG52ZWMzIG5vcm1hbDtcbmZsb2F0IGRlcHRoRGlzY29udGludWl0eUFscGhhO1xuaWYgKCFsYXNlcmxpbmVSZWNvbnN0cnVjdEZyb21EZXB0aChwb3MsIG5vcm1hbCwgZGVwdGhEaXNjb250aW51aXR5QWxwaGEpKSB7XG5kaXNjYXJkO1xufVxudmVjNCBjb2xvciA9IHZlYzQoMCwgMCwgMCwgMCk7YCksZS5oZWlnaHRNYW5pZm9sZEVuYWJsZWQpe3QudW5pZm9ybXMuYWRkKG5ldyB2KFwiYW5nbGVDdXRvZmZcIiwoZT0+VihlKSkpLG5ldyBEKFwiaGVpZ2h0UGxhbmVcIiwoKGUsaSk9PnooZS5oZWlnaHRNYW5pZm9sZFRhcmdldCxlLnJlbmRlckNvb3Jkc0hlbHBlci53b3JsZFVwQXRQb3NpdGlvbihlLmhlaWdodE1hbmlmb2xkVGFyZ2V0LFQpLGkuY2FtZXJhLnZpZXdNYXRyaXgpKSkpO2NvbnN0IGk9ZS5zcGhlcmljYWw/U2Bub3JtYWxpemUoZ2xvYmFsT3JpZ2luIC0gcG9zKWA6U2BoZWlnaHRQbGFuZS54eXpgO3QuY29kZS5hZGQoU2BcbiAgICB7XG4gICAgICBmbG9hdCBoZWlnaHRNYW5pZm9sZEFscGhhID0gMS4wIC0gc21vb3Roc3RlcChhbmdsZUN1dG9mZi54LCBhbmdsZUN1dG9mZi55LCBhYnMoZG90KG5vcm1hbCwgJHtpfSkpKTtcbiAgICAgIHZlYzQgaGVpZ2h0TWFuaWZvbGRDb2xvciA9IGxhc2VybGluZVByb2ZpbGUoaGVpZ2h0TWFuaWZvbGREaXN0YW5jZVBpeGVscyhoZWlnaHRQbGFuZSwgcG9zKSk7XG4gICAgICBjb2xvciA9IG1heChjb2xvciwgaGVpZ2h0TWFuaWZvbGRDb2xvciAqIGhlaWdodE1hbmlmb2xkQWxwaGEpO1xuICAgIH1cbiAgICBgKX1yZXR1cm4gZS5wb2ludERpc3RhbmNlRW5hYmxlZCYmKHQudW5pZm9ybXMuYWRkKG5ldyB2KFwiYW5nbGVDdXRvZmZcIiwoZT0+VihlKSkpLG5ldyBEKFwicG9pbnREaXN0YW5jZVNwaGVyZVwiLCgoZSxpKT0+aihlLGkpKSkpLHQuY29kZS5hZGQoU2B7XG5mbG9hdCBwb2ludERpc3RhbmNlU3BoZXJlRGlzdGFuY2UgPSBzcGhlcmVEaXN0YW5jZVBpeGVscyhwb2ludERpc3RhbmNlU3BoZXJlLCBwb3MpO1xudmVjNCBwb2ludERpc3RhbmNlU3BoZXJlQ29sb3IgPSBsYXNlcmxpbmVQcm9maWxlKHBvaW50RGlzdGFuY2VTcGhlcmVEaXN0YW5jZSk7XG5mbG9hdCBwb2ludERpc3RhbmNlU3BoZXJlQWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKGFuZ2xlQ3V0b2ZmLngsIGFuZ2xlQ3V0b2ZmLnksIGFicyhkb3Qobm9ybWFsLCBub3JtYWxpemUocG9zIC0gcG9pbnREaXN0YW5jZVNwaGVyZS54eXopKSkpO1xuY29sb3IgPSBtYXgoY29sb3IsIHBvaW50RGlzdGFuY2VTcGhlcmVDb2xvciAqIHBvaW50RGlzdGFuY2VTcGhlcmVBbHBoYSk7XG59YCkpLGUubGluZVZlcnRpY2FsUGxhbmVFbmFibGVkJiYodC51bmlmb3Jtcy5hZGQobmV3IHYoXCJhbmdsZUN1dG9mZlwiLChlPT5WKGUpKSksbmV3IEQoXCJsaW5lVmVydGljYWxQbGFuZVwiLCgoZSxpKT0+eShlLGkpKSksbmV3IGIoXCJsaW5lVmVydGljYWxTdGFydFwiLCgoZSxpKT0+TyhlLGkpKSksbmV3IGIoXCJsaW5lVmVydGljYWxFbmRcIiwoKGUsaSk9PkUoZSxpKSkpKSx0LmNvZGUuYWRkKFNge1xuaWYgKHBvaW50SXNXaXRoaW5MaW5lKHBvcywgbGluZVZlcnRpY2FsU3RhcnQsIGxpbmVWZXJ0aWNhbEVuZCkpIHtcbmZsb2F0IGxpbmVWZXJ0aWNhbERpc3RhbmNlID0gcGxhbmVEaXN0YW5jZVBpeGVscyhsaW5lVmVydGljYWxQbGFuZSwgcG9zKTtcbnZlYzQgbGluZVZlcnRpY2FsQ29sb3IgPSBsYXNlcmxpbmVQcm9maWxlKGxpbmVWZXJ0aWNhbERpc3RhbmNlKTtcbmZsb2F0IGxpbmVWZXJ0aWNhbEFscGhhID0gMS4wIC0gc21vb3Roc3RlcChhbmdsZUN1dG9mZi54LCBhbmdsZUN1dG9mZi55LCBhYnMoZG90KG5vcm1hbCwgbGluZVZlcnRpY2FsUGxhbmUueHl6KSkpO1xuY29sb3IgPSBtYXgoY29sb3IsIGxpbmVWZXJ0aWNhbENvbG9yICogbGluZVZlcnRpY2FsQWxwaGEpO1xufVxufWApKSxlLmludGVyc2VjdHNMaW5lRW5hYmxlZCYmKHQudW5pZm9ybXMuYWRkKG5ldyB2KFwiYW5nbGVDdXRvZmZcIiwoZT0+VihlKSkpLG5ldyBiKFwiaW50ZXJzZWN0c0xpbmVTdGFydFwiLCgoZSxpKT0+bChULGUubGluZVN0YXJ0V29ybGQsaS5jYW1lcmEudmlld01hdHJpeCkpKSxuZXcgYihcImludGVyc2VjdHNMaW5lRW5kXCIsKChlLGkpPT5sKFQsZS5saW5lRW5kV29ybGQsaS5jYW1lcmEudmlld01hdHJpeCkpKSxuZXcgYihcImludGVyc2VjdHNMaW5lRGlyZWN0aW9uXCIsKChlLGkpPT4ocyhSLGUuaW50ZXJzZWN0c0xpbmVTZWdtZW50LnZlY3RvciksUlszXT0wLGEoVCxmKFIsUixpLmNhbWVyYS52aWV3TWF0cml4KSkpKSksbmV3IE0oXCJpbnRlcnNlY3RzTGluZVJhZGl1c1wiLChlPT5lLmludGVyc2VjdHNMaW5lUmFkaXVzKSkpLHQuY29kZS5hZGQoU2B7XG5pZiAocG9pbnRJc1dpdGhpbkxpbmUocG9zLCBpbnRlcnNlY3RzTGluZVN0YXJ0LCBpbnRlcnNlY3RzTGluZUVuZCkpIHtcbmZsb2F0IGludGVyc2VjdHNMaW5lRGlzdGFuY2UgPSBsaW5lRGlzdGFuY2VQaXhlbHMoaW50ZXJzZWN0c0xpbmVTdGFydCwgaW50ZXJzZWN0c0xpbmVEaXJlY3Rpb24sIGludGVyc2VjdHNMaW5lUmFkaXVzLCBwb3MpO1xudmVjNCBpbnRlcnNlY3RzTGluZUNvbG9yID0gbGFzZXJsaW5lUHJvZmlsZShpbnRlcnNlY3RzTGluZURpc3RhbmNlKTtcbmZsb2F0IGludGVyc2VjdHNMaW5lQWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKGFuZ2xlQ3V0b2ZmLngsIGFuZ2xlQ3V0b2ZmLnksIDEuMCAtIGFicyhkb3Qobm9ybWFsLCBpbnRlcnNlY3RzTGluZURpcmVjdGlvbikpKTtcbmNvbG9yID0gbWF4KGNvbG9yLCBpbnRlcnNlY3RzTGluZUNvbG9yICogaW50ZXJzZWN0c0xpbmVBbHBoYSk7XG59XG59YCkpLHQuY29kZS5hZGQoU2BmcmFnQ29sb3IgPSBsYXNlcmxpbmVPdXRwdXQoY29sb3IgKiBkZXB0aERpc2NvbnRpbnVpdHlBbHBoYSk7XG59YCksaX1mdW5jdGlvbiBWKHQpe3JldHVybiBpKEksTWF0aC5jb3ModC5hbmdsZUN1dG9mZiksTWF0aC5jb3MoTWF0aC5tYXgoMCx0LmFuZ2xlQ3V0b2ZmLWUoMikpKSl9ZnVuY3Rpb24gaihlLGkpe3JldHVybiBsKEgsZS5wb2ludERpc3RhbmNlT3JpZ2luLGkuY2FtZXJhLnZpZXdNYXRyaXgpLEhbM109cihlLnBvaW50RGlzdGFuY2VPcmlnaW4sZS5wb2ludERpc3RhbmNlVGFyZ2V0KSxIfWZ1bmN0aW9uIHkoZSxpKXtjb25zdCB0PWcoZS5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQsLjUsVCksbj1lLnJlbmRlckNvb3Jkc0hlbHBlci53b3JsZFVwQXRQb3NpdGlvbih0LEcpLG89YShVLGUubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50LnZlY3Rvcikscj1jKFIsbixvKTtyZXR1cm4gYShyLHIpLHooZS5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQub3JpZ2luLHIsaS5jYW1lcmEudmlld01hdHJpeCl9ZnVuY3Rpb24gTyhlLGkpe2NvbnN0IHQ9cyhULGUubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50Lm9yaWdpbik7cmV0dXJuIGUucmVuZGVyQ29vcmRzSGVscGVyLnNldEFsdGl0dWRlKHQsMCksbCh0LHQsaS5jYW1lcmEudmlld01hdHJpeCl9ZnVuY3Rpb24gRShlLGkpe2NvbnN0IHQ9ZChULGUubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50Lm9yaWdpbixlLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudC52ZWN0b3IpO3JldHVybiBlLnJlbmRlckNvb3Jkc0hlbHBlci5zZXRBbHRpdHVkZSh0LDApLGwodCx0LGkuY2FtZXJhLnZpZXdNYXRyaXgpfWZ1bmN0aW9uIHooZSxpLHQpe3JldHVybiBsKEYsZSx0KSxzKFIsaSksUlszXT0wLGYoUixSLHQpLHUoRixSLFcpfWNvbnN0IEk9dCgpLFQ9cCgpLFI9aCgpLEc9cCgpLFU9cCgpLEY9cCgpLFc9bSgpLEg9dygpLF89T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGJ1aWxkOkEsZGVmYXVsdEFuZ2xlQ3V0b2ZmOkN9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7XyBhcyBMLEEgYXMgYixDIGFzIGR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyB0LGcgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbixmcm9tVmFsdWVzIGFzIHMsY29weSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbGluZVNlZ21lbnQuanNcIjtpbXBvcnR7VmlzdWFsRWxlbWVudCBhcyBsfWZyb21cIi4vVmlzdWFsRWxlbWVudC5qc1wiO2ltcG9ydHtMYXNlckxpbmVSZW5kZXJlciBhcyBofWZyb21cIi4uLy4uL3N1cHBvcnQvTGFzZXJMaW5lUmVuZGVyZXIuanNcIjtpbXBvcnR7ZCBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9MYXNlcmxpbmVzLmdsc2wuanNcIjtjbGFzcyBjIGV4dGVuZHMgbHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9hbmdsZUN1dG9mZj1hLHRoaXMuX3N0eWxlPXt9LHRoaXMuX2hlaWdodE1hbmlmb2xkVGFyZ2V0PXQoKSx0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9ITEsdGhpcy5faW50ZXJzZWN0c0xpbmU9bigpLHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZD0hMSx0aGlzLl9pbnRlcnNlY3RzTGluZUluZmluaXRlPSExLHRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudD1udWxsLHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lQnVmZmVycz1udWxsLHRoaXMuX3BvaW50RGlzdGFuY2VMaW5lPW51bGwsdGhpcy5hcHBseVByb3BlcnRpZXMoZSl9Z2V0IHRlc3REYXRhKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyfWNyZWF0ZVJlc291cmNlcygpe3RoaXMuX2Vuc3VyZVJlbmRlcmVyKCl9ZGVzdHJveVJlc291cmNlcygpe3RoaXMuX2Rpc3Bvc2VSZW5kZXJlcigpfXVwZGF0ZVZpc2liaWxpdHkoKXt0aGlzLl9zeW5jUmVuZGVyZXIoKSx0aGlzLl9zeW5jSGVpZ2h0TWFuaWZvbGQoKSx0aGlzLl9zeW5jSW50ZXJzZWN0c0xpbmUoKSx0aGlzLl9zeW5jUGF0aFZlcnRpY2FsUGxhbmUoKSx0aGlzLl9zeW5jTGluZVZlcnRpY2FsUGxhbmUoKSx0aGlzLl9zeW5jUG9pbnREaXN0YW5jZSgpfWdldCBhbmdsZUN1dG9mZigpe3JldHVybiB0aGlzLl9hbmdsZUN1dG9mZn1zZXQgYW5nbGVDdXRvZmYoZSl7dGhpcy5fYW5nbGVDdXRvZmYhPT1lJiYodGhpcy5fYW5nbGVDdXRvZmY9ZSx0aGlzLl9zeW5jQW5nbGVDdXRvZmYoKSl9Z2V0IHN0eWxlKCl7cmV0dXJuIHRoaXMuX3N0eWxlfXNldCBzdHlsZShlKXt0aGlzLl9zdHlsZT1lLHRoaXMuX3N5bmNTdHlsZSgpfWdldCBoZWlnaHRNYW5pZm9sZFRhcmdldCgpe3JldHVybiB0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ/dGhpcy5faGVpZ2h0TWFuaWZvbGRUYXJnZXQ6bnVsbH1zZXQgaGVpZ2h0TWFuaWZvbGRUYXJnZXQodCl7bnVsbCE9dD8oZSh0aGlzLl9oZWlnaHRNYW5pZm9sZFRhcmdldCx0KSx0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9ITApOnRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZD0hMSx0aGlzLl9zeW5jUmVuZGVyZXIoKSx0aGlzLl9zeW5jSGVpZ2h0TWFuaWZvbGQoKX1zZXQgaW50ZXJzZWN0c1dvcmxkVXBBdExvY2F0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnNlY3RzTGluZT1udWxsKTtjb25zdCB0PXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIud29ybGRVcEF0UG9zaXRpb24oZSxfKTt0aGlzLmludGVyc2VjdHNMaW5lPXMoZSx0KSx0aGlzLmludGVyc2VjdHNMaW5lSW5maW5pdGU9ITB9Z2V0IGludGVyc2VjdHNMaW5lKCl7cmV0dXJuIHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZD90aGlzLl9pbnRlcnNlY3RzTGluZTpudWxsfXNldCBpbnRlcnNlY3RzTGluZShlKXtudWxsIT1lPyhyKGUsdGhpcy5faW50ZXJzZWN0c0xpbmUpLHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZD0hMCk6dGhpcy5faW50ZXJzZWN0c0xpbmVFbmFibGVkPSExLHRoaXMuX3N5bmNJbnRlcnNlY3RzTGluZSgpLHRoaXMuX3N5bmNSZW5kZXJlcigpfWdldCBpbnRlcnNlY3RzTGluZUluZmluaXRlKCl7cmV0dXJuIHRoaXMuX2ludGVyc2VjdHNMaW5lSW5maW5pdGV9c2V0IGludGVyc2VjdHNMaW5lSW5maW5pdGUoZSl7dGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZT1lLHRoaXMuX3N5bmNJbnRlcnNlY3RzTGluZUluZmluaXRlKCl9Z2V0IGxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudCgpe3JldHVybiB0aGlzLl9saW5lVmVydGljYWxQbGFuZVNlZ21lbnR9c2V0IGxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudChlKXt0aGlzLl9saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9bnVsbCE9ZT9yKGUpOm51bGwsdGhpcy5fc3luY0xpbmVWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY1JlbmRlcmVyKCl9Z2V0IHBhdGhWZXJ0aWNhbFBsYW5lKCl7cmV0dXJuIHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lQnVmZmVyc31zZXQgcGF0aFZlcnRpY2FsUGxhbmUoZSl7dGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzPWUsdGhpcy5fc3luY1BhdGhWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY0xpbmVWZXJ0aWNhbFBsYW5lKCksdGhpcy5fc3luY1BvaW50RGlzdGFuY2UoKSx0aGlzLl9zeW5jUmVuZGVyZXIoKX1nZXQgcG9pbnREaXN0YW5jZUxpbmUoKXtyZXR1cm4gdGhpcy5fcG9pbnREaXN0YW5jZUxpbmV9c2V0IHBvaW50RGlzdGFuY2VMaW5lKGUpe3RoaXMuX3BvaW50RGlzdGFuY2VMaW5lPW51bGwhPWU/e29yaWdpbjppKGUub3JpZ2luKSx0YXJnZXQ6ZS50YXJnZXQ/aShlLnRhcmdldCk6bnVsbH06bnVsbCx0aGlzLl9zeW5jUG9pbnREaXN0YW5jZSgpLHRoaXMuX3N5bmNSZW5kZXJlcigpfV9zeW5jUmVuZGVyZXIoKXt0aGlzLmF0dGFjaGVkJiZ0aGlzLnZpc2libGUmJih0aGlzLl9pbnRlcnNlY3RzTGluZUVuYWJsZWR8fHRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZHx8bnVsbCE9dGhpcy5fcG9pbnREaXN0YW5jZUxpbmV8fG51bGwhPXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lQnVmZmVycyk/dGhpcy5fZW5zdXJlUmVuZGVyZXIoKTp0aGlzLl9kaXNwb3NlUmVuZGVyZXIoKX1fZW5zdXJlUmVuZGVyZXIoKXtudWxsPT10aGlzLl9yZW5kZXJlciYmKHRoaXMuX3JlbmRlcmVyPW5ldyBoKHtyZW5kZXJDb29yZHNIZWxwZXI6dGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlcixjb250cmFzdENvbnRyb2xFbmFibGVkOiEwLF9pc0RlY29yYXRpb246dGhpcy5pc0RlY29yYXRpb259KSx0aGlzLl9yZW5kZXJlci52aWV3aW5nTW9kZT10aGlzLnZpZXcuc3RhdGUudmlld2luZ01vZGUsdGhpcy5fc3luY1N0eWxlKCksdGhpcy5fc3luY0hlaWdodE1hbmlmb2xkKCksdGhpcy5fc3luY0ludGVyc2VjdHNMaW5lKCksdGhpcy5fc3luY0ludGVyc2VjdHNMaW5lSW5maW5pdGUoKSx0aGlzLl9zeW5jUGF0aFZlcnRpY2FsUGxhbmUoKSx0aGlzLl9zeW5jTGluZVZlcnRpY2FsUGxhbmUoKSx0aGlzLl9zeW5jUG9pbnREaXN0YW5jZSgpLHRoaXMuX3N5bmNBbmdsZUN1dG9mZigpLHRoaXMudmlldy5fc3RhZ2UmJnRoaXMudmlldy5fc3RhZ2UuYWRkUmVuZGVyUGx1Z2luKHRoaXMuX3JlbmRlcmVyKSl9X3N5bmNTdHlsZSgpe251bGwhPXRoaXMuX3JlbmRlcmVyJiYodGhpcy5fcmVuZGVyZXIuc2V0UGFyYW1ldGVycyh0aGlzLl9zdHlsZSksbnVsbCE9dGhpcy5fc3R5bGUuaW50ZXJzZWN0c0xpbmVSYWRpdXMmJih0aGlzLl9yZW5kZXJlci5pbnRlcnNlY3RzTGluZVJhZGl1cz10aGlzLl9zdHlsZS5pbnRlcnNlY3RzTGluZVJhZGl1cykpfV9zeW5jQW5nbGVDdXRvZmYoKXtudWxsIT10aGlzLl9yZW5kZXJlciYmdGhpcy5fcmVuZGVyZXIuc2V0UGFyYW1ldGVycyh7YW5nbGVDdXRvZmY6dGhpcy5fYW5nbGVDdXRvZmZ9KX1fc3luY0hlaWdodE1hbmlmb2xkKCl7bnVsbCE9dGhpcy5fcmVuZGVyZXImJih0aGlzLl9yZW5kZXJlci5oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9dGhpcy5faGVpZ2h0TWFuaWZvbGRFbmFibGVkJiZ0aGlzLnZpc2libGUsdGhpcy5faGVpZ2h0TWFuaWZvbGRFbmFibGVkJiYodGhpcy5fcmVuZGVyZXIuaGVpZ2h0TWFuaWZvbGRUYXJnZXQ9dGhpcy5faGVpZ2h0TWFuaWZvbGRUYXJnZXQpKX1fc3luY0ludGVyc2VjdHNMaW5lKCl7bnVsbCE9dGhpcy5fcmVuZGVyZXImJih0aGlzLl9yZW5kZXJlci5pbnRlcnNlY3RzTGluZUVuYWJsZWQ9dGhpcy5faW50ZXJzZWN0c0xpbmVFbmFibGVkJiZ0aGlzLnZpc2libGUsdGhpcy5faW50ZXJzZWN0c0xpbmVFbmFibGVkJiYodGhpcy5fcmVuZGVyZXIuaW50ZXJzZWN0c0xpbmVTZWdtZW50PXRoaXMuX2ludGVyc2VjdHNMaW5lKSl9X3N5bmNJbnRlcnNlY3RzTGluZUluZmluaXRlKCl7bnVsbCE9dGhpcy5fcmVuZGVyZXImJih0aGlzLl9yZW5kZXJlci5pbnRlcnNlY3RzTGluZUluZmluaXRlPXRoaXMuX2ludGVyc2VjdHNMaW5lSW5maW5pdGUpfV9zeW5jUGF0aFZlcnRpY2FsUGxhbmUoKXtudWxsIT10aGlzLl9yZW5kZXJlciYmKHRoaXMuX3JlbmRlcmVyLnBhdGhWZXJ0aWNhbFBsYW5lRW5hYmxlZD1udWxsIT10aGlzLl9wYXRoVmVydGljYWxQbGFuZUJ1ZmZlcnMmJnRoaXMudmlzaWJsZSxudWxsIT10aGlzLl9wYXRoVmVydGljYWxQbGFuZUJ1ZmZlcnMmJih0aGlzLl9yZW5kZXJlci5wYXRoVmVydGljYWxQbGFuZUJ1ZmZlcnM9dGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzKSl9X3N5bmNMaW5lVmVydGljYWxQbGFuZSgpe251bGwhPXRoaXMuX3JlbmRlcmVyJiYodGhpcy5fcmVuZGVyZXIubGluZVZlcnRpY2FsUGxhbmVFbmFibGVkPW51bGwhPXRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudCYmdGhpcy52aXNpYmxlLG51bGwhPXRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudCYmKHRoaXMuX3JlbmRlcmVyLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudD10aGlzLl9saW5lVmVydGljYWxQbGFuZVNlZ21lbnQpKX1fc3luY1BvaW50RGlzdGFuY2UoKXtpZihudWxsPT10aGlzLl9yZW5kZXJlcilyZXR1cm47Y29uc3QgZT10aGlzLl9wb2ludERpc3RhbmNlTGluZSx0PW51bGwhPWU7dGhpcy5fcmVuZGVyZXIucG9pbnREaXN0YW5jZUVuYWJsZWQ9dCYmbnVsbCE9ZS50YXJnZXQmJnRoaXMudmlzaWJsZSx0JiYodGhpcy5fcmVuZGVyZXIucG9pbnREaXN0YW5jZU9yaWdpbj1lLm9yaWdpbixudWxsIT1lLnRhcmdldCYmKHRoaXMuX3JlbmRlcmVyLnBvaW50RGlzdGFuY2VUYXJnZXQ9ZS50YXJnZXQpKX1fZGlzcG9zZVJlbmRlcmVyKCl7bnVsbCE9dGhpcy5fcmVuZGVyZXImJnRoaXMudmlldy5fc3RhZ2UmJih0aGlzLnZpZXcuX3N0YWdlLnJlbW92ZVJlbmRlclBsdWdpbih0aGlzLl9yZW5kZXJlciksdGhpcy5fcmVuZGVyZXI9bnVsbCl9fWNvbnN0IF89dCgpO2V4cG9ydHtjIGFzIExhc2VybGluZVZpc3VhbEVsZW1lbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjbGFtcCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e3MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7aCBhcyByLGMgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjNC5qc1wiO2ltcG9ydHtmIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzRmNjQuanNcIjtpbXBvcnR7cHJvamVjdFZlY3RvclRvVmVjdG9yIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0VmVjdG9yVG9WZWN0b3IuanNcIjtpbXBvcnR7ZXhwYW5kV2l0aEJ1ZmZlciBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtzdjNkIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC92ZWN0b3JTdGFja3MuanNcIjtpbXBvcnR7T2JqZWN0M0RWaXN1YWxFbGVtZW50IGFzIHV9ZnJvbVwiLi9PYmplY3QzRFZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7ZXZhbHVhdGVFbGV2YXRpb25BbGlnbm1lbnRBdFBvaW50IGFzIGh9ZnJvbVwiLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2VsZXZhdGlvbkFsaWdubWVudFV0aWxzLmpzXCI7aW1wb3J0e0VsZXZhdGlvbkNvbnRleHQgYXMgbX1mcm9tXCIuLi8uLi9sYXllcnMvZ3JhcGhpY3MvRWxldmF0aW9uQ29udGV4dC5qc1wiO2ltcG9ydHtyZXF1aXJlc0hhbGZUZXhlbE9mZnNldCBhcyBwLGNyZWF0ZVRleHR1cmUgYXMgXyxkZWZhdWx0U3ltYm9sU2l6ZVJhdGlvIGFzIGN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9lbmdpbmVDb250ZW50L3NkZlByaW1pdGl2ZXMuanNcIjtpbXBvcnR7Y3JlYXRlUG9pbnRHZW9tZXRyeSBhcyBnfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnlVdGlsLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBkfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0hVRE1hdGVyaWFsIGFzIGZ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9IVURNYXRlcmlhbC5qc1wiO2NsYXNzIHggZXh0ZW5kcyB1e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuX2dlb21ldHJ5PW51bGwsdGhpcy5fc2l6ZT0zLHRoaXMuX2NvbG9yPW8oMSwwLDEsMSksdGhpcy5fcGl4ZWxTbmFwcGluZ0VuYWJsZWQ9ITAsdGhpcy5fcHJpbWl0aXZlPVwic3F1YXJlXCIsdGhpcy5fb3V0bGluZVNpemU9MSx0aGlzLl9vdXRsaW5lQ29sb3I9bygxLDEsMSwxKSx0aGlzLl9lbGV2YXRpb25JbmZvPW51bGwsdGhpcy5hcHBseVByb3BlcnRpZXMoZSl9Z2V0IGdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5fXNldCBnZW9tZXRyeShlKXt0aGlzLl9nZW9tZXRyeT1lLHRoaXMucmVjcmVhdGVHZW9tZXRyeSgpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9c2V0IHNpemUoZSl7aWYoZSE9PXRoaXMuX3NpemUpe2NvbnN0IHQ9dGhpcy5fcHJlZmVycmVkVGV4dHVyZVNpemU7dGhpcy5fc2l6ZT1lLHQ8dGhpcy5fcHJlZmVycmVkVGV4dHVyZVNpemU/dGhpcy5yZWNyZWF0ZSgpOnRoaXMuX3VwZGF0ZVNpemVBdHRyaWJ1dGUoKX19Z2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbG9yfXNldCBjb2xvcihlKXtyKGUsdGhpcy5fY29sb3IpfHwocyh0aGlzLl9jb2xvcixlKSx0aGlzLl91cGRhdGVNYXRlcmlhbCgpKX1nZXQgcGl4ZWxTbmFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fcGl4ZWxTbmFwcGluZ0VuYWJsZWR9c2V0IHBpeGVsU25hcHBpbmdFbmFibGVkKGUpe3RoaXMuX3BpeGVsU25hcHBpbmdFbmFibGVkIT09ZSYmKHRoaXMuX3BpeGVsU25hcHBpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlTWF0ZXJpYWwoKSl9Z2V0IHByaW1pdGl2ZSgpe3JldHVybiB0aGlzLl9wcmltaXRpdmV9c2V0IHByaW1pdGl2ZShlKXt0aGlzLl9wcmltaXRpdmUhPT1lJiYodGhpcy5fcHJpbWl0aXZlPWUsdGhpcy5yZWNyZWF0ZSgpKX1nZXQgb3V0bGluZVNpemUoKXtyZXR1cm4gdGhpcy5fb3V0bGluZVNpemV9c2V0IG91dGxpbmVTaXplKGUpe2UhPT10aGlzLl9vdXRsaW5lU2l6ZSYmKHRoaXMuX291dGxpbmVTaXplPWUsdGhpcy5fdXBkYXRlTWF0ZXJpYWwoKSl9Z2V0IG91dGxpbmVDb2xvcigpe3JldHVybiB0aGlzLl9vdXRsaW5lQ29sb3J9c2V0IG91dGxpbmVDb2xvcihlKXtyKGUsdGhpcy5fb3V0bGluZUNvbG9yKXx8KHModGhpcy5fb3V0bGluZUNvbG9yLGUpLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCkpfWdldCBlbGV2YXRpb25JbmZvKCl7cmV0dXJuIHRoaXMuX2VsZXZhdGlvbkluZm99c2V0IGVsZXZhdGlvbkluZm8oZSl7dGhpcy5fZWxldmF0aW9uSW5mbz1lLHRoaXMucmVjcmVhdGVHZW9tZXRyeSgpfV91cGRhdGVNYXRlcmlhbCgpe3RoaXMuX21hdGVyaWFsJiZ0aGlzLl9tYXRlcmlhbC5zZXRQYXJhbWV0ZXJzKHRoaXMuX21hdGVyaWFsUGFyYW1ldGVycyl9X3VwZGF0ZVNpemVBdHRyaWJ1dGUoKXtjb25zdCBlPXRoaXMub2JqZWN0O2lmKG51bGw9PWUpcmV0dXJuO2NvbnN0IHQ9ZS5nZW9tZXRyaWVzWzBdO2lmKG51bGw9PXQpcmV0dXJuO2NvbnN0IGk9dC5nZXRNdXRhYmxlQXR0cmlidXRlKGQuU0laRSkuZGF0YSxyPXRoaXMuX2dlb21ldHJ5U2l6ZTtpWzBdPXIsaVsxXT1yLGUuZ2VvbWV0cnlWZXJ0ZXhBdHRyaWJ1dGVVcGRhdGVkKGUuZ2VvbWV0cmllc1swXSxkLlNJWkUpfWdldCBfbWF0ZXJpYWxQYXJhbWV0ZXJzKCl7cmV0dXJue2NvbG9yOnRoaXMuX2NvbG9yLHRleHR1cmVJc1NpZ25lZERpc3RhbmNlRmllbGQ6ITAsc2FtcGxlU2lnbmVkRGlzdGFuY2VGaWVsZFRleGVsQ2VudGVyOnAodGhpcy5fcHJpbWl0aXZlKSxkaXN0YW5jZUZpZWxkQm91bmRpbmdCb3g6dixvY2NsdXNpb25UZXN0OiExLG91dGxpbmVDb2xvcjp0aGlzLl9vdXRsaW5lQ29sb3Isb3V0bGluZVNpemU6dGhpcy5fb3V0bGluZVNpemUsdGV4dHVyZUlkOnRoaXMuX3RleHR1cmU/LmlkLHBvbHlnb25PZmZzZXQ6ITEsc2hhZGVyUG9seWdvbk9mZnNldDowLGRyYXdJblNlY29uZFNsb3Q6ITAsZGVwdGhFbmFibGVkOiExLHBpeGVsU25hcHBpbmdFbmFibGVkOnRoaXMucGl4ZWxTbmFwcGluZ0VuYWJsZWQsaXNEZWNvcmF0aW9uOnRoaXMuaXNEZWNvcmF0aW9ufX1nZXQgX2dlb21ldHJ5U2l6ZSgpe3JldHVybiB0aGlzLl9zaXplL1N9Y3JlYXRlRXh0ZXJuYWxSZXNvdXJjZXMoKXt0aGlzLl90ZXh0dXJlPV8odGhpcy5fcHJpbWl0aXZlLHRoaXMuX3ByZWZlcnJlZFRleHR1cmVTaXplKSx0aGlzLl9tYXRlcmlhbD1uZXcgZih0aGlzLl9tYXRlcmlhbFBhcmFtZXRlcnMpO2NvbnN0IGU9dGhpcy52aWV3Ll9zdGFnZTt0aGlzLl90ZXh0dXJlLmxvYWQoZS5yZW5kZXJWaWV3LnJlbmRlcmluZ0NvbnRleHQpLGUuYWRkKHRoaXMuX3RleHR1cmUpfWRlc3Ryb3lFeHRlcm5hbFJlc291cmNlcygpe2lmKHRoaXMuX3RleHR1cmUpe3RoaXMudmlldy5fc3RhZ2UucmVtb3ZlKHRoaXMuX3RleHR1cmUpLHRoaXMuX3RleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmU9bnVsbH10aGlzLl9tYXRlcmlhbD1udWxsfWNyZWF0ZUdlb21ldHJpZXMoZSl7Y29uc3QgdD10aGlzLl9jcmVhdGVSZW5kZXJHZW9tZXRyeSgpO251bGwhPXQmJmUuYWRkR2VvbWV0cnkodCl9Zm9yRWFjaEV4dGVybmFsTWF0ZXJpYWwoZSl7dGhpcy5fbWF0ZXJpYWwmJmUodGhpcy5fbWF0ZXJpYWwpfWdldCBfcHJlZmVycmVkVGV4dHVyZVNpemUoKXtyZXR1cm4gZSgyKnRoaXMuX2dlb21ldHJ5U2l6ZSwxNiwxMjgpfWNhbGN1bGF0ZU1hcEJvdW5kcyhlKXtjb25zdCB0PXRoaXMub2JqZWN0Py5nZW9tZXRyaWVzWzBdO2lmKCF0KXJldHVybiExO2NvbnN0IGk9dC5hdHRyaWJ1dGVzLmdldChkLlBPU0lUSU9OKTtyZXR1cm4gbihpLmRhdGEsdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5zcGF0aWFsUmVmZXJlbmNlLHksdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLGwoZSx5KSwhMH1fY3JlYXRlUmVuZGVyR2VvbWV0cnkoKXtjb25zdHtnZW9tZXRyeTplLF9tYXRlcmlhbDppfT10aGlzO2lmKG51bGw9PWV8fG51bGw9PWkpcmV0dXJuIG51bGw7Y29uc3R7cmVuZGVyQ29vcmRzSGVscGVyOnIsZWxldmF0aW9uUHJvdmlkZXI6c309dGhpcy52aWV3LG89aChlLHMsbS5mcm9tRWxldmF0aW9uSW5mbyh0aGlzLmVsZXZhdGlvbkluZm8pLHIpLGw9dChhLmdldCgpLGUueCxlLnksbyksdT1hLmdldCgpO24obCxlLnNwYXRpYWxSZWZlcmVuY2UsdSxyLnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IHA9dGhpcy5fZ2VvbWV0cnlTaXplO3JldHVybiBnKGksbnVsbCx1LG51bGwsW3AscF0sWzAsMCwwLDFdKX19Y29uc3QgUz1jLHY9W1MvMixTLzIsMS1TLzIsMS1TLzJdLHk9aSgpO2V4cG9ydHt4IGFzIFBvaW50VmlzdWFsRWxlbWVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3JlbGVhc2VNYXliZSBhcyB0LGRpc3Bvc2VNYXliZSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjIGFzIHIsZyBhcyBhfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBoLGZyb21SYXkgYXMgbCxnZXRTdGFydCBhcyBvLGdldEVuZCBhcyBjfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvY2xpcFJheS5qc1wiO2ltcG9ydHtpbnRlcnNlY3RDbGlwUmF5IGFzIGR9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9mcnVzdHVtLmpzXCI7aW1wb3J0e2NvcHkgYXMgcH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e3dyYXAgYXMgX31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHtWaWV3aW5nTW9kZSBhcyB1fWZyb21cIi4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e0xhc2VybGluZVBhdGhEYXRhIGFzIG19ZnJvbVwiLi9MYXNlcmxpbmVQYXRoRGF0YS5qc1wiO2ltcG9ydHtTeW5jUHJlcGFyZVJlbmRlclBsdWdpbiBhcyBnLENvbnN1bWVzRGVwdGggYXMgUH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvZWZmZWN0cy9SZW5kZXJQbHVnaW4uanNcIjtpbXBvcnR7UmVuZGVyU2xvdCBhcyBifWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvUmVuZGVyU2xvdC5qc1wiO2ltcG9ydHt1cGRhdGVQYXJhbWV0ZXJzIGFzIGZ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9pbnRlcm5hbC9NYXRlcmlhbFV0aWwuanNcIjtpbXBvcnR7TGFzZXJsaW5lUGF0aFRlY2huaXF1ZSBhcyBFfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0xhc2VybGluZVBhdGhUZWNobmlxdWUuanNcIjtpbXBvcnR7TGFzZXJsaW5lUGF0aFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgcX1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvc2hhZGVycy9MYXNlcmxpbmVQYXRoVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtMYXNlcmxpbmVQYXNzUGFyYW1ldGVycyBhcyBMLExhc2VybGluZVRlY2huaXF1ZSBhcyBWfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0xhc2VybGluZVRlY2huaXF1ZS5qc1wiO2ltcG9ydHtMYXNlcmxpbmVUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIFJ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL3NoYWRlcnMvTGFzZXJsaW5lVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2xldCBEPWNsYXNzIGV4dGVuZHMgZ3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl90ZWNobmlxdWU9bnVsbCx0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9ITEsdGhpcy5fcG9pbnREaXN0YW5jZUVuYWJsZWQ9ITEsdGhpcy5fbGluZVZlcnRpY2FsUGxhbmVFbmFibGVkPSExLHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZD0hMSx0aGlzLl9pbnRlcnNlY3RzTGluZUluZmluaXRlPSExLHRoaXMuX3ZpZXdpbmdNb2RlPXUuTG9jYWwsdGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkPSExLHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YT1udWxsLHRoaXMuX3BhdGhUZWNobmlxdWU9bnVsbCx0aGlzLl9wYXNzUGFyYW1ldGVycz1uZXcgTCx0aGlzLnByb2R1Y2VzPW5ldyBNYXAoW1tiLkxBU0VSTElORVMsKCk9PiF0aGlzLmNvbnRyYXN0Q29udHJvbEVuYWJsZWRdLFtiLkxBU0VSTElORVNfQ09OVFJBU1RfQ09OVFJPTCwoKT0+dGhpcy5jb250cmFzdENvbnRyb2xFbmFibGVkXV0pfWluaXRpYWxpemUoKXt0aGlzLl9wYXNzUGFyYW1ldGVycy5yZW5kZXJDb29yZHNIZWxwZXI9dGhpcy5yZW5kZXJDb29yZHNIZWxwZXJ9Y29uc3VtZXMoKXtyZXR1cm4gUH1nZXQgaXNEZWNvcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGVjb3JhdGlvbn1nZXQgaGVpZ2h0TWFuaWZvbGRFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZH1zZXQgaGVpZ2h0TWFuaWZvbGRFbmFibGVkKGUpe3RoaXMuX2hlaWdodE1hbmlmb2xkRW5hYmxlZCE9PWUmJih0aGlzLl9oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBoZWlnaHRNYW5pZm9sZFRhcmdldCgpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5oZWlnaHRNYW5pZm9sZFRhcmdldH1zZXQgaGVpZ2h0TWFuaWZvbGRUYXJnZXQoZSl7cih0aGlzLl9wYXNzUGFyYW1ldGVycy5oZWlnaHRNYW5pZm9sZFRhcmdldCxlKSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9Z2V0IHBvaW50RGlzdGFuY2VFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3BvaW50RGlzdGFuY2VFbmFibGVkfXNldCBwb2ludERpc3RhbmNlRW5hYmxlZChlKXtlIT09dGhpcy5fcG9pbnREaXN0YW5jZUVuYWJsZWQmJih0aGlzLl9wb2ludERpc3RhbmNlRW5hYmxlZD1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IHBvaW50RGlzdGFuY2VUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMucG9pbnREaXN0YW5jZVRhcmdldH1zZXQgcG9pbnREaXN0YW5jZVRhcmdldChlKXtyKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnBvaW50RGlzdGFuY2VUYXJnZXQsZSksdGhpcy5fcmVxdWVzdFJlbmRlcigpfWdldCBwb2ludERpc3RhbmNlT3JpZ2luKCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnBvaW50RGlzdGFuY2VPcmlnaW59c2V0IHBvaW50RGlzdGFuY2VPcmlnaW4oZSl7cih0aGlzLl9wYXNzUGFyYW1ldGVycy5wb2ludERpc3RhbmNlT3JpZ2luLGUpLHRoaXMuX3JlcXVlc3RSZW5kZXIoKX1nZXQgbGluZVZlcnRpY2FsUGxhbmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2xpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZH1zZXQgbGluZVZlcnRpY2FsUGxhbmVFbmFibGVkKGUpe2UhPT10aGlzLl9saW5lVmVydGljYWxQbGFuZUVuYWJsZWQmJih0aGlzLl9saW5lVmVydGljYWxQbGFuZUVuYWJsZWQ9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBsaW5lVmVydGljYWxQbGFuZVNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMubGluZVZlcnRpY2FsUGxhbmVTZWdtZW50fXNldCBsaW5lVmVydGljYWxQbGFuZVNlZ21lbnQoZSl7cChlLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudCksdGhpcy5fcmVxdWVzdFJlbmRlcigpfWdldCBpbnRlcnNlY3RzTGluZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5faW50ZXJzZWN0c0xpbmVFbmFibGVkfXNldCBpbnRlcnNlY3RzTGluZUVuYWJsZWQoZSl7ZSE9PXRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZCYmKHRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZD1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IGludGVyc2VjdHNMaW5lU2VnbWVudCgpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5pbnRlcnNlY3RzTGluZVNlZ21lbnR9c2V0IGludGVyc2VjdHNMaW5lU2VnbWVudChlKXtwKGUsdGhpcy5fcGFzc1BhcmFtZXRlcnMuaW50ZXJzZWN0c0xpbmVTZWdtZW50KSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9Z2V0IGludGVyc2VjdHNMaW5lUmFkaXVzKCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmludGVyc2VjdHNMaW5lUmFkaXVzfXNldCBpbnRlcnNlY3RzTGluZVJhZGl1cyhlKXtlIT09dGhpcy5fcGFzc1BhcmFtZXRlcnMuaW50ZXJzZWN0c0xpbmVSYWRpdXMmJih0aGlzLl9wYXNzUGFyYW1ldGVycy5pbnRlcnNlY3RzTGluZVJhZGl1cz1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IGludGVyc2VjdHNMaW5lSW5maW5pdGUoKXtyZXR1cm4gdGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZX1zZXQgaW50ZXJzZWN0c0xpbmVJbmZpbml0ZShlKXtlIT09dGhpcy5faW50ZXJzZWN0c0xpbmVJbmZpbml0ZSYmKHRoaXMuX2ludGVyc2VjdHNMaW5lSW5maW5pdGU9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCB2aWV3aW5nTW9kZSgpe3JldHVybiB0aGlzLl92aWV3aW5nTW9kZX1zZXQgdmlld2luZ01vZGUoZSl7ZSE9PXRoaXMuX3ZpZXdpbmdNb2RlJiYodGhpcy5fdmlld2luZ01vZGU9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBwYXRoVmVydGljYWxQbGFuZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkfXNldCBwYXRoVmVydGljYWxQbGFuZUVuYWJsZWQoZSl7ZSE9PXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRW5hYmxlZCYmKHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRW5hYmxlZD1lLG51bGwhPXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YSYmdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1zZXQgcGF0aFZlcnRpY2FsUGxhbmVWZXJ0aWNlcyhlKXtudWxsPT10aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEmJih0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGE9bmV3IG0odGhpcy5fcGFzc1BhcmFtZXRlcnMucmVuZGVyQ29vcmRzSGVscGVyKSksdGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVEYXRhLnZlcnRpY2VzPWUsdGhpcy5wYXRoVmVydGljYWxQbGFuZUVuYWJsZWQmJnRoaXMuX3JlcXVlc3RSZW5kZXIoKX1zZXQgcGF0aFZlcnRpY2FsUGxhbmVCdWZmZXJzKGUpe251bGw9PXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YSYmKHRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YT1uZXcgbSh0aGlzLl9wYXNzUGFyYW1ldGVycy5yZW5kZXJDb29yZHNIZWxwZXIpKSx0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEuYnVmZmVycz1lLHRoaXMucGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkJiZ0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9c2V0UGFyYW1ldGVycyhlKXtmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLGUpJiZ0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9aW5pdGlhbGl6ZVJlbmRlckNvbnRleHQoZSl7dGhpcy5fY29udGV4dD1lLHRoaXMuX3RlY2huaXF1ZVJlcG9zaXRvcnk9ZS50ZWNobmlxdWVSZXBvc2l0b3J5LHRoaXMuX3RlY2huaXF1ZUNvbmZpZz1uZXcgUjtjb25zdCB0PW5ldyBxO3QuY29udHJhc3RDb250cm9sRW5hYmxlZD10aGlzLmNvbnRyYXN0Q29udHJvbEVuYWJsZWQsdGhpcy5fcGF0aFRlY2huaXF1ZT10aGlzLl90ZWNobmlxdWVSZXBvc2l0b3J5LmFjcXVpcmUoRSx0KX11bmluaXRpYWxpemVSZW5kZXJDb250ZXh0KCl7dGhpcy5fdGVjaG5pcXVlPXQodGhpcy5fdGVjaG5pcXVlKSx0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGE9aSh0aGlzLl9wYXRoVmVydGljYWxQbGFuZURhdGEpLHRoaXMuX3BhdGhUZWNobmlxdWU9dCh0aGlzLl9wYXRoVGVjaG5pcXVlKX1wcmVwYXJlVGVjaG5pcXVlKCl7cmV0dXJuIHRoaXMuaGVpZ2h0TWFuaWZvbGRFbmFibGVkfHx0aGlzLnBvaW50RGlzdGFuY2VFbmFibGVkfHx0aGlzLmxpbmVWZXJ0aWNhbFBsYW5lU2VnbWVudHx8dGhpcy5pbnRlcnNlY3RzTGluZUVuYWJsZWQ/KHRoaXMuX3RlY2huaXF1ZUNvbmZpZy5oZWlnaHRNYW5pZm9sZEVuYWJsZWQ9dGhpcy5oZWlnaHRNYW5pZm9sZEVuYWJsZWQsdGhpcy5fdGVjaG5pcXVlQ29uZmlnLmxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZD10aGlzLmxpbmVWZXJ0aWNhbFBsYW5lRW5hYmxlZCx0aGlzLl90ZWNobmlxdWVDb25maWcucG9pbnREaXN0YW5jZUVuYWJsZWQ9dGhpcy5wb2ludERpc3RhbmNlRW5hYmxlZCx0aGlzLl90ZWNobmlxdWVDb25maWcuaW50ZXJzZWN0c0xpbmVFbmFibGVkPXRoaXMuaW50ZXJzZWN0c0xpbmVFbmFibGVkLHRoaXMuX3RlY2huaXF1ZUNvbmZpZy5jb250cmFzdENvbnRyb2xFbmFibGVkPXRoaXMuY29udHJhc3RDb250cm9sRW5hYmxlZCx0aGlzLl90ZWNobmlxdWVDb25maWcuc3BoZXJpY2FsPXRoaXMuX3ZpZXdpbmdNb2RlPT09dS5HbG9iYWwsdGhpcy5fdGVjaG5pcXVlPXRoaXMuX3RlY2huaXF1ZVJlcG9zaXRvcnkucmVsZWFzZUFuZEFjcXVpcmUoVix0aGlzLl90ZWNobmlxdWVDb25maWcsdGhpcy5fdGVjaG5pcXVlKSx0aGlzLl90ZWNobmlxdWUpOnRoaXMuX3BhdGhUZWNobmlxdWV9cmVuZGVyTm9kZShlLHQpeyh0aGlzLmhlaWdodE1hbmlmb2xkRW5hYmxlZHx8dGhpcy5wb2ludERpc3RhbmNlRW5hYmxlZHx8dGhpcy5saW5lVmVydGljYWxQbGFuZVNlZ21lbnR8fHRoaXMuaW50ZXJzZWN0c0xpbmVFbmFibGVkKSYmdGhpcy5fcmVuZGVyVW5pZmllZChlLHQpLHRoaXMucGF0aFZlcnRpY2FsUGxhbmVFbmFibGVkJiZ0aGlzLl9yZW5kZXJQYXRoKGUpfV9yZW5kZXJVbmlmaWVkKGUsdCl7Y29uc3QgaT1lLnJjdHg7dGhpcy5fdXBkYXRlUGFzc1BhcmFtZXRlcnMoZSksaS5iaW5kVGVjaG5pcXVlKHQsdGhpcy5fcGFzc1BhcmFtZXRlcnMsZS5iaW5kUGFyYW1ldGVycyksaS5zY3JlZW4uZHJhdygpfV9yZW5kZXJQYXRoKGUpe2lmKG51bGw9PXRoaXMuX3BhdGhWZXJ0aWNhbFBsYW5lRGF0YXx8bnVsbD09dGhpcy5fcGF0aFRlY2huaXF1ZSlyZXR1cm47Y29uc3QgdD1lLnJjdHgsaT10aGlzLl9wYXRoVGVjaG5pcXVlO3QuYmluZFRlY2huaXF1ZShpLHsuLi50aGlzLl9wYXNzUGFyYW1ldGVycyxvcmlnaW46dGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVEYXRhLm9yaWdpbn0sZS5iaW5kUGFyYW1ldGVycyksdGhpcy5fcGF0aFZlcnRpY2FsUGxhbmVEYXRhLmRyYXcoZS5yY3R4KX1fdXBkYXRlUGFzc1BhcmFtZXRlcnMoZSl7aWYoIXRoaXMuX2ludGVyc2VjdHNMaW5lRW5hYmxlZClyZXR1cm47Y29uc3QgdD1lLmJpbmRQYXJhbWV0ZXJzLmNhbWVyYTtpZih0aGlzLl9pbnRlcnNlY3RzTGluZUluZmluaXRlKXtpZihsKF8odGhpcy5fcGFzc1BhcmFtZXRlcnMuaW50ZXJzZWN0c0xpbmVTZWdtZW50Lm9yaWdpbix0aGlzLl9wYXNzUGFyYW1ldGVycy5pbnRlcnNlY3RzTGluZVNlZ21lbnQudmVjdG9yKSxTKSxTLmMwPS1OdW1iZXIuTUFYX1ZBTFVFLCFkKHQuZnJ1c3R1bSxTKSlyZXR1cm47byhTLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmxpbmVTdGFydFdvcmxkKSxjKFMsdGhpcy5fcGFzc1BhcmFtZXRlcnMubGluZUVuZFdvcmxkKX1lbHNlIHIodGhpcy5fcGFzc1BhcmFtZXRlcnMubGluZVN0YXJ0V29ybGQsdGhpcy5fcGFzc1BhcmFtZXRlcnMuaW50ZXJzZWN0c0xpbmVTZWdtZW50Lm9yaWdpbiksYSh0aGlzLl9wYXNzUGFyYW1ldGVycy5saW5lRW5kV29ybGQsdGhpcy5fcGFzc1BhcmFtZXRlcnMuaW50ZXJzZWN0c0xpbmVTZWdtZW50Lm9yaWdpbix0aGlzLl9wYXNzUGFyYW1ldGVycy5pbnRlcnNlY3RzTGluZVNlZ21lbnQudmVjdG9yKX1fcmVxdWVzdFJlbmRlcigpe3RoaXMuX2NvbnRleHQmJnRoaXMuX2NvbnRleHQucmVxdWVzdFJlbmRlcigpfWdldCB0ZXN0KCl7cmV0dXJue3Bhc3NQYXJhbWV0ZXJzOnRoaXMuX3Bhc3NQYXJhbWV0ZXJzfX19O2UoW3Moe2NvbnN0cnVjdE9ubHk6ITB9KV0sRC5wcm90b3R5cGUsXCJjb250cmFzdENvbnRyb2xFbmFibGVkXCIsdm9pZCAwKSxlKFtzKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEQucHJvdG90eXBlLFwiX2lzRGVjb3JhdGlvblwiLHZvaWQgMCksZShbcyh7Y29uc3RydWN0T25seTohMH0pXSxELnByb3RvdHlwZSxcInJlbmRlckNvb3Jkc0hlbHBlclwiLHZvaWQgMCksRD1lKFtuKFwiZXNyaS52aWV3cy4zZC5zdXBwb3J0Lkxhc2VyTGluZVJlbmRlcmVyXCIpXSxEKTtjb25zdCBTPWgoKTtleHBvcnR7RCBhcyBMYXNlckxpbmVSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3MgYXMgZSxmIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyByfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2ltcG9ydHtnbExheW91dCBhcyBpfWZyb21cIi4vYnVmZmVyL2dsVXRpbC5qc1wiO2ltcG9ydHtuZXdMYXlvdXQgYXMgb31mcm9tXCIuL2J1ZmZlci9JbnRlcmxlYXZlZExheW91dC5qc1wiO2ltcG9ydHtWZXJ0ZXhBcnJheU9iamVjdCBhcyBufWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXJyYXlPYmplY3QuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHV9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7YXR0cmlidXRlTG9jYXRpb25zIGFzIGZ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL3NoYWRlcnMvTGFzZXJsaW5lUGF0aFRlY2huaXF1ZS5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgYX1mcm9tXCIuLi8uLi93ZWJnbC9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7UHJpbWl0aXZlVHlwZSBhcyBsLFVzYWdlIGFzIGh9ZnJvbVwiLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjbGFzcyBje2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlbmRlckNvb3Jkc0hlbHBlcj1lLHRoaXMuX2J1ZmZlcnM9bnVsbCx0aGlzLl9vcmlnaW49cigpLHRoaXMuX2RpcnR5PSExLHRoaXMuX2NvdW50PTAsdGhpcy5fdmFvPW51bGx9c2V0IHZlcnRpY2VzKGUpe2NvbnN0IHQ9cygzKmUubGVuZ3RoKTtsZXQgcj0wO2Zvcihjb25zdCBzIG9mIGUpdFtyKytdPXNbMF0sdFtyKytdPXNbMV0sdFtyKytdPXNbMl07dGhpcy5idWZmZXJzPVt0XX1zZXQgYnVmZmVycyh0KXtpZih0aGlzLl9idWZmZXJzPXQsdGhpcy5fYnVmZmVycy5sZW5ndGg+MCl7Y29uc3QgdD10aGlzLl9idWZmZXJzWzBdLHI9MypNYXRoLmZsb29yKHQubGVuZ3RoLzMvMik7ZSh0aGlzLl9vcmlnaW4sdFtyXSx0W3IrMV0sdFtyKzJdKX1lbHNlIGUodGhpcy5fb3JpZ2luLDAsMCwwKTt0aGlzLl9kaXJ0eT0hMH1nZXQgb3JpZ2luKCl7cmV0dXJuIHRoaXMuX29yaWdpbn1kcmF3KGUpe2NvbnN0IHQ9dGhpcy5fZW5zdXJlVkFPKGUpO251bGwhPXQmJihlLmJpbmRWQU8odCksZS5kcmF3QXJyYXlzKGwuVFJJQU5HTEVTLDAsdGhpcy5fY291bnQpKX1kaXNwb3NlKCl7bnVsbCE9dGhpcy5fdmFvJiZ0aGlzLl92YW8uZGlzcG9zZSgpfV9lbnN1cmVWQU8oZSl7cmV0dXJuIG51bGw9PXRoaXMuX2J1ZmZlcnM/bnVsbDoobnVsbD09dGhpcy5fdmFvJiYodGhpcy5fdmFvPXRoaXMuX2NyZWF0ZVZBTyhlLHRoaXMuX2J1ZmZlcnMpKSx0aGlzLl9lbnN1cmVWZXJ0ZXhEYXRhKHRoaXMuX3Zhbyx0aGlzLl9idWZmZXJzKSx0aGlzLl92YW8pfV9jcmVhdGVWQU8oZSx0KXtjb25zdCByPXRoaXMuX2NyZWF0ZURhdGFCdWZmZXIodCk7cmV0dXJuIHRoaXMuX2RpcnR5PSExLG5ldyBuKGUsZix7ZGF0YTppKGIpfSx7ZGF0YTphLmNyZWF0ZVZlcnRleChlLGguU1RBVElDX0RSQVcscil9KX1fZW5zdXJlVmVydGV4RGF0YShlLHQpe2lmKCF0aGlzLl9kaXJ0eSlyZXR1cm47Y29uc3Qgcj10aGlzLl9jcmVhdGVEYXRhQnVmZmVyKHQpO2UudmVydGV4QnVmZmVycy5kYXRhPy5zZXREYXRhKHIpLHRoaXMuX2RpcnR5PSExfV9udW1iZXJPZlJlbmRlclZlcnRpY2VzKGUpe3JldHVybiAzKigyKihlLmxlbmd0aC8zLTEpKX1fY3JlYXRlRGF0YUJ1ZmZlcihyKXtjb25zdCBzPXIucmVkdWNlKCgoZSx0KT0+ZSt0aGlzLl9udW1iZXJPZlJlbmRlclZlcnRpY2VzKHQpKSwwKTt0aGlzLl9jb3VudD1zO2NvbnN0IGk9Yi5jcmVhdGVCdWZmZXIocyksbz10aGlzLl9vcmlnaW47bGV0IG49MCx1PTA7Zm9yKGNvbnN0IGYgb2Ygcil7Zm9yKGxldCByPTA7cjxmLmxlbmd0aDtyKz0zKXtjb25zdCBzPWUoZCxmW3JdLGZbcisxXSxmW3IrMl0pOzA9PT1yP3U9dGhpcy5fcmVuZGVyQ29vcmRzSGVscGVyLmdldEFsdGl0dWRlKHMpOnRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci5zZXRBbHRpdHVkZShzLHUpO2NvbnN0IGE9dGhpcy5fcmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKHMsXyksbD1uKzIqcixoPXQoZCxzLG8pO2lmKHI8Zi5sZW5ndGgtMyl7aS51cC5zZXRWZWMobCxhKSxpLnVwLnNldFZlYyhsKzMsYSksaS51cC5zZXRWZWMobCs1LGEpO2ZvcihsZXQgZT0wO2U8NjtlKyspaS5zdGFydC5zZXRWZWMobCtlLGgpO2kuZXh0cnVkZS5zZXRWYWx1ZXMobCwwLC0xKSxpLmV4dHJ1ZGUuc2V0VmFsdWVzKGwrMSwxLC0xKSxpLmV4dHJ1ZGUuc2V0VmFsdWVzKGwrMiwxLDEpLGkuZXh0cnVkZS5zZXRWYWx1ZXMobCszLDAsLTEpLGkuZXh0cnVkZS5zZXRWYWx1ZXMobCs0LDEsMSksaS5leHRydWRlLnNldFZhbHVlcyhsKzUsMCwxKX1pZihyPjApe2kudXAuc2V0VmVjKGwtMixhKSxpLnVwLnNldFZlYyhsLTQsYSksaS51cC5zZXRWZWMobC01LGEpO2ZvcihsZXQgZT0tNjtlPDA7ZSsrKWkuZW5kLnNldFZlYyhsK2UsaCl9fW4rPXRoaXMuX251bWJlck9mUmVuZGVyVmVydGljZXMoZil9cmV0dXJuIGkuYnVmZmVyfX1jb25zdCBfPXIoKSxkPXIoKSxiPW8oKS52ZWMzZih1LlNUQVJUKS52ZWMzZih1LkVORCkudmVjM2YodS5VUCkudmVjMmYodS5FWFRSVURFKTtleHBvcnR7YyBhcyBMYXNlcmxpbmVQYXRoRGF0YX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1JlYWRMaW5lYXJEZXB0aCBhcyBvfWZyb21cIi4vb3V0cHV0L1JlYWRMaW5lYXJEZXB0aC5nbHNsLmpzXCI7aW1wb3J0e0NhbWVyYVNwYWNlIGFzIGV9ZnJvbVwiLi91dGlsL0NhbWVyYVNwYWNlLmdsc2wuanNcIjtpbXBvcnR7RmxvYXQyUGFzc1VuaWZvcm0gYXMgcn1mcm9tXCIuLi9zaGFkZXJNb2R1bGVzL0Zsb2F0MlBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0M1Bhc3NVbmlmb3JtIGFzIGx9ZnJvbVwiLi4vc2hhZGVyTW9kdWxlcy9GbG9hdDNQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIGF9ZnJvbVwiLi4vc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgdH1mcm9tXCIuLi9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7VGV4dHVyZTJEUGFzc1VuaWZvcm0gYXMgbn1mcm9tXCIuLi9zaGFkZXJNb2R1bGVzL1RleHR1cmUyRFBhc3NVbmlmb3JtLmpzXCI7ZnVuY3Rpb24gZChkLGkpe2NvbnN0IHM9ZC5mcmFnbWVudDtzLmluY2x1ZGUobyksZC5pbmNsdWRlKGUpLHMudW5pZm9ybXMuYWRkKG5ldyBhKFwiZ2xvYmFsQWxwaGFcIiwobz0+by5nbG9iYWxBbHBoYSkpLG5ldyBsKFwiZ2xvd0NvbG9yXCIsKG89Pm8uZ2xvd0NvbG9yKSksbmV3IGEoXCJnbG93V2lkdGhcIiwoKG8sZSk9Pm8uZ2xvd1dpZHRoKmUuY2FtZXJhLnBpeGVsUmF0aW8pKSxuZXcgYShcImdsb3dGYWxsb2ZmXCIsKG89Pm8uZ2xvd0ZhbGxvZmYpKSxuZXcgbChcImlubmVyQ29sb3JcIiwobz0+by5pbm5lckNvbG9yKSksbmV3IGEoXCJpbm5lcldpZHRoXCIsKChvLGUpPT5vLmlubmVyV2lkdGgqZS5jYW1lcmEucGl4ZWxSYXRpbykpLG5ldyBuKFwiZGVwdGhNYXBcIiwoKG8sZSk9PmUubGluZWFyRGVwdGg/LmNvbG9yVGV4dHVyZSkpLG5ldyByKFwibmVhckZhclwiLCgobyxlKT0+ZS5jYW1lcmEubmVhckZhcikpLG5ldyBuKFwiZnJhbWVDb2xvclwiLCgobyxlKT0+ZS5tYWluQ29sb3IpKSkscy5jb2RlLmFkZCh0YHZlYzQgYmxlbmRQcmVtdWx0aXBsaWVkKHZlYzQgc291cmNlLCB2ZWM0IGRlc3QpIHtcbmZsb2F0IG9uZU1pbnVzU291cmNlQWxwaGEgPSAxLjAgLSBzb3VyY2UuYTtcbnJldHVybiB2ZWM0KFxuc291cmNlLnJnYiArIGRlc3QucmdiICogb25lTWludXNTb3VyY2VBbHBoYSxcbnNvdXJjZS5hICsgZGVzdC5hICogb25lTWludXNTb3VyY2VBbHBoYVxuKTtcbn1gKSxzLmNvZGUuYWRkKHRgdmVjNCBwcmVtdWx0aXBsaWVkQ29sb3IodmVjMyByZ2IsIGZsb2F0IGFscGhhKSB7XG5yZXR1cm4gdmVjNChyZ2IgKiBhbHBoYSwgYWxwaGEpO1xufWApLHMuY29kZS5hZGQodGB2ZWM0IGxhc2VybGluZVByb2ZpbGUoZmxvYXQgZGlzdCkge1xuaWYgKGRpc3QgPiBnbG93V2lkdGgpIHtcbnJldHVybiB2ZWM0KDAuMCk7XG59XG5mbG9hdCBpbm5lckFscGhhID0gKDEuMCAtIHNtb290aHN0ZXAoMC4wLCBpbm5lcldpZHRoLCBkaXN0KSk7XG5mbG9hdCBnbG93QWxwaGEgPSBwb3cobWF4KDAuMCwgMS4wIC0gZGlzdCAvIGdsb3dXaWR0aCksIGdsb3dGYWxsb2ZmKTtcbnJldHVybiBibGVuZFByZW11bHRpcGxpZWQoXG5wcmVtdWx0aXBsaWVkQ29sb3IoaW5uZXJDb2xvciwgaW5uZXJBbHBoYSksXG5wcmVtdWx0aXBsaWVkQ29sb3IoZ2xvd0NvbG9yLCBnbG93QWxwaGEpXG4pO1xufWApLHMuY29kZS5hZGQodGBib29sIGxhc2VybGluZVJlY29uc3RydWN0RnJvbURlcHRoKG91dCB2ZWMzIHBvcywgb3V0IHZlYzMgbm9ybWFsLCBvdXQgZmxvYXQgZGVwdGhEaXNjb250aW51aXR5QWxwaGEpIHtcbmZsb2F0IGRlcHRoID0gbGluZWFyRGVwdGhGcm9tVGV4dHVyZShkZXB0aE1hcCwgdXYsIG5lYXJGYXIpO1xuaWYgKC1kZXB0aCA9PSBuZWFyRmFyWzBdKSB7XG5yZXR1cm4gZmFsc2U7XG59XG5wb3MgPSByZWNvbnN0cnVjdFBvc2l0aW9uKGdsX0ZyYWdDb29yZC54eSwgZGVwdGgpO1xubm9ybWFsID0gbm9ybWFsaXplKGNyb3NzKGRGZHgocG9zKSwgZEZkeShwb3MpKSk7XG5mbG9hdCBkZGVwdGggPSBmd2lkdGgoZGVwdGgpO1xuZGVwdGhEaXNjb250aW51aXR5QWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKDAuMCwgMC4wMSwgLWRkZXB0aCAvIGRlcHRoKTtcbnJldHVybiB0cnVlO1xufWApLGkuY29udHJhc3RDb250cm9sRW5hYmxlZD8ocy51bmlmb3Jtcy5hZGQobmV3IGEoXCJnbG9iYWxBbHBoYUNvbnRyYXN0Qm9vc3RcIiwobz0+bnVsbCE9by5nbG9iYWxBbHBoYUNvbnRyYXN0Qm9vc3Q/by5nbG9iYWxBbHBoYUNvbnRyYXN0Qm9vc3Q6MSkpKSxzLmNvZGUuYWRkKHRgZmxvYXQgcmdiVG9MdW1pbmFuY2UodmVjMyBjb2xvcikge1xucmV0dXJuIGRvdCh2ZWMzKDAuMjEyNiwgMC43MTUyLCAwLjA3MjIpLCBjb2xvcik7XG59XG52ZWM0IGxhc2VybGluZU91dHB1dCh2ZWM0IGNvbG9yKSB7XG5mbG9hdCBiYWNrZ3JvdW5kTHVtaW5hbmNlID0gcmdiVG9MdW1pbmFuY2UodGV4dHVyZShmcmFtZUNvbG9yLCB1dikucmdiKTtcbmZsb2F0IGFscGhhID0gY2xhbXAoZ2xvYmFsQWxwaGEgKiBtYXgoYmFja2dyb3VuZEx1bWluYW5jZSAqIGdsb2JhbEFscGhhQ29udHJhc3RCb29zdCwgMS4wKSwgMC4wLCAxLjApO1xucmV0dXJuIGNvbG9yICogYWxwaGE7XG59YCkpOnMuY29kZS5hZGQodGB2ZWM0IGxhc2VybGluZU91dHB1dCh2ZWM0IGNvbG9yKSB7XG5yZXR1cm4gY29sb3IgKiBnbG9iYWxBbHBoYTtcbn1gKX1leHBvcnR7ZCBhcyBMYXNlcmxpbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIGV9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7UHJvZ3JhbSBhcyBpfWZyb21cIi4uL2xpYi9Qcm9ncmFtLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyB0fWZyb21cIi4uL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7TCBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9MYXNlcmxpbmVQYXRoLmdsc2wuanNcIjtpbXBvcnR7QmxlbmRGYWN0b3IgYXMgc31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHttYWtlUGlwZWxpbmVTdGF0ZSBhcyBuLHNpbXBsZUJsZW5kaW5nUGFyYW1zIGFzIGEsZGVmYXVsdENvbG9yV3JpdGVQYXJhbXMgYXMgbH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIG0gZXh0ZW5kcyBye2luaXRpYWxpemVQcm9ncmFtKGUpe3JldHVybiBuZXcgaShlLnJjdHgsbS5zaGFkZXIuZ2V0KCkuYnVpbGQodGhpcy5jb25maWd1cmF0aW9uKSxoKX1pbml0aWFsaXplUGlwZWxpbmUoKXtyZXR1cm4gbih7YmxlbmRpbmc6YShzLk9ORSxzLk9ORV9NSU5VU19TUkNfQUxQSEEpLGNvbG9yV3JpdGU6bH0pfX1tLnNoYWRlcj1uZXcgZShvLCgoKT0+aW1wb3J0KFwiLi9MYXNlcmxpbmVQYXRoLmdsc2wuanNcIikpKTtjb25zdCBoPW5ldyBNYXAoW1t0LlNUQVJULDBdLFt0LkVORCwxXSxbdC5VUCwyXSxbdC5FWFRSVURFLDNdXSk7ZXhwb3J0e20gYXMgTGFzZXJsaW5lUGF0aFRlY2huaXF1ZSxoIGFzIGF0dHJpYnV0ZUxvY2F0aW9uc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgcixwYXJhbWV0ZXIgYXMgdH1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7Y2xhc3MgZSBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29udHJhc3RDb250cm9sRW5hYmxlZD0hMX19byhbdCgpXSxlLnByb3RvdHlwZSxcImNvbnRyYXN0Q29udHJvbEVuYWJsZWRcIix2b2lkIDApO2V4cG9ydHtlIGFzIExhc2VybGluZVBhdGhUZWNobmlxdWVDb25maWd1cmF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZGVnMnJhZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2YgYXMgdCxjIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9saW5lU2VnbWVudC5qc1wiO2ltcG9ydHtOb1BhcmFtZXRlcnMgYXMgc31mcm9tXCIuLi9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIG99ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgbn1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7RGVmYXVsdDNEIGFzIGx9ZnJvbVwiLi4vbGliL0RlZmF1bHRWZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnMuanNcIjtpbXBvcnR7UHJvZ3JhbSBhcyBhfWZyb21cIi4uL2xpYi9Qcm9ncmFtLmpzXCI7aW1wb3J0e0wgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvTGFzZXJsaW5lcy5nbHNsLmpzXCI7aW1wb3J0e0JsZW5kRmFjdG9yIGFzIG19ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7bWFrZVBpcGVsaW5lU3RhdGUgYXMgYyxzaW1wbGVCbGVuZGluZ1BhcmFtcyBhcyBnLGRlZmF1bHRDb2xvcldyaXRlUGFyYW1zIGFzIGR9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvcmVuZGVyU3RhdGUuanNcIjtjbGFzcyBmIGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5pbm5lckNvbG9yPXQoMSwxLDEpLHRoaXMuaW5uZXJXaWR0aD0xLHRoaXMuZ2xvd0NvbG9yPXQoMSwuNSwwKSx0aGlzLmdsb3dXaWR0aD04LHRoaXMuZ2xvd0ZhbGxvZmY9OCx0aGlzLmdsb2JhbEFscGhhPS43NSx0aGlzLmdsb2JhbEFscGhhQ29udHJhc3RCb29zdD0yLHRoaXMuYW5nbGVDdXRvZmY9ZSg2KSx0aGlzLnBvaW50RGlzdGFuY2VPcmlnaW49aSgpLHRoaXMucG9pbnREaXN0YW5jZVRhcmdldD1pKCksdGhpcy5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9cigpLHRoaXMuaW50ZXJzZWN0c0xpbmVTZWdtZW50PXIoKSx0aGlzLmludGVyc2VjdHNMaW5lUmFkaXVzPTMsdGhpcy5oZWlnaHRNYW5pZm9sZFRhcmdldD1pKCksdGhpcy5saW5lU3RhcnRXb3JsZD1pKCksdGhpcy5saW5lRW5kV29ybGQ9aSgpfX1jbGFzcyBwIGV4dGVuZHMgbntpbml0aWFsaXplUHJvZ3JhbShlKXtyZXR1cm4gbmV3IGEoZS5yY3R4LHAuc2hhZGVyLmdldCgpLmJ1aWxkKHRoaXMuY29uZmlndXJhdGlvbiksbCl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIGMoe2JsZW5kaW5nOmcobS5PTkUsbS5PTkVfTUlOVVNfU1JDX0FMUEhBKSxjb2xvcldyaXRlOmR9KX19cC5zaGFkZXI9bmV3IG8oaCwoKCk9PmltcG9ydChcIi4vTGFzZXJsaW5lcy5nbHNsLmpzXCIpKSk7ZXhwb3J0e2YgYXMgTGFzZXJsaW5lUGFzc1BhcmFtZXRlcnMscCBhcyBMYXNlcmxpbmVUZWNobmlxdWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtwYXJhbWV0ZXIgYXMgaX1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0xhc2VybGluZVBhdGhUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIHR9ZnJvbVwiLi9MYXNlcmxpbmVQYXRoVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2NsYXNzIG4gZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmhlaWdodE1hbmlmb2xkRW5hYmxlZD0hMSx0aGlzLnBvaW50RGlzdGFuY2VFbmFibGVkPSExLHRoaXMubGluZVZlcnRpY2FsUGxhbmVFbmFibGVkPSExLHRoaXMuaW50ZXJzZWN0c0xpbmVFbmFibGVkPSExLHRoaXMuc3BoZXJpY2FsPSExfX1lKFtpKCldLG4ucHJvdG90eXBlLFwiaGVpZ2h0TWFuaWZvbGRFbmFibGVkXCIsdm9pZCAwKSxlKFtpKCldLG4ucHJvdG90eXBlLFwicG9pbnREaXN0YW5jZUVuYWJsZWRcIix2b2lkIDApLGUoW2koKV0sbi5wcm90b3R5cGUsXCJsaW5lVmVydGljYWxQbGFuZUVuYWJsZWRcIix2b2lkIDApLGUoW2koKV0sbi5wcm90b3R5cGUsXCJpbnRlcnNlY3RzTGluZUVuYWJsZWRcIix2b2lkIDApLGUoW2koKV0sbi5wcm90b3R5cGUsXCJzcGhlcmljYWxcIix2b2lkIDApO2V4cG9ydHtuIGFzIExhc2VybGluZVRlY2huaXF1ZUNvbmZpZ3VyYXRpb259O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9