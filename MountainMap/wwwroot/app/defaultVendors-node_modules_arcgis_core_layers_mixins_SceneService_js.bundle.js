"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_mixins_SceneService_js"],{

/***/ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/originUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateOrigins: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../multiOriginJSONSupportUtils.js */ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{(0,_multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultiOriginJSONMixin)(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMultiOriginJSONMixin: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/SceneService.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/SceneService.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SaveOperationType: () => (/* binding */ P),
/* harmony export */   SceneService: () => (/* binding */ E),
/* harmony export */   sceneServiceItemType: () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/originUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_HeightModelInfo_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/HeightModelInfo.js */ "./node_modules/@arcgis/core/geometry/HeightModelInfo.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_I3SIndexInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/I3SIndexInfo.js */ "./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js");
/* harmony import */ var _support_schemaValidatorLoader_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/schemaValidatorLoader.js */ "./node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webdoc/saveAPIKeyUtils.js */ "./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js");
/* harmony import */ var _webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webdoc/support/saveUtils.js */ "./node_modules/@arcgis/core/webdoc/support/saveUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const N="esri.layers.mixins.SceneService",U=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(N),E=o=>{let E=class extends o{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:""},this.copyright=null,this.sublayerTitleMode="item-title",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.debounce)((async(e,t,r)=>{switch(e){case P.SAVE:return this._save(t);case P.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf("/")+1,r.length),10);return null!=o?new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"](o):null}}readFullExtent(e,t,r){if(null!=e&&"object"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:this._readSpatialReference(t)}:e;return _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_14__["default"].fromJSON(o,r)}const o=t.store,i=this._readSpatialReference(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<T))?null:new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_14__["default"]({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(".");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():"";return this.parseVersionString(o)}readTitlePortalItem(e){return"item-title"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__.titleFromUrlAndName)(this.url,t.name);let o=t.name;if(!o&&this.url){const e=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__.parse)(this.url);null!=e&&(o=e.title)}return"item-title-and-service-name"===this.sublayerTitleMode&&r&&(o=r+" - "+o),(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__.cleanTitle)(o)}set url(e){const t=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__.sanitizeUrlWithLayerId)({layer:this,url:e,nonStandardUrlAllowed:!1,logger:U});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,r,o){(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_17__.writeUrlWithLayerId)(this,e,"layers",t,o)}get parsedUrl(){const e=this._get("url"),t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.urlToObject)(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=(0,_support_I3SIndexInfo_js__WEBPACK_IMPORTED_MODULE_19__.fetchIndexInfo)(this.parsedUrl.path,this.rootNode,e,this.apiKey,U,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if("page"===e?.type){const t=e.rootIndex%e.pageSize,o=e.rootPage?.nodes?.[t];if(null==o?.obb?.center||null==o.obb.halfSize)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:invalid-node-page","Invalid node page.");if(o.obb.center[0]<T||null==this.fullExtent||this.fullExtent.hasZ)return;const i=o.obb.halfSize,s=o.obb.center[2],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if("node"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<T)return;const r=t[2],o=t[3],{fullExtent:i}=this;i&&(i.zmin=r-o,i.zmax=r+o)}}async _fetchService(e){if(null==this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:url-not-set","Scene service can not be loaded without valid portal item or url");if(null==this.layerId&&/SceneServer\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.url,{query:{f:"json",token:this.apiKey},responseType:"json",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.parsedUrl?.path??"",{query:{f:"json",token:this.apiKey},responseType:"json",signal:e});r.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));let o=!1;if(r.data.layerType&&"Voxel"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.parsedUrl?.path+"/layer",{query:{f:"json",token:this.apiKey},responseType:"json",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),"beforeSave"in this&&"function"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===O.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>"Hosted Service"!==e))))}async _saveAs(e,t){const o={...L,...t};let i=_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_22__["default"].from(e);if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:portal-item-required","_saveAs() requires a portal item to save to");(0,_webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_23__.validateSaveAPIKey)(i),i.id&&(i=i.clone(),i.id=null);const s=i.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_21__["default"].getDefault();await this._ensureLoadBeforeSave(),i.type=K,i.portal=s;const a={origin:"portal-item",url:null,messages:[],portal:s,portalItem:i,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),i.url=this.url,i.title||(i.title=this.title),this._updateTypeKeywords(i,o,O.newItem),await s.signIn(),await(s.user?.addItem({item:i,folder:o?.folder,data:n})),await (0,_webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_24__.saveResources)(this.resourceReferences,a,null),this.portalItem=i,(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_13__.updateOrigins)(a),a.portalItem=i,i}async _save(e){const t={...L,...e};if(!this.portalItem)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:portal-item-not-set","Portal item to save to has not been set on this SceneService");if((0,_webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_23__.validateSaveAPIKey)(this.portalItem),this.portalItem.type!==K)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:portal-item-wrong-type",`Portal item needs to have type "${K}"`);await this._ensureLoadBeforeSave();const o={origin:"portal-item",url:this.portalItem.itemUrl&&(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.urlToObject)(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_21__["default"].getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,O.existingItem),await (0,_webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_24__.updateItemWithResources)(this.portalItem,i,this.resourceReferences,o,null),(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_13__.updateOrigins)(o),this.portalItem}async _validateAgainstJSONSchema(e,t,o){let i=t.messages?.filter((e=>"error"===e.type)).map((e=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.name,e.message,e.details)))??[];o?.validationOptions?.ignoreUnsupported&&(i=i.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name&&"scenemodification:unsupported"!==e.name)));const s=o?.validationOptions,a=s?.enabled,n=(0,_support_schemaValidatorLoader_js__WEBPACK_IMPORTED_MODULE_20__.getLoader)();if(a&&n){const t=(await n()).validate(e,o.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\n${t.join("\n")}`;if(U.error(`_validateAgainstJSONSchema(): ${e}`),"throw"===s.failPolicy){const e=t.map((e=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:schema-validation",e))).concat(i);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice-validate:error","Failed to save layer item due to schema validation, see `details.errors`.",{combined:e})}}}if(i.length>0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("sceneservice:save","Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:i})}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_18__.id)],E.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]})],E.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("spatialReference",["spatialReference","store.indexCRS","store.geographicCRS"])],E.prototype,"readSpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_14__["default"]})],E.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("fullExtent",["fullExtent","store.extent","spatialReference","store.indexCRS","store.geographicCRS"])],E.prototype,"readFullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_geometry_HeightModelInfo_js__WEBPACK_IMPORTED_MODULE_15__["default"]})],E.prototype,"heightModelInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:{source:"minScale"},write:!1}}}})],E.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:{source:"maxScale"},write:!1}}}})],E.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],E.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("version",["store.version"])],E.prototype,"readVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:String,json:{read:{source:"copyrightText"}}})],E.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:String,json:{read:!1}})],E.prototype,"sublayerTitleMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:String})],E.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("portal-item","title")],E.prototype,"readTitlePortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("service","title",["name"])],E.prototype,"readTitleService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{write:{target:"id",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],E.prototype,"layerId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_18__.url)],E.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_12__.writer)("url")],E.prototype,"writeUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],E.prototype,"parsedUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],E.prototype,"store",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],E.prototype,"rootNode",void 0),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)(N)],E),E},T=-1e38;var O;!function(e){e[e.existingItem=0]="existingItem",e[e.newItem=1]="newItem"}(O||(O={}));const K="Scene Service",L={getTypeKeywords:()=>[],portalItemLayerType:"unknown",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:"throw"}};var P;!function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"}(P||(P={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fetchIndexInfo: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function r(r,n,t,s,a,i){let l=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:"page",rootPage:(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(n,{query:{f:"json",token:s},responseType:"json",signal:i})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(u){null!=a&&a.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",n,u),l=u}}if(!n)return null;const d=n?.split("/").pop(),p=`${r}/nodes/`,c=p+d;try{return{type:"node",rootNode:(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(c,{query:{f:"json",token:s},responseType:"json",signal:i})).data,urlPrefix:p}}catch(u){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("sceneservice:root-node-missing","Root node missing.",{pageError:l,nodeError:u,url:c})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getLoader: () => (/* binding */ u),
/* harmony export */   registerLoader: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let n=null;function t(t){n=t}function u(){return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/resourceUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addOrUpdateResource: () => (/* binding */ s),
/* harmony export */   contentToBlob: () => (/* binding */ p),
/* harmony export */   fetchResources: () => (/* binding */ o),
/* harmony export */   getSiblingOfSameType: () => (/* binding */ d),
/* harmony export */   getSiblingOfSameTypeI: () => (/* binding */ m),
/* harmony export */   removeAllResources: () => (/* binding */ l),
/* harmony export */   removeResource: () => (/* binding */ n),
/* harmony export */   splitPrefixFileNameAndExtension: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function o(e,t={},a){await e.load(a);const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.itemUrl,"resources"),{start:s=1,num:n=10,sortOrder:l="asc",sortField:u="created"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`portal-item-resource-${a}:invalid-path`,"Resource does not have a valid path");const n=e.portalItem;await n.load(s);const l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(n.userItemUrl,"add"===a?"addResources":"updateResources"),[c,i]=u(e.path),p=new FormData;return c&&"."!==c&&p.append("resourcesPrefix",c),null!=s&&s.compress&&p.append("compress","true"),p.append("fileName",i),p.append("file",o,i),p.append("f","json"),s?.access&&p.append("access",s.access),await n.portal.request(l,{method:"post",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await e.load(o);const s=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");await e.portal.request(s,{method:"post",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");return e.portal.request(a,{method:"post",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPathExtension)(e);return null==t?[e,""]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if("blob"===t.type)return t.blob;if("json"===t.type)return new Blob([t.jsonString],{type:"application/json"});return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.url,{responseType:"blob"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+o))}


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validateSaveAPIKey: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/apiKeyUtils.js */ "./node_modules/@arcgis/core/support/apiKeyUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){if(_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].apiKey&&(0,_support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_2__.supportsApiKey)(i.portal.url))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("save-api-key-utils:api-key-not-supported",`Saving is not supported on ${i.portal.url} when using an api key`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/support/saveUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/support/saveUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   beforeSave: () => (/* binding */ m),
/* harmony export */   saveResources: () => (/* binding */ u),
/* harmony export */   updateItemWithResources: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../portal/support/resourceUtils.js */ "./node_modules/@arcgis/core/portal/support/resourceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function u(e,r,o=null){const t=await i(e,r,o);await h(t,r,o)}async function p(e,r,o,t,s=null){const a=await i(o,t,s);await e.update({data:r}),await h(a,t,s)}async function i(e,s,n=null){if(!s?.resources)return;const u=s.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=s.portalItem;const p=new Set(s.resources.toKeep.map((e=>e.resource.path))),i=new Set,h=[];p.forEach((r=>{u.delete(r),e.paths.push(r)}));for(const r of s.resources.toUpdate)if(u.delete(r.resource.path),p.has(r.resource.path)||i.has(r.resource.path)){const{resource:o,content:t,finish:s,error:u}=r,p=(0,_portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__.getSiblingOfSameTypeI)(o,(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_3__.generateUUID)());e.paths.push(p.path),h.push(f({resource:p,content:t,compress:r.compress,finish:s,error:u},n))}else e.paths.push(r.resource.path),h.push(l(r,n)),i.add(r.resource.path);for(const r of s.resources.toAdd)e.paths.push(r.resource.path),u.has(r.resource.path)?u.delete(r.resource.path):h.push(f(r,n));if(0===h.length)return u;const m=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.allSettledErrors)(h);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),m.length>0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("save:resources","Failed to save one or more resources",{errors:m});return u}async function h(e,r,o=null){if(!e||!r.portalItem)return;const t=[];for(const s of e){const e=r.portalItem.resourceFromPath(s);t.push(e.portalItem.removeResource(e,o))}await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.eachAlways)(t)}async function f(r,o){const t={...null!=o?o:{},compress:r.compress},s=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(r.resource.portalItem.addResource(r.resource,await (0,_portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__.contentToBlob)(r.content),t));if(!0!==s.ok)throw r.error?.(s.error),s.error;r.finish?.(r.resource)}async function l(r,o){const t=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(r.resource.update(await (0,_portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__.contentToBlob)(r.content),o));if(!0!==t.ok)throw r.error?.(t.error),t.error;r.finish?.(r.resource)}async function m(e){const r=[];for(const o of e.allLayers)if("beforeSave"in o&&"function"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19taXhpbnNfU2NlbmVTZXJ2aWNlX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzJFLGNBQWMscURBQXFELGdDQUFnQyxJQUFJLHVGQUFDLCtDQUErQyxHQUE4Qjs7Ozs7Ozs7Ozs7Ozs7O0FDSmhRO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0Q0FBZ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o5RjtBQUNBO0FBQ0E7QUFDQTtBQUM2NkMsNENBQTRDLHVEQUFDLG9CQUFvQixzQkFBc0IsY0FBYyw0SUFBNEksbURBQW1ELDZJQUE2SSwrREFBQyxpQkFBaUIsVUFBVSxpQ0FBaUMseUNBQXlDLEdBQUcsMEJBQTBCLHFDQUFxQyx5QkFBeUIsbUNBQW1DLHNFQUFDLCtCQUErQiwyR0FBMkcsbUJBQW1CLHNFQUFDLFVBQVUsc0JBQXNCLGdDQUFnQyxrQ0FBa0Msb0RBQW9ELEdBQUcsT0FBTyw0REFBQyxlQUFlLGdEQUFnRCw0RkFBNEYsNERBQUMsRUFBRSx1RkFBdUYsRUFBRSxzQkFBc0IsU0FBUyxrREFBa0QsZ0JBQWdCLDRFQUE0RSxpQkFBaUIsMERBQTBELGtDQUFrQyx1QkFBdUIscURBQXFELHNCQUFzQiwrQkFBK0IsZ0RBQWdELGdGQUFDLGtCQUFrQixhQUFhLGlCQUFpQixRQUFRLGtFQUFDLFdBQVcscUJBQXFCLCtFQUErRSx1RUFBQyxJQUFJLFdBQVcsUUFBUSxtRkFBQyxFQUFFLG1EQUFtRCxFQUFFLHVFQUF1RSxrQkFBa0IsZ0ZBQUMsc0JBQXNCLGdCQUFnQiwyQkFBMkIsOERBQUMsSUFBSSxzQ0FBc0MsT0FBTyxVQUFVLGFBQWEsS0FBSyxzQ0FBc0MsZUFBZSx5RUFBQyw0SUFBNEksaUJBQWlCLHFCQUFxQix3REFBd0Qsd0RBQXdELHNEQUFDLHdEQUF3RCx5RUFBeUUs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QixRQUFRLGdCQUFnQiw0QkFBNEIsc0JBQXNCLHFDQUFxQyx1REFBQyxTQUFTLGdCQUFnQiw0QkFBNEIsc0JBQXNCLHFDQUFxQyx1REFBQyxTQUF1Tjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjkxRTtBQUNBO0FBQ0E7QUFDQTtBQUN1SCxjQUFjLEdBQUcsa0RBQUMsU0FBUyx1RUFBQyx5QkFBeUIsc0RBQUMsMEVBQTBFLGNBQWMsd0JBQXdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjdUO0FBQ0E7QUFDQTtBQUNBO0FBQzBVLDZCQUE2Qix1QkFBdUIsZUFBZSxpQ0FBaUMsdUJBQXVCLGdCQUFnQixPQUFPLGlCQUFpQiw2QkFBNkIsd0JBQXdCLDZEQUE2RCwyQ0FBMkMsNkVBQTZFLGVBQWUsNEJBQTRCLEdBQUcsaUhBQWlILE1BQU0sc0NBQXNDLEtBQUssdUZBQUMsR0FBRywyREFBQyxJQUFJLCtCQUErQiwwREFBMEQsS0FBSyx5RUFBeUUsK0hBQStILHlCQUF5QixjQUFjLHVFQUFDLElBQUksR0FBRyxxRUFBQyx5QkFBeUIsc0RBQUMsMERBQTBELFNBQVMsRUFBRSxTQUFTLDZCQUE2Qiw0QkFBNEIsV0FBVyxrQkFBa0IseUNBQXlDLHlDQUF5QyxNQUFNLGlFQUFDLElBQUksc0JBQXNCLFNBQVMsZUFBZSxxQkFBcUIsU0FBUywyREFBQyxvREFBb0QsK0VBQUMsZ0JBQWdCLDhDQUE4Qyx1QkFBdUIsc0JBQXNCLGNBQWMsMkRBQUMseUJBQXlCLCtFQUFDLGdCQUFnQiw4Q0FBOEMsdUJBQXVCLG9CQUFvQixXQUFXLGlGQUFpRix1QkFBdUIsYUFBYSw0QkFBb0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9hY2Nlc3NvclN1cHBvcnQvb3JpZ2luVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbXVsdGlPcmlnaW5KU09OU3VwcG9ydFV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvbWl4aW5zL1NjZW5lU2VydmljZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvSTNTSW5kZXhJbmZvLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9zY2hlbWFWYWxpZGF0b3JMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYmRvYy9zYXZlQVBJS2V5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYmRvYy9zdXBwb3J0L3NhdmVVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzTXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgcn1mcm9tXCIuLi9tdWx0aU9yaWdpbkpTT05TdXBwb3J0VXRpbHMuanNcIjtmdW5jdGlvbiBpKGkpe2k/LndyaXR0ZW5Qcm9wZXJ0aWVzJiZpLndyaXR0ZW5Qcm9wZXJ0aWVzLmZvckVhY2goKCh7dGFyZ2V0OmkscHJvcE5hbWU6dCxuZXdPcmlnaW46ZX0pPT57cihpKSYmZSYmaS5vcmlnaW5PZih0KSE9PWUmJmkudXBkYXRlT3JpZ2luKHQsZSl9KSl9ZXhwb3J0e2kgYXMgdXBkYXRlT3JpZ2luc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gaShpKXtyZXR1cm4gaSYmXCJnZXRBdE9yaWdpblwiaW4gaSYmXCJvcmlnaW5PZlwiaW4gaX1leHBvcnR7aSBhcyBpc011bHRpT3JpZ2luSlNPTk1peGlufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7dXJsVG9PYmplY3QgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7dXBkYXRlT3JpZ2lucyBhcyBjfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L29yaWdpblV0aWxzLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvSGVpZ2h0TW9kZWxJbmZvLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHt0aXRsZUZyb21VcmxBbmROYW1lIGFzIGgscGFyc2UgYXMgeSxjbGVhblRpdGxlIGFzIGYsc2FuaXRpemVVcmxXaXRoTGF5ZXJJZCBhcyB2LHdyaXRlVXJsV2l0aExheWVySWQgYXMgU31mcm9tXCIuLi9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e2lkIGFzIGcsdXJsIGFzIHd9ZnJvbVwiLi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e2ZldGNoSW5kZXhJbmZvIGFzIEl9ZnJvbVwiLi4vc3VwcG9ydC9JM1NJbmRleEluZm8uanNcIjtpbXBvcnR7Z2V0TG9hZGVyIGFzIHh9ZnJvbVwiLi4vc3VwcG9ydC9zY2hlbWFWYWxpZGF0b3JMb2FkZXIuanNcIjtpbXBvcnQgYiBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsLmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vLi4vcG9ydGFsL1BvcnRhbEl0ZW0uanNcIjtpbXBvcnR7dmFsaWRhdGVTYXZlQVBJS2V5IGFzIF99ZnJvbVwiLi4vLi4vd2ViZG9jL3NhdmVBUElLZXlVdGlscy5qc1wiO2ltcG9ydHtzYXZlUmVzb3VyY2VzIGFzIFIsdXBkYXRlSXRlbVdpdGhSZXNvdXJjZXMgYXMgQX1mcm9tXCIuLi8uLi93ZWJkb2Mvc3VwcG9ydC9zYXZlVXRpbHMuanNcIjtjb25zdCBOPVwiZXNyaS5sYXllcnMubWl4aW5zLlNjZW5lU2VydmljZVwiLFU9by5nZXRMb2dnZXIoTiksRT1vPT57bGV0IEU9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLmZ1bGxFeHRlbnQ9bnVsbCx0aGlzLmhlaWdodE1vZGVsSW5mbz1udWxsLHRoaXMubWluU2NhbGU9MCx0aGlzLm1heFNjYWxlPTAsdGhpcy52ZXJzaW9uPXttYWpvcjpOdW1iZXIuTmFOLG1pbm9yOk51bWJlci5OYU4sdmVyc2lvblN0cmluZzpcIlwifSx0aGlzLmNvcHlyaWdodD1udWxsLHRoaXMuc3VibGF5ZXJUaXRsZU1vZGU9XCJpdGVtLXRpdGxlXCIsdGhpcy50aXRsZT1udWxsLHRoaXMubGF5ZXJJZD1udWxsLHRoaXMuaW5kZXhJbmZvPW51bGwsdGhpcy5fZGVib3VuY2VkU2F2ZU9wZXJhdGlvbnM9aSgoYXN5bmMoZSx0LHIpPT57c3dpdGNoKGUpe2Nhc2UgUC5TQVZFOnJldHVybiB0aGlzLl9zYXZlKHQpO2Nhc2UgUC5TQVZFX0FTOnJldHVybiB0aGlzLl9zYXZlQXMocix0KX19KSl9cmVhZFNwYXRpYWxSZWZlcmVuY2UoZSx0KXtyZXR1cm4gdGhpcy5fcmVhZFNwYXRpYWxSZWZlcmVuY2UodCl9X3JlYWRTcGF0aWFsUmVmZXJlbmNlKGUpe2lmKG51bGwhPWUuc3BhdGlhbFJlZmVyZW5jZSlyZXR1cm4gbS5mcm9tSlNPTihlLnNwYXRpYWxSZWZlcmVuY2UpO3tjb25zdCB0PWUuc3RvcmUscj10LmluZGV4Q1JTfHx0Lmdlb2dyYXBoaWNDUlMsbz1yJiZwYXJzZUludChyLnN1YnN0cmluZyhyLmxhc3RJbmRleE9mKFwiL1wiKSsxLHIubGVuZ3RoKSwxMCk7cmV0dXJuIG51bGwhPW8/bmV3IG0obyk6bnVsbH19cmVhZEZ1bGxFeHRlbnQoZSx0LHIpe2lmKG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCBvPW51bGw9PWUuc3BhdGlhbFJlZmVyZW5jZT97Li4uZSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuX3JlYWRTcGF0aWFsUmVmZXJlbmNlKHQpfTplO3JldHVybiBkLmZyb21KU09OKG8scil9Y29uc3Qgbz10LnN0b3JlLGk9dGhpcy5fcmVhZFNwYXRpYWxSZWZlcmVuY2UodCk7cmV0dXJuIG51bGw9PWl8fG51bGw9PW8/LmV4dGVudHx8IUFycmF5LmlzQXJyYXkoby5leHRlbnQpfHxvLmV4dGVudC5zb21lKChlPT5lPFQpKT9udWxsOm5ldyBkKHt4bWluOm8uZXh0ZW50WzBdLHltaW46by5leHRlbnRbMV0seG1heDpvLmV4dGVudFsyXSx5bWF4Om8uZXh0ZW50WzNdLHNwYXRpYWxSZWZlcmVuY2U6aX0pfXBhcnNlVmVyc2lvblN0cmluZyhlKXtjb25zdCB0PXttYWpvcjpOdW1iZXIuTmFOLG1pbm9yOk51bWJlci5OYU4sdmVyc2lvblN0cmluZzplfSxyPWUuc3BsaXQoXCIuXCIpO3JldHVybiByLmxlbmd0aD49MiYmKHQubWFqb3I9cGFyc2VJbnQoclswXSwxMCksdC5taW5vcj1wYXJzZUludChyWzFdLDEwKSksdH1yZWFkVmVyc2lvbihlLHQpe2NvbnN0IHI9dC5zdG9yZSxvPW51bGwhPXIudmVyc2lvbj9yLnZlcnNpb24udG9TdHJpbmcoKTpcIlwiO3JldHVybiB0aGlzLnBhcnNlVmVyc2lvblN0cmluZyhvKX1yZWFkVGl0bGVQb3J0YWxJdGVtKGUpe3JldHVyblwiaXRlbS10aXRsZVwiIT09dGhpcy5zdWJsYXllclRpdGxlTW9kZT92b2lkIDA6ZX1yZWFkVGl0bGVTZXJ2aWNlKGUsdCl7Y29uc3Qgcj10aGlzLnBvcnRhbEl0ZW0/LnRpdGxlO2lmKFwiaXRlbS10aXRsZVwiPT09dGhpcy5zdWJsYXllclRpdGxlTW9kZSlyZXR1cm4gaCh0aGlzLnVybCx0Lm5hbWUpO2xldCBvPXQubmFtZTtpZighbyYmdGhpcy51cmwpe2NvbnN0IGU9eSh0aGlzLnVybCk7bnVsbCE9ZSYmKG89ZS50aXRsZSl9cmV0dXJuXCJpdGVtLXRpdGxlLWFuZC1zZXJ2aWNlLW5hbWVcIj09PXRoaXMuc3VibGF5ZXJUaXRsZU1vZGUmJnImJihvPXIrXCIgLSBcIitvKSxmKG8pfXNldCB1cmwoZSl7Y29uc3QgdD12KHtsYXllcjp0aGlzLHVybDplLG5vblN0YW5kYXJkVXJsQWxsb3dlZDohMSxsb2dnZXI6VX0pO3RoaXMuX3NldChcInVybFwiLHQudXJsKSxudWxsIT10LmxheWVySWQmJnRoaXMuX3NldChcImxheWVySWRcIix0LmxheWVySWQpfXdyaXRlVXJsKGUsdCxyLG8pe1ModGhpcyxlLFwibGF5ZXJzXCIsdCxvKX1nZXQgcGFyc2VkVXJsKCl7Y29uc3QgZT10aGlzLl9nZXQoXCJ1cmxcIiksdD1zKGUpO3JldHVybiBudWxsIT10aGlzLmxheWVySWQmJih0LnBhdGg9YCR7dC5wYXRofS9sYXllcnMvJHt0aGlzLmxheWVySWR9YCksdH1hc3luYyBfZmV0Y2hJbmRleEFuZFVwZGF0ZUV4dGVudChlLHQpe3RoaXMuaW5kZXhJbmZvPUkodGhpcy5wYXJzZWRVcmwucGF0aCx0aGlzLnJvb3ROb2RlLGUsdGhpcy5hcGlLZXksVSx0KSxudWxsPT10aGlzLmZ1bGxFeHRlbnR8fHRoaXMuZnVsbEV4dGVudC5oYXNafHx0aGlzLl91cGRhdGVFeHRlbnQoYXdhaXQgdGhpcy5pbmRleEluZm8pfV91cGRhdGVFeHRlbnQoZSl7aWYoXCJwYWdlXCI9PT1lPy50eXBlKXtjb25zdCB0PWUucm9vdEluZGV4JWUucGFnZVNpemUsbz1lLnJvb3RQYWdlPy5ub2Rlcz8uW3RdO2lmKG51bGw9PW8/Lm9iYj8uY2VudGVyfHxudWxsPT1vLm9iYi5oYWxmU2l6ZSl0aHJvdyBuZXcgcihcInNjZW5lc2VydmljZTppbnZhbGlkLW5vZGUtcGFnZVwiLFwiSW52YWxpZCBub2RlIHBhZ2UuXCIpO2lmKG8ub2JiLmNlbnRlclswXTxUfHxudWxsPT10aGlzLmZ1bGxFeHRlbnR8fHRoaXMuZnVsbEV4dGVudC5oYXNaKXJldHVybjtjb25zdCBpPW8ub2JiLmhhbGZTaXplLHM9by5vYmIuY2VudGVyWzJdLGE9TWF0aC5zcXJ0KGlbMF0qaVswXStpWzFdKmlbMV0raVsyXSppWzJdKTt0aGlzLmZ1bGxFeHRlbnQuem1pbj1zLWEsdGhpcy5mdWxsRXh0ZW50LnptYXg9cythfWVsc2UgaWYoXCJub2RlXCI9PT1lPy50eXBlKXtjb25zdCB0PWUucm9vdE5vZGU/Lm1icztpZighQXJyYXkuaXNBcnJheSh0KXx8NCE9PXQubGVuZ3RofHx0WzBdPFQpcmV0dXJuO2NvbnN0IHI9dFsyXSxvPXRbM10se2Z1bGxFeHRlbnQ6aX09dGhpcztpJiYoaS56bWluPXItbyxpLnptYXg9citvKX19YXN5bmMgX2ZldGNoU2VydmljZShlKXtpZihudWxsPT10aGlzLnVybCl0aHJvdyBuZXcgcihcInNjZW5lc2VydmljZTp1cmwtbm90LXNldFwiLFwiU2NlbmUgc2VydmljZSBjYW4gbm90IGJlIGxvYWRlZCB3aXRob3V0IHZhbGlkIHBvcnRhbCBpdGVtIG9yIHVybFwiKTtpZihudWxsPT10aGlzLmxheWVySWQmJi9TY2VuZVNlcnZlclxcLyokL2kudGVzdCh0aGlzLnVybCkpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hGaXJzdExheWVySWQoZSk7bnVsbCE9dCYmKHRoaXMubGF5ZXJJZD10KX1yZXR1cm4gdGhpcy5fZmV0Y2hTZXJ2aWNlTGF5ZXIoZSl9YXN5bmMgX2ZldGNoRmlyc3RMYXllcklkKGUpe2NvbnN0IHI9YXdhaXQgdCh0aGlzLnVybCx7cXVlcnk6e2Y6XCJqc29uXCIsdG9rZW46dGhpcy5hcGlLZXl9LHJlc3BvbnNlVHlwZTpcImpzb25cIixzaWduYWw6ZX0pO2lmKHIuZGF0YSYmQXJyYXkuaXNBcnJheShyLmRhdGEubGF5ZXJzKSYmci5kYXRhLmxheWVycy5sZW5ndGg+MClyZXR1cm4gci5kYXRhLmxheWVyc1swXS5pZH1hc3luYyBfZmV0Y2hTZXJ2aWNlTGF5ZXIoZSl7Y29uc3Qgcj1hd2FpdCB0KHRoaXMucGFyc2VkVXJsPy5wYXRoPz9cIlwiLHtxdWVyeTp7ZjpcImpzb25cIix0b2tlbjp0aGlzLmFwaUtleX0scmVzcG9uc2VUeXBlOlwianNvblwiLHNpZ25hbDplfSk7ci5zc2wmJih0aGlzLnVybD10aGlzLnVybC5yZXBsYWNlKC9eaHR0cDovaSxcImh0dHBzOlwiKSk7bGV0IG89ITE7aWYoci5kYXRhLmxheWVyVHlwZSYmXCJWb3hlbFwiPT09ci5kYXRhLmxheWVyVHlwZSYmKG89ITApLG8pcmV0dXJuIHRoaXMuX2ZldGNoVm94ZWxTZXJ2aWNlTGF5ZXIoKTtjb25zdCBpPXIuZGF0YTt0aGlzLnJlYWQoaSx0aGlzLl9nZXRTZXJ2aWNlQ29udGV4dCgpKSx0aGlzLnZhbGlkYXRlTGF5ZXIoaSl9YXN5bmMgX2ZldGNoVm94ZWxTZXJ2aWNlTGF5ZXIoZSl7Y29uc3Qgcj0oYXdhaXQgdCh0aGlzLnBhcnNlZFVybD8ucGF0aCtcIi9sYXllclwiLHtxdWVyeTp7ZjpcImpzb25cIix0b2tlbjp0aGlzLmFwaUtleX0scmVzcG9uc2VUeXBlOlwianNvblwiLHNpZ25hbDplfSkpLmRhdGE7dGhpcy5yZWFkKHIsdGhpcy5fZ2V0U2VydmljZUNvbnRleHQoKSksdGhpcy52YWxpZGF0ZUxheWVyKHIpfV9nZXRTZXJ2aWNlQ29udGV4dCgpe3JldHVybntvcmlnaW46XCJzZXJ2aWNlXCIscG9ydGFsSXRlbTp0aGlzLnBvcnRhbEl0ZW0scG9ydGFsOnRoaXMucG9ydGFsSXRlbT8ucG9ydGFsLHVybDp0aGlzLnBhcnNlZFVybH19YXN5bmMgX2Vuc3VyZUxvYWRCZWZvcmVTYXZlKCl7YXdhaXQgdGhpcy5sb2FkKCksXCJiZWZvcmVTYXZlXCJpbiB0aGlzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmJlZm9yZVNhdmUmJmF3YWl0IHRoaXMuYmVmb3JlU2F2ZSgpfXZhbGlkYXRlTGF5ZXIoZSl7fV91cGRhdGVUeXBlS2V5d29yZHMoZSx0LHIpe2UudHlwZUtleXdvcmRzfHwoZS50eXBlS2V5d29yZHM9W10pO2NvbnN0IG89dC5nZXRUeXBlS2V5d29yZHMoKTtmb3IoY29uc3QgaSBvZiBvKWUudHlwZUtleXdvcmRzLnB1c2goaSk7ZS50eXBlS2V5d29yZHMmJihlLnR5cGVLZXl3b3Jkcz1lLnR5cGVLZXl3b3Jkcy5maWx0ZXIoKChlLHQscik9PnIuaW5kZXhPZihlKT09PXQpKSxyPT09Ty5uZXdJdGVtJiYoZS50eXBlS2V5d29yZHM9ZS50eXBlS2V5d29yZHMuZmlsdGVyKChlPT5cIkhvc3RlZCBTZXJ2aWNlXCIhPT1lKSkpKX1hc3luYyBfc2F2ZUFzKGUsdCl7Y29uc3Qgbz17Li4uTCwuLi50fTtsZXQgaT1qLmZyb20oZSk7aWYoIWkpdGhyb3cgbmV3IHIoXCJzY2VuZXNlcnZpY2U6cG9ydGFsLWl0ZW0tcmVxdWlyZWRcIixcIl9zYXZlQXMoKSByZXF1aXJlcyBhIHBvcnRhbCBpdGVtIHRvIHNhdmUgdG9cIik7XyhpKSxpLmlkJiYoaT1pLmNsb25lKCksaS5pZD1udWxsKTtjb25zdCBzPWkucG9ydGFsfHxiLmdldERlZmF1bHQoKTthd2FpdCB0aGlzLl9lbnN1cmVMb2FkQmVmb3JlU2F2ZSgpLGkudHlwZT1LLGkucG9ydGFsPXM7Y29uc3QgYT17b3JpZ2luOlwicG9ydGFsLWl0ZW1cIix1cmw6bnVsbCxtZXNzYWdlczpbXSxwb3J0YWw6cyxwb3J0YWxJdGVtOmksd3JpdHRlblByb3BlcnRpZXM6W10sYmxvY2tlZFJlbGF0aXZlVXJsczpbXSxyZXNvdXJjZXM6e3RvQWRkOltdLHRvVXBkYXRlOltdLHRvS2VlcDpbXSxwZW5kaW5nT3BlcmF0aW9uczpbXX19LG49e2xheWVyczpbdGhpcy53cml0ZSh7fSxhKV19O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChhLnJlc291cmNlcy5wZW5kaW5nT3BlcmF0aW9ucz8/W10pLGF3YWl0IHRoaXMuX3ZhbGlkYXRlQWdhaW5zdEpTT05TY2hlbWEobixhLG8pLGkudXJsPXRoaXMudXJsLGkudGl0bGV8fChpLnRpdGxlPXRoaXMudGl0bGUpLHRoaXMuX3VwZGF0ZVR5cGVLZXl3b3JkcyhpLG8sTy5uZXdJdGVtKSxhd2FpdCBzLnNpZ25JbigpLGF3YWl0KHMudXNlcj8uYWRkSXRlbSh7aXRlbTppLGZvbGRlcjpvPy5mb2xkZXIsZGF0YTpufSkpLGF3YWl0IFIodGhpcy5yZXNvdXJjZVJlZmVyZW5jZXMsYSxudWxsKSx0aGlzLnBvcnRhbEl0ZW09aSxjKGEpLGEucG9ydGFsSXRlbT1pLGl9YXN5bmMgX3NhdmUoZSl7Y29uc3QgdD17Li4uTCwuLi5lfTtpZighdGhpcy5wb3J0YWxJdGVtKXRocm93IG5ldyByKFwic2NlbmVzZXJ2aWNlOnBvcnRhbC1pdGVtLW5vdC1zZXRcIixcIlBvcnRhbCBpdGVtIHRvIHNhdmUgdG8gaGFzIG5vdCBiZWVuIHNldCBvbiB0aGlzIFNjZW5lU2VydmljZVwiKTtpZihfKHRoaXMucG9ydGFsSXRlbSksdGhpcy5wb3J0YWxJdGVtLnR5cGUhPT1LKXRocm93IG5ldyByKFwic2NlbmVzZXJ2aWNlOnBvcnRhbC1pdGVtLXdyb25nLXR5cGVcIixgUG9ydGFsIGl0ZW0gbmVlZHMgdG8gaGF2ZSB0eXBlIFwiJHtLfVwiYCk7YXdhaXQgdGhpcy5fZW5zdXJlTG9hZEJlZm9yZVNhdmUoKTtjb25zdCBvPXtvcmlnaW46XCJwb3J0YWwtaXRlbVwiLHVybDp0aGlzLnBvcnRhbEl0ZW0uaXRlbVVybCYmcyh0aGlzLnBvcnRhbEl0ZW0uaXRlbVVybCksbWVzc2FnZXM6W10scG9ydGFsOnRoaXMucG9ydGFsSXRlbS5wb3J0YWx8fGIuZ2V0RGVmYXVsdCgpLHBvcnRhbEl0ZW06dGhpcy5wb3J0YWxJdGVtLHdyaXR0ZW5Qcm9wZXJ0aWVzOltdLGJsb2NrZWRSZWxhdGl2ZVVybHM6W10scmVzb3VyY2VzOnt0b0FkZDpbXSx0b1VwZGF0ZTpbXSx0b0tlZXA6W10scGVuZGluZ09wZXJhdGlvbnM6W119fSxpPXtsYXllcnM6W3RoaXMud3JpdGUoe30sbyldfTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoby5yZXNvdXJjZXMucGVuZGluZ09wZXJhdGlvbnM/P1tdKSxhd2FpdCB0aGlzLl92YWxpZGF0ZUFnYWluc3RKU09OU2NoZW1hKGksbyx0KSx0aGlzLnBvcnRhbEl0ZW0udXJsPXRoaXMudXJsLHRoaXMucG9ydGFsSXRlbS50aXRsZXx8KHRoaXMucG9ydGFsSXRlbS50aXRsZT10aGlzLnRpdGxlKSx0aGlzLl91cGRhdGVUeXBlS2V5d29yZHModGhpcy5wb3J0YWxJdGVtLHQsTy5leGlzdGluZ0l0ZW0pLGF3YWl0IEEodGhpcy5wb3J0YWxJdGVtLGksdGhpcy5yZXNvdXJjZVJlZmVyZW5jZXMsbyxudWxsKSxjKG8pLHRoaXMucG9ydGFsSXRlbX1hc3luYyBfdmFsaWRhdGVBZ2FpbnN0SlNPTlNjaGVtYShlLHQsbyl7bGV0IGk9dC5tZXNzYWdlcz8uZmlsdGVyKChlPT5cImVycm9yXCI9PT1lLnR5cGUpKS5tYXAoKGU9Pm5ldyByKGUubmFtZSxlLm1lc3NhZ2UsZS5kZXRhaWxzKSkpPz9bXTtvPy52YWxpZGF0aW9uT3B0aW9ucz8uaWdub3JlVW5zdXBwb3J0ZWQmJihpPWkuZmlsdGVyKChlPT5cImxheWVyOnVuc3VwcG9ydGVkXCIhPT1lLm5hbWUmJlwic3ltYm9sOnVuc3VwcG9ydGVkXCIhPT1lLm5hbWUmJlwic3ltYm9sLWxheWVyOnVuc3VwcG9ydGVkXCIhPT1lLm5hbWUmJlwicHJvcGVydHk6dW5zdXBwb3J0ZWRcIiE9PWUubmFtZSYmXCJ1cmw6dW5zdXBwb3J0ZWRcIiE9PWUubmFtZSYmXCJzY2VuZW1vZGlmaWNhdGlvbjp1bnN1cHBvcnRlZFwiIT09ZS5uYW1lKSkpO2NvbnN0IHM9bz8udmFsaWRhdGlvbk9wdGlvbnMsYT1zPy5lbmFibGVkLG49eCgpO2lmKGEmJm4pe2NvbnN0IHQ9KGF3YWl0IG4oKSkudmFsaWRhdGUoZSxvLnBvcnRhbEl0ZW1MYXllclR5cGUpO2lmKHQubGVuZ3RoPjApe2NvbnN0IGU9YExheWVyIGl0ZW0gZGlkIG5vdCB2YWxpZGF0ZTpcXG4ke3Quam9pbihcIlxcblwiKX1gO2lmKFUuZXJyb3IoYF92YWxpZGF0ZUFnYWluc3RKU09OU2NoZW1hKCk6ICR7ZX1gKSxcInRocm93XCI9PT1zLmZhaWxQb2xpY3kpe2NvbnN0IGU9dC5tYXAoKGU9Pm5ldyByKFwic2NlbmVzZXJ2aWNlOnNjaGVtYS12YWxpZGF0aW9uXCIsZSkpKS5jb25jYXQoaSk7dGhyb3cgbmV3IHIoXCJzY2VuZXNlcnZpY2UtdmFsaWRhdGU6ZXJyb3JcIixcIkZhaWxlZCB0byBzYXZlIGxheWVyIGl0ZW0gZHVlIHRvIHNjaGVtYSB2YWxpZGF0aW9uLCBzZWUgYGRldGFpbHMuZXJyb3JzYC5cIix7Y29tYmluZWQ6ZX0pfX19aWYoaS5sZW5ndGg+MCl0aHJvdyBuZXcgcihcInNjZW5lc2VydmljZTpzYXZlXCIsXCJGYWlsZWQgdG8gc2F2ZSBTY2VuZVNlcnZpY2UgZHVlIHRvIHVuc3VwcG9ydGVkIG9yIGludmFsaWQgY29udGVudC4gU2VlICdkZXRhaWxzLmVycm9ycycgZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb25cIix7ZXJyb3JzOml9KX19O3JldHVybiBlKFthKGcpXSxFLnByb3RvdHlwZSxcImlkXCIsdm9pZCAwKSxlKFthKHt0eXBlOm19KV0sRS5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtuKFwic3BhdGlhbFJlZmVyZW5jZVwiLFtcInNwYXRpYWxSZWZlcmVuY2VcIixcInN0b3JlLmluZGV4Q1JTXCIsXCJzdG9yZS5nZW9ncmFwaGljQ1JTXCJdKV0sRS5wcm90b3R5cGUsXCJyZWFkU3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW2Eoe3R5cGU6ZH0pXSxFLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW24oXCJmdWxsRXh0ZW50XCIsW1wiZnVsbEV4dGVudFwiLFwic3RvcmUuZXh0ZW50XCIsXCJzcGF0aWFsUmVmZXJlbmNlXCIsXCJzdG9yZS5pbmRleENSU1wiLFwic3RvcmUuZ2VvZ3JhcGhpY0NSU1wiXSldLEUucHJvdG90eXBlLFwicmVhZEZ1bGxFeHRlbnRcIixudWxsKSxlKFthKHtyZWFkT25seTohMCx0eXBlOnV9KV0sRS5wcm90b3R5cGUsXCJoZWlnaHRNb2RlbEluZm9cIix2b2lkIDApLGUoW2Eoe3R5cGU6TnVtYmVyLGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24ubWluU2NhbGVcIix3cml0ZTohMCxvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJtaW5TY2FsZVwifSx3cml0ZTohMX19fX0pXSxFLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsdm9pZCAwKSxlKFthKHt0eXBlOk51bWJlcixqc29uOntuYW1lOlwibGF5ZXJEZWZpbml0aW9uLm1heFNjYWxlXCIsd3JpdGU6ITAsb3JpZ2luczp7c2VydmljZTp7cmVhZDp7c291cmNlOlwibWF4U2NhbGVcIn0sd3JpdGU6ITF9fX19KV0sRS5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0sRS5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsdm9pZCAwKSxlKFtuKFwidmVyc2lvblwiLFtcInN0b3JlLnZlcnNpb25cIl0pXSxFLnByb3RvdHlwZSxcInJlYWRWZXJzaW9uXCIsbnVsbCksZShbYSh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp7c291cmNlOlwiY29weXJpZ2h0VGV4dFwifX19KV0sRS5wcm90b3R5cGUsXCJjb3B5cmlnaHRcIix2b2lkIDApLGUoW2Eoe3R5cGU6U3RyaW5nLGpzb246e3JlYWQ6ITF9fSldLEUucHJvdG90eXBlLFwic3VibGF5ZXJUaXRsZU1vZGVcIix2b2lkIDApLGUoW2Eoe3R5cGU6U3RyaW5nfSldLEUucHJvdG90eXBlLFwidGl0bGVcIix2b2lkIDApLGUoW24oXCJwb3J0YWwtaXRlbVwiLFwidGl0bGVcIildLEUucHJvdG90eXBlLFwicmVhZFRpdGxlUG9ydGFsSXRlbVwiLG51bGwpLGUoW24oXCJzZXJ2aWNlXCIsXCJ0aXRsZVwiLFtcIm5hbWVcIl0pXSxFLnByb3RvdHlwZSxcInJlYWRUaXRsZVNlcnZpY2VcIixudWxsKSxlKFthKHt0eXBlOk51bWJlcixqc29uOntvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJpZFwifX0sXCJwb3J0YWwtaXRlbVwiOnt3cml0ZTp7dGFyZ2V0OlwiaWRcIixpc1JlcXVpcmVkOiEwLGlnbm9yZU9yaWdpbjohMH0scmVhZDohMX19fX0pXSxFLnByb3RvdHlwZSxcImxheWVySWRcIix2b2lkIDApLGUoW2EodyldLEUucHJvdG90eXBlLFwidXJsXCIsbnVsbCksZShbcChcInVybFwiKV0sRS5wcm90b3R5cGUsXCJ3cml0ZVVybFwiLG51bGwpLGUoW2EoKV0sRS5wcm90b3R5cGUsXCJwYXJzZWRVcmxcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxFLnByb3RvdHlwZSxcInN0b3JlXCIsdm9pZCAwKSxlKFthKHt0eXBlOlN0cmluZyxyZWFkT25seTohMCxqc29uOntyZWFkOntzb3VyY2U6XCJzdG9yZS5yb290Tm9kZVwifX19KV0sRS5wcm90b3R5cGUsXCJyb290Tm9kZVwiLHZvaWQgMCksRT1lKFtsKE4pXSxFKSxFfSxUPS0xZTM4O3ZhciBPOyFmdW5jdGlvbihlKXtlW2UuZXhpc3RpbmdJdGVtPTBdPVwiZXhpc3RpbmdJdGVtXCIsZVtlLm5ld0l0ZW09MV09XCJuZXdJdGVtXCJ9KE98fChPPXt9KSk7Y29uc3QgSz1cIlNjZW5lIFNlcnZpY2VcIixMPXtnZXRUeXBlS2V5d29yZHM6KCk9PltdLHBvcnRhbEl0ZW1MYXllclR5cGU6XCJ1bmtub3duXCIsdmFsaWRhdGlvbk9wdGlvbnM6e2VuYWJsZWQ6ITAsaWdub3JlVW5zdXBwb3J0ZWQ6ITEsZmFpbFBvbGljeTpcInRocm93XCJ9fTt2YXIgUDshZnVuY3Rpb24oZSl7ZVtlLlNBVkU9MF09XCJTQVZFXCIsZVtlLlNBVkVfQVM9MV09XCJTQVZFX0FTXCJ9KFB8fChQPXt9KSk7ZXhwb3J0e1AgYXMgU2F2ZU9wZXJhdGlvblR5cGUsRSBhcyBTY2VuZVNlcnZpY2UsSyBhcyBzY2VuZVNlcnZpY2VJdGVtVHlwZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjthc3luYyBmdW5jdGlvbiByKHIsbix0LHMsYSxpKXtsZXQgbD1udWxsO2lmKG51bGwhPXQpe2NvbnN0IG89YCR7cn0vbm9kZXBhZ2VzL2Asbj1vK01hdGguZmxvb3IodC5yb290SW5kZXgvdC5ub2Rlc1BlclBhZ2UpO3RyeXtyZXR1cm57dHlwZTpcInBhZ2VcIixyb290UGFnZTooYXdhaXQgZShuLHtxdWVyeTp7ZjpcImpzb25cIix0b2tlbjpzfSxyZXNwb25zZVR5cGU6XCJqc29uXCIsc2lnbmFsOml9KSkuZGF0YSxyb290SW5kZXg6dC5yb290SW5kZXgscGFnZVNpemU6dC5ub2Rlc1BlclBhZ2UsbG9kTWV0cmljOnQubG9kU2VsZWN0aW9uTWV0cmljVHlwZSx1cmxQcmVmaXg6b319Y2F0Y2godSl7bnVsbCE9YSYmYS53YXJuKFwiI2ZldGNoSW5kZXhJbmZvKClcIixcIkZhaWxlZCB0byBsb2FkIHJvb3Qgbm9kZSBwYWdlLiBGYWxsaW5nIGJhY2sgdG8gbm9kZSBkb2N1bWVudHMuXCIsbix1KSxsPXV9fWlmKCFuKXJldHVybiBudWxsO2NvbnN0IGQ9bj8uc3BsaXQoXCIvXCIpLnBvcCgpLHA9YCR7cn0vbm9kZXMvYCxjPXArZDt0cnl7cmV0dXJue3R5cGU6XCJub2RlXCIscm9vdE5vZGU6KGF3YWl0IGUoYyx7cXVlcnk6e2Y6XCJqc29uXCIsdG9rZW46c30scmVzcG9uc2VUeXBlOlwianNvblwiLHNpZ25hbDppfSkpLmRhdGEsdXJsUHJlZml4OnB9fWNhdGNoKHUpe3Rocm93IG5ldyBvKFwic2NlbmVzZXJ2aWNlOnJvb3Qtbm9kZS1taXNzaW5nXCIsXCJSb290IG5vZGUgbWlzc2luZy5cIix7cGFnZUVycm9yOmwsbm9kZUVycm9yOnUsdXJsOmN9KX19ZXhwb3J0e3IgYXMgZmV0Y2hJbmRleEluZm99O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBuPW51bGw7ZnVuY3Rpb24gdCh0KXtuPXR9ZnVuY3Rpb24gdSgpe3JldHVybiBufWV4cG9ydHt1IGFzIGdldExvYWRlcix0IGFzIHJlZ2lzdGVyTG9hZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtqb2luIGFzIHIsZ2V0UGF0aEV4dGVuc2lvbiBhcyBhfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBvKGUsdD17fSxhKXthd2FpdCBlLmxvYWQoYSk7Y29uc3Qgbz1yKGUuaXRlbVVybCxcInJlc291cmNlc1wiKSx7c3RhcnQ6cz0xLG51bTpuPTEwLHNvcnRPcmRlcjpsPVwiYXNjXCIsc29ydEZpZWxkOnU9XCJjcmVhdGVkXCJ9PXQsYz17cXVlcnk6e3N0YXJ0OnMsbnVtOm4sc29ydE9yZGVyOmwsc29ydEZpZWxkOnUsdG9rZW46ZS5hcGlLZXl9LHNpZ25hbDphPy5zaWduYWx9LGk9YXdhaXQgZS5wb3J0YWwucmVxdWVzdChvLGMpO3JldHVybnt0b3RhbDppLnRvdGFsLG5leHRTdGFydDppLm5leHRTdGFydCxyZXNvdXJjZXM6aS5yZXNvdXJjZXMubWFwKCgoe2NyZWF0ZWQ6dCxzaXplOnIscmVzb3VyY2U6YX0pPT4oe2NyZWF0ZWQ6bmV3IERhdGUodCksc2l6ZTpyLHJlc291cmNlOmUucmVzb3VyY2VGcm9tUGF0aChhKX0pKSl9fWFzeW5jIGZ1bmN0aW9uIHMoZSxhLG8scyl7aWYoIWUuaGFzUGF0aCgpKXRocm93IG5ldyB0KGBwb3J0YWwtaXRlbS1yZXNvdXJjZS0ke2F9OmludmFsaWQtcGF0aGAsXCJSZXNvdXJjZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcGF0aFwiKTtjb25zdCBuPWUucG9ydGFsSXRlbTthd2FpdCBuLmxvYWQocyk7Y29uc3QgbD1yKG4udXNlckl0ZW1VcmwsXCJhZGRcIj09PWE/XCJhZGRSZXNvdXJjZXNcIjpcInVwZGF0ZVJlc291cmNlc1wiKSxbYyxpXT11KGUucGF0aCkscD1uZXcgRm9ybURhdGE7cmV0dXJuIGMmJlwiLlwiIT09YyYmcC5hcHBlbmQoXCJyZXNvdXJjZXNQcmVmaXhcIixjKSxudWxsIT1zJiZzLmNvbXByZXNzJiZwLmFwcGVuZChcImNvbXByZXNzXCIsXCJ0cnVlXCIpLHAuYXBwZW5kKFwiZmlsZU5hbWVcIixpKSxwLmFwcGVuZChcImZpbGVcIixvLGkpLHAuYXBwZW5kKFwiZlwiLFwianNvblwiKSxzPy5hY2Nlc3MmJnAuYXBwZW5kKFwiYWNjZXNzXCIscy5hY2Nlc3MpLGF3YWl0IG4ucG9ydGFsLnJlcXVlc3QobCx7bWV0aG9kOlwicG9zdFwiLGJvZHk6cCxzaWduYWw6cz8uc2lnbmFsfSksZX1hc3luYyBmdW5jdGlvbiBuKGUsYSxvKXtpZighYS5oYXNQYXRoKCkpdGhyb3cgbmV3IHQoXCJwb3J0YWwtaXRlbS1yZXNvdXJjZXMtcmVtb3ZlOmludmFsaWQtcGF0aFwiLFwiUmVzb3VyY2UgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHBhdGhcIik7YXdhaXQgZS5sb2FkKG8pO2NvbnN0IHM9cihlLnVzZXJJdGVtVXJsLFwicmVtb3ZlUmVzb3VyY2VzXCIpO2F3YWl0IGUucG9ydGFsLnJlcXVlc3Qocyx7bWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntyZXNvdXJjZTphLnBhdGh9LHNpZ25hbDpvPy5zaWduYWx9KSxhLnBvcnRhbEl0ZW09bnVsbH1hc3luYyBmdW5jdGlvbiBsKGUsdCl7YXdhaXQgZS5sb2FkKHQpO2NvbnN0IGE9cihlLnVzZXJJdGVtVXJsLFwicmVtb3ZlUmVzb3VyY2VzXCIpO3JldHVybiBlLnBvcnRhbC5yZXF1ZXN0KGEse21ldGhvZDpcInBvc3RcIixxdWVyeTp7ZGVsZXRlQWxsOiEwfSxzaWduYWw6dD8uc2lnbmFsfSl9ZnVuY3Rpb24gdShlKXtjb25zdCB0PWUubGFzdEluZGV4T2YoXCIvXCIpO3JldHVybi0xPT09dD9bXCIuXCIsZV06W2Uuc2xpY2UoMCx0KSxlLnNsaWNlKHQrMSldfWZ1bmN0aW9uIGMoZSl7Y29uc3RbdCxyXT1pKGUpLFthLG9dPXUodCk7cmV0dXJuW2EsbyxyXX1mdW5jdGlvbiBpKGUpe2NvbnN0IHQ9YShlKTtyZXR1cm4gbnVsbD09dD9bZSxcIlwiXTpbZS5zbGljZSgwLGUubGVuZ3RoLXQubGVuZ3RoLTEpLGAuJHt0fWBdfWFzeW5jIGZ1bmN0aW9uIHAodCl7aWYoXCJibG9iXCI9PT10LnR5cGUpcmV0dXJuIHQuYmxvYjtpZihcImpzb25cIj09PXQudHlwZSlyZXR1cm4gbmV3IEJsb2IoW3QuanNvblN0cmluZ10se3R5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCJ9KTtyZXR1cm4oYXdhaXQgZSh0LnVybCx7cmVzcG9uc2VUeXBlOlwiYmxvYlwifSkpLmRhdGF9ZnVuY3Rpb24gZChlLHQpe2lmKCFlLmhhc1BhdGgoKSlyZXR1cm4gbnVsbDtjb25zdFthLCxvXT1jKGUucGF0aCk7cmV0dXJuIGUucG9ydGFsSXRlbS5yZXNvdXJjZUZyb21QYXRoKHIoYSx0K28pKX1mdW5jdGlvbiBtKGUsdCl7aWYoIWUuaGFzUGF0aCgpKXJldHVybiBudWxsO2NvbnN0W2EsLG9dPWMoZS5wYXRoKTtyZXR1cm4gZS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgocihhLHQrbykpfWV4cG9ydHtzIGFzIGFkZE9yVXBkYXRlUmVzb3VyY2UscCBhcyBjb250ZW50VG9CbG9iLG8gYXMgZmV0Y2hSZXNvdXJjZXMsZCBhcyBnZXRTaWJsaW5nT2ZTYW1lVHlwZSxtIGFzIGdldFNpYmxpbmdPZlNhbWVUeXBlSSxsIGFzIHJlbW92ZUFsbFJlc291cmNlcyxuIGFzIHJlbW92ZVJlc291cmNlLGMgYXMgc3BsaXRQcmVmaXhGaWxlTmFtZUFuZEV4dGVuc2lvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IG8gZnJvbVwiLi4vY29uZmlnLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdXBwb3J0c0FwaUtleSBhcyBwfWZyb21cIi4uL3N1cHBvcnQvYXBpS2V5VXRpbHMuanNcIjtmdW5jdGlvbiBpKGkpe2lmKG8uYXBpS2V5JiZwKGkucG9ydGFsLnVybCkpdGhyb3cgbmV3IHIoXCJzYXZlLWFwaS1rZXktdXRpbHM6YXBpLWtleS1ub3Qtc3VwcG9ydGVkXCIsYFNhdmluZyBpcyBub3Qgc3VwcG9ydGVkIG9uICR7aS5wb3J0YWwudXJsfSB3aGVuIHVzaW5nIGFuIGFwaSBrZXlgKX1leHBvcnR7aSBhcyB2YWxpZGF0ZVNhdmVBUElLZXl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZXN1bHQgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2FsbFNldHRsZWRFcnJvcnMgYXMgbyx0aHJvd0lmQWJvcnRlZCBhcyB0LGVhY2hBbHdheXMgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtnZW5lcmF0ZVVVSUQgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3V1aWQuanNcIjtpbXBvcnR7Z2V0U2libGluZ09mU2FtZVR5cGVJIGFzIGMsY29udGVudFRvQmxvYiBhcyBufWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiB1KGUscixvPW51bGwpe2NvbnN0IHQ9YXdhaXQgaShlLHIsbyk7YXdhaXQgaCh0LHIsbyl9YXN5bmMgZnVuY3Rpb24gcChlLHIsbyx0LHM9bnVsbCl7Y29uc3QgYT1hd2FpdCBpKG8sdCxzKTthd2FpdCBlLnVwZGF0ZSh7ZGF0YTpyfSksYXdhaXQgaChhLHQscyl9YXN5bmMgZnVuY3Rpb24gaShlLHMsbj1udWxsKXtpZighcz8ucmVzb3VyY2VzKXJldHVybjtjb25zdCB1PXMucG9ydGFsSXRlbT09PWUucG9ydGFsSXRlbT9uZXcgU2V0KGUucGF0aHMpOm5ldyBTZXQ7ZS5wYXRocy5sZW5ndGg9MCxlLnBvcnRhbEl0ZW09cy5wb3J0YWxJdGVtO2NvbnN0IHA9bmV3IFNldChzLnJlc291cmNlcy50b0tlZXAubWFwKChlPT5lLnJlc291cmNlLnBhdGgpKSksaT1uZXcgU2V0LGg9W107cC5mb3JFYWNoKChyPT57dS5kZWxldGUociksZS5wYXRocy5wdXNoKHIpfSkpO2Zvcihjb25zdCByIG9mIHMucmVzb3VyY2VzLnRvVXBkYXRlKWlmKHUuZGVsZXRlKHIucmVzb3VyY2UucGF0aCkscC5oYXMoci5yZXNvdXJjZS5wYXRoKXx8aS5oYXMoci5yZXNvdXJjZS5wYXRoKSl7Y29uc3R7cmVzb3VyY2U6byxjb250ZW50OnQsZmluaXNoOnMsZXJyb3I6dX09cixwPWMobyxhKCkpO2UucGF0aHMucHVzaChwLnBhdGgpLGgucHVzaChmKHtyZXNvdXJjZTpwLGNvbnRlbnQ6dCxjb21wcmVzczpyLmNvbXByZXNzLGZpbmlzaDpzLGVycm9yOnV9LG4pKX1lbHNlIGUucGF0aHMucHVzaChyLnJlc291cmNlLnBhdGgpLGgucHVzaChsKHIsbikpLGkuYWRkKHIucmVzb3VyY2UucGF0aCk7Zm9yKGNvbnN0IHIgb2Ygcy5yZXNvdXJjZXMudG9BZGQpZS5wYXRocy5wdXNoKHIucmVzb3VyY2UucGF0aCksdS5oYXMoci5yZXNvdXJjZS5wYXRoKT91LmRlbGV0ZShyLnJlc291cmNlLnBhdGgpOmgucHVzaChmKHIsbikpO2lmKDA9PT1oLmxlbmd0aClyZXR1cm4gdTtjb25zdCBtPWF3YWl0IG8oaCk7aWYodChuKSxtLmxlbmd0aD4wKXRocm93IG5ldyByKFwic2F2ZTpyZXNvdXJjZXNcIixcIkZhaWxlZCB0byBzYXZlIG9uZSBvciBtb3JlIHJlc291cmNlc1wiLHtlcnJvcnM6bX0pO3JldHVybiB1fWFzeW5jIGZ1bmN0aW9uIGgoZSxyLG89bnVsbCl7aWYoIWV8fCFyLnBvcnRhbEl0ZW0pcmV0dXJuO2NvbnN0IHQ9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1yLnBvcnRhbEl0ZW0ucmVzb3VyY2VGcm9tUGF0aChzKTt0LnB1c2goZS5wb3J0YWxJdGVtLnJlbW92ZVJlc291cmNlKGUsbykpfWF3YWl0IHModCl9YXN5bmMgZnVuY3Rpb24gZihyLG8pe2NvbnN0IHQ9ey4uLm51bGwhPW8/bzp7fSxjb21wcmVzczpyLmNvbXByZXNzfSxzPWF3YWl0IGUoci5yZXNvdXJjZS5wb3J0YWxJdGVtLmFkZFJlc291cmNlKHIucmVzb3VyY2UsYXdhaXQgbihyLmNvbnRlbnQpLHQpKTtpZighMCE9PXMub2spdGhyb3cgci5lcnJvcj8uKHMuZXJyb3IpLHMuZXJyb3I7ci5maW5pc2g/LihyLnJlc291cmNlKX1hc3luYyBmdW5jdGlvbiBsKHIsbyl7Y29uc3QgdD1hd2FpdCBlKHIucmVzb3VyY2UudXBkYXRlKGF3YWl0IG4oci5jb250ZW50KSxvKSk7aWYoITAhPT10Lm9rKXRocm93IHIuZXJyb3I/Lih0LmVycm9yKSx0LmVycm9yO3IuZmluaXNoPy4oci5yZXNvdXJjZSl9YXN5bmMgZnVuY3Rpb24gbShlKXtjb25zdCByPVtdO2Zvcihjb25zdCBvIG9mIGUuYWxsTGF5ZXJzKWlmKFwiYmVmb3JlU2F2ZVwiaW4gbyYmXCJmdW5jdGlvblwiPT10eXBlb2Ygby5iZWZvcmVTYXZlKXtjb25zdCBlPW8uYmVmb3JlU2F2ZSgpO2UmJnIucHVzaChlKX1hd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocil9ZXhwb3J0e20gYXMgYmVmb3JlU2F2ZSx1IGFzIHNhdmVSZXNvdXJjZXMscCBhcyB1cGRhdGVJdGVtV2l0aFJlc291cmNlc307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=