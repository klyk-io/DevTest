"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_2d_engine_webgl_GeometryUtils_js-node_modules_a-c92c7a"],{

/***/ "./node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExpandedCIM: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../views/2d/engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _views_2d_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../views/2d/engine/webgl/materialKey/MaterialKey.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s={marker:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.MARKER,fill:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.FILL,line:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.LINE,text:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLGeometryType.TEXT};class l{constructor(e,l,n,r){const c={minScale:l?.minScale,maxScale:l?.maxScale},m=i(c);this.layers=e,this.data=l,this.hash=this._createHash()+m,this.rendererKey=n;const o={isOutline:!1,placement:null,symbologyType:_views_2d_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLSymbologyType.DEFAULT,vvFlags:n};for(const t of e){const e=s[t.type];o.isOutline="line"===t.type&&t.isOutline,t.materialKey=(0,_views_2d_engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_1__.createMaterialKey)(e,o),t.maxVVSize=r,t.scaleInfo=c,t.templateHash+=m}}get type(){return"expanded-cim"}_createHash(){let e="";for(const t of this.layers)e+=t.templateHash;return e}}function i(e){return e.minScale||e.maxScale?e.minScale+"-"+e.maxScale:""}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   between: () => (/* binding */ i),
/* harmony export */   degToByte: () => (/* binding */ c),
/* harmony export */   interpolate: () => (/* binding */ f),
/* harmony export */   log2: () => (/* binding */ e),
/* harmony export */   positiveMod: () => (/* binding */ u),
/* harmony export */   radToByte: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=128/Math.PI,t=256/360,r=1/Math.LN2;function u(n,t){return(n%=t)>=0?n:n+t}function o(t){return u(t*n,256)}function c(n){return u(n*t,256)}function e(n){return Math.log(n)*r}function f(n,t,r){return n*(1-r)+t*r}function i(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HAlign: () => (/* binding */ e),
/* harmony export */   VAlign: () => (/* binding */ t),
/* harmony export */   getAlignmentFromPlacement: () => (/* binding */ a),
/* harmony export */   getJustification: () => (/* binding */ s),
/* harmony export */   getXAnchorDirection: () => (/* binding */ r),
/* harmony export */   getXDirection: () => (/* binding */ c),
/* harmony export */   getYAnchorDirection: () => (/* binding */ n),
/* harmony export */   getYDirection: () => (/* binding */ o),
/* harmony export */   isMapAligned: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e,t;function r(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function n(e){switch(e){case"top":return t.Top;case"middle":return t.Center;case"baseline":return t.Baseline;case"bottom":return t.Bottom}}function a(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[e.Right,t.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[e.Center,t.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[e.Left,t.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[e.Right,t.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[e.Center,t.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[e.Left,t.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[e.Right,t.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[e.Center,t.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[e.Left,t.Top];default:return console.debug(`Found invalid placement type ${r}`),[e.Center,t.Center]}}function c(t){switch(t){case e.Right:return-1;case e.Center:return 0;case e.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function o(e){switch(e){case t.Top:return 1;case t.Center:return 0;case t.Bottom:case t.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function s(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function i(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}!function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(e||(e={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FillMaterialKey: () => (/* binding */ w),
/* harmony export */   LabelMaterialKey: () => (/* binding */ Z),
/* harmony export */   LineMaterialKey: () => (/* binding */ C),
/* harmony export */   MarkerMaterialKey: () => (/* binding */ N),
/* harmony export */   MaterialKeyBase: () => (/* binding */ U),
/* harmony export */   TextMaterialKey: () => (/* binding */ P),
/* harmony export */   createMaterialKey: () => (/* binding */ f),
/* harmony export */   hasOutlineFillSymbology: () => (/* binding */ O),
/* harmony export */   hasSimpleSymbology: () => (/* binding */ b),
/* harmony export */   hydrateMaterialKey: () => (/* binding */ A),
/* harmony export */   isOutlineFillSymbology: () => (/* binding */ _),
/* harmony export */   isSimpleSymbology: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _alignmentUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alignmentUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(t,e,s){const n=_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_FIELD_STOPS|_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_MINMAX_VALUE|_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_SCALE_STOPS|_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_UNIT_VALUE,o=(e&(_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVTarget.FIELD_TARGETS_OUTLINE|_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVTarget.MINMAX_TARGETS_OUTLINE|_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVTarget.SCALE_TARGETS_OUTLINE|_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return t===_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LINE&&s.isOutline||t===_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.FILL&&_(s.symbologyType)?n&o:n&~o}const o=0,v=8,l=7,h=8,S=11,u=11,p=12,c=13,y=14,V=15,d=16,g=17,T=18,m=19,z=20,E=21,L=26,M=Object.keys(_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType).filter((t=>"number"==typeof _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType[t])).reduce(((t,e)=>({...t,[e]:_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType[e]})),{});function I(t){return t===_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType.SIMPLE||t===_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType.OUTLINE_FILL_SIMPLE}function _(t){return t===_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType.OUTLINE_FILL||t===_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType.OUTLINE_FILL_SIMPLE}function b(t){return I(t.symbologyType)}function O(t){return _(t.symbologyType)}function f(t,e){switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.FILL:return w.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LINE:return C.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.MARKER:return N.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.TEXT:return P.from(e);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LABEL:return Z.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function A(t){switch(U.load(t).geometryType){case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.MARKER:return new N(t);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.FILL:return new w(t);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LINE:return new C(t);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.TEXT:return new P(t);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LABEL:return new Z(t)}}class U{static load(t){const e=this.shared;return e.data=t,e}constructor(t){this._data=0,this._data=t}set data(t){this._data=t??0}get data(){return this._data}get geometryType(){return this.bits(h,S)}set geometryType(t){this.setBits(t,h,S)}get mapAligned(){return!!this.bit(z)}set mapAligned(t){this.setBit(z,t)}get sdf(){return!!this.bit(u)}set sdf(t){this.setBit(u,t??!1)}get pattern(){return!!this.bit(p)}set pattern(t){this.setBit(p,t)}get textureBinding(){return this.bits(o,v)}set textureBinding(t){this.setBits(t,o,v)}get symbologyType(){return this.bits(E,L)}set symbologyType(t){this.setBits(t,E,L)}get geometryTypeString(){switch(this.geometryType){case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.FILL:return"fill";case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.MARKER:return"marker";case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LINE:return"line";case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.TEXT:return"text";case _enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LABEL:return"label";default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const s=1<<t;e?this._data|=s:this._data&=~s}bit(t){return(this._data&1<<t)>>t}setBits(t,e,s){for(let i=e,a=0;i<s;i++,a++)this.setBit(i,0!=(t&1<<a))}bits(t,e){let s=0;for(let i=t,a=0;i<e;i++,a++)s|=this.bit(i)<<a;return s}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType[this.symbologyType],options:M,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(l&this.textureBinding)}}U.shared=new U(0);const F=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(d)}set vvSizeMinMaxValue(t){this.setBit(d,t)}get vvSizeScaleStops(){return 0!==this.bit(g)}set vvSizeScaleStops(t){this.setBit(g,t)}get vvSizeFieldStops(){return 0!==this.bit(T)}set vvSizeFieldStops(t){this.setBit(T,t)}get vvSizeUnitValue(){return 0!==this.bit(m)}set vvSizeUnitValue(t){this.setBit(m,t)}hasSizeVV(){return this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}hasVV(){return super.hasVV()||this.hasSizeVV()}setVV(t,e){super.setVV(t,e);const s=n(this.geometryType,t,e)&t;this.vvSizeMinMaxValue=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_SCALE_STOPS)}},x=t=>class extends t{get vvRotation(){return 0!==this.bit(V)}set vvRotation(t){this.setBit(V,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,e){super.setVV(t,e),this.vvRotation=!e.isOutline&&!!(t&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.ROTATION)}},B=t=>class extends t{get vvColor(){return 0!==this.bit(c)}set vvColor(t){this.setBit(c,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,e){super.setVV(t,e),this.vvColor=!e.isOutline&&!!(t&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.COLOR)}},R=t=>class extends t{get vvOpacity(){return 0!==this.bit(y)}set vvOpacity(t){this.setBit(y,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,e){super.setVV(t,e),this.vvOpacity=!e.isOutline&&!!(t&_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.OPACITY)}};class w extends(B(R(F(U)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:a}=t,r=this.load(0);return r.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.FILL,r.symbologyType=e,e!==_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType.DOT_DENSITY&&r.setVV(a,t),r.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}w.shared=new w(0);class N extends(B(R(x(F(U))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:a}=t,r=this.load(0);return r.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.MARKER,r.symbologyType=e,e!==_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLSymbologyType.HEATMAP&&r.setVV(a,t),r.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}N.shared=new N(0);class C extends(B(R(F(U)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LINE,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}C.shared=new C(0);class P extends(B(R(x(F(U))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.TEXT,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}P.shared=new P(0);class Z extends(F(U)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const s=this.load(0);return s.geometryType=_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLGeometryType.LABEL,s.symbologyType=t.symbologyType,s.setVV(t.vvFlags,t),s.mapAligned=(0,_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.isMapAligned)(t.placement),s.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}Z.shared=new Z(0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.tileStore.tileScheme.spatialReference;return e&&e.toJSON()||null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],s.prototype,"supportsTileUpdates",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],s.prototype,"remoteClient",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],s.prototype,"service",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],s.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],s.prototype,"tileStore",void 0),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.features.processors.BaseProcessor")],s);const p=s;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../engine/webgl/mesh/MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js");
/* harmony import */ var _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/mesh/factories/WGLMeshFactory.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/WGLMeshFactory.js");
/* harmony import */ var _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../engine/webgl/mesh/templates/WGLTemplateStore.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLTemplateStore.js");
/* harmony import */ var _engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../engine/webgl/util/Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/* harmony import */ var _textUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../textUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/textUtils.js");
/* harmony import */ var _BaseProcessor_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./BaseProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js");
/* harmony import */ var _support_ResourceManagerProxy_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/ResourceManagerProxy.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ResourceManagerProxy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function _(e,t){const s=t-t/4,r=t+t/2;return(!e.minScale||e.minScale>=s)&&(!e.maxScale||e.maxScale<=r)}function b(e){const t=e.message,s={message:{data:{},tileKey:t.tileKey,tileKeyOrigin:t.tileKeyOrigin,version:t.version},transferList:new Array};for(const r in t.data){const e=r,i=t.data[e];if(s.message.data[e]=null,null!=i){const t=i.stride,r=i.indices.slice(0),a=i.vertices.slice(0),o=i.records.slice(0),n=i.metrics?.slice(0),l={stride:t,indices:r,vertices:a,records:o,metrics:n};s.transferList.push(r,a,o),s.message.data[e]=l}}return s}let S=class extends _BaseProcessor_js__WEBPACK_IMPORTED_MODULE_19__["default"]{constructor(){super(...arguments),this.type="symbol",this._matchers={feature:null,aggregate:null},this._bufferData=new Map,this._bufferIds=new Map}initialize(){this.addHandles([this.tileStore.on("update",this.onTileUpdate.bind(this))]),this._resourceManagerProxy=new _support_ResourceManagerProxy_js__WEBPACK_IMPORTED_MODULE_20__["default"](this.remoteClient)}destroy(){this._resourceManagerProxy.destroy()}get supportsTileUpdates(){return!0}forEachBufferId(e){this._bufferIds.forEach((t=>{t.forEach(e)}))}async update(e,t){const s=t.schema.processors[0];if("symbol"!==s.type)return;const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.diff)(this._schema,s);((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.hasDiff)(r,"mesh")||(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.hasDiff)(r,"target"))&&(e.mesh=!0,e.why?.mesh.push("Symbology changed"),this._schema=s,this._factory=this._createFactory(s),this._factory.update(s,this.tileStore.tileScheme.tileInfo))}onTileMessage(e,t,s,i){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(i),this._onTileData(e,t,s,i)}onTileClear(e,t){const s={clear:!0,end:t};return this._bufferData.delete(e.key.id),this._bufferIds.delete(e.key.id),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:s})}onTileError(e,t,s){const r=s.signal,i={tileKey:e.id,error:t};return this.remoteClient.invoke("tileRenderer.onTileError",i,{signal:r})}onTileUpdate(e){for(const t of e.removed)this._bufferData.has(t.key.id)&&this._bufferData.delete(t.key.id),this._bufferIds.has(t.key.id)&&this._bufferIds.delete(t.key.id);for(const t of e.added)this._bufferData.forEach((e=>{for(const s of e)s.message.tileKey===t.id&&this._updateTileMesh("append",t,b(s),[],!1,!1,null)}))}_addBufferData(e,t){this._bufferData.has(e)||this._bufferData.set(e,[]),this._bufferData.get(e)?.push(b(t))}_createFactory(e){const{geometryType:t,objectIdField:s,fields:r}=this.service,i=(e,t)=>this.remoteClient.invoke("tileRenderer.getMaterialItems",e,t),a={geometryType:t,fields:r,spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(this.spatialReference)},o=new _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_16__.WGLTemplateStore(i,this.tileStore.tileScheme.tileInfo),{matcher:n,aggregateMatcher:c}=e.mesh;return this._store=o,this._matchers.feature=(0,_engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_17__.createMatcher)(n,o,a,this._resourceManagerProxy),this._matchers.aggregate=c?(0,_engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_17__.createMatcher)(c,o,a,this._resourceManagerProxy):null,new _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_15__.WGLMeshFactory(t,s,o)}async _onTileData(e,t,s,i){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(i);const{type:a,addOrUpdate:o,remove:n,clear:l,end:c}=t,d=!!this._schema.mesh.sortKey;if(!o){const t={type:a,addOrUpdate:null,remove:n,clear:l,end:c,sort:d};return this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t},i)}const h=this._processFeatures(e,o,s,i,t.status?.version);try{const s=await h;if(null==s){const t={type:a,addOrUpdate:null,remove:n,clear:l,end:c,sort:d};return this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t},i)}const r=[];for(const t of s){let s=!1;const i=t.message.bufferIds,a=e.key.id,o=t.message.tileKey;if(a!==o&&null!=i){if(!this.tileStore.get(o)){this._addBufferData(a,t),r.push(t);continue}let e=this._bufferIds.get(o);e||(e=new Set,this._bufferIds.set(o,e));const n=Array.from(i);for(const t of n){if(e.has(t)){s=!0;break}e.add(t)}}s||(this._addBufferData(a,t),r.push(t))}await Promise.all(r.map((s=>{const r=e.key.id===s.message.tileKey,o=r?t.remove:[],n=r&&t.end;return this._updateTileMesh(a,e,s,o,n,!!t.clear,i.signal)})))}catch(f){this._handleError(e,f,i)}}async _updateTileMesh(e,t,s,i,a,o,n){const l=e,c=s.message.tileKey,d=!!this._schema.mesh.sortKey;c!==t.key.id&&(a=!1);const h=s?.message,f={type:l,addOrUpdate:h,remove:i,clear:o,end:a,sort:d},u={transferList:s?.transferList??[],signal:n};return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(u),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:c,data:f},u)}async _processFeatures(e,t,s,i,a){if(null==t||!t.hasFeatures)return null;const o={transform:e.transform,hasZ:!1,hasM:!1},n=this._factory,l={viewingMode:"",scale:e.scale},c=await this._matchers.feature,d=await this._matchers.aggregate;(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(i);const h=this._getLabelInfos(e,t);return await n.analyze(t.getCursor(),this._resourceManagerProxy,c,d,o,l),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(i),this._writeFeatureSet(e,t,o,h,n,s,a)}_writeFeatureSet(e,t,s,r,i,a,o){const n=t.getSize(),l=this._schema.mesh.matcher.symbologyType,c=new _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_14__.MeshData(e.key.id,{features:n,records:n,metrics:0},l,a,l!==_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_13__.WGLSymbologyType.HEATMAP,o),f={viewingMode:"",scale:e.scale},u=t.getCursor();for(;u.next();)try{const t=u.getDisplayId(),a=null!=r?r.get(t):null;i.writeCursor(c,u,s,f,e.level,a,this._resourceManagerProxy)}catch(g){}const m=e.tileInfoView.tileInfo.isWrappable;return c.serialize(m)}_handleError(e,t,s){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.isAbortError)(t)){const r={tileKey:e.id,error:t.message};return this.remoteClient.invoke("tileRenderer.onTileError",r,{signal:s.signal})}return Promise.resolve()}_getLabelingSchemaForScale(e){const t=this._schema.mesh.labels;if(null==t)return null;if("subtype"===t.type){const s={type:"subtype",classes:{}};let r=!1;for(const i in t.classes){const a=t.classes[i].filter((t=>_(t,e.scale)));r=r||!!a.length,s.classes[i]=a}return r?s:null}const s=t.classes.filter((t=>_(t,e.scale)));return s.length?{type:"simple",classes:s}:null}_getLabels(e,t){if("subtype"===t.type){const r=this.service.subtypeField;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.assertIsSome)(r,"Expected to find subtype Field");const i=e.readAttribute(r);return null==i?[]:t.classes[i]??[]}return t.classes}_getLabelInfos(e,s){const r=this._getLabelingSchemaForScale(e);if(null==r)return null;const i=new Map,a=s.getCursor();for(;a.next();){const e=a.getDisplayId(),s=[],o=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_12__.isAggregateId)(e),n=o&&1!==a.readAttribute("cluster_count")?"aggregate":"feature",l=this._getLabels(a,r);for(const r of l){if(r.target!==n)continue;const i=a.getStorage(),l=o&&"feature"===n?i.getComputedStringAtIndex(a.readAttribute("referenceId"),r.fieldIndex):i.getComputedStringAtIndex(e,r.fieldIndex);if(!l)continue;const c=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__.bidiText)(l.toString()),d=c[0],h=c[1];this._store.getMosaicItem(r.symbol,(0,_textUtils_js__WEBPACK_IMPORTED_MODULE_18__.codepoints)(d)).then((e=>{s[r.index]={glyphs:e.glyphMosaicItems??[],rtl:h,index:r.index}}))}i.set(e,s)}return i}};S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.features.processors.SymbolProcessor")],S);const w=S;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ResourceManagerProxy.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ResourceManagerProxy.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(e){this._remoteClient=e,this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){}async fetchResource(t,r){const s=this._resourceMap,i=s.get(t);if(i)return i;let n=this._inFlightResourceMap.get(t);if(n)return n;try{n=this._remoteClient.invoke("tileRenderer.fetchResource",{url:t},{...r}),this._inFlightResourceMap.set(t,n),n.then((e=>(this._inFlightResourceMap.delete(t),s.set(t,e),e)))}catch(o){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.isAbortError)(o)?null:{width:0,height:0}}return n}getResource(e){return this._resourceMap.get(e)??null}loadFont(e){return Promise.resolve(null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cimLayerToRasterizationInfo: () => (/* binding */ r),
/* harmony export */   expandSymbol: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _symbols_cim_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../symbols/cim/cimAnalyzer.js */ "./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js");
/* harmony import */ var _symbols_cim_ExpandedCIM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../symbols/cim/ExpandedCIM.js */ "./node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=async(a,i,r)=>{const n=new _symbols_cim_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_0__.CIMAnalyzer(r,i);return new _symbols_cim_ExpandedCIM_js__WEBPACK_IMPORTED_MODULE_1__.ExpandedCIM(await n.analyzeSymbolReference(a.data,!1),a.data,a.rendererKey,a.maxVVSize)};async function i(e,t,i,r){if(!e)return null;if("cim"===e.type)return a(e,t,i);if("web-style"===e.type){const{fetchCIMSymbolReference:n}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_support_webStyleUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./webStyleUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js")),l={type:"cim",data:await n(e,null,r)??void 0,rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return a(l,t,i)}return e}function r(e){if(!e)return null;const{avoidSDFRasterization:t,type:a,cim:i,url:r,materialHash:n,maxVVSize:l}=e,m={cim:i,type:a,mosaicHash:n,url:r,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null,avoidSDFRasterization:t};switch(a){case"marker":l&&"size"in i&&(i.size=Math.max(l,i.size)),m.size=e.size,m.path=e.path,m.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":m.dashTemplate=e.dashTemplate;break;case"text":m.text=e.text,m.fontName=e.fontName}return m}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2VuZ2luZV93ZWJnbF9HZW9tZXRyeVV0aWxzX2pzLW5vZGVfbW9kdWxlc19hLWM5MmM3YS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd0wsU0FBUyxPQUFPLDRFQUFDLGFBQWEsNEVBQUMsV0FBVyw0RUFBQyxXQUFXLDRFQUFDLE9BQU8sUUFBUSxxQkFBcUIsU0FBUywwQ0FBMEMsUUFBUSw0RUFBNEUsU0FBUywwQ0FBMEMsNkVBQUMsb0JBQW9CLGtCQUFrQixrQkFBa0IsdURBQXVELG9HQUFDLHFEQUFxRCxXQUFXLHFCQUFxQixjQUFjLFNBQVMsNkNBQTZDLFVBQVUsY0FBYywyREFBb0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSm4wQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnQkFBZ0Isc0JBQXNCLGNBQWMsa0JBQWtCLGNBQWMsa0JBQWtCLGNBQWMscUJBQXFCLGtCQUFrQixtQkFBbUIsa0JBQWtCLDhCQUE2SDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeFc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGNBQWMsVUFBVSx5QkFBeUIsMkJBQTJCLDhCQUE4QixjQUFjLFVBQVUsdUJBQXVCLDZCQUE2QixpQ0FBaUMsOEJBQThCLGNBQWMsVUFBVSx1RkFBdUYsc0pBQXNKLHdGQUF3Rix5RkFBeUYsbU9BQW1PLDBGQUEwRixvRkFBb0YsbUpBQW1KLHFGQUFxRiw2REFBNkQsRUFBRSx3QkFBd0IsY0FBYyxVQUFVLHNCQUFzQix1QkFBdUIscUJBQXFCLG1FQUFtRSxFQUFFLE1BQU0sY0FBYyxVQUFVLG9CQUFvQix1QkFBdUIsdUNBQXVDLGlFQUFpRSxFQUFFLE1BQU0sY0FBYyxVQUFVLHlCQUF5QiwyQkFBMkIsOEJBQThCLGNBQWMsVUFBVSx5TEFBeUwsa0JBQWtCLGFBQWEsZ0VBQWdFLFNBQVMsZUFBZSwy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dUIsU0FBUywyQkFBMkIsU0FBUywwQkFBMEIsK0NBQStDLCtCQUErQixnQkFBZ0IsNENBQTRDLGlCQUFpQix3QkFBd0IsTUFBTSxnQkFBZ0IsdUJBQXVCLGtDQUFrQyw0REFBQyxxQ0FBcUMsMkJBQTJCLG1DQUFtQyxpQkFBaUIsb0JBQW9CLDJDQUEyQyx1QkFBdUIsZ0NBQWdDLEtBQUssU0FBUyxFQUFFLGdDQUFnQywwRUFBQywyRkFBMkYsa0JBQWtCLHlCQUF5Qiw2SkFBNkosZUFBZSxRQUFRLDJEQUFDLDZCQUE2QixtQ0FBbUMsMERBQUMsZUFBZSxZQUFZLG1EQUFtRCxHQUFHLFdBQVcsV0FBVyxFQUFFLHVEQUFDLEVBQUUsc0ZBQUMsaUVBQWlFLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7O0FDSjMyTztBQUNBO0FBQ0E7QUFDQTtBQUNtRSxRQUFRLGVBQWUsMElBQTBJLFdBQVcseUJBQXlCLHFDQUFxQyxjQUFjLHVDQUF1QyxjQUFjLElBQUksMERBQTBELE1BQU0sRUFBRSxLQUFLLHFHQUFxRyxTQUFTLE9BQU8sbUVBQUMsVUFBVSxrQkFBa0IsU0FBUyxlQUFlLHNDQUFzQyxZQUFZLDhCQUFtRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjFzQjtBQUNBO0FBQ0E7QUFDQTtBQUMwSSx1QkFBdUIsWUFBWSxvRUFBQyxNQUFNLFdBQVcsb0VBQUMsOEVBQThFLDBCQUEwQixrQkFBa0Isa0NBQWtDLHlCQUF5QixNQUFNLDBCQUEwQixPQUFPLGdRQUE0QixJQUFJLDJGQUEyRixnQkFBZ0IsU0FBUyxjQUFjLGtCQUFrQixNQUFNLHNFQUFzRSxNQUFNLHFKQUFxSixVQUFVLDBJQUEwSSxNQUFNLHlDQUF5QyxNQUFNLCtDQUErQyxTQUFvRSIsInNvdXJjZXMiOlsid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zeW1ib2xzL2NpbS9FeHBhbmRlZENJTS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0dlb21ldHJ5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9hbGlnbm1lbnRVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL21hdGVyaWFsS2V5L01hdGVyaWFsS2V5LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvcHJvY2Vzc29ycy9CYXNlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvcHJvY2Vzc29ycy9TeW1ib2xQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L1Jlc291cmNlTWFuYWdlclByb3h5LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvc3VwcG9ydC9jaW1TeW1ib2xVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1dHTEdlb21ldHJ5VHlwZSBhcyBlLFdHTFN5bWJvbG9neVR5cGUgYXMgdH1mcm9tXCIuLi8uLi92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7Y3JlYXRlTWF0ZXJpYWxLZXkgYXMgYX1mcm9tXCIuLi8uLi92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbWF0ZXJpYWxLZXkvTWF0ZXJpYWxLZXkuanNcIjtjb25zdCBzPXttYXJrZXI6ZS5NQVJLRVIsZmlsbDplLkZJTEwsbGluZTplLkxJTkUsdGV4dDplLlRFWFR9O2NsYXNzIGx7Y29uc3RydWN0b3IoZSxsLG4scil7Y29uc3QgYz17bWluU2NhbGU6bD8ubWluU2NhbGUsbWF4U2NhbGU6bD8ubWF4U2NhbGV9LG09aShjKTt0aGlzLmxheWVycz1lLHRoaXMuZGF0YT1sLHRoaXMuaGFzaD10aGlzLl9jcmVhdGVIYXNoKCkrbSx0aGlzLnJlbmRlcmVyS2V5PW47Y29uc3Qgbz17aXNPdXRsaW5lOiExLHBsYWNlbWVudDpudWxsLHN5bWJvbG9neVR5cGU6dC5ERUZBVUxULHZ2RmxhZ3M6bn07Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1zW3QudHlwZV07by5pc091dGxpbmU9XCJsaW5lXCI9PT10LnR5cGUmJnQuaXNPdXRsaW5lLHQubWF0ZXJpYWxLZXk9YShlLG8pLHQubWF4VlZTaXplPXIsdC5zY2FsZUluZm89Yyx0LnRlbXBsYXRlSGFzaCs9bX19Z2V0IHR5cGUoKXtyZXR1cm5cImV4cGFuZGVkLWNpbVwifV9jcmVhdGVIYXNoKCl7bGV0IGU9XCJcIjtmb3IoY29uc3QgdCBvZiB0aGlzLmxheWVycyllKz10LnRlbXBsYXRlSGFzaDtyZXR1cm4gZX19ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5taW5TY2FsZXx8ZS5tYXhTY2FsZT9lLm1pblNjYWxlK1wiLVwiK2UubWF4U2NhbGU6XCJcIn1leHBvcnR7bCBhcyBFeHBhbmRlZENJTX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj0xMjgvTWF0aC5QSSx0PTI1Ni8zNjAscj0xL01hdGguTE4yO2Z1bmN0aW9uIHUobix0KXtyZXR1cm4obiU9dCk+PTA/bjpuK3R9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdSh0Km4sMjU2KX1mdW5jdGlvbiBjKG4pe3JldHVybiB1KG4qdCwyNTYpfWZ1bmN0aW9uIGUobil7cmV0dXJuIE1hdGgubG9nKG4pKnJ9ZnVuY3Rpb24gZihuLHQscil7cmV0dXJuIG4qKDEtcikrdCpyfWZ1bmN0aW9uIGkobix0LHIpe3JldHVybiBuPj10JiZuPD1yfHxuPj1yJiZuPD10fWV4cG9ydHtpIGFzIGJldHdlZW4sYyBhcyBkZWdUb0J5dGUsZiBhcyBpbnRlcnBvbGF0ZSxlIGFzIGxvZzIsdSBhcyBwb3NpdGl2ZU1vZCxvIGFzIHJhZFRvQnl0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGUsdDtmdW5jdGlvbiByKHQpe3N3aXRjaCh0KXtjYXNlXCJsZWZ0XCI6cmV0dXJuIGUuTGVmdDtjYXNlXCJyaWdodFwiOnJldHVybiBlLlJpZ2h0O2Nhc2VcImNlbnRlclwiOnJldHVybiBlLkNlbnRlcn19ZnVuY3Rpb24gbihlKXtzd2l0Y2goZSl7Y2FzZVwidG9wXCI6cmV0dXJuIHQuVG9wO2Nhc2VcIm1pZGRsZVwiOnJldHVybiB0LkNlbnRlcjtjYXNlXCJiYXNlbGluZVwiOnJldHVybiB0LkJhc2VsaW5lO2Nhc2VcImJvdHRvbVwiOnJldHVybiB0LkJvdHRvbX19ZnVuY3Rpb24gYShyKXtzd2l0Y2gocil7Y2FzZVwiYWJvdmUtbGVmdFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50QWJvdmVMZWZ0XCI6cmV0dXJuW2UuUmlnaHQsdC5Cb3R0b21dO2Nhc2VcImFib3ZlLWNlbnRlclwiOmNhc2VcImFib3ZlLWFsb25nXCI6Y2FzZVwiZXNyaVNlcnZlclBvaW50TGFiZWxQbGFjZW1lbnRBYm92ZUNlbnRlclwiOmNhc2VcImVzcmlTZXJ2ZXJMaW5lUGxhY2VtZW50QWJvdmVBbG9uZ1wiOnJldHVybltlLkNlbnRlcix0LkJvdHRvbV07Y2FzZVwiYWJvdmUtcmlnaHRcIjpjYXNlXCJlc3JpU2VydmVyUG9pbnRMYWJlbFBsYWNlbWVudEFib3ZlUmlnaHRcIjpyZXR1cm5bZS5MZWZ0LHQuQm90dG9tXTtjYXNlXCJjZW50ZXItbGVmdFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50Q2VudGVyTGVmdFwiOnJldHVybltlLlJpZ2h0LHQuQ2VudGVyXTtjYXNlXCJjZW50ZXItY2VudGVyXCI6Y2FzZVwiY2VudGVyLWFsb25nXCI6Y2FzZVwiZXNyaVNlcnZlclBvaW50TGFiZWxQbGFjZW1lbnRDZW50ZXJDZW50ZXJcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudENlbnRlckFsb25nXCI6Y2FzZVwiYWx3YXlzLWhvcml6b250YWxcIjpjYXNlXCJlc3JpU2VydmVyUG9seWdvblBsYWNlbWVudEFsd2F5c0hvcml6b250YWxcIjpyZXR1cm5bZS5DZW50ZXIsdC5DZW50ZXJdO2Nhc2VcImNlbnRlci1yaWdodFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50Q2VudGVyUmlnaHRcIjpyZXR1cm5bZS5MZWZ0LHQuQ2VudGVyXTtjYXNlXCJiZWxvdy1sZWZ0XCI6Y2FzZVwiZXNyaVNlcnZlclBvaW50TGFiZWxQbGFjZW1lbnRCZWxvd0xlZnRcIjpyZXR1cm5bZS5SaWdodCx0LlRvcF07Y2FzZVwiYmVsb3ctY2VudGVyXCI6Y2FzZVwiYmVsb3ctYWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyUG9pbnRMYWJlbFBsYWNlbWVudEJlbG93Q2VudGVyXCI6Y2FzZVwiZXNyaVNlcnZlckxpbmVQbGFjZW1lbnRCZWxvd0Fsb25nXCI6cmV0dXJuW2UuQ2VudGVyLHQuVG9wXTtjYXNlXCJiZWxvdy1yaWdodFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50QmVsb3dSaWdodFwiOnJldHVybltlLkxlZnQsdC5Ub3BdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZGVidWcoYEZvdW5kIGludmFsaWQgcGxhY2VtZW50IHR5cGUgJHtyfWApLFtlLkNlbnRlcix0LkNlbnRlcl19fWZ1bmN0aW9uIGModCl7c3dpdGNoKHQpe2Nhc2UgZS5SaWdodDpyZXR1cm4tMTtjYXNlIGUuQ2VudGVyOnJldHVybiAwO2Nhc2UgZS5MZWZ0OnJldHVybiAxO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZGVidWcoYEZvdW5kIGludmFsaWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgJHt0fWApLDB9fWZ1bmN0aW9uIG8oZSl7c3dpdGNoKGUpe2Nhc2UgdC5Ub3A6cmV0dXJuIDE7Y2FzZSB0LkNlbnRlcjpyZXR1cm4gMDtjYXNlIHQuQm90dG9tOmNhc2UgdC5CYXNlbGluZTpyZXR1cm4tMTtkZWZhdWx0OnJldHVybiBjb25zb2xlLmRlYnVnKGBGb3VuZCBpbnZhbGlkIHZlcnRpY2FsIGFsaWdubWVudCAke2V9YCksMH19ZnVuY3Rpb24gcyh0KXtzd2l0Y2godCl7Y2FzZVwibGVmdFwiOnJldHVybiBlLkxlZnQ7Y2FzZVwicmlnaHRcIjpyZXR1cm4gZS5SaWdodDtjYXNlXCJjZW50ZXJcIjpyZXR1cm4gZS5DZW50ZXJ9fWZ1bmN0aW9uIGkoZSl7c3dpdGNoKGUpe2Nhc2VcImFib3ZlLWFsb25nXCI6Y2FzZVwiYmVsb3ctYWxvbmdcIjpjYXNlXCJjZW50ZXItYWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudEFib3ZlQWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudEJlbG93QWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudENlbnRlckFsb25nXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19IWZ1bmN0aW9uKGUpe2VbZS5MZWZ0PS0xXT1cIkxlZnRcIixlW2UuQ2VudGVyPTBdPVwiQ2VudGVyXCIsZVtlLlJpZ2h0PTFdPVwiUmlnaHRcIn0oZXx8KGU9e30pKSxmdW5jdGlvbihlKXtlW2UuVG9wPTFdPVwiVG9wXCIsZVtlLkNlbnRlcj0wXT1cIkNlbnRlclwiLGVbZS5Cb3R0b209LTFdPVwiQm90dG9tXCIsZVtlLkJhc2VsaW5lPTJdPVwiQmFzZWxpbmVcIn0odHx8KHQ9e30pKTtleHBvcnR7ZSBhcyBIQWxpZ24sdCBhcyBWQWxpZ24sYSBhcyBnZXRBbGlnbm1lbnRGcm9tUGxhY2VtZW50LHMgYXMgZ2V0SnVzdGlmaWNhdGlvbixyIGFzIGdldFhBbmNob3JEaXJlY3Rpb24sYyBhcyBnZXRYRGlyZWN0aW9uLG4gYXMgZ2V0WUFuY2hvckRpcmVjdGlvbixvIGFzIGdldFlEaXJlY3Rpb24saSBhcyBpc01hcEFsaWduZWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7aXNNYXBBbGlnbmVkIGFzIGV9ZnJvbVwiLi4vYWxpZ25tZW50VXRpbHMuanNcIjtpbXBvcnR7V0dMU3ltYm9sb2d5VHlwZSBhcyBzLFdHTEdlb21ldHJ5VHlwZSBhcyBpLFdHTFZWRmxhZyBhcyBhLFdHTFZWVGFyZ2V0IGFzIHJ9ZnJvbVwiLi4vZW51bXMuanNcIjtmdW5jdGlvbiBuKHQsZSxzKXtjb25zdCBuPWEuU0laRV9GSUVMRF9TVE9QU3xhLlNJWkVfTUlOTUFYX1ZBTFVFfGEuU0laRV9TQ0FMRV9TVE9QU3xhLlNJWkVfVU5JVF9WQUxVRSxvPShlJihyLkZJRUxEX1RBUkdFVFNfT1VUTElORXxyLk1JTk1BWF9UQVJHRVRTX09VVExJTkV8ci5TQ0FMRV9UQVJHRVRTX09VVExJTkV8ci5VTklUX1RBUkdFVFNfT1VUTElORSkpPj4+NDtyZXR1cm4gdD09PWkuTElORSYmcy5pc091dGxpbmV8fHQ9PT1pLkZJTEwmJl8ocy5zeW1ib2xvZ3lUeXBlKT9uJm86biZ+b31jb25zdCBvPTAsdj04LGw9NyxoPTgsUz0xMSx1PTExLHA9MTIsYz0xMyx5PTE0LFY9MTUsZD0xNixnPTE3LFQ9MTgsbT0xOSx6PTIwLEU9MjEsTD0yNixNPU9iamVjdC5rZXlzKHMpLmZpbHRlcigodD0+XCJudW1iZXJcIj09dHlwZW9mIHNbdF0pKS5yZWR1Y2UoKCh0LGUpPT4oey4uLnQsW2VdOnNbZV19KSkse30pO2Z1bmN0aW9uIEkodCl7cmV0dXJuIHQ9PT1zLlNJTVBMRXx8dD09PXMuT1VUTElORV9GSUxMX1NJTVBMRX1mdW5jdGlvbiBfKHQpe3JldHVybiB0PT09cy5PVVRMSU5FX0ZJTEx8fHQ9PT1zLk9VVExJTkVfRklMTF9TSU1QTEV9ZnVuY3Rpb24gYih0KXtyZXR1cm4gSSh0LnN5bWJvbG9neVR5cGUpfWZ1bmN0aW9uIE8odCl7cmV0dXJuIF8odC5zeW1ib2xvZ3lUeXBlKX1mdW5jdGlvbiBmKHQsZSl7c3dpdGNoKHQpe2Nhc2UgaS5GSUxMOnJldHVybiB3LmZyb20oZSk7Y2FzZSBpLkxJTkU6cmV0dXJuIEMuZnJvbShlKTtjYXNlIGkuTUFSS0VSOnJldHVybiBOLmZyb20oZSk7Y2FzZSBpLlRFWFQ6cmV0dXJuIFAuZnJvbShlKTtjYXNlIGkuTEFCRUw6cmV0dXJuIFouZnJvbShlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyZWF0ZU1hdGVyaWFsS2V5IGZvciB1bmtub3duIGdlb21ldHJ5VHlwZSAke3R9YCl9fWZ1bmN0aW9uIEEodCl7c3dpdGNoKFUubG9hZCh0KS5nZW9tZXRyeVR5cGUpe2Nhc2UgaS5NQVJLRVI6cmV0dXJuIG5ldyBOKHQpO2Nhc2UgaS5GSUxMOnJldHVybiBuZXcgdyh0KTtjYXNlIGkuTElORTpyZXR1cm4gbmV3IEModCk7Y2FzZSBpLlRFWFQ6cmV0dXJuIG5ldyBQKHQpO2Nhc2UgaS5MQUJFTDpyZXR1cm4gbmV3IFoodCl9fWNsYXNzIFV7c3RhdGljIGxvYWQodCl7Y29uc3QgZT10aGlzLnNoYXJlZDtyZXR1cm4gZS5kYXRhPXQsZX1jb25zdHJ1Y3Rvcih0KXt0aGlzLl9kYXRhPTAsdGhpcy5fZGF0YT10fXNldCBkYXRhKHQpe3RoaXMuX2RhdGE9dD8/MH1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl9kYXRhfWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5iaXRzKGgsUyl9c2V0IGdlb21ldHJ5VHlwZSh0KXt0aGlzLnNldEJpdHModCxoLFMpfWdldCBtYXBBbGlnbmVkKCl7cmV0dXJuISF0aGlzLmJpdCh6KX1zZXQgbWFwQWxpZ25lZCh0KXt0aGlzLnNldEJpdCh6LHQpfWdldCBzZGYoKXtyZXR1cm4hIXRoaXMuYml0KHUpfXNldCBzZGYodCl7dGhpcy5zZXRCaXQodSx0Pz8hMSl9Z2V0IHBhdHRlcm4oKXtyZXR1cm4hIXRoaXMuYml0KHApfXNldCBwYXR0ZXJuKHQpe3RoaXMuc2V0Qml0KHAsdCl9Z2V0IHRleHR1cmVCaW5kaW5nKCl7cmV0dXJuIHRoaXMuYml0cyhvLHYpfXNldCB0ZXh0dXJlQmluZGluZyh0KXt0aGlzLnNldEJpdHModCxvLHYpfWdldCBzeW1ib2xvZ3lUeXBlKCl7cmV0dXJuIHRoaXMuYml0cyhFLEwpfXNldCBzeW1ib2xvZ3lUeXBlKHQpe3RoaXMuc2V0Qml0cyh0LEUsTCl9Z2V0IGdlb21ldHJ5VHlwZVN0cmluZygpe3N3aXRjaCh0aGlzLmdlb21ldHJ5VHlwZSl7Y2FzZSBpLkZJTEw6cmV0dXJuXCJmaWxsXCI7Y2FzZSBpLk1BUktFUjpyZXR1cm5cIm1hcmtlclwiO2Nhc2UgaS5MSU5FOnJldHVyblwibGluZVwiO2Nhc2UgaS5URVhUOnJldHVyblwidGV4dFwiO2Nhc2UgaS5MQUJFTDpyZXR1cm5cImxhYmVsXCI7ZGVmYXVsdDp0aHJvdyBuZXcgdChgVW5hYmxlIHRvIGhhbmRsZSB1bmtub3duIGdlb21ldHJ5VHlwZTogJHt0aGlzLmdlb21ldHJ5VHlwZX1gKX19c2V0Qml0KHQsZSl7Y29uc3Qgcz0xPDx0O2U/dGhpcy5fZGF0YXw9czp0aGlzLl9kYXRhJj1+c31iaXQodCl7cmV0dXJuKHRoaXMuX2RhdGEmMTw8dCk+PnR9c2V0Qml0cyh0LGUscyl7Zm9yKGxldCBpPWUsYT0wO2k8cztpKyssYSsrKXRoaXMuc2V0Qml0KGksMCE9KHQmMTw8YSkpfWJpdHModCxlKXtsZXQgcz0wO2ZvcihsZXQgaT10LGE9MDtpPGU7aSsrLGErKylzfD10aGlzLmJpdChpKTw8YTtyZXR1cm4gc31oYXNWVigpe3JldHVybiExfXNldFZWKHQsZSl7fWdldFZhcmlhdGlvbigpe3JldHVybnttYXBBbGlnbmVkOnRoaXMubWFwQWxpZ25lZCxwYXR0ZXJuOnRoaXMucGF0dGVybixzZGY6dGhpcy5zZGYsc3ltYm9sb2d5VHlwZTp7dmFsdWU6c1t0aGlzLnN5bWJvbG9neVR5cGVdLG9wdGlvbnM6TSxuYW1lc3BhY2U6XCJTWU1CT0xPR1lfVFlQRVwifX19Z2V0VmFyaWF0aW9uSGFzaCgpe3JldHVybiB0aGlzLl9kYXRhJn4obCZ0aGlzLnRleHR1cmVCaW5kaW5nKX19VS5zaGFyZWQ9bmV3IFUoMCk7Y29uc3QgRj10PT5jbGFzcyBleHRlbmRzIHR7Z2V0IHZ2U2l6ZU1pbk1heFZhbHVlKCl7cmV0dXJuIDAhPT10aGlzLmJpdChkKX1zZXQgdnZTaXplTWluTWF4VmFsdWUodCl7dGhpcy5zZXRCaXQoZCx0KX1nZXQgdnZTaXplU2NhbGVTdG9wcygpe3JldHVybiAwIT09dGhpcy5iaXQoZyl9c2V0IHZ2U2l6ZVNjYWxlU3RvcHModCl7dGhpcy5zZXRCaXQoZyx0KX1nZXQgdnZTaXplRmllbGRTdG9wcygpe3JldHVybiAwIT09dGhpcy5iaXQoVCl9c2V0IHZ2U2l6ZUZpZWxkU3RvcHModCl7dGhpcy5zZXRCaXQoVCx0KX1nZXQgdnZTaXplVW5pdFZhbHVlKCl7cmV0dXJuIDAhPT10aGlzLmJpdChtKX1zZXQgdnZTaXplVW5pdFZhbHVlKHQpe3RoaXMuc2V0Qml0KG0sdCl9aGFzU2l6ZVZWKCl7cmV0dXJuIHRoaXMudnZTaXplTWluTWF4VmFsdWV8fHRoaXMudnZTaXplU2NhbGVTdG9wc3x8dGhpcy52dlNpemVGaWVsZFN0b3BzfHx0aGlzLnZ2U2l6ZVVuaXRWYWx1ZX1oYXNWVigpe3JldHVybiBzdXBlci5oYXNWVigpfHx0aGlzLmhhc1NpemVWVigpfXNldFZWKHQsZSl7c3VwZXIuc2V0VlYodCxlKTtjb25zdCBzPW4odGhpcy5nZW9tZXRyeVR5cGUsdCxlKSZ0O3RoaXMudnZTaXplTWluTWF4VmFsdWU9ISEocyZhLlNJWkVfTUlOTUFYX1ZBTFVFKSx0aGlzLnZ2U2l6ZUZpZWxkU3RvcHM9ISEocyZhLlNJWkVfRklFTERfU1RPUFMpLHRoaXMudnZTaXplVW5pdFZhbHVlPSEhKHMmYS5TSVpFX1VOSVRfVkFMVUUpLHRoaXMudnZTaXplU2NhbGVTdG9wcz0hIShzJmEuU0laRV9TQ0FMRV9TVE9QUyl9fSx4PXQ9PmNsYXNzIGV4dGVuZHMgdHtnZXQgdnZSb3RhdGlvbigpe3JldHVybiAwIT09dGhpcy5iaXQoVil9c2V0IHZ2Um90YXRpb24odCl7dGhpcy5zZXRCaXQoVix0KX1oYXNWVigpe3JldHVybiBzdXBlci5oYXNWVigpfHx0aGlzLnZ2Um90YXRpb259c2V0VlYodCxlKXtzdXBlci5zZXRWVih0LGUpLHRoaXMudnZSb3RhdGlvbj0hZS5pc091dGxpbmUmJiEhKHQmYS5ST1RBVElPTil9fSxCPXQ9PmNsYXNzIGV4dGVuZHMgdHtnZXQgdnZDb2xvcigpe3JldHVybiAwIT09dGhpcy5iaXQoYyl9c2V0IHZ2Q29sb3IodCl7dGhpcy5zZXRCaXQoYyx0KX1oYXNWVigpe3JldHVybiBzdXBlci5oYXNWVigpfHx0aGlzLnZ2Q29sb3J9c2V0VlYodCxlKXtzdXBlci5zZXRWVih0LGUpLHRoaXMudnZDb2xvcj0hZS5pc091dGxpbmUmJiEhKHQmYS5DT0xPUil9fSxSPXQ9PmNsYXNzIGV4dGVuZHMgdHtnZXQgdnZPcGFjaXR5KCl7cmV0dXJuIDAhPT10aGlzLmJpdCh5KX1zZXQgdnZPcGFjaXR5KHQpe3RoaXMuc2V0Qml0KHksdCl9aGFzVlYoKXtyZXR1cm4gc3VwZXIuaGFzVlYoKXx8dGhpcy52dk9wYWNpdHl9c2V0VlYodCxlKXtzdXBlci5zZXRWVih0LGUpLHRoaXMudnZPcGFjaXR5PSFlLmlzT3V0bGluZSYmISEodCZhLk9QQUNJVFkpfX07Y2xhc3MgdyBleHRlbmRzKEIoUihGKFUpKSkpe3N0YXRpYyBsb2FkKHQpe2NvbnN0IGU9dGhpcy5zaGFyZWQ7cmV0dXJuIGUuZGF0YT10LGV9c3RhdGljIGZyb20odCl7Y29uc3R7c3ltYm9sb2d5VHlwZTplLHZ2RmxhZ3M6YX09dCxyPXRoaXMubG9hZCgwKTtyZXR1cm4gci5nZW9tZXRyeVR5cGU9aS5GSUxMLHIuc3ltYm9sb2d5VHlwZT1lLGUhPT1zLkRPVF9ERU5TSVRZJiZyLnNldFZWKGEsdCksci5kYXRhfWdldFZhcmlhdGlvbigpe3JldHVybnsuLi5zdXBlci5nZXRWYXJpYXRpb24oKSx2dkNvbG9yOnRoaXMudnZDb2xvcix2dk9wYWNpdHk6dGhpcy52dk9wYWNpdHksdnZTaXplRmllbGRTdG9wczp0aGlzLnZ2U2l6ZUZpZWxkU3RvcHMsdnZTaXplTWluTWF4VmFsdWU6dGhpcy52dlNpemVNaW5NYXhWYWx1ZSx2dlNpemVTY2FsZVN0b3BzOnRoaXMudnZTaXplU2NhbGVTdG9wcyx2dlNpemVVbml0VmFsdWU6dGhpcy52dlNpemVVbml0VmFsdWV9fX13LnNoYXJlZD1uZXcgdygwKTtjbGFzcyBOIGV4dGVuZHMoQihSKHgoRihVKSkpKSl7c3RhdGljIGxvYWQodCl7Y29uc3QgZT10aGlzLnNoYXJlZDtyZXR1cm4gZS5kYXRhPXQsZX1zdGF0aWMgZnJvbSh0KXtjb25zdHtzeW1ib2xvZ3lUeXBlOmUsdnZGbGFnczphfT10LHI9dGhpcy5sb2FkKDApO3JldHVybiByLmdlb21ldHJ5VHlwZT1pLk1BUktFUixyLnN5bWJvbG9neVR5cGU9ZSxlIT09cy5IRUFUTUFQJiZyLnNldFZWKGEsdCksci5kYXRhfWdldFZhcmlhdGlvbigpe3JldHVybnsuLi5zdXBlci5nZXRWYXJpYXRpb24oKSx2dkNvbG9yOnRoaXMudnZDb2xvcix2dlJvdGF0aW9uOnRoaXMudnZSb3RhdGlvbix2dk9wYWNpdHk6dGhpcy52dk9wYWNpdHksdnZTaXplRmllbGRTdG9wczp0aGlzLnZ2U2l6ZUZpZWxkU3RvcHMsdnZTaXplTWluTWF4VmFsdWU6dGhpcy52dlNpemVNaW5NYXhWYWx1ZSx2dlNpemVTY2FsZVN0b3BzOnRoaXMudnZTaXplU2NhbGVTdG9wcyx2dlNpemVVbml0VmFsdWU6dGhpcy52dlNpemVVbml0VmFsdWV9fX1OLnNoYXJlZD1uZXcgTigwKTtjbGFzcyBDIGV4dGVuZHMoQihSKEYoVSkpKSl7c3RhdGljIGxvYWQodCl7Y29uc3QgZT10aGlzLnNoYXJlZDtyZXR1cm4gZS5kYXRhPXQsZX1zdGF0aWMgZnJvbSh0KXtjb25zdCBlPXRoaXMubG9hZCgwKTtyZXR1cm4gZS5nZW9tZXRyeVR5cGU9aS5MSU5FLGUuc3ltYm9sb2d5VHlwZT10LnN5bWJvbG9neVR5cGUsZS5zZXRWVih0LnZ2RmxhZ3MsdCksZS5kYXRhfWdldFZhcmlhdGlvbigpe3JldHVybnsuLi5zdXBlci5nZXRWYXJpYXRpb24oKSx2dkNvbG9yOnRoaXMudnZDb2xvcix2dk9wYWNpdHk6dGhpcy52dk9wYWNpdHksdnZTaXplRmllbGRTdG9wczp0aGlzLnZ2U2l6ZUZpZWxkU3RvcHMsdnZTaXplTWluTWF4VmFsdWU6dGhpcy52dlNpemVNaW5NYXhWYWx1ZSx2dlNpemVTY2FsZVN0b3BzOnRoaXMudnZTaXplU2NhbGVTdG9wcyx2dlNpemVVbml0VmFsdWU6dGhpcy52dlNpemVVbml0VmFsdWV9fX1DLnNoYXJlZD1uZXcgQygwKTtjbGFzcyBQIGV4dGVuZHMoQihSKHgoRihVKSkpKSl7c3RhdGljIGxvYWQodCl7Y29uc3QgZT10aGlzLnNoYXJlZDtyZXR1cm4gZS5kYXRhPXQsZX1zdGF0aWMgZnJvbSh0KXtjb25zdCBlPXRoaXMubG9hZCgwKTtyZXR1cm4gZS5nZW9tZXRyeVR5cGU9aS5URVhULGUuc3ltYm9sb2d5VHlwZT10LnN5bWJvbG9neVR5cGUsZS5zZXRWVih0LnZ2RmxhZ3MsdCksZS5kYXRhfWdldFZhcmlhdGlvbigpe3JldHVybnsuLi5zdXBlci5nZXRWYXJpYXRpb24oKSx2dkNvbG9yOnRoaXMudnZDb2xvcix2dk9wYWNpdHk6dGhpcy52dk9wYWNpdHksdnZSb3RhdGlvbjp0aGlzLnZ2Um90YXRpb24sdnZTaXplRmllbGRTdG9wczp0aGlzLnZ2U2l6ZUZpZWxkU3RvcHMsdnZTaXplTWluTWF4VmFsdWU6dGhpcy52dlNpemVNaW5NYXhWYWx1ZSx2dlNpemVTY2FsZVN0b3BzOnRoaXMudnZTaXplU2NhbGVTdG9wcyx2dlNpemVVbml0VmFsdWU6dGhpcy52dlNpemVVbml0VmFsdWV9fX1QLnNoYXJlZD1uZXcgUCgwKTtjbGFzcyBaIGV4dGVuZHMoRihVKSl7c3RhdGljIGxvYWQodCl7Y29uc3QgZT10aGlzLnNoYXJlZDtyZXR1cm4gZS5kYXRhPXQsZX1zdGF0aWMgZnJvbSh0KXtjb25zdCBzPXRoaXMubG9hZCgwKTtyZXR1cm4gcy5nZW9tZXRyeVR5cGU9aS5MQUJFTCxzLnN5bWJvbG9neVR5cGU9dC5zeW1ib2xvZ3lUeXBlLHMuc2V0VlYodC52dkZsYWdzLHQpLHMubWFwQWxpZ25lZD1lKHQucGxhY2VtZW50KSxzLmRhdGF9Z2V0VmFyaWF0aW9uKCl7cmV0dXJuey4uLnN1cGVyLmdldFZhcmlhdGlvbigpLHZ2U2l6ZUZpZWxkU3RvcHM6dGhpcy52dlNpemVGaWVsZFN0b3BzLHZ2U2l6ZU1pbk1heFZhbHVlOnRoaXMudnZTaXplTWluTWF4VmFsdWUsdnZTaXplU2NhbGVTdG9wczp0aGlzLnZ2U2l6ZVNjYWxlU3RvcHMsdnZTaXplVW5pdFZhbHVlOnRoaXMudnZTaXplVW5pdFZhbHVlfX19Wi5zaGFyZWQ9bmV3IFooMCk7ZXhwb3J0e3cgYXMgRmlsbE1hdGVyaWFsS2V5LFogYXMgTGFiZWxNYXRlcmlhbEtleSxDIGFzIExpbmVNYXRlcmlhbEtleSxOIGFzIE1hcmtlck1hdGVyaWFsS2V5LFUgYXMgTWF0ZXJpYWxLZXlCYXNlLFAgYXMgVGV4dE1hdGVyaWFsS2V5LGYgYXMgY3JlYXRlTWF0ZXJpYWxLZXksTyBhcyBoYXNPdXRsaW5lRmlsbFN5bWJvbG9neSxiIGFzIGhhc1NpbXBsZVN5bWJvbG9neSxBIGFzIGh5ZHJhdGVNYXRlcmlhbEtleSxfIGFzIGlzT3V0bGluZUZpbGxTeW1ib2xvZ3ksSSBhcyBpc1NpbXBsZVN5bWJvbG9neX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IHM9Y2xhc3MgZXh0ZW5kcyBye2luaXRpYWxpemUoKXt9ZGVzdHJveSgpe31nZXQgc3VwcG9ydHNUaWxlVXBkYXRlcygpe3JldHVybiExfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7Y29uc3QgZT10aGlzLnRpbGVTdG9yZS50aWxlU2NoZW1lLnNwYXRpYWxSZWZlcmVuY2U7cmV0dXJuIGUmJmUudG9KU09OKCl8fG51bGx9fTtlKFt0KHtyZWFkT25seTohMH0pXSxzLnByb3RvdHlwZSxcInN1cHBvcnRzVGlsZVVwZGF0ZXNcIixudWxsKSxlKFt0KHtjb25zdHJ1Y3RPbmx5OiEwfSldLHMucHJvdG90eXBlLFwicmVtb3RlQ2xpZW50XCIsdm9pZCAwKSxlKFt0KHtjb25zdHJ1Y3RPbmx5OiEwfSldLHMucHJvdG90eXBlLFwic2VydmljZVwiLHZvaWQgMCksZShbdCgpXSxzLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlKFt0KHtjb25zdHJ1Y3RPbmx5OiEwfSldLHMucHJvdG90eXBlLFwidGlsZUluZm9cIix2b2lkIDApLGUoW3Qoe2NvbnN0cnVjdE9ubHk6ITB9KV0scy5wcm90b3R5cGUsXCJ0aWxlU3RvcmVcIix2b2lkIDApLHM9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnByb2Nlc3NvcnMuQmFzZVByb2Nlc3NvclwiKV0scyk7Y29uc3QgcD1zO2V4cG9ydHtwIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtiaWRpVGV4dCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQmlkaVRleHQuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthc3NlcnRJc1NvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHIsaXNBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZGlmZiBhcyBvLGhhc0RpZmYgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2lzQWdncmVnYXRlSWQgYXMgY31mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7aW1wb3J0e1dHTFN5bWJvbG9neVR5cGUgYXMgZH1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7TWVzaERhdGEgYXMgaH1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC9NZXNoRGF0YS5qc1wiO2ltcG9ydHtXR0xNZXNoRmFjdG9yeSBhcyBmfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9tZXNoL2ZhY3Rvcmllcy9XR0xNZXNoRmFjdG9yeS5qc1wiO2ltcG9ydHtXR0xUZW1wbGF0ZVN0b3JlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL21lc2gvdGVtcGxhdGVzL1dHTFRlbXBsYXRlU3RvcmUuanNcIjtpbXBvcnR7Y3JlYXRlTWF0Y2hlciBhcyBtfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC91dGlsL01hdGNoZXIuanNcIjtpbXBvcnR7Y29kZXBvaW50cyBhcyBnfWZyb21cIi4uL3RleHRVdGlscy5qc1wiO2ltcG9ydCBwIGZyb21cIi4vQmFzZVByb2Nlc3Nvci5qc1wiO2ltcG9ydCB5IGZyb21cIi4uL3N1cHBvcnQvUmVzb3VyY2VNYW5hZ2VyUHJveHkuanNcIjtmdW5jdGlvbiBfKGUsdCl7Y29uc3Qgcz10LXQvNCxyPXQrdC8yO3JldHVybighZS5taW5TY2FsZXx8ZS5taW5TY2FsZT49cykmJighZS5tYXhTY2FsZXx8ZS5tYXhTY2FsZTw9cil9ZnVuY3Rpb24gYihlKXtjb25zdCB0PWUubWVzc2FnZSxzPXttZXNzYWdlOntkYXRhOnt9LHRpbGVLZXk6dC50aWxlS2V5LHRpbGVLZXlPcmlnaW46dC50aWxlS2V5T3JpZ2luLHZlcnNpb246dC52ZXJzaW9ufSx0cmFuc2Zlckxpc3Q6bmV3IEFycmF5fTtmb3IoY29uc3QgciBpbiB0LmRhdGEpe2NvbnN0IGU9cixpPXQuZGF0YVtlXTtpZihzLm1lc3NhZ2UuZGF0YVtlXT1udWxsLG51bGwhPWkpe2NvbnN0IHQ9aS5zdHJpZGUscj1pLmluZGljZXMuc2xpY2UoMCksYT1pLnZlcnRpY2VzLnNsaWNlKDApLG89aS5yZWNvcmRzLnNsaWNlKDApLG49aS5tZXRyaWNzPy5zbGljZSgwKSxsPXtzdHJpZGU6dCxpbmRpY2VzOnIsdmVydGljZXM6YSxyZWNvcmRzOm8sbWV0cmljczpufTtzLnRyYW5zZmVyTGlzdC5wdXNoKHIsYSxvKSxzLm1lc3NhZ2UuZGF0YVtlXT1sfX1yZXR1cm4gc31sZXQgUz1jbGFzcyBleHRlbmRzIHB7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cInN5bWJvbFwiLHRoaXMuX21hdGNoZXJzPXtmZWF0dXJlOm51bGwsYWdncmVnYXRlOm51bGx9LHRoaXMuX2J1ZmZlckRhdGE9bmV3IE1hcCx0aGlzLl9idWZmZXJJZHM9bmV3IE1hcH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFt0aGlzLnRpbGVTdG9yZS5vbihcInVwZGF0ZVwiLHRoaXMub25UaWxlVXBkYXRlLmJpbmQodGhpcykpXSksdGhpcy5fcmVzb3VyY2VNYW5hZ2VyUHJveHk9bmV3IHkodGhpcy5yZW1vdGVDbGllbnQpfWRlc3Ryb3koKXt0aGlzLl9yZXNvdXJjZU1hbmFnZXJQcm94eS5kZXN0cm95KCl9Z2V0IHN1cHBvcnRzVGlsZVVwZGF0ZXMoKXtyZXR1cm4hMH1mb3JFYWNoQnVmZmVySWQoZSl7dGhpcy5fYnVmZmVySWRzLmZvckVhY2goKHQ9Pnt0LmZvckVhY2goZSl9KSl9YXN5bmMgdXBkYXRlKGUsdCl7Y29uc3Qgcz10LnNjaGVtYS5wcm9jZXNzb3JzWzBdO2lmKFwic3ltYm9sXCIhPT1zLnR5cGUpcmV0dXJuO2NvbnN0IHI9byh0aGlzLl9zY2hlbWEscyk7KG4ocixcIm1lc2hcIil8fG4ocixcInRhcmdldFwiKSkmJihlLm1lc2g9ITAsZS53aHk/Lm1lc2gucHVzaChcIlN5bWJvbG9neSBjaGFuZ2VkXCIpLHRoaXMuX3NjaGVtYT1zLHRoaXMuX2ZhY3Rvcnk9dGhpcy5fY3JlYXRlRmFjdG9yeShzKSx0aGlzLl9mYWN0b3J5LnVwZGF0ZShzLHRoaXMudGlsZVN0b3JlLnRpbGVTY2hlbWUudGlsZUluZm8pKX1vblRpbGVNZXNzYWdlKGUsdCxzLGkpe3JldHVybiByKGkpLHRoaXMuX29uVGlsZURhdGEoZSx0LHMsaSl9b25UaWxlQ2xlYXIoZSx0KXtjb25zdCBzPXtjbGVhcjohMCxlbmQ6dH07cmV0dXJuIHRoaXMuX2J1ZmZlckRhdGEuZGVsZXRlKGUua2V5LmlkKSx0aGlzLl9idWZmZXJJZHMuZGVsZXRlKGUua2V5LmlkKSx0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJ0aWxlUmVuZGVyZXIub25UaWxlRGF0YVwiLHt0aWxlS2V5OmUuaWQsZGF0YTpzfSl9b25UaWxlRXJyb3IoZSx0LHMpe2NvbnN0IHI9cy5zaWduYWwsaT17dGlsZUtleTplLmlkLGVycm9yOnR9O3JldHVybiB0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJ0aWxlUmVuZGVyZXIub25UaWxlRXJyb3JcIixpLHtzaWduYWw6cn0pfW9uVGlsZVVwZGF0ZShlKXtmb3IoY29uc3QgdCBvZiBlLnJlbW92ZWQpdGhpcy5fYnVmZmVyRGF0YS5oYXModC5rZXkuaWQpJiZ0aGlzLl9idWZmZXJEYXRhLmRlbGV0ZSh0LmtleS5pZCksdGhpcy5fYnVmZmVySWRzLmhhcyh0LmtleS5pZCkmJnRoaXMuX2J1ZmZlcklkcy5kZWxldGUodC5rZXkuaWQpO2Zvcihjb25zdCB0IG9mIGUuYWRkZWQpdGhpcy5fYnVmZmVyRGF0YS5mb3JFYWNoKChlPT57Zm9yKGNvbnN0IHMgb2YgZSlzLm1lc3NhZ2UudGlsZUtleT09PXQuaWQmJnRoaXMuX3VwZGF0ZVRpbGVNZXNoKFwiYXBwZW5kXCIsdCxiKHMpLFtdLCExLCExLG51bGwpfSkpfV9hZGRCdWZmZXJEYXRhKGUsdCl7dGhpcy5fYnVmZmVyRGF0YS5oYXMoZSl8fHRoaXMuX2J1ZmZlckRhdGEuc2V0KGUsW10pLHRoaXMuX2J1ZmZlckRhdGEuZ2V0KGUpPy5wdXNoKGIodCkpfV9jcmVhdGVGYWN0b3J5KGUpe2NvbnN0e2dlb21ldHJ5VHlwZTp0LG9iamVjdElkRmllbGQ6cyxmaWVsZHM6cn09dGhpcy5zZXJ2aWNlLGk9KGUsdCk9PnRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInRpbGVSZW5kZXJlci5nZXRNYXRlcmlhbEl0ZW1zXCIsZSx0KSxhPXtnZW9tZXRyeVR5cGU6dCxmaWVsZHM6cixzcGF0aWFsUmVmZXJlbmNlOmwuZnJvbUpTT04odGhpcy5zcGF0aWFsUmVmZXJlbmNlKX0sbz1uZXcgdShpLHRoaXMudGlsZVN0b3JlLnRpbGVTY2hlbWUudGlsZUluZm8pLHttYXRjaGVyOm4sYWdncmVnYXRlTWF0Y2hlcjpjfT1lLm1lc2g7cmV0dXJuIHRoaXMuX3N0b3JlPW8sdGhpcy5fbWF0Y2hlcnMuZmVhdHVyZT1tKG4sbyxhLHRoaXMuX3Jlc291cmNlTWFuYWdlclByb3h5KSx0aGlzLl9tYXRjaGVycy5hZ2dyZWdhdGU9Yz9tKGMsbyxhLHRoaXMuX3Jlc291cmNlTWFuYWdlclByb3h5KTpudWxsLG5ldyBmKHQscyxvKX1hc3luYyBfb25UaWxlRGF0YShlLHQscyxpKXtyKGkpO2NvbnN0e3R5cGU6YSxhZGRPclVwZGF0ZTpvLHJlbW92ZTpuLGNsZWFyOmwsZW5kOmN9PXQsZD0hIXRoaXMuX3NjaGVtYS5tZXNoLnNvcnRLZXk7aWYoIW8pe2NvbnN0IHQ9e3R5cGU6YSxhZGRPclVwZGF0ZTpudWxsLHJlbW92ZTpuLGNsZWFyOmwsZW5kOmMsc29ydDpkfTtyZXR1cm4gdGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwidGlsZVJlbmRlcmVyLm9uVGlsZURhdGFcIix7dGlsZUtleTplLmlkLGRhdGE6dH0saSl9Y29uc3QgaD10aGlzLl9wcm9jZXNzRmVhdHVyZXMoZSxvLHMsaSx0LnN0YXR1cz8udmVyc2lvbik7dHJ5e2NvbnN0IHM9YXdhaXQgaDtpZihudWxsPT1zKXtjb25zdCB0PXt0eXBlOmEsYWRkT3JVcGRhdGU6bnVsbCxyZW1vdmU6bixjbGVhcjpsLGVuZDpjLHNvcnQ6ZH07cmV0dXJuIHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInRpbGVSZW5kZXJlci5vblRpbGVEYXRhXCIse3RpbGVLZXk6ZS5pZCxkYXRhOnR9LGkpfWNvbnN0IHI9W107Zm9yKGNvbnN0IHQgb2Ygcyl7bGV0IHM9ITE7Y29uc3QgaT10Lm1lc3NhZ2UuYnVmZmVySWRzLGE9ZS5rZXkuaWQsbz10Lm1lc3NhZ2UudGlsZUtleTtpZihhIT09byYmbnVsbCE9aSl7aWYoIXRoaXMudGlsZVN0b3JlLmdldChvKSl7dGhpcy5fYWRkQnVmZmVyRGF0YShhLHQpLHIucHVzaCh0KTtjb250aW51ZX1sZXQgZT10aGlzLl9idWZmZXJJZHMuZ2V0KG8pO2V8fChlPW5ldyBTZXQsdGhpcy5fYnVmZmVySWRzLnNldChvLGUpKTtjb25zdCBuPUFycmF5LmZyb20oaSk7Zm9yKGNvbnN0IHQgb2Ygbil7aWYoZS5oYXModCkpe3M9ITA7YnJlYWt9ZS5hZGQodCl9fXN8fCh0aGlzLl9hZGRCdWZmZXJEYXRhKGEsdCksci5wdXNoKHQpKX1hd2FpdCBQcm9taXNlLmFsbChyLm1hcCgocz0+e2NvbnN0IHI9ZS5rZXkuaWQ9PT1zLm1lc3NhZ2UudGlsZUtleSxvPXI/dC5yZW1vdmU6W10sbj1yJiZ0LmVuZDtyZXR1cm4gdGhpcy5fdXBkYXRlVGlsZU1lc2goYSxlLHMsbyxuLCEhdC5jbGVhcixpLnNpZ25hbCl9KSkpfWNhdGNoKGYpe3RoaXMuX2hhbmRsZUVycm9yKGUsZixpKX19YXN5bmMgX3VwZGF0ZVRpbGVNZXNoKGUsdCxzLGksYSxvLG4pe2NvbnN0IGw9ZSxjPXMubWVzc2FnZS50aWxlS2V5LGQ9ISF0aGlzLl9zY2hlbWEubWVzaC5zb3J0S2V5O2MhPT10LmtleS5pZCYmKGE9ITEpO2NvbnN0IGg9cz8ubWVzc2FnZSxmPXt0eXBlOmwsYWRkT3JVcGRhdGU6aCxyZW1vdmU6aSxjbGVhcjpvLGVuZDphLHNvcnQ6ZH0sdT17dHJhbnNmZXJMaXN0OnM/LnRyYW5zZmVyTGlzdD8/W10sc2lnbmFsOm59O3JldHVybiByKHUpLHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInRpbGVSZW5kZXJlci5vblRpbGVEYXRhXCIse3RpbGVLZXk6YyxkYXRhOmZ9LHUpfWFzeW5jIF9wcm9jZXNzRmVhdHVyZXMoZSx0LHMsaSxhKXtpZihudWxsPT10fHwhdC5oYXNGZWF0dXJlcylyZXR1cm4gbnVsbDtjb25zdCBvPXt0cmFuc2Zvcm06ZS50cmFuc2Zvcm0saGFzWjohMSxoYXNNOiExfSxuPXRoaXMuX2ZhY3RvcnksbD17dmlld2luZ01vZGU6XCJcIixzY2FsZTplLnNjYWxlfSxjPWF3YWl0IHRoaXMuX21hdGNoZXJzLmZlYXR1cmUsZD1hd2FpdCB0aGlzLl9tYXRjaGVycy5hZ2dyZWdhdGU7cihpKTtjb25zdCBoPXRoaXMuX2dldExhYmVsSW5mb3MoZSx0KTtyZXR1cm4gYXdhaXQgbi5hbmFseXplKHQuZ2V0Q3Vyc29yKCksdGhpcy5fcmVzb3VyY2VNYW5hZ2VyUHJveHksYyxkLG8sbCkscihpKSx0aGlzLl93cml0ZUZlYXR1cmVTZXQoZSx0LG8saCxuLHMsYSl9X3dyaXRlRmVhdHVyZVNldChlLHQscyxyLGksYSxvKXtjb25zdCBuPXQuZ2V0U2l6ZSgpLGw9dGhpcy5fc2NoZW1hLm1lc2gubWF0Y2hlci5zeW1ib2xvZ3lUeXBlLGM9bmV3IGgoZS5rZXkuaWQse2ZlYXR1cmVzOm4scmVjb3JkczpuLG1ldHJpY3M6MH0sbCxhLGwhPT1kLkhFQVRNQVAsbyksZj17dmlld2luZ01vZGU6XCJcIixzY2FsZTplLnNjYWxlfSx1PXQuZ2V0Q3Vyc29yKCk7Zm9yKDt1Lm5leHQoKTspdHJ5e2NvbnN0IHQ9dS5nZXREaXNwbGF5SWQoKSxhPW51bGwhPXI/ci5nZXQodCk6bnVsbDtpLndyaXRlQ3Vyc29yKGMsdSxzLGYsZS5sZXZlbCxhLHRoaXMuX3Jlc291cmNlTWFuYWdlclByb3h5KX1jYXRjaChnKXt9Y29uc3QgbT1lLnRpbGVJbmZvVmlldy50aWxlSW5mby5pc1dyYXBwYWJsZTtyZXR1cm4gYy5zZXJpYWxpemUobSl9X2hhbmRsZUVycm9yKGUsdCxzKXtpZighaSh0KSl7Y29uc3Qgcj17dGlsZUtleTplLmlkLGVycm9yOnQubWVzc2FnZX07cmV0dXJuIHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInRpbGVSZW5kZXJlci5vblRpbGVFcnJvclwiLHIse3NpZ25hbDpzLnNpZ25hbH0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX1fZ2V0TGFiZWxpbmdTY2hlbWFGb3JTY2FsZShlKXtjb25zdCB0PXRoaXMuX3NjaGVtYS5tZXNoLmxhYmVscztpZihudWxsPT10KXJldHVybiBudWxsO2lmKFwic3VidHlwZVwiPT09dC50eXBlKXtjb25zdCBzPXt0eXBlOlwic3VidHlwZVwiLGNsYXNzZXM6e319O2xldCByPSExO2Zvcihjb25zdCBpIGluIHQuY2xhc3Nlcyl7Y29uc3QgYT10LmNsYXNzZXNbaV0uZmlsdGVyKCh0PT5fKHQsZS5zY2FsZSkpKTtyPXJ8fCEhYS5sZW5ndGgscy5jbGFzc2VzW2ldPWF9cmV0dXJuIHI/czpudWxsfWNvbnN0IHM9dC5jbGFzc2VzLmZpbHRlcigodD0+Xyh0LGUuc2NhbGUpKSk7cmV0dXJuIHMubGVuZ3RoP3t0eXBlOlwic2ltcGxlXCIsY2xhc3NlczpzfTpudWxsfV9nZXRMYWJlbHMoZSx0KXtpZihcInN1YnR5cGVcIj09PXQudHlwZSl7Y29uc3Qgcj10aGlzLnNlcnZpY2Uuc3VidHlwZUZpZWxkO3MocixcIkV4cGVjdGVkIHRvIGZpbmQgc3VidHlwZSBGaWVsZFwiKTtjb25zdCBpPWUucmVhZEF0dHJpYnV0ZShyKTtyZXR1cm4gbnVsbD09aT9bXTp0LmNsYXNzZXNbaV0/P1tdfXJldHVybiB0LmNsYXNzZXN9X2dldExhYmVsSW5mb3MoZSxzKXtjb25zdCByPXRoaXMuX2dldExhYmVsaW5nU2NoZW1hRm9yU2NhbGUoZSk7aWYobnVsbD09cilyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBNYXAsYT1zLmdldEN1cnNvcigpO2Zvcig7YS5uZXh0KCk7KXtjb25zdCBlPWEuZ2V0RGlzcGxheUlkKCkscz1bXSxvPWMoZSksbj1vJiYxIT09YS5yZWFkQXR0cmlidXRlKFwiY2x1c3Rlcl9jb3VudFwiKT9cImFnZ3JlZ2F0ZVwiOlwiZmVhdHVyZVwiLGw9dGhpcy5fZ2V0TGFiZWxzKGEscik7Zm9yKGNvbnN0IHIgb2YgbCl7aWYoci50YXJnZXQhPT1uKWNvbnRpbnVlO2NvbnN0IGk9YS5nZXRTdG9yYWdlKCksbD1vJiZcImZlYXR1cmVcIj09PW4/aS5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoYS5yZWFkQXR0cmlidXRlKFwicmVmZXJlbmNlSWRcIiksci5maWVsZEluZGV4KTppLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHIuZmllbGRJbmRleCk7aWYoIWwpY29udGludWU7Y29uc3QgYz10KGwudG9TdHJpbmcoKSksZD1jWzBdLGg9Y1sxXTt0aGlzLl9zdG9yZS5nZXRNb3NhaWNJdGVtKHIuc3ltYm9sLGcoZCkpLnRoZW4oKGU9PntzW3IuaW5kZXhdPXtnbHlwaHM6ZS5nbHlwaE1vc2FpY0l0ZW1zPz9bXSxydGw6aCxpbmRleDpyLmluZGV4fX0pKX1pLnNldChlLHMpfXJldHVybiBpfX07Uz1lKFthKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMucHJvY2Vzc29ycy5TeW1ib2xQcm9jZXNzb3JcIildLFMpO2NvbnN0IHc9UztleHBvcnR7dyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNBYm9ydEVycm9yIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlbW90ZUNsaWVudD1lLHRoaXMuX3Jlc291cmNlTWFwPW5ldyBNYXAsdGhpcy5faW5GbGlnaHRSZXNvdXJjZU1hcD1uZXcgTWFwLHRoaXMuZ2VvbWV0cnlFbmdpbmU9bnVsbCx0aGlzLmdlb21ldHJ5RW5naW5lUHJvbWlzZT1udWxsfWRlc3Ryb3koKXt9YXN5bmMgZmV0Y2hSZXNvdXJjZSh0LHIpe2NvbnN0IHM9dGhpcy5fcmVzb3VyY2VNYXAsaT1zLmdldCh0KTtpZihpKXJldHVybiBpO2xldCBuPXRoaXMuX2luRmxpZ2h0UmVzb3VyY2VNYXAuZ2V0KHQpO2lmKG4pcmV0dXJuIG47dHJ5e249dGhpcy5fcmVtb3RlQ2xpZW50Lmludm9rZShcInRpbGVSZW5kZXJlci5mZXRjaFJlc291cmNlXCIse3VybDp0fSx7Li4ucn0pLHRoaXMuX2luRmxpZ2h0UmVzb3VyY2VNYXAuc2V0KHQsbiksbi50aGVuKChlPT4odGhpcy5faW5GbGlnaHRSZXNvdXJjZU1hcC5kZWxldGUodCkscy5zZXQodCxlKSxlKSkpfWNhdGNoKG8pe3JldHVybiBlKG8pP251bGw6e3dpZHRoOjAsaGVpZ2h0OjB9fXJldHVybiBufWdldFJlc291cmNlKGUpe3JldHVybiB0aGlzLl9yZXNvdXJjZU1hcC5nZXQoZSk/P251bGx9bG9hZEZvbnQoZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKX19ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0NJTUFuYWx5emVyIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9jaW0vY2ltQW5hbHl6ZXIuanNcIjtpbXBvcnR7RXhwYW5kZWRDSU0gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9FeHBhbmRlZENJTS5qc1wiO2NvbnN0IGE9YXN5bmMoYSxpLHIpPT57Y29uc3Qgbj1uZXcgZShyLGkpO3JldHVybiBuZXcgdChhd2FpdCBuLmFuYWx5emVTeW1ib2xSZWZlcmVuY2UoYS5kYXRhLCExKSxhLmRhdGEsYS5yZW5kZXJlcktleSxhLm1heFZWU2l6ZSl9O2FzeW5jIGZ1bmN0aW9uIGkoZSx0LGkscil7aWYoIWUpcmV0dXJuIG51bGw7aWYoXCJjaW1cIj09PWUudHlwZSlyZXR1cm4gYShlLHQsaSk7aWYoXCJ3ZWItc3R5bGVcIj09PWUudHlwZSl7Y29uc3R7ZmV0Y2hDSU1TeW1ib2xSZWZlcmVuY2U6bn09YXdhaXQgaW1wb3J0KFwiLi93ZWJTdHlsZVV0aWxzLmpzXCIpLGw9e3R5cGU6XCJjaW1cIixkYXRhOmF3YWl0IG4oZSxudWxsLHIpPz92b2lkIDAscmVuZGVyZXJLZXk6ZS5yZW5kZXJlcktleSxtYXhWVlNpemU6ZS5tYXhWVlNpemV9O3JldHVybiBhKGwsdCxpKX1yZXR1cm4gZX1mdW5jdGlvbiByKGUpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0e2F2b2lkU0RGUmFzdGVyaXphdGlvbjp0LHR5cGU6YSxjaW06aSx1cmw6cixtYXRlcmlhbEhhc2g6bixtYXhWVlNpemU6bH09ZSxtPXtjaW06aSx0eXBlOmEsbW9zYWljSGFzaDpuLHVybDpyLHNpemU6bnVsbCxkYXNoVGVtcGxhdGU6bnVsbCxwYXRoOm51bGwsdGV4dDpudWxsLGZvbnROYW1lOm51bGwsYW5pbWF0ZWRTeW1ib2xQcm9wZXJ0aWVzOm51bGwsYXZvaWRTREZSYXN0ZXJpemF0aW9uOnR9O3N3aXRjaChhKXtjYXNlXCJtYXJrZXJcIjpsJiZcInNpemVcImluIGkmJihpLnNpemU9TWF0aC5tYXgobCxpLnNpemUpKSxtLnNpemU9ZS5zaXplLG0ucGF0aD1lLnBhdGgsbS5hbmltYXRlZFN5bWJvbFByb3BlcnRpZXM9ZS5hbmltYXRlZFN5bWJvbFByb3BlcnRpZXM7YnJlYWs7Y2FzZVwibGluZVwiOm0uZGFzaFRlbXBsYXRlPWUuZGFzaFRlbXBsYXRlO2JyZWFrO2Nhc2VcInRleHRcIjptLnRleHQ9ZS50ZXh0LG0uZm9udE5hbWU9ZS5mb250TmFtZX1yZXR1cm4gbX1leHBvcnR7ciBhcyBjaW1MYXllclRvUmFzdGVyaXphdGlvbkluZm8saSBhcyBleHBhbmRTeW1ib2x9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9