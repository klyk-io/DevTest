"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_interactive_snapping_featureSources_FeatureServ-efdd0f"],{

/***/ "./node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceTiles2D: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../layers/support/TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/* harmony import */ var _interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get tiles(){const e=this.tilesCoveringView,t=null!=this.pointOfInterest?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>(0,_interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_9__.distanceToTile)(t,e)-(0,_interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_9__.distanceToTile)(t,r))),e}_scaleEnabled(){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_10__.scaleBoundsPredicate)(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||null==this.tileInfo)return[];if(!this._scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,i=[];for(const{row:o,colFrom:s,colTo:n}of e)for(let e=s;e<=n;e++){const s=t.normalizeCol(e),n=new _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_8__.TileKey(null,r,o,s);this.tileInfo.updateTileInfo(n),i.push(n)}return i}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return null!=this.tileInfo?this.tileInfo.size[0]:256}constructor(e){super(e),this.pointOfInterest=null}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.view?.state?.viewpoint),(()=>this.notifyChange("tilesCoveringView")),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.sync))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tiles",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"_scaleEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tilesCoveringView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tileInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tileSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],p.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],p.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"pointOfInterest",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D")],p);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceTiles3D: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../layers/support/TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/* harmony import */ var _layers_support_FeatureTileDescriptor3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/FeatureTileDescriptor3D.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileDescriptor3D.js");
/* harmony import */ var _interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get tiles(){const e=this.tilesCoveringView,t=this._effectivePointOfInterest;if(null!=t){const r=e.map((e=>(0,_interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_10__.distanceToTile)(t,e)));for(let i=1;i<r.length;i++)if(r[i-1]>r[i])return e.sort(((e,r)=>(0,_interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_10__.distanceToTile)(t,e)-(0,_interactive_snapping_featureSources_featureServiceSource_tileUtils_js__WEBPACK_IMPORTED_MODULE_10__.distanceToTile)(t,r))),e.slice()}return e}get tilesCoveringView(){return this._filterTiles(this.view.featureTiles?.tiles?.toArray()).map(u)}get tileInfo(){return this.view.featureTiles?.tilingScheme.toTileInfo()??null}get tileSize(){return this.view.featureTiles?.tileSize??256}get _effectivePointOfInterest(){const e=this.pointOfInterest;return null!=e?e:this.view.pointsOfInterest?.focus.location}constructor(e){super(e),this.pointOfInterest=null}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.view.featureTiles),(e=>{this.removeHandles(f),e&&this.addHandles(e.addClient(),f)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.initial))}_filterTiles(e){if(null==e)return[];return e.filter((e=>Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>a&&e.measures.visibility===_layers_support_FeatureTileDescriptor3D_js__WEBPACK_IMPORTED_MODULE_9__.Visibility.VISIBLE_ON_SURFACE))}};function u({lij:[e,t,r],extent:i}){return new _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_8__.TileKey(`${e}/${t}/${r}`,e,t,r,i)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tiles",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tilesCoveringView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tileInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"tileSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],p.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"pointOfInterest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"_effectivePointOfInterest",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D")],p);const a=50,f="feature-tiles";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexSnappingCandidate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FeatureSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js");
/* harmony import */ var _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hints/PointSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__.FeatureSnappingCandidate{constructor(n){super({...n,constraint:new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__.PointConstraint(n.targetPoint)})}get hints(){return[new _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__.PointSnappingHint(this.targetPoint,this.isDraped,this.domain)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceSnappingSource: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_memoize_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/memoize.js */ "./node_modules/@arcgis/core/core/memoize.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _2d_interactive_snapping_featureSources_featureServiceSource_FeatureServiceTiles2D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js */ "./node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js");
/* harmony import */ var _3d_interactive_snapping_featureSources_featureServiceSource_FeatureServiceTiles3D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./queryEngineUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js");
/* harmony import */ var _WorkerTileTreeDebugger_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./WorkerTileTreeDebugger.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js");
/* harmony import */ var _featureServiceSource_FeatureServiceSnappingSourceWorkerHandle_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js");
/* harmony import */ var _featureServiceSource_FeatureServiceTilesSimple_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./featureServiceSource/FeatureServiceTilesSimple.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/support/debugFlags.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let F=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get _updateTilesParameters(){return{tiles:this._tilesOfInterest.tiles,tileInfo:this._tilesOfInterest.tileInfo,tileSize:this._tilesOfInterest.tileSize}}get _layerView(){return this.view?.allLayerViews.find((e=>e.layer===this._layer))}get _isSuspended(){if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_13__.isSubtypeGroupLayer)(this._layer)){if(!this._layer.sublayers.find((e=>e.visible)))return!0}return!!this.view&&(!1!==this._layerView?.suspended||!this.layerSource.enabled)}get updating(){return this._workerHandle?.updating||this._updatingHandles.updating}get _outFields(){const{view:e,_layerView:t,layerSource:r}=this,{layer:i}=r,{fieldsIndex:s,timeInfo:o,floorInfo:a,subtypeField:n}=i,l=t&&"filter"in t?t.filter:null,u=l?.where&&"1=1"!==l.where?this._getOrLoadWhereFields(l.where,s):[];if(l?.timeExtent&&o){const{startField:e,endField:t}=o,r=s.get(e)?.name??e,i=s.get(t)?.name??t;r&&u.push(r),i&&u.push(i)}if(e?.map&&(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_17__.isUtilityNetworkWebMap)(e.map)&&e.map.utilityNetworks?.find((e=>e.isUtilityLayer(i)))){const e=i.fieldsIndex.get("assetGroup")?.name,t=i.fieldsIndex.get("assetType")?.name;e&&t&&(u.push(e),u.push(t))}if(i&&a?.floorField&&e?.floors?.length){const e=s.get(a.floorField)?.name??a.floorField;e&&u.push(e)}if(n){const e=s.get(n)?.name??n;e&&u.push(e)}return new Set(u)}get configuration(){const{view:e}=this,t=null!=e?e.type:"2d";return{filter:this._layer.createQuery(),customParameters:this._layer.customParameters,viewType:t}}get availability(){return this._workerHandle?.availability??0}get _layer(){return this.layerSource.layer}constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this._workerHandle=null,this._debug=null,this._memoizedMakeGetGroundElevation=(0,_core_memoize_js__WEBPACK_IMPORTED_MODULE_4__.memoize)(_queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_18__.makeGetGroundElevation)}initialize(){let e;const t=this.view;if(null!=t)switch(t.type){case"2d":this._tilesOfInterest=new _2d_interactive_snapping_featureSources_featureServiceSource_FeatureServiceTiles2D_js__WEBPACK_IMPORTED_MODULE_15__.FeatureServiceTiles2D({view:t,layer:this._layer}),e=this._workerHandle=new _featureServiceSource_FeatureServiceSnappingSourceWorkerHandle_js__WEBPACK_IMPORTED_MODULE_20__.FeatureServiceSnappingSourceWorkerHandle;break;case"3d":{const{resourceController:r}=t,i=this._layer;this._tilesOfInterest=new _3d_interactive_snapping_featureSources_featureServiceSource_FeatureServiceTiles3D_js__WEBPACK_IMPORTED_MODULE_16__.FeatureServiceTiles3D({view:t}),e=this._workerHandle=new _featureServiceSource_FeatureServiceSnappingSourceWorkerHandle_js__WEBPACK_IMPORTED_MODULE_20__.FeatureServiceSnappingSourceWorkerHandle({schedule:e=>r.immediate.schedule(e),hasZ:this._layer.hasZ&&(this._layer.returnZ??!0),elevationAlignPointsInFeatures:async(e,r)=>{const s=await t.whenLayerView(i);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r),s.elevationAlignPointsInFeatures(e,r)},queryForSymbologySnapping:async(e,r)=>{const s=await t.whenLayerView(i);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r),s.queryForSymbologySnapping(e,r)}}),this.addHandles([t.elevationProvider.on("elevation-change",(({context:t})=>{const{elevationInfo:r}=i;(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_14__.elevationContextAffectsAlignment)(t,r)&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.notifyElevationSourceChange())})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>i.elevationInfo),(()=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.notifyElevationSourceChange())),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this._layerView?.processor?.renderer),(()=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.notifySymbologyChange())),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this._layerView?.symbologySnappingSupported??!1),(t=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.setSymbologySnappingSupported(t))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)((()=>this._layerView?.layer),["edits","apply-edits","graphic-update"],(()=>e.notifySymbologyChange()))]);break}}else this._tilesOfInterest=new _featureServiceSource_FeatureServiceTilesSimple_js__WEBPACK_IMPORTED_MODULE_21__.FeatureServiceTilesSimple({layer:this._layer}),e=this._workerHandle=new _featureServiceSource_FeatureServiceSnappingSourceWorkerHandle_js__WEBPACK_IMPORTED_MODULE_20__.FeatureServiceSnappingSourceWorkerHandle;this.addHandles([(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(e)]),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.setup({layer:this._layer,spatialReference:this.spatialReference,configuration:this.configuration},null)),this._updatingHandles.add((()=>this._updateTilesParameters),(()=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.updateTiles(this._updateTilesParameters,null))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.configuration),(t=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.configure(t,null))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this._outFields),(t=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.updateOutFields(t))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this._isSuspended),(t=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.setSuspended(t))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial)]),null!=t&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_22__["default"].FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES),(r=>{r&&!this._debug?(this._debug=new _WorkerTileTreeDebugger_js__WEBPACK_IMPORTED_MODULE_19__.WorkerTileTreeDebugger({view:t,handle:e}),this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__.destroyHandle)(this._debug),"debug")):!r&&this._debug&&this.removeHandles("debug")}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial)),this.addHandles(this.layerSource.layer.on("apply-edits",(t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.ignoreAbortErrors)(e.applyEdits(t,null))})))}destroy(){this._updatingHandles.destroy()}refresh(){this._workerHandle?.refresh(null)}async fetchCandidates(e,t){const{coordinateHelper:r,point:i}=e;this._tilesOfInterest.pointOfInterest=r.arrayToPoint(i);const s=this._memoizedMakeGetGroundElevation(this.view,r.spatialReference);return(await this._workerHandle.fetchCandidates({...e},t)).candidates.map((e=>(0,_queryEngineUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertSnappingCandidate)(e,s)))}getDebugInfo(e){return this._workerHandle.getDebugInfo(e)}_getOrLoadWhereFields(e,t){const{_whereModule:i}=this;if(!this._loadWhereModuleTask&&!i){const e=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.createTask)((async()=>{const e=await Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_core_sql_DateOnly_js-node_modules_arcgis_core_core_sq-ea7797"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_core_sql_WhereClause_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../core/sql/WhereClause.js */ "./node_modules/@arcgis/core/core/sql/WhereClause.js"));return this._whereModule=e.WhereClause,this._whereModule}));return this._loadWhereModuleTask=e,this._updatingHandles.addPromise(e.promise),[]}if(!i)return[];try{return i.create(e,t).fieldNames}catch(s){return[]}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],F.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],F.prototype,"layerSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],F.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],F.prototype,"_tilesOfInterest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],F.prototype,"_updateTilesParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],F.prototype,"_layerView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],F.prototype,"_isSuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],F.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],F.prototype,"_outFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],F.prototype,"configuration",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],F.prototype,"availability",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],F.prototype,"_loadWhereModuleTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],F.prototype,"_whereModule",void 0),F=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource")],F);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WorkerTileTreeDebugger: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _support_TileTreeDebugger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../support/TileTreeDebugger.js */ "./node_modules/@arcgis/core/views/support/TileTreeDebugger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let n=class extends _support_TileTreeDebugger_js__WEBPACK_IMPORTED_MODULE_9__.TileTreeDebugger{constructor(e){super(e)}initialize(){const e=setInterval((()=>this._fetchDebugInfo()),2e3);this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>clearInterval(e))))}getTiles(){if(!this._debugInfo)return[];const e=new Map,t=new Map;this._debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this._debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{const o=t.get(r),s=e.get(r)??"?";return o?`${o}:${s}\n${r}`:`store:${s}\n${r}`},o=new Map;return this._debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this._debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromExtent((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.toExtent)(e.extent,this.view.spatialReference)),label:r(e.id)})))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this._debugInfo=e,this.update()}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],n.prototype,"handle",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger")],n);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceSnappingSourceWorkerHandle: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get updating(){return this._updatingHandles.updating||this._workerHandleUpdating}constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__.UpdatingHandles,this._suspendController=null,this.schedule=null,this.hasZ=!1,this.elevationAlignPointsInFeatures=async e=>{const t=[];for(const{points:i}of e.pointsInFeatures)for(const{z:e}of i)t.push(e);return{elevations:t,drapedObjectIds:new Set,failedObjectIds:new Set}},this.queryForSymbologySnapping=async()=>({candidates:[],sourceCandidateIndices:[]}),this.availability=0,this._workerHandleUpdating=!0,this._editId=0,this.updateOutFields=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.debounce)((async(e,t)=>{await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("updateOutFields",[...e],t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod("whenNotUpdating",{},t))}))}destroy(){this._suspendController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.abortMaybe)(this._suspendController),this._workerHandle.destroy(),this._updatingHandles.destroy()}initialize(){this._workerHandle=new c(this.schedule,{alignElevation:async(e,{signal:t})=>({result:await this.elevationAlignPointsInFeatures(e.query,t)}),getSymbologyCandidates:async(e,{signal:t})=>({result:await this.queryForSymbologySnapping(e,t)})}),this.addHandles([this._workerHandle.on("notify-updating",(({updating:e})=>this._workerHandleUpdating=e)),this._workerHandle.on("notify-availability",(({availability:e})=>this._set("availability",e)))])}async setup(e,t){const i=this._serviceInfoFromLayer(e.layer);if(null==i)return;const o={configuration:this._convertConfiguration(e.configuration),serviceInfo:i,spatialReference:e.spatialReference.toJSON(),hasZ:this.hasZ,elevationInfo:e.layer.elevationInfo?.toJSON()};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("setup",o,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod("whenNotUpdating",{},t))}async configure(e,t){const i=this._convertConfiguration(e);await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("configure",i,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod("whenNotUpdating",{},t))}async refresh(e){await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("refresh",{},e)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod("whenNotUpdating",{},e))}async fetchCandidates(e,t){const{point:i,filter:o,coordinateHelper:n}=e,a={...e,point:(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_12__.makeDehydratedPoint)(i[0],i[1],i[2],n.spatialReference.toJSON()),filter:o?.toJSON()};return this._workerHandle.invoke(a,t)}async updateTiles(e,t){const i={tiles:e.tiles,tileInfo:null!=e.tileInfo?e.tileInfo.toJSON():null,tileSize:e.tileSize};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("updateTiles",i,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod("whenNotUpdating",{},t))}async applyEdits(e,t){const o=this._editId++,n={id:o};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("beginApplyEdits",n,t));const r=await this._updatingHandles.addPromise((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(e.result,t)),s={id:o,edits:{addedFeatures:r.addedFeatures?.map((({objectId:e})=>e)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome)??[],deletedFeatures:r.deletedFeatures?.map((({objectId:e,globalId:t})=>({objectId:e,globalId:t})))??[],updatedFeatures:r.updatedFeatures?.map((({objectId:e})=>e)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome)??[]}};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod("endApplyEdits",s,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod("whenNotUpdating",{},t))}getDebugInfo(e){return this._workerHandle.invokeMethod("getDebugInfo",{},e)}async notifyElevationSourceChange(){await this._workerHandle.invokeMethod("notifyElevationSourceChange",{})}async notifySymbologyChange(){await this._workerHandle.invokeMethod("notifySymbologyChange",{})}async setSymbologySnappingSupported(e){await this._workerHandle.invokeMethod("setSymbologySnappingSupported",e)}async setSuspended(e){this._suspendController?.abort(),this._suspendController=new AbortController,await this._workerHandle.invokeMethod("setSuspended",e,this._suspendController.signal)}_convertConfiguration(e){return{filter:null!=e.filter?e.filter.toJSON():null,customParameters:e.customParameters,viewType:e.viewType}}_serviceInfoFromLayer(e){return"multipatch"===e.geometryType||"mesh"===e.geometryType?null:{url:e.parsedUrl?.path??"",fieldsIndex:e.fieldsIndex.toJSON(),geometryType:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__.featureGeometryTypeKebabDictionary.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:e.timeInfo?.toJSON()}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],h.prototype,"schedule",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],h.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],h.prototype,"elevationAlignPointsInFeatures",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],h.prototype,"queryForSymbologySnapping",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"availability",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],h.prototype,"_workerHandleUpdating",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle")],h);class c extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_10__.WorkerHandle{constructor(e,t){super("FeatureServiceSnappingSourceWorker","fetchCandidates",{},e,{strategy:"dedicated",client:t})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceTilesSimple: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_support_LOD_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../layers/support/LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/support/TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let a=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get tiles(){return[new _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_11__.TileKey("0/0/0",0,0,0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(-1e8,-1e8,1e8,1e8))]}get tileInfo(){return new _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"]({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new _layers_support_LOD_js__WEBPACK_IMPORTED_MODULE_9__["default"]({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}constructor(e){super(e),this.pointOfInterest=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],a.prototype,"tiles",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],a.prototype,"tileInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],a.prototype,"tileSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],a.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],a.prototype,"pointOfInterest",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple")],a);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   distanceToTile: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/boundedPlane.js */ "./node_modules/@arcgis/core/chunks/boundedPlane.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c(n,o){return (0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__.g)(o.extent,e),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__.h)(e,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(a,n.x,n.y,0))}const e=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__.a)(),a=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertSnappingCandidate: () => (/* binding */ a),
/* harmony export */   makeGetGroundElevation: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _candidates_DrapedEdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../candidates/DrapedEdgeSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js");
/* harmony import */ var _candidates_EdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../candidates/EdgeSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js");
/* harmony import */ var _candidates_VertexSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../candidates/VertexSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r({x:t,y:n,z:d}){return (0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(t,n,d??0)}function a(e,a){switch(e.type){case"edge":return e.draped?new _candidates_DrapedEdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__.DrapedEdgeSnappingCandidate({edgeStart:r(e.start),edgeEnd:r(e.end),targetPoint:r(e.target),objectId:e.objectId,getGroundElevation:a}):new _candidates_EdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__.EdgeSnappingCandidate({edgeStart:r(e.start),edgeEnd:r(e.end),targetPoint:r(e.target),objectId:e.objectId,isDraped:!1});case"vertex":return new _candidates_VertexSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_3__.VertexSnappingCandidate({targetPoint:r(e.target),objectId:e.objectId,isDraped:!1})}}function o(e,t){return null!=e&&"3d"===e.type?(n,d)=>e.elevationProvider.getElevation(n,d,0,t,"ground"):()=>null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/TileTreeDebugger.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/TileTreeDebugger.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileTreeDebugger: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../symbols/PointSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PointSymbol3D.js");
/* harmony import */ var _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../symbols/SimpleFillSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleFillSymbol.js");
/* harmony import */ var _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../symbols/TextSymbol.js */ "./node_modules/@arcgis/core/symbols/TextSymbol.js");
/* harmony import */ var _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../symbols/TextSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/TextSymbol3DLayer.js");
/* harmony import */ var _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../symbols/support/Symbol3DVerticalOffset.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DVerticalOffset.js");
/* harmony import */ var _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../symbols/callouts/LineCallout3D.js */ "./node_modules/@arcgis/core/symbols/callouts/LineCallout3D.js");
/* harmony import */ var _symbols_callouts_LineCallout3DBorder_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../symbols/callouts/LineCallout3DBorder.js */ "./node_modules/@arcgis/core/symbols/callouts/LineCallout3DBorder.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let d=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_4__["default"]{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=u.map((e=>new _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_13__["default"]({color:[e[0],e[1],e[2],.6],outline:{color:"black",width:1}}))),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}update(){if(!this._enabled)return void this.clear();const e=e=>{if(null!=e.label)return e.label;let s=e.lij.toString();return null!=e.loadPriority&&(s+=` (${e.loadPriority})`),s},t=this.getTiles(),i=new Array,a=new Set((this._labels.size,this._labels.keys()));t.forEach(((m,u)=>{const d=m.lij.toString();a.delete(d);const g=m.lij[0],f=m.geometry;if(this.enablePolygons&&!this._polygons.has(d)){const e=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:f,symbol:this._symbols[g%this._symbols.length]});this._polygons.set(d,e),i.push(e)}if(this.enableLabels){const a=e(m),g=u/(t.length-1),w=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(0,200,g),_=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(20,6,g)/.75,j=null!=m.loadPriority&&m.loadPriority>=t.length,v=new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"]([w,j?0:w,j?0:w]),S="3d"===this.view.type?()=>new _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_12__["default"]({verticalOffset:new _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_16__["default"]({screenLength:40/.75}),callout:new _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_17__["default"]({color:new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"]("white"),border:new _symbols_callouts_LineCallout3DBorder_js__WEBPACK_IMPORTED_MODULE_18__["default"]({color:new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"]("black")})}),symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"]([new _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_15__["default"]({text:a,halo:{color:"white",size:1/.75},material:{color:v},size:_})])}):()=>new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_14__["default"]({text:a,haloColor:"white",haloSize:1/.75,color:v,size:_}),x=this._labels.get(d);if(x){const e=S();null!=x.symbol&&JSON.stringify(e)===JSON.stringify(x.symbol)||(x.symbol=e)}else{const e=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:f.extent.center,symbol:S()});this._labels.set(d,e),i.push(e)}}}));const m=new Array;a.forEach((e=>{const s=this._polygons.get(e);null!=s&&(m.push(s),this._polygons.delete(e));const o=this._labels.get(e);null!=o&&(m.push(o),this._labels.delete(e))})),this.view.graphics.removeMany(m),this.view.graphics.addMany(i)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],d.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"enabled",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.support.TileTreeDebugger")],d);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzX2ludGVyYWN0aXZlX3NuYXBwaW5nX2ZlYXR1cmVTb3VyY2VzX0ZlYXR1cmVTZXJ2LWVmZGQwZi5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDb3dCLG9CQUFvQix5REFBQyxDQUFDLFlBQVksa0dBQWtHLHNCQUFzQixzSEFBQyxNQUFNLHNIQUFDLFVBQVUsZ0JBQWdCLE9BQU8saUZBQUMsZ0VBQWdFLHdCQUF3QixxR0FBcUcsZ0NBQWdDLE1BQU0sa0JBQWtCLG9FQUFvRSxRQUFRLFFBQVEsVUFBVSx3QkFBd0IsaUJBQWlCLEtBQUssS0FBSyxnQ0FBZ0MsK0RBQUMsYUFBYSwwQ0FBMEMsU0FBUyxlQUFlLHNEQUFzRCxlQUFlLHFEQUFxRCxlQUFlLG1DQUFtQyxhQUFhLGdCQUFnQiw2REFBQyxnRkFBZ0Ysd0RBQUMsS0FBSyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSw2QkFBNkIsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVkscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHlDQUF5Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsNENBQTRDLHVEQUFDLEVBQUUsc0ZBQUMsa0dBQXFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2d0U7QUFDQTtBQUNBO0FBQ0E7QUFDMHdCLG9CQUFvQix5REFBQyxDQUFDLFlBQVksZ0VBQWdFLFlBQVksa0JBQWtCLHVIQUFDLFFBQVEsWUFBWSxXQUFXLHlDQUF5Qyx1SEFBQyxNQUFNLHVIQUFDLGtCQUFrQixT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cy8yZC9pbnRlcmFjdGl2ZS9zbmFwcGluZy9mZWF0dXJlU291cmNlcy9mZWF0dXJlU2VydmljZVNvdXJjZS9GZWF0dXJlU2VydmljZVRpbGVzMkQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL2ZlYXR1cmVTZXJ2aWNlU291cmNlL0ZlYXR1cmVTZXJ2aWNlVGlsZXMzRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvY2FuZGlkYXRlcy9WZXJ0ZXhTbmFwcGluZ0NhbmRpZGF0ZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvV29ya2VyVGlsZVRyZWVEZWJ1Z2dlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZVdvcmtlckhhbmRsZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvRmVhdHVyZVNlcnZpY2VUaWxlc1NpbXBsZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvdGlsZVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9mZWF0dXJlU291cmNlcy9xdWVyeUVuZ2luZVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L1RpbGVUcmVlRGVidWdnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7d2F0Y2ggYXMgcixzeW5jIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VGlsZUtleSBhcyBsfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1RpbGVLZXkuanNcIjtpbXBvcnR7ZGlzdGFuY2VUb1RpbGUgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9pbnRlcmFjdGl2ZS9zbmFwcGluZy9mZWF0dXJlU291cmNlcy9mZWF0dXJlU2VydmljZVNvdXJjZS90aWxlVXRpbHMuanNcIjtpbXBvcnR7c2NhbGVCb3VuZHNQcmVkaWNhdGUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7bGV0IHA9Y2xhc3MgZXh0ZW5kcyB0e2dldCB0aWxlcygpe2NvbnN0IGU9dGhpcy50aWxlc0NvdmVyaW5nVmlldyx0PW51bGwhPXRoaXMucG9pbnRPZkludGVyZXN0P3RoaXMucG9pbnRPZkludGVyZXN0OnRoaXMudmlldy5jZW50ZXI7cmV0dXJuIGUuc29ydCgoKGUscik9Pm4odCxlKS1uKHQscikpKSxlfV9zY2FsZUVuYWJsZWQoKXtyZXR1cm4gYSh0aGlzLnZpZXcuc2NhbGUsdGhpcy5sYXllci5taW5TY2FsZXx8MCx0aGlzLmxheWVyLm1heFNjYWxlfHwwKX1nZXQgdGlsZXNDb3ZlcmluZ1ZpZXcoKXtpZighdGhpcy52aWV3LnJlYWR5fHwhdGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lfHwhdGhpcy52aWV3LnN0YXRlfHxudWxsPT10aGlzLnRpbGVJbmZvKXJldHVybltdO2lmKCF0aGlzLl9zY2FsZUVuYWJsZWQpcmV0dXJuW107Y29uc3R7c3BhbnM6ZSxsb2RJbmZvOnR9PXRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZS5nZXRUaWxlQ292ZXJhZ2UodGhpcy52aWV3LnN0YXRlLDApLHtsZXZlbDpyfT10LGk9W107Zm9yKGNvbnN0e3JvdzpvLGNvbEZyb206cyxjb2xUbzpufW9mIGUpZm9yKGxldCBlPXM7ZTw9bjtlKyspe2NvbnN0IHM9dC5ub3JtYWxpemVDb2woZSksbj1uZXcgbChudWxsLHIsbyxzKTt0aGlzLnRpbGVJbmZvLnVwZGF0ZVRpbGVJbmZvKG4pLGkucHVzaChuKX1yZXR1cm4gaX1nZXQgdGlsZUluZm8oKXtyZXR1cm4gdGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lPy50aWxlSW5mbz8/bnVsbH1nZXQgdGlsZVNpemUoKXtyZXR1cm4gbnVsbCE9dGhpcy50aWxlSW5mbz90aGlzLnRpbGVJbmZvLnNpemVbMF06MjU2fWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucG9pbnRPZkludGVyZXN0PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhyKCgoKT0+dGhpcy52aWV3Py5zdGF0ZT8udmlld3BvaW50KSwoKCk9PnRoaXMubm90aWZ5Q2hhbmdlKFwidGlsZXNDb3ZlcmluZ1ZpZXdcIikpLGkpKX19O2UoW28oe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidGlsZXNcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcIl9zY2FsZUVuYWJsZWRcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInRpbGVzQ292ZXJpbmdWaWV3XCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLG51bGwpLGUoW28oe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidGlsZVNpemVcIixudWxsKSxlKFtvKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbyh7Y29uc3RydWN0T25seTohMH0pXSxwLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtvKCldLHAucHJvdG90eXBlLFwicG9pbnRPZkludGVyZXN0XCIsdm9pZCAwKSxwPWUoW3MoXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLmZlYXR1cmVTb3VyY2VzLmZlYXR1cmVTZXJ2aWNlU291cmNlLkZlYXR1cmVTZXJ2aWNlVGlsZXMyRFwiKV0scCk7ZXhwb3J0e3AgYXMgRmVhdHVyZVNlcnZpY2VUaWxlczJEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHIsaW5pdGlhbCBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1RpbGVLZXkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlS2V5LmpzXCI7aW1wb3J0e1Zpc2liaWxpdHkgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlVGlsZURlc2NyaXB0b3IzRC5qc1wiO2ltcG9ydHtkaXN0YW5jZVRvVGlsZSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uLy4uL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL2ZlYXR1cmVTZXJ2aWNlU291cmNlL3RpbGVVdGlscy5qc1wiO2xldCBwPWNsYXNzIGV4dGVuZHMgdHtnZXQgdGlsZXMoKXtjb25zdCBlPXRoaXMudGlsZXNDb3ZlcmluZ1ZpZXcsdD10aGlzLl9lZmZlY3RpdmVQb2ludE9mSW50ZXJlc3Q7aWYobnVsbCE9dCl7Y29uc3Qgcj1lLm1hcCgoZT0+Yyh0LGUpKSk7Zm9yKGxldCBpPTE7aTxyLmxlbmd0aDtpKyspaWYocltpLTFdPnJbaV0pcmV0dXJuIGUuc29ydCgoKGUscik9PmModCxlKS1jKHQscikpKSxlLnNsaWNlKCl9cmV0dXJuIGV9Z2V0IHRpbGVzQ292ZXJpbmdWaWV3KCl7cmV0dXJuIHRoaXMuX2ZpbHRlclRpbGVzKHRoaXMudmlldy5mZWF0dXJlVGlsZXM/LnRpbGVzPy50b0FycmF5KCkpLm1hcCh1KX1nZXQgdGlsZUluZm8oKXtyZXR1cm4gdGhpcy52aWV3LmZlYXR1cmVUaWxlcz8udGlsaW5nU2NoZW1lLnRvVGlsZUluZm8oKT8/bnVsbH1nZXQgdGlsZVNpemUoKXtyZXR1cm4gdGhpcy52aWV3LmZlYXR1cmVUaWxlcz8udGlsZVNpemU/PzI1Nn1nZXQgX2VmZmVjdGl2ZVBvaW50T2ZJbnRlcmVzdCgpe2NvbnN0IGU9dGhpcy5wb2ludE9mSW50ZXJlc3Q7cmV0dXJuIG51bGwhPWU/ZTp0aGlzLnZpZXcucG9pbnRzT2ZJbnRlcmVzdD8uZm9jdXMubG9jYXRpb259Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5wb2ludE9mSW50ZXJlc3Q9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKHIoKCgpPT50aGlzLnZpZXcuZmVhdHVyZVRpbGVzKSwoZT0+e3RoaXMucmVtb3ZlSGFuZGxlcyhmKSxlJiZ0aGlzLmFkZEhhbmRsZXMoZS5hZGRDbGllbnQoKSxmKX0pLGkpKX1fZmlsdGVyVGlsZXMoZSl7aWYobnVsbD09ZSlyZXR1cm5bXTtyZXR1cm4gZS5maWx0ZXIoKGU9Pk1hdGguYWJzKGUubWVhc3VyZXMuc2NyZWVuUmVjdFszXS1lLm1lYXN1cmVzLnNjcmVlblJlY3RbMV0pPmEmJmUubWVhc3VyZXMudmlzaWJpbGl0eT09PWwuVklTSUJMRV9PTl9TVVJGQUNFKSl9fTtmdW5jdGlvbiB1KHtsaWo6W2UsdCxyXSxleHRlbnQ6aX0pe3JldHVybiBuZXcgbihgJHtlfS8ke3R9LyR7cn1gLGUsdCxyLGkpfWUoW3Moe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidGlsZXNcIixudWxsKSxlKFtzKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInRpbGVzQ292ZXJpbmdWaWV3XCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLG51bGwpLGUoW3Moe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidGlsZVNpemVcIixudWxsKSxlKFtzKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbcygpXSxwLnByb3RvdHlwZSxcInBvaW50T2ZJbnRlcmVzdFwiLHZvaWQgMCksZShbcygpXSxwLnByb3RvdHlwZSxcIl9lZmZlY3RpdmVQb2ludE9mSW50ZXJlc3RcIixudWxsKSxwPWUoW28oXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLmZlYXR1cmVTb3VyY2VzLmZlYXR1cmVTZXJ2aWNlU291cmNlLkZlYXR1cmVTZXJ2aWNlVGlsZXMzRFwiKV0scCk7Y29uc3QgYT01MCxmPVwiZmVhdHVyZS10aWxlc1wiO2V4cG9ydHtwIGFzIEZlYXR1cmVTZXJ2aWNlVGlsZXMzRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1BvaW50Q29uc3RyYWludCBhcyB0fWZyb21cIi4uLy4uL3NrZXRjaC9jb25zdHJhaW50cy5qc1wiO2ltcG9ydHtGZWF0dXJlU25hcHBpbmdDYW5kaWRhdGUgYXMgbn1mcm9tXCIuL0ZlYXR1cmVTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtQb2ludFNuYXBwaW5nSGludCBhcyBpfWZyb21cIi4uL2hpbnRzL1BvaW50U25hcHBpbmdIaW50LmpzXCI7Y2xhc3MgciBleHRlbmRzIG57Y29uc3RydWN0b3Iobil7c3VwZXIoey4uLm4sY29uc3RyYWludDpuZXcgdChuLnRhcmdldFBvaW50KX0pfWdldCBoaW50cygpe3JldHVybltuZXcgaSh0aGlzLnRhcmdldFBvaW50LHRoaXMuaXNEcmFwZWQsdGhpcy5kb21haW4pXX19ZXhwb3J0e3IgYXMgVmVydGV4U25hcHBpbmdDYW5kaWRhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7Y3JlYXRlVGFzayBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95SGFuZGxlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHttZW1vaXplIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tZW1vaXplLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIG8saWdub3JlQWJvcnRFcnJvcnMgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBuLGluaXRpYWwgYXMgbCxvbiBhcyB1LHN5bmMgYXMgZCxzeW5jQW5kSW5pdGlhbCBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyB5fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7aXNTdWJ0eXBlR3JvdXBMYXllciBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtpbXBvcnR7ZWxldmF0aW9uQ29udGV4dEFmZmVjdHNBbGlnbm1lbnQgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L2VsZXZhdGlvbkluZm9VdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU2VydmljZVRpbGVzMkQgYXMgX31mcm9tXCIuLi8uLi8uLi8yZC9pbnRlcmFjdGl2ZS9zbmFwcGluZy9mZWF0dXJlU291cmNlcy9mZWF0dXJlU2VydmljZVNvdXJjZS9GZWF0dXJlU2VydmljZVRpbGVzMkQuanNcIjtpbXBvcnR7RmVhdHVyZVNlcnZpY2VUaWxlczNEIGFzIGd9ZnJvbVwiLi4vLi4vLi4vM2QvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvRmVhdHVyZVNlcnZpY2VUaWxlczNELmpzXCI7aW1wb3J0e2lzVXRpbGl0eU5ldHdvcmtXZWJNYXAgYXMgd31mcm9tXCIuLi9zbmFwcGluZ1V0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRTbmFwcGluZ0NhbmRpZGF0ZSBhcyBTLG1ha2VHZXRHcm91bmRFbGV2YXRpb24gYXMgdn1mcm9tXCIuL3F1ZXJ5RW5naW5lVXRpbHMuanNcIjtpbXBvcnR7V29ya2VyVGlsZVRyZWVEZWJ1Z2dlciBhcyBifWZyb21cIi4vV29ya2VyVGlsZVRyZWVEZWJ1Z2dlci5qc1wiO2ltcG9ydHtGZWF0dXJlU2VydmljZVNuYXBwaW5nU291cmNlV29ya2VySGFuZGxlIGFzIEl9ZnJvbVwiLi9mZWF0dXJlU2VydmljZVNvdXJjZS9GZWF0dXJlU2VydmljZVNuYXBwaW5nU291cmNlV29ya2VySGFuZGxlLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXJ2aWNlVGlsZXNTaW1wbGUgYXMgSH1mcm9tXCIuL2ZlYXR1cmVTZXJ2aWNlU291cmNlL0ZlYXR1cmVTZXJ2aWNlVGlsZXNTaW1wbGUuanNcIjtpbXBvcnQgaiBmcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2RlYnVnRmxhZ3MuanNcIjtsZXQgRj1jbGFzcyBleHRlbmRzIHR7Z2V0IF91cGRhdGVUaWxlc1BhcmFtZXRlcnMoKXtyZXR1cm57dGlsZXM6dGhpcy5fdGlsZXNPZkludGVyZXN0LnRpbGVzLHRpbGVJbmZvOnRoaXMuX3RpbGVzT2ZJbnRlcmVzdC50aWxlSW5mbyx0aWxlU2l6ZTp0aGlzLl90aWxlc09mSW50ZXJlc3QudGlsZVNpemV9fWdldCBfbGF5ZXJWaWV3KCl7cmV0dXJuIHRoaXMudmlldz8uYWxsTGF5ZXJWaWV3cy5maW5kKChlPT5lLmxheWVyPT09dGhpcy5fbGF5ZXIpKX1nZXQgX2lzU3VzcGVuZGVkKCl7aWYoZih0aGlzLl9sYXllcikpe2lmKCF0aGlzLl9sYXllci5zdWJsYXllcnMuZmluZCgoZT0+ZS52aXNpYmxlKSkpcmV0dXJuITB9cmV0dXJuISF0aGlzLnZpZXcmJighMSE9PXRoaXMuX2xheWVyVmlldz8uc3VzcGVuZGVkfHwhdGhpcy5sYXllclNvdXJjZS5lbmFibGVkKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fd29ya2VySGFuZGxlPy51cGRhdGluZ3x8dGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfWdldCBfb3V0RmllbGRzKCl7Y29uc3R7dmlldzplLF9sYXllclZpZXc6dCxsYXllclNvdXJjZTpyfT10aGlzLHtsYXllcjppfT1yLHtmaWVsZHNJbmRleDpzLHRpbWVJbmZvOm8sZmxvb3JJbmZvOmEsc3VidHlwZUZpZWxkOm59PWksbD10JiZcImZpbHRlclwiaW4gdD90LmZpbHRlcjpudWxsLHU9bD8ud2hlcmUmJlwiMT0xXCIhPT1sLndoZXJlP3RoaXMuX2dldE9yTG9hZFdoZXJlRmllbGRzKGwud2hlcmUscyk6W107aWYobD8udGltZUV4dGVudCYmbyl7Y29uc3R7c3RhcnRGaWVsZDplLGVuZEZpZWxkOnR9PW8scj1zLmdldChlKT8ubmFtZT8/ZSxpPXMuZ2V0KHQpPy5uYW1lPz90O3ImJnUucHVzaChyKSxpJiZ1LnB1c2goaSl9aWYoZT8ubWFwJiZ3KGUubWFwKSYmZS5tYXAudXRpbGl0eU5ldHdvcmtzPy5maW5kKChlPT5lLmlzVXRpbGl0eUxheWVyKGkpKSkpe2NvbnN0IGU9aS5maWVsZHNJbmRleC5nZXQoXCJhc3NldEdyb3VwXCIpPy5uYW1lLHQ9aS5maWVsZHNJbmRleC5nZXQoXCJhc3NldFR5cGVcIik/Lm5hbWU7ZSYmdCYmKHUucHVzaChlKSx1LnB1c2godCkpfWlmKGkmJmE/LmZsb29yRmllbGQmJmU/LmZsb29ycz8ubGVuZ3RoKXtjb25zdCBlPXMuZ2V0KGEuZmxvb3JGaWVsZCk/Lm5hbWU/P2EuZmxvb3JGaWVsZDtlJiZ1LnB1c2goZSl9aWYobil7Y29uc3QgZT1zLmdldChuKT8ubmFtZT8/bjtlJiZ1LnB1c2goZSl9cmV0dXJuIG5ldyBTZXQodSl9Z2V0IGNvbmZpZ3VyYXRpb24oKXtjb25zdHt2aWV3OmV9PXRoaXMsdD1udWxsIT1lP2UudHlwZTpcIjJkXCI7cmV0dXJue2ZpbHRlcjp0aGlzLl9sYXllci5jcmVhdGVRdWVyeSgpLGN1c3RvbVBhcmFtZXRlcnM6dGhpcy5fbGF5ZXIuY3VzdG9tUGFyYW1ldGVycyx2aWV3VHlwZTp0fX1nZXQgYXZhaWxhYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3dvcmtlckhhbmRsZT8uYXZhaWxhYmlsaXR5Pz8wfWdldCBfbGF5ZXIoKXtyZXR1cm4gdGhpcy5sYXllclNvdXJjZS5sYXllcn1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHksdGhpcy5fd29ya2VySGFuZGxlPW51bGwsdGhpcy5fZGVidWc9bnVsbCx0aGlzLl9tZW1vaXplZE1ha2VHZXRHcm91bmRFbGV2YXRpb249cyh2KX1pbml0aWFsaXplKCl7bGV0IGU7Y29uc3QgdD10aGlzLnZpZXc7aWYobnVsbCE9dClzd2l0Y2godC50eXBlKXtjYXNlXCIyZFwiOnRoaXMuX3RpbGVzT2ZJbnRlcmVzdD1uZXcgXyh7dmlldzp0LGxheWVyOnRoaXMuX2xheWVyfSksZT10aGlzLl93b3JrZXJIYW5kbGU9bmV3IEk7YnJlYWs7Y2FzZVwiM2RcIjp7Y29uc3R7cmVzb3VyY2VDb250cm9sbGVyOnJ9PXQsaT10aGlzLl9sYXllcjt0aGlzLl90aWxlc09mSW50ZXJlc3Q9bmV3IGcoe3ZpZXc6dH0pLGU9dGhpcy5fd29ya2VySGFuZGxlPW5ldyBJKHtzY2hlZHVsZTplPT5yLmltbWVkaWF0ZS5zY2hlZHVsZShlKSxoYXNaOnRoaXMuX2xheWVyLmhhc1omJih0aGlzLl9sYXllci5yZXR1cm5aPz8hMCksZWxldmF0aW9uQWxpZ25Qb2ludHNJbkZlYXR1cmVzOmFzeW5jKGUscik9Pntjb25zdCBzPWF3YWl0IHQud2hlbkxheWVyVmlldyhpKTtyZXR1cm4gbyhyKSxzLmVsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlcyhlLHIpfSxxdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nOmFzeW5jKGUscik9Pntjb25zdCBzPWF3YWl0IHQud2hlbkxheWVyVmlldyhpKTtyZXR1cm4gbyhyKSxzLnF1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcoZSxyKX19KSx0aGlzLmFkZEhhbmRsZXMoW3QuZWxldmF0aW9uUHJvdmlkZXIub24oXCJlbGV2YXRpb24tY2hhbmdlXCIsKCh7Y29udGV4dDp0fSk9Pntjb25zdHtlbGV2YXRpb25JbmZvOnJ9PWk7bSh0LHIpJiZhKGUubm90aWZ5RWxldmF0aW9uU291cmNlQ2hhbmdlKCkpfSkpLG4oKCgpPT5pLmVsZXZhdGlvbkluZm8pLCgoKT0+YShlLm5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpKSksbCksbigoKCk9PnRoaXMuX2xheWVyVmlldz8ucHJvY2Vzc29yPy5yZW5kZXJlciksKCgpPT5hKGUubm90aWZ5U3ltYm9sb2d5Q2hhbmdlKCkpKSxsKSxuKCgoKT0+dGhpcy5fbGF5ZXJWaWV3Py5zeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZD8/ITEpLCh0PT5hKGUuc2V0U3ltYm9sb2d5U25hcHBpbmdTdXBwb3J0ZWQodCkpKSxsKSx1KCgoKT0+dGhpcy5fbGF5ZXJWaWV3Py5sYXllciksW1wiZWRpdHNcIixcImFwcGx5LWVkaXRzXCIsXCJncmFwaGljLXVwZGF0ZVwiXSwoKCk9PmUubm90aWZ5U3ltYm9sb2d5Q2hhbmdlKCkpKV0pO2JyZWFrfX1lbHNlIHRoaXMuX3RpbGVzT2ZJbnRlcmVzdD1uZXcgSCh7bGF5ZXI6dGhpcy5fbGF5ZXJ9KSxlPXRoaXMuX3dvcmtlckhhbmRsZT1uZXcgSTt0aGlzLmFkZEhhbmRsZXMoW2koZSldKSxhKGUuc2V0dXAoe2xheWVyOnRoaXMuX2xheWVyLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGNvbmZpZ3VyYXRpb246dGhpcy5jb25maWd1cmF0aW9ufSxudWxsKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX3VwZGF0ZVRpbGVzUGFyYW1ldGVycyksKCgpPT5hKGUudXBkYXRlVGlsZXModGhpcy5fdXBkYXRlVGlsZXNQYXJhbWV0ZXJzLG51bGwpKSksbCksdGhpcy5hZGRIYW5kbGVzKFtuKCgoKT0+dGhpcy5jb25maWd1cmF0aW9uKSwodD0+YShlLmNvbmZpZ3VyZSh0LG51bGwpKSksZCksbigoKCk9PnRoaXMuX291dEZpZWxkcyksKHQ9PmEoZS51cGRhdGVPdXRGaWVsZHModCkpKSxsKSxuKCgoKT0+dGhpcy5faXNTdXNwZW5kZWQpLCh0PT5hKGUuc2V0U3VzcGVuZGVkKHQpKSkscCldKSxudWxsIT10JiZ0aGlzLmFkZEhhbmRsZXMobigoKCk9PmouRkVBVFVSRV9TRVJWSUNFX1NOQVBQSU5HX1NPVVJDRV9USUxFX1RSRUVfU0hPV19USUxFUyksKHI9PntyJiYhdGhpcy5fZGVidWc/KHRoaXMuX2RlYnVnPW5ldyBiKHt2aWV3OnQsaGFuZGxlOmV9KSx0aGlzLmFkZEhhbmRsZXMoaSh0aGlzLl9kZWJ1ZyksXCJkZWJ1Z1wiKSk6IXImJnRoaXMuX2RlYnVnJiZ0aGlzLnJlbW92ZUhhbmRsZXMoXCJkZWJ1Z1wiKX0pLGwpKSx0aGlzLmFkZEhhbmRsZXModGhpcy5sYXllclNvdXJjZS5sYXllci5vbihcImFwcGx5LWVkaXRzXCIsKHQ9PnthKGUuYXBwbHlFZGl0cyh0LG51bGwpKX0pKSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCl9cmVmcmVzaCgpe3RoaXMuX3dvcmtlckhhbmRsZT8ucmVmcmVzaChudWxsKX1hc3luYyBmZXRjaENhbmRpZGF0ZXMoZSx0KXtjb25zdHtjb29yZGluYXRlSGVscGVyOnIscG9pbnQ6aX09ZTt0aGlzLl90aWxlc09mSW50ZXJlc3QucG9pbnRPZkludGVyZXN0PXIuYXJyYXlUb1BvaW50KGkpO2NvbnN0IHM9dGhpcy5fbWVtb2l6ZWRNYWtlR2V0R3JvdW5kRWxldmF0aW9uKHRoaXMudmlldyxyLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybihhd2FpdCB0aGlzLl93b3JrZXJIYW5kbGUuZmV0Y2hDYW5kaWRhdGVzKHsuLi5lfSx0KSkuY2FuZGlkYXRlcy5tYXAoKGU9PlMoZSxzKSkpfWdldERlYnVnSW5mbyhlKXtyZXR1cm4gdGhpcy5fd29ya2VySGFuZGxlLmdldERlYnVnSW5mbyhlKX1fZ2V0T3JMb2FkV2hlcmVGaWVsZHMoZSx0KXtjb25zdHtfd2hlcmVNb2R1bGU6aX09dGhpcztpZighdGhpcy5fbG9hZFdoZXJlTW9kdWxlVGFzayYmIWkpe2NvbnN0IGU9cigoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vLi4vY29yZS9zcWwvV2hlcmVDbGF1c2UuanNcIik7cmV0dXJuIHRoaXMuX3doZXJlTW9kdWxlPWUuV2hlcmVDbGF1c2UsdGhpcy5fd2hlcmVNb2R1bGV9KSk7cmV0dXJuIHRoaXMuX2xvYWRXaGVyZU1vZHVsZVRhc2s9ZSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShlLnByb21pc2UpLFtdfWlmKCFpKXJldHVybltdO3RyeXtyZXR1cm4gaS5jcmVhdGUoZSx0KS5maWVsZE5hbWVzfWNhdGNoKHMpe3JldHVybltdfX19O2UoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEYucHJvdG90eXBlLFwibGF5ZXJTb3VyY2VcIix2b2lkIDApLGUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtoKCldLEYucHJvdG90eXBlLFwiX3RpbGVzT2ZJbnRlcmVzdFwiLHZvaWQgMCksZShbaCh7cmVhZE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJfdXBkYXRlVGlsZXNQYXJhbWV0ZXJzXCIsbnVsbCksZShbaCgpXSxGLnByb3RvdHlwZSxcIl9sYXllclZpZXdcIixudWxsKSxlKFtoKCldLEYucHJvdG90eXBlLFwiX2lzU3VzcGVuZGVkXCIsbnVsbCksZShbaCh7cmVhZE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2goKV0sRi5wcm90b3R5cGUsXCJfb3V0RmllbGRzXCIsbnVsbCksZShbaCh7cmVhZE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJjb25maWd1cmF0aW9uXCIsbnVsbCksZShbaCh7cmVhZE9ubHk6ITB9KV0sRi5wcm90b3R5cGUsXCJhdmFpbGFiaWxpdHlcIixudWxsKSxlKFtoKCldLEYucHJvdG90eXBlLFwiX2xvYWRXaGVyZU1vZHVsZVRhc2tcIix2b2lkIDApLGUoW2goKV0sRi5wcm90b3R5cGUsXCJfd2hlcmVNb2R1bGVcIix2b2lkIDApLEY9ZShbYyhcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuZmVhdHVyZVNvdXJjZXMuRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZVwiKV0sRik7ZXhwb3J0e0YgYXMgRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7aW1wb3J0e3RvRXh0ZW50IGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtUaWxlVHJlZURlYnVnZ2VyIGFzIGl9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9UaWxlVHJlZURlYnVnZ2VyLmpzXCI7bGV0IG49Y2xhc3MgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWluaXRpYWxpemUoKXtjb25zdCBlPXNldEludGVydmFsKCgoKT0+dGhpcy5fZmV0Y2hEZWJ1Z0luZm8oKSksMmUzKTt0aGlzLmFkZEhhbmRsZXModCgoKCk9PmNsZWFySW50ZXJ2YWwoZSkpKSl9Z2V0VGlsZXMoKXtpZighdGhpcy5fZGVidWdJbmZvKXJldHVybltdO2NvbnN0IGU9bmV3IE1hcCx0PW5ldyBNYXA7dGhpcy5fZGVidWdJbmZvLnN0b3JlZFRpbGVzLmZvckVhY2goKHQ9PntlLnNldCh0LmRhdGEuaWQsdC5mZWF0dXJlQ291bnQpfSkpLHRoaXMuX2RlYnVnSW5mby5wZW5kaW5nVGlsZXMuZm9yRWFjaCgocj0+e2Uuc2V0KHIuZGF0YS5pZCxyLmZlYXR1cmVDb3VudCksdC5zZXQoci5kYXRhLmlkLHIuc3RhdGUpfSkpO2NvbnN0IHI9cj0+e2NvbnN0IG89dC5nZXQocikscz1lLmdldChyKT8/XCI/XCI7cmV0dXJuIG8/YCR7b306JHtzfVxcbiR7cn1gOmBzdG9yZToke3N9XFxuJHtyfWB9LG89bmV3IE1hcDtyZXR1cm4gdGhpcy5fZGVidWdJbmZvLnN0b3JlZFRpbGVzLmZvckVhY2goKGU9PntvLnNldChlLmRhdGEuaWQsZS5kYXRhKX0pKSx0aGlzLl9kZWJ1Z0luZm8ucGVuZGluZ1RpbGVzLmZvckVhY2goKGU9PntvLnNldChlLmRhdGEuaWQsZS5kYXRhKX0pKSxBcnJheS5mcm9tKG8udmFsdWVzKCkpLm1hcCgoZT0+KHtsaWo6W2UubGV2ZWwsZS5yb3csZS5jb2xdLGdlb21ldHJ5OnMuZnJvbUV4dGVudChhKGUuZXh0ZW50LHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKSksbGFiZWw6cihlLmlkKX0pKSl9X2ZldGNoRGVidWdJbmZvKCl7dGhpcy5oYW5kbGUuZ2V0RGVidWdJbmZvKG51bGwpLnRoZW4oKGU9Pnt0aGlzLl9kZWJ1Z0luZm89ZSx0aGlzLnVwZGF0ZSgpfSkpfX07ZShbcih7Y29uc3RydWN0T25seTohMH0pXSxuLnByb3RvdHlwZSxcImhhbmRsZVwiLHZvaWQgMCksbj1lKFtvKFwiZXNyaS52aWV3cy5pbnRlcmFjdGl2ZS5zbmFwcGluZy5mZWF0dXJlU291cmNlcy5Xb3JrZXJUaWxlVHJlZURlYnVnZ2VyXCIpXSxuKTtleHBvcnR7biBhcyBXb3JrZXJUaWxlVHJlZURlYnVnZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2lzU29tZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHthYm9ydE1heWJlIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBuLHdoZW5PckFib3J0IGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2ltcG9ydHtXb3JrZXJIYW5kbGUgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3dvcmtlcnMvV29ya2VySGFuZGxlLmpzXCI7aW1wb3J0e2ZlYXR1cmVHZW9tZXRyeVR5cGVLZWJhYkRpY3Rpb25hcnkgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3R5cGVVdGlscy5qc1wiO2ltcG9ydHttYWtlRGVoeWRyYXRlZFBvaW50IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRQb2ludC5qc1wiO2xldCBoPWNsYXNzIGV4dGVuZHMgdHtnZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfHx0aGlzLl93b3JrZXJIYW5kbGVVcGRhdGluZ31jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGQsdGhpcy5fc3VzcGVuZENvbnRyb2xsZXI9bnVsbCx0aGlzLnNjaGVkdWxlPW51bGwsdGhpcy5oYXNaPSExLHRoaXMuZWxldmF0aW9uQWxpZ25Qb2ludHNJbkZlYXR1cmVzPWFzeW5jIGU9Pntjb25zdCB0PVtdO2Zvcihjb25zdHtwb2ludHM6aX1vZiBlLnBvaW50c0luRmVhdHVyZXMpZm9yKGNvbnN0e3o6ZX1vZiBpKXQucHVzaChlKTtyZXR1cm57ZWxldmF0aW9uczp0LGRyYXBlZE9iamVjdElkczpuZXcgU2V0LGZhaWxlZE9iamVjdElkczpuZXcgU2V0fX0sdGhpcy5xdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nPWFzeW5jKCk9Pih7Y2FuZGlkYXRlczpbXSxzb3VyY2VDYW5kaWRhdGVJbmRpY2VzOltdfSksdGhpcy5hdmFpbGFiaWxpdHk9MCx0aGlzLl93b3JrZXJIYW5kbGVVcGRhdGluZz0hMCx0aGlzLl9lZGl0SWQ9MCx0aGlzLnVwZGF0ZU91dEZpZWxkcz1uKChhc3luYyhlLHQpPT57YXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcInVwZGF0ZU91dEZpZWxkc1wiLFsuLi5lXSx0KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcIndoZW5Ob3RVcGRhdGluZ1wiLHt9LHQpKX0pKX1kZXN0cm95KCl7dGhpcy5fc3VzcGVuZENvbnRyb2xsZXI9byh0aGlzLl9zdXNwZW5kQ29udHJvbGxlciksdGhpcy5fd29ya2VySGFuZGxlLmRlc3Ryb3koKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWluaXRpYWxpemUoKXt0aGlzLl93b3JrZXJIYW5kbGU9bmV3IGModGhpcy5zY2hlZHVsZSx7YWxpZ25FbGV2YXRpb246YXN5bmMoZSx7c2lnbmFsOnR9KT0+KHtyZXN1bHQ6YXdhaXQgdGhpcy5lbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMoZS5xdWVyeSx0KX0pLGdldFN5bWJvbG9neUNhbmRpZGF0ZXM6YXN5bmMoZSx7c2lnbmFsOnR9KT0+KHtyZXN1bHQ6YXdhaXQgdGhpcy5xdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nKGUsdCl9KX0pLHRoaXMuYWRkSGFuZGxlcyhbdGhpcy5fd29ya2VySGFuZGxlLm9uKFwibm90aWZ5LXVwZGF0aW5nXCIsKCh7dXBkYXRpbmc6ZX0pPT50aGlzLl93b3JrZXJIYW5kbGVVcGRhdGluZz1lKSksdGhpcy5fd29ya2VySGFuZGxlLm9uKFwibm90aWZ5LWF2YWlsYWJpbGl0eVwiLCgoe2F2YWlsYWJpbGl0eTplfSk9PnRoaXMuX3NldChcImF2YWlsYWJpbGl0eVwiLGUpKSldKX1hc3luYyBzZXR1cChlLHQpe2NvbnN0IGk9dGhpcy5fc2VydmljZUluZm9Gcm9tTGF5ZXIoZS5sYXllcik7aWYobnVsbD09aSlyZXR1cm47Y29uc3Qgbz17Y29uZmlndXJhdGlvbjp0aGlzLl9jb252ZXJ0Q29uZmlndXJhdGlvbihlLmNvbmZpZ3VyYXRpb24pLHNlcnZpY2VJbmZvOmksc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UudG9KU09OKCksaGFzWjp0aGlzLmhhc1osZWxldmF0aW9uSW5mbzplLmxheWVyLmVsZXZhdGlvbkluZm8/LnRvSlNPTigpfTthd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93b3JrZXJIYW5kbGUuaW52b2tlTWV0aG9kKFwic2V0dXBcIixvLHQpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93b3JrZXJIYW5kbGUuaW52b2tlTWV0aG9kKFwid2hlbk5vdFVwZGF0aW5nXCIse30sdCkpfWFzeW5jIGNvbmZpZ3VyZShlLHQpe2NvbnN0IGk9dGhpcy5fY29udmVydENvbmZpZ3VyYXRpb24oZSk7YXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcImNvbmZpZ3VyZVwiLGksdCkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3dvcmtlckhhbmRsZS5pbnZva2VNZXRob2QoXCJ3aGVuTm90VXBkYXRpbmdcIix7fSx0KSl9YXN5bmMgcmVmcmVzaChlKXthd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93b3JrZXJIYW5kbGUuaW52b2tlTWV0aG9kKFwicmVmcmVzaFwiLHt9LGUpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93b3JrZXJIYW5kbGUuaW52b2tlTWV0aG9kKFwid2hlbk5vdFVwZGF0aW5nXCIse30sZSkpfWFzeW5jIGZldGNoQ2FuZGlkYXRlcyhlLHQpe2NvbnN0e3BvaW50OmksZmlsdGVyOm8sY29vcmRpbmF0ZUhlbHBlcjpufT1lLGE9ey4uLmUscG9pbnQ6dShpWzBdLGlbMV0saVsyXSxuLnNwYXRpYWxSZWZlcmVuY2UudG9KU09OKCkpLGZpbHRlcjpvPy50b0pTT04oKX07cmV0dXJuIHRoaXMuX3dvcmtlckhhbmRsZS5pbnZva2UoYSx0KX1hc3luYyB1cGRhdGVUaWxlcyhlLHQpe2NvbnN0IGk9e3RpbGVzOmUudGlsZXMsdGlsZUluZm86bnVsbCE9ZS50aWxlSW5mbz9lLnRpbGVJbmZvLnRvSlNPTigpOm51bGwsdGlsZVNpemU6ZS50aWxlU2l6ZX07YXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcInVwZGF0ZVRpbGVzXCIsaSx0KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcIndoZW5Ob3RVcGRhdGluZ1wiLHt9LHQpKX1hc3luYyBhcHBseUVkaXRzKGUsdCl7Y29uc3Qgbz10aGlzLl9lZGl0SWQrKyxuPXtpZDpvfTthd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93b3JrZXJIYW5kbGUuaW52b2tlTWV0aG9kKFwiYmVnaW5BcHBseUVkaXRzXCIsbix0KSk7Y29uc3Qgcj1hd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShhKGUucmVzdWx0LHQpKSxzPXtpZDpvLGVkaXRzOnthZGRlZEZlYXR1cmVzOnIuYWRkZWRGZWF0dXJlcz8ubWFwKCgoe29iamVjdElkOmV9KT0+ZSkpLmZpbHRlcihpKT8/W10sZGVsZXRlZEZlYXR1cmVzOnIuZGVsZXRlZEZlYXR1cmVzPy5tYXAoKCh7b2JqZWN0SWQ6ZSxnbG9iYWxJZDp0fSk9Pih7b2JqZWN0SWQ6ZSxnbG9iYWxJZDp0fSkpKT8/W10sdXBkYXRlZEZlYXR1cmVzOnIudXBkYXRlZEZlYXR1cmVzPy5tYXAoKCh7b2JqZWN0SWQ6ZX0pPT5lKSkuZmlsdGVyKGkpPz9bXX19O2F3YWl0IHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3dvcmtlckhhbmRsZS5pbnZva2VNZXRob2QoXCJlbmRBcHBseUVkaXRzXCIscyx0KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcIndoZW5Ob3RVcGRhdGluZ1wiLHt9LHQpKX1nZXREZWJ1Z0luZm8oZSl7cmV0dXJuIHRoaXMuX3dvcmtlckhhbmRsZS5pbnZva2VNZXRob2QoXCJnZXREZWJ1Z0luZm9cIix7fSxlKX1hc3luYyBub3RpZnlFbGV2YXRpb25Tb3VyY2VDaGFuZ2UoKXthd2FpdCB0aGlzLl93b3JrZXJIYW5kbGUuaW52b2tlTWV0aG9kKFwibm90aWZ5RWxldmF0aW9uU291cmNlQ2hhbmdlXCIse30pfWFzeW5jIG5vdGlmeVN5bWJvbG9neUNoYW5nZSgpe2F3YWl0IHRoaXMuX3dvcmtlckhhbmRsZS5pbnZva2VNZXRob2QoXCJub3RpZnlTeW1ib2xvZ3lDaGFuZ2VcIix7fSl9YXN5bmMgc2V0U3ltYm9sb2d5U25hcHBpbmdTdXBwb3J0ZWQoZSl7YXdhaXQgdGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcInNldFN5bWJvbG9neVNuYXBwaW5nU3VwcG9ydGVkXCIsZSl9YXN5bmMgc2V0U3VzcGVuZGVkKGUpe3RoaXMuX3N1c3BlbmRDb250cm9sbGVyPy5hYm9ydCgpLHRoaXMuX3N1c3BlbmRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsYXdhaXQgdGhpcy5fd29ya2VySGFuZGxlLmludm9rZU1ldGhvZChcInNldFN1c3BlbmRlZFwiLGUsdGhpcy5fc3VzcGVuZENvbnRyb2xsZXIuc2lnbmFsKX1fY29udmVydENvbmZpZ3VyYXRpb24oZSl7cmV0dXJue2ZpbHRlcjpudWxsIT1lLmZpbHRlcj9lLmZpbHRlci50b0pTT04oKTpudWxsLGN1c3RvbVBhcmFtZXRlcnM6ZS5jdXN0b21QYXJhbWV0ZXJzLHZpZXdUeXBlOmUudmlld1R5cGV9fV9zZXJ2aWNlSW5mb0Zyb21MYXllcihlKXtyZXR1cm5cIm11bHRpcGF0Y2hcIj09PWUuZ2VvbWV0cnlUeXBlfHxcIm1lc2hcIj09PWUuZ2VvbWV0cnlUeXBlP251bGw6e3VybDplLnBhcnNlZFVybD8ucGF0aD8/XCJcIixmaWVsZHNJbmRleDplLmZpZWxkc0luZGV4LnRvSlNPTigpLGdlb21ldHJ5VHlwZTpwLnRvSlNPTihlLmdlb21ldHJ5VHlwZSksY2FwYWJpbGl0aWVzOmUuY2FwYWJpbGl0aWVzLG9iamVjdElkRmllbGQ6ZS5vYmplY3RJZEZpZWxkLGdsb2JhbElkRmllbGQ6ZS5nbG9iYWxJZEZpZWxkLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLHRpbWVJbmZvOmUudGltZUluZm8/LnRvSlNPTigpfX19O2UoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJzY2hlZHVsZVwiLHZvaWQgMCksZShbcih7Y29uc3RydWN0T25seTohMH0pXSxoLnByb3RvdHlwZSxcImhhc1pcIix2b2lkIDApLGUoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXNcIix2b2lkIDApLGUoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJxdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nXCIsdm9pZCAwKSxlKFtyKHtyZWFkT25seTohMH0pXSxoLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJhdmFpbGFiaWxpdHlcIix2b2lkIDApLGUoW3IoKV0saC5wcm90b3R5cGUsXCJfd29ya2VySGFuZGxlVXBkYXRpbmdcIix2b2lkIDApLGg9ZShbcyhcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuZmVhdHVyZVNvdXJjZXMuZmVhdHVyZVNlcnZpY2VTb3VyY2UuRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZVdvcmtlckhhbmRsZVwiKV0saCk7Y2xhc3MgYyBleHRlbmRzIGx7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihcIkZlYXR1cmVTZXJ2aWNlU25hcHBpbmdTb3VyY2VXb3JrZXJcIixcImZldGNoQ2FuZGlkYXRlc1wiLHt9LGUse3N0cmF0ZWd5OlwiZGVkaWNhdGVkXCIsY2xpZW50OnR9KX19ZXhwb3J0e2ggYXMgRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZVdvcmtlckhhbmRsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7ZnJvbVZhbHVlcyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9MT0QuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydHtUaWxlS2V5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvVGlsZUtleS5qc1wiO2xldCBhPWNsYXNzIGV4dGVuZHMgcntnZXQgdGlsZXMoKXtyZXR1cm5bbmV3IG4oXCIwLzAvMFwiLDAsMCwwLGkoLTFlOCwtMWU4LDFlOCwxZTgpKV19Z2V0IHRpbGVJbmZvKCl7cmV0dXJuIG5ldyBsKHtvcmlnaW46bmV3IHMoe3g6LTFlOCx5OjFlOCxzcGF0aWFsUmVmZXJlbmNlOnRoaXMubGF5ZXIuc3BhdGlhbFJlZmVyZW5jZX0pLHNpemU6WzUxMiw1MTJdLGxvZHM6W25ldyBwKHtsZXZlbDowLHNjYWxlOjEscmVzb2x1dGlvbjozOTA2MjV9KV0sc3BhdGlhbFJlZmVyZW5jZTp0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2V9KX1nZXQgdGlsZVNpemUoKXtyZXR1cm4gdGhpcy50aWxlSW5mby5zaXplWzBdfWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucG9pbnRPZkludGVyZXN0PW51bGx9fTtlKFt0KHtyZWFkT25seTohMH0pXSxhLnByb3RvdHlwZSxcInRpbGVzXCIsbnVsbCksZShbdCh7cmVhZE9ubHk6ITB9KV0sYS5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLG51bGwpLGUoW3Qoe3JlYWRPbmx5OiEwfSldLGEucHJvdG90eXBlLFwidGlsZVNpemVcIixudWxsKSxlKFt0KHtjb25zdHJ1Y3RPbmx5OiEwfSldLGEucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW3QoKV0sYS5wcm90b3R5cGUsXCJwb2ludE9mSW50ZXJlc3RcIix2b2lkIDApLGE9ZShbbyhcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuZmVhdHVyZVNvdXJjZXMuZmVhdHVyZVNlcnZpY2VTb3VyY2UuRmVhdHVyZVNlcnZpY2VUaWxlc1NpbXBsZVwiKV0sYSk7ZXhwb3J0e2EgYXMgRmVhdHVyZVNlcnZpY2VUaWxlc1NpbXBsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3N9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy92ZWM0ZjY0LmpzXCI7aW1wb3J0e2EgYXMgbyxnIGFzIHIsaCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9ib3VuZGVkUGxhbmUuanNcIjtmdW5jdGlvbiBjKG4sbyl7cmV0dXJuIHIoby5leHRlbnQsZSksdChlLHMoYSxuLngsbi55LDApKX1jb25zdCBlPW8oKSxhPW4oKTtleHBvcnR7YyBhcyBkaXN0YW5jZVRvVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Zyb21WYWx1ZXMgYXMgZX1mcm9tXCIuLi8uLi9za2V0Y2gvbm9ybWFsaXplZFBvaW50LmpzXCI7aW1wb3J0e0RyYXBlZEVkZ2VTbmFwcGluZ0NhbmRpZGF0ZSBhcyB0fWZyb21cIi4uL2NhbmRpZGF0ZXMvRHJhcGVkRWRnZVNuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e0VkZ2VTbmFwcGluZ0NhbmRpZGF0ZSBhcyBufWZyb21cIi4uL2NhbmRpZGF0ZXMvRWRnZVNuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e1ZlcnRleFNuYXBwaW5nQ2FuZGlkYXRlIGFzIGR9ZnJvbVwiLi4vY2FuZGlkYXRlcy9WZXJ0ZXhTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2Z1bmN0aW9uIHIoe3g6dCx5Om4sejpkfSl7cmV0dXJuIGUodCxuLGQ/PzApfWZ1bmN0aW9uIGEoZSxhKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJlZGdlXCI6cmV0dXJuIGUuZHJhcGVkP25ldyB0KHtlZGdlU3RhcnQ6cihlLnN0YXJ0KSxlZGdlRW5kOnIoZS5lbmQpLHRhcmdldFBvaW50OnIoZS50YXJnZXQpLG9iamVjdElkOmUub2JqZWN0SWQsZ2V0R3JvdW5kRWxldmF0aW9uOmF9KTpuZXcgbih7ZWRnZVN0YXJ0OnIoZS5zdGFydCksZWRnZUVuZDpyKGUuZW5kKSx0YXJnZXRQb2ludDpyKGUudGFyZ2V0KSxvYmplY3RJZDplLm9iamVjdElkLGlzRHJhcGVkOiExfSk7Y2FzZVwidmVydGV4XCI6cmV0dXJuIG5ldyBkKHt0YXJnZXRQb2ludDpyKGUudGFyZ2V0KSxvYmplY3RJZDplLm9iamVjdElkLGlzRHJhcGVkOiExfSl9fWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmXCIzZFwiPT09ZS50eXBlPyhuLGQpPT5lLmVsZXZhdGlvblByb3ZpZGVyLmdldEVsZXZhdGlvbihuLGQsMCx0LFwiZ3JvdW5kXCIpOigpPT5udWxsfWV4cG9ydHthIGFzIGNvbnZlcnRTbmFwcGluZ0NhbmRpZGF0ZSxvIGFzIG1ha2VHZXRHcm91bmRFbGV2YXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydFwiLi4vLi4vc3ltYm9scy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7bGVycCBhcyByfWZyb21cIi4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9zeW1ib2xzL1BvaW50U3ltYm9sM0QuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi9zeW1ib2xzL1NpbXBsZUZpbGxTeW1ib2wuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi9zeW1ib2xzL1RleHRTeW1ib2wuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi9zeW1ib2xzL1RleHRTeW1ib2wzRExheWVyLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vc3ltYm9scy9zdXBwb3J0L1N5bWJvbDNEVmVydGljYWxPZmZzZXQuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi8uLi9zeW1ib2xzL2NhbGxvdXRzL0xpbmVDYWxsb3V0M0QuanNcIjtpbXBvcnQgYiBmcm9tXCIuLi8uLi9zeW1ib2xzL2NhbGxvdXRzL0xpbmVDYWxsb3V0M0RCb3JkZXIuanNcIjtjb25zdCB1PVtbMCwxNzksMjU1XSxbMTE3LDYyLDEyOF0sWzAsMTA0LDI1NV0sWzIxNSwxODksMTY2XSxbMzIsMCwxOTNdLFs5OCwxNjIsMjA2XSxbMTAyLDExMiwxMjldLFs1MiwxMjUsMF0sWzE0MiwxMTgsMjQ2XSxbMTM4LDgzLDBdLFs5MiwxMjIsMjU1XSxbMTIyLDU1LDgzXSxbMCwxNDIsMjU1XSxbODEsNDAsMTc5XSxbMCwyMDAsMjQ0XSxbMTMsMjQsMTI3XSxbMCwxNzAsMTQ3XSxbMTksNTgsMjQxXSxbMjIsNDQsMzVdXTtsZXQgZD1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy51cGRhdGluZz0hMSx0aGlzLmVuYWJsZVBvbHlnb25zPSEwLHRoaXMuZW5hYmxlTGFiZWxzPSEwLHRoaXMuX3BvbHlnb25zPW5ldyBNYXAsdGhpcy5fbGFiZWxzPW5ldyBNYXAsdGhpcy5fZW5hYmxlZD0hMH1pbml0aWFsaXplKCl7dGhpcy5fc3ltYm9scz11Lm1hcCgoZT0+bmV3IG0oe2NvbG9yOltlWzBdLGVbMV0sZVsyXSwuNl0sb3V0bGluZTp7Y29sb3I6XCJibGFja1wiLHdpZHRoOjF9fSkpKSx0aGlzLnVwZGF0ZSgpfWRlc3Ryb3koKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuY2xlYXIoKX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMudXBkYXRlKCkpfXVwZGF0ZSgpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybiB2b2lkIHRoaXMuY2xlYXIoKTtjb25zdCBlPWU9PntpZihudWxsIT1lLmxhYmVsKXJldHVybiBlLmxhYmVsO2xldCBzPWUubGlqLnRvU3RyaW5nKCk7cmV0dXJuIG51bGwhPWUubG9hZFByaW9yaXR5JiYocys9YCAoJHtlLmxvYWRQcmlvcml0eX0pYCksc30sdD10aGlzLmdldFRpbGVzKCksaT1uZXcgQXJyYXksYT1uZXcgU2V0KCh0aGlzLl9sYWJlbHMuc2l6ZSx0aGlzLl9sYWJlbHMua2V5cygpKSk7dC5mb3JFYWNoKCgobSx1KT0+e2NvbnN0IGQ9bS5saWoudG9TdHJpbmcoKTthLmRlbGV0ZShkKTtjb25zdCBnPW0ubGlqWzBdLGY9bS5nZW9tZXRyeTtpZih0aGlzLmVuYWJsZVBvbHlnb25zJiYhdGhpcy5fcG9seWdvbnMuaGFzKGQpKXtjb25zdCBlPW5ldyBvKHtnZW9tZXRyeTpmLHN5bWJvbDp0aGlzLl9zeW1ib2xzW2cldGhpcy5fc3ltYm9scy5sZW5ndGhdfSk7dGhpcy5fcG9seWdvbnMuc2V0KGQsZSksaS5wdXNoKGUpfWlmKHRoaXMuZW5hYmxlTGFiZWxzKXtjb25zdCBhPWUobSksZz11Lyh0Lmxlbmd0aC0xKSx3PXIoMCwyMDAsZyksXz1yKDIwLDYsZykvLjc1LGo9bnVsbCE9bS5sb2FkUHJpb3JpdHkmJm0ubG9hZFByaW9yaXR5Pj10Lmxlbmd0aCx2PW5ldyBzKFt3LGo/MDp3LGo/MDp3XSksUz1cIjNkXCI9PT10aGlzLnZpZXcudHlwZT8oKT0+bmV3IG4oe3ZlcnRpY2FsT2Zmc2V0Om5ldyBjKHtzY3JlZW5MZW5ndGg6NDAvLjc1fSksY2FsbG91dDpuZXcgeSh7Y29sb3I6bmV3IHMoXCJ3aGl0ZVwiKSxib3JkZXI6bmV3IGIoe2NvbG9yOm5ldyBzKFwiYmxhY2tcIil9KX0pLHN5bWJvbExheWVyczpuZXcgbChbbmV3IHAoe3RleHQ6YSxoYWxvOntjb2xvcjpcIndoaXRlXCIsc2l6ZToxLy43NX0sbWF0ZXJpYWw6e2NvbG9yOnZ9LHNpemU6X30pXSl9KTooKT0+bmV3IGgoe3RleHQ6YSxoYWxvQ29sb3I6XCJ3aGl0ZVwiLGhhbG9TaXplOjEvLjc1LGNvbG9yOnYsc2l6ZTpffSkseD10aGlzLl9sYWJlbHMuZ2V0KGQpO2lmKHgpe2NvbnN0IGU9UygpO251bGwhPXguc3ltYm9sJiZKU09OLnN0cmluZ2lmeShlKT09PUpTT04uc3RyaW5naWZ5KHguc3ltYm9sKXx8KHguc3ltYm9sPWUpfWVsc2V7Y29uc3QgZT1uZXcgbyh7Z2VvbWV0cnk6Zi5leHRlbnQuY2VudGVyLHN5bWJvbDpTKCl9KTt0aGlzLl9sYWJlbHMuc2V0KGQsZSksaS5wdXNoKGUpfX19KSk7Y29uc3QgbT1uZXcgQXJyYXk7YS5mb3JFYWNoKChlPT57Y29uc3Qgcz10aGlzLl9wb2x5Z29ucy5nZXQoZSk7bnVsbCE9cyYmKG0ucHVzaChzKSx0aGlzLl9wb2x5Z29ucy5kZWxldGUoZSkpO2NvbnN0IG89dGhpcy5fbGFiZWxzLmdldChlKTtudWxsIT1vJiYobS5wdXNoKG8pLHRoaXMuX2xhYmVscy5kZWxldGUoZSkpfSkpLHRoaXMudmlldy5ncmFwaGljcy5yZW1vdmVNYW55KG0pLHRoaXMudmlldy5ncmFwaGljcy5hZGRNYW55KGkpfWNsZWFyKCl7dGhpcy52aWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoQXJyYXkuZnJvbSh0aGlzLl9wb2x5Z29ucy52YWx1ZXMoKSkpLHRoaXMudmlldy5ncmFwaGljcy5yZW1vdmVNYW55KEFycmF5LmZyb20odGhpcy5fbGFiZWxzLnZhbHVlcygpKSksdGhpcy5fcG9seWdvbnMuY2xlYXIoKSx0aGlzLl9sYWJlbHMuY2xlYXIoKX19O2UoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFtpKCldLGQucHJvdG90eXBlLFwiZW5hYmxlZFwiLG51bGwpLGQ9ZShbYShcImVzcmkudmlld3Muc3VwcG9ydC5UaWxlVHJlZURlYnVnZ2VyXCIpXSxkKTtleHBvcnR7ZCBhcyBUaWxlVHJlZURlYnVnZ2VyfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==