"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_rest_query_operations_query_js-node_modules_arcgis_co-3141e1"],{

/***/ "./node_modules/@arcgis/core/arcade/functions/hash.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/functions/hash.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   XXH: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push("NaN"):n===1/0?s.push("Infinity"):n===-1/0?s.push("-Infinity"):0===n?s.push("0"):s.push(n.toString(16));this.update(h(s.join("")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Heatmap.glsl.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Heatmap.glsl.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ a),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_DiscardOrAdjustAlphaBlend_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const a=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;a.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ScreenSpacePass),a.include(_views_3d_webgl_engine_core_shaderLibrary_util_DiscardOrAdjustAlphaBlend_glsl_js__WEBPACK_IMPORTED_MODULE_1__.DiscardOrAdjustAlphaBlend);const{usesHalfFloat:d}=t;return a.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("densityMap",(e=>e.densityMap)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("tex",(e=>e.colorRamp)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("densityNormalizer",(e=>1/(e.maxDensity-e.minDensity))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("minDensity",(e=>e.minDensity)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("densityMultiplier",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)))),d&&a.constants.add("compressionFactor","float",4),a.fragment.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`
    void main() {
      float density = texture(densityMap, uv).r * densityMultiplier${d?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)` * compressionFactor`:""};
      float densityRatio = (density - minDensity) * densityNormalizer;

      vec4 color = texture(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));

      discardOrAdjustAlpha(color);
      fragColor = color;
    }
  `),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ s),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const s=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_3__.ShaderBuilder,{vertex:d,fragment:u,attributes:n,varyings:l}=s;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addProjViewLocalOrigin)(d,t);const{isAttributeDriven:c,usesHalfFloat:f}=t;return n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION,"vec3"),n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.UV0,"vec2"),c&&(n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.FEATUREATTRIBUTE,"float"),l.add("attributeValue","float")),f&&s.constants.add("compressionFactor","float",.25),l.add("unitCirclePos","vec2"),d.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("radius",(({resolutionForScale:e,searchRadius:i},{camera:o,screenToWorldRatio:r,overlayStretch:a})=>2*i*(0===e?1:e/r)*o.pixelRatio/o.fullViewport[2]/a))),d.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    void main() {
      unitCirclePos = uv0;

      vec4 posProj = proj * (view * vec4(${_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION}, 1.0));
      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);

      ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`attributeValue = ${_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.FEATUREATTRIBUTE};`:""}
      gl_Position = posProj + quadOffset;
    }
  `),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    void main() {
      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);
      if (radiusRatioSquared > 1.0) {
        discard;
      }

      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;
      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)` * attributeValue`:""} ${f?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)` * compressionFactor`:""};
      fragColor = vec4(density);
    }
  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileController3D: () => (/* binding */ T),
/* harmony export */   FeatureTileController3DConstants: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../portal/support/geometryServiceUtils.js */ "./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileFetcher3D_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileFetcher3D.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileFetcher3DDebugger_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js");
/* harmony import */ var _views_3d_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../views/3d/support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let T=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_9__.EsriPromiseMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){set extent(e){if(null!=e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error("#extent=","extent needs to be in the same spatial reference as the view");const t=this._get("extent");if(t===e)return;if(null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set("extent",i)}get updating(){return!!(null!=this._tileFetcher&&this._tileFetcher.updating||null!=this._fetchDataInfoPromise||"tiles"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this._updatingHandles&&this._updatingHandles.updating)}get updatingTotal(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return null!=this._tileFetcher?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(null==this._tileFetcher||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return this.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome("maximumNumberOfFeatures",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden("maximumNumberOfFeatures")}get mode(){const e=this.layerView.layer;if("feature"===e.type&&null!=e.infoFor3D)return"snapshot";if(this._forceTilesMode)return"tiles";const t=this.layerView.view;if(!1===t.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===j.noServiceDataCount||this._snapshotLimitExceeded||this.maximumNumberOfFeaturesExceeded||t.quality<1)return"tiles";const i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>j.maxSnapshotMinScaleFactor)return"tiles"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?"snapshot":"tiles"}get maxTotalSnapshotVertices(){const e=this._get("maxTotalSnapshotVertices")||0,t="snapshot"===this.mode&&this._tileFetcher?.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return"snapshot"===this.mode?new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"]([{id:"dummy-tile-full-extent",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"]}get test(){return{fetchDataInfoPromise:this._fetchDataInfoPromise,tileFetcher:this._tileFetcher}}constructor(e){super(e),this.type="feature-tile-3d",this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles,this.serviceDataExtent=null,this.serviceDataCount=j.noServiceDataCount,this._snapshotLimitExceeded=!1,this.displayFeatureLimit=null,this._forceTilesMode=!1,this._suspended=!1,this._tileFetcher=null,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._updatingHandles.add((()=>this.displayFeatureLimit),(e=>this._updatingHandles.addPromise(this._updateSnapshotLimit(e,null,this._lifeCycleAbortController.signal)))),this._updatingHandles.add((()=>this.mode),(()=>this._modeChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this.mode),((e,t)=>{"tiles"===e&&"snapshot"===t&&(this._forceTilesMode=!0)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._updatingHandles.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if("ogc-feature"!==e.type&&!(0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__.getEffectiveLayerCapabilities)(e)?.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("graphicscontroller:query-capability-required","Service requires query capabilities to be used as a feature layer",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._tileFetcher),this._tilesHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._tilesHandle),this._lifeCycleAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._lifeCycleAbortController),this._updatingHandles.destroy(),this._set("_updatingHandles",null)}suspend(){this._suspended||(this._suspended=!0,null!=this._tileFetcher&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,null!=this._tileFetcher&&this._tileFetcher.resume())}restart(){const e=()=>{null!=this._tileFetcher&&this._tileFetcher.restart()};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){this._refetch({resetForceTilesMode:!1})}_refetch(e){const t=()=>{null!=this._tileFetcher&&(e.resetForceTilesMode&&(this._forceTilesMode=!1),this._tileFetcher.refetch())};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t,t))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.whenOnce)((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._updatingHandles.addPromise(t),t.then((()=>{const{layerView:e,tileDescriptors:t}=this,i=e.layer,r=new _views_3d_layers_support_FeatureTileFetcher3D_js__WEBPACK_IMPORTED_MODULE_20__.FeatureTileFetcher3D({context:this.context,filterExtent:this.extent,tileDescriptors:t,features:this.graphics});this._tileFetcher=r,this._suspended?this._tileFetcher.suspend():this._tileFetcher.resume();const s=this.layerView.view;s&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>s.quality),(e=>r.memoryFactor=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial));const a="polygon"===this.context.geometryType?"polygonLodFactor":"polyline"===this.context.geometryType?"polylineLodFactor":null;a&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.layerView.view?.qualitySettings?.graphics3D?.[a]),(e=>r.lodFactor=e||1),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial));const o=e=>{r.maximumNumberOfFeatures=e,r.useTileCount=this.serviceDataCount>e},l=e=>{r.useTileCount=e>this.maximumNumberOfFeatures};"ogc-feature"!==i.type&&this._updatingHandles.add((()=>i.createQueryVersion),(()=>this._dataFilterChanged())),this._updatingHandles.add((()=>e.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._updatingHandles.add((()=>e.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this.addHandles([i.on("apply-edits",(e=>this._applyEdits(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.extent),(e=>r.filterExtent=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.tileDescriptors),(e=>r.tileDescriptors=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.maximumNumberOfFeatures),o,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.serviceDataCount),l,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>_views_3d_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_22__.debugFlags.FEATURE_TILE_FETCH_SHOW_TILES),(e=>{e&&r&&!r.debugger?(r.debugger=new _views_3d_layers_support_FeatureTileFetcher3DDebugger_js__WEBPACK_IMPORTED_MODULE_21__.FeatureTileFetcher3DDebugger(r,s.featureTiles.tilingScheme.toTileInfo(),s),r.debugger.update()):!e&&this._tileFetcher&&r.debugger&&(r.debugger.destroy(),r.debugger=null)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial)]),this._supportsExceedsLimitQuery||this._updatingHandles.add((()=>this.maxTotalSnapshotVertices),(()=>this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit,null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case"tiles":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).warn("Unhandled feature layer mode "+this.mode);case"snapshot":null!=this._tilesHandle&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set("maxTotalSnapshotVertices",0),this.notifyChange("maxTotalSnapshotVertices"),this._refetch({resetForceTilesMode:!0})}_applyEdits(e){null!=this._tileFetcher&&this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.createAbortError)();e.exceededTransferLimit?this.layerView.layer.refresh():(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e))throw e}))}_availableFieldsChanged(e,t){null!=this._tileFetcher&&q(this._tileFetcher.availableFields,t)&&this._refetch({resetForceTilesMode:!1})}_requiredFieldsChanged(e,t){null!=this._tileFetcher&&q(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.returnGeometry=!1,i.outStatistics=[new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_19__["default"]({statisticType:"exceedslimit",maxVertexCount:e,outStatisticFieldName:"exceedslimit",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.returnGeometry=!1,t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case"feature":case"oriented-imagery":return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_16__.isHostedAgolService)(e.url);case"csv":case"geojson":case"ogc-feature":case"wfs":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(t)||this._set("serviceDataExtent",(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(t.fullExtentInLocalViewSpatialReference),o=i.fullExtent,l=this._fullExtentIsAccurate(),n=this.serviceDataCount;if(r&&n<=j.maxFeatureCountForExtent&&(!s||!l)&&"queryExtent"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:j.queryExtentTimeout,signal:e});this._set("serviceDataExtent",r.extent)}else if(s)this._set("serviceDataExtent",s);else if(null!=o){const r="portalItem"in i?i.portalItem:null,s=await (0,_portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_18__.projectGeometry)(o,t.view.spatialReference,r,e);this._set("serviceDataExtent",s)}else this._set("serviceDataExtent",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!("queryFeatureCount"in t)||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("featurelayer-snapshot-enabled"))return void this._set("serviceDataCount",j.noServiceDataCount);const r=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:j.queryStatisticsTimeout,signal:e}));if(!0===r.ok)this._set("serviceDataCount",r.value);else{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(r.error))throw r.error;this._set("serviceDataCount",j.noServiceDataCount)}}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case"point":case"multipoint":return 1;case"polygon":return 4;case"polyline":return 2;case"multipatch":case"mesh":return 3;default:return 0}}async _updateSnapshotLimit(e,t,r){if(null==e?.averageSymbolComplexity)return void(this._snapshotLimitExceeded=!1);const{maximumTotalNumberOfVertices:s,averageSymbolComplexity:a}=e,{verticesPerFeature:o,verticesPerCoordinate:l}=a,n=o<=0,u=this._minimumNumberOfVerticesForGeometry>1;if(!n&&!u)return void(this._snapshotLimitExceeded=!1);0!==o&&null!=t&&await t;const h=Math.min(s,H),c=this.serviceDataCount,p=c!==j.noServiceDataCount;let m=p?Math.ceil((h-c*o)/(l||1)):Math.ceil(h/(l||1));if(u&&(m=Math.min(m,O)),p&&this._minimumNumberOfVerticesForGeometry*c>m)return void(this._snapshotLimitExceeded=!0);if(!this._supportsExceedsLimitQuery||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("featurelayer-snapshot-enabled"))return void(this._snapshotLimitExceeded=this.maxTotalSnapshotVertices>m);const f=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m),{timeout:j.queryStatisticsTimeout,signal:r}));if(!1===f.ok){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(f.error))throw f.error;return void(this._snapshotLimitExceeded=!1)}const y=f.value.features[0];this._snapshotLimitExceeded=!!y?.attributes&&!!y.attributes.exceedslimit}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=Promise.allSettled([i,this._updateSnapshotLimit(this.displayFeatureLimit,i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error("#fetchServiceDataInfo()",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get performanceInfo(){return{storedFeatures:this._tileFetcher?.storedFeatures??0,totalFeatures:this._tileFetcher?.totalFeatures??0,totalVertices:this._tileFetcher?.totalVertices??0,missingTiles:this._tileFetcher?.missingTiles??0}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"graphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"extent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"_updatingHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"updatingTotal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"expectedFeatureDiff",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"memoryForUnusedFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"serviceDataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"serviceDataCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_snapshotLimitExceeded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"displayFeatureLimit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({type:Number})],T.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_forceTilesMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"mode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"maxTotalSnapshotVertices",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"tileDescriptors",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_tileFetcher",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_fetchDataInfoPromise",void 0),T=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.layers.graphics.controllers.FeatureTileController3D")],T);const V=1e4,H=1e6,L=12e3,I=1e4,O=5e6;function q(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var j;!function(e){function t(){e.maxFeatureCountForExtent=V,e.queryStatisticsTimeout=L,e.queryExtentTimeout=I}e.noServiceDataCount=1/0,e.maxSnapshotMinScaleFactor=5,e.reset=t}(j||(j={})),j.reset();


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/operations/urlUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/urlUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapParameters: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n){const o={};for(const e in n){if("declaredClass"===e)continue;const r=n[e];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else"object"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/operations/query.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/operations/query.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeGeometry: () => (/* binding */ m),
/* harmony export */   executeQuery: () => (/* binding */ c),
/* harmony export */   executeQueryForCount: () => (/* binding */ S),
/* harmony export */   executeQueryForExtent: () => (/* binding */ x),
/* harmony export */   executeQueryForIds: () => (/* binding */ p),
/* harmony export */   executeQueryPBF: () => (/* binding */ f),
/* harmony export */   executeQueryPBFBuffer: () => (/* binding */ d),
/* harmony export */   queryToQueryStringParameters: () => (/* binding */ y),
/* harmony export */   runQuery: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../operations/urlUtils.js */ "./node_modules/@arcgis/core/rest/operations/urlUtils.js");
/* harmony import */ var _pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pbfQueryUtils.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js");
/* harmony import */ var _queryZScale_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./queryZScale.js */ "./node_modules/@arcgis/core/rest/query/operations/queryZScale.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="Layer does not support extent calculation.";function m(t,e){if(e&&"extent"===t.type)return`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;if(e&&"point"===t.type)return`${t.x},${t.y}`;const n=t.toJSON();return delete n.spatialReference,JSON.stringify(n)}function y(t,e){const n=t.geometry,i=t.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const o=i;let u,l,s;if(null!=n&&(l=n.spatialReference,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(l),o.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(n),o.geometry=m(n,t.compactGeometryEnabled),o.inSR=s),i.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(o.objectIds=i.objectIds.join(",")),i.orderByFields&&(o.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&(e?.returnCountOnly||e?.returnExtentOnly||e?.returnIdsOnly)?delete o.outFields:i.outFields.includes("*")?o.outFields="*":o.outFields=i.outFields.join(","),i.outSR?(o.outSR=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(i.outSR),u=t.outSpatialReference):n&&(i.returnGeometry||i.returnCentroid)&&(o.outSR=o.inSR,u=l),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(o.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(o.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(o.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(t.defaultSpatialReferenceEnabled&&null!=l&&null!=t.quantizationParameters?.extent&&l.equals(t.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,o.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(o.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(o.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(o.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(o.time=e===n?e:`${e??"null"},${n??"null"}`),delete i.timeExtent}return t.defaultSpatialReferenceEnabled&&null!=l&&null!=u&&l.equals(u)&&(o.defaultSR=o.inSR,delete o.inSR,delete o.outSR),o}async function c(t,e,n,r){const i=null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await E(t,e,"json",r);return (0,_queryZScale_js__WEBPACK_IMPORTED_MODULE_7__.applyFeatureSetZUnitScaling)(e,n,i.data),i}async function f(t,e,n,r){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:n.createFeatureResult()};const i=await d(t,e,r),a=i;return a.data=(0,_pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__.parsePBFFeatureQuery)(i.data,n),a}function d(t,e,n){return E(t,e,"pbf",n)}function p(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):E(t,e,"json",n,{returnIdsOnly:!0})}function S(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):E(t,e,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}async function x(t,e,n){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await E(t,e,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty("extent"))return r;if(i.features)throw new Error(s);if(i.hasOwnProperty("count"))throw new Error(s);return r}async function E(r,a,u,l={},s={}){const m="string"==typeof r?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.urlToObject)(r):r,c=a.geometry?[a.geometry]:[],f=await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeCentralMeridian)(c,null,{signal:l.signal}),d=f?.[0];null!=d&&((a=a.clone()).geometry=d);const p=(0,_operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.mapParameters)({...m.query,f:u,...s,...y(a,s)});return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.join)(m.path,g(a,s)?"query3d":"query"),{...l,responseType:"pbf"===u?"array-buffer":"json",query:{...p,...l.query}})}function g(t,e){return null!=t.formatOf3DObjects&&!(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureLikeLayerView3D: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _layers_graphics_controllers_FeatureTileController3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/graphics/controllers/FeatureTileController3D.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _graphics_elevationAlignPointsInFeatures_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./graphics/elevationAlignPointsInFeatures.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js");
/* harmony import */ var _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./graphics/Graphics3DFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _graphics_queryForSymbologySnapping_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./graphics/queryForSymbologySnapping.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js");
/* harmony import */ var _support_HeatmapFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/HeatmapFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js");
/* harmony import */ var _support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/projectExtentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const E=E=>{let v=class extends E{constructor(){super(...arguments),this.controller=null,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_19__.UpdatePolicy.SYNC,this.suspendResumeExtentMode="computed",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.supportsHeightUnitConversion=!0,this._pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;if("isTable"in e&&e.isTable)return void this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:table-not-supported","table feature layer can't be displayed",{layer:e})));this.addResolvingPromise(this._validateGeometryType()),this._updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),this.addResolvingPromise((async()=>{const e=await (0,_support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_18__.toViewIfLocal)(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this._updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const t=()=>this.processor.featureStore;this.queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__.QueryEngine({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return t()},hasZ:this.hasZ,hasM:this.hasM},priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__.TaskPriority.FEATURE_QUERY_ENGINE}),this.notifyChange("updating")}destroy(){this._destroyPendingController(),this.controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.controller),this._set("processor",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.processor)),this.queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._pendingController)}get legendEnabled(){return this.canResume()&&this.processor?.legendEnabled}get graphics3DProcessor(){return"graphics-3d"===this.processor?.type?this.processor:null}get heatmapProcessor(){return"heatmap"===this.processor?.type?this.processor:null}get symbologySnappingSupported(){const e=this.layer?.renderer?.getSymbols();return e?.some(_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.symbolHasExtrudeSymbolLayer)??!1}getHit(e){let r;return this.loadedGraphics?.forEach((t=>{t.uid===e&&(r=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_9__.hydrateGraphic)(t,this.layer))})),r?{type:"graphic",graphic:r,layer:r.layer}:null}whenGraphicBounds(e,r){return this.processor?.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}async elevationAlignPointsInFeatures(e,t){const s=this.graphics3DProcessor;if(null==s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview3d:missing-processor","A Graphics3D processor is needed to resolve graphics elevation.");return (0,_graphics_elevationAlignPointsInFeatures_js__WEBPACK_IMPORTED_MODULE_13__.elevationAlignPointsInFeatures)(this.view,this.layer,(e=>s.getGraphics3DGraphicByObjectId(e)),e,t)}async queryForSymbologySnapping(e,r){return this.symbologySnappingSupported?(0,_graphics_queryForSymbologySnapping_js__WEBPACK_IMPORTED_MODULE_16__.queryForSymbologySnapping)(this.graphics3DProcessor,e,r):{candidates:[],sourceCandidateIndices:[]}}queryFeatures(e,r){return this.queryEngine.executeQuery(this._ensureQuery(e),r?.signal)}queryObjectIds(e,r){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),r?.signal)}queryExtent(e,r){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),r?.signal)}_ensureQuery(e){return null==e?this.createQuery():_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__["default"].from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&!this.controller?.updating&&this.view?.basemapTerrain?.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this._pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(r){}this._controllerCreated=!0,this.notifyChange("updating"),this.isResolved()&&!this.destroyed?(await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange("updating")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case"stream":return!1;case"feature-tile-3d":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case"multipatch":case"multipoint":throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview3d:unsupported-geometry-type","Unsupported geometry type ${geometryType}",{geometryType:this.layer.geometryType})}}_recreateProcessor(e){const r="heatmap"===e?.type,t="heatmap"===this.processor?.type,s=this.processor;if(s&&r===t)return;const o=r?new _support_HeatmapFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_17__.HeatmapFeatureProcessor({owner:this}):new _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_14__.Graphics3DFeatureProcessor({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set("processor",o),s?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(o.initializePromise)}_getResourceInfo(){const e=this.controller instanceof _layers_graphics_controllers_FeatureTileController3D_js__WEBPACK_IMPORTED_MODULE_10__.FeatureTileController3D?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics?.length,maximumNumberOfFeatures:e?.maximumNumberOfFeatures??-1,totalNumberOfFeatures:e?.serviceDataCount??-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"updatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"suspendResumeExtentMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean})],v.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"suspendInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"graphics3DProcessor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"heatmapProcessor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"symbologySnappingSupported",null),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.FeatureLikeLayerView3D")],v),v};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DFeatureProcessor: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _arcade_functions_hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../arcade/functions/hash.js */ "./node_modules/@arcgis/core/arcade/functions/hash.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _renderers_support_randomRotationExpression_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../renderers/support/randomRotationExpression.js */ "./node_modules/@arcgis/core/renderers/support/randomRotationExpression.js");
/* harmony import */ var _renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../renderers/support/renderingInfoUtils.js */ "./node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/constants.js");
/* harmony import */ var _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Graphics3DCore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js");
/* harmony import */ var _Graphics3DElevationAlignment_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Graphics3DElevationAlignment.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js");
/* harmony import */ var _Graphics3DFrustumVisibility_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Graphics3DFrustumVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js");
/* harmony import */ var _Graphics3DObjectStates_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Graphics3DObjectStates.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js");
/* harmony import */ var _Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Graphics3DScaleVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../support/attributeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js");
/* harmony import */ var _support_FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../support/FeatureVisibilityFilter.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let P=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(e){super(e),this.type="graphics-3d",this._randomRotationRenderers=null,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__.UpdatingHandles,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.DrapeSourceType.Features,this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_31__.UpdatePolicy.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&"multipatch"!==e.layer.geometryType,i=new _Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_22__.Graphics3DCore({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new _Graphics3DElevationAlignment_js__WEBPACK_IMPORTED_MODULE_23__.Graphics3DElevationAlignment({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new _Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_26__.Graphics3DScaleVisibility({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _support_FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_29__.FeatureVisibilityFilter({context:{layerView:e,...t}}):null,objectStates:e=>new _Graphics3DObjectStates_js__WEBPACK_IMPORTED_MODULE_25__.Graphics3DObjectStates(e)}});this._set("graphicsCore",i),this.frustumVisibilityEnabled&&this._set("frustumVisibility",new _Graphics3DFrustumVisibility_js__WEBPACK_IMPORTED_MODULE_24__.Graphics3DFrustumVisibility({graphicsCoreOwner:this})),this.elevationAlignment&&this._updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__.diff)(e,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this._updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this._updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__.diff)(e,t)&&this.graphicsCore.updateLabelingInfo()})),this._updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this._set("initializePromise",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.logOnError)(this.graphicsCore.initializePromise);const e=this.owner;this._updatingHandles.add((()=>this.renderer),(e=>this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this._updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this._updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.logOnError)(this.graphicsCore.updateLabelingInfo())}destroy(){this._updatingHandles.destroy(),this._set("frustumVisibility",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.frustumVisibility)),this._set("graphicsCore",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.graphicsCore)),this._set("owner",null)}get layer(){return this.owner.layer}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||"heatmap"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>"rotation"===e.type&&null!=e.valueExpression&&(0,_renderers_support_randomRotationExpression_js__WEBPACK_IMPORTED_MODULE_16__.matchRandomRotationExpression)(e.valueExpression)===t&&(null==e.axis||"heading"===e.axis)&&"geographic"===e.rotationType));if(i<0)return e;const s=e.clone();return s.visualVariables.splice(i,1),this._randomRotationRenderers||(this._randomRotationRenderers=new WeakMap),this._randomRotationRenderers.set(s,t),s}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get suspendResumeExtentMode(){return"suspendResumeExtentMode"in this.owner?this.owner.suspendResumeExtentMode:"computed"}get scaleVisibilitySuspended(){return null!=this.scaleVisibility&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return null==this.frustumVisibility||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),null!=this.frustumVisibility&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||this.frustumVisibility?.updating||this._updatingHandles.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return"filter"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return"featureSpatialReference"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.quality,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e);return new _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_21__.DisplayFeatureLimit(t.maximumTotalNumberOfVertices,i,t.averageSymbolComplexity)}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:null==this.frustumVisibility||!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibilitySuspended}}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__["default"]){const{set:t,handle:s}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if("number"==typeof e||"string"==typeof e)return this.highlight([e],i);if(e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"])return this.highlight([e],i);if("toArray"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]){const t=e;if(null==(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__.attributeLookup)(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__.attributeLookup)(this.layer.fieldsIndex,e.attributes,i)))}if(Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0])){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)()}resetObjectStates(){this.objectStates.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,s){const r=(0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__.getRenderingInfo)(e,{renderer:t,arcade:s});if(r?.color){const e=r.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(null!=r&&null!=t&&this._randomRotationRenderers?.has(t)){const s=this._randomRotationRenderers.get(t),n=e.attributes[s],a=new _arcade_functions_hash_js__WEBPACK_IMPORTED_MODULE_2__.XXH(0);a.updateFloatArray([n]),a.updateUint8Array([173]),r.heading=8.381e-8*a.digest()}return r}getRenderingInfoAsync(e,t,i,s){return (0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__.getRenderingInfoAsync)(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){null!=this.filterVisibility&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.suspendResumeExtentMode),(()=>{switch(this.removeHandles(F),this.suspendResumeExtentMode){case"computed":this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],F);break;case"data":this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.when)((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.dataExtent)))],F);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_4__.neverReached)(this.suspendResumeExtentMode)}}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.canProject)(e,i))return;e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(e,i)}return (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_27__.enlargeExtent)(e,t,_constants_js__WEBPACK_IMPORTED_MODULE_20__.suspendResumeExtentOptimism,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){null!=this.frustumVisibility&&this.frustumVisibility.setExtent(e),null!=this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"updateClippingExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"elevationFeatureExpressionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"graphicsCore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"scaleVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"filterVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"frustumVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"elevationAlignmentEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"timeExtentEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"setUidToIdOnAdd",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"scaleVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"elevationAlignment",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"frustumVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"objectStates",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"initializePromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"suspendResumeExtentMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"dataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"loadedGraphics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"slicePlaneEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],P.prototype,"displayFeatureLimit",null),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.3d.layers.graphics.Graphics3DFeatureProcessor")],P);const F="suspendResumeExtentMode";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngine: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=_layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__.QueryEngine;let l=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case"multipoint":case"point":case"polygon":case"polyline":return this.layer.geometryType;case"mesh":return"polygon";default:return}}get defaultQueryJSON(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_12__["default"]({outSpatialReference:this.spatialReference}).toJSON()}get _dataQueryEngine(){return this._ensureDataQueryEngine()}constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__["default"].fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e,t){let r=this.defaultQueryJSON;if(null!=e&&("outSpatialReference"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),r=e.toJSON()),null!=t){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));r={...r,sceneFilter:{...t,geometry:e}}}return r}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e="timeInfo"in this.layer&&this.layer.timeInfo?.toJSON()||null,t=this.layer.objectIdField,r=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__.featureGeometryTypeKebabDictionary.toJSON(this._queryGeometryType),s=this.layer.fieldsIndex?.toJSON()||new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__["default"]([]),n=this.priority,a=this.spatialReference.toJSON(),{hasZ:u,hasM:i,featureStore:l,scheduler:p}=this.context;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:i,geometryType:r,fieldsIndex:s,timeInfo:e,spatialReference:a,objectIdField:t,featureStore:l,scheduler:p,priority:n}),this._dataQueryEngineInstance}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"priority",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"_queryGeometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"defaultQueryJSON",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.graphics.QueryEngine")],l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTile: () => (/* binding */ l),
/* harmony export */   FetchStatus: () => (/* binding */ E),
/* harmony export */   failedFeatureCount: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const _=16438,d=new Set;class l{get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,e,s){this._availableFields=s??d,this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=e/(t.length+e),this._numVertices=t.reduce(((t,e)=>t+(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.numVertices)(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>m}get needsFeatureCount(){return this._numFeatures===m}get numVertices(){return this._numVertices}constructor(t){this.descriptor=t,this.fetchStatus=E.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=m,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=d,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.estimateSize)(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.estimateSize)(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===E.FETCHING||this.fetchStatus===E.REFETCHING}get isRefetching(){return this.fetchStatus===E.REFETCHING}get needsFetching(){return this.fetchStatus===E.FETCH_NEEDED||this.fetchStatus===E.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===E.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===E.DONE||this.fetchStatus===E.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===E.REFETCHING?E.REFETCH_NEEDED:E.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!c(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return null==t||!this.descriptor.extent||((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.fromExtent)(t,g),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.intersects)(this.descriptor.extent,g))}intersectionIncludingBorrowed(t,e){const i=null!=this.extentIncludingBorrowedFeatures?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(null!=t?((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.fromExtent)(t,e),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.intersection)(e,i,e)):(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.copy)(e,i),e):((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.copy)(e,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.positiveInfinity),e)}_shuffle(e){this._features.sort(((t,s)=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.getObjectId)(t,e)-(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.getObjectId)(s,e))),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this._features,_),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===E.DONE&&this._features.length>0&&(this.fetchStatus=E.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===E.FULL&&(this.fetchStatus=E.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this._features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const m=-1,F=-2;var E;function c(t,e,s){if(null==e||null==t||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]="FETCH_NEEDED",t[t.REFETCH_NEEDED=1]="REFETCH_NEEDED",t[t.FETCHING=2]="FETCHING",t[t.REFETCHING=3]="REFETCHING",t[t.DONE=4]="DONE",t[t.FULL=5]="FULL"}(E||(E={}));const g=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileFetcher3D: () => (/* binding */ j),
/* harmony export */   contextCapabilitiesFromLayer: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _featureReference_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./featureReference.js */ "./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js");
/* harmony import */ var _FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureTile.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js");
/* harmony import */ var _terrain_tileUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../terrain/tileUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/tileUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const w="esri.views.3d.layers.support.FeatureTileFetcher3D",D=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(w);let j=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get("maximumNumberOfFeatures");e===t||e<1||(this._set("maximumNumberOfFeatures",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set("memoryFactor",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set("lodFactor",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&null!=this.context.query.queryFeatureCount}set useTileCount(e){this._useTileCount=e,this.notifyChange("useTileCount")}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(null!=e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void D.error("#filterExtent=","extent needs to be in the same spatial reference as the tiling scheme");const t=this._get("filterExtent");if(t===e||null!=t&&e&&t.equals(e))return;const s=null!=e?e.clone():null;this._set("filterExtent",s),this._reclip(s,t)}constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.running=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this._fullRatio=1,this._farRatio=1,this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._frameTask=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__.ImmediateTask,this._dirty=!1,this._featureTiles=new Map,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._suspended=!0,this._pendingEdits=null}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)((()=>this.tileDescriptors),"change",(()=>this._setDirty()),{onListenerAdd:()=>this._setDirty()})),this._objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?_featureReference_js__WEBPACK_IMPORTED_MODULE_17__.MultiFeatureReference:_featureReference_js__WEBPACK_IMPORTED_MODULE_17__.SingleFeatureReference;const e=this.context.scheduler;null!=e&&(this._frameTask=e.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__.TaskPriority.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{null!=t.displayingFeatures&&0!==t.displayingFeatures.length&&(null==e?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||e.delete(s)})))})),null!=e?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this._objectIdField;e.forEach((({objectId:e,globalId:a})=>{(!e||e<0)&&t&&a&&(s||D.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(a,r,t)),null!=e&&e>=0&&i.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}_objectIdFromGlobalId(e,t,s){if(null==e)return null;const i=this.features.find((t=>t.attributes?.[s]===e));return i?(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(i,t):null}async _applyEditsAddUpdateFeatures(e,t,s){const{objectIdField:i,globalIdField:r}=this.context,a=r&&this.availableFields.has(r),n=new Set,o=new Set;for(const l of e){const e=l.objectId;null!=e&&n.add(e)}for(const{objectId:l,globalId:h}of t){let e=l;(null==e||e<0)&&r&&(a||D.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${r} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(h,i,r)),null!=e&&e>=0&&(n.add(e),o.add(e))}if(0===n.size)return;const u=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,n,o,s);t&&u.push(t)})),await Promise.allSettled(u)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=Array.from(t);const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,q(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:Q})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.initialized)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._showTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!(this._suspended||!this.tileDescriptors)&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>(e.descriptor.loadPriority??0)-(t.descriptor.loadPriority??0))),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this._objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=null!=this.context.memoryCache?this.context.memoryCache.pop(i.id):null;if(null==e){if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.failedFeatureCount)),s=!0,t.madeProgress()}if(t.done)return!0}else i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress()}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(D,e)})),t.madeProgress())return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{null!=i.displayingFeatures&&0!==i.displayingFeatures.length&&(i.intersectionIncludingBorrowed(t,L),i.intersectionIncludingBorrowed(e,H),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.equals)(L,H)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(null!=i.displayingFeatures)for(const e of i.displayingFeatures){const i=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||!!this._pendingEdits||e>0;if(this._set("running",this._dirty),this._set("updating",t),t){let t=0,s=0,i=0,r=0,a=0;const n=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=null!=e.displayingFeatures?e.displayingFeatures.length*n:0;a+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let o=0,u=0;t?(u=t,o=Math.min(r*t/i,t)):(u=s,o=r),a=Math.min(this.maximumNumberOfFeatures-this.features.length,a),this._set("updatingTotal",u),this._set("updatingRemaining",o),this._set("expectedFeatureDiff",a)}else this._set("updatingTotal",0),this._set("updatingRemaining",0),this._set("expectedFeatureDiff",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set("maximumNumberOfFeaturesExceeded",e)}_updateRatio(e){const t=P(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new _FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FeatureTile(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this._featureTiles.forEach((s=>{if(!(null==s.displayingFeatures||e===s||e.descriptor.lij&&s.descriptor.lij&&!(0,_terrain_tileUtils_js__WEBPACK_IMPORTED_MODULE_19__.tilesAreRelated)(e.descriptor.lij,s.descriptor.lij))){null==e.displayingFeatures&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(null==e.extentIncludingBorrowedFeatures&&(e.extentIncludingBorrowedFeatures=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.clone)(e.descriptor.extent)),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.expand)(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}})),e.featureLimit=null!=e.displayingFeatures?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE):e.fetchStatus=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;null!=t&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.REFETCHING?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.REFETCH_NEEDED:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return U(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(O(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"].MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const n=this._createQuery(e);if(n.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);n.maxRecordCountFactor=Math.max(t+1,n.maxRecordCountFactor)}const{features:o,exceededTransferLimit:u,fields:l}=await this._queryFeatures(n,t),h=u?n.maxRecordCountFactor>=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"].MAX_MAX_RECORD_COUNT_FACTOR?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=o.length<e.numFeatures||!!u;const t=this._removeEmptyFeatures(o);e.setFeatures(o,t,A(l))}),t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),this._invalidateCounts(),h}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,n=0,o=this._maximumFeaturesForTile(e)-n;const u=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),c=this._setPagingParameters(h,i,o,u),{features:d,exceededTransferLimit:p,fields:f}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{c&&(i+=h.num),n+=d.length,r+=this._removeEmptyFeatures(d),e.featuresMissing=i<e.numFeatures||!!p,s=s?s.concat(d):d,l=q(l,f),e.setFeatures(s,r,l)}),t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),this._invalidateCounts(),this._setDirty(),o=this._maximumFeaturesForTile(e)-n,!c||!p||o<=0)return p?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.toExtent)(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType="tile":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&"point"!==this.context.geometryType}_setResolutionParams(e,t){if(!this._supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_14__["default"]({mode:"view",originPosition:"upper-left",tolerance:s,extent:this.context.fullExtent}):"polyline"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.hasVertices)(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!O(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&null!=t&&t>0&&this.context.capabilities.supportsResultType?t:null!=s&&s>0?s:S}_useTileQuery(e){return(!O(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.REFETCHING:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FETCHING,e.requestController=s;let a=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(t)?a=!0:i(t)})).then((()=>{a||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.hasHandles("scheduleUpdated")||this.addHandles((0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_6__.schedule)((()=>{this.removeHandles("scheduleUpdated"),this._updated()})),"scheduleUpdated")}_showTile(e){if(null!=e.displayingFeatures&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=null!=e.displayingFeatures&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this._changes.updates,r=this._changes.adds,a=Math.min(e.featureLimit,t.length);e.featureLimit=a;for(let n=0;n<a;++n){const e=t[n],a=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField),o=this._displayingFeatureReferences.get(a);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(t.oldVersion&&i.removes.push(t.oldVersion),t.newVersion&&i.adds.push(t.newVersion))}else this._displayingFeatureReferences.set(a,new this.FeatureReferenceClass(e,s)),r.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,a),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(null==e.displayingFeatures)return;const t=this._changes.updates,s=this._changes.removes;for(const i of e.displayingFeatures){const r=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this._numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this._displayingFeatureReferences.delete(r),n.oldVersion&&s.push(n.oldVersion)):(t.adds.push(n.newVersion),n.oldVersion&&t.removes.push(n.oldVersion))):console.error("Hiding unreferenced feature")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+V,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&null!=this.context.memoryCache){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange("totalVertices"),this.notifyChange("totalFeatures"),this.notifyChange("memoryForUnusedFeatures")}_getListOfTiles(){return Array.from(this._featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetching||t.isFetching?1:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this._featureTiles.get(e),forEachFeatureTile:e=>this._featureTiles.forEach(e)}}};function O(e){return"dummy-tile-full-extent"===e.id}function P(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function I(e){const t=e.capabilities.query;return{supportsMultipleResolutions:N(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function N(e){switch(e.geometryType){case"polyline":return!0;case"polygon":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function U(e){return e.setFeatures([],0,null),e.featuresMissing=!1,_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE}function A(e){return null==e?new Set:new Set(e.map((e=>e.name)))}function q(e,t){if(null==e||null==t)return A(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],j.prototype,"features",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],j.prototype,"tileDescriptors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:1/0})],j.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:1})],j.prototype,"memoryFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:1})],j.prototype,"lodFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],j.prototype,"useTileCount",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"running",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"updatingTotal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"updatingRemaining",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"expectedFeatureDiff",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"memoryForUnusedFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"maximumNumberOfFeaturesExceeded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"totalVertices",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"totalFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],j.prototype,"filterExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],j.prototype,"context",void 0),j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)(w)],j);const S=2e3,L=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)(),H=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)(),Q=6e5,V=200;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileFetcher3DDebugger: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../symbols/FillSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/FillSymbol3DLayer.js");
/* harmony import */ var _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../symbols/PointSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PointSymbol3D.js");
/* harmony import */ var _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/PolygonSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PolygonSymbol3D.js");
/* harmony import */ var _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../symbols/TextSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/TextSymbol3DLayer.js");
/* harmony import */ var _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../symbols/support/Symbol3DVerticalOffset.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DVerticalOffset.js");
/* harmony import */ var _terrain_TilingScheme_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../terrain/TilingScheme.js */ "./node_modules/@arcgis/core/views/3d/terrain/TilingScheme.js");
/* harmony import */ var _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../symbols/callouts/LineCallout3D.js */ "./node_modules/@arcgis/core/symbols/callouts/LineCallout3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class m{constructor(e,i,o){this._loadingGraphics=new Map,this._loadedGraphics=new Map,this._pendingGraphics=new Map,this._dataExtentGraphic=null,this._enabled=!0,this._tileFetcher=e,this._view=o,this._tilingScheme=new _terrain_TilingScheme_js__WEBPACK_IMPORTED_MODULE_9__.TilingScheme(i),this._loadedSymbols=c.map((e=>new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[e[0],e[1],e[2],.6]},outline:{color:"black",size:1}})])}))),this._loadingSymbols=[new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}})])})],this._pendingSymbols=[new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}})])})],this._dataExtentSymbol=new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[0,0,0,0]},outline:{color:"green",size:4}})])})}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:e=>e.isFetching,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:e=>!e.isFetching,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(t){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),null==t)return;const s=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromExtent(t);this._dataExtentGraphic=new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:s,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(i,s){const r=[];i.forEach(((e,t)=>{const i=this._tileFetcher.test.getFeatureTileById(t);i&&s.filter(i)||(this._view.graphics.removeMany(e),r.push(t))})),r.forEach((e=>i.delete(e))),this._tileFetcher.test.forEachFeatureTile((r=>{if(s.filter(r)&&!i.has(r.id)){const[h,c,m]=r.descriptor.lij;this._tilingScheme.ensureMaxLod(h);const p=this._tilingScheme.getExtentGeometry(h,c,m),y=[new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:p,symbol:s.symbols[h%s.symbols.length]}),new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:p.center,symbol:new _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__["default"]({verticalOffset:new _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_8__["default"]({screenLength:40/.75}),callout:new _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_10__["default"]({color:"white",border:{color:"black"}}),symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_7__["default"]({text:`${h}/${c}/${m}`,halo:{color:"white",size:1/.75},material:{color:"black"},size:16})])})})];i.set(r.id,y),this._view.graphics.addMany(y)}}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureVisibilityFilter: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._updateTask=null,this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this._updateVisibility=async e=>{if(null==this._compositedFeatureFilter&&null==this._sceneFilter||0===this.context.getFeatureCount())return this._frameTask.schedule((()=>this.clear()),e);try{const t=await this._queryEngine.executeQueryForIdSet(this._compositedFeatureFilter,this._sceneFilter,e);return this._frameTask.schedule((()=>{this.context.updateFeatureVisibilities((e=>t.has(e)))}),e)}catch(t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAbortError)(t),_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warn(`FeatureFilter query failed: ${t}`,{error:t}),this._frameTask.schedule((()=>{this.context.setAllFeaturesVisibility(!0)}),e)}}}initialize(){const e=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_16__.TaskPriority.FILTER_VISIBILITY,{layer:t,view:r}=this._layerView,{featureStore:i}=this.context,s="hasZ"in this._layerView&&this._layerView.hasZ,l="hasM"in this._layerView&&this._layerView.hasM;this._queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__.QueryEngine({context:{spatialReference:r.spatialReference,layer:t,scheduler:r.resourceController.scheduler,featureStore:i,hasM:l,hasZ:s},priority:e}),this._frameTask=this._layerView.view.resourceController.scheduler.registerTask(e,this),this._updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this.reapply()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial)}destroy(){this._updateRequested=!1,this._updatingHandles.destroy(),this.clear(),this._updateTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(this._updateTask),this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.removeMaybe)(this._frameTask),this._queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._queryEngine),this._set("context",null)}get updating(){return this.running||this._updatingHandles.updating||null!=this._updateTask&&!this._updateTask.finished}get running(){return this._updateRequested||this._frameTask.updating}get defaultVisibility(){return null==this._compositedFeatureFilter&&null==this._sceneFilter}get _featureFilter(){return"filter"in this._layerView?this._layerView.filter:null}get _sceneFilter(){return"layerFilter"in this._layerView?this._layerView.layerFilter:null}get _floorFilter(){return (0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__.getFloorFilterClause)(this._layerView)}get _timeExtent(){return"timeExtent"in this._layerView?this._layerView.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_timeExtent:t,_floorFilter:r}=this;if(null==t&&null==r)return e;const i=null!=e?e.clone():new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_13__["default"];if(null!=t&&(i.timeExtent=null!=i.timeExtent?i.timeExtent.intersection(t):t),null!=r){const e=null==i.where||""===i.where;i.where=e?r:`(${i.where}) AND (${r})`}return i}get _layerView(){return this.context.layerView}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}runTask(e){this._updateRequested&&(this._updateTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(this._updateTask),this._updateTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.createTask)(this._updateVisibility),this._updateRequested=!1,e.madeProgress()),this._frameTask.processQueue(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],m.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"running",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"defaultVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_featureFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_sceneFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_floorFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_compositedFeatureFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_layerView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_updateTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_updateRequested",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.support.FeatureVisibilityFilter")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapFeatureProcessor: () => (/* binding */ k),
/* harmony export */   maxRadiusPt: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/byteSizeEstimations.js */ "./node_modules/@arcgis/core/core/byteSizeEstimations.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../layers/graphics/data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _graphics_DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../graphics/DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./FeatureVisibilityFilter.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_DrapedHeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/DrapedHeatmapRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../webgl-engine/materials/HeatmapDensityMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../webgl/heatmapTextureUtils.js */ "./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const z="esri.views.3d.layers.support.HeatmapFeatureProcessor",$=_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(z),q=112;let k=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.type="heatmap",this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_34__.UpdatePolicy.ASYNC,this.dataExtent=null,this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_24__.DrapeSourceType.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.HALF_FLOAT,this._pixelFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelFormat.RGBA,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_13__.UpdatingHandles,this.initializePromise=Promise.resolve()}initialize(){this._featureStore=new _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_21__["default"]({geometryType:"esriGeometryPoint",hasZ:this.hasZ,hasM:this.hasM});const{dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}=(0,_webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__.loadHeatmapTextureConfiguration)(this._renderView.renderingContext,$);this._dataType=e,this._pixelFormat=r;const a=e!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.FLOAT;this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,_webgl_engine_lib_DrapedHeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_30__.DrapedHeatmapRenderer,{...this._rendererParameters,dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}),this._material=new _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__.HeatmapDensityMaterial({usesHalfFloats:a}),this._materialWithField=new _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__.HeatmapDensityMaterial({usesHalfFloats:a,isAttributeDriven:!0}),this._filterVisibility=new _FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_26__.FeatureVisibilityFilter({context:{layerView:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this._updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this._updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync),this._updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(null!=e&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&$.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{null==e||t||$.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=null,this._materialWithField=null,this._featureStore.clear(),this._featureStore=null,this._updatingHandles.destroy()}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this._updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.quality??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return new _graphics_DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_25__.DisplayFeatureLimit(r*6,r)}get hasZ(){return"hasZ"in this.layer&&this.layer.hasZ}get hasM(){return"hasM"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__.scaleBoundsPredicate)(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelFormat.RED?1:4,r=this._dataType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(null==e)return 0;const t=(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateAttributesObjectSize)(e),r=(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateNumberByteSize)(),o=6;return o*(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateFixedArraySize)([0,0,0],r)+o*(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateFixedArraySize)([0,0],r)+(this._heatmapRendererFieldIsNumeric?o*r:0)+t}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._visibleFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return this._overlayRenderer.spatialReference}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(null==e)return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){const e=this._heatmapRenderer;return e?{searchRadius:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(this._clampSearchRadius(e.radius))}:null}get _resolutionForScaleParameter(){const e=this._heatmapRenderer;if(!e)return null;const{referenceScale:t}=e;return{resolutionForScale:0===t?0:(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__.getResolutionForScale)(t,this.view.spatialReference)}}get _colorRampParameter(){const e=this._heatmapRenderer;return e?{colorRampData:(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_23__.generateGradient)(e.colorStops)}:null}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){return this.owner?.view?.qualitySettings.heatmap.pixelRatio??1}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return"point"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return"heatmap"===e?.type?e:null}get _heatmapRendererFieldName(){return this._heatmapRenderer?.field}get _heatmapRendererField(){const e=this._heatmapRendererFieldName;return null!=e?this.layer.fieldsIndex.get(e):null}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return null!=e&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_22__.isNumericField)(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!("effectiveScaleRange"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__.isScaleRangeActive)(t,r)}get _visibleFeatures(){let e=0;return this._renderGeometries.forEach((t=>{t.visible&&++e})),e}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)()}maskOccludee(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)()}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_17__.getObjectId)(e,t)))),this._featureStore.addMany(e.added.map((e=>{const{attributes:r,centroid:i,geometry:a}=e,s=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_19__.OptimizedFeature((0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_20__["default"],a),r,i?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_20__["default"],i):null,(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_17__.getObjectId)(e,t));return s.displayId=e.uid,s})));const i=e.added,a=e.removed;this._fieldTotal+=this._computeFieldTotalChange(i,a);const s=a.map((({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),o=i.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));s.length>0&&this._drapeSourceRenderer.removeGeometries(s,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyOperation.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyOperation.ADD),(o.length>0||s.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=null!=t?this._materialWithField:this._material,i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)();(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_14__.projectPointToVector)(e.geometry,i,this._overlaySpatialReference),i[2]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_27__.drapedZ;const a=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_15__.getContinuousIndexArray)(1),s=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_28__.Attribute(i,a,i.length)]],o=this._heatmapRendererFieldIsNumeric;null!=t&&s.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__.VertexAttribute.FEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_28__.Attribute([o?e.attributes[t]??0:0],a,1)]);const n=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_33__.RenderGeometry(new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_31__.Geometry(r,s,null,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_29__.ContentObjectType.Point),{layerUid:this.layer.uid,graphicUid:e.uid});return n.visible=this.filterVisibility.defaultVisibility,n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(null==this._heatmapRendererFieldName||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>q&&$.warnOnce(`SceneView supports a maximum radius of ${q} pt for HeatmapRenderer.`),Math.min(e,q)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyState.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyState.VISIBILITY)}get test(){return{visibleFeatureCount:this._visibleFeatures}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],k.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"displayFeatureLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"hasM",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"dataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_featureStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_filterVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_overlayRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_overlaySpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_rendererParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_materialParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_densityParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_radiusParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_resolutionForScaleParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_colorRampParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_pixelRatioParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_densityMapPixelRatio",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_renderGeometries",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_material",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_materialWithField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_renderView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_featuresArePoints",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_loadedPointGraphics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRendererFieldName",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRendererField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRendererFieldIsNumeric",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_fieldTotal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_drapeSourceRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_isScaleRangeActive",null),k=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)(z)],k);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attributeLookup: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiFeatureReference: () => (/* binding */ t),
/* harmony export */   SingleFeatureReference: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/Geometry.js */ "./node_modules/@arcgis/core/geometry/Geometry.js");
/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/Multipoint.js */ "./node_modules/@arcgis/core/geometry/Multipoint.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatureComparison.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(t,s){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(t,"uid",{value:this.feature.uid,configurable:!0});for(const n of this.versions)if(n.resolution===s){n.refCount++;const s=this._highestResolutionVersion===n&&!(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_12__.equals)(t,n.feature);return(s||this._highestResolutionVersion!==n)&&(n.feature=t),i.newVersion=s?t:r,i}const o={feature:t,resolution:s,refCount:1};return this.versions.push(o),!this._highestResolutionVersion||s<this._highestResolutionVersion.resolution?(i.newVersion=t,this._highestResolutionVersion=o):i.newVersion=r,i}unref(e){for(let t=0;t<this.versions.length;t++){const s=this.versions[t];if(s.resolution===e)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(this.versions[t]=this.versions[this.versions.length-1],this.versions.length--,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}return null}get feature(){return this._highestResolutionVersion?this._highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const s=this.versions[t];s.resolution<e.resolution&&(e=s)}this._highestResolutionVersion=e}}class s{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(t){return++this._refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(t,"uid",{value:this.feature.uid,configurable:!0}),(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_12__.equals)(this._feature,t)||(this._feature=t),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this._refCount>0&&(this._refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/EventedSet.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/EventedSet.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventedSet: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/ObservableChangesType.js */ "./node_modules/@arcgis/core/core/ObservableChangesType.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.ADD}),this.emit("change",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_2__.someSet)(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapedHeatmapRenderer: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _glUtil3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./glUtil3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js");
/* harmony import */ var _SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SortedRenderGeometryRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js");
/* harmony import */ var _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shaders/HeatmapTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl/FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _webgl_Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../webgl/Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let x=class extends _SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_10__.SortedRenderGeometryRenderer{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type="draped-heatmap",this._heatmapParameters=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapPassParameters;const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.TextureDescriptor;e.pixelFormat=t.pixelFormat,e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=t.samplingMode,e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureWrapMode.CLAMP_TO_EDGE;const r=t.rendererContext.rctx;this._densityMap=new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_13__.FramebufferObject(r,e),this._quad=(0,_glUtil3D_js__WEBPACK_IMPORTED_MODULE_9__.createQuadVAO)(r);const a=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapTechniqueConfiguration;a.usesHalfFloat=t.dataType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.FLOAT,this._technique=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapTechnique({rctx:r,viewingMode:_ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__.ViewingMode.Local},a)}initialize(){const t=this._colorRampData,e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.TextureDescriptor(t.length/4,1);e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureWrapMode.CLAMP_TO_EDGE,this._colorRamp=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_14__.Texture(this.rctx,e,t),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._technique=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.releaseMaybe)(this._technique),this._densityMap=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._densityMap),this._quad=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._quad),this._colorRamp=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange("searchRadius"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange("minDensity"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange("maxDensity"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange("fieldTotal")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(null!=e&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccluded(){return!1}render(t){const e=this._sortedMaterialRenderers;if(0===e.length)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),{pixelRatio:i}=this,s=Math.ceil(a.width*i),o=Math.ceil(a.height*i);this._densityMap.resize(s,o),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,s,o),this.rctx.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.ClearBufferBit.COLOR_BUFFER_BIT);let n=!1;e.forAll((e=>{const r=e.prepareTechnique(t);null!=r&&(e.renderNode(t,r),n=!0)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),n&&(this.rctx.bindVAO(this._quad),this.rctx.bindTechnique(this._technique,this._heatmapParameters,t.bindParameters),this.rctx.drawArrays(this._technique.primitiveType,0,(0,_webgl_Util_js__WEBPACK_IMPORTED_MODULE_16__.vertexCount)(this._quad,"geometry")))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"searchRadius",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"minDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"maxDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"fieldTotal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"pixelRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"colorRampData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"dataType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"samplingMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"pixelFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"internalFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"_colorRampData",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer")],x);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityMaterial: () => (/* binding */ b),
/* harmony export */   HeatmapDensityMaterialParameters: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../shaders/HeatmapDensityTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const h=2;class T extends _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityPassParameters{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class b extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__.Material{constructor(t){super(t,new T),this._configuration=new _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityTechniqueConfiguration}produces(t,e){return t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.DRAPED_MATERIAL&&e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}createGLMaterial(t){return new d(t)}intersect(){}intersectDraped(r,s,i,a,o,n){const l=r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION),{parameters:c}=this,{searchRadius:f}=c,{screenToWorldRatio:m}=r,p=f*m+h*m,T=p*p,b=l.data.length/l.size;for(let u=0;u<b;u++){const r=u*l.size,s=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(E,l.data[r],l.data[r+1]);(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.k)(s,a)<T&&o(n.dist,n.normal,-1,!1)}}createBufferWriter(){return new g(this.parameters.isAttributeDriven?I:A)}}class d extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_4__["default"]{beginSlot(t){return this.ensureTechnique(_shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityTechnique,t)}}class g{constructor(t){this.vertexBufferLayout=t}elementCount(t){return t.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).indices.length*v}write(t,e,r,s,i){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__.writePosition)(r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION),t,s.position,i,v);const a=r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).indices.length,o=s.uv0;let n=i;for(let u=0;u<a;++u)o.setValues(n++,-1,-1),o.setValues(n++,1,-1),o.setValues(n++,1,1),o.setValues(n++,1,1),o.setValues(n++,-1,1),o.setValues(n++,-1,-1);const f=_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE in s?s.featureAttribute:null;f&&(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__.writeBufferFloat)(r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE),f,i,v)}}const A=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UV0),I=A.clone().f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE),v=6,E=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityPassParameters: () => (/* binding */ d),
/* harmony export */   HeatmapDensityTechnique: () => (/* binding */ f),
/* harmony export */   HeatmapDensityTechniqueConfiguration: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_HeatmapDensity_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/HeatmapDensity.glsl.js */ "./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class d extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__.MaterialParameters{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class f extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__.Program(e.rctx,f.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendOperation.ADD),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}f.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_HeatmapDensity_glsl_js__WEBPACK_IMPORTED_MODULE_8__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HeatmapDensity_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./HeatmapDensity.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensity.glsl.js"))));class b extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],b.prototype,"isAttributeDriven",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],b.prototype,"usesHalfFloat",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapPassParameters: () => (/* binding */ h),
/* harmony export */   HeatmapTechnique: () => (/* binding */ d),
/* harmony export */   HeatmapTechniqueConfiguration: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_Heatmap_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/Heatmap.glsl.js */ "./node_modules/@arcgis/core/chunks/Heatmap.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.NoParameters{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class d extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__.Program(e.rctx,d.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_5__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.blendingDefault,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWriteParams,depthTest:null,depthWrite:null})}get primitiveType(){return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.PrimitiveType.TRIANGLE_STRIP}}d.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_Heatmap_glsl_js__WEBPACK_IMPORTED_MODULE_9__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Heatmap_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./Heatmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Heatmap.glsl.js"))));class f extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.usesHalfFloat=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],f.prototype,"usesHalfFloat",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapTextureConfiguration: () => (/* binding */ l),
/* harmony export */   loadHeatmapTextureConfiguration: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l{constructor(e,t,r,a){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=a}}function n(n,i){const{textureFloat:f,colorBufferFloat:s}=n.capabilities,u=f?.textureFloat,_=f?.textureFloatLinear,m=f?.textureHalfFloat,h=f?.textureHalfFloatLinear,p=s?.textureFloat,d=s?.textureHalfFloat,c=s?.floatBlend,x=n.driverTest.floatBufferBlend.result;if(!u&&!m)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-texture-float","HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");if(!p&&!d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(c&&x||d))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(x?"":" This device claims support for EXT_float_blend, but does not actually support it."));const b=u&&p&&c&&x,E=m&&d,R=_,F=h,L=!!s?.R32F,w=!!s?.R16F;if(b&&(R||!F))return R||i.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.FLOAT,R?_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR:_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,L?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RED:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,L?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.R32F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);if(E)return F||i.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."),new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.HALF_FLOAT,F?_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR:_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,w?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RED:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,w?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.R16F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3Jlc3RfcXVlcnlfb3BlcmF0aW9uc19xdWVyeV9qcy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvLTMxNDFlMS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGNBQWMsV0FBVyx1QkFBdUIsSUFBSSxLQUFLLHNCQUFzQixnTkFBZ04seUJBQXlCLFFBQVEsZUFBZSx3REFBd0QsT0FBTywyQ0FBMkMsb0JBQW9CLFdBQVcseUlBQXlJLDJCQUEyQixrQkFBa0IsMkJBQTJCLHNDQUFzQyxvQkFBb0IsZ0NBQWdDLG9CQUFvQix5QkFBeUIsVUFBVSx3REFBd0QsU0FBUyx1Q0FBdUMsUUFBUSxpREFBaUQsZ0RBQWdELGlCQUFpQixVQUFVLHlCQUF5QixpQkFBaUIsMEZBQTBGLFFBQVEsUUFBUSxrQkFBa0IsTUFBTSxrRUFBa0Usd0JBQXdCLGVBQWUseUJBQXlCLHNDQUFzQywrRkFBK0Ysd0JBQXdCLG1CQUFtQixLQUFLLEtBQUssTUFBTSxrREFBa0Qsd0ZBQXdGLEtBQUssV0FBVyxLQUFLLG1FQUFtRSxpSkFBa0s7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ2ltQixjQUFjLFlBQVkscUdBQUMsQ0FBQyxVQUFVLDhHQUFDLFlBQVksdUlBQUMsRUFBRSxNQUFNLGdCQUFnQixHQUFHLG1DQUFtQyxtSEFBQyxxQ0FBcUMsbUhBQUMsNkJBQTZCLDJHQUFDLDZEQUE2RCwyR0FBQyxxQ0FBcUMsMkdBQUMsNElBQTRJLDZGQUFDO0FBQ3pnQztBQUNBLHFFQUFxRSxFQUFFLDZGQUFDO0FBQ3hFOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sNkNBQTZDLHVCQUF1QixxQkFBcUIsZUFBZSxHQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZHhJO0FBQ0E7QUFDQTtBQUNBO0FBQzBjLGNBQWMsWUFB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cUIsT0FBTyx5RUFBQyxFQUFFLFNBQVMsaUZBQUMsWUFBWSwyRUFBQyxnQ0FBZ0MsRUFBRSxvQkFBb0IsT0FBTywyREFBQyxpQkFBaUIsYUFBYSxtR0FBQyxDQUFDLHNEQUFDLE1BQU0seVFBQTJCLEdBQUcsZ0JBQWdCLHNHQUFDLENBQUMsY0FBYywyQ0FBMkMsdURBQUMsRUFBRSxnR0FBQyx3Q0FBb0k7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p4aUQ7QUFDQTtBQUNBO0FBQ0E7QUFDMEksUUFBUSxxQkFBcUIsOEVBQThFLGdCQUFnQixNQUFNLGtDQUFrQywyTUFBMk0sb0JBQW9CLHNEQUFDLHlJQUF5SSxvQkFBb0Isc0RBQUMseUtBQXlLLHdCQUF3QixzREFBQywyTkFBMk4sMERBQTBELDhIQUE4SCxnREFBQyxTQUFTLDBEQUFDLFFBQVEsMERBQUMsV0FBVyxrREFBQyxLQUFLLGtEQUFDLFFBQVEsdURBQUMsTUFBTSxrREFBQyxPQUFPLDBIQUEwSCxnREFBQyxjQUFjLDBEQUFDLFFBQVEsMERBQUMsV0FBVyxrREFBQyxLQUFLLGtEQUFDLFFBQVEsdURBQUMsTUFBTSxrREFBQyxPQUFPLFVBQVUsc0RBQUMsb0pBQWtPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9mdW5jdGlvbnMvaGFzaC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL0hlYXRtYXAuZ2xzbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL0hlYXRtYXBEZW5zaXR5Lmdsc2wuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9GZWF0dXJlVGlsZUNvbnRyb2xsZXIzRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9vcGVyYXRpb25zL3VybFV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9GZWF0dXJlTGlrZUxheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9RdWVyeUVuZ2luZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZVRpbGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9GZWF0dXJlVGlsZUZldGNoZXIzRERlYnVnZ2VyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9GZWF0dXJlVmlzaWJpbGl0eUZpbHRlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvSGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L2F0dHJpYnV0ZVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9mZWF0dXJlUmVmZXJlbmNlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0V2ZW50ZWRTZXQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvRHJhcGVkSGVhdG1hcFJlbmRlcmVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL0hlYXRtYXBEZW5zaXR5TWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0hlYXRtYXBEZW5zaXR5VGVjaG5pcXVlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9IZWF0bWFwVGVjaG5pcXVlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9oZWF0bWFwVGV4dHVyZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PTI2NTQ0MzU3NjEscz0yMjQ2ODIyNTE5LG49MzI2NjQ4OTkxNyxlPTY2ODI2NTI2MyxyPTM3NDc2MTM5MztmdW5jdGlvbiBoKHQpe2NvbnN0IHM9W107Zm9yKGxldCBuPTAsZT10Lmxlbmd0aDtuPGU7bisrKXtsZXQgZT10LmNoYXJDb2RlQXQobik7ZTwxMjg/cy5wdXNoKGUpOmU8MjA0OD9zLnB1c2goMTkyfGU+PjYsMTI4fDYzJmUpOmU8NTUyOTZ8fGU+PTU3MzQ0P3MucHVzaCgyMjR8ZT4+MTIsMTI4fGU+PjYmNjMsMTI4fDYzJmUpOihuKyssZT02NTUzNisoKDEwMjMmZSk8PDEwfDEwMjMmdC5jaGFyQ29kZUF0KG4pKSxzLnB1c2goMjQwfGU+PjE4LDEyOHxlPj4xMiY2MywxMjh8ZT4+NiY2MywxMjh8NjMmZSkpfXJldHVybiBuZXcgVWludDhBcnJheShzKX1jbGFzcyBpe2NvbnN0cnVjdG9yKHQpe3RoaXMuX3NlZWQ9dCx0aGlzLl90b3RhbGxlbj0wLHRoaXMuX2J1ZnM9W10sdGhpcy5pbml0KCl9aW5pdCgpe3JldHVybiB0aGlzLl9idWZzPVtdLHRoaXMuX3RvdGFsbGVuPTAsdGhpc311cGRhdGVGbG9hdEFycmF5KHQpe2NvbnN0IHM9W107Zm9yKGNvbnN0IG4gb2YgdClpc05hTihuKT9zLnB1c2goXCJOYU5cIik6bj09PTEvMD9zLnB1c2goXCJJbmZpbml0eVwiKTpuPT09LTEvMD9zLnB1c2goXCItSW5maW5pdHlcIik6MD09PW4/cy5wdXNoKFwiMFwiKTpzLnB1c2gobi50b1N0cmluZygxNikpO3RoaXMudXBkYXRlKGgocy5qb2luKFwiXCIpKSl9dXBkYXRlSW50QXJyYXkodCl7Y29uc3Qgcz1JbnQzMkFycmF5LmZyb20odCk7dGhpcy51cGRhdGUobmV3IFVpbnQ4QXJyYXkocy5idWZmZXIpKX11cGRhdGVVaW50OEFycmF5KHQpe3RoaXMudXBkYXRlKFVpbnQ4QXJyYXkuZnJvbSh0KSl9dXBkYXRlV2l0aFN0cmluZyh0KXtyZXR1cm4gdGhpcy51cGRhdGUoaCh0KSl9dXBkYXRlKHQpe3JldHVybiB0aGlzLl9idWZzLnB1c2godCksdGhpcy5fdG90YWxsZW4rPXQubGVuZ3RoLHRoaXN9ZGlnZXN0KCl7Y29uc3QgdD1uZXcgVWludDhBcnJheSh0aGlzLl90b3RhbGxlbik7bGV0IHM9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9idWZzKXQuc2V0KG4scykscys9bi5sZW5ndGg7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuX3h4SGFzaDMyKHQsdGhpcy5fc2VlZCl9X3h4SGFzaDMyKGgsaT0wKXtjb25zdCBvPWg7bGV0IHU9aStyJjQyOTQ5NjcyOTUsYT0wO2lmKG8ubGVuZ3RoPj0xNil7Y29uc3Qgbj1baSt0K3MmNDI5NDk2NzI5NSxpK3MmNDI5NDk2NzI5NSxpKzAmNDI5NDk2NzI5NSxpLXQmNDI5NDk2NzI5NV0sZT1oLHI9ZS5sZW5ndGgtMTY7bGV0IG89MDtmb3IoYT0wOyg0Mjk0OTY3MjgwJmEpPD1yO2ErPTQpe2NvbnN0IHI9YSxoPWVbcl0rKGVbcisxXTw8OCksaT1lW3IrMl0rKGVbciszXTw8OCksdT1oKnMrKGkqczw8MTYpO2xldCBsPW5bb10rdSY0Mjk0OTY3Mjk1O2w9bDw8MTN8bD4+PjE5O2NvbnN0IGY9NjU1MzUmbCxwPWw+Pj4xNjtuW29dPWYqdCsocCp0PDwxNikmNDI5NDk2NzI5NSxvPW8rMSYzfXU9KG5bMF08PDF8blswXT4+PjMxKSsoblsxXTw8N3xuWzFdPj4+MjUpKyhuWzJdPDwxMnxuWzJdPj4+MjApKyhuWzNdPDwxOHxuWzNdPj4+MTQpJjQyOTQ5NjcyOTV9dT11K2gubGVuZ3RoJjQyOTQ5NjcyOTU7Y29uc3QgbD1oLmxlbmd0aC00O2Zvcig7YTw9bDthKz00KXtjb25zdCB0PWEscz1vW3RdKyhvW3QrMV08PDgpLHI9b1t0KzJdKyhvW3QrM108PDgpO3U9dSsocypuKyhyKm48PDE2KSkmNDI5NDk2NzI5NSx1PXU8PDE3fHU+Pj4xNSx1PSg2NTUzNSZ1KSplKygodT4+PjE2KSplPDwxNikmNDI5NDk2NzI5NX1mb3IoO2E8by5sZW5ndGg7KythKXt1Kz1vW2FdKnIsdT11PDwxMXx1Pj4+MjEsdT0oNjU1MzUmdSkqdCsoKHU+Pj4xNikqdDw8MTYpJjQyOTQ5NjcyOTV9cmV0dXJuIHVePXU+Pj4xNSx1PSgoNjU1MzUmdSkqcyY0Mjk0OTY3Mjk1KSsoKHU+Pj4xNikqczw8MTYpLHVePXU+Pj4xMyx1PSgoNjU1MzUmdSkqbiY0Mjk0OTY3Mjk1KSsoKHU+Pj4xNikqbjw8MTYpLHVePXU+Pj4xNix1PDA/dSs0Mjk0OTY3Mjk2OnV9fWV4cG9ydHtpIGFzIFhYSH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1NjcmVlblNwYWNlUGFzcyBhcyBlfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvU2NyZWVuU3BhY2VQYXNzLmdsc2wuanNcIjtpbXBvcnR7RGlzY2FyZE9yQWRqdXN0QWxwaGFCbGVuZCBhcyByfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvdXRpbC9EaXNjYXJkT3JBZGp1c3RBbHBoYUJsZW5kLmdsc2wuanNcIjtpbXBvcnR7RmxvYXRQYXNzVW5pZm9ybSBhcyBzfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtnbHNsIGFzIGl9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e1NoYWRlckJ1aWxkZXIgYXMgb31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL1NoYWRlckJ1aWxkZXIuanNcIjtpbXBvcnR7VGV4dHVyZTJEUGFzc1VuaWZvcm0gYXMgbn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL1RleHR1cmUyRFBhc3NVbmlmb3JtLmpzXCI7ZnVuY3Rpb24gdCh0KXtjb25zdCBhPW5ldyBvO2EuaW5jbHVkZShlKSxhLmluY2x1ZGUocik7Y29uc3R7dXNlc0hhbGZGbG9hdDpkfT10O3JldHVybiBhLmZyYWdtZW50LnVuaWZvcm1zLmFkZChuZXcgbihcImRlbnNpdHlNYXBcIiwoZT0+ZS5kZW5zaXR5TWFwKSksbmV3IG4oXCJ0ZXhcIiwoZT0+ZS5jb2xvclJhbXApKSxuZXcgcyhcImRlbnNpdHlOb3JtYWxpemVyXCIsKGU9PjEvKGUubWF4RGVuc2l0eS1lLm1pbkRlbnNpdHkpKSksbmV3IHMoXCJtaW5EZW5zaXR5XCIsKGU9PmUubWluRGVuc2l0eSkpLG5ldyBzKFwiZGVuc2l0eU11bHRpcGxpZXJcIiwoZT0+My8oZS5zZWFyY2hSYWRpdXMqZS5zZWFyY2hSYWRpdXMqTWF0aC5QSSkpKSksZCYmYS5jb25zdGFudHMuYWRkKFwiY29tcHJlc3Npb25GYWN0b3JcIixcImZsb2F0XCIsNCksYS5mcmFnbWVudC5jb2RlLmFkZChpYFxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGZsb2F0IGRlbnNpdHkgPSB0ZXh0dXJlKGRlbnNpdHlNYXAsIHV2KS5yICogZGVuc2l0eU11bHRpcGxpZXIke2Q/aWAgKiBjb21wcmVzc2lvbkZhY3RvcmA6XCJcIn07XG4gICAgICBmbG9hdCBkZW5zaXR5UmF0aW8gPSAoZGVuc2l0eSAtIG1pbkRlbnNpdHkpICogZGVuc2l0eU5vcm1hbGl6ZXI7XG5cbiAgICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlKHRleCwgdmVjMihjbGFtcChkZW5zaXR5UmF0aW8sIDAuMCwgMS4wKSwgMC41KSk7XG5cbiAgICAgIGRpc2NhcmRPckFkanVzdEFscGhhKGNvbG9yKTtcbiAgICAgIGZyYWdDb2xvciA9IGNvbG9yO1xuICAgIH1cbiAgYCksYX1jb25zdCBhPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxidWlsZDp0fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e2EgYXMgSCx0IGFzIGJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthZGRQcm9qVmlld0xvY2FsT3JpZ2luIGFzIGV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1ZpZXcuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIGl9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgb31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyByfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvU2hhZGVyQnVpbGRlci5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgYX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2Z1bmN0aW9uIHQodCl7Y29uc3Qgcz1uZXcgcix7dmVydGV4OmQsZnJhZ21lbnQ6dSxhdHRyaWJ1dGVzOm4sdmFyeWluZ3M6bH09cztlKGQsdCk7Y29uc3R7aXNBdHRyaWJ1dGVEcml2ZW46Yyx1c2VzSGFsZkZsb2F0OmZ9PXQ7cmV0dXJuIG4uYWRkKGEuUE9TSVRJT04sXCJ2ZWMzXCIpLG4uYWRkKGEuVVYwLFwidmVjMlwiKSxjJiYobi5hZGQoYS5GRUFUVVJFQVRUUklCVVRFLFwiZmxvYXRcIiksbC5hZGQoXCJhdHRyaWJ1dGVWYWx1ZVwiLFwiZmxvYXRcIikpLGYmJnMuY29uc3RhbnRzLmFkZChcImNvbXByZXNzaW9uRmFjdG9yXCIsXCJmbG9hdFwiLC4yNSksbC5hZGQoXCJ1bml0Q2lyY2xlUG9zXCIsXCJ2ZWMyXCIpLGQudW5pZm9ybXMuYWRkKG5ldyBpKFwicmFkaXVzXCIsKCh7cmVzb2x1dGlvbkZvclNjYWxlOmUsc2VhcmNoUmFkaXVzOml9LHtjYW1lcmE6byxzY3JlZW5Ub1dvcmxkUmF0aW86cixvdmVybGF5U3RyZXRjaDphfSk9PjIqaSooMD09PWU/MTplL3IpKm8ucGl4ZWxSYXRpby9vLmZ1bGxWaWV3cG9ydFsyXS9hKSkpLGQuY29kZS5hZGQob2BcbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB1bml0Q2lyY2xlUG9zID0gdXYwO1xuXG4gICAgICB2ZWM0IHBvc1Byb2ogPSBwcm9qICogKHZpZXcgKiB2ZWM0KCR7YS5QT1NJVElPTn0sIDEuMCkpO1xuICAgICAgdmVjNCBxdWFkT2Zmc2V0ID0gdmVjNCh1bml0Q2lyY2xlUG9zICogcmFkaXVzLCAwLjAsIDAuMCk7XG5cbiAgICAgICR7Yz9vYGF0dHJpYnV0ZVZhbHVlID0gJHthLkZFQVRVUkVBVFRSSUJVVEV9O2A6XCJcIn1cbiAgICAgIGdsX1Bvc2l0aW9uID0gcG9zUHJvaiArIHF1YWRPZmZzZXQ7XG4gICAgfVxuICBgKSx1LmNvZGUuYWRkKG9gXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZmxvYXQgcmFkaXVzUmF0aW9TcXVhcmVkID0gZG90KHVuaXRDaXJjbGVQb3MsIHVuaXRDaXJjbGVQb3MpO1xuICAgICAgaWYgKHJhZGl1c1JhdGlvU3F1YXJlZCA+IDEuMCkge1xuICAgICAgICBkaXNjYXJkO1xuICAgICAgfVxuXG4gICAgICBmbG9hdCBvbmVNaW51c1JhZGl1c1JhdGlvU3F1YXJlZCA9IDEuMCAtIHJhZGl1c1JhdGlvU3F1YXJlZDtcbiAgICAgIGZsb2F0IGRlbnNpdHkgPSBvbmVNaW51c1JhZGl1c1JhdGlvU3F1YXJlZCAqIG9uZU1pbnVzUmFkaXVzUmF0aW9TcXVhcmVkICR7Yz9vYCAqIGF0dHJpYnV0ZVZhbHVlYDpcIlwifSAke2Y/b2AgKiBjb21wcmVzc2lvbkZhY3RvcmA6XCJcIn07XG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KGRlbnNpdHkpO1xuICAgIH1cbiAgYCksc31jb25zdCBzPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxidWlsZDp0fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e3MgYXMgSCx0IGFzIGJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cmVzdWx0IGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hc3luY1V0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7Y2xvbmUgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgbCxyZW1vdmVNYXliZSBhcyBuLGFib3J0TWF5YmUgYXMgdX1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e0VzcmlQcm9taXNlTWl4aW4gYXMgaH1mcm9tXCIuLi8uLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7Y3JlYXRlQWJvcnRFcnJvciBhcyBjLGlzQWJvcnRFcnJvciBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2luaXRpYWwgYXMgcCx3aGVuT25jZSBhcyBtLHdhdGNoIGFzIGYsc3luY0FuZEluaXRpYWwgYXMgeSxzeW5jIGFzIF99ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGd9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBGfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHh9ZnJvbVwiLi4vLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2ltcG9ydHtpc0hvc3RlZEFnb2xTZXJ2aWNlIGFzIHZ9ZnJvbVwiLi4vLi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHtnZXRFZmZlY3RpdmVMYXllckNhcGFiaWxpdGllcyBhcyBEfWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0R2VvbWV0cnkgYXMgYn1mcm9tXCIuLi8uLi8uLi9wb3J0YWwvc3VwcG9ydC9nZW9tZXRyeVNlcnZpY2VVdGlscy5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9TdGF0aXN0aWNEZWZpbml0aW9uLmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlRmV0Y2hlcjNEIGFzIFN9ZnJvbVwiLi4vLi4vLi4vdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZVRpbGVGZXRjaGVyM0QuanNcIjtpbXBvcnR7RmVhdHVyZVRpbGVGZXRjaGVyM0REZWJ1Z2dlciBhcyBDfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNERGVidWdnZXIuanNcIjtpbXBvcnR7ZGVidWdGbGFncyBhcyBFfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzNkL3N1cHBvcnQvZGVidWdGbGFncy5qc1wiO2xldCBUPWNsYXNzIGV4dGVuZHMoaCh0KSl7c2V0IGV4dGVudChlKXtpZihudWxsIT1lJiYhZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyh0aGlzLmxheWVyVmlldy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB2b2lkIG8uZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI2V4dGVudD1cIixcImV4dGVudCBuZWVkcyB0byBiZSBpbiB0aGUgc2FtZSBzcGF0aWFsIHJlZmVyZW5jZSBhcyB0aGUgdmlld1wiKTtjb25zdCB0PXRoaXMuX2dldChcImV4dGVudFwiKTtpZih0PT09ZSlyZXR1cm47aWYobnVsbCE9dCYmZSYmdC5lcXVhbHMoZSkpcmV0dXJuO2NvbnN0IGk9bnVsbCE9ZT9lLmNsb25lKCk6bnVsbDt0aGlzLl9zZXQoXCJleHRlbnRcIixpKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hIShudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmdGhpcy5fdGlsZUZldGNoZXIudXBkYXRpbmd8fG51bGwhPXRoaXMuX2ZldGNoRGF0YUluZm9Qcm9taXNlfHxcInRpbGVzXCI9PT10aGlzLm1vZGUmJnRoaXMubGF5ZXJWaWV3LnZpZXcuZmVhdHVyZVRpbGVzJiZ0aGlzLmxheWVyVmlldy52aWV3LmZlYXR1cmVUaWxlcy51cGRhdGluZ3x8dGhpcy5fdXBkYXRpbmdIYW5kbGVzJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMudXBkYXRpbmcpfWdldCB1cGRhdGluZ1RvdGFsKCl7cmV0dXJuIHRoaXMudXBkYXRpbmcmJm51bGwhPXRoaXMuX3RpbGVGZXRjaGVyP3RoaXMuX3RpbGVGZXRjaGVyLnVwZGF0aW5nVG90YWw6MH1nZXQgdXBkYXRpbmdSZW1haW5pbmcoKXtyZXR1cm4gdGhpcy51cGRhdGluZyYmbnVsbCE9dGhpcy5fdGlsZUZldGNoZXI/dGhpcy5fdGlsZUZldGNoZXIudXBkYXRpbmdSZW1haW5pbmc6MH1nZXQgZXhwZWN0ZWRGZWF0dXJlRGlmZigpe3JldHVybiB0aGlzLnVwZGF0aW5nJiZudWxsIT10aGlzLl90aWxlRmV0Y2hlcj90aGlzLl90aWxlRmV0Y2hlci5leHBlY3RlZEZlYXR1cmVEaWZmOjB9Z2V0IG1lbW9yeUZvclVudXNlZEZlYXR1cmVzKCl7cmV0dXJuIG51bGwhPXRoaXMuX3RpbGVGZXRjaGVyP3RoaXMuX3RpbGVGZXRjaGVyLm1lbW9yeUZvclVudXNlZEZlYXR1cmVzOjB9Z2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQoKXtyZXR1cm4hKG51bGw9PXRoaXMuX3RpbGVGZXRjaGVyfHwhdGhpcy5fdGlsZUZldGNoZXIubWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCl9Z2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuZGlzcGxheUZlYXR1cmVMaW1pdD8ubWF4aW11bU51bWJlck9mRmVhdHVyZXM/PzB9c2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzKGUpe2UhPT10aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzJiZ0aGlzLl9vdmVycmlkZUlmU29tZShcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIsZSl9Z2V0IGhhc01heGltdW1OdW1iZXJPZkZlYXR1cmVzT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5faXNPdmVycmlkZGVuKFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIil9Z2V0IG1vZGUoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LmxheWVyO2lmKFwiZmVhdHVyZVwiPT09ZS50eXBlJiZudWxsIT1lLmluZm9Gb3IzRClyZXR1cm5cInNuYXBzaG90XCI7aWYodGhpcy5fZm9yY2VUaWxlc01vZGUpcmV0dXJuXCJ0aWxlc1wiO2NvbnN0IHQ9dGhpcy5sYXllclZpZXcudmlldztpZighMT09PXQucXVhbGl0eVNldHRpbmdzPy5ncmFwaGljczNEPy5zbmFwc2hvdEF2YWlsYWJsZXx8dGhpcy5zZXJ2aWNlRGF0YUNvdW50PT09ai5ub1NlcnZpY2VEYXRhQ291bnR8fHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZHx8dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkfHx0LnF1YWxpdHk8MSlyZXR1cm5cInRpbGVzXCI7Y29uc3QgaT10JiZ0LmZlYXR1cmVUaWxlcyxyPWkmJmkudGlsaW5nU2NoZW1lO2lmKGUmJmUubWluU2NhbGUmJnRoaXMuc2VydmljZURhdGFFeHRlbnQmJnIpe2NvbnN0IHQ9dGhpcy5fYXBwcm94aW1hdGVFeHRlbnRTaXplQXRTY2FsZShlLm1pblNjYWxlLHIpO2lmKCh0aGlzLnNlcnZpY2VEYXRhRXh0ZW50LndpZHRoL3QrdGhpcy5zZXJ2aWNlRGF0YUV4dGVudC5oZWlnaHQvdCkvMj5qLm1heFNuYXBzaG90TWluU2NhbGVGYWN0b3IpcmV0dXJuXCJ0aWxlc1wifXJldHVybiF0aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzfHx0aGlzLnNlcnZpY2VEYXRhQ291bnQ8PXRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXM/XCJzbmFwc2hvdFwiOlwidGlsZXNcIn1nZXQgbWF4VG90YWxTbmFwc2hvdFZlcnRpY2VzKCl7Y29uc3QgZT10aGlzLl9nZXQoXCJtYXhUb3RhbFNuYXBzaG90VmVydGljZXNcIil8fDAsdD1cInNuYXBzaG90XCI9PT10aGlzLm1vZGUmJnRoaXMuX3RpbGVGZXRjaGVyPy50b3RhbFZlcnRpY2VzfHwwO3JldHVybiBNYXRoLm1heChlLHQpfV9hcHByb3hpbWF0ZUV4dGVudFNpemVBdFNjYWxlKGUsdCl7Y29uc3QgaT10aGlzLmxheWVyVmlldy52aWV3LHI9TWF0aC5jZWlsKChpLndpZHRoL3QucGl4ZWxTaXplK2kuaGVpZ2h0L3QucGl4ZWxTaXplKS8yKSxzPXQubGV2ZWxzWzBdO3JldHVybiByKigocy50aWxlU2l6ZVswXS8ocy5zY2FsZS9lKStzLnRpbGVTaXplWzFdLyhzLnNjYWxlL2UpKS8yKX1nZXQgdGlsZURlc2NyaXB0b3JzKCl7cmV0dXJuXCJzbmFwc2hvdFwiPT09dGhpcy5tb2RlP25ldyByKFt7aWQ6XCJkdW1teS10aWxlLWZ1bGwtZXh0ZW50XCIsbGlqOlswLDAsMF19XSk6dGhpcy5sYXllclZpZXcudmlldy5mZWF0dXJlVGlsZXM/dGhpcy5sYXllclZpZXcudmlldy5mZWF0dXJlVGlsZXMudGlsZXM6bmV3IHJ9Z2V0IHRlc3QoKXtyZXR1cm57ZmV0Y2hEYXRhSW5mb1Byb21pc2U6dGhpcy5fZmV0Y2hEYXRhSW5mb1Byb21pc2UsdGlsZUZldGNoZXI6dGhpcy5fdGlsZUZldGNoZXJ9fWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImZlYXR1cmUtdGlsZS0zZFwiLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgeCx0aGlzLnNlcnZpY2VEYXRhRXh0ZW50PW51bGwsdGhpcy5zZXJ2aWNlRGF0YUNvdW50PWoubm9TZXJ2aWNlRGF0YUNvdW50LHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMSx0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQ9bnVsbCx0aGlzLl9mb3JjZVRpbGVzTW9kZT0hMSx0aGlzLl9zdXNwZW5kZWQ9ITEsdGhpcy5fdGlsZUZldGNoZXI9bnVsbCx0aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZT1udWxsLHRoaXMuX2ZldGNoRGF0YUluZm9BYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcn1pbml0aWFsaXplKCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuZGlzcGxheUZlYXR1cmVMaW1pdCksKGU9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3VwZGF0ZVNuYXBzaG90TGltaXQoZSxudWxsLHRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlci5zaWduYWwpKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLm1vZGUpLCgoKT0+dGhpcy5fbW9kZUNoYW5nZWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubW9kZSksKChlLHQpPT57XCJ0aWxlc1wiPT09ZSYmXCJzbmFwc2hvdFwiPT09dCYmKHRoaXMuX2ZvcmNlVGlsZXNNb2RlPSEwKX0pLHApLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlc29sdmUoKS50aGVuKCgoKT0+dGhpcy5fdmVyaWZ5Q2FwYWJpbGl0aWVzKCkpKS50aGVuKCgoKT0+dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fZmV0Y2hTZXJ2aWNlRGF0YUluZm8oKSkpKS50aGVuKCgoKT0+dGhpcy5faW5pdGlhbGl6ZVRpbGVGZXRjaGVyKCkpKSl9X3ZlcmlmeUNhcGFiaWxpdGllcygpe2NvbnN0IGU9dGhpcy5sYXllclZpZXcubGF5ZXI7aWYoXCJvZ2MtZmVhdHVyZVwiIT09ZS50eXBlJiYhRChlKT8ub3BlcmF0aW9ucy5zdXBwb3J0c1F1ZXJ5KXRocm93IG5ldyBzKFwiZ3JhcGhpY3Njb250cm9sbGVyOnF1ZXJ5LWNhcGFiaWxpdHktcmVxdWlyZWRcIixcIlNlcnZpY2UgcmVxdWlyZXMgcXVlcnkgY2FwYWJpbGl0aWVzIHRvIGJlIHVzZWQgYXMgYSBmZWF0dXJlIGxheWVyXCIse2xheWVyOmV9KX1kZXN0cm95KCl7dGhpcy5fY2FuY2VsRmV0Y2hTZXJ2aWNlRGF0YUluZm8oKSx0aGlzLl90aWxlRmV0Y2hlcj1sKHRoaXMuX3RpbGVGZXRjaGVyKSx0aGlzLl90aWxlc0hhbmRsZT1uKHRoaXMuX3RpbGVzSGFuZGxlKSx0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXI9dSh0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCksdGhpcy5fc2V0KFwiX3VwZGF0aW5nSGFuZGxlc1wiLG51bGwpfXN1c3BlbmQoKXt0aGlzLl9zdXNwZW5kZWR8fCh0aGlzLl9zdXNwZW5kZWQ9ITAsbnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJnRoaXMuX3RpbGVGZXRjaGVyLnN1c3BlbmQoKSl9cmVzdW1lKCl7dGhpcy5fc3VzcGVuZGVkJiYodGhpcy5fc3VzcGVuZGVkPSExLG51bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiZ0aGlzLl90aWxlRmV0Y2hlci5yZXN1bWUoKSl9cmVzdGFydCgpe2NvbnN0IGU9KCk9PntudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmdGhpcy5fdGlsZUZldGNoZXIucmVzdGFydCgpfTt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9mZXRjaFNlcnZpY2VEYXRhSW5mbygpLnRoZW4oZSxlKSl9cmVmZXRjaCgpe3RoaXMuX3JlZmV0Y2goe3Jlc2V0Rm9yY2VUaWxlc01vZGU6ITF9KX1fcmVmZXRjaChlKXtjb25zdCB0PSgpPT57bnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJihlLnJlc2V0Rm9yY2VUaWxlc01vZGUmJih0aGlzLl9mb3JjZVRpbGVzTW9kZT0hMSksdGhpcy5fdGlsZUZldGNoZXIucmVmZXRjaCgpKX07dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fZmV0Y2hTZXJ2aWNlRGF0YUluZm8oKS50aGVuKHQsdCkpfV9pbml0aWFsaXplVGlsZUZldGNoZXIoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LnZpZXc7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9bSgoKCk9PmUuZmVhdHVyZVRpbGVzPy50aWxpbmdTY2hlbWUpLHRoaXMuX2xpZmVDeWNsZUFib3J0Q29udHJvbGxlci5zaWduYWwpO3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHQpLHQudGhlbigoKCk9Pntjb25zdHtsYXllclZpZXc6ZSx0aWxlRGVzY3JpcHRvcnM6dH09dGhpcyxpPWUubGF5ZXIscj1uZXcgUyh7Y29udGV4dDp0aGlzLmNvbnRleHQsZmlsdGVyRXh0ZW50OnRoaXMuZXh0ZW50LHRpbGVEZXNjcmlwdG9yczp0LGZlYXR1cmVzOnRoaXMuZ3JhcGhpY3N9KTt0aGlzLl90aWxlRmV0Y2hlcj1yLHRoaXMuX3N1c3BlbmRlZD90aGlzLl90aWxlRmV0Y2hlci5zdXNwZW5kKCk6dGhpcy5fdGlsZUZldGNoZXIucmVzdW1lKCk7Y29uc3Qgcz10aGlzLmxheWVyVmlldy52aWV3O3MmJnRoaXMuYWRkSGFuZGxlcyhmKCgoKT0+cy5xdWFsaXR5KSwoZT0+ci5tZW1vcnlGYWN0b3I9ZSkseSkpO2NvbnN0IGE9XCJwb2x5Z29uXCI9PT10aGlzLmNvbnRleHQuZ2VvbWV0cnlUeXBlP1wicG9seWdvbkxvZEZhY3RvclwiOlwicG9seWxpbmVcIj09PXRoaXMuY29udGV4dC5nZW9tZXRyeVR5cGU/XCJwb2x5bGluZUxvZEZhY3RvclwiOm51bGw7YSYmdGhpcy5hZGRIYW5kbGVzKGYoKCgpPT50aGlzLmxheWVyVmlldy52aWV3Py5xdWFsaXR5U2V0dGluZ3M/LmdyYXBoaWNzM0Q/LlthXSksKGU9PnIubG9kRmFjdG9yPWV8fDEpLHApKTtjb25zdCBvPWU9PntyLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzPWUsci51c2VUaWxlQ291bnQ9dGhpcy5zZXJ2aWNlRGF0YUNvdW50PmV9LGw9ZT0+e3IudXNlVGlsZUNvdW50PWU+dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc307XCJvZ2MtZmVhdHVyZVwiIT09aS50eXBlJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+aS5jcmVhdGVRdWVyeVZlcnNpb24pLCgoKT0+dGhpcy5fZGF0YUZpbHRlckNoYW5nZWQoKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLmF2YWlsYWJsZUZpZWxkcyksKChlLHQpPT50aGlzLl9hdmFpbGFibGVGaWVsZHNDaGFuZ2VkKHQsZSkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS5yZXF1aXJlZEZpZWxkcyksKChlLHQpPT50aGlzLl9yZXF1aXJlZEZpZWxkc0NoYW5nZWQodCxlKSkpLHRoaXMuYWRkSGFuZGxlcyhbaS5vbihcImFwcGx5LWVkaXRzXCIsKGU9PnRoaXMuX2FwcGx5RWRpdHMoZSkpKSxmKCgoKT0+dGhpcy5leHRlbnQpLChlPT5yLmZpbHRlckV4dGVudD1lKSxfKSxmKCgoKT0+dGhpcy50aWxlRGVzY3JpcHRvcnMpLChlPT5yLnRpbGVEZXNjcmlwdG9ycz1lKSxfKSxmKCgoKT0+dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyksbyx5KSxmKCgoKT0+dGhpcy5zZXJ2aWNlRGF0YUNvdW50KSxsLHkpLGYoKCgpPT5FLkZFQVRVUkVfVElMRV9GRVRDSF9TSE9XX1RJTEVTKSwoZT0+e2UmJnImJiFyLmRlYnVnZ2VyPyhyLmRlYnVnZ2VyPW5ldyBDKHIscy5mZWF0dXJlVGlsZXMudGlsaW5nU2NoZW1lLnRvVGlsZUluZm8oKSxzKSxyLmRlYnVnZ2VyLnVwZGF0ZSgpKTohZSYmdGhpcy5fdGlsZUZldGNoZXImJnIuZGVidWdnZXImJihyLmRlYnVnZ2VyLmRlc3Ryb3koKSxyLmRlYnVnZ2VyPW51bGwpfSkseSldKSx0aGlzLl9zdXBwb3J0c0V4Y2VlZHNMaW1pdFF1ZXJ5fHx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5tYXhUb3RhbFNuYXBzaG90VmVydGljZXMpLCgoKT0+dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlU25hcHNob3RMaW1pdCh0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQsbnVsbCx0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIuc2lnbmFsKSkpKX0pKS5jYXRjaCgoKCk9Pnt9KSl9X21vZGVDaGFuZ2VkKCl7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZVwidGlsZXNcIjp0aGlzLl90aWxlc0hhbmRsZXx8KHRoaXMuX3RpbGVzSGFuZGxlPXRoaXMubGF5ZXJWaWV3LnZpZXcuZmVhdHVyZVRpbGVzLmFkZENsaWVudCgpKTticmVhaztkZWZhdWx0Om8uZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJVbmhhbmRsZWQgZmVhdHVyZSBsYXllciBtb2RlIFwiK3RoaXMubW9kZSk7Y2FzZVwic25hcHNob3RcIjpudWxsIT10aGlzLl90aWxlc0hhbmRsZSYmKHRoaXMuX3RpbGVzSGFuZGxlLnJlbW92ZSgpLHRoaXMuX3RpbGVzSGFuZGxlPW51bGwpfX1fZGF0YUZpbHRlckNoYW5nZWQoKXt0aGlzLl9zZXQoXCJtYXhUb3RhbFNuYXBzaG90VmVydGljZXNcIiwwKSx0aGlzLm5vdGlmeUNoYW5nZShcIm1heFRvdGFsU25hcHNob3RWZXJ0aWNlc1wiKSx0aGlzLl9yZWZldGNoKHtyZXNldEZvcmNlVGlsZXNNb2RlOiEwfSl9X2FwcGx5RWRpdHMoZSl7bnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJnRoaXMuX3RpbGVGZXRjaGVyLmFwcGx5RWRpdHMoZSkudGhlbigoZT0+e2lmKGUpe2lmKCF0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIpdGhyb3cgYygpO2UuZXhjZWVkZWRUcmFuc2ZlckxpbWl0P3RoaXMubGF5ZXJWaWV3LmxheWVyLnJlZnJlc2goKTooZS5kZWxldGVkRmVhdHVyZXMubGVuZ3RofHxlLnVwZGF0ZWRGZWF0dXJlcy5sZW5ndGh8fGUuYWRkZWRGZWF0dXJlcy5sZW5ndGgpJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl91cGRhdGVTZXJ2aWNlRGF0YUV4dGVudCh0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIuc2lnbmFsKSl9fSkpLmNhdGNoKChlPT57aWYoIWQoZSkpdGhyb3cgZX0pKX1fYXZhaWxhYmxlRmllbGRzQ2hhbmdlZChlLHQpe251bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiZxKHRoaXMuX3RpbGVGZXRjaGVyLmF2YWlsYWJsZUZpZWxkcyx0KSYmdGhpcy5fcmVmZXRjaCh7cmVzZXRGb3JjZVRpbGVzTW9kZTohMX0pfV9yZXF1aXJlZEZpZWxkc0NoYW5nZWQoZSx0KXtudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmcSh0aGlzLl90aWxlRmV0Y2hlci5hdmFpbGFibGVGaWVsZHMsdCkmJnRoaXMucmVzdGFydCgpfV9jcmVhdGVWZXJ0ZXhMaW1pdEV4Y2VlZGVkUXVlcnkoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldy5sYXllcixpPXQuY3JlYXRlUXVlcnkoKTtyZXR1cm4gaS5yZXR1cm5HZW9tZXRyeT0hMSxpLm91dFN0YXRpc3RpY3M9W25ldyB3KHtzdGF0aXN0aWNUeXBlOlwiZXhjZWVkc2xpbWl0XCIsbWF4VmVydGV4Q291bnQ6ZSxvdXRTdGF0aXN0aWNGaWVsZE5hbWU6XCJleGNlZWRzbGltaXRcIixtYXhQb2ludENvdW50OjFlOCxtYXhSZWNvcmRDb3VudDoxZTh9KV0sdC5jYXBhYmlsaXRpZXM/LnF1ZXJ5LnN1cHBvcnRzQ2FjaGVIaW50JiYoaS5jYWNoZUhpbnQ9ITApLGl9X2NyZWF0ZURhdGFJbmZvUXVlcnkoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LmxheWVyLHQ9ZS5jcmVhdGVRdWVyeSgpO3JldHVybiB0LnJldHVybkdlb21ldHJ5PSExLHQub3V0U3BhdGlhbFJlZmVyZW5jZT10aGlzLmxheWVyVmlldy52aWV3LnNwYXRpYWxSZWZlcmVuY2UsZS5jYXBhYmlsaXRpZXM/LnF1ZXJ5LnN1cHBvcnRzQ2FjaGVIaW50JiYodC5jYWNoZUhpbnQ9ITApLHR9X2Z1bGxFeHRlbnRJc0FjY3VyYXRlKCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5sYXllcjtpZihlLmRlZmluaXRpb25FeHByZXNzaW9uKXJldHVybiExO3N3aXRjaChlLnR5cGUpe2Nhc2VcImZlYXR1cmVcIjpjYXNlXCJvcmllbnRlZC1pbWFnZXJ5XCI6cmV0dXJuIHYoZS51cmwpO2Nhc2VcImNzdlwiOmNhc2VcImdlb2pzb25cIjpjYXNlXCJvZ2MtZmVhdHVyZVwiOmNhc2VcIndmc1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJufX1hc3luYyBfdXBkYXRlU2VydmljZURhdGFFeHRlbnQoZSl7dHJ5e2F3YWl0IHRoaXMuX3RyeVVwZGF0ZVNlcnZpY2VEYXRhRXh0ZW50KGUpfWNhdGNoKHQpe2QodCl8fHRoaXMuX3NldChcInNlcnZpY2VEYXRhRXh0ZW50XCIsYSh0aGlzLmxheWVyVmlldy5mdWxsRXh0ZW50SW5Mb2NhbFZpZXdTcGF0aWFsUmVmZXJlbmNlKSl9fWFzeW5jIF90cnlVcGRhdGVTZXJ2aWNlRGF0YUV4dGVudChlKXtjb25zdCB0PXRoaXMubGF5ZXJWaWV3LGk9dC5sYXllcixyPWkuY2FwYWJpbGl0aWVzPy5xdWVyeS5zdXBwb3J0c0V4dGVudD8/ITEscz1hKHQuZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZSksbz1pLmZ1bGxFeHRlbnQsbD10aGlzLl9mdWxsRXh0ZW50SXNBY2N1cmF0ZSgpLG49dGhpcy5zZXJ2aWNlRGF0YUNvdW50O2lmKHImJm48PWoubWF4RmVhdHVyZUNvdW50Rm9yRXh0ZW50JiYoIXN8fCFsKSYmXCJxdWVyeUV4dGVudFwiaW4gaSl7Y29uc3QgdD10aGlzLl9jcmVhdGVEYXRhSW5mb1F1ZXJ5KCkscj1hd2FpdCBpLnF1ZXJ5RXh0ZW50KHQse3RpbWVvdXQ6ai5xdWVyeUV4dGVudFRpbWVvdXQsc2lnbmFsOmV9KTt0aGlzLl9zZXQoXCJzZXJ2aWNlRGF0YUV4dGVudFwiLHIuZXh0ZW50KX1lbHNlIGlmKHMpdGhpcy5fc2V0KFwic2VydmljZURhdGFFeHRlbnRcIixzKTtlbHNlIGlmKG51bGwhPW8pe2NvbnN0IHI9XCJwb3J0YWxJdGVtXCJpbiBpP2kucG9ydGFsSXRlbTpudWxsLHM9YXdhaXQgYihvLHQudmlldy5zcGF0aWFsUmVmZXJlbmNlLHIsZSk7dGhpcy5fc2V0KFwic2VydmljZURhdGFFeHRlbnRcIixzKX1lbHNlIHRoaXMuX3NldChcInNlcnZpY2VEYXRhRXh0ZW50XCIsbnVsbCl9YXN5bmMgX3VwZGF0ZVNlcnZpY2VEYXRhQ291bnQoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldy5sYXllcjtpZighKFwicXVlcnlGZWF0dXJlQ291bnRcImluIHQpfHwhaGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LWVuYWJsZWRcIikpcmV0dXJuIHZvaWQgdGhpcy5fc2V0KFwic2VydmljZURhdGFDb3VudFwiLGoubm9TZXJ2aWNlRGF0YUNvdW50KTtjb25zdCByPWF3YWl0IGkodC5xdWVyeUZlYXR1cmVDb3VudCh0aGlzLl9jcmVhdGVEYXRhSW5mb1F1ZXJ5KCkse3RpbWVvdXQ6ai5xdWVyeVN0YXRpc3RpY3NUaW1lb3V0LHNpZ25hbDplfSkpO2lmKCEwPT09ci5vayl0aGlzLl9zZXQoXCJzZXJ2aWNlRGF0YUNvdW50XCIsci52YWx1ZSk7ZWxzZXtpZihkKHIuZXJyb3IpKXRocm93IHIuZXJyb3I7dGhpcy5fc2V0KFwic2VydmljZURhdGFDb3VudFwiLGoubm9TZXJ2aWNlRGF0YUNvdW50KX19Z2V0IF9zdXBwb3J0c0V4Y2VlZHNMaW1pdFF1ZXJ5KCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5sYXllcjtyZXR1cm4gbnVsbCE9ZS5jYXBhYmlsaXRpZXMmJmUuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMmJmUuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNFeGNlZWRzTGltaXRTdGF0aXN0aWNzfWdldCBfbWluaW11bU51bWJlck9mVmVydGljZXNGb3JHZW9tZXRyeSgpe3N3aXRjaCh0aGlzLmxheWVyVmlldy5sYXllci5nZW9tZXRyeVR5cGUpe2Nhc2VcInBvaW50XCI6Y2FzZVwibXVsdGlwb2ludFwiOnJldHVybiAxO2Nhc2VcInBvbHlnb25cIjpyZXR1cm4gNDtjYXNlXCJwb2x5bGluZVwiOnJldHVybiAyO2Nhc2VcIm11bHRpcGF0Y2hcIjpjYXNlXCJtZXNoXCI6cmV0dXJuIDM7ZGVmYXVsdDpyZXR1cm4gMH19YXN5bmMgX3VwZGF0ZVNuYXBzaG90TGltaXQoZSx0LHIpe2lmKG51bGw9PWU/LmF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5KXJldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMSk7Y29uc3R7bWF4aW11bVRvdGFsTnVtYmVyT2ZWZXJ0aWNlczpzLGF2ZXJhZ2VTeW1ib2xDb21wbGV4aXR5OmF9PWUse3ZlcnRpY2VzUGVyRmVhdHVyZTpvLHZlcnRpY2VzUGVyQ29vcmRpbmF0ZTpsfT1hLG49bzw9MCx1PXRoaXMuX21pbmltdW1OdW1iZXJPZlZlcnRpY2VzRm9yR2VvbWV0cnk+MTtpZighbiYmIXUpcmV0dXJuIHZvaWQodGhpcy5fc25hcHNob3RMaW1pdEV4Y2VlZGVkPSExKTswIT09byYmbnVsbCE9dCYmYXdhaXQgdDtjb25zdCBoPU1hdGgubWluKHMsSCksYz10aGlzLnNlcnZpY2VEYXRhQ291bnQscD1jIT09ai5ub1NlcnZpY2VEYXRhQ291bnQ7bGV0IG09cD9NYXRoLmNlaWwoKGgtYypvKS8obHx8MSkpOk1hdGguY2VpbChoLyhsfHwxKSk7aWYodSYmKG09TWF0aC5taW4obSxPKSkscCYmdGhpcy5fbWluaW11bU51bWJlck9mVmVydGljZXNGb3JHZW9tZXRyeSpjPm0pcmV0dXJuIHZvaWQodGhpcy5fc25hcHNob3RMaW1pdEV4Y2VlZGVkPSEwKTtpZighdGhpcy5fc3VwcG9ydHNFeGNlZWRzTGltaXRRdWVyeXx8IWhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1lbmFibGVkXCIpKXJldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD10aGlzLm1heFRvdGFsU25hcHNob3RWZXJ0aWNlcz5tKTtjb25zdCBmPWF3YWl0IGkodGhpcy5sYXllclZpZXcubGF5ZXIucXVlcnlGZWF0dXJlcyh0aGlzLl9jcmVhdGVWZXJ0ZXhMaW1pdEV4Y2VlZGVkUXVlcnkobSkse3RpbWVvdXQ6ai5xdWVyeVN0YXRpc3RpY3NUaW1lb3V0LHNpZ25hbDpyfSkpO2lmKCExPT09Zi5vayl7aWYoZChmLmVycm9yKSl0aHJvdyBmLmVycm9yO3JldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMSl9Y29uc3QgeT1mLnZhbHVlLmZlYXR1cmVzWzBdO3RoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hIXk/LmF0dHJpYnV0ZXMmJiEheS5hdHRyaWJ1dGVzLmV4Y2VlZHNsaW1pdH1hc3luYyBfZmV0Y2hTZXJ2aWNlRGF0YUluZm8oKXt0aGlzLl9jYW5jZWxGZXRjaFNlcnZpY2VEYXRhSW5mbygpO2xldCBlPW5ldyBBYm9ydENvbnRyb2xsZXI7Y29uc3QgdD1lLnNpZ25hbCxpPXRoaXMuX3VwZGF0ZVNlcnZpY2VEYXRhQ291bnQodCkscj1Qcm9taXNlLmFsbFNldHRsZWQoW2ksdGhpcy5fdXBkYXRlU25hcHNob3RMaW1pdCh0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQsaSx0KV0pLHM9ci50aGVuKCgoKT0+dGhpcy5fdXBkYXRlU2VydmljZURhdGFFeHRlbnQodCkpKS5jYXRjaCgoZT0+e2QoZSl8fG8uZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI2ZldGNoU2VydmljZURhdGFJbmZvKClcIixlKX0pKS50aGVuKCgoKT0+e3M9PT10aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZSYmKHRoaXMuX2ZldGNoRGF0YUluZm9Qcm9taXNlPW51bGwsdGhpcy5fZmV0Y2hEYXRhSW5mb0Fib3J0Q29udHJvbGxlcj1udWxsKSxlPW51bGx9KSk7cmV0dXJuIGUmJih0aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZT1zKSx0aGlzLl9mZXRjaERhdGFJbmZvQWJvcnRDb250cm9sbGVyPWUsci50aGVuKCgoKT0+e30pLCgoKT0+e30pKX1fY2FuY2VsRmV0Y2hTZXJ2aWNlRGF0YUluZm8oKXtjb25zdCBlPXRoaXMuX2ZldGNoRGF0YUluZm9BYm9ydENvbnRyb2xsZXI7ZSYmKHRoaXMuX2ZldGNoRGF0YUluZm9BYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZT1udWxsLGUuYWJvcnQoKSl9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybntzdG9yZWRGZWF0dXJlczp0aGlzLl90aWxlRmV0Y2hlcj8uc3RvcmVkRmVhdHVyZXM/PzAsdG90YWxGZWF0dXJlczp0aGlzLl90aWxlRmV0Y2hlcj8udG90YWxGZWF0dXJlcz8/MCx0b3RhbFZlcnRpY2VzOnRoaXMuX3RpbGVGZXRjaGVyPy50b3RhbFZlcnRpY2VzPz8wLG1pc3NpbmdUaWxlczp0aGlzLl90aWxlRmV0Y2hlcj8ubWlzc2luZ1RpbGVzPz8wfX19O2UoW2coe3JlYWRPbmx5OiEwfSldLFQucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbZyh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcImdyYXBoaWNzXCIsdm9pZCAwKSxlKFtnKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFQucHJvdG90eXBlLFwibGF5ZXJWaWV3XCIsdm9pZCAwKSxlKFtnKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFQucHJvdG90eXBlLFwiY29udGV4dFwiLHZvaWQgMCksZShbZygpXSxULnByb3RvdHlwZSxcImV4dGVudFwiLG51bGwpLGUoW2coKV0sVC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2coe3JlYWRPbmx5OiEwfSldLFQucHJvdG90eXBlLFwiX3VwZGF0aW5nSGFuZGxlc1wiLHZvaWQgMCksZShbZygpXSxULnByb3RvdHlwZSxcInVwZGF0aW5nVG90YWxcIixudWxsKSxlKFtnKCldLFQucHJvdG90eXBlLFwidXBkYXRpbmdSZW1haW5pbmdcIixudWxsKSxlKFtnKCldLFQucHJvdG90eXBlLFwiZXhwZWN0ZWRGZWF0dXJlRGlmZlwiLG51bGwpLGUoW2coKV0sVC5wcm90b3R5cGUsXCJtZW1vcnlGb3JVbnVzZWRGZWF0dXJlc1wiLG51bGwpLGUoW2coKV0sVC5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkXCIsbnVsbCksZShbZyh7cmVhZE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJzZXJ2aWNlRGF0YUV4dGVudFwiLHZvaWQgMCksZShbZyh7cmVhZE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJzZXJ2aWNlRGF0YUNvdW50XCIsdm9pZCAwKSxlKFtnKCldLFQucHJvdG90eXBlLFwiX3NuYXBzaG90TGltaXRFeGNlZWRlZFwiLHZvaWQgMCksZShbZygpXSxULnByb3RvdHlwZSxcImRpc3BsYXlGZWF0dXJlTGltaXRcIix2b2lkIDApLGUoW2coe3R5cGU6TnVtYmVyfSldLFQucHJvdG90eXBlLFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIixudWxsKSxlKFtnKCldLFQucHJvdG90eXBlLFwiX2ZvcmNlVGlsZXNNb2RlXCIsdm9pZCAwKSxlKFtnKHtyZWFkT25seTohMH0pXSxULnByb3RvdHlwZSxcIm1vZGVcIixudWxsKSxlKFtnKHtyZWFkT25seTohMH0pXSxULnByb3RvdHlwZSxcIm1heFRvdGFsU25hcHNob3RWZXJ0aWNlc1wiLG51bGwpLGUoW2coe3JlYWRPbmx5OiEwfSldLFQucHJvdG90eXBlLFwidGlsZURlc2NyaXB0b3JzXCIsbnVsbCksZShbZygpXSxULnByb3RvdHlwZSxcIl90aWxlRmV0Y2hlclwiLHZvaWQgMCksZShbZygpXSxULnByb3RvdHlwZSxcIl9mZXRjaERhdGFJbmZvUHJvbWlzZVwiLHZvaWQgMCksVD1lKFtGKFwiZXNyaS5sYXllcnMuZ3JhcGhpY3MuY29udHJvbGxlcnMuRmVhdHVyZVRpbGVDb250cm9sbGVyM0RcIildLFQpO2NvbnN0IFY9MWU0LEg9MWU2LEw9MTJlMyxJPTFlNCxPPTVlNjtmdW5jdGlvbiBxKGUsdCl7aWYoIXQpcmV0dXJuITE7Zm9yKGNvbnN0IGkgb2YgdClpZighZS5oYXMoaSkpcmV0dXJuITA7cmV0dXJuITF9dmFyIGo7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtlLm1heEZlYXR1cmVDb3VudEZvckV4dGVudD1WLGUucXVlcnlTdGF0aXN0aWNzVGltZW91dD1MLGUucXVlcnlFeHRlbnRUaW1lb3V0PUl9ZS5ub1NlcnZpY2VEYXRhQ291bnQ9MS8wLGUubWF4U25hcHNob3RNaW5TY2FsZUZhY3Rvcj01LGUucmVzZXQ9dH0oanx8KGo9e30pKSxqLnJlc2V0KCk7ZXhwb3J0e1QgYXMgRmVhdHVyZVRpbGVDb250cm9sbGVyM0QsaiBhcyBGZWF0dXJlVGlsZUNvbnRyb2xsZXIzRENvbnN0YW50c307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtjb25zdCBuPW8ubGF5ZXI7aWYoXCJmbG9vckluZm9cImluIG4mJm4uZmxvb3JJbmZvPy5mbG9vckZpZWxkJiZcImZsb29yc1wiaW4gby52aWV3KXtyZXR1cm4gbChvLnZpZXcuZmxvb3JzLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpfXJldHVybiBudWxsfWZ1bmN0aW9uIG4obyxuKXtyZXR1cm5cImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQ/bChvLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpOm51bGx9ZnVuY3Rpb24gbChvLG4pe2lmKCFvPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD1vLmZpbHRlcigobz0+XCJcIiE9PW8pKS5tYXAoKG89PmAnJHtvfSdgKSk7cmV0dXJuIGwucHVzaChcIicnXCIpLGAke259IElOICgke2wuam9pbihcIixcIil9KSBPUiAke259IElTIE5VTExgfWV4cG9ydHtvIGFzIGdldEZsb29yRmlsdGVyQ2xhdXNlLG4gYXMgZ2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdChuKXtjb25zdCBvPXt9O2Zvcihjb25zdCBlIGluIG4pe2lmKFwiZGVjbGFyZWRDbGFzc1wiPT09ZSljb250aW51ZTtjb25zdCByPW5bZV07aWYobnVsbCE9ciYmXCJmdW5jdGlvblwiIT10eXBlb2YgcilpZihBcnJheS5pc0FycmF5KHIpKXtvW2VdPVtdO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKW9bZV1bbl09dChyW25dKX1lbHNlXCJvYmplY3RcIj09dHlwZW9mIHI/ci50b0pTT04mJihvW2VdPUpTT04uc3RyaW5naWZ5KHIpKTpvW2VdPXJ9cmV0dXJuIG99ZXhwb3J0e3QgYXMgbWFwUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyBlLGpvaW4gYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlscy5qc1wiO2ltcG9ydHtzclRvUkVTVFZhbHVlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7bWFwUGFyYW1ldGVycyBhcyBvfWZyb21cIi4uLy4uL29wZXJhdGlvbnMvdXJsVXRpbHMuanNcIjtpbXBvcnR7cGFyc2VQQkZGZWF0dXJlUXVlcnkgYXMgdX1mcm9tXCIuL3BiZlF1ZXJ5VXRpbHMuanNcIjtpbXBvcnR7YXBwbHlGZWF0dXJlU2V0WlVuaXRTY2FsaW5nIGFzIGx9ZnJvbVwiLi9xdWVyeVpTY2FsZS5qc1wiO2NvbnN0IHM9XCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGV4dGVudCBjYWxjdWxhdGlvbi5cIjtmdW5jdGlvbiBtKHQsZSl7aWYoZSYmXCJleHRlbnRcIj09PXQudHlwZSlyZXR1cm5gJHt0LnhtaW59LCR7dC55bWlufSwke3QueG1heH0sJHt0LnltYXh9YDtpZihlJiZcInBvaW50XCI9PT10LnR5cGUpcmV0dXJuYCR7dC54fSwke3QueX1gO2NvbnN0IG49dC50b0pTT04oKTtyZXR1cm4gZGVsZXRlIG4uc3BhdGlhbFJlZmVyZW5jZSxKU09OLnN0cmluZ2lmeShuKX1mdW5jdGlvbiB5KHQsZSl7Y29uc3Qgbj10Lmdlb21ldHJ5LGk9dC50b0pTT04oKTtkZWxldGUgaS5jb21wYWN0R2VvbWV0cnlFbmFibGVkLGRlbGV0ZSBpLmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZDtjb25zdCBvPWk7bGV0IHUsbCxzO2lmKG51bGwhPW4mJihsPW4uc3BhdGlhbFJlZmVyZW5jZSxzPWEobCksby5nZW9tZXRyeVR5cGU9cihuKSxvLmdlb21ldHJ5PW0obix0LmNvbXBhY3RHZW9tZXRyeUVuYWJsZWQpLG8uaW5TUj1zKSxpLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzJiYoby5ncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljcz1pLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzLmpvaW4oXCIsXCIpKSxpLm9iamVjdElkcyYmKG8ub2JqZWN0SWRzPWkub2JqZWN0SWRzLmpvaW4oXCIsXCIpKSxpLm9yZGVyQnlGaWVsZHMmJihvLm9yZGVyQnlGaWVsZHM9aS5vcmRlckJ5RmllbGRzLmpvaW4oXCIsXCIpKSwhaS5vdXRGaWVsZHN8fCFpLnJldHVybkRpc3RpbmN0VmFsdWVzJiYoZT8ucmV0dXJuQ291bnRPbmx5fHxlPy5yZXR1cm5FeHRlbnRPbmx5fHxlPy5yZXR1cm5JZHNPbmx5KT9kZWxldGUgby5vdXRGaWVsZHM6aS5vdXRGaWVsZHMuaW5jbHVkZXMoXCIqXCIpP28ub3V0RmllbGRzPVwiKlwiOm8ub3V0RmllbGRzPWkub3V0RmllbGRzLmpvaW4oXCIsXCIpLGkub3V0U1I/KG8ub3V0U1I9YShpLm91dFNSKSx1PXQub3V0U3BhdGlhbFJlZmVyZW5jZSk6biYmKGkucmV0dXJuR2VvbWV0cnl8fGkucmV0dXJuQ2VudHJvaWQpJiYoby5vdXRTUj1vLmluU1IsdT1sKSxpLnJldHVybkdlb21ldHJ5JiZkZWxldGUgaS5yZXR1cm5HZW9tZXRyeSxpLm91dFN0YXRpc3RpY3MmJihvLm91dFN0YXRpc3RpY3M9SlNPTi5zdHJpbmdpZnkoaS5vdXRTdGF0aXN0aWNzKSksaS5mdWxsVGV4dCYmKG8uZnVsbFRleHQ9SlNPTi5zdHJpbmdpZnkoaS5mdWxsVGV4dCkpLGkucGl4ZWxTaXplJiYoby5waXhlbFNpemU9SlNPTi5zdHJpbmdpZnkoaS5waXhlbFNpemUpKSxpLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJih0LmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZCYmbnVsbCE9bCYmbnVsbCE9dC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPy5leHRlbnQmJmwuZXF1YWxzKHQucXVhbnRpemF0aW9uUGFyYW1ldGVycy5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZSkmJmRlbGV0ZSBpLnF1YW50aXphdGlvblBhcmFtZXRlcnMuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Usby5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPUpTT04uc3RyaW5naWZ5KGkucXVhbnRpemF0aW9uUGFyYW1ldGVycykpLGkucGFyYW1ldGVyVmFsdWVzJiYoby5wYXJhbWV0ZXJWYWx1ZXM9SlNPTi5zdHJpbmdpZnkoaS5wYXJhbWV0ZXJWYWx1ZXMpKSxpLnJhbmdlVmFsdWVzJiYoby5yYW5nZVZhbHVlcz1KU09OLnN0cmluZ2lmeShpLnJhbmdlVmFsdWVzKSksaS5keW5hbWljRGF0YVNvdXJjZSYmKG8ubGF5ZXI9SlNPTi5zdHJpbmdpZnkoe3NvdXJjZTppLmR5bmFtaWNEYXRhU291cmNlfSksZGVsZXRlIGkuZHluYW1pY0RhdGFTb3VyY2UpLGkudGltZUV4dGVudCl7Y29uc3QgdD1pLnRpbWVFeHRlbnQse3N0YXJ0OmUsZW5kOm59PXQ7bnVsbD09ZSYmbnVsbD09bnx8KG8udGltZT1lPT09bj9lOmAke2U/P1wibnVsbFwifSwke24/P1wibnVsbFwifWApLGRlbGV0ZSBpLnRpbWVFeHRlbnR9cmV0dXJuIHQuZGVmYXVsdFNwYXRpYWxSZWZlcmVuY2VFbmFibGVkJiZudWxsIT1sJiZudWxsIT11JiZsLmVxdWFscyh1KSYmKG8uZGVmYXVsdFNSPW8uaW5TUixkZWxldGUgby5pblNSLGRlbGV0ZSBvLm91dFNSKSxvfWFzeW5jIGZ1bmN0aW9uIGModCxlLG4scil7Y29uc3QgaT1udWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5P3tkYXRhOntmZWF0dXJlczpbXX19OmF3YWl0IEUodCxlLFwianNvblwiLHIpO3JldHVybiBsKGUsbixpLmRhdGEpLGl9YXN5bmMgZnVuY3Rpb24gZih0LGUsbixyKXtpZihudWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5KXJldHVybntkYXRhOm4uY3JlYXRlRmVhdHVyZVJlc3VsdCgpfTtjb25zdCBpPWF3YWl0IGQodCxlLHIpLGE9aTtyZXR1cm4gYS5kYXRhPXUoaS5kYXRhLG4pLGF9ZnVuY3Rpb24gZCh0LGUsbil7cmV0dXJuIEUodCxlLFwicGJmXCIsbil9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIG51bGwhPWUudGltZUV4dGVudCYmZS50aW1lRXh0ZW50LmlzRW1wdHk/UHJvbWlzZS5yZXNvbHZlKHtkYXRhOntvYmplY3RJZHM6W119fSk6RSh0LGUsXCJqc29uXCIsbix7cmV0dXJuSWRzT25seTohMH0pfWZ1bmN0aW9uIFModCxlLG4pe3JldHVybiBudWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5P1Byb21pc2UucmVzb2x2ZSh7ZGF0YTp7Y291bnQ6MH19KTpFKHQsZSxcImpzb25cIixuLHtyZXR1cm5JZHNPbmx5OiEwLHJldHVybkNvdW50T25seTohMH0pfWFzeW5jIGZ1bmN0aW9uIHgodCxlLG4pe2lmKG51bGwhPWUudGltZUV4dGVudCYmZS50aW1lRXh0ZW50LmlzRW1wdHkpcmV0dXJue2RhdGE6e2NvdW50OjAsZXh0ZW50Om51bGx9fTtjb25zdCByPWF3YWl0IEUodCxlLFwianNvblwiLG4se3JldHVybkV4dGVudE9ubHk6ITAscmV0dXJuQ291bnRPbmx5OiEwfSksaT1yLmRhdGE7aWYoaS5oYXNPd25Qcm9wZXJ0eShcImV4dGVudFwiKSlyZXR1cm4gcjtpZihpLmZlYXR1cmVzKXRocm93IG5ldyBFcnJvcihzKTtpZihpLmhhc093blByb3BlcnR5KFwiY291bnRcIikpdGhyb3cgbmV3IEVycm9yKHMpO3JldHVybiByfWFzeW5jIGZ1bmN0aW9uIEUocixhLHUsbD17fSxzPXt9KXtjb25zdCBtPVwic3RyaW5nXCI9PXR5cGVvZiByP2Uocik6cixjPWEuZ2VvbWV0cnk/W2EuZ2VvbWV0cnldOltdLGY9YXdhaXQgaShjLG51bGwse3NpZ25hbDpsLnNpZ25hbH0pLGQ9Zj8uWzBdO251bGwhPWQmJigoYT1hLmNsb25lKCkpLmdlb21ldHJ5PWQpO2NvbnN0IHA9byh7Li4ubS5xdWVyeSxmOnUsLi4ucywuLi55KGEscyl9KTtyZXR1cm4gdChuKG0ucGF0aCxnKGEscyk/XCJxdWVyeTNkXCI6XCJxdWVyeVwiKSx7Li4ubCxyZXNwb25zZVR5cGU6XCJwYmZcIj09PXU/XCJhcnJheS1idWZmZXJcIjpcImpzb25cIixxdWVyeTp7Li4ucCwuLi5sLnF1ZXJ5fX0pfWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gbnVsbCE9dC5mb3JtYXRPZjNET2JqZWN0cyYmIShlLnJldHVybkNvdW50T25seXx8ZS5yZXR1cm5FeHRlbnRPbmx5fHxlLnJldHVybklkc09ubHkpfWV4cG9ydHttIGFzIGVuY29kZUdlb21ldHJ5LGMgYXMgZXhlY3V0ZVF1ZXJ5LFMgYXMgZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQseCBhcyBleGVjdXRlUXVlcnlGb3JFeHRlbnQscCBhcyBleGVjdXRlUXVlcnlGb3JJZHMsZiBhcyBleGVjdXRlUXVlcnlQQkYsZCBhcyBleGVjdXRlUXVlcnlQQkZCdWZmZXIseSBhcyBxdWVyeVRvUXVlcnlTdHJpbmdQYXJhbWV0ZXJzLEUgYXMgcnVuUXVlcnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIHMsd2hlbk9uY2UgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtoeWRyYXRlR3JhcGhpYyBhcyBhfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9oeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlQ29udHJvbGxlcjNEIGFzIGx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2NvbnRyb2xsZXJzL0ZlYXR1cmVUaWxlQ29udHJvbGxlcjNELmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e3N5bWJvbEhhc0V4dHJ1ZGVTeW1ib2xMYXllciBhcyB1fWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMgYXMgY31mcm9tXCIuL2dyYXBoaWNzL2VsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlcy5qc1wiO2ltcG9ydHtHcmFwaGljczNERmVhdHVyZVByb2Nlc3NvciBhcyBofWZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3IuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgZH1mcm9tXCIuL2dyYXBoaWNzL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcgYXMgeX1mcm9tXCIuL2dyYXBoaWNzL3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcuanNcIjtpbXBvcnR7SGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IgYXMgZ31mcm9tXCIuL3N1cHBvcnQvSGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IuanNcIjtpbXBvcnR7dG9WaWV3SWZMb2NhbCBhcyBtfWZyb21cIi4vc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIGZ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIGJ9ZnJvbVwiLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtjb25zdCBFPUU9PntsZXQgdj1jbGFzcyBleHRlbmRzIEV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29udHJvbGxlcj1udWxsLHRoaXMudXBkYXRlUG9saWN5PWYuU1lOQyx0aGlzLnN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlPVwiY29tcHV0ZWRcIix0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuc3VzcGVuZFJlc3VtZUV4dGVudD1udWxsLHRoaXMuX2NvbnRyb2xsZXJDcmVhdGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMCx0aGlzLl9wZW5kaW5nQ29udHJvbGxlcj1udWxsLHRoaXMucXVlcnlFbmdpbmU9bnVsbH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLmxheWVyO2lmKFwiaXNUYWJsZVwiaW4gZSYmZS5pc1RhYmxlKXJldHVybiB2b2lkIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlamVjdChuZXcgcihcImZlYXR1cmVsYXllcnZpZXc6dGFibGUtbm90LXN1cHBvcnRlZFwiLFwidGFibGUgZmVhdHVyZSBsYXllciBjYW4ndCBiZSBkaXNwbGF5ZWRcIix7bGF5ZXI6ZX0pKSk7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3ZhbGlkYXRlR2VvbWV0cnlUeXBlKCkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLnJlbmRlcmVyKSwoZT0+dGhpcy5fcmVjcmVhdGVQcm9jZXNzb3IoZSkpLHMpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgbSh0aGlzKTt0aGlzLmZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2U9ZSxhd2FpdCB0aGlzLl9pbml0aWFsaXplQ29udHJvbGxlcigpfSkoKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudXBkYXRlUG9saWN5KSwoZT0+dGhpcy5wcm9jZXNzb3IucHJlZmVycmVkVXBkYXRlUG9saWN5PWUpKTtjb25zdCB0PSgpPT50aGlzLnByb2Nlc3Nvci5mZWF0dXJlU3RvcmU7dGhpcy5xdWVyeUVuZ2luZT1uZXcgZCh7Y29udGV4dDp7c3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxsYXllcjp0aGlzLmxheWVyLHNjaGVkdWxlcjp0aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlcixnZXQgZmVhdHVyZVN0b3JlKCl7cmV0dXJuIHQoKX0saGFzWjp0aGlzLmhhc1osaGFzTTp0aGlzLmhhc019LHByaW9yaXR5OmIuRkVBVFVSRV9RVUVSWV9FTkdJTkV9KSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfWRlc3Ryb3koKXt0aGlzLl9kZXN0cm95UGVuZGluZ0NvbnRyb2xsZXIoKSx0aGlzLmNvbnRyb2xsZXI9dCh0aGlzLmNvbnRyb2xsZXIpLHRoaXMuX3NldChcInByb2Nlc3NvclwiLHQodGhpcy5wcm9jZXNzb3IpKSx0aGlzLnF1ZXJ5RW5naW5lPXQodGhpcy5xdWVyeUVuZ2luZSksdGhpcy5sb2FkZWRHcmFwaGljcz1udWxsfV9kZXN0cm95UGVuZGluZ0NvbnRyb2xsZXIoKXt0aGlzLl9wZW5kaW5nQ29udHJvbGxlcj10KHRoaXMuX3BlbmRpbmdDb250cm9sbGVyKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiB0aGlzLmNhblJlc3VtZSgpJiZ0aGlzLnByb2Nlc3Nvcj8ubGVnZW5kRW5hYmxlZH1nZXQgZ3JhcGhpY3MzRFByb2Nlc3Nvcigpe3JldHVyblwiZ3JhcGhpY3MtM2RcIj09PXRoaXMucHJvY2Vzc29yPy50eXBlP3RoaXMucHJvY2Vzc29yOm51bGx9Z2V0IGhlYXRtYXBQcm9jZXNzb3IoKXtyZXR1cm5cImhlYXRtYXBcIj09PXRoaXMucHJvY2Vzc29yPy50eXBlP3RoaXMucHJvY2Vzc29yOm51bGx9Z2V0IHN5bWJvbG9neVNuYXBwaW5nU3VwcG9ydGVkKCl7Y29uc3QgZT10aGlzLmxheWVyPy5yZW5kZXJlcj8uZ2V0U3ltYm9scygpO3JldHVybiBlPy5zb21lKHUpPz8hMX1nZXRIaXQoZSl7bGV0IHI7cmV0dXJuIHRoaXMubG9hZGVkR3JhcGhpY3M/LmZvckVhY2goKHQ9Pnt0LnVpZD09PWUmJihyPWEodCx0aGlzLmxheWVyKSl9KSkscj97dHlwZTpcImdyYXBoaWNcIixncmFwaGljOnIsbGF5ZXI6ci5sYXllcn06bnVsbH13aGVuR3JhcGhpY0JvdW5kcyhlLHIpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8ud2hlbkdyYXBoaWNCb3VuZHMoZSxyKX1jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHIpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8uY29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oZSxyKX1hc3luYyBlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMoZSx0KXtjb25zdCBzPXRoaXMuZ3JhcGhpY3MzRFByb2Nlc3NvcjtpZihudWxsPT1zKXRocm93IG5ldyByKFwiZmVhdHVyZWxheWVydmlldzNkOm1pc3NpbmctcHJvY2Vzc29yXCIsXCJBIEdyYXBoaWNzM0QgcHJvY2Vzc29yIGlzIG5lZWRlZCB0byByZXNvbHZlIGdyYXBoaWNzIGVsZXZhdGlvbi5cIik7cmV0dXJuIGModGhpcy52aWV3LHRoaXMubGF5ZXIsKGU9PnMuZ2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpKSxlLHQpfWFzeW5jIHF1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcoZSxyKXtyZXR1cm4gdGhpcy5zeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZD95KHRoaXMuZ3JhcGhpY3MzRFByb2Nlc3NvcixlLHIpOntjYW5kaWRhdGVzOltdLHNvdXJjZUNhbmRpZGF0ZUluZGljZXM6W119fXF1ZXJ5RmVhdHVyZXMoZSxyKXtyZXR1cm4gdGhpcy5xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkodGhpcy5fZW5zdXJlUXVlcnkoZSkscj8uc2lnbmFsKX1xdWVyeU9iamVjdElkcyhlLHIpe3JldHVybiB0aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyh0aGlzLl9lbnN1cmVRdWVyeShlKSxyPy5zaWduYWwpfXF1ZXJ5RmVhdHVyZUNvdW50KGUscil7cmV0dXJuIHRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQodGhpcy5fZW5zdXJlUXVlcnkoZSkscj8uc2lnbmFsKX1xdWVyeUV4dGVudChlLHIpe3JldHVybiB0aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeShlKSxyPy5zaWduYWwpfV9lbnN1cmVRdWVyeShlKXtyZXR1cm4gbnVsbD09ZT90aGlzLmNyZWF0ZVF1ZXJ5KCk6cC5mcm9tKGUpfWhpZ2hsaWdodChlKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3IuaGlnaGxpZ2h0KGUsdGhpcy5sYXllci5vYmplY3RJZEZpZWxkKX1tYXNrT2NjbHVkZWUoZSl7cmV0dXJuIHRoaXMucHJvY2Vzc29yLm1hc2tPY2NsdWRlZShlKX1jYW5SZXN1bWUoKXtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJiF0aGlzLnByb2Nlc3Nvcj8uc2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT1zdXBlci5nZXRTdXNwZW5kSW5mbygpO3JldHVybiB0aGlzLnByb2Nlc3Nvcj97Li4uZSwuLi50aGlzLnByb2Nlc3Nvci5zdXNwZW5kSW5mb306ZX1pc1VwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5wcm9jZXNzb3J8fHRoaXMucHJvY2Vzc29yLmRlc3Ryb3llZCkmJiEodGhpcy5fY29udHJvbGxlckNyZWF0ZWQmJiF0aGlzLmNvbnRyb2xsZXI/LnVwZGF0aW5nJiZ0aGlzLnZpZXc/LmJhc2VtYXBUZXJyYWluPy5yZWFkeSYmIXRoaXMucHJvY2Vzc29yLnVwZGF0aW5nKX1hc3luYyBfaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKXtjb25zdCBlPXRoaXMuY3JlYXRlQ29udHJvbGxlcigpO3RoaXMuX3BlbmRpbmdDb250cm9sbGVyPWUsYXdhaXQgZS53aGVuKCksdGhpcy5fc2V0Q29udHJvbGxlcldoZW5Jbml0aWFsaXplZChlKX1hc3luYyBfc2V0Q29udHJvbGxlcldoZW5Jbml0aWFsaXplZChlKXt0cnl7YXdhaXQgdGhpcy53aGVuKCl9Y2F0Y2gocil7fXRoaXMuX2NvbnRyb2xsZXJDcmVhdGVkPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5pc1Jlc29sdmVkKCkmJiF0aGlzLmRlc3Ryb3llZD8oYXdhaXQgbygoKCk9PnRoaXMudmlldz8uYmFzZW1hcFRlcnJhaW4/LnJlYWR5KSksdGhpcy5iZWZvcmVTZXRDb250cm9sbGVyKGUpLHRoaXMuX3BlbmRpbmdDb250cm9sbGVyPW51bGwsdGhpcy5jb250cm9sbGVyPWUsdGhpcy5sb2FkZWRHcmFwaGljcz1lLmdyYXBoaWNzLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIikpOnRoaXMuX2Rlc3Ryb3lQZW5kaW5nQ29udHJvbGxlcigpfV91cGRhdGVDbGlwcGluZ0V4dGVudChlKXtpZih0aGlzLmNsaXBwaW5nRXh0ZW50PWUsIXRoaXMuY29udHJvbGxlcilyZXR1cm4hMTtzd2l0Y2godGhpcy5jb250cm9sbGVyLnR5cGUpe2Nhc2VcInN0cmVhbVwiOnJldHVybiExO2Nhc2VcImZlYXR1cmUtdGlsZS0zZFwiOnJldHVybiB0aGlzLmNvbnRyb2xsZXIuZXh0ZW50PWUsITB9fWFzeW5jIF92YWxpZGF0ZUdlb21ldHJ5VHlwZSgpe3N3aXRjaCh0aGlzLmxheWVyLmdlb21ldHJ5VHlwZSl7Y2FzZVwibXVsdGlwYXRjaFwiOmNhc2VcIm11bHRpcG9pbnRcIjp0aHJvdyBuZXcgcihcImZlYXR1cmVsYXllcnZpZXczZDp1bnN1cHBvcnRlZC1nZW9tZXRyeS10eXBlXCIsXCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlICR7Z2VvbWV0cnlUeXBlfVwiLHtnZW9tZXRyeVR5cGU6dGhpcy5sYXllci5nZW9tZXRyeVR5cGV9KX19X3JlY3JlYXRlUHJvY2Vzc29yKGUpe2NvbnN0IHI9XCJoZWF0bWFwXCI9PT1lPy50eXBlLHQ9XCJoZWF0bWFwXCI9PT10aGlzLnByb2Nlc3Nvcj8udHlwZSxzPXRoaXMucHJvY2Vzc29yO2lmKHMmJnI9PT10KXJldHVybjtjb25zdCBvPXI/bmV3IGcoe293bmVyOnRoaXN9KTpuZXcgaCh7b3duZXI6dGhpcyxmcnVzdHVtVmlzaWJpbGl0eUVuYWJsZWQ6ITAsc2NhbGVWaXNpYmlsaXR5RW5hYmxlZDohMCxmaWx0ZXJWaXNpYmlsaXR5RW5hYmxlZDohMCx0aW1lRXh0ZW50RW5hYmxlZDohMCxlbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkOiEwLGVsZXZhdGlvbkZlYXR1cmVFeHByZXNzaW9uRW5hYmxlZDohMCxwcmVmZXJyZWRVcGRhdGVQb2xpY3k6dGhpcy51cGRhdGVQb2xpY3ksdXBkYXRlQ2xpcHBpbmdFeHRlbnQ6ZT0+dGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl9KTt0aGlzLl9zZXQoXCJwcm9jZXNzb3JcIixvKSxzPy5kZXN0cm95KCksdGhpcy5xdWVyeUVuZ2luZT8uY2xlYXIoKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2Uoby5pbml0aWFsaXplUHJvbWlzZSl9X2dldFJlc291cmNlSW5mbygpe2NvbnN0IGU9dGhpcy5jb250cm9sbGVyIGluc3RhbmNlb2YgbD90aGlzLmNvbnRyb2xsZXI6bnVsbDtyZXR1cm57ZGlzcGxheWVkTnVtYmVyT2ZGZWF0dXJlczp0aGlzLmxvYWRlZEdyYXBoaWNzPy5sZW5ndGgsbWF4aW11bU51bWJlck9mRmVhdHVyZXM6ZT8ubWF4aW11bU51bWJlck9mRmVhdHVyZXM/Py0xLHRvdGFsTnVtYmVyT2ZGZWF0dXJlczplPy5zZXJ2aWNlRGF0YUNvdW50Pz8tMSxub2RlczowLC4uLnRoaXMucHJvY2Vzc29yLnBlcmZvcm1hbmNlSW5mb319Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiB0aGlzLl9nZXRSZXNvdXJjZUluZm8oKX19O3JldHVybiBlKFtpKCldLHYucHJvdG90eXBlLFwibG9hZGVkR3JhcGhpY3NcIix2b2lkIDApLGUoW2koKV0sdi5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW2koe3JlYWRPbmx5OiEwfSldLHYucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2koKV0sdi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksZShbaSgpXSx2LnByb3RvdHlwZSxcImNvbnRyb2xsZXJcIix2b2lkIDApLGUoW2koKV0sdi5wcm90b3R5cGUsXCJwcm9jZXNzb3JcIix2b2lkIDApLGUoW2koe3JlYWRPbmx5OiEwfSldLHYucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMH0pXSx2LnByb3RvdHlwZSxcInN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlXCIsdm9pZCAwKSxlKFtpKHt0eXBlOkJvb2xlYW59KV0sdi5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITB9KV0sdi5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLHZvaWQgMCksZShbaSgpXSx2LnByb3RvdHlwZSxcImdyYXBoaWNzM0RQcm9jZXNzb3JcIixudWxsKSxlKFtpKCldLHYucHJvdG90eXBlLFwiaGVhdG1hcFByb2Nlc3NvclwiLG51bGwpLGUoW2koKV0sdi5wcm90b3R5cGUsXCJzeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZFwiLG51bGwpLHY9ZShbbihcImVzcmkudmlld3MuM2QubGF5ZXJzLkZlYXR1cmVMaWtlTGF5ZXJWaWV3M0RcIildLHYpLHZ9O2V4cG9ydHtFIGFzIEZlYXR1cmVMaWtlTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7WFhIIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vYXJjYWRlL2Z1bmN0aW9ucy9oYXNoLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtuZXZlclJlYWNoZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2NvbXBpbGVyVXRpbHMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtsb2dPbkVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbCxpbml0aWFsIGFzIHAsd2hlbiBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZGlmZiBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2NhblByb2plY3QgYXMgZyxwcm9qZWN0IGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0e21hdGNoUmFuZG9tUm90YXRpb25FeHByZXNzaW9uIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvcmFuZG9tUm90YXRpb25FeHByZXNzaW9uLmpzXCI7aW1wb3J0e2dldFJlbmRlcmluZ0luZm8gYXMgZixnZXRSZW5kZXJpbmdJbmZvQXN5bmMgYXMgRX1mcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9yZW5kZXJpbmdJbmZvVXRpbHMuanNcIjtpbXBvcnQgQyBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7RHJhcGVTb3VyY2VUeXBlIGFzIHh9ZnJvbVwiLi4vaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtzdXNwZW5kUmVzdW1lRXh0ZW50T3B0aW1pc20gYXMgd31mcm9tXCIuL2NvbnN0YW50cy5qc1wiO2ltcG9ydHtEaXNwbGF5RmVhdHVyZUxpbWl0IGFzIHZ9ZnJvbVwiLi9EaXNwbGF5RmVhdHVyZUxpbWl0LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RDb3JlIGFzIGp9ZnJvbVwiLi9HcmFwaGljczNEQ29yZS5qc1wiO2ltcG9ydHtHcmFwaGljczNERWxldmF0aW9uQWxpZ25tZW50IGFzIFZ9ZnJvbVwiLi9HcmFwaGljczNERWxldmF0aW9uQWxpZ25tZW50LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RGcnVzdHVtVmlzaWJpbGl0eSBhcyBTfWZyb21cIi4vR3JhcGhpY3MzREZydXN0dW1WaXNpYmlsaXR5LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RPYmplY3RTdGF0ZXMgYXMgUn1mcm9tXCIuL0dyYXBoaWNzM0RPYmplY3RTdGF0ZXMuanNcIjtpbXBvcnR7R3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eSBhcyBffWZyb21cIi4vR3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eS5qc1wiO2ltcG9ydHtlbmxhcmdlRXh0ZW50IGFzIE99ZnJvbVwiLi9ncmFwaGljVXRpbHMuanNcIjtpbXBvcnR7YXR0cmlidXRlTG9va3VwIGFzIEl9ZnJvbVwiLi4vc3VwcG9ydC9hdHRyaWJ1dGVVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlVmlzaWJpbGl0eUZpbHRlciBhcyBHfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIuanNcIjtpbXBvcnR7T2JqZWN0M0RTdGF0ZSBhcyBBfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvYmFzaWNJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBVfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7bGV0IFA9Y2xhc3MgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImdyYXBoaWNzLTNkXCIsdGhpcy5fcmFuZG9tUm90YXRpb25SZW5kZXJlcnM9bnVsbCx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHksdGhpcy5lbGV2YXRpb25GZWF0dXJlRXhwcmVzc2lvbkVuYWJsZWQ9ITEsdGhpcy5zY2FsZVZpc2liaWxpdHlFbmFibGVkPSExLHRoaXMuZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWQ9ITEsdGhpcy5mcnVzdHVtVmlzaWJpbGl0eUVuYWJsZWQ9ITEsdGhpcy5lbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkPSExLHRoaXMudGltZUV4dGVudEVuYWJsZWQ9ITEsdGhpcy5zZXRVaWRUb0lkT25BZGQ9ITAsdGhpcy5kYXRhRXh0ZW50PW51bGwsdGhpcy5kcmFwZVNvdXJjZVR5cGU9eC5GZWF0dXJlcyx0aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1VLkFTWU5DLHRoaXMuX3N1c3BlbmRSZXN1bWVFeHRlbnQ9bnVsbH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLm93bmVyLHQ9KHRoaXMuZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWR8fHRoaXMudGltZUV4dGVudEVuYWJsZWQpJiZcIm11bHRpcGF0Y2hcIiE9PWUubGF5ZXIuZ2VvbWV0cnlUeXBlLGk9bmV3IGooe293bmVyOnRoaXMsbGF5ZXI6dGhpcy5sYXllcixwcmVmZXJyZWRVcGRhdGVQb2xpY3k6dGhpcy5wcmVmZXJyZWRVcGRhdGVQb2xpY3ksZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkOnRoaXMuZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkLGdyYXBoaWNTeW1ib2xTdXBwb3J0ZWQ6ITEsaGFzWjplLmhhc1osaGFzTTplLmhhc00sc2V0VWlkVG9JZE9uQWRkOnRoaXMuc2V0VWlkVG9JZE9uQWRkLGNvbXBvbmVudEZhY3Rvcmllczp7ZGVjb25mbGljdG9yOnQ9PmUudmlldy5kZWNvbmZsaWN0b3IuYWRkR3JhcGhpY3NPd25lcih0KSxsYWJlbGVyOih0LGkpPT5lLnZpZXcubGFiZWxlci5hZGRHcmFwaGljc093bmVyKHQsaSksZWxldmF0aW9uQWxpZ25tZW50OnRoaXMuZWxldmF0aW9uQWxpZ25tZW50RW5hYmxlZD8odCxpKT0+bmV3IFYoe2dyYXBoaWNzQ29yZU93bmVyOnRoaXMsZ3JhcGhpY3NDb3JlOnQscXVlcnlHcmFwaGljVUlEc0luRXh0ZW50OmksZWxldmF0aW9uUHJvdmlkZXI6ZS52aWV3LmVsZXZhdGlvblByb3ZpZGVyfSk6bnVsbCxzY2FsZVZpc2liaWxpdHk6dGhpcy5zY2FsZVZpc2liaWxpdHlFbmFibGVkPyh0LGkpPT5uZXcgXyh7Z3JhcGhpY3NDb3JlT3duZXI6dGhpcyxsYXllcjp0aGlzLmxheWVyLHF1ZXJ5R3JhcGhpY1VJRHNJbkV4dGVudDppLGdyYXBoaWNzQ29yZTp0LGJhc2VtYXBUZXJyYWluOmUudmlldy5iYXNlbWFwVGVycmFpbn0pOm51bGwsZmlsdGVyVmlzaWJpbGl0eTp0P3Q9Pm5ldyBHKHtjb250ZXh0OntsYXllclZpZXc6ZSwuLi50fX0pOm51bGwsb2JqZWN0U3RhdGVzOmU9Pm5ldyBSKGUpfX0pO3RoaXMuX3NldChcImdyYXBoaWNzQ29yZVwiLGkpLHRoaXMuZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkJiZ0aGlzLl9zZXQoXCJmcnVzdHVtVmlzaWJpbGl0eVwiLG5ldyBTKHtncmFwaGljc0NvcmVPd25lcjp0aGlzfSkpLHRoaXMuZWxldmF0aW9uQWxpZ25tZW50JiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5lbGV2YXRpb25JbmZvKSwoKGUsdCk9PntjKGUsdCkmJnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuZ3JhcGhpY3NDb3JlLmVsZXZhdGlvbkluZm9DaGFuZ2UoKSl9KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIubGFiZWxzVmlzaWJsZSksKCgpPT50aGlzLmdyYXBoaWNzQ29yZS51cGRhdGVWaXNpYmlsaXR5SW5mbygpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIubGFiZWxpbmdJbmZvKSwoKGUsdCk9PntjKGUsdCkmJnRoaXMuZ3JhcGhpY3NDb3JlLnVwZGF0ZUxhYmVsaW5nSW5mbygpfSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeSksKGU9PnRoaXMuZ3JhcGhpY3NDb3JlLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1lKSksdGhpcy5fc2V0KFwiaW5pdGlhbGl6ZVByb21pc2VcIix0aGlzLl9pbml0aWFsaXplQXN5bmMoKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5pbml0aWFsaXplUHJvbWlzZSl9YXN5bmMgX2luaXRpYWxpemVBc3luYygpe2F3YWl0IG8odGhpcy5ncmFwaGljc0NvcmUuaW5pdGlhbGl6ZVByb21pc2UpO2NvbnN0IGU9dGhpcy5vd25lcjt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5yZW5kZXJlciksKGU9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuZ3JhcGhpY3NDb3JlLnJlbmRlcmVyQ2hhbmdlKGUpKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLmZ1bGxPcGFjaXR5KSwoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLm9wYWNpdHlDaGFuZ2UoKSkpLHRoaXMuX3NldHVwU3VzcGVuZFJlc3VtZUV4dGVudCgpLHRoaXMudXBkYXRlQ2xpcHBpbmdFeHRlbnQmJih0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS52aWV3LmNsaXBwaW5nQXJlYSksKCgpPT50aGlzLl91cGRhdGVDbGlwcGluZ0V4dGVudCgpKSksdGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoKSksdGhpcy5ncmFwaGljc0NvcmUuc3RhcnRDcmVhdGVHcmFwaGljcygpLHRoaXMuZ3JhcGhpY3NDb3JlLmxhYmVsc0VuYWJsZWQmJmF3YWl0IG8odGhpcy5ncmFwaGljc0NvcmUudXBkYXRlTGFiZWxpbmdJbmZvKCkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpLHRoaXMuX3NldChcImZydXN0dW1WaXNpYmlsaXR5XCIsYSh0aGlzLmZydXN0dW1WaXNpYmlsaXR5KSksdGhpcy5fc2V0KFwiZ3JhcGhpY3NDb3JlXCIsYSh0aGlzLmdyYXBoaWNzQ29yZSkpLHRoaXMuX3NldChcIm93bmVyXCIsbnVsbCl9Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMub3duZXIubGF5ZXJ9Z2V0IHJlbmRlcmVyKCl7Y29uc3R7cmVuZGVyZXI6ZSxvYmplY3RJZEZpZWxkOnR9PXRoaXMubGF5ZXI7aWYoIWV8fCF0fHxcImhlYXRtYXBcIj09PWUudHlwZXx8IWUudmlzdWFsVmFyaWFibGVzKXJldHVybiBlO2NvbnN0IGk9ZS52aXN1YWxWYXJpYWJsZXMuZmluZEluZGV4KChlPT5cInJvdGF0aW9uXCI9PT1lLnR5cGUmJm51bGwhPWUudmFsdWVFeHByZXNzaW9uJiZiKGUudmFsdWVFeHByZXNzaW9uKT09PXQmJihudWxsPT1lLmF4aXN8fFwiaGVhZGluZ1wiPT09ZS5heGlzKSYmXCJnZW9ncmFwaGljXCI9PT1lLnJvdGF0aW9uVHlwZSkpO2lmKGk8MClyZXR1cm4gZTtjb25zdCBzPWUuY2xvbmUoKTtyZXR1cm4gcy52aXN1YWxWYXJpYWJsZXMuc3BsaWNlKGksMSksdGhpcy5fcmFuZG9tUm90YXRpb25SZW5kZXJlcnN8fCh0aGlzLl9yYW5kb21Sb3RhdGlvblJlbmRlcmVycz1uZXcgV2Vha01hcCksdGhpcy5fcmFuZG9tUm90YXRpb25SZW5kZXJlcnMuc2V0KHMsdCksc31nZXQgc2NhbGVWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5zY2FsZVZpc2liaWxpdHl9Z2V0IGZpbHRlclZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmZpbHRlclZpc2liaWxpdHl9Z2V0IGVsZXZhdGlvbkFsaWdubWVudCgpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZWxldmF0aW9uQWxpZ25tZW50fWdldCBvYmplY3RTdGF0ZXMoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/Lm9iamVjdFN0YXRlc31nZXQgc3VzcGVuZFJlc3VtZUV4dGVudE1vZGUoKXtyZXR1cm5cInN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlXCJpbiB0aGlzLm93bmVyP3RoaXMub3duZXIuc3VzcGVuZFJlc3VtZUV4dGVudE1vZGU6XCJjb21wdXRlZFwifWdldCBzY2FsZVZpc2liaWxpdHlTdXNwZW5kZWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5zY2FsZVZpc2liaWxpdHkmJnRoaXMuc2NhbGVWaXNpYmlsaXR5LnN1c3BlbmRlZH1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIHRoaXMub3duZXIuc3VzcGVuZGVkfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIG51bGw9PXRoaXMuZnJ1c3R1bVZpc2liaWxpdHl8fCF0aGlzLmZydXN0dW1WaXNpYmlsaXR5LnN1c3BlbmRlZH1nZXQgc3VzcGVuZEluZm8oKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZCYmKGUub3V0c2lkZVNjYWxlUmFuZ2U9ITApLG51bGwhPXRoaXMuZnJ1c3R1bVZpc2liaWxpdHkmJnRoaXMuZnJ1c3R1bVZpc2liaWxpdHkuc3VzcGVuZGVkJiYoZS5vdXRzaWRlT2ZWaWV3PSEwKSxlfWdldCB1cGRhdGluZygpe3JldHVybiEhKHRoaXMuZ3JhcGhpY3NDb3JlPy51cGRhdGluZ3x8dGhpcy5mcnVzdHVtVmlzaWJpbGl0eT8udXBkYXRpbmd8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZyl9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy51cGRhdGluZ1JlbWFpbmluZz8/MH1nZXQgZmVhdHVyZVN0b3JlKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5mZWF0dXJlU3RvcmV9Z2V0IHZpZXcoKXtyZXR1cm4gdGhpcy5vd25lci52aWV3fWdldCBsb2FkZWRHcmFwaGljcygpe3JldHVybiB0aGlzLm93bmVyLmxvYWRlZEdyYXBoaWNzfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybiB0aGlzLm93bmVyPy5mdWxsT3BhY2l0eX1nZXQgZmlsdGVyKCl7cmV0dXJuXCJmaWx0ZXJcImluIHRoaXMub3duZXI/dGhpcy5vd25lci5maWx0ZXI6bnVsbH1nZXQgc2xpY2VQbGFuZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5vd25lci5zbGljZVBsYW5lRW5hYmxlZH1nZXQgdXBkYXRlUG9saWN5KCl7cmV0dXJuIHRoaXMub3duZXIudXBkYXRlUG9saWN5fWdldCBmZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSgpe3JldHVyblwiZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2VcImluIHRoaXMub3duZXI/dGhpcy5vd25lci5mZWF0dXJlU3BhdGlhbFJlZmVyZW5jZTp0aGlzLm93bmVyLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX1nZXQgZ3JhcGhpY3MzREdyYXBoaWNzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5ncmFwaGljczNER3JhcGhpY3N9Z2V0IGdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUQoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUR9Z2V0IHN5bWJvbFVwZGF0ZVR5cGUoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnN5bWJvbFVwZGF0ZVR5cGV9Z2V0IGRpc3BsYXlGZWF0dXJlTGltaXQoKXtjb25zdCBlPXRoaXMudmlldy5xdWFsaXR5LHQ9dGhpcy5ncmFwaGljc0NvcmU/LmRpc3BsYXlGZWF0dXJlTGltaXQ7aWYoMT09PWUpcmV0dXJuIHQ7Y29uc3QgaT1NYXRoLmNlaWwodC5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyplKTtyZXR1cm4gbmV3IHYodC5tYXhpbXVtVG90YWxOdW1iZXJPZlZlcnRpY2VzLGksdC5hdmVyYWdlU3ltYm9sQ29tcGxleGl0eSl9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnVzZWRNZW1vcnk/PzB9Z2V0IGxvYWRlZEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5udW1iZXJPZkdyYXBoaWNzPz8wfWdldCB1c2VkTWVtb3J5UGVyRmVhdHVyZSgpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8udXNlZE1lbW9yeVBlckdyYXBoaWM/PzB9Z2V0IHVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGUoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGU/PzB9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybntjb3JlOnRoaXMuZ3JhcGhpY3NDb3JlLnBlcmZvcm1hbmNlSW5mbyxlbGV2YXRpb25VcGRhdGluZzp0aGlzLmVsZXZhdGlvbkFsaWdubWVudC51cGRhdGluZyx2aXNpYmlsaXR5RnJ1c3R1bTpudWxsPT10aGlzLmZydXN0dW1WaXNpYmlsaXR5fHwhdGhpcy5mcnVzdHVtVmlzaWJpbGl0eS5zdXNwZW5kZWQsdmlzaWJpbGl0eVNjYWxlOiF0aGlzLnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZH19bWFza09jY2x1ZGVlKGUpe2NvbnN0e3NldDp0LGhhbmRsZTppfT10aGlzLm9iamVjdFN0YXRlcy5hY3F1aXJlU2V0KEEuTWFza09jY2x1ZGVlLG51bGwpO3JldHVybiB0aGlzLm9iamVjdFN0YXRlcy5zZXRVaWQodCxlLnVpZCksaX1oaWdobGlnaHQoZSxpKXtpZihlIGluc3RhbmNlb2YgQyl7Y29uc3R7c2V0OnQsaGFuZGxlOnN9PXRoaXMub2JqZWN0U3RhdGVzLmFjcXVpcmVTZXQoQS5IaWdobGlnaHQsaSk7cmV0dXJuIHRoaXMub3duZXIucXVlcnlPYmplY3RJZHMoZSkudGhlbigoZT0+dGhpcy5vYmplY3RTdGF0ZXMuc2V0T2JqZWN0SWRzKHQsZSkpKSxzfWlmKFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy5oaWdobGlnaHQoW2VdLGkpO2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiB0aGlzLmhpZ2hsaWdodChbZV0saSk7aWYoXCJ0b0FycmF5XCJpbiBlJiYoZT1lLnRvQXJyYXkoKSksQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCl7aWYoZVswXWluc3RhbmNlb2YgdCl7Y29uc3QgdD1lO2lmKG51bGw9PUkodGhpcy5sYXllci5maWVsZHNJbmRleCx0WzBdLmF0dHJpYnV0ZXMsaSkpe2NvbnN0IGU9dC5tYXAoKGU9PmUudWlkKSkse3NldDppLGhhbmRsZTpzfT10aGlzLm9iamVjdFN0YXRlcy5hY3F1aXJlU2V0KEEuSGlnaGxpZ2h0LG51bGwpO3JldHVybiB0aGlzLm9iamVjdFN0YXRlcy5zZXRVaWRzKGksZSksc31lPXQubWFwKChlPT5JKHRoaXMubGF5ZXIuZmllbGRzSW5kZXgsZS5hdHRyaWJ1dGVzLGkpKSl9aWYoQXJyYXkuaXNBcnJheShlKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlWzBdfHxcInN0cmluZ1wiPT10eXBlb2YgZVswXSkpe2NvbnN0IHQ9ZSx7c2V0OnMsaGFuZGxlOnJ9PXRoaXMub2JqZWN0U3RhdGVzLmFjcXVpcmVTZXQoQS5IaWdobGlnaHQsaSk7cmV0dXJuIHRoaXMub2JqZWN0U3RhdGVzLnNldE9iamVjdElkcyhzLHQpLHJ9fXJldHVybiBuKCl9cmVzZXRPYmplY3RTdGF0ZXMoKXt0aGlzLm9iamVjdFN0YXRlcy5yZXNldCgpfXdoZW5HcmFwaGljQm91bmRzKGUsdCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy53aGVuR3JhcGhpY0JvdW5kcyhlLHQpfWNvbXB1dGVBdHRhY2htZW50T3JpZ2luKGUsdCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpfW5vdGlmeUdyYXBoaWNHZW9tZXRyeUNoYW5nZWQoZSl7dGhpcy5ncmFwaGljc0NvcmUubm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZChlKX1ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQoZSl7dGhpcy5ncmFwaGljc0NvcmUubm90aWZ5R3JhcGhpY1Zpc2liaWxpdHlDaGFuZ2VkKGUpfWdldFJlbmRlcmluZ0luZm8oZSx0LHMpe2NvbnN0IHI9ZihlLHtyZW5kZXJlcjp0LGFyY2FkZTpzfSk7aWYocj8uY29sb3Ipe2NvbnN0IGU9ci5jb2xvcjtlWzBdPWVbMF0vMjU1LGVbMV09ZVsxXS8yNTUsZVsyXT1lWzJdLzI1NX1pZihudWxsIT1yJiZudWxsIT10JiZ0aGlzLl9yYW5kb21Sb3RhdGlvblJlbmRlcmVycz8uaGFzKHQpKXtjb25zdCBzPXRoaXMuX3JhbmRvbVJvdGF0aW9uUmVuZGVyZXJzLmdldCh0KSxuPWUuYXR0cmlidXRlc1tzXSxhPW5ldyBpKDApO2EudXBkYXRlRmxvYXRBcnJheShbbl0pLGEudXBkYXRlVWludDhBcnJheShbMTczXSksci5oZWFkaW5nPTguMzgxZS04KmEuZGlnZXN0KCl9cmV0dXJuIHJ9Z2V0UmVuZGVyaW5nSW5mb0FzeW5jKGUsdCxpLHMpe3JldHVybiBFKGUse3JlbmRlcmVyOnQsYXJjYWRlOmksLi4uc30pfWdldFN5bWJvbExheWVyU2l6ZShlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZ2V0U3ltYm9sTGF5ZXJTaXplKGUsdCl9c2V0T2JqZWN0SWRWaXNpYmlsaXR5KGUsdCl7dGhpcy5ncmFwaGljc0NvcmU/LnNldE9iamVjdElkVmlzaWJpbGl0eShlLHQpfXJlZnJlc2hGaWx0ZXIoKXtudWxsIT10aGlzLmZpbHRlclZpc2liaWxpdHkmJnRoaXMuZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCl9Z2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZ2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpfV91cGRhdGVDbGlwcGluZ0V4dGVudCgpe2NvbnN0IGU9dGhpcy5vd25lci52aWV3LmNsaXBwaW5nQXJlYTt0aGlzLmdyYXBoaWNzQ29yZS5zZXRDbGlwcGluZ0V4dGVudChlLHRoaXMub3duZXIudmlldy5zcGF0aWFsUmVmZXJlbmNlKSYmKHRoaXMudXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl8fHRoaXMuZ3JhcGhpY3NDb3JlLnJlY3JlYXRlQWxsR3JhcGhpY3MoKSl9X3NldHVwU3VzcGVuZFJlc3VtZUV4dGVudCgpeyh0aGlzLmZydXN0dW1WaXNpYmlsaXR5fHx0aGlzLnNjYWxlVmlzaWJpbGl0eSkmJnRoaXMuYWRkSGFuZGxlcyhsKCgoKT0+dGhpcy5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZSksKCgpPT57c3dpdGNoKHRoaXMucmVtb3ZlSGFuZGxlcyhGKSx0aGlzLnN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlKXtjYXNlXCJjb21wdXRlZFwiOnRoaXMuYWRkSGFuZGxlcyhbbCgoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLmNvbXB1dGVkRXh0ZW50KSwoZT0+dGhpcy5fdXBkYXRlU3VzcGVuZFJlc3VtZUV4dGVudChlKSkscCksbCgoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLmV4dGVudFBhZGRpbmcpLCgoKT0+dGhpcy5fdXBkYXRlU3VzcGVuZFJlc3VtZUV4dGVudCh0aGlzLmdyYXBoaWNzQ29yZS5jb21wdXRlZEV4dGVudCkpKV0sRik7YnJlYWs7Y2FzZVwiZGF0YVwiOnRoaXMuYWRkSGFuZGxlcyhbZCgoKCk9PnRoaXMuZGF0YUV4dGVudCksKGU9PnRoaXMuX3VwZGF0ZVN1c3BlbmRSZXN1bWVFeHRlbnQoZSkpLHApLGwoKCgpPT50aGlzLmdyYXBoaWNzQ29yZS5leHRlbnRQYWRkaW5nKSwoKCk9PnRoaXMuX3VwZGF0ZVN1c3BlbmRSZXN1bWVFeHRlbnQodGhpcy5kYXRhRXh0ZW50KSkpXSxGKTticmVhaztkZWZhdWx0OnIodGhpcy5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZSl9fSkscCkpfV91cGRhdGVTdXNwZW5kUmVzdW1lRXh0ZW50KGUpe2U/dGhpcy5fc3VzcGVuZFJlc3VtZUV4dGVudENoYW5nZWQodGhpcy5fZXh0ZW50VG9TdXNwZW5kUmVzdW1lUmVjdChlLHRoaXMuX3N1c3BlbmRSZXN1bWVFeHRlbnQpKTp0aGlzLl9zdXNwZW5kUmVzdW1lRXh0ZW50Q2hhbmdlZChudWxsKX1fZXh0ZW50VG9TdXNwZW5kUmVzdW1lUmVjdChlLHQpe2NvbnN0IGk9dGhpcy5vd25lci52aWV3LnNwYXRpYWxSZWZlcmVuY2U7aWYoIWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoaSkpe2lmKCFnKGUsaSkpcmV0dXJuO2U9bShlLGkpfXJldHVybiBPKGUsdCx3LHRoaXMuZ3JhcGhpY3NDb3JlLmV4dGVudFBhZGRpbmcpfV9zdXNwZW5kUmVzdW1lRXh0ZW50Q2hhbmdlZChlKXtudWxsIT10aGlzLmZydXN0dW1WaXNpYmlsaXR5JiZ0aGlzLmZydXN0dW1WaXNpYmlsaXR5LnNldEV4dGVudChlKSxudWxsIT10aGlzLnNjYWxlVmlzaWJpbGl0eSYmdGhpcy5zY2FsZVZpc2liaWxpdHkuc2V0RXh0ZW50KGUpfX07ZShbdSgpXSxQLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sUC5wcm90b3R5cGUsXCJvd25lclwiLHZvaWQgMCksZShbdSgpXSxQLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcInVwZGF0ZUNsaXBwaW5nRXh0ZW50XCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZ3JhcGhpY3NDb3JlXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5RW5hYmxlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50RW5hYmxlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcInRpbWVFeHRlbnRFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwic2V0VWlkVG9JZE9uQWRkXCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5XCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50XCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcImZydXN0dW1WaXNpYmlsaXR5XCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwib2JqZWN0U3RhdGVzXCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcImluaXRpYWxpemVQcm9taXNlXCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwic3VzcGVuZFJlc3VtZUV4dGVudE1vZGVcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwiZGF0YUV4dGVudFwiLHZvaWQgMCksZShbdSgpXSxQLnByb3RvdHlwZSxcInNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZFwiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJmZWF0dXJlU3RvcmVcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwidmlld1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJmaWx0ZXJcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwiZHJhcGVTb3VyY2VUeXBlXCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcInByZWZlcnJlZFVwZGF0ZVBvbGljeVwiLHZvaWQgMCksZShbdSh7cmVhZE9ubHk6ITB9KV0sUC5wcm90b3R5cGUsXCJkaXNwbGF5RmVhdHVyZUxpbWl0XCIsbnVsbCksUD1lKFtoKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3JcIildLFApO2NvbnN0IEY9XCJzdXNwZW5kUmVzdW1lRXh0ZW50TW9kZVwiO2V4cG9ydHtQIGFzIEdyYXBoaWNzM0RGZWF0dXJlUHJvY2Vzc29yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2ZlYXR1cmVHZW9tZXRyeVR5cGVLZWJhYkRpY3Rpb25hcnkgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3R5cGVVdGlscy5qc1wiO2NvbnN0IGM9YTtsZXQgbD1jbGFzcyBleHRlbmRzIHR7Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMuY29udGV4dC5sYXllcn1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLmNvbnRleHQuc3BhdGlhbFJlZmVyZW5jZX1nZXQgX3F1ZXJ5R2VvbWV0cnlUeXBlKCl7c3dpdGNoKHRoaXMubGF5ZXIuZ2VvbWV0cnlUeXBlKXtjYXNlXCJtdWx0aXBvaW50XCI6Y2FzZVwicG9pbnRcIjpjYXNlXCJwb2x5Z29uXCI6Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gdGhpcy5sYXllci5nZW9tZXRyeVR5cGU7Y2FzZVwibWVzaFwiOnJldHVyblwicG9seWdvblwiO2RlZmF1bHQ6cmV0dXJufX1nZXQgZGVmYXVsdFF1ZXJ5SlNPTigpe3JldHVybiBuZXcgaSh7b3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2V9KS50b0pTT04oKX1nZXQgX2RhdGFRdWVyeUVuZ2luZSgpe3JldHVybiB0aGlzLl9lbnN1cmVEYXRhUXVlcnlFbmdpbmUoKX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZT1udWxsfWRlc3Ryb3koKXt0aGlzLmNsZWFyKCl9Y2xlYXIoKXtyZXR1cm4hIXRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlJiYodGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2UuZGVzdHJveSgpLHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPW51bGwsITApfWFzeW5jIGV4ZWN1dGVRdWVyeUZvcklkU2V0KGUsdCxyKXtyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkU2V0KHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlLHQpLHIpfWFzeW5jIGV4ZWN1dGVRdWVyeUZvckNvdW50KGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDb3VudCh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCl9YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KGUsdCl7Y29uc3R7Y291bnQ6cixleHRlbnQ6c309YXdhaXQgdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCk7cmV0dXJue2NvdW50OnIsZXh0ZW50Om4uZnJvbUpTT04ocyl9fWFzeW5jIGV4ZWN1dGVRdWVyeUZvcklkcyhlLHQpe3JldHVybiB0aGlzLl9kYXRhUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSx0KX1hc3luYyBleGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnMoZSx0KXtjb25zdCByPWF3YWl0IHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnModGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQpLHM9dS5mcm9tSlNPTihyKTtyZXR1cm4gcy5mZWF0dXJlcy5mb3JFYWNoKChlPT57ZS5sYXllcj10aGlzLmxheWVyLGUuc291cmNlTGF5ZXI9dGhpcy5sYXllcn0pKSxzfWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeSh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCkscz11LmZyb21KU09OKHIpO3JldHVybiBzLmZlYXR1cmVzLmZvckVhY2goKGU9PntlLmxheWVyPXRoaXMubGF5ZXIsZS5zb3VyY2VMYXllcj10aGlzLmxheWVyfSkpLHN9X2Vuc3VyZVF1ZXJ5SlNPTihlLHQpe2xldCByPXRoaXMuZGVmYXVsdFF1ZXJ5SlNPTjtpZihudWxsIT1lJiYoXCJvdXRTcGF0aWFsUmVmZXJlbmNlXCJpbiBlJiYhZS5vdXRTcGF0aWFsUmVmZXJlbmNlJiYoZS5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSkscj1lLnRvSlNPTigpKSxudWxsIT10KXtjb25zdCBlPXQuZ2VvbWV0cmllcy5tYXAoKGU9PmUudG9KU09OKCkpKS5yZWR1Y2UoKChlLHQpPT4oZS5yaW5ncz1lLnJpbmdzLmNvbmNhdCh0LnJpbmdzKSxlKSkpO3I9ey4uLnIsc2NlbmVGaWx0ZXI6ey4uLnQsZ2VvbWV0cnk6ZX19fXJldHVybiByfV9lbnN1cmVEYXRhUXVlcnlFbmdpbmUoKXtpZih0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZSlyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2U7Y29uc3QgZT1cInRpbWVJbmZvXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLnRpbWVJbmZvPy50b0pTT04oKXx8bnVsbCx0PXRoaXMubGF5ZXIub2JqZWN0SWRGaWVsZCxyPXkudG9KU09OKHRoaXMuX3F1ZXJ5R2VvbWV0cnlUeXBlKSxzPXRoaXMubGF5ZXIuZmllbGRzSW5kZXg/LnRvSlNPTigpfHxuZXcgbyhbXSksbj10aGlzLnByaW9yaXR5LGE9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLHtoYXNaOnUsaGFzTTppLGZlYXR1cmVTdG9yZTpsLHNjaGVkdWxlcjpwfT10aGlzLmNvbnRleHQ7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPW5ldyBjKHtoYXNaOnUsaGFzTTppLGdlb21ldHJ5VHlwZTpyLGZpZWxkc0luZGV4OnMsdGltZUluZm86ZSxzcGF0aWFsUmVmZXJlbmNlOmEsb2JqZWN0SWRGaWVsZDp0LGZlYXR1cmVTdG9yZTpsLHNjaGVkdWxlcjpwLHByaW9yaXR5Om59KSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZX19O2UoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0sbC5wcm90b3R5cGUsXCJjb250ZXh0XCIsdm9pZCAwKSxlKFtyKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGwucHJvdG90eXBlLFwicHJpb3JpdHlcIix2b2lkIDApLGUoW3IoKV0sbC5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW3IoKV0sbC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbcigpXSxsLnByb3RvdHlwZSxcIl9xdWVyeUdlb21ldHJ5VHlwZVwiLG51bGwpLGUoW3IoKV0sbC5wcm90b3R5cGUsXCJkZWZhdWx0UXVlcnlKU09OXCIsbnVsbCksbD1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuUXVlcnlFbmdpbmVcIildLGwpO2V4cG9ydHtsIGFzIFF1ZXJ5RW5naW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7c2h1ZmZsZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZSxmcm9tRXh0ZW50IGFzIHMsaW50ZXJzZWN0cyBhcyBpLGNvcHkgYXMgcixwb3NpdGl2ZUluZmluaXR5IGFzIHUsaW50ZXJzZWN0aW9uIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtudW1WZXJ0aWNlcyBhcyBoLGVzdGltYXRlU2l6ZSBhcyBuLGdldE9iamVjdElkIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2NvbnN0IF89MTY0MzgsZD1uZXcgU2V0O2NsYXNzIGx7Z2V0IGRpc3BsYXlpbmdGZWF0dXJlcygpe3JldHVybiB0aGlzLl9kaXNwbGF5aW5nRmVhdHVyZXN9c2V0IGRpc3BsYXlpbmdGZWF0dXJlcyh0KXt0aGlzLl9kaXNwbGF5aW5nRmVhdHVyZXM9dCx0aGlzLmV4dGVudEluY2x1ZGluZ0JvcnJvd2VkRmVhdHVyZXM9bnVsbH1nZXQgcGVyVGlsZU1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQoKXtyZXR1cm4hdGhpcy5maWx0ZXJlZCYmKHRoaXMuZmVhdHVyZXNNaXNzaW5nfHx0aGlzLmZlYXR1cmVzJiZ0aGlzLmZlYXR1cmVMaW1pdCE9PXRoaXMuZmVhdHVyZXMubGVuZ3RoKX1nZXQgZmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXN9Z2V0IGZlYXR1cmVMaW1pdCgpe3JldHVybiB0aGlzLl9mZWF0dXJlTGltaXR9c2V0IGZlYXR1cmVMaW1pdCh0KXt0aGlzLl9mZWF0dXJlTGltaXQhPT10JiYodGhpcy5fZmVhdHVyZUxpbWl0PXQsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5PSEwKX1nZXQgYXZhaWxhYmxlRmllbGRzKCl7cmV0dXJuIHRoaXMuX2F2YWlsYWJsZUZpZWxkc31zZXRGZWF0dXJlcyh0LGUscyl7dGhpcy5fYXZhaWxhYmxlRmllbGRzPXM/P2QsdGhpcy5fZmVhdHVyZXM9dCx0aGlzLl9zaHVmZmxlZD0hMSx0aGlzLl9lc3RpbWF0ZWRTaXplPS0xLHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemVEaXJ0eT0hMCx0JiZ0Lmxlbmd0aD4wPyh0aGlzLl9lbXB0eUZlYXR1cmVSYXRpbz1lLyh0Lmxlbmd0aCtlKSx0aGlzLl9udW1WZXJ0aWNlcz10LnJlZHVjZSgoKHQsZSk9PnQraChlLmdlb21ldHJ5KSksMCkpOih0aGlzLl9lbXB0eUZlYXR1cmVSYXRpbz0wLHRoaXMuX251bVZlcnRpY2VzPTApfWdldCBlbXB0eUZlYXR1cmVSYXRpbygpe3JldHVybiB0aGlzLl9lbXB0eUZlYXR1cmVSYXRpb31nZXQgbnVtRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5oYXNQcmVjaXNlRmVhdHVyZUNvdW50P3RoaXMuX251bUZlYXR1cmVzOnRoaXMuX2ZlYXR1cmVzP3RoaXMuX2ZlYXR1cmVzLmxlbmd0aDowfXNldCBudW1GZWF0dXJlcyh0KXt0aGlzLl9udW1GZWF0dXJlcz10fWdldCBoYXNQcmVjaXNlRmVhdHVyZUNvdW50KCl7cmV0dXJuIHRoaXMuX251bUZlYXR1cmVzPm19Z2V0IG5lZWRzRmVhdHVyZUNvdW50KCl7cmV0dXJuIHRoaXMuX251bUZlYXR1cmVzPT09bX1nZXQgbnVtVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fbnVtVmVydGljZXN9Y29uc3RydWN0b3IodCl7dGhpcy5kZXNjcmlwdG9yPXQsdGhpcy5mZXRjaFN0YXR1cz1FLkZFVENIX05FRURFRCx0aGlzLl9mZWF0dXJlcz1udWxsLHRoaXMuX251bVZlcnRpY2VzPTAsdGhpcy5fZmVhdHVyZUxpbWl0PTAsdGhpcy5mZWF0dXJlc01pc3Npbmc9ITAsdGhpcy5fc2h1ZmZsZWQ9ITEsdGhpcy5fbnVtRmVhdHVyZXM9bSx0aGlzLl9lbXB0eUZlYXR1cmVSYXRpbz0wLHRoaXMuX2VzdGltYXRlZFNpemU9LTEsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZT0wLHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemVEaXJ0eT0hMSx0aGlzLl9hdmFpbGFibGVGaWVsZHM9ZCx0aGlzLl9kaXNwbGF5aW5nRmVhdHVyZXM9bnVsbCx0aGlzLmFsaXZlPSEwLHRoaXMuZmlsdGVyZWQ9ITF9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuZGVzY3JpcHRvci5pZH1nZXQgZXN0aW1hdGVkU2l6ZSgpe3JldHVybiB0aGlzLnVwZGF0ZU1lbW9yeUVzdGltYXRlcygpLHRoaXMuX2VzdGltYXRlZFNpemV9Z2V0IGVzdGltYXRlZFVudXNlZFNpemUoKXtyZXR1cm4gdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZX11cGRhdGVNZW1vcnlFc3RpbWF0ZXMoKXtpZih0aGlzLl9lc3RpbWF0ZWRTaXplPDApe2lmKHRoaXMuX2VzdGltYXRlZFNpemU9MCx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplPTAsdGhpcy5fZmVhdHVyZXMpZm9yKGxldCB0PTA7dDx0aGlzLl9mZWF0dXJlcy5sZW5ndGg7Kyt0KXtjb25zdCBlPW4odGhpcy5fZmVhdHVyZXNbdF0pO3RoaXMuX2VzdGltYXRlZFNpemUrPWUsdD49dGhpcy5mZWF0dXJlTGltaXQmJih0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplKz1lKX1yZXR1cm4hMH1pZih0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHkpe2lmKHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemU9MCx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHk9ITEsdGhpcy5fZmVhdHVyZXMpZm9yKGxldCB0PXRoaXMuZmVhdHVyZUxpbWl0O3Q8dGhpcy5fZmVhdHVyZXMubGVuZ3RoOysrdCl0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplKz1uKHRoaXMuX2ZlYXR1cmVzW3RdKTtyZXR1cm4hMH1yZXR1cm4hMX1nZXQgaXNGZXRjaGluZygpe3JldHVybiB0aGlzLmZldGNoU3RhdHVzPT09RS5GRVRDSElOR3x8dGhpcy5mZXRjaFN0YXR1cz09PUUuUkVGRVRDSElOR31nZXQgaXNSZWZldGNoaW5nKCl7cmV0dXJuIHRoaXMuZmV0Y2hTdGF0dXM9PT1FLlJFRkVUQ0hJTkd9Z2V0IG5lZWRzRmV0Y2hpbmcoKXtyZXR1cm4gdGhpcy5mZXRjaFN0YXR1cz09PUUuRkVUQ0hfTkVFREVEfHx0aGlzLmZldGNoU3RhdHVzPT09RS5SRUZFVENIX05FRURFRH1nZXQgbmVlZHNSZWZldGNoaW5nKCl7cmV0dXJuIHRoaXMuZmV0Y2hTdGF0dXM9PT1FLlJFRkVUQ0hfTkVFREVEfWdldCBpc0ZldGNoZWQoKXtyZXR1cm4gdGhpcy5mZXRjaFN0YXR1cz09PUUuRE9ORXx8dGhpcy5mZXRjaFN0YXR1cz09PUUuRlVMTH1yZXNldEZldGNoaW5nKCl7dGhpcy5mZXRjaFN0YXR1cz10aGlzLmZldGNoU3RhdHVzPT09RS5SRUZFVENISU5HP0UuUkVGRVRDSF9ORUVERUQ6RS5GRVRDSF9ORUVERUR9Z2V0IG5lZWRzRGlzcGxheVVwZGF0ZSgpe3JldHVybiEhdGhpcy5fZmVhdHVyZXMmJiFjKHRoaXMuX2ZlYXR1cmVzLHRoaXMuZGlzcGxheWluZ0ZlYXR1cmVzLHRoaXMuZmVhdHVyZUxpbWl0KX1pbnRlcnNlY3RzKHQpe3JldHVybiBudWxsPT10fHwhdGhpcy5kZXNjcmlwdG9yLmV4dGVudHx8KHModCxnKSxpKHRoaXMuZGVzY3JpcHRvci5leHRlbnQsZykpfWludGVyc2VjdGlvbkluY2x1ZGluZ0JvcnJvd2VkKHQsZSl7Y29uc3QgaT1udWxsIT10aGlzLmV4dGVudEluY2x1ZGluZ0JvcnJvd2VkRmVhdHVyZXM/dGhpcy5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzOnRoaXMuZGVzY3JpcHRvci5leHRlbnQ7cmV0dXJuIHR8fGk/KG51bGwhPXQ/KHModCxlKSxhKGUsaSxlKSk6cihlLGkpLGUpOihyKGUsdSksZSl9X3NodWZmbGUoZSl7dGhpcy5fZmVhdHVyZXMuc29ydCgoKHQscyk9PmYodCxlKS1mKHMsZSkpKSx0KHRoaXMuX2ZlYXR1cmVzLF8pLHRoaXMuX3NodWZmbGVkPSEwLHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemVEaXJ0eT0hMH1yZWR1Y2VGZWF0dXJlcyh0LGUscyl7aWYodDw9MClyZXR1cm4hMTtpZighdGhpcy5fZmVhdHVyZXMpcmV0dXJuIHRoaXMuZmVhdHVyZUxpbWl0PTAsITE7bGV0IGk9ITE7dGhpcy5mZWF0dXJlTGltaXQ9TWF0aC5jZWlsKHRoaXMubnVtRmVhdHVyZXMqdCksdGhpcy5mZWF0dXJlTGltaXQ+dGhpcy5fZmVhdHVyZXMubGVuZ3RoJiYodGhpcy5mZWF0dXJlTGltaXQ9dGhpcy5fZmVhdHVyZXMubGVuZ3RoLHRoaXMuZmV0Y2hTdGF0dXM9PT1FLkRPTkUmJnRoaXMuX2ZlYXR1cmVzLmxlbmd0aD4wJiYodGhpcy5mZXRjaFN0YXR1cz1FLlJFRkVUQ0hfTkVFREVELGk9ITApKSwhdGhpcy5fc2h1ZmZsZWQmJnQ8MSYmdGhpcy5fc2h1ZmZsZShzKTtjb25zdCByPU1hdGgubWF4KHRoaXMuZmVhdHVyZUxpbWl0LE1hdGguY2VpbChlKnRoaXMubnVtRmVhdHVyZXMpKTtyZXR1cm4gdGhpcy5fZmVhdHVyZXMubGVuZ3RoPnImJih0aGlzLl9mZWF0dXJlcy5sZW5ndGg9cix0aGlzLmZlYXR1cmVzTWlzc2luZz0hMCx0aGlzLmZldGNoU3RhdHVzPT09RS5GVUxMJiYodGhpcy5mZXRjaFN0YXR1cz1FLkRPTkUpKSxpfWdldCBjYWNoZSgpe3JldHVybnthdmFpbGFibGVGaWVsZHM6dGhpcy5fYXZhaWxhYmxlRmllbGRzLGZlYXR1cmVzOnRoaXMuX2ZlYXR1cmVzLG51bUZlYXR1cmVzOnRoaXMuX251bUZlYXR1cmVzLGVtcHR5RmVhdHVyZVJhdGlvOnRoaXMuX2VtcHR5RmVhdHVyZVJhdGlvLGZldGNoU3RhdHVzOnRoaXMuZmV0Y2hTdGF0dXMsZmVhdHVyZXNNaXNzaW5nOnRoaXMuZmVhdHVyZXNNaXNzaW5nfX1zZXQgY2FjaGUodCl7dGhpcy5yZXF1ZXN0Q29udHJvbGxlcj1udWxsLHRoaXMuX2F2YWlsYWJsZUZpZWxkcz10LmF2YWlsYWJsZUZpZWxkcyx0aGlzLl9mZWF0dXJlcz10LmZlYXR1cmVzLHRoaXMuX251bUZlYXR1cmVzPXQubnVtRmVhdHVyZXMsdGhpcy5fZW1wdHlGZWF0dXJlUmF0aW89dC5lbXB0eUZlYXR1cmVSYXRpbyx0aGlzLmZldGNoU3RhdHVzPXQuZmV0Y2hTdGF0dXMsdGhpcy5mZWF0dXJlc01pc3Npbmc9dC5mZWF0dXJlc01pc3NpbmcsdGhpcy5fZXN0aW1hdGVkU2l6ZT0tMSx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHk9ITB9fWNvbnN0IG09LTEsRj0tMjt2YXIgRTtmdW5jdGlvbiBjKHQsZSxzKXtpZihudWxsPT1lfHxudWxsPT10fHxzIT09ZS5sZW5ndGh8fHM+dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBpPTA7aTxzOysraSlpZih0W2ldIT09ZVtpXSlyZXR1cm4hMTtyZXR1cm4hMH0hZnVuY3Rpb24odCl7dFt0LkZFVENIX05FRURFRD0wXT1cIkZFVENIX05FRURFRFwiLHRbdC5SRUZFVENIX05FRURFRD0xXT1cIlJFRkVUQ0hfTkVFREVEXCIsdFt0LkZFVENISU5HPTJdPVwiRkVUQ0hJTkdcIix0W3QuUkVGRVRDSElORz0zXT1cIlJFRkVUQ0hJTkdcIix0W3QuRE9ORT00XT1cIkRPTkVcIix0W3QuRlVMTD01XT1cIkZVTExcIn0oRXx8KEU9e30pKTtjb25zdCBnPWUoKTtleHBvcnR7bCBhcyBGZWF0dXJlVGlsZSxFIGFzIEZldGNoU3RhdHVzLEYgYXMgZmFpbGVkRmVhdHVyZUNvdW50fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7c29tZU1hcCBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHIsdGhyb3dJZkFib3J0ZWQgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtvbiBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtzY2hlZHVsZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NoZWR1bGluZy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBoLGVxdWFscyBhcyBjLGNsb25lIGFzIGQsZXhwYW5kIGFzIHAsdG9FeHRlbnQgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldE9iamVjdElkIGFzIG0saGFzVmVydGljZXMgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1YW50aXphdGlvblBhcmFtZXRlcnMuanNcIjtpbXBvcnQgRiBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7Vmlld2luZ01vZGUgYXMgeX1mcm9tXCIuLi8uLi8uLi9WaWV3aW5nTW9kZS5qc1wiO2ltcG9ydHtNdWx0aUZlYXR1cmVSZWZlcmVuY2UgYXMgVCxTaW5nbGVGZWF0dXJlUmVmZXJlbmNlIGFzIHh9ZnJvbVwiLi9mZWF0dXJlUmVmZXJlbmNlLmpzXCI7aW1wb3J0e2ZhaWxlZEZlYXR1cmVDb3VudCBhcyBFLEZldGNoU3RhdHVzIGFzIEMsRmVhdHVyZVRpbGUgYXMgUn1mcm9tXCIuL0ZlYXR1cmVUaWxlLmpzXCI7aW1wb3J0e3RpbGVzQXJlUmVsYXRlZCBhcyBifWZyb21cIi4uLy4uL3RlcnJhaW4vdGlsZVV0aWxzLmpzXCI7aW1wb3J0e0ltbWVkaWF0ZVRhc2sgYXMgdixUYXNrUHJpb3JpdHkgYXMgTX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2NvbnN0IHc9XCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LkZlYXR1cmVUaWxlRmV0Y2hlcjNEXCIsRD1zLmdldExvZ2dlcih3KTtsZXQgaj1jbGFzcyBleHRlbmRzIHR7c2V0IG1heGltdW1OdW1iZXJPZkZlYXR1cmVzKGUpe2U9ZXx8MS8wO2NvbnN0IHQ9dGhpcy5fZ2V0KFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIik7ZT09PXR8fGU8MXx8KHRoaXMuX3NldChcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIsZSksdGhpcy5fbWF4aW11bUZlYXR1cmVzVXBkYXRlZCh0LGUpKX1zZXQgbWVtb3J5RmFjdG9yKGUpe3RoaXMubWVtb3J5RmFjdG9yIT09ZSYmKHRoaXMuX3NldChcIm1lbW9yeUZhY3RvclwiLGUpLHRoaXMuX3NldERpcnR5KCkpfXNldCBsb2RGYWN0b3IoZSl7dGhpcy5sb2RGYWN0b3IhPT1lJiYodGhpcy5fc2V0KFwibG9kRmFjdG9yXCIsZSksdGhpcy5fc3VwcG9ydHNSZXNvbHV0aW9uJiZ0aGlzLnJlZmV0Y2goKSl9Z2V0IHVzZVRpbGVDb3VudCgpe3JldHVybiB0aGlzLl91c2VUaWxlQ291bnQmJm51bGwhPXRoaXMuY29udGV4dC5xdWVyeS5xdWVyeUZlYXR1cmVDb3VudH1zZXQgdXNlVGlsZUNvdW50KGUpe3RoaXMuX3VzZVRpbGVDb3VudD1lLHRoaXMubm90aWZ5Q2hhbmdlKFwidXNlVGlsZUNvdW50XCIpfWdldCBtZW1vcnlGb3JVbnVzZWRGZWF0dXJlcygpe2xldCBlPTA7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKCh0PT5lKz10LmVzdGltYXRlZFVudXNlZFNpemUpKSxlfWdldCB0b3RhbFZlcnRpY2VzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKHQ9PmUrPXQubnVtVmVydGljZXMpKSxlfWdldCB0b3RhbEZlYXR1cmVzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKHQ9PmUrPXQubnVtRmVhdHVyZXMpKSxlfXNldCBmaWx0ZXJFeHRlbnQoZSl7aWYobnVsbCE9ZSYmdGhpcy5jb250ZXh0LnRpbGluZ1NjaGVtZSYmIWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHModGhpcy5jb250ZXh0LnRpbGluZ1NjaGVtZS5zcGF0aWFsUmVmZXJlbmNlKSlyZXR1cm4gdm9pZCBELmVycm9yKFwiI2ZpbHRlckV4dGVudD1cIixcImV4dGVudCBuZWVkcyB0byBiZSBpbiB0aGUgc2FtZSBzcGF0aWFsIHJlZmVyZW5jZSBhcyB0aGUgdGlsaW5nIHNjaGVtZVwiKTtjb25zdCB0PXRoaXMuX2dldChcImZpbHRlckV4dGVudFwiKTtpZih0PT09ZXx8bnVsbCE9dCYmZSYmdC5lcXVhbHMoZSkpcmV0dXJuO2NvbnN0IHM9bnVsbCE9ZT9lLmNsb25lKCk6bnVsbDt0aGlzLl9zZXQoXCJmaWx0ZXJFeHRlbnRcIixzKSx0aGlzLl9yZWNsaXAocyx0KX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91c2VUaWxlQ291bnQ9ITEsdGhpcy51cGRhdGluZz0hMSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy51cGRhdGluZ1RvdGFsPTAsdGhpcy51cGRhdGluZ1JlbWFpbmluZz0wLHRoaXMuZXhwZWN0ZWRGZWF0dXJlRGlmZj0wLHRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZD0hMSx0aGlzLl9mdWxsUmF0aW89MSx0aGlzLl9mYXJSYXRpbz0xLHRoaXMuX2NoYW5nZXM9e3VwZGF0ZXM6e2FkZHM6bmV3IEFycmF5LHJlbW92ZXM6bmV3IEFycmF5fSxhZGRzOm5ldyBBcnJheSxyZW1vdmVzOm5ldyBBcnJheX0sdGhpcy5fZnJhbWVUYXNrPXYsdGhpcy5fZGlydHk9ITEsdGhpcy5fZmVhdHVyZVRpbGVzPW5ldyBNYXAsdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzPW5ldyBNYXAsdGhpcy5fbnVtRGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzPTAsdGhpcy5fc3VzcGVuZGVkPSEwLHRoaXMuX3BlbmRpbmdFZGl0cz1udWxsfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMobigoKCk9PnRoaXMudGlsZURlc2NyaXB0b3JzKSxcImNoYW5nZVwiLCgoKT0+dGhpcy5fc2V0RGlydHkoKSkse29uTGlzdGVuZXJBZGQ6KCk9PnRoaXMuX3NldERpcnR5KCl9KSksdGhpcy5fb2JqZWN0SWRGaWVsZD10aGlzLmNvbnRleHQub2JqZWN0SWRGaWVsZCx0aGlzLkZlYXR1cmVSZWZlcmVuY2VDbGFzcz10aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzTXVsdGlwbGVSZXNvbHV0aW9ucz9UOng7Y29uc3QgZT10aGlzLmNvbnRleHQuc2NoZWR1bGVyO251bGwhPWUmJih0aGlzLl9mcmFtZVRhc2s9ZS5yZWdpc3RlclRhc2soTS5GRUFUVVJFX1RJTEVfRkVUQ0hFUix0aGlzKSksdGhpcy5fc2V0RGlydHkoKX1kZXN0cm95KCl7dGhpcy5fZnJhbWVUYXNrLnJlbW92ZSgpLHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57dGhpcy5fY2FuY2VsRmV0Y2hUaWxlKGUpLHRoaXMuX3JlbW92ZVRpbGUoZSl9KSksdGhpcy5fZmVhdHVyZVRpbGVzLmNsZWFyKCksdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmNsZWFyKCksdGhpcy5fcGVuZGluZ0VkaXRzPy5jb250cm9sbGVyLmFib3J0KCksdGhpcy5fcGVuZGluZ0VkaXRzPW51bGx9Z2V0IF9wYXVzZWQoKXtyZXR1cm4gdGhpcy5fc3VzcGVuZGVkfHwhIXRoaXMuX3BlbmRpbmdFZGl0c31yZXN0YXJ0KCl7dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9Pnt0aGlzLl9jYW5jZWxGZXRjaFRpbGUoZSksdGhpcy5fY2xlYXJUaWxlKGUpLHRoaXMuX3Jlc2V0RmV0Y2hUaWxlKGUpfSkpLG51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZSYmdGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLmNsZWFyKCksdGhpcy5fc2V0RGlydHkoKX1yZWZldGNoKCl7dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9Pnt0aGlzLl9jYW5jZWxGZXRjaFRpbGUoZSksdGhpcy5fcmVzZXRGZXRjaFRpbGUoZSl9KSksbnVsbCE9dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlJiZ0aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUuY2xlYXIoKSx0aGlzLl9zZXREaXJ0eSgpfXN1c3BlbmQoKXt0aGlzLl9zdXNwZW5kZWR8fCh0aGlzLl9zdXNwZW5kZWQ9ITAsdGhpcy5fcGF1c2UoKSx0aGlzLl9zZXREaXJ0eSgpKX1yZXN1bWUoKXt0aGlzLl9zdXNwZW5kZWQmJih0aGlzLl9zdXNwZW5kZWQ9ITEsdGhpcy5fdW5wYXVzZSgpKX1fcGF1c2UoKXt0aGlzLl9wYXVzZWQmJih0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+dGhpcy5fY2FuY2VsRmV0Y2hUaWxlKGUpKSksdGhpcy5fdXBkYXRlZCgpKX1fdW5wYXVzZSgpe3RoaXMuX3BhdXNlZHx8KHRoaXMuX3NldERpcnR5KCksdGhpcy5fdXBkYXRlZCgpKX1nZXQgYXZhaWxhYmxlRmllbGRzKCl7bGV0IGU9bnVsbDtyZXR1cm4gdGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKHQ9PntudWxsIT10LmRpc3BsYXlpbmdGZWF0dXJlcyYmMCE9PXQuZGlzcGxheWluZ0ZlYXR1cmVzLmxlbmd0aCYmKG51bGw9PWU/ZT1uZXcgU2V0KHQuYXZhaWxhYmxlRmllbGRzKTplLmZvckVhY2goKHM9Pnt0LmF2YWlsYWJsZUZpZWxkcy5oYXMocyl8fGUuZGVsZXRlKHMpfSkpKX0pKSxudWxsIT1lP2U6bmV3IFNldH1hcHBseUVkaXRzKGUpe3RoaXMuX3BlbmRpbmdFZGl0c3x8KHRoaXMuX3BlbmRpbmdFZGl0cz17ZWRpdHM6UHJvbWlzZS5yZXNvbHZlKCksY291bnQ6MCxjb250cm9sbGVyOm5ldyBBYm9ydENvbnRyb2xsZXJ9LHRoaXMuX3BhdXNlKCkpO2NvbnN0IHQ9dGhpcy5fcGVuZGluZ0VkaXRzO3QuY291bnQrKztjb25zdCBzPXQuZWRpdHMudGhlbigoKCk9PmUucmVzdWx0LmNhdGNoKChlPT57aWYocihlKSl0aHJvdyBlO3JldHVybiBudWxsfSkpLnRoZW4oKGU9PmU/KHRoaXMuX2FwcGx5RWRpdHNEZWxldGVGZWF0dXJlcyhlLmRlbGV0ZWRGZWF0dXJlcyksdGhpcy5fYXBwbHlFZGl0c0FkZFVwZGF0ZUZlYXR1cmVzKGUuYWRkZWRGZWF0dXJlcyxlLnVwZGF0ZWRGZWF0dXJlcyx0LmNvbnRyb2xsZXIuc2lnbmFsKS50aGVuKCgoKT0+ZSkpKTplKSkudGhlbigoZT0+KDA9PS0tdC5jb3VudCYmKHRoaXMuX3BlbmRpbmdFZGl0cz09PXQmJih0aGlzLl9wZW5kaW5nRWRpdHM9bnVsbCksbnVsbCE9dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlJiZ0aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUuY2xlYXIoKSx0aGlzLl91bnBhdXNlKCksdGhpcy5fdXBkYXRlZCgpKSxlKSkpKSk7cmV0dXJuIHQuZWRpdHM9cyx0aGlzLl91cGRhdGVkKCksc31fYXBwbHlFZGl0c0RlbGV0ZUZlYXR1cmVzKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3QgdD10aGlzLmNvbnRleHQuZ2xvYmFsSWRGaWVsZCxzPXQmJnRoaXMuYXZhaWxhYmxlRmllbGRzLmhhcyh0KSxpPW5ldyBTZXQscj10aGlzLl9vYmplY3RJZEZpZWxkO2UuZm9yRWFjaCgoKHtvYmplY3RJZDplLGdsb2JhbElkOmF9KT0+eyghZXx8ZTwwKSYmdCYmYSYmKHN8fEQuZXJyb3JPbmNlUGVyVGljayhgRWRpdGluZyB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgcmVxdWlyZXMgdGhlIGxheWVyJ3MgZ2xvYmFsSWRGaWVsZCwgJHt0fSB0byBiZSBpbmNsdWRlZCB0aGUgbGF5ZXIncyBvdXRGaWVsZHMgZm9yIHVwZGF0ZXMgdG8gYmUgcmVmbGVjdGVkIGluIHRoZSB2aWV3YCksZT10aGlzLl9vYmplY3RJZEZyb21HbG9iYWxJZChhLHIsdCkpLG51bGwhPWUmJmU+PTAmJmkuYWRkKGUpfSkpLHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57aWYoIWUuZmVhdHVyZXMpcmV0dXJuO2NvbnN0IHQ9ZS5mZWF0dXJlcy5maWx0ZXIoKGU9PiFpLmhhcyhtKGUsdGhpcy5fb2JqZWN0SWRGaWVsZCkpKSk7dC5sZW5ndGghPT1lLmZlYXR1cmVzLmxlbmd0aCYmKGUuc2V0RmVhdHVyZXModCwwLGUuYXZhaWxhYmxlRmllbGRzKSx0aGlzLl9pbnZhbGlkYXRlQ291bnRzKCkpfSkpfV9vYmplY3RJZEZyb21HbG9iYWxJZChlLHQscyl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuZmVhdHVyZXMuZmluZCgodD0+dC5hdHRyaWJ1dGVzPy5bc109PT1lKSk7cmV0dXJuIGk/bShpLHQpOm51bGx9YXN5bmMgX2FwcGx5RWRpdHNBZGRVcGRhdGVGZWF0dXJlcyhlLHQscyl7Y29uc3R7b2JqZWN0SWRGaWVsZDppLGdsb2JhbElkRmllbGQ6cn09dGhpcy5jb250ZXh0LGE9ciYmdGhpcy5hdmFpbGFibGVGaWVsZHMuaGFzKHIpLG49bmV3IFNldCxvPW5ldyBTZXQ7Zm9yKGNvbnN0IGwgb2YgZSl7Y29uc3QgZT1sLm9iamVjdElkO251bGwhPWUmJm4uYWRkKGUpfWZvcihjb25zdHtvYmplY3RJZDpsLGdsb2JhbElkOmh9b2YgdCl7bGV0IGU9bDsobnVsbD09ZXx8ZTwwKSYmciYmKGF8fEQuZXJyb3JPbmNlUGVyVGljayhgRWRpdGluZyB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgcmVxdWlyZXMgdGhlIGxheWVyJ3MgZ2xvYmFsSWRGaWVsZCwgJHtyfSB0byBiZSBpbmNsdWRlZCB0aGUgbGF5ZXIncyBvdXRGaWVsZHMgZm9yIHVwZGF0ZXMgdG8gYmUgcmVmbGVjdGVkIGluIHRoZSB2aWV3YCksZT10aGlzLl9vYmplY3RJZEZyb21HbG9iYWxJZChoLGkscikpLG51bGwhPWUmJmU+PTAmJihuLmFkZChlKSxvLmFkZChlKSl9aWYoMD09PW4uc2l6ZSlyZXR1cm47Y29uc3QgdT1bXTt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5fYXBwbHlFZGl0c0FkZFVwZGF0ZVRpbGUoZSxuLG8scyk7dCYmdS5wdXNoKHQpfSkpLGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh1KX1hc3luYyBfYXBwbHlFZGl0c0FkZFVwZGF0ZVRpbGUoZSx0LHMsaSl7aWYoIWUuZmVhdHVyZXMpcmV0dXJuO2NvbnN0IHI9dGhpcy5fY3JlYXRlUXVlcnkoZSk7ci5yZXN1bHRUeXBlPXZvaWQgMCxyLmNhY2hlSGludD0hMSxyLm9iamVjdElkcz1BcnJheS5mcm9tKHQpO2NvbnN0IGE9YXdhaXQgdGhpcy5fcXVlcnlGZWF0dXJlcyhyLGkpO2xldCBuPW51bGw7aWYocy5zaXplPjApe2NvbnN0IHQ9ZS5mZWF0dXJlcy5maWx0ZXIoKGU9PiFzLmhhcyhtKGUsdGhpcy5fb2JqZWN0SWRGaWVsZCkpKSk7dC5sZW5ndGghPT1lLmZlYXR1cmVzLmxlbmd0aCYmKG49dCl9aWYoYS5mZWF0dXJlcy5sZW5ndGg+MCl7bnx8KG49ZS5mZWF0dXJlcy5zbGljZSgpKTtmb3IoY29uc3QgZSBvZiBhLmZlYXR1cmVzKW4ucHVzaChlKX1uJiYoZS5oYXNQcmVjaXNlRmVhdHVyZUNvdW50JiYoZS5udW1GZWF0dXJlcz1NYXRoLm1heChlLm51bUZlYXR1cmVzLG4ubGVuZ3RoKSksZS5zZXRGZWF0dXJlcyhuLDAscShlLmF2YWlsYWJsZUZpZWxkcyxhLmZpZWxkcykpLHRoaXMuX2ludmFsaWRhdGVDb3VudHMoKSl9X3F1ZXJ5RmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5jb250ZXh0LnF1ZXJ5LnF1ZXJ5RmVhdHVyZXNEZWh5ZHJhdGVkKGUse3NpZ25hbDp0LHRpbWVvdXQ6UX0pfV9zZXREaXJ0eSgpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3VwZGF0ZWQoKX1ydW5UYXNrKGUpe2lmKHRoaXMuX2ZyYW1lVGFzay5wcm9jZXNzUXVldWUoZSksIXRoaXMuX2RpcnR5fHwhdGhpcy5pbml0aWFsaXplZClyZXR1cm47dGhpcy5fZGlydHk9ITE7Y29uc3QgdD10aGlzLl9nZXRMaXN0T2ZUaWxlcygpO2lmKHRoaXMuX21hcmtUaWxlc05vdEFsaXZlKHQpLCFlLnJ1bigoKCk9PnRoaXMuX2FkZFRpbGVzKHQsZSkpKXx8IWUucnVuKCgoKT0+dGhpcy5fZmlsdGVyRXh0ZW50VGlsZXModCxlKSkpfHwhZS5ydW4oKCgpPT50aGlzLl9yZW1vdmVUaWxlcyh0LGUpKSl8fGUuZG9uZSlyZXR1cm4gdm9pZCB0aGlzLl9zZXREaXJ0eSgpO2NvbnN0IHM9dGhpcy5fc29ydFRpbGVzKHQpO2UucnVuKCgoKT0+dGhpcy5fc2hvd1RpbGVzKHMsZSkpKSYmZS5ydW4oKCgpPT50aGlzLl9mZXRjaFRpbGVzKHMsZSkpKSYmZS5ydW4oKCgpPT50aGlzLl91cGRhdGVNZW1vcnlFc3RpbWF0ZXMocyxlKSkpfHx0aGlzLl9zZXREaXJ0eSgpLHRoaXMuX3VwZGF0ZWQoKSx0aGlzLnVwZGF0aW5nfHx0aGlzLl91cGRhdGVNYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKCl9X21hcmtUaWxlc05vdEFsaXZlKGUpe2Zvcihjb25zdCB0IG9mIGUpdC5hbGl2ZT0hMX1fYWRkVGlsZXMoZSx0KXtyZXR1cm4hKHRoaXMuX3N1c3BlbmRlZHx8IXRoaXMudGlsZURlc2NyaXB0b3JzKSYmKHRoaXMudGlsZURlc2NyaXB0b3JzLmZvckVhY2goKHM9Pntjb25zdCBpPXRoaXMuX2ZlYXR1cmVUaWxlcy5nZXQocy5pZCk7aT9pLmFsaXZlPSEwOnQuZG9uZXx8KGUucHVzaCh0aGlzLl9hZGRUaWxlKHMpKSx0Lm1hZGVQcm9ncmVzcygpKX0pKSx0Lmhhc1Byb2dyZXNzZWQpfV9maWx0ZXJFeHRlbnRUaWxlcyhlLHQpe2Zvcihjb25zdCBzIG9mIGUpe2lmKHQuZG9uZSlicmVhaztzLmFsaXZlJiYocy5maWx0ZXJlZD0hcy5pbnRlcnNlY3RzKHRoaXMuZmlsdGVyRXh0ZW50KSxzLmZpbHRlcmVkJiYodGhpcy5fY2xlYXJUaWxlKHMpLHQubWFkZVByb2dyZXNzKCkpKX1yZXR1cm4gdC5oYXNQcm9ncmVzc2VkfV9yZW1vdmVUaWxlcyhlLHQpe2ZvcihsZXQgcz1lLmxlbmd0aC0xO3M+PTAmJiF0LmRvbmU7cy0tKXtjb25zdCBpPWVbc107aS5hbGl2ZXx8KHRoaXMuX3JlbW92ZVRpbGUoaSkscyE9PWUubGVuZ3RoLTEmJihlW3NdPWVbZS5sZW5ndGgtMV0pLGUucG9wKCksdC5tYWRlUHJvZ3Jlc3MoKSl9cmV0dXJuIHQuaGFzUHJvZ3Jlc3NlZH1fc29ydFRpbGVzKGUpe3JldHVybiBlLnNvcnQoKChlLHQpPT4oZS5kZXNjcmlwdG9yLmxvYWRQcmlvcml0eT8/MCktKHQuZGVzY3JpcHRvci5sb2FkUHJpb3JpdHk/PzApKSksZX1fc2hvd1RpbGVzKGUsdCl7Y29uc3Qgcz10aGlzLl91cGRhdGVSYXRpbyhlKSxpPWU9Pntjb25zdCB0PXRoaXMuX2Z1bGxSYXRpbzwxP3MoZSkqdGhpcy5fZmFyUmF0aW86MTtyZXR1cm4gZS5yZWR1Y2VGZWF0dXJlcyh0LHRoaXMubWVtb3J5RmFjdG9yLHRoaXMuX29iamVjdElkRmllbGQpJiZ0aGlzLl9zZXREaXJ0eSgpLHRoaXMuX3Nob3dUaWxlKGUpfTtmb3IoY29uc3QgciBvZiBlKWlmKCF0LnJ1bigoKCk9PmkocikpKSl7dGhpcy5fc2V0RGlydHkoKTticmVha31yZXR1cm4gdC5oYXNQcm9ncmVzc2VkfV9mZXRjaFRpbGVzKGUsdCl7aWYodGhpcy5fcGF1c2VkKXJldHVybiExO2xldCBzPSExO2Zvcihjb25zdCBpIG9mIGUpe2lmKCFpLm5lZWRzRmV0Y2hpbmcpY29udGludWU7Y29uc3QgZT1udWxsIT10aGlzLmNvbnRleHQubWVtb3J5Q2FjaGU/dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLnBvcChpLmlkKTpudWxsO2lmKG51bGw9PWUpe2lmKHRoaXMuX25lZWRzTnVtRmVhdHVyZXMoaSkpe2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcixyPXRoaXMuX2ZldGNoVGlsZUNvdW50KGksZS5zaWduYWwpO3RoaXMuX2hhbmRsZVJlcXVlc3QoaSxyLGUsKCgpPT5pLm51bUZlYXR1cmVzPUUpKSxzPSEwLHQubWFkZVByb2dyZXNzKCl9aWYodC5kb25lKXJldHVybiEwfWVsc2UgaS5jYWNoZT1lLHRoaXMuX3NldERpcnR5KCksdGhpcy5fc2NoZWR1bGVVcGRhdGVkKCksdC5tYWRlUHJvZ3Jlc3MoKX1pZihzKXJldHVybiB0Lmhhc1Byb2dyZXNzZWQ7Zm9yKGNvbnN0IGkgb2YgZSlpZihpLm5lZWRzRmV0Y2hpbmcpe2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcixzPXRoaXMuX2ZldGNoVGlsZShpLGUuc2lnbmFsKTtpZih0aGlzLl9oYW5kbGVSZXF1ZXN0KGkscyxlLChlPT57aS5zZXRGZWF0dXJlcyhbXSwwLG51bGwpLHRoaXMuX2ludmFsaWRhdGVDb3VudHMoKSxpLmZlYXR1cmVzTWlzc2luZz0hMSx0aGlzLmNvbnRleHQubG9nRmV0Y2hFcnJvcihELGUpfSkpLHQubWFkZVByb2dyZXNzKCkpcmV0dXJuITB9cmV0dXJuIHQuaGFzUHJvZ3Jlc3NlZH1fdXBkYXRlTWVtb3J5RXN0aW1hdGVzKGUsdCl7cmV0dXJuIGUuc29tZSgoZT0+IXQucnVuKCgoKT0+ZS51cGRhdGVNZW1vcnlFc3RpbWF0ZXMoKSkpJiYodGhpcy5fc2V0RGlydHkoKSwhMCkpKSx0Lmhhc1Byb2dyZXNzZWR9X3JlY2xpcChlLHQpe2lmKCF0aGlzLmluaXRpYWxpemVkKXJldHVybjtjb25zdCBzPW5ldyBBcnJheTt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoaT0+e251bGwhPWkuZGlzcGxheWluZ0ZlYXR1cmVzJiYwIT09aS5kaXNwbGF5aW5nRmVhdHVyZXMubGVuZ3RoJiYoaS5pbnRlcnNlY3Rpb25JbmNsdWRpbmdCb3Jyb3dlZCh0LEwpLGkuaW50ZXJzZWN0aW9uSW5jbHVkaW5nQm9ycm93ZWQoZSxIKSxjKEwsSCl8fHMucHVzaChpKSl9KSksdGhpcy5fcmVmcmVzaERpc3BsYXlpbmdGZWF0dXJlcyhzKSx0aGlzLl91cGRhdGVkKCl9X3JlZnJlc2hEaXNwbGF5aW5nRmVhdHVyZXMoZSl7Y29uc3QgdD1uZXcgU2V0LHM9dGhpcy5fY2hhbmdlcy51cGRhdGVzO2Zvcihjb25zdCBpIG9mIGUpaWYobnVsbCE9aS5kaXNwbGF5aW5nRmVhdHVyZXMpZm9yKGNvbnN0IGUgb2YgaS5kaXNwbGF5aW5nRmVhdHVyZXMpe2NvbnN0IGk9bShlLHRoaXMuX29iamVjdElkRmllbGQpO2lmKHQuaGFzKGkpKWNvbnRpbnVlO3QuYWRkKGkpO2NvbnN0IHI9dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmdldChpKS5mZWF0dXJlO3MucmVtb3Zlcy5wdXNoKHIpLHMuYWRkcy5wdXNoKHIpfXRoaXMuX2FwcGx5Q2hhbmdlcygpfV91cGRhdGVkKCl7bGV0IGU9MDt0aGlzLl9wYXVzZWR8fHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKCh0PT50LmlzRmV0Y2hpbmc/KytlOjApKTtjb25zdCB0PXRoaXMuX2RpcnR5fHwhIXRoaXMuX3BlbmRpbmdFZGl0c3x8ZT4wO2lmKHRoaXMuX3NldChcInJ1bm5pbmdcIix0aGlzLl9kaXJ0eSksdGhpcy5fc2V0KFwidXBkYXRpbmdcIix0KSx0KXtsZXQgdD0wLHM9MCxpPTAscj0wLGE9MDtjb25zdCBuPXRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5zaXplL3RoaXMuX251bURpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlczt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e2lmKCsrcyxlLmlzRmV0Y2hpbmcmJmUuaGFzUHJlY2lzZUZlYXR1cmVDb3VudCl7Y29uc3QgdD10aGlzLl9tYXhpbXVtRmVhdHVyZXNGb3JUaWxlKGUpKigxLWUuZW1wdHlGZWF0dXJlUmF0aW8pLHM9bnVsbCE9ZS5kaXNwbGF5aW5nRmVhdHVyZXM/ZS5kaXNwbGF5aW5nRmVhdHVyZXMubGVuZ3RoKm46MDthKz10LXN9ZS5uZWVkc0ZldGNoaW5nPysrcjplLm51bUZlYXR1cmVzPjAmJigrK2ksdCs9ZS5udW1GZWF0dXJlcyl9KSkscis9ZTtsZXQgbz0wLHU9MDt0Pyh1PXQsbz1NYXRoLm1pbihyKnQvaSx0KSk6KHU9cyxvPXIpLGE9TWF0aC5taW4odGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcy10aGlzLmZlYXR1cmVzLmxlbmd0aCxhKSx0aGlzLl9zZXQoXCJ1cGRhdGluZ1RvdGFsXCIsdSksdGhpcy5fc2V0KFwidXBkYXRpbmdSZW1haW5pbmdcIixvKSx0aGlzLl9zZXQoXCJleHBlY3RlZEZlYXR1cmVEaWZmXCIsYSl9ZWxzZSB0aGlzLl9zZXQoXCJ1cGRhdGluZ1RvdGFsXCIsMCksdGhpcy5fc2V0KFwidXBkYXRpbmdSZW1haW5pbmdcIiwwKSx0aGlzLl9zZXQoXCJleHBlY3RlZEZlYXR1cmVEaWZmXCIsMCk7dGhpcy5kZWJ1Z2dlciYmdGhpcy5kZWJ1Z2dlci51cGRhdGUoKX1fdXBkYXRlTWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCgpe2NvbnN0IGU9aSh0aGlzLl9mZWF0dXJlVGlsZXMsKGU9PmUucGVyVGlsZU1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQpKTt0aGlzLl9zZXQoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkXCIsZSl9X3VwZGF0ZVJhdGlvKGUpe2NvbnN0IHQ9UChlKSxzPWU9PjEvKDE8PE1hdGgubWF4KDAsdC1lLmRlc2NyaXB0b3IubGlqWzBdKSk7bGV0IGk9MCxyPTA7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1hLm51bUZlYXR1cmVzO2krPWUscis9ZSpzKGEpfXJldHVybiB0aGlzLl9mdWxsUmF0aW89TWF0aC5taW4oMSx0aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzL2kpLHRoaXMuX2ZhclJhdGlvPXRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXMvcix0aGlzLl9zY2hlZHVsZVVwZGF0ZWQoKSxzfV9tYXhpbXVtRmVhdHVyZXNVcGRhdGVkKGUsdCl7ZSE9PXQmJih0PmUmJnRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57aWYoIWUuZmVhdHVyZXNNaXNzaW5nKXJldHVybjtjb25zdCB0PXRoaXMuX21heGltdW1GZWF0dXJlc0ZvclRpbGUoZSk7ZS5mZWF0dXJlcyYmKGUuZmVhdHVyZXMubGVuZ3RoPj10fHxlLmZldGNoU3RhdHVzPT09Qy5GVUxMKXx8KHRoaXMuX2NhbmNlbEZldGNoVGlsZShlKSx0aGlzLl9yZXNldEZldGNoVGlsZShlKSl9KSksdGhpcy5fc2V0RGlydHkoKSl9X2FkZFRpbGUoZSl7Y29uc3QgdD1uZXcgUihlKTtyZXR1cm4gdGhpcy5fZmVhdHVyZVRpbGVzLnNldCh0LmlkLHQpLHRoaXMuX3Jlc2V0RmV0Y2hUaWxlKHQpLHRoaXMuX3JlZmVyZW5jZURpc3BsYXlpbmdGZWF0dXJlc0Zyb21SZWxhdGVkVGlsZXModCksdH1fcmVmZXJlbmNlRGlzcGxheWluZ0ZlYXR1cmVzRnJvbVJlbGF0ZWRUaWxlcyhlKXtjb25zdCB0PWUuZGVzY3JpcHRvci5yZXNvbHV0aW9uO3RoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChzPT57aWYoIShudWxsPT1zLmRpc3BsYXlpbmdGZWF0dXJlc3x8ZT09PXN8fGUuZGVzY3JpcHRvci5saWomJnMuZGVzY3JpcHRvci5saWomJiFiKGUuZGVzY3JpcHRvci5saWoscy5kZXNjcmlwdG9yLmxpaikpKXtudWxsPT1lLmRpc3BsYXlpbmdGZWF0dXJlcyYmKGUuZGlzcGxheWluZ0ZlYXR1cmVzPVtdKSxlLmRlc2NyaXB0b3IuZXh0ZW50JiZzLmRlc2NyaXB0b3IuZXh0ZW50JiYobnVsbD09ZS5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzJiYoZS5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzPWQoZS5kZXNjcmlwdG9yLmV4dGVudCkpLHAoZS5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzLHMuZGVzY3JpcHRvci5leHRlbnQsZS5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzKSk7Zm9yKGNvbnN0IGkgb2Ygcy5kaXNwbGF5aW5nRmVhdHVyZXMpe2UuZGlzcGxheWluZ0ZlYXR1cmVzLnB1c2goaSk7Y29uc3Qgcz10aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMuZ2V0KG0oaSx0aGlzLl9vYmplY3RJZEZpZWxkKSk7cy5yZWYocy5mZWF0dXJlLHQpLHRoaXMuX251bURpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcysrfX19KSksZS5mZWF0dXJlTGltaXQ9bnVsbCE9ZS5kaXNwbGF5aW5nRmVhdHVyZXM/ZS5kaXNwbGF5aW5nRmVhdHVyZXMubGVuZ3RoOjB9X3JlbW92ZVRpbGUoZSl7dGhpcy5fY2xlYXJUaWxlKGUpLHRoaXMuX2ZlYXR1cmVUaWxlcy5kZWxldGUoZS5pZCl9X3Jlc2V0RmV0Y2hUaWxlKGUpe2UuZmlsdGVyZWQ9IWUuaW50ZXJzZWN0cyh0aGlzLmZpbHRlckV4dGVudCksZS5maWx0ZXJlZD9lLm5lZWRzRmV0Y2hpbmcmJihlLmZldGNoU3RhdHVzPUMuRE9ORSk6ZS5mZXRjaFN0YXR1cz1DLkZFVENIX05FRURFRH1fY2FuY2VsRmV0Y2hUaWxlKGUpe2NvbnN0IHQ9ZS5yZXF1ZXN0Q29udHJvbGxlcjtudWxsIT10JiYoZS5yZXF1ZXN0Q29udHJvbGxlcj1udWxsLGUucmVzZXRGZXRjaGluZygpLHQuYWJvcnQoKSl9YXN5bmMgX2ZldGNoVGlsZUNvdW50KGUsdCl7cmV0dXJuIGUubnVtRmVhdHVyZXM9YXdhaXQgdGhpcy5fZmV0Y2hDb3VudChlLHQpLHRoaXMuX3VwZGF0ZVJhdGlvKHRoaXMuX2dldExpc3RPZlRpbGVzKCkpLGUuZmV0Y2hTdGF0dXM9PT1DLlJFRkVUQ0hJTkc/Qy5SRUZFVENIX05FRURFRDpDLkZFVENIX05FRURFRH1hc3luYyBfZmV0Y2hUaWxlKGUsdCl7Y29uc3Qgcz10aGlzLl9tYXhpbXVtRmVhdHVyZXNGb3JUaWxlKGUpO2lmKHM8PTApcmV0dXJuIFUoZSk7Y29uc3QgaT10aGlzLl9nZXRNYXhSZWNvcmRDb3VudChlKSxyPU1hdGguY2VpbChzL2kpO2lmKE8oZSl8fCF0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3J8fGUubnVtRmVhdHVyZXM8PXMmJnI+Ri5NQVhfTUFYX1JFQ09SRF9DT1VOVF9GQUNUT1IpcmV0dXJuIHRoaXMuX2ZldGNoUGFnZWRUaWxlKGUsdCk7Y29uc3Qgbj10aGlzLl9jcmVhdGVRdWVyeShlKTtpZihuLm1heFJlY29yZENvdW50RmFjdG9yPU1hdGguY2VpbChzL2kpLGUuaXNSZWZldGNoaW5nJiZlLmZlYXR1cmVzJiZlLmZlYXR1cmVzLmxlbmd0aD4wKXtjb25zdCB0PU1hdGguY2VpbChlLmZlYXR1cmVzLmxlbmd0aC8oMS1lLmVtcHR5RmVhdHVyZVJhdGlvKS9pKTtuLm1heFJlY29yZENvdW50RmFjdG9yPU1hdGgubWF4KHQrMSxuLm1heFJlY29yZENvdW50RmFjdG9yKX1jb25zdHtmZWF0dXJlczpvLGV4Y2VlZGVkVHJhbnNmZXJMaW1pdDp1LGZpZWxkczpsfT1hd2FpdCB0aGlzLl9xdWVyeUZlYXR1cmVzKG4sdCksaD11P24ubWF4UmVjb3JkQ291bnRGYWN0b3I+PUYuTUFYX01BWF9SRUNPUkRfQ09VTlRfRkFDVE9SP0MuRlVMTDpDLkRPTkU6Qy5GVUxMO3JldHVybiBhd2FpdCB0aGlzLl9mcmFtZVRhc2suc2NoZWR1bGUoKCgpPT57ZS5mZWF0dXJlc01pc3Npbmc9by5sZW5ndGg8ZS5udW1GZWF0dXJlc3x8ISF1O2NvbnN0IHQ9dGhpcy5fcmVtb3ZlRW1wdHlGZWF0dXJlcyhvKTtlLnNldEZlYXR1cmVzKG8sdCxBKGwpKX0pLHQpLGEodCksdGhpcy5faW52YWxpZGF0ZUNvdW50cygpLGh9YXN5bmMgX2ZldGNoQ291bnQoZSx0KXtyZXR1cm4gdGhpcy5jb250ZXh0LnF1ZXJ5LnF1ZXJ5RmVhdHVyZUNvdW50KHRoaXMuX2NyZWF0ZUZlYXR1cmVDb3VudFF1ZXJ5KGUpLHtzaWduYWw6dH0pfWFzeW5jIF9mZXRjaFBhZ2VkVGlsZShlLHQpe2xldCBzLGk9MCxyPTAsbj0wLG89dGhpcy5fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKS1uO2NvbnN0IHU9dGhpcy5fZ2V0TWF4UmVjb3JkQ291bnQoZSk7bGV0IGw9bnVsbDtmb3IoOzspe2NvbnN0IGg9dGhpcy5fY3JlYXRlUXVlcnkoZSksYz10aGlzLl9zZXRQYWdpbmdQYXJhbWV0ZXJzKGgsaSxvLHUpLHtmZWF0dXJlczpkLGV4Y2VlZGVkVHJhbnNmZXJMaW1pdDpwLGZpZWxkczpmfT1hd2FpdCB0aGlzLl9xdWVyeUZlYXR1cmVzKGgsdCk7aWYoYXdhaXQgdGhpcy5fZnJhbWVUYXNrLnNjaGVkdWxlKCgoKT0+e2MmJihpKz1oLm51bSksbis9ZC5sZW5ndGgscis9dGhpcy5fcmVtb3ZlRW1wdHlGZWF0dXJlcyhkKSxlLmZlYXR1cmVzTWlzc2luZz1pPGUubnVtRmVhdHVyZXN8fCEhcCxzPXM/cy5jb25jYXQoZCk6ZCxsPXEobCxmKSxlLnNldEZlYXR1cmVzKHMscixsKX0pLHQpLGEodCksdGhpcy5faW52YWxpZGF0ZUNvdW50cygpLHRoaXMuX3NldERpcnR5KCksbz10aGlzLl9tYXhpbXVtRmVhdHVyZXNGb3JUaWxlKGUpLW4sIWN8fCFwfHxvPD0wKXJldHVybiBwP0MuRE9ORTpDLkZVTEx9fV9jcmVhdGVGZWF0dXJlQ291bnRRdWVyeShlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZVF1ZXJ5KGUpO3JldHVybiB0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzQ2FjaGVIaW50JiYodC5yZXN1bHRUeXBlPXZvaWQgMCx0LmNhY2hlSGludD0hMCksdH1fY3JlYXRlUXVlcnkoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuY3JlYXRlUXVlcnkoKSxzPWUuZGVzY3JpcHRvci5leHRlbnQ7aWYocyl7Y29uc3QgZT10aGlzLmNvbnRleHQudGlsaW5nU2NoZW1lLnNwYXRpYWxSZWZlcmVuY2U7dC5nZW9tZXRyeT1mKHMsZSl9cmV0dXJuIHRoaXMuX3NldFJlc29sdXRpb25QYXJhbXModCxlKSx0aGlzLl91c2VUaWxlUXVlcnkoZSk/dC5yZXN1bHRUeXBlPVwidGlsZVwiOnRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNDYWNoZUhpbnQmJih0LmNhY2hlSGludD0hMCksdH1fc2V0UGFnaW5nUGFyYW1ldGVycyhlLHQscyxpKXtyZXR1cm4hIXRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNQYWdpbmF0aW9uJiYoZS5zdGFydD10LHM+MCYmdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yPyhlLm1heFJlY29yZENvdW50RmFjdG9yPU1hdGguY2VpbChzL2kpLGUubnVtPU1hdGgubWluKGUubWF4UmVjb3JkQ291bnRGYWN0b3IqaSxzKSk6ZS5udW09TWF0aC5taW4oaSksITApfV9nZXRFZmZlY3RpdmVUaWxlUmVzb2x1dGlvbihlKXtpZihudWxsPT1lLmRlc2NyaXB0b3IucmVzb2x1dGlvbilyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuY29udGV4dC52aWV3aW5nTW9kZT09PXkuR2xvYmFsP3RoaXMuY29udGV4dC50aWxpbmdTY2hlbWUucmVzb2x1dGlvbkF0TGV2ZWwoMyk6MS8wO3JldHVybiBNYXRoLm1pbihlLmRlc2NyaXB0b3IucmVzb2x1dGlvbix0KS90aGlzLmxvZEZhY3Rvcn1nZXQgX3N1cHBvcnRzUmVzb2x1dGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzTXVsdGlwbGVSZXNvbHV0aW9ucyYmXCJwb2ludFwiIT09dGhpcy5jb250ZXh0Lmdlb21ldHJ5VHlwZX1fc2V0UmVzb2x1dGlvblBhcmFtcyhlLHQpe2lmKCF0aGlzLl9zdXBwb3J0c1Jlc29sdXRpb24pcmV0dXJuO2NvbnN0IHM9dGhpcy5fZ2V0RWZmZWN0aXZlVGlsZVJlc29sdXRpb24odCk7bnVsbCE9cyYmKHRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNRdWFudGl6YXRpb24/ZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW5ldyBnKHttb2RlOlwidmlld1wiLG9yaWdpblBvc2l0aW9uOlwidXBwZXItbGVmdFwiLHRvbGVyYW5jZTpzLGV4dGVudDp0aGlzLmNvbnRleHQuZnVsbEV4dGVudH0pOlwicG9seWxpbmVcIj09PXRoaXMuY29udGV4dC5nZW9tZXRyeVR5cGUmJihlLm1heEFsbG93YWJsZU9mZnNldD1zKSl9X3JlbW92ZUVtcHR5RmVhdHVyZXMoZSl7Y29uc3QgdD1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPGUubGVuZ3RoOyl7Y29uc3QgdD1lW3NdO18odC5nZW9tZXRyeSk/KytzOihlW3NdPWVbZS5sZW5ndGgtMV0sLS1lLmxlbmd0aCl9cmV0dXJuIHQtZS5sZW5ndGh9X25lZWRzTnVtRmVhdHVyZXMoZSl7cmV0dXJuIHRoaXMudXNlVGlsZUNvdW50JiZlLm5lZWRzRmVhdHVyZUNvdW50JiYhTyhlKX1fZ2V0TWF4UmVjb3JkQ291bnQoZSl7Y29uc3R7dGlsZU1heFJlY29yZENvdW50OnQsbWF4UmVjb3JkQ291bnQ6c309dGhpcy5jb250ZXh0O3JldHVybiB0aGlzLl91c2VUaWxlUXVlcnkoZSkmJm51bGwhPXQmJnQ+MCYmdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c1Jlc3VsdFR5cGU/dDpudWxsIT1zJiZzPjA/czpTfV91c2VUaWxlUXVlcnkoZSl7cmV0dXJuKCFPKGUpfHwhdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c0NhY2hlSGludCkmJnRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNSZXN1bHRUeXBlfV9oYW5kbGVSZXF1ZXN0KGUsdCxzLGkpe2UuZmV0Y2hTdGF0dXM9ZS5uZWVkc1JlZmV0Y2hpbmc/Qy5SRUZFVENISU5HOkMuRkVUQ0hJTkcsZS5yZXF1ZXN0Q29udHJvbGxlcj1zO2xldCBhPSExO3QudGhlbigodD0+e2UucmVxdWVzdENvbnRyb2xsZXI9bnVsbCxlLmZldGNoU3RhdHVzPXR9KSkuY2F0Y2goKHQ9PntlLnJlcXVlc3RDb250cm9sbGVyPT09cyYmKGUucmVxdWVzdENvbnRyb2xsZXI9bnVsbCxlLmZldGNoU3RhdHVzPUMuRE9ORSkscih0KT9hPSEwOmkodCl9KSkudGhlbigoKCk9PnthfHx0aGlzLl9zZXREaXJ0eSgpLHRoaXMuX3NjaGVkdWxlVXBkYXRlZCgpfSkpfV9zY2hlZHVsZVVwZGF0ZWQoKXt0aGlzLmhhc0hhbmRsZXMoXCJzY2hlZHVsZVVwZGF0ZWRcIil8fHRoaXMuYWRkSGFuZGxlcyhvKCgoKT0+e3RoaXMucmVtb3ZlSGFuZGxlcyhcInNjaGVkdWxlVXBkYXRlZFwiKSx0aGlzLl91cGRhdGVkKCl9KSksXCJzY2hlZHVsZVVwZGF0ZWRcIil9X3Nob3dUaWxlKGUpe2lmKG51bGwhPWUuZGlzcGxheWluZ0ZlYXR1cmVzJiYhZS5uZWVkc0Rpc3BsYXlVcGRhdGUpcmV0dXJuITE7Y29uc3QgdD1lLmZlYXR1cmVzO2lmKDA9PT1lLmZlYXR1cmVMaW1pdHx8IXQpe2NvbnN0IHQ9bnVsbCE9ZS5kaXNwbGF5aW5nRmVhdHVyZXMmJmUuZGlzcGxheWluZ0ZlYXR1cmVzLmxlbmd0aD4wO3JldHVybiB0aGlzLl9oaWRlVGlsZUZlYXR1cmVzKGUpLGUuZGlzcGxheWluZ0ZlYXR1cmVzPVtdLHR9Y29uc3Qgcz1lLmRlc2NyaXB0b3IucmVzb2x1dGlvbixpPXRoaXMuX2NoYW5nZXMudXBkYXRlcyxyPXRoaXMuX2NoYW5nZXMuYWRkcyxhPU1hdGgubWluKGUuZmVhdHVyZUxpbWl0LHQubGVuZ3RoKTtlLmZlYXR1cmVMaW1pdD1hO2ZvcihsZXQgbj0wO248YTsrK24pe2NvbnN0IGU9dFtuXSxhPW0oZSx0aGlzLl9vYmplY3RJZEZpZWxkKSxvPXRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5nZXQoYSk7aWYobyl7Y29uc3QgdD1vLnJlZihlLHMpO3Qub2xkVmVyc2lvbiE9PXQubmV3VmVyc2lvbiYmKHQub2xkVmVyc2lvbiYmaS5yZW1vdmVzLnB1c2godC5vbGRWZXJzaW9uKSx0Lm5ld1ZlcnNpb24mJmkuYWRkcy5wdXNoKHQubmV3VmVyc2lvbikpfWVsc2UgdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLnNldChhLG5ldyB0aGlzLkZlYXR1cmVSZWZlcmVuY2VDbGFzcyhlLHMpKSxyLnB1c2goZSk7dGhpcy5fbnVtRGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzKyt9cmV0dXJuIHRoaXMuX2hpZGVUaWxlRmVhdHVyZXMoZSksdGhpcy5fYXBwbHlDaGFuZ2VzKCksZS5kaXNwbGF5aW5nRmVhdHVyZXM9dC5zbGljZSgwLGEpLCEwfV9oaWRlVGlsZShlKXt0aGlzLl9jYW5jZWxGZXRjaFRpbGUoZSksdGhpcy5faGlkZVRpbGVGZWF0dXJlcyhlKX1faGlkZVRpbGVGZWF0dXJlcyhlKXtpZihudWxsPT1lLmRpc3BsYXlpbmdGZWF0dXJlcylyZXR1cm47Y29uc3QgdD10aGlzLl9jaGFuZ2VzLnVwZGF0ZXMscz10aGlzLl9jaGFuZ2VzLnJlbW92ZXM7Zm9yKGNvbnN0IGkgb2YgZS5kaXNwbGF5aW5nRmVhdHVyZXMpe2NvbnN0IHI9bShpLHRoaXMuX29iamVjdElkRmllbGQpLGE9dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmdldChyKTtpZighYSljb250aW51ZTtjb25zdCBuPWEudW5yZWYoZS5kZXNjcmlwdG9yLnJlc29sdXRpb24pO3RoaXMuX251bURpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy0tLG4/bi5vbGRWZXJzaW9uIT09bi5uZXdWZXJzaW9uJiYobnVsbD09bi5uZXdWZXJzaW9uPyh0aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMuZGVsZXRlKHIpLG4ub2xkVmVyc2lvbiYmcy5wdXNoKG4ub2xkVmVyc2lvbikpOih0LmFkZHMucHVzaChuLm5ld1ZlcnNpb24pLG4ub2xkVmVyc2lvbiYmdC5yZW1vdmVzLnB1c2gobi5vbGRWZXJzaW9uKSkpOmNvbnNvbGUuZXJyb3IoXCJIaWRpbmcgdW5yZWZlcmVuY2VkIGZlYXR1cmVcIil9dGhpcy5fYXBwbHlDaGFuZ2VzKCksZS5kaXNwbGF5aW5nRmVhdHVyZXM9bnVsbH1fYXBwbHlDaGFuZ2VzKCl7Y29uc3QgZT10aGlzLl9jaGFuZ2VzLnVwZGF0ZXM7ZS5yZW1vdmVzLmxlbmd0aD4wJiYodGhpcy5mZWF0dXJlcy5yZW1vdmVNYW55KGUucmVtb3ZlcyksZS5yZW1vdmVzLmxlbmd0aD0wKSxlLmFkZHMubGVuZ3RoPjAmJih0aGlzLmZlYXR1cmVzLmFkZE1hbnkoZS5hZGRzKSxlLmFkZHMubGVuZ3RoPTApO2NvbnN0IHQ9dGhpcy5fY2hhbmdlcy5hZGRzLHM9dGhpcy5fY2hhbmdlcy5yZW1vdmVzLGk9TWF0aC5taW4odC5sZW5ndGgscy5sZW5ndGgpO2xldCByPTA7Zm9yKDtyPGk7KXtjb25zdCBlPU1hdGgubWluKHIrVixpKTt0aGlzLmZlYXR1cmVzLmFkZE1hbnkodC5zbGljZShyLGUpKSx0aGlzLmZlYXR1cmVzLnJlbW92ZU1hbnkocy5zbGljZShyLGUpKSxyPWV9dC5sZW5ndGg+aSYmdGhpcy5mZWF0dXJlcy5hZGRNYW55KDA9PT1yP3Q6dC5zbGljZShyKSkscy5sZW5ndGg+aSYmdGhpcy5mZWF0dXJlcy5yZW1vdmVNYW55KDA9PT1yP3M6cy5zbGljZShyKSksdC5sZW5ndGg9MCxzLmxlbmd0aD0wfV9jbGVhclRpbGUoZSl7aWYodGhpcy5faGlkZVRpbGUoZSksZS5mZWF0dXJlcyYmbnVsbCE9dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlKXtjb25zdCB0PTE2K2UuZXN0aW1hdGVkU2l6ZTt0aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUucHV0KGUuaWQsZS5jYWNoZSx0KX1lLnNldEZlYXR1cmVzKG51bGwsMCxudWxsKSx0aGlzLl9pbnZhbGlkYXRlQ291bnRzKCl9X2ludmFsaWRhdGVDb3VudHMoKXt0aGlzLm5vdGlmeUNoYW5nZShcInRvdGFsVmVydGljZXNcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ0b3RhbEZlYXR1cmVzXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwibWVtb3J5Rm9yVW51c2VkRmVhdHVyZXNcIil9X2dldExpc3RPZlRpbGVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fZmVhdHVyZVRpbGVzLnZhbHVlcygpKX1nZXQgc3RvcmVkRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZ2V0TGlzdE9mVGlsZXMoKS5yZWR1Y2UoKChlLHQpPT5lKyh0LmZlYXR1cmVzP3QuZmVhdHVyZXMubGVuZ3RoOjApKSwwKX1nZXQgbWlzc2luZ1RpbGVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fZmVhdHVyZVRpbGVzLnZhbHVlcygpKS5yZWR1Y2UoKChlLHQpPT5lKyh0Lm5lZWRzRmV0Y2hpbmd8fHQuaXNGZXRjaGluZz8xOjApKSwwKX1fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKXtjb25zdCB0PWUuaGFzUHJlY2lzZUZlYXR1cmVDb3VudD9lLm51bUZlYXR1cmVzOjEvMCxzPWUuaGFzUHJlY2lzZUZlYXR1cmVDb3VudD90OnRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXMsaT10aGlzLl9mdWxsUmF0aW88MT90aGlzLl9mYXJSYXRpbzoxO3JldHVybiBNYXRoLm1pbihNYXRoLmNlaWwocyppLygxLWUuZW1wdHlGZWF0dXJlUmF0aW8pKSx0KX1nZXQgdGVzdCgpe3JldHVybntwcm9jZXNzOmU9PnRoaXMucnVuVGFzayhlKSxnZXRGZWF0dXJlVGlsZUJ5SWQ6ZT0+dGhpcy5fZmVhdHVyZVRpbGVzLmdldChlKSxmb3JFYWNoRmVhdHVyZVRpbGU6ZT0+dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goZSl9fX07ZnVuY3Rpb24gTyhlKXtyZXR1cm5cImR1bW15LXRpbGUtZnVsbC1leHRlbnRcIj09PWUuaWR9ZnVuY3Rpb24gUChlKXtsZXQgdD0wO2Zvcihjb25zdCBzIG9mIGUpcy5mZWF0dXJlcyYmcy5mZWF0dXJlcy5sZW5ndGg+MCYmcy5hbGl2ZSYmKHQ9TWF0aC5tYXgodCxzLmRlc2NyaXB0b3IubGlqWzBdKSk7cmV0dXJuIHR9ZnVuY3Rpb24gSShlKXtjb25zdCB0PWUuY2FwYWJpbGl0aWVzLnF1ZXJ5O3JldHVybntzdXBwb3J0c011bHRpcGxlUmVzb2x1dGlvbnM6TihlKSxzdXBwb3J0c1BhZ2luYXRpb246ISghdHx8IXQuc3VwcG9ydHNQYWdpbmF0aW9uKSxzdXBwb3J0c1Jlc3VsdFR5cGU6ISghdHx8IXQuc3VwcG9ydHNSZXN1bHRUeXBlKSxzdXBwb3J0c0NhY2hlSGludDohKCF0fHwhdC5zdXBwb3J0c0NhY2hlSGludCksc3VwcG9ydHNRdWFudGl6YXRpb246ISghdHx8IXQuc3VwcG9ydHNRdWFudGl6YXRpb24pLHN1cHBvcnRzUXVhbnRpemF0aW9uRWRpdE1vZGU6ISghdHx8IXQuc3VwcG9ydHNRdWFudGl6YXRpb25FZGl0TW9kZSksc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3RvcjohKCF0fHwhdC5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yKSxzdXBwb3J0c0Zvcm1hdFBCRjohKCF0fHwhdC5zdXBwb3J0c0Zvcm1hdFBCRil9fWZ1bmN0aW9uIE4oZSl7c3dpdGNoKGUuZ2VvbWV0cnlUeXBlKXtjYXNlXCJwb2x5bGluZVwiOnJldHVybiEwO2Nhc2VcInBvbHlnb25cIjpyZXR1cm4gZS5jYXBhYmlsaXRpZXMmJmUuY2FwYWJpbGl0aWVzLnF1ZXJ5JiZlLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1F1YW50aXphdGlvbjtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBVKGUpe3JldHVybiBlLnNldEZlYXR1cmVzKFtdLDAsbnVsbCksZS5mZWF0dXJlc01pc3Npbmc9ITEsQy5ET05FfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIG51bGw9PWU/bmV3IFNldDpuZXcgU2V0KGUubWFwKChlPT5lLm5hbWUpKSl9ZnVuY3Rpb24gcShlLHQpe2lmKG51bGw9PWV8fG51bGw9PXQpcmV0dXJuIEEodCk7Y29uc3Qgcz1uZXcgU2V0O2Zvcihjb25zdHtuYW1lOml9b2YgdCllLmhhcyhpKSYmcy5hZGQoaSk7cmV0dXJuIHN9ZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxqLnByb3RvdHlwZSxcImZlYXR1cmVzXCIsdm9pZCAwKSxlKFt1KCldLGoucHJvdG90eXBlLFwidGlsZURlc2NyaXB0b3JzXCIsdm9pZCAwKSxlKFt1KHt2YWx1ZToxLzB9KV0sai5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLG51bGwpLGUoW3Uoe3ZhbHVlOjF9KV0sai5wcm90b3R5cGUsXCJtZW1vcnlGYWN0b3JcIixudWxsKSxlKFt1KHt2YWx1ZToxfSldLGoucHJvdG90eXBlLFwibG9kRmFjdG9yXCIsbnVsbCksZShbdSgpXSxqLnByb3RvdHlwZSxcInVzZVRpbGVDb3VudFwiLG51bGwpLGUoW3Uoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGUoW3Uoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwicnVubmluZ1wiLHZvaWQgMCksZShbdSh7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJ1cGRhdGluZ1RvdGFsXCIsdm9pZCAwKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInVwZGF0aW5nUmVtYWluaW5nXCIsdm9pZCAwKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcImV4cGVjdGVkRmVhdHVyZURpZmZcIix2b2lkIDApLGUoW3Uoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwibWVtb3J5Rm9yVW51c2VkRmVhdHVyZXNcIixudWxsKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWRcIix2b2lkIDApLGUoW3Uoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwidG90YWxWZXJ0aWNlc1wiLG51bGwpLGUoW3Uoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwidG90YWxGZWF0dXJlc1wiLG51bGwpLGUoW3UoKV0sai5wcm90b3R5cGUsXCJmaWx0ZXJFeHRlbnRcIixudWxsKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLGoucHJvdG90eXBlLFwiY29udGV4dFwiLHZvaWQgMCksaj1lKFtsKHcpXSxqKTtjb25zdCBTPTJlMyxMPWgoKSxIPWgoKSxRPTZlNSxWPTIwMDtleHBvcnR7aiBhcyBGZWF0dXJlVGlsZUZldGNoZXIzRCxJIGFzIGNvbnRleHRDYXBhYmlsaXRpZXNGcm9tTGF5ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL3N5bWJvbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9GaWxsU3ltYm9sM0RMYXllci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvUG9pbnRTeW1ib2wzRC5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvUG9seWdvblN5bWJvbDNELmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9UZXh0U3ltYm9sM0RMYXllci5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9TeW1ib2wzRFZlcnRpY2FsT2Zmc2V0LmpzXCI7aW1wb3J0e1RpbGluZ1NjaGVtZSBhcyBofWZyb21cIi4uLy4uL3RlcnJhaW4vVGlsaW5nU2NoZW1lLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9jYWxsb3V0cy9MaW5lQ2FsbG91dDNELmpzXCI7Y29uc3QgYz1bWzAsMTc5LDI1NV0sWzExNyw2MiwxMjhdLFswLDEwNCwyNTVdLFsyMTUsMTg5LDE2Nl0sWzMyLDAsMTkzXSxbOTgsMTYyLDIwNl0sWzEwMiwxMTIsMTI5XSxbNTIsMTI1LDBdLFsxNDIsMTE4LDI0Nl0sWzEzOCw4MywwXSxbOTIsMTIyLDI1NV0sWzEyMiw1NSw4M10sWzAsMTQyLDI1NV0sWzgxLDQwLDE3OV0sWzAsMjAwLDI0NF0sWzEzLDI0LDEyN10sWzAsMTcwLDE0N10sWzE5LDU4LDI0MV0sWzIyLDQ0LDM1XV07Y2xhc3MgbXtjb25zdHJ1Y3RvcihlLGksbyl7dGhpcy5fbG9hZGluZ0dyYXBoaWNzPW5ldyBNYXAsdGhpcy5fbG9hZGVkR3JhcGhpY3M9bmV3IE1hcCx0aGlzLl9wZW5kaW5nR3JhcGhpY3M9bmV3IE1hcCx0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYz1udWxsLHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fdGlsZUZldGNoZXI9ZSx0aGlzLl92aWV3PW8sdGhpcy5fdGlsaW5nU2NoZW1lPW5ldyBoKGkpLHRoaXMuX2xvYWRlZFN5bWJvbHM9Yy5tYXAoKGU9Pm5ldyByKHtzeW1ib2xMYXllcnM6bmV3IHQoW25ldyBzKHttYXRlcmlhbDp7Y29sb3I6W2VbMF0sZVsxXSxlWzJdLC42XX0sb3V0bGluZTp7Y29sb3I6XCJibGFja1wiLHNpemU6MX19KV0pfSkpKSx0aGlzLl9sb2FkaW5nU3ltYm9scz1bbmV3IHIoe3N5bWJvbExheWVyczpuZXcgdChbbmV3IHMoe21hdGVyaWFsOntjb2xvcjpbMjAwLDIwMCwyMDAsLjRdfSxvdXRsaW5lOntjb2xvcjpbMzAsMzAsMzBdLHNpemU6MX19KV0pfSldLHRoaXMuX3BlbmRpbmdTeW1ib2xzPVtuZXcgcih7c3ltYm9sTGF5ZXJzOm5ldyB0KFtuZXcgcyh7bWF0ZXJpYWw6e2NvbG9yOlsxMDAsMTAwLDEwMCwuNF19LG91dGxpbmU6e2NvbG9yOlszMCwzMCwzMF0sc2l6ZToxfX0pXSl9KV0sdGhpcy5fZGF0YUV4dGVudFN5bWJvbD1uZXcgcih7c3ltYm9sTGF5ZXJzOm5ldyB0KFtuZXcgcyh7bWF0ZXJpYWw6e2NvbG9yOlswLDAsMCwwXX0sb3V0bGluZTp7Y29sb3I6XCJncmVlblwiLHNpemU6NH19KV0pfSl9ZGVzdHJveSgpe3RoaXMuZW5hYmxlZD0hMX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQ9ZSx0aGlzLnVwZGF0ZSgpfXVwZGF0ZSgpe3RoaXMuX2VuYWJsZWQ/KHRoaXMuX3N5bmNocm9uaXplTWFwcyh0aGlzLl9sb2FkaW5nR3JhcGhpY3Mse2ZpbHRlcjplPT5lLmlzRmV0Y2hpbmcsc3ltYm9sczp0aGlzLl9sb2FkaW5nU3ltYm9sc30pLHRoaXMuX3N5bmNocm9uaXplTWFwcyh0aGlzLl9sb2FkZWRHcmFwaGljcyx7ZmlsdGVyOmU9PiFlLmlzRmV0Y2hpbmcsc3ltYm9sczp0aGlzLl9sb2FkZWRTeW1ib2xzfSksdGhpcy5fc3luY2hyb25pemVNYXBzKHRoaXMuX3BlbmRpbmdHcmFwaGljcyx7ZmlsdGVyOmU9PiFlLmlzRmV0Y2hpbmcsc3ltYm9sczp0aGlzLl9wZW5kaW5nU3ltYm9sc30pLHRoaXMuc2hvd0RhdGFFeHRlbnQodGhpcy5fdGlsZUZldGNoZXIuZmlsdGVyRXh0ZW50KSk6KHRoaXMuX2xvYWRpbmdHcmFwaGljcy5mb3JFYWNoKChlPT57dGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGUpfSkpLHRoaXMuX2xvYWRpbmdHcmFwaGljcy5jbGVhcigpLHRoaXMuX2xvYWRlZEdyYXBoaWNzLmZvckVhY2goKGU9Pnt0aGlzLl92aWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoZSl9KSksdGhpcy5fbG9hZGVkR3JhcGhpY3MuY2xlYXIoKSx0aGlzLl9wZW5kaW5nR3JhcGhpY3MuZm9yRWFjaCgoZT0+e3RoaXMuX3ZpZXcuZ3JhcGhpY3MucmVtb3ZlTWFueShlKX0pKSx0aGlzLl9wZW5kaW5nR3JhcGhpY3MuY2xlYXIoKSx0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYyYmKHRoaXMuX3ZpZXcuZ3JhcGhpY3MucmVtb3ZlKHRoaXMuX2RhdGFFeHRlbnRHcmFwaGljKSx0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYz1udWxsKSl9c2hvd0RhdGFFeHRlbnQodCl7aWYodGhpcy5fZGF0YUV4dGVudEdyYXBoaWMmJih0aGlzLl92aWV3LmdyYXBoaWNzLnJlbW92ZSh0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYyksdGhpcy5fZGF0YUV4dGVudEdyYXBoaWM9bnVsbCksbnVsbD09dClyZXR1cm47Y29uc3Qgcz1pLmZyb21FeHRlbnQodCk7dGhpcy5fZGF0YUV4dGVudEdyYXBoaWM9bmV3IGUoe2dlb21ldHJ5OnMsc3ltYm9sOnRoaXMuX2RhdGFFeHRlbnRTeW1ib2x9KSx0aGlzLl92aWV3LmdyYXBoaWNzLmFkZCh0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYyl9X3N5bmNocm9uaXplTWFwcyhpLHMpe2NvbnN0IHI9W107aS5mb3JFYWNoKCgoZSx0KT0+e2NvbnN0IGk9dGhpcy5fdGlsZUZldGNoZXIudGVzdC5nZXRGZWF0dXJlVGlsZUJ5SWQodCk7aSYmcy5maWx0ZXIoaSl8fCh0aGlzLl92aWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoZSksci5wdXNoKHQpKX0pKSxyLmZvckVhY2goKGU9PmkuZGVsZXRlKGUpKSksdGhpcy5fdGlsZUZldGNoZXIudGVzdC5mb3JFYWNoRmVhdHVyZVRpbGUoKHI9PntpZihzLmZpbHRlcihyKSYmIWkuaGFzKHIuaWQpKXtjb25zdFtoLGMsbV09ci5kZXNjcmlwdG9yLmxpajt0aGlzLl90aWxpbmdTY2hlbWUuZW5zdXJlTWF4TG9kKGgpO2NvbnN0IHA9dGhpcy5fdGlsaW5nU2NoZW1lLmdldEV4dGVudEdlb21ldHJ5KGgsYyxtKSx5PVtuZXcgZSh7Z2VvbWV0cnk6cCxzeW1ib2w6cy5zeW1ib2xzW2glcy5zeW1ib2xzLmxlbmd0aF19KSxuZXcgZSh7Z2VvbWV0cnk6cC5jZW50ZXIsc3ltYm9sOm5ldyBvKHt2ZXJ0aWNhbE9mZnNldDpuZXcgbCh7c2NyZWVuTGVuZ3RoOjQwLy43NX0pLGNhbGxvdXQ6bmV3IG4oe2NvbG9yOlwid2hpdGVcIixib3JkZXI6e2NvbG9yOlwiYmxhY2tcIn19KSxzeW1ib2xMYXllcnM6bmV3IHQoW25ldyBhKHt0ZXh0OmAke2h9LyR7Y30vJHttfWAsaGFsbzp7Y29sb3I6XCJ3aGl0ZVwiLHNpemU6MS8uNzV9LG1hdGVyaWFsOntjb2xvcjpcImJsYWNrXCJ9LHNpemU6MTZ9KV0pfSl9KV07aS5zZXQoci5pZCx5KSx0aGlzLl92aWV3LmdyYXBoaWNzLmFkZE1hbnkoeSl9fSkpfX1leHBvcnR7bSBhcyBGZWF0dXJlVGlsZUZldGNoZXIzRERlYnVnZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2NyZWF0ZVRhc2sgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthYm9ydE1heWJlIGFzIHMscmVtb3ZlTWF5YmUgYXMgbCxkZXN0cm95TWF5YmUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0e2dldEZsb29yRmlsdGVyQ2xhdXNlIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qc1wiO2ltcG9ydHtRdWVyeUVuZ2luZSBhcyBkfWZyb21cIi4uL2dyYXBoaWNzL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e1Rhc2tQcmlvcml0eSBhcyB5fWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7bGV0IG09Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0ZVRhc2s9bnVsbCx0aGlzLl9mcmFtZVRhc2s9bnVsbCx0aGlzLl9xdWVyeUVuZ2luZT1udWxsLHRoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMCx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGgsdGhpcy5fdXBkYXRlVmlzaWJpbGl0eT1hc3luYyBlPT57aWYobnVsbD09dGhpcy5fY29tcG9zaXRlZEZlYXR1cmVGaWx0ZXImJm51bGw9PXRoaXMuX3NjZW5lRmlsdGVyfHwwPT09dGhpcy5jb250ZXh0LmdldEZlYXR1cmVDb3VudCgpKXJldHVybiB0aGlzLl9mcmFtZVRhc2suc2NoZWR1bGUoKCgpPT50aGlzLmNsZWFyKCkpLGUpO3RyeXtjb25zdCB0PWF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkU2V0KHRoaXMuX2NvbXBvc2l0ZWRGZWF0dXJlRmlsdGVyLHRoaXMuX3NjZW5lRmlsdGVyLGUpO3JldHVybiB0aGlzLl9mcmFtZVRhc2suc2NoZWR1bGUoKCgpPT57dGhpcy5jb250ZXh0LnVwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXMoKGU9PnQuaGFzKGUpKSl9KSxlKX1jYXRjaCh0KXtyZXR1cm4gbyh0KSxpLmdldExvZ2dlcih0aGlzKS53YXJuKGBGZWF0dXJlRmlsdGVyIHF1ZXJ5IGZhaWxlZDogJHt0fWAse2Vycm9yOnR9KSx0aGlzLl9mcmFtZVRhc2suc2NoZWR1bGUoKCgpPT57dGhpcy5jb250ZXh0LnNldEFsbEZlYXR1cmVzVmlzaWJpbGl0eSghMCl9KSxlKX19fWluaXRpYWxpemUoKXtjb25zdCBlPXkuRklMVEVSX1ZJU0lCSUxJVFkse2xheWVyOnQsdmlldzpyfT10aGlzLl9sYXllclZpZXcse2ZlYXR1cmVTdG9yZTppfT10aGlzLmNvbnRleHQscz1cImhhc1pcImluIHRoaXMuX2xheWVyVmlldyYmdGhpcy5fbGF5ZXJWaWV3Lmhhc1osbD1cImhhc01cImluIHRoaXMuX2xheWVyVmlldyYmdGhpcy5fbGF5ZXJWaWV3Lmhhc007dGhpcy5fcXVlcnlFbmdpbmU9bmV3IGQoe2NvbnRleHQ6e3NwYXRpYWxSZWZlcmVuY2U6ci5zcGF0aWFsUmVmZXJlbmNlLGxheWVyOnQsc2NoZWR1bGVyOnIucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlcixmZWF0dXJlU3RvcmU6aSxoYXNNOmwsaGFzWjpzfSxwcmlvcml0eTplfSksdGhpcy5fZnJhbWVUYXNrPXRoaXMuX2xheWVyVmlldy52aWV3LnJlc291cmNlQ29udHJvbGxlci5zY2hlZHVsZXIucmVnaXN0ZXJUYXNrKGUsdGhpcyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Plt0aGlzLl9jb21wb3NpdGVkRmVhdHVyZUZpbHRlcix0aGlzLl9zY2VuZUZpbHRlcl0pLCgoKT0+dGhpcy5yZWFwcGx5KCkpLHUpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKSx0aGlzLmNsZWFyKCksdGhpcy5fdXBkYXRlVGFzaz1zKHRoaXMuX3VwZGF0ZVRhc2spLHRoaXMuX2ZyYW1lVGFzaz1sKHRoaXMuX2ZyYW1lVGFzayksdGhpcy5fcXVlcnlFbmdpbmU9YSh0aGlzLl9xdWVyeUVuZ2luZSksdGhpcy5fc2V0KFwiY29udGV4dFwiLG51bGwpfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLnJ1bm5pbmd8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ3x8bnVsbCE9dGhpcy5fdXBkYXRlVGFzayYmIXRoaXMuX3VwZGF0ZVRhc2suZmluaXNoZWR9Z2V0IHJ1bm5pbmcoKXtyZXR1cm4gdGhpcy5fdXBkYXRlUmVxdWVzdGVkfHx0aGlzLl9mcmFtZVRhc2sudXBkYXRpbmd9Z2V0IGRlZmF1bHRWaXNpYmlsaXR5KCl7cmV0dXJuIG51bGw9PXRoaXMuX2NvbXBvc2l0ZWRGZWF0dXJlRmlsdGVyJiZudWxsPT10aGlzLl9zY2VuZUZpbHRlcn1nZXQgX2ZlYXR1cmVGaWx0ZXIoKXtyZXR1cm5cImZpbHRlclwiaW4gdGhpcy5fbGF5ZXJWaWV3P3RoaXMuX2xheWVyVmlldy5maWx0ZXI6bnVsbH1nZXQgX3NjZW5lRmlsdGVyKCl7cmV0dXJuXCJsYXllckZpbHRlclwiaW4gdGhpcy5fbGF5ZXJWaWV3P3RoaXMuX2xheWVyVmlldy5sYXllckZpbHRlcjpudWxsfWdldCBfZmxvb3JGaWx0ZXIoKXtyZXR1cm4gXyh0aGlzLl9sYXllclZpZXcpfWdldCBfdGltZUV4dGVudCgpe3JldHVyblwidGltZUV4dGVudFwiaW4gdGhpcy5fbGF5ZXJWaWV3P3RoaXMuX2xheWVyVmlldy50aW1lRXh0ZW50Om51bGx9Z2V0IF9jb21wb3NpdGVkRmVhdHVyZUZpbHRlcigpe2NvbnN0e19mZWF0dXJlRmlsdGVyOmUsX3RpbWVFeHRlbnQ6dCxfZmxvb3JGaWx0ZXI6cn09dGhpcztpZihudWxsPT10JiZudWxsPT1yKXJldHVybiBlO2NvbnN0IGk9bnVsbCE9ZT9lLmNsb25lKCk6bmV3IGM7aWYobnVsbCE9dCYmKGkudGltZUV4dGVudD1udWxsIT1pLnRpbWVFeHRlbnQ/aS50aW1lRXh0ZW50LmludGVyc2VjdGlvbih0KTp0KSxudWxsIT1yKXtjb25zdCBlPW51bGw9PWkud2hlcmV8fFwiXCI9PT1pLndoZXJlO2kud2hlcmU9ZT9yOmAoJHtpLndoZXJlfSkgQU5EICgke3J9KWB9cmV0dXJuIGl9Z2V0IF9sYXllclZpZXcoKXtyZXR1cm4gdGhpcy5jb250ZXh0LmxheWVyVmlld31yZWFwcGx5KCl7dGhpcy5fdXBkYXRlUmVxdWVzdGVkPSEwfWNsZWFyKCl7dGhpcy5fcXVlcnlFbmdpbmUuY2xlYXIoKSx0aGlzLmNvbnRleHQuY2xlYXJGZWF0dXJlc1Zpc2liaWxpdHkoKX1ydW5UYXNrKGUpe3RoaXMuX3VwZGF0ZVJlcXVlc3RlZCYmKHRoaXMuX3VwZGF0ZVRhc2s9cyh0aGlzLl91cGRhdGVUYXNrKSx0aGlzLl91cGRhdGVUYXNrPXIodGhpcy5fdXBkYXRlVmlzaWJpbGl0eSksdGhpcy5fdXBkYXRlUmVxdWVzdGVkPSExLGUubWFkZVByb2dyZXNzKCkpLHRoaXMuX2ZyYW1lVGFzay5wcm9jZXNzUXVldWUoZSl9fTtlKFtuKHtjb25zdHJ1Y3RPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiY29udGV4dFwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbbigpXSxtLnByb3RvdHlwZSxcInJ1bm5pbmdcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiZGVmYXVsdFZpc2liaWxpdHlcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiX2ZlYXR1cmVGaWx0ZXJcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiX3NjZW5lRmlsdGVyXCIsbnVsbCksZShbbigpXSxtLnByb3RvdHlwZSxcIl9mbG9vckZpbHRlclwiLG51bGwpLGUoW24oKV0sbS5wcm90b3R5cGUsXCJfdGltZUV4dGVudFwiLG51bGwpLGUoW24oKV0sbS5wcm90b3R5cGUsXCJfY29tcG9zaXRlZEZlYXR1cmVGaWx0ZXJcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiX2xheWVyVmlld1wiLG51bGwpLGUoW24oKV0sbS5wcm90b3R5cGUsXCJfdXBkYXRlVGFza1wiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcIl91cGRhdGVSZXF1ZXN0ZWRcIix2b2lkIDApLG09ZShbcChcImVzcmkudmlld3MuM2QubGF5ZXJzLnN1cHBvcnQuRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXJcIildLG0pO2V4cG9ydHttIGFzIEZlYXR1cmVWaXNpYmlsaXR5RmlsdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2lzU29tZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtlc3RpbWF0ZUF0dHJpYnV0ZXNPYmplY3RTaXplIGFzIGksZXN0aW1hdGVGaXhlZEFycmF5U2l6ZSBhcyBhLGVzdGltYXRlTnVtYmVyQnl0ZVNpemUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2J5dGVTaXplRXN0aW1hdGlvbnMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIGwsc3luYyBhcyBwLHdhdGNoIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3B0MnB4IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyB5fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50VG9WZWN0b3IgYXMgX31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RQb2ludFRvVmVjdG9yLmpzXCI7aW1wb3J0e2dldENvbnRpbnVvdXNJbmRleEFycmF5IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9JbmRpY2VzLmpzXCI7aW1wb3J0e2dldFJlc29sdXRpb25Gb3JTY2FsZSBhcyBnfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc2NhbGVVdGlscy5qc1wiO2ltcG9ydHtnZXRPYmplY3RJZCBhcyBGfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtpbXBvcnR7Y29udmVydEZyb21Qb2ludCBhcyBSfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgYn1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCB2IGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydCBTIGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL0ZlYXR1cmVTdG9yZS5qc1wiO2ltcG9ydHtpc051bWVyaWNGaWVsZCBhcyB3fWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2VuZXJhdGVHcmFkaWVudCBhcyBQfWZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2hlYXRtYXBVdGlscy5qc1wiO2ltcG9ydHtEcmFwZVNvdXJjZVR5cGUgYXMgan1mcm9tXCIuLi9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0Rpc3BsYXlGZWF0dXJlTGltaXQgYXMgVH1mcm9tXCIuLi9ncmFwaGljcy9EaXNwbGF5RmVhdHVyZUxpbWl0LmpzXCI7aW1wb3J0e0ZlYXR1cmVWaXNpYmlsaXR5RmlsdGVyIGFzIFZ9ZnJvbVwiLi9GZWF0dXJlVmlzaWJpbGl0eUZpbHRlci5qc1wiO2ltcG9ydHtkcmFwZWRaIGFzIEd9ZnJvbVwiLi4vLi4vdGVycmFpbi9PdmVybGF5UmVuZGVyZXIuanNcIjtpbXBvcnR7QXR0cmlidXRlIGFzIE19ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9BdHRyaWJ1dGUuanNcIjtpbXBvcnR7Q29udGVudE9iamVjdFR5cGUgYXMgeH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0NvbnRlbnRPYmplY3RUeXBlLmpzXCI7aW1wb3J0e0RyYXBlZEhlYXRtYXBSZW5kZXJlciBhcyBJfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvRHJhcGVkSGVhdG1hcFJlbmRlcmVyLmpzXCI7aW1wb3J0e0dlb21ldHJ5IGFzIEF9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeS5qc1wiO2ltcG9ydHtEaXJ0eU9wZXJhdGlvbiBhcyBOLERpcnR5U3RhdGUgYXMgT31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL01vZGVsRGlydHlUeXBlcy5qc1wiO2ltcG9ydHtSZW5kZXJHZW9tZXRyeSBhcyBIfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvUmVuZGVyR2VvbWV0cnkuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIFV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIEV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7SGVhdG1hcERlbnNpdHlNYXRlcmlhbCBhcyBEfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvSGVhdG1hcERlbnNpdHlNYXRlcmlhbC5qc1wiO2ltcG9ydHtzY2FsZUJvdW5kc1ByZWRpY2F0ZSBhcyBMLGlzU2NhbGVSYW5nZUFjdGl2ZSBhcyBDfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7UGl4ZWxUeXBlIGFzIEIsUGl4ZWxGb3JtYXQgYXMgV31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtsb2FkSGVhdG1hcFRleHR1cmVDb25maWd1cmF0aW9uIGFzIFp9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvaGVhdG1hcFRleHR1cmVVdGlscy5qc1wiO2NvbnN0IHo9XCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LkhlYXRtYXBGZWF0dXJlUHJvY2Vzc29yXCIsJD1uLmdldExvZ2dlcih6KSxxPTExMjtsZXQgaz1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPVwiaGVhdG1hcFwiLHRoaXMucHJlZmVycmVkVXBkYXRlUG9saWN5PVUuQVNZTkMsdGhpcy5kYXRhRXh0ZW50PW51bGwsdGhpcy5kcmFwZVNvdXJjZVR5cGU9ai5GZWF0dXJlcyx0aGlzLl9yZW5kZXJHZW9tZXRyaWVzPW5ldyBNYXAsdGhpcy5fZmllbGRUb3RhbD0wLHRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXI9bnVsbCx0aGlzLl9kYXRhVHlwZT1CLkhBTEZfRkxPQVQsdGhpcy5fcGl4ZWxGb3JtYXQ9Vy5SR0JBLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgeSx0aGlzLmluaXRpYWxpemVQcm9taXNlPVByb21pc2UucmVzb2x2ZSgpfWluaXRpYWxpemUoKXt0aGlzLl9mZWF0dXJlU3RvcmU9bmV3IFMoe2dlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvaW50XCIsaGFzWjp0aGlzLmhhc1osaGFzTTp0aGlzLmhhc019KTtjb25zdHtkYXRhVHlwZTplLHNhbXBsaW5nTW9kZTp0LHBpeGVsRm9ybWF0OnIsaW50ZXJuYWxGb3JtYXQ6aX09Wih0aGlzLl9yZW5kZXJWaWV3LnJlbmRlcmluZ0NvbnRleHQsJCk7dGhpcy5fZGF0YVR5cGU9ZSx0aGlzLl9waXhlbEZvcm1hdD1yO2NvbnN0IGE9ZSE9PUIuRkxPQVQ7dGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlcj10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVnaXN0ZXJEcmFwZVNvdXJjZSh0aGlzLEksey4uLnRoaXMuX3JlbmRlcmVyUGFyYW1ldGVycyxkYXRhVHlwZTplLHNhbXBsaW5nTW9kZTp0LHBpeGVsRm9ybWF0OnIsaW50ZXJuYWxGb3JtYXQ6aX0pLHRoaXMuX21hdGVyaWFsPW5ldyBEKHt1c2VzSGFsZkZsb2F0czphfSksdGhpcy5fbWF0ZXJpYWxXaXRoRmllbGQ9bmV3IEQoe3VzZXNIYWxmRmxvYXRzOmEsaXNBdHRyaWJ1dGVEcml2ZW46ITB9KSx0aGlzLl9maWx0ZXJWaXNpYmlsaXR5PW5ldyBWKHtjb250ZXh0OntsYXllclZpZXc6dGhpcy5vd25lcixmZWF0dXJlU3RvcmU6dGhpcy5mZWF0dXJlU3RvcmUsZ2V0RmVhdHVyZUNvdW50OigpPT50aGlzLl9sb2FkZWRQb2ludEdyYXBoaWNzLmxlbmd0aCxzZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHk6ZT0+dGhpcy5fc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5KGUpLGNsZWFyRmVhdHVyZXNWaXNpYmlsaXR5OigpPT50aGlzLl9zZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHkoITApLHVwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXM6ZT0+dGhpcy5fdXBkYXRlRmVhdHVyZVZpc2liaWxpdGllcyhlKX19KSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkT25Db2xsZWN0aW9uQ2hhbmdlKCgoKT0+dGhpcy5fbG9hZGVkUG9pbnRHcmFwaGljcyksKGU9PnRoaXMuX29uTG9hZGVkRmVhdHVyZXNDaGFuZ2UoZSkpLGwpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRXaGVuKCgoKT0+dGhpcy5fbWF0ZXJpYWxQYXJhbWV0ZXJzKSwoZT0+dGhpcy5fZm9yRWFjaE1hdGVyaWFsKCh0PT50LnNldFBhcmFtZXRlcnMoZSkpKSksbCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX3JlbmRlcmVyUGFyYW1ldGVycyksKGU9PnRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIuc2V0KGUpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkKSwoKCk9Pnt0aGlzLl9yZWNyZWF0ZSgpfSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Pih7ZmllbGROYW1lOnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkTmFtZSxudW1lcmljOnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljfSkpLCgoe2ZpZWxkTmFtZTplLG51bWVyaWM6dH0pPT57aWYobnVsbCE9ZSYmdCl7bGV0IHQ9MDt0aGlzLl9mZWF0dXJlU3RvcmUuZm9yRWFjaCgocj0+dCs9ci5hdHRyaWJ1dGVzW2VdPz8wKSksdGhpcy5fZmllbGRUb3RhbD10fWVsc2UgdGhpcy5fZmllbGRUb3RhbD10aGlzLl9mZWF0dXJlU3RvcmUubnVtRmVhdHVyZXN9KSxsKSx0aGlzLmFkZEhhbmRsZXMoW2QoKCgpPT4oe2ZpZWxkTmFtZTp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWUsZmllbGQ6dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGR9KSksKCh7ZmllbGROYW1lOmUsZmllbGQ6dH0pPT57ZSYmIXQmJiQud2FybihgSGVhdG1hcCByZW5kZXJlciBmaWVsZCAnJHtlfScgZm9yIGxheWVyICcke3RoaXMubGF5ZXIudGl0bGU/P3RoaXMubGF5ZXIuaWR9JyBub3QgZm91bmRgKX0pKSxkKCgoKT0+KHtmaWVsZDp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZCxudW1lcmljOnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljfSkpLCgoe2ZpZWxkOmUsbnVtZXJpYzp0fSk9PntudWxsPT1lfHx0fHwkLndhcm4oYEhlYXRtYXAgcmVuZGVyZXIgZmllbGQgJyR7ZS5uYW1lfScgZm9yIGxheWVyICcke3RoaXMubGF5ZXIudGl0bGU/P3RoaXMubGF5ZXIuaWR9JyBkb2VzIG5vdCBjb250YWluIG51bWVyaWMgdmFsdWVzIGFuZCBjYW5ub3QgYmUgdXNlZCB0byBkcml2ZSB0aGUgaGVhdG1hcCBkZW5zaXR5YCl9KSksbygoKCk9PnRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vdmVybGF5TWFuYWdlci51bnJlZ2lzdGVyRHJhcGVTb3VyY2UodGhpcykpKV0pfWRlc3Ryb3koKXt0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLmNsZWFyKCksdGhpcy5fbWF0ZXJpYWw9bnVsbCx0aGlzLl9tYXRlcmlhbFdpdGhGaWVsZD1udWxsLHRoaXMuX2ZlYXR1cmVTdG9yZS5jbGVhcigpLHRoaXMuX2ZlYXR1cmVTdG9yZT1udWxsLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCl9Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMub3duZXIubGF5ZXJ9Z2V0IGZlYXR1cmVTdG9yZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlU3RvcmV9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ3x8dGhpcy5maWx0ZXJWaXNpYmlsaXR5LnVwZGF0aW5nfWdldCB1cGRhdGluZ1JlbWFpbmluZygpe3JldHVybiAwfWdldCBzdXNwZW5kSW5mbygpe3JldHVybnt9fWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuITB9Z2V0IGZpbHRlclZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5fZmlsdGVyVmlzaWJpbGl0eX1nZXQgZGlzcGxheUZlYXR1cmVMaW1pdCgpe2NvbnN0IGU9dGhpcy5vd25lcj8udmlldz8ucXVhbGl0eT8/MSx0PXRoaXMub3duZXI/LnZpZXc/LnF1YWxpdHlTZXR0aW5ncyxyPXQ/TWF0aC5jZWlsKHQuaGVhdG1hcC5tYXhUb3RhbE51bWJlck9mRmVhdHVyZXMqZSk6MDtyZXR1cm4gbmV3IFQocio2LHIpfWdldCBoYXNaKCl7cmV0dXJuXCJoYXNaXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmhhc1p9Z2V0IGhhc00oKXtyZXR1cm5cImhhc01cImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIuaGFzTX1nZXQgdmlldygpe3JldHVybiB0aGlzLm93bmVyLnZpZXd9Z2V0IGZ1bGxPcGFjaXR5KCl7cmV0dXJuIHRoaXMub3duZXIuZnVsbE9wYWNpdHl9Z2V0IHVwZGF0ZVBvbGljeSgpe3JldHVybiB0aGlzLm93bmVyLnVwZGF0ZVBvbGljeX1nZXQgc2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkKCl7aWYoIXRoaXMuX2lzU2NhbGVSYW5nZUFjdGl2ZSlyZXR1cm4hMTtjb25zdHttaW5TY2FsZTplLG1heFNjYWxlOnR9PXRoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZSx7c2NhbGU6cn09dGhpcy52aWV3O3JldHVybiFMKHIsZT8/MCx0Pz8wKX1nZXQgdXNlZE1lbW9yeSgpe2NvbnN0IGU9dGhpcy51c2VkTWVtb3J5UGVyRmVhdHVyZSp0aGlzLl9mZWF0dXJlU3RvcmUubnVtRmVhdHVyZXMsdD10aGlzLl9waXhlbEZvcm1hdD09PVcuUkVEPzE6NCxyPXRoaXMuX2RhdGFUeXBlPT09Qi5GTE9BVD80OjIsaT1NYXRoLmNlaWwoKHRoaXMuX292ZXJsYXlSZW5kZXJlcj8ub3ZlcmxheXNbMF0/LnJlc29sdXRpb24/PzApKnRoaXMuX2RlbnNpdHlNYXBQaXhlbFJhdGlvKT8/MDtyZXR1cm4gaSppKnQqcitlfWdldCB1c2VkTWVtb3J5UGVyRmVhdHVyZSgpe2NvbnN0IGU9dGhpcy5fbG9hZGVkUG9pbnRHcmFwaGljcy5maW5kKCgoKT0+ITApKTtpZihudWxsPT1lKXJldHVybiAwO2NvbnN0IHQ9aShlKSxyPXMoKSxvPTY7cmV0dXJuIG8qYShbMCwwLDBdLHIpK28qYShbMCwwXSxyKSsodGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGRJc051bWVyaWM/bypyOjApK3R9Z2V0IGxvYWRlZEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVTdG9yZS5udW1GZWF0dXJlc31nZXQgdW5wcm9jZXNzZWRNZW1vcnlFc3RpbWF0ZSgpe3JldHVybiAwfWdldCBwZXJmb3JtYW5jZUluZm8oKXtyZXR1cm57Y29yZTp7dmlzaWJsZTp0aGlzLl92aXNpYmxlRmVhdHVyZXMsbWlzc2luZzowLHBlbmRpbmc6MH0sZWxldmF0aW9uVXBkYXRpbmc6ITEsdmlzaWJpbGl0eUZydXN0dW06ITAsdmlzaWJpbGl0eVNjYWxlOiEwfX1nZXQgcmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFJlbmRlcmVyfWdldCBfb3ZlcmxheVJlbmRlcmVyKCl7cmV0dXJuIHRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vdmVybGF5TWFuYWdlci5yZW5kZXJlcn1nZXQgX292ZXJsYXlTcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX292ZXJsYXlSZW5kZXJlci5zcGF0aWFsUmVmZXJlbmNlfWdldCBfcmVuZGVyZXJQYXJhbWV0ZXJzKCl7cmV0dXJuey4uLnRoaXMuX3JhZGl1c1BhcmFtZXRlciwuLi50aGlzLl9kZW5zaXR5UGFyYW1ldGVycywuLi50aGlzLl9jb2xvclJhbXBQYXJhbWV0ZXIsLi4udGhpcy5fcGl4ZWxSYXRpb1BhcmFtZXRlcn19Z2V0IF9tYXRlcmlhbFBhcmFtZXRlcnMoKXtyZXR1cm57Li4udGhpcy5fcmFkaXVzUGFyYW1ldGVyLC4uLnRoaXMuX3Jlc29sdXRpb25Gb3JTY2FsZVBhcmFtZXRlcn19Z2V0IF9kZW5zaXR5UGFyYW1ldGVycygpe2NvbnN0IGU9dGhpcy5faGVhdG1hcFJlbmRlcmVyO2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Y29uc3R7bWluRGVuc2l0eTp0LG1heERlbnNpdHk6cn09ZTtyZXR1cm57bWluRGVuc2l0eTp0LG1heERlbnNpdHk6cixmaWVsZFRvdGFsOnRoaXMuX2ZpZWxkVG90YWx9fWdldCBfcmFkaXVzUGFyYW1ldGVyKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXI7cmV0dXJuIGU/e3NlYXJjaFJhZGl1czp1KHRoaXMuX2NsYW1wU2VhcmNoUmFkaXVzKGUucmFkaXVzKSl9Om51bGx9Z2V0IF9yZXNvbHV0aW9uRm9yU2NhbGVQYXJhbWV0ZXIoKXtjb25zdCBlPXRoaXMuX2hlYXRtYXBSZW5kZXJlcjtpZighZSlyZXR1cm4gbnVsbDtjb25zdHtyZWZlcmVuY2VTY2FsZTp0fT1lO3JldHVybntyZXNvbHV0aW9uRm9yU2NhbGU6MD09PXQ/MDpnKHQsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpfX1nZXQgX2NvbG9yUmFtcFBhcmFtZXRlcigpe2NvbnN0IGU9dGhpcy5faGVhdG1hcFJlbmRlcmVyO3JldHVybiBlP3tjb2xvclJhbXBEYXRhOlAoZS5jb2xvclN0b3BzKX06bnVsbH1nZXQgX3BpeGVsUmF0aW9QYXJhbWV0ZXIoKXtyZXR1cm57cGl4ZWxSYXRpbzp0aGlzLl9kZW5zaXR5TWFwUGl4ZWxSYXRpb319Z2V0IF9kZW5zaXR5TWFwUGl4ZWxSYXRpbygpe3JldHVybiB0aGlzLm93bmVyPy52aWV3Py5xdWFsaXR5U2V0dGluZ3MuaGVhdG1hcC5waXhlbFJhdGlvPz8xfWdldCBfcmVuZGVyVmlldygpe3JldHVybiB0aGlzLnZpZXcuX3N0YWdlLnJlbmRlclZpZXd9Z2V0IF9mZWF0dXJlc0FyZVBvaW50cygpe3JldHVyblwicG9pbnRcIj09PXRoaXMubGF5ZXIuZ2VvbWV0cnlUeXBlfWdldCBfbG9hZGVkUG9pbnRHcmFwaGljcygpe3JldHVybiB0aGlzLm93bmVyLmxvYWRlZEdyYXBoaWNzfWdldCBfaGVhdG1hcFJlbmRlcmVyKCl7Y29uc3QgZT10aGlzLmxheWVyLnJlbmRlcmVyO3JldHVyblwiaGVhdG1hcFwiPT09ZT8udHlwZT9lOm51bGx9Z2V0IF9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWUoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFJlbmRlcmVyPy5maWVsZH1nZXQgX2hlYXRtYXBSZW5kZXJlckZpZWxkKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWU7cmV0dXJuIG51bGwhPWU/dGhpcy5sYXllci5maWVsZHNJbmRleC5nZXQoZSk6bnVsbH1nZXQgX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZDtyZXR1cm4gbnVsbCE9ZSYmdyhlKX1nZXQgX2lzU2NhbGVSYW5nZUFjdGl2ZSgpe2NvbnN0e2xheWVyOmV9PXRoaXM7aWYoIShcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIGUpKXJldHVybiExO2NvbnN0e21pblNjYWxlOnQsbWF4U2NhbGU6cn09ZS5lZmZlY3RpdmVTY2FsZVJhbmdlO3JldHVybiBDKHQscil9Z2V0IF92aXNpYmxlRmVhdHVyZXMoKXtsZXQgZT0wO3JldHVybiB0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLmZvckVhY2goKHQ9Pnt0LnZpc2libGUmJisrZX0pKSxlfWFzeW5jIHdoZW5HcmFwaGljQm91bmRzKCl7cmV0dXJuIG51bGx9Y29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oKXtyZXR1cm4gbnVsbH1oaWdobGlnaHQoKXtyZXR1cm4gbygpfW1hc2tPY2NsdWRlZSgpe3JldHVybiBvKCl9c2V0T2JqZWN0SWRWaXNpYmlsaXR5KCl7fXJlZnJlc2hGaWx0ZXIoKXt0aGlzLmZpbHRlclZpc2liaWxpdHkucmVhcHBseSgpfV9vbkxvYWRlZEZlYXR1cmVzQ2hhbmdlKGUpe2lmKCF0aGlzLl9mZWF0dXJlc0FyZVBvaW50cylyZXR1cm47Y29uc3R7b2JqZWN0SWRGaWVsZDp0fT10aGlzLmxheWVyO3RoaXMuX2ZlYXR1cmVTdG9yZS5yZW1vdmVNYW55QnlJZChlLnJlbW92ZWQubWFwKChlPT5GKGUsdCkpKSksdGhpcy5fZmVhdHVyZVN0b3JlLmFkZE1hbnkoZS5hZGRlZC5tYXAoKGU9Pntjb25zdHthdHRyaWJ1dGVzOnIsY2VudHJvaWQ6aSxnZW9tZXRyeTphfT1lLHM9bmV3IGIoUihuZXcgdixhKSxyLGk/UihuZXcgdixpKTpudWxsLEYoZSx0KSk7cmV0dXJuIHMuZGlzcGxheUlkPWUudWlkLHN9KSkpO2NvbnN0IGk9ZS5hZGRlZCxhPWUucmVtb3ZlZDt0aGlzLl9maWVsZFRvdGFsKz10aGlzLl9jb21wdXRlRmllbGRUb3RhbENoYW5nZShpLGEpO2NvbnN0IHM9YS5tYXAoKCh7dWlkOmV9KT0+e2NvbnN0IHQ9dGhpcy5fcmVuZGVyR2VvbWV0cmllcy5nZXQoZSk7cmV0dXJuIHRoaXMuX3JlbmRlckdlb21ldHJpZXMuZGVsZXRlKGUpLHR9KSkuZmlsdGVyKHIpLG89aS5tYXAoKGU9Pntjb25zdCB0PXRoaXMuX3BvaW50R3JhcGhpY1RvUmVuZGVyR2VvbWV0cnkoZSk7cmV0dXJuIHRoaXMuX3JlbmRlckdlb21ldHJpZXMuc2V0KGUudWlkLHQpLHR9KSk7cy5sZW5ndGg+MCYmdGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlci5yZW1vdmVHZW9tZXRyaWVzKHMsTi5SRU1PVkUpLG8ubGVuZ3RoPjAmJnRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIuYWRkR2VvbWV0cmllcyhvLE4uQUREKSwoby5sZW5ndGg+MHx8cy5sZW5ndGg+MCkmJih0aGlzLmZpbHRlclZpc2liaWxpdHkucmVhcHBseSgpLHRoaXMuX3JlbmRlclZpZXcucmVxdWVzdFJlbmRlcigpKX1fcmVjcmVhdGUoKXtpZighdGhpcy5fbG9hZGVkUG9pbnRHcmFwaGljcylyZXR1cm47Y29uc3QgZT10aGlzLl9sb2FkZWRQb2ludEdyYXBoaWNzLnRvQXJyYXkoKTt0aGlzLl9vbkxvYWRlZEZlYXR1cmVzQ2hhbmdlKHthZGRlZDplLHJlbW92ZWQ6ZX0pfV9wb2ludEdyYXBoaWNUb1JlbmRlckdlb21ldHJ5KGUpe2NvbnN0IHQ9dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lLHI9bnVsbCE9dD90aGlzLl9tYXRlcmlhbFdpdGhGaWVsZDp0aGlzLl9tYXRlcmlhbCxpPWMoKTtfKGUuZ2VvbWV0cnksaSx0aGlzLl9vdmVybGF5U3BhdGlhbFJlZmVyZW5jZSksaVsyXT1HO2NvbnN0IGE9ZigxKSxzPVtbRS5QT1NJVElPTixuZXcgTShpLGEsaS5sZW5ndGgpXV0sbz10aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpYztudWxsIT10JiZzLnB1c2goW0UuRkVBVFVSRUFUVFJJQlVURSxuZXcgTShbbz9lLmF0dHJpYnV0ZXNbdF0/PzA6MF0sYSwxKV0pO2NvbnN0IG49bmV3IEgobmV3IEEocixzLG51bGwseC5Qb2ludCkse2xheWVyVWlkOnRoaXMubGF5ZXIudWlkLGdyYXBoaWNVaWQ6ZS51aWR9KTtyZXR1cm4gbi52aXNpYmxlPXRoaXMuZmlsdGVyVmlzaWJpbGl0eS5kZWZhdWx0VmlzaWJpbGl0eSxufV9mb3JFYWNoTWF0ZXJpYWwoZSl7ZSh0aGlzLl9tYXRlcmlhbCksZSh0aGlzLl9tYXRlcmlhbFdpdGhGaWVsZCl9X2NvbXB1dGVGaWVsZFRvdGFsQ2hhbmdlKGUsdCl7aWYobnVsbD09dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lfHwhdGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGRJc051bWVyaWMpcmV0dXJuIGUubGVuZ3RoLXQubGVuZ3RoO2NvbnN0IHI9dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lLGk9KGUsdCk9PmUrKHQuYXR0cmlidXRlc1tyXT8/MCk7cmV0dXJuIGUucmVkdWNlKGksMCktdC5yZWR1Y2UoaSwwKX1fY2xhbXBTZWFyY2hSYWRpdXMoZSl7cmV0dXJuIGU+cSYmJC53YXJuT25jZShgU2NlbmVWaWV3IHN1cHBvcnRzIGEgbWF4aW11bSByYWRpdXMgb2YgJHtxfSBwdCBmb3IgSGVhdG1hcFJlbmRlcmVyLmApLE1hdGgubWluKGUscSl9X3VwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXMoZSl7Y29uc3QgdD1bXTt0aGlzLl9mZWF0dXJlU3RvcmUuZm9yRWFjaCgoKHtvYmplY3RJZDpyLGRpc3BsYXlJZDppfSk9Pntjb25zdCBhPWUocikscz10aGlzLl9yZW5kZXJHZW9tZXRyaWVzLmdldChpKTtzJiZzLnZpc2libGUhPT1hJiYodC5wdXNoKHMpLHMudmlzaWJsZT1hKX0pKSx0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLm1vZGlmeUdlb21ldHJpZXModCxPLlZJU0lCSUxJVFkpfV9zZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHkoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLnZhbHVlcygpKXIudmlzaWJsZSE9PWUmJih0LnB1c2gociksci52aXNpYmxlPWUpO3RoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIubW9kaWZ5R2VvbWV0cmllcyh0LE8uVklTSUJJTElUWSl9Z2V0IHRlc3QoKXtyZXR1cm57dmlzaWJsZUZlYXR1cmVDb3VudDp0aGlzLl92aXNpYmxlRmVhdHVyZXN9fX07ZShbbSgpXSxrLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW20oe2NvbnN0cnVjdE9ubHk6ITB9KV0say5wcm90b3R5cGUsXCJvd25lclwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImZlYXR1cmVTdG9yZVwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiZGlzcGxheUZlYXR1cmVMaW1pdFwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJwcmVmZXJyZWRVcGRhdGVQb2xpY3lcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJoYXNaXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImhhc01cIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiZGF0YUV4dGVudFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImRyYXBlU291cmNlVHlwZVwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcInNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZFwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJyZW5kZXJlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfZmVhdHVyZVN0b3JlXCIsdm9pZCAwKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2ZpbHRlclZpc2liaWxpdHlcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJfb3ZlcmxheVJlbmRlcmVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9vdmVybGF5U3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfcmVuZGVyZXJQYXJhbWV0ZXJzXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9tYXRlcmlhbFBhcmFtZXRlcnNcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2RlbnNpdHlQYXJhbWV0ZXJzXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9yYWRpdXNQYXJhbWV0ZXJcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX3Jlc29sdXRpb25Gb3JTY2FsZVBhcmFtZXRlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfY29sb3JSYW1wUGFyYW1ldGVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9waXhlbFJhdGlvUGFyYW1ldGVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9kZW5zaXR5TWFwUGl4ZWxSYXRpb1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfcmVuZGVyR2VvbWV0cmllc1wiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9tYXRlcmlhbFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9tYXRlcmlhbFdpdGhGaWVsZFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9yZW5kZXJWaWV3XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9mZWF0dXJlc0FyZVBvaW50c1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfbG9hZGVkUG9pbnRHcmFwaGljc1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfaGVhdG1hcFJlbmRlcmVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWVcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2hlYXRtYXBSZW5kZXJlckZpZWxkXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpY1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfZmllbGRUb3RhbFwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9kcmFwZVNvdXJjZVJlbmRlcmVyXCIsdm9pZCAwKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2lzU2NhbGVSYW5nZUFjdGl2ZVwiLG51bGwpLGs9ZShbaCh6KV0sayk7ZXhwb3J0e2sgYXMgSGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IscSBhcyBtYXhSYWRpdXNQdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbihuLHQsZSl7aWYoIWV8fG51bGw9PXQpcmV0dXJuIG51bGw7aWYoIW4pcmV0dXJuIHIodCxlKTtjb25zdCBvPW4uZ2V0KGUpO3JldHVybiBvP3Rbby5uYW1lXTpudWxsfWZ1bmN0aW9uIHIobixyKXtjb25zdCB0PXIudG9Mb3dlckNhc2UoKTtmb3IoY29uc3QgZSBpbiBuKWlmKGUudG9Mb3dlckNhc2UoKT09PXQpcmV0dXJuIG5bZV07cmV0dXJuIG51bGx9ZXhwb3J0e24gYXMgYXR0cmlidXRlTG9va3VwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5L0dlb21ldHJ5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9NdWx0aXBvaW50LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWxpbmUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVDb21wYXJpc29uLmpzXCI7Y2xhc3MgdHtnZXQgaXNSZWZlcmVuY2VkKCl7cmV0dXJuIDAhPT10aGlzLnZlcnNpb25zLmxlbmd0aH1nZXQgaXNTaW5nbGUoKXtyZXR1cm4gMT09PXRoaXMudmVyc2lvbnMubGVuZ3RoJiYxPT09dGhpcy52ZXJzaW9uc1swXS5yZWZDb3VudH1jb25zdHJ1Y3RvcihlLHQpe3RoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj1udWxsLHRoaXMudmVyc2lvbnM9W10sdGhpcy5yZWYoZSx0KX1yZWYodCxzKXtjb25zdCByPXRoaXMuZmVhdHVyZTtpLm9sZFZlcnNpb249cix0aGlzLmZlYXR1cmUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidWlkXCIse3ZhbHVlOnRoaXMuZmVhdHVyZS51aWQsY29uZmlndXJhYmxlOiEwfSk7Zm9yKGNvbnN0IG4gb2YgdGhpcy52ZXJzaW9ucylpZihuLnJlc29sdXRpb249PT1zKXtuLnJlZkNvdW50Kys7Y29uc3Qgcz10aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb249PT1uJiYhZSh0LG4uZmVhdHVyZSk7cmV0dXJuKHN8fHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbiE9PW4pJiYobi5mZWF0dXJlPXQpLGkubmV3VmVyc2lvbj1zP3Q6cixpfWNvbnN0IG89e2ZlYXR1cmU6dCxyZXNvbHV0aW9uOnMscmVmQ291bnQ6MX07cmV0dXJuIHRoaXMudmVyc2lvbnMucHVzaChvKSwhdGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9ufHxzPHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbi5yZXNvbHV0aW9uPyhpLm5ld1ZlcnNpb249dCx0aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb249byk6aS5uZXdWZXJzaW9uPXIsaX11bnJlZihlKXtmb3IobGV0IHQ9MDt0PHRoaXMudmVyc2lvbnMubGVuZ3RoO3QrKyl7Y29uc3Qgcz10aGlzLnZlcnNpb25zW3RdO2lmKHMucmVzb2x1dGlvbj09PWUpcmV0dXJuIHMucmVmQ291bnQtLSxpLm9sZFZlcnNpb249dGhpcy5mZWF0dXJlLDA9PT1zLnJlZkNvdW50JiYodGhpcy52ZXJzaW9uc1t0XT10aGlzLnZlcnNpb25zW3RoaXMudmVyc2lvbnMubGVuZ3RoLTFdLHRoaXMudmVyc2lvbnMubGVuZ3RoLS0sdGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uPT09cyYmKHRoaXMuX3JlY2FsY3VsYXRlSGlnaGVzdFJlc29sdXRpb25WZXJzaW9uKCksaS5vbGRWZXJzaW9uPXMuZmVhdHVyZSkpLGkubmV3VmVyc2lvbj10aGlzLmZlYXR1cmUsaX1yZXR1cm4gbnVsbH1nZXQgZmVhdHVyZSgpe3JldHVybiB0aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb24/dGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uLmZlYXR1cmU6bnVsbH1fcmVjYWxjdWxhdGVIaWdoZXN0UmVzb2x1dGlvblZlcnNpb24oKXtpZigwPT09dGhpcy52ZXJzaW9ucy5sZW5ndGgpcmV0dXJuIHZvaWQodGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uPW51bGwpO2xldCBlPXRoaXMudmVyc2lvbnNbMF07Zm9yKGxldCB0PTE7dDx0aGlzLnZlcnNpb25zLmxlbmd0aDt0Kyspe2NvbnN0IHM9dGhpcy52ZXJzaW9uc1t0XTtzLnJlc29sdXRpb248ZS5yZXNvbHV0aW9uJiYoZT1zKX10aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb249ZX19Y2xhc3Mgc3tnZXQgaXNSZWZlcmVuY2VkKCl7cmV0dXJuIDAhPT10aGlzLl9yZWZDb3VudH1nZXQgaXNTaW5nbGUoKXtyZXR1cm4gMT09PXRoaXMuX3JlZkNvdW50fWNvbnN0cnVjdG9yKGUpe3RoaXMuX2ZlYXR1cmU9ZSx0aGlzLl9yZWZDb3VudD0xfXJlZih0KXtyZXR1cm4rK3RoaXMuX3JlZkNvdW50LGkub2xkVmVyc2lvbj10aGlzLl9mZWF0dXJlLHRoaXMuZmVhdHVyZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ1aWRcIix7dmFsdWU6dGhpcy5mZWF0dXJlLnVpZCxjb25maWd1cmFibGU6ITB9KSxlKHRoaXMuX2ZlYXR1cmUsdCl8fCh0aGlzLl9mZWF0dXJlPXQpLGkubmV3VmVyc2lvbj10aGlzLl9mZWF0dXJlLGl9dW5yZWYoKXtyZXR1cm4gaS5vbGRWZXJzaW9uPXRoaXMuX2ZlYXR1cmUsdGhpcy5fcmVmQ291bnQ+MCYmKHRoaXMuX3JlZkNvdW50LS0sIXRoaXMuaXNSZWZlcmVuY2VkKT8oaS5uZXdWZXJzaW9uPW51bGwsaSk6KGkubmV3VmVyc2lvbj10aGlzLl9mZWF0dXJlLGkpfWdldCBmZWF0dXJlKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmV9fWNvbnN0IGk9e29sZFZlcnNpb246bnVsbCxuZXdWZXJzaW9uOm51bGx9O2V4cG9ydHt0IGFzIE11bHRpRmVhdHVyZVJlZmVyZW5jZSxzIGFzIFNpbmdsZUZlYXR1cmVSZWZlcmVuY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtPYnNlcnZhYmxlQ2hhbmdlc1R5cGUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL09ic2VydmFibGVDaGFuZ2VzVHlwZS5qc1wiO2ltcG9ydHtzb21lU2V0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9TZXRVdGlscy5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zZXQ9bmV3IFNldH1jbGVhcigpe2lmKHRoaXMuX3NldC5zaXplPjApe2NvbnN0IGU9dGhpcy50b0FycmF5KCk7dGhpcy5fc2V0LmNsZWFyKCksdGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuUkVNT1ZFfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6ZX0pfX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3NldC5zaXplfWFkZE1hbnkoZSl7aWYoMCE9PWUubGVuZ3RoKXtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3NldC5hZGQodCk7dGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuQUREfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOmUscmVtb3ZlZDpbXX0pfX1yZW1vdmUoZSl7dGhpcy5fc2V0LmRlbGV0ZShlKSYmKHRoaXMuZW1pdChcImFmdGVyLWNoYW5nZXNcIix7dHlwZTp0LlJFTU9WRX0pLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOltlXX0pKX1yZW1vdmVNYW55KGUpe2NvbnN0IHM9W107Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9zZXQuZGVsZXRlKHQpJiZzLnB1c2godCk7cy5sZW5ndGg+MCYmKHRoaXMuZW1pdChcImFmdGVyLWNoYW5nZXNcIix7dHlwZTp0LlJFTU9WRX0pLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOnN9KSl9dG9BcnJheSgpe3JldHVyblsuLi50aGlzLl9zZXRdfWZpbmQoZSl7bGV0IHQ7cmV0dXJuIHModGhpcy5fc2V0LChzPT4hIWUocykmJih0PXMsITApKSksdH1mb3JFYWNoKGUpe3RoaXMuX3NldC5mb3JFYWNoKCh0PT5lKHQpKSl9fWV4cG9ydHtyIGFzIEV2ZW50ZWRTZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtyZWxlYXNlTWF5YmUgYXMgZSxkaXNwb3NlTWF5YmUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Vmlld2luZ01vZGUgYXMgb31mcm9tXCIuLi8uLi8uLi9WaWV3aW5nTW9kZS5qc1wiO2ltcG9ydHtjcmVhdGVRdWFkVkFPIGFzIG59ZnJvbVwiLi9nbFV0aWwzRC5qc1wiO2ltcG9ydHtTb3J0ZWRSZW5kZXJHZW9tZXRyeVJlbmRlcmVyIGFzIGh9ZnJvbVwiLi9Tb3J0ZWRSZW5kZXJHZW9tZXRyeVJlbmRlcmVyLmpzXCI7aW1wb3J0e0hlYXRtYXBQYXNzUGFyYW1ldGVycyBhcyBwLEhlYXRtYXBUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIG0sSGVhdG1hcFRlY2huaXF1ZSBhcyBsfWZyb21cIi4uL3NoYWRlcnMvSGVhdG1hcFRlY2huaXF1ZS5qc1wiO2ltcG9ydHtUZXh0dXJlV3JhcE1vZGUgYXMgYyxQaXhlbFR5cGUgYXMgZCxDbGVhckJ1ZmZlckJpdCBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e0ZyYW1lYnVmZmVyT2JqZWN0IGFzIHl9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvRnJhbWVidWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyBffWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmUuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgZn1mcm9tXCIuLi8uLi8uLi93ZWJnbC9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2ltcG9ydHt2ZXJ0ZXhDb3VudCBhcyBnfWZyb21cIi4uLy4uLy4uL3dlYmdsL1V0aWwuanNcIjtsZXQgeD1jbGFzcyBleHRlbmRzIGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5fY29sb3JSYW1wRGF0YT1uZXcgVWludDhDbGFtcGVkQXJyYXkoNCksdGhpcy50eXBlPVwiZHJhcGVkLWhlYXRtYXBcIix0aGlzLl9oZWF0bWFwUGFyYW1ldGVycz1uZXcgcDtjb25zdCBlPW5ldyBmO2UucGl4ZWxGb3JtYXQ9dC5waXhlbEZvcm1hdCxlLmludGVybmFsRm9ybWF0PXQuaW50ZXJuYWxGb3JtYXQsZS5kYXRhVHlwZT10LmRhdGFUeXBlLGUuc2FtcGxpbmdNb2RlPXQuc2FtcGxpbmdNb2RlLGUud3JhcE1vZGU9Yy5DTEFNUF9UT19FREdFO2NvbnN0IHI9dC5yZW5kZXJlckNvbnRleHQucmN0eDt0aGlzLl9kZW5zaXR5TWFwPW5ldyB5KHIsZSksdGhpcy5fcXVhZD1uKHIpO2NvbnN0IGE9bmV3IG07YS51c2VzSGFsZkZsb2F0PXQuZGF0YVR5cGUhPT1kLkZMT0FULHRoaXMuX3RlY2huaXF1ZT1uZXcgbCh7cmN0eDpyLHZpZXdpbmdNb2RlOm8uTG9jYWx9LGEpfWluaXRpYWxpemUoKXtjb25zdCB0PXRoaXMuX2NvbG9yUmFtcERhdGEsZT1uZXcgZih0Lmxlbmd0aC80LDEpO2Uud3JhcE1vZGU9Yy5DTEFNUF9UT19FREdFLHRoaXMuX2NvbG9yUmFtcD1uZXcgXyh0aGlzLnJjdHgsZSx0KSx0aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5kZW5zaXR5TWFwPXRoaXMuX2RlbnNpdHlNYXAuY29sb3JUZXh0dXJlLHRoaXMuYWRkSGFuZGxlcyhhKCgoKT0+W3RoaXMuY29sb3JSYW1wRGF0YSx0aGlzLm1pbkRlbnNpdHksdGhpcy5tYXhEZW5zaXR5LHRoaXMuZmllbGRUb3RhbCx0aGlzLnBpeGVsUmF0aW8sdGhpcy5zZWFyY2hSYWRpdXNdKSwoKCk9PnRoaXMucmVuZGVyZXJDb250ZXh0Lm5vdGlmeUNvbnRlbnRDaGFuZ2VkKCkpKSl9ZGVzdHJveSgpe3RoaXMuX3RlY2huaXF1ZT1lKHRoaXMuX3RlY2huaXF1ZSksdGhpcy5fZGVuc2l0eU1hcD1yKHRoaXMuX2RlbnNpdHlNYXApLHRoaXMuX3F1YWQ9cih0aGlzLl9xdWFkKSx0aGlzLl9jb2xvclJhbXA9cih0aGlzLl9jb2xvclJhbXApfWdldCBzZWFyY2hSYWRpdXMoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuc2VhcmNoUmFkaXVzfXNldCBzZWFyY2hSYWRpdXModCl7dCE9PXRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLnNlYXJjaFJhZGl1cyYmKHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLnNlYXJjaFJhZGl1cz10LHRoaXMubm90aWZ5Q2hhbmdlKFwic2VhcmNoUmFkaXVzXCIpKX1nZXQgbWluRGVuc2l0eSgpe3JldHVybiB0aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5taW5EZW5zaXR5fXNldCBtaW5EZW5zaXR5KHQpe3QhPT10aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5taW5EZW5zaXR5JiYodGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWluRGVuc2l0eT10LHRoaXMubm90aWZ5Q2hhbmdlKFwibWluRGVuc2l0eVwiKSl9Z2V0IG1heERlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWF4RGVuc2l0eX1zZXQgbWF4RGVuc2l0eSh0KXt0IT09dGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWF4RGVuc2l0eSYmKHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLm1heERlbnNpdHk9dCx0aGlzLm5vdGlmeUNoYW5nZShcIm1heERlbnNpdHlcIikpfWdldCBmaWVsZFRvdGFsKCl7cmV0dXJuIHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmZpZWxkVG90YWx9c2V0IGZpZWxkVG90YWwodCl7dGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuZmllbGRUb3RhbD10LHRoaXMubm90aWZ5Q2hhbmdlKFwiZmllbGRUb3RhbFwiKX1nZXQgY29sb3JSYW1wRGF0YSgpe3JldHVybiB0aGlzLl9jb2xvclJhbXBEYXRhfXNldCBjb2xvclJhbXBEYXRhKHQpe2NvbnN0e2NvbG9yUmFtcDplfT10aGlzLl9oZWF0bWFwUGFyYW1ldGVycztpZihudWxsIT1lJiZ0IT09dGhpcy5fY29sb3JSYW1wRGF0YSl7Y29uc3Qgcj1lLmRlc2NyaXB0b3Iud2lkdGgsYT10Lmxlbmd0aC80O2EhPT1yJiZlLnJlc2l6ZShhLDEpLGUuc2V0RGF0YSh0KX10aGlzLl9jb2xvclJhbXBEYXRhPXR9Z2V0IF9jb2xvclJhbXAoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuY29sb3JSYW1wfXNldCBfY29sb3JSYW1wKHQpe3RoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmNvbG9yUmFtcD10fWdldCBoYXNIaWdobGlnaHRzKCl7cmV0dXJuITF9Z2V0IGhhc1dhdGVyKCl7cmV0dXJuITF9Z2V0IHJlbmRlcnNPY2NsdWRlZCgpe3JldHVybiExfXJlbmRlcih0KXtjb25zdCBlPXRoaXMuX3NvcnRlZE1hdGVyaWFsUmVuZGVyZXJzO2lmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3Qgcj10aGlzLnJjdHguZ2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCgpLGE9dGhpcy5yY3R4LmdldFZpZXdwb3J0KCkse3BpeGVsUmF0aW86aX09dGhpcyxzPU1hdGguY2VpbChhLndpZHRoKmkpLG89TWF0aC5jZWlsKGEuaGVpZ2h0KmkpO3RoaXMuX2RlbnNpdHlNYXAucmVzaXplKHMsbyksdGhpcy5yY3R4LmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9kZW5zaXR5TWFwKSx0aGlzLnJjdHguc2V0Vmlld3BvcnQoMCwwLHMsbyksdGhpcy5yY3R4LmNsZWFyKHUuQ09MT1JfQlVGRkVSX0JJVCk7bGV0IG49ITE7ZS5mb3JBbGwoKGU9Pntjb25zdCByPWUucHJlcGFyZVRlY2huaXF1ZSh0KTtudWxsIT1yJiYoZS5yZW5kZXJOb2RlKHQsciksbj0hMCl9KSksdGhpcy5yY3R4LmJpbmRGcmFtZWJ1ZmZlcihyKSx0aGlzLnJjdHguc2V0Vmlld3BvcnQoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSxuJiYodGhpcy5yY3R4LmJpbmRWQU8odGhpcy5fcXVhZCksdGhpcy5yY3R4LmJpbmRUZWNobmlxdWUodGhpcy5fdGVjaG5pcXVlLHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLHQuYmluZFBhcmFtZXRlcnMpLHRoaXMucmN0eC5kcmF3QXJyYXlzKHRoaXMuX3RlY2huaXF1ZS5wcmltaXRpdmVUeXBlLDAsZyh0aGlzLl9xdWFkLFwiZ2VvbWV0cnlcIikpKX19O3QoW2koKV0seC5wcm90b3R5cGUsXCJzZWFyY2hSYWRpdXNcIixudWxsKSx0KFtpKCldLHgucHJvdG90eXBlLFwibWluRGVuc2l0eVwiLG51bGwpLHQoW2koKV0seC5wcm90b3R5cGUsXCJtYXhEZW5zaXR5XCIsbnVsbCksdChbaSgpXSx4LnByb3RvdHlwZSxcImZpZWxkVG90YWxcIixudWxsKSx0KFtpKCldLHgucHJvdG90eXBlLFwicGl4ZWxSYXRpb1wiLHZvaWQgMCksdChbaSgpXSx4LnByb3RvdHlwZSxcImNvbG9yUmFtcERhdGFcIixudWxsKSx0KFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHgucHJvdG90eXBlLFwiZGF0YVR5cGVcIix2b2lkIDApLHQoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJzYW1wbGluZ01vZGVcIix2b2lkIDApLHQoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJwaXhlbEZvcm1hdFwiLHZvaWQgMCksdChbaSh7Y29uc3RydWN0T25seTohMH0pXSx4LnByb3RvdHlwZSxcImludGVybmFsRm9ybWF0XCIsdm9pZCAwKSx0KFtpKCldLHgucHJvdG90eXBlLFwiX2NvbG9yUmFtcERhdGFcIix2b2lkIDApLHg9dChbcyhcImVzcmkudmlld3MuM2Qud2ViZ2wtZW5naW5lLmxpYi5EcmFwZWRIZWF0bWFwUmVuZGVyZXJcIildLHgpO2V4cG9ydHt4IGFzIERyYXBlZEhlYXRtYXBSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3MgYXMgdCxrIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzIuanNcIjtpbXBvcnR7YSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMyZjY0LmpzXCI7aW1wb3J0e25ld0xheW91dCBhcyBzfWZyb21cIi4uLy4uL3N1cHBvcnQvYnVmZmVyL0ludGVybGVhdmVkTGF5b3V0LmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyBpfWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi9saWIvR0xNYXRlcmlhbC5qc1wiO2ltcG9ydHtNYXRlcmlhbCBhcyBvfWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIG59ZnJvbVwiLi4vbGliL1JlbmRlclNsb3QuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHV9ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHt3cml0ZVBvc2l0aW9uIGFzIGwsd3JpdGVCdWZmZXJGbG9hdCBhcyBjfWZyb21cIi4vaW50ZXJuYWwvYnVmZmVyV3JpdGVyVXRpbHMuanNcIjtpbXBvcnR7SGVhdG1hcERlbnNpdHlQYXNzUGFyYW1ldGVycyBhcyBmLEhlYXRtYXBEZW5zaXR5VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBtLEhlYXRtYXBEZW5zaXR5VGVjaG5pcXVlIGFzIHB9ZnJvbVwiLi4vc2hhZGVycy9IZWF0bWFwRGVuc2l0eVRlY2huaXF1ZS5qc1wiO2NvbnN0IGg9MjtjbGFzcyBUIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5pc0F0dHJpYnV0ZURyaXZlbj0hMSx0aGlzLnVzZXNIYWxmRmxvYXRzPSExfX1jbGFzcyBiIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LG5ldyBUKSx0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBtfXByb2R1Y2VzKHQsZSl7cmV0dXJuIHQ9PT1uLkRSQVBFRF9NQVRFUklBTCYmZT09PWkuQ29sb3J9Z2V0Q29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9uLmlzQXR0cmlidXRlRHJpdmVuPXRoaXMucGFyYW1ldGVycy5pc0F0dHJpYnV0ZURyaXZlbix0aGlzLl9jb25maWd1cmF0aW9uLnVzZXNIYWxmRmxvYXQ9dGhpcy5wYXJhbWV0ZXJzLnVzZXNIYWxmRmxvYXRzLHRoaXMuX2NvbmZpZ3VyYXRpb259Y3JlYXRlR0xNYXRlcmlhbCh0KXtyZXR1cm4gbmV3IGQodCl9aW50ZXJzZWN0KCl7fWludGVyc2VjdERyYXBlZChyLHMsaSxhLG8sbil7Y29uc3QgbD1yLmF0dHJpYnV0ZXMuZ2V0KHUuUE9TSVRJT04pLHtwYXJhbWV0ZXJzOmN9PXRoaXMse3NlYXJjaFJhZGl1czpmfT1jLHtzY3JlZW5Ub1dvcmxkUmF0aW86bX09cixwPWYqbStoKm0sVD1wKnAsYj1sLmRhdGEubGVuZ3RoL2wuc2l6ZTtmb3IobGV0IHU9MDt1PGI7dSsrKXtjb25zdCByPXUqbC5zaXplLHM9dChFLGwuZGF0YVtyXSxsLmRhdGFbcisxXSk7ZShzLGEpPFQmJm8obi5kaXN0LG4ubm9ybWFsLC0xLCExKX19Y3JlYXRlQnVmZmVyV3JpdGVyKCl7cmV0dXJuIG5ldyBnKHRoaXMucGFyYW1ldGVycy5pc0F0dHJpYnV0ZURyaXZlbj9JOkEpfX1jbGFzcyBkIGV4dGVuZHMgYXtiZWdpblNsb3QodCl7cmV0dXJuIHRoaXMuZW5zdXJlVGVjaG5pcXVlKHAsdCl9fWNsYXNzIGd7Y29uc3RydWN0b3IodCl7dGhpcy52ZXJ0ZXhCdWZmZXJMYXlvdXQ9dH1lbGVtZW50Q291bnQodCl7cmV0dXJuIHQuYXR0cmlidXRlcy5nZXQodS5QT1NJVElPTikuaW5kaWNlcy5sZW5ndGgqdn13cml0ZSh0LGUscixzLGkpe2woci5hdHRyaWJ1dGVzLmdldCh1LlBPU0lUSU9OKSx0LHMucG9zaXRpb24saSx2KTtjb25zdCBhPXIuYXR0cmlidXRlcy5nZXQodS5QT1NJVElPTikuaW5kaWNlcy5sZW5ndGgsbz1zLnV2MDtsZXQgbj1pO2ZvcihsZXQgdT0wO3U8YTsrK3Upby5zZXRWYWx1ZXMobisrLC0xLC0xKSxvLnNldFZhbHVlcyhuKyssMSwtMSksby5zZXRWYWx1ZXMobisrLDEsMSksby5zZXRWYWx1ZXMobisrLDEsMSksby5zZXRWYWx1ZXMobisrLC0xLDEpLG8uc2V0VmFsdWVzKG4rKywtMSwtMSk7Y29uc3QgZj11LkZFQVRVUkVBVFRSSUJVVEUgaW4gcz9zLmZlYXR1cmVBdHRyaWJ1dGU6bnVsbDtmJiZjKHIuYXR0cmlidXRlcy5nZXQodS5GRUFUVVJFQVRUUklCVVRFKSxmLGksdil9fWNvbnN0IEE9cygpLnZlYzNmKHUuUE9TSVRJT04pLnZlYzJmKHUuVVYwKSxJPUEuY2xvbmUoKS5mMzIodS5GRUFUVVJFQVRUUklCVVRFKSx2PTYsRT1yKCk7ZXhwb3J0e2IgYXMgSGVhdG1hcERlbnNpdHlNYXRlcmlhbCxUIGFzIEhlYXRtYXBEZW5zaXR5TWF0ZXJpYWxQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyByfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIHR9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e3BhcmFtZXRlciBhcyBpfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7RGVmYXVsdDNEIGFzIHN9ZnJvbVwiLi4vbGliL0RlZmF1bHRWZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnMuanNcIjtpbXBvcnR7TWF0ZXJpYWxQYXJhbWV0ZXJzIGFzIG99ZnJvbVwiLi4vbGliL01hdGVyaWFsLmpzXCI7aW1wb3J0e1Byb2dyYW0gYXMgYX1mcm9tXCIuLi9saWIvUHJvZ3JhbS5qc1wiO2ltcG9ydHtEZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBufWZyb21cIi4uL21hdGVyaWFscy9EZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtIIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL0hlYXRtYXBEZW5zaXR5Lmdsc2wuanNcIjtpbXBvcnR7QmxlbmRPcGVyYXRpb24gYXMgdSxCbGVuZEZhY3RvciBhcyBtfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIHAsc2ltcGxlQmxlbmRpbmdQYXJhbXMgYXMgYyxkZWZhdWx0Q29sb3JXcml0ZVBhcmFtcyBhcyBofWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2VhcmNoUmFkaXVzPTEyOCx0aGlzLnJlc29sdXRpb25Gb3JTY2FsZT0wfX1jbGFzcyBmIGV4dGVuZHMgdHtpbml0aWFsaXplUHJvZ3JhbShlKXtyZXR1cm4gbmV3IGEoZS5yY3R4LGYuc2hhZGVyLmdldCgpLmJ1aWxkKHRoaXMuY29uZmlndXJhdGlvbikscyl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIHAoe2JsZW5kaW5nOmMobS5PTkUsbS5PTkUsdS5BREQpLGNvbG9yV3JpdGU6aCxkZXB0aFRlc3Q6bnVsbCxkZXB0aFdyaXRlOm51bGx9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpfX1mLnNoYWRlcj1uZXcgcihsLCgoKT0+aW1wb3J0KFwiLi9IZWF0bWFwRGVuc2l0eS5nbHNsLmpzXCIpKSk7Y2xhc3MgYiBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaXNBdHRyaWJ1dGVEcml2ZW49ITEsdGhpcy51c2VzSGFsZkZsb2F0PSExfX1lKFtpKCldLGIucHJvdG90eXBlLFwiaXNBdHRyaWJ1dGVEcml2ZW5cIix2b2lkIDApLGUoW2koKV0sYi5wcm90b3R5cGUsXCJ1c2VzSGFsZkZsb2F0XCIsdm9pZCAwKTtleHBvcnR7ZCBhcyBIZWF0bWFwRGVuc2l0eVBhc3NQYXJhbWV0ZXJzLGYgYXMgSGVhdG1hcERlbnNpdHlUZWNobmlxdWUsYiBhcyBIZWF0bWFwRGVuc2l0eVRlY2huaXF1ZUNvbmZpZ3VyYXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtOb1BhcmFtZXRlcnMgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIHR9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgc31mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7cGFyYW1ldGVyIGFzIGl9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtEZWZhdWx0M0QgYXMgb31mcm9tXCIuLi9saWIvRGVmYXVsdFZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucy5qc1wiO2ltcG9ydHtibGVuZGluZ0RlZmF1bHQgYXMgbn1mcm9tXCIuLi9saWIvT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeS5qc1wiO2ltcG9ydHtQcm9ncmFtIGFzIGF9ZnJvbVwiLi4vbGliL1Byb2dyYW0uanNcIjtpbXBvcnR7RGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgbH1mcm9tXCIuLi9tYXRlcmlhbHMvRGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7SCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9IZWF0bWFwLmdsc2wuanNcIjtpbXBvcnR7UHJpbWl0aXZlVHlwZSBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIHAsZGVmYXVsdENvbG9yV3JpdGVQYXJhbXMgYXMgY31mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIGggZXh0ZW5kcyBye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvbG9yUmFtcD1udWxsLHRoaXMuZGVuc2l0eU1hcD1udWxsLHRoaXMuc2VhcmNoUmFkaXVzPTEsdGhpcy5maWVsZFRvdGFsPTAsdGhpcy5taW5EZW5zaXR5PTAsdGhpcy5tYXhEZW5zaXR5PTEwMH19Y2xhc3MgZCBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIsKCgpPT50aGlzLmRlc3Ryb3koKSkpfWluaXRpYWxpemVQcm9ncmFtKGUpe3JldHVybiBuZXcgYShlLnJjdHgsZC5zaGFkZXIuZ2V0KCkuYnVpbGQodGhpcy5jb25maWd1cmF0aW9uKSxvKX1pbml0aWFsaXplUGlwZWxpbmUoKXtyZXR1cm4gcCh7YmxlbmRpbmc6bixjb2xvcldyaXRlOmMsZGVwdGhUZXN0Om51bGwsZGVwdGhXcml0ZTpudWxsfSl9Z2V0IHByaW1pdGl2ZVR5cGUoKXtyZXR1cm4gdS5UUklBTkdMRV9TVFJJUH19ZC5zaGFkZXI9bmV3IHQobSwoKCk9PmltcG9ydChcIi4vSGVhdG1hcC5nbHNsLmpzXCIpKSk7Y2xhc3MgZiBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudXNlc0hhbGZGbG9hdD0hMX19ZShbaSgpXSxmLnByb3RvdHlwZSxcInVzZXNIYWxmRmxvYXRcIix2b2lkIDApO2V4cG9ydHtoIGFzIEhlYXRtYXBQYXNzUGFyYW1ldGVycyxkIGFzIEhlYXRtYXBUZWNobmlxdWUsZiBhcyBIZWF0bWFwVGVjaG5pcXVlQ29uZmlndXJhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtQaXhlbFR5cGUgYXMgdCxUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIHIsUGl4ZWxGb3JtYXQgYXMgYSxTaXplZFBpeGVsRm9ybWF0IGFzIG99ZnJvbVwiLi9lbnVtcy5qc1wiO2NsYXNzIGx7Y29uc3RydWN0b3IoZSx0LHIsYSl7dGhpcy5kYXRhVHlwZT1lLHRoaXMuc2FtcGxpbmdNb2RlPXQsdGhpcy5waXhlbEZvcm1hdD1yLHRoaXMuaW50ZXJuYWxGb3JtYXQ9YX19ZnVuY3Rpb24gbihuLGkpe2NvbnN0e3RleHR1cmVGbG9hdDpmLGNvbG9yQnVmZmVyRmxvYXQ6c309bi5jYXBhYmlsaXRpZXMsdT1mPy50ZXh0dXJlRmxvYXQsXz1mPy50ZXh0dXJlRmxvYXRMaW5lYXIsbT1mPy50ZXh0dXJlSGFsZkZsb2F0LGg9Zj8udGV4dHVyZUhhbGZGbG9hdExpbmVhcixwPXM/LnRleHR1cmVGbG9hdCxkPXM/LnRleHR1cmVIYWxmRmxvYXQsYz1zPy5mbG9hdEJsZW5kLHg9bi5kcml2ZXJUZXN0LmZsb2F0QnVmZmVyQmxlbmQucmVzdWx0O2lmKCF1JiYhbSl0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy10ZXh0dXJlLWZsb2F0XCIsXCJIZWF0bWFwUmVuZGVyZXIgcmVxdWlyZXMgV2ViR0wyIG9yIHRoZSBXZWJHTDEgZXh0ZW5zaW9uIE9FU190ZXh0dXJlX2Zsb2F0IG9yIE9FU190ZXh0dXJlX2hhbGZfZmxvYXQuXCIpO2lmKCFwJiYhZCl0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy1jb2xvci1idWZmZXItZmxvYXRcIixcIkhlYXRtYXBSZW5kZXJlciByZXF1aXJlcyB0aGUgV2ViR0wgZXh0ZW5zaW9uIEVYVF9jb2xvcl9idWZmZXJfZmxvYXQgb3IgRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IG9yIFdFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdC5cIik7aWYoIShjJiZ4fHxkKSl0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy1mbG9hdC1ibGVuZFwiLFwiSGVhdG1hcFJlbmRlcmVyIHJlcXVpcmVzIHRoZSBXZWJHTCBleHRlbnNpb24gRVhUX2Zsb2F0X2JsZW5kIG9yIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdC5cIisoeD9cIlwiOlwiIFRoaXMgZGV2aWNlIGNsYWltcyBzdXBwb3J0IGZvciBFWFRfZmxvYXRfYmxlbmQsIGJ1dCBkb2VzIG5vdCBhY3R1YWxseSBzdXBwb3J0IGl0LlwiKSk7Y29uc3QgYj11JiZwJiZjJiZ4LEU9bSYmZCxSPV8sRj1oLEw9ISFzPy5SMzJGLHc9ISFzPy5SMTZGO2lmKGImJihSfHwhRikpcmV0dXJuIFJ8fGkud2Fybk9uY2UoXCJNaXNzaW5nIFdlYkdMIGV4dGVuc2lvbiBPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIuIEhlYXRtYXAgcXVhbGl0eSBtYXkgYmUgcmVkdWNlZC5cIiksbmV3IGwodC5GTE9BVCxSP3IuTElORUFSOnIuTkVBUkVTVCxMP2EuUkVEOmEuUkdCQSxMP28uUjMyRjphLlJHQkEpO2lmKEUpcmV0dXJuIEZ8fGkud2Fybk9uY2UoXCJNaXNzaW5nIFdlYkdMIGV4dGVuc2lvbiBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhci4gSGVhdG1hcCBxdWFsaXR5IG1heSBiZSByZWR1Y2VkLlwiKSxuZXcgbCh0LkhBTEZfRkxPQVQsRj9yLkxJTkVBUjpyLk5FQVJFU1Qsdz9hLlJFRDphLlJHQkEsdz9vLlIxNkY6YS5SR0JBKTt0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy1oYXJkd2FyZS1zdXBwb3J0XCIsXCJIZWF0bWFwUmVuZGVyZXIgcmVxdWlyZXMgV2ViR0wgZXh0ZW5zaW9ucyB0aGF0IGFsbG93IGl0IHRvIHJlbmRlciBhbmQgYmxlbmQgdG8gZmxvYXQgb3IgaGFsZiBmbG9hdCB0ZXh0dXJlcy5cIil9ZXhwb3J0e2wgYXMgSGVhdG1hcFRleHR1cmVDb25maWd1cmF0aW9uLG4gYXMgbG9hZEhlYXRtYXBUZXh0dXJlQ29uZmlndXJhdGlvbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=