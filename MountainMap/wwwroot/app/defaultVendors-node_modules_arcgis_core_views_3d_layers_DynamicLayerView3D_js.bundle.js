"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_DynamicLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ m),
/* harmony export */   b: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(v){const m=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__.ShaderBuilder,{vertex:f,fragment:u}=m;return (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addProjViewLocalOrigin)(f,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,v),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,"vec3"),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.UV0,"vec2"),v.perspectiveInterpolation&&m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.PERSPECTIVEDIVIDE,"float"),m.varyings.add("vpos","vec3"),v.multipassEnabled&&m.varyings.add("depth","float"),f.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main(void) {
      vpos = position;
      ${v.multipassEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0;
      gl_Position = transformPosition(proj, view, vpos);

      ${v.perspectiveInterpolation?"gl_Position *= perspectiveDivide;":""}
    }
  `),m.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__.multipassTerrainTest,v),u.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Texture2DPassUniform("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.FloatPassUniform("opacity",(e=>e.opacity))),m.varyings.add("vTexCoord","vec2"),v.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Alpha?u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}

      float alpha = texture(tex, vTexCoord).a * opacity;
      if (alpha  < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.defaultMaskAlphaCutoff)}) {
        discard;
      }

      fragColor = vec4(alpha);
    }
    `):(u.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ColorConversion),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}
      fragColor = texture(tex, vTexCoord) * opacity;

      if (fragColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.defaultMaskAlphaCutoff)}) {
        discard;
      }

      fragColor = highlightSlice(fragColor, vpos);
      ${v.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.Color?"fragColor = premultiplyAlpha(fragColor);":""}
    }
    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/overlayImageUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js");
/* harmony import */ var _support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/projectExtentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../terrain/interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../webgl-engine/materials/ImageMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let V=class extends((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_26__["default"])((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_25__["default"]))){constructor(){super(...arguments),this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.DrapeSourceType.RasterImage,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_23__.UpdatePolicy.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.debounce)((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise((0,_support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_17__.toViewIfLocal)(this).then((e=>this._set("fullExtentInLocalViewSpatialReference",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.addHandles(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange("suspended")}),(()=>{}))),this._isScaleRangeLayer()&&this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange("suspended")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=(0,_support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__.computeImageExportSize)(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if("imageMaxWidth"in n&&null!=n.imageMaxWidth||"imageMaxHeight"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.equals)(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"](r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.forEach)(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.width)(e)/this.maximumDataResolution.x,s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.height)(e)/this.maximumDataResolution.y,a=i/t.width,n=s/t.height,o=i/r.width,l=s/r.height,h=Math.abs(a-o),m=Math.abs(n-l),c=_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__.debugFlags.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=c&&m<=c}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)(i)});const n=this._images[e];n.loadingAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(n.loadingAbortController);const d=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"](i[0],i[1],i[2],i[3],this._spatialReference);if(0===d.width||0===d.height)return void this._clearImage(e);const g=new AbortController;n.loadingAbortController=g,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.onAbort)(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(d,s,i,t)})).then((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAborted)(u))throw _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warnOnce("A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true."),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createAbortError)();return this.processResult(n,e)})).then((()=>{(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.copy)(n.renderExtent,i)}));n.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(u),await this._createStageObjects(e,n.image,u)})).catch((e=>{throw e&&!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e),e})).finally((()=>{f===n.loadingPromise&&(n.loadingPromise=null,n.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__.DirtyOperation.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],n=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__.DirtyOperation.UPDATE),a.renderGeometry=null)};if(t){const o=new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_22__.Texture(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_28__.TextureWrapMode.CLAMP_TO_EDGE,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_28__.TextureWrapMode.CLAMP_TO_EDGE}});let l;if(await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(this._images[e===_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER?_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.OUTER:_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER].loadingPromise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(i),n(),await s.schedule((()=>o.load(s.renderView.renderingContext)),i),s.add(o),a.texture=o,null==a.material?(a.material=new _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_24__.ImageMaterial({transparent:!0,textureId:o.id}),s.add(a.material)):a.material.setParameters({textureId:o.id}),e===_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER)l=(0,_support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__.createGeometryForExtent)(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void n();l=(0,_support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__.createOuterImageGeometry)(a.material,e,a.renderExtent)}a.renderGeometry=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_21__.RenderGeometry(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__.DirtyOperation.UPDATE)}else n(),s.remove(a.material),a.material=null}_isScaleRangeLayer(){return"effectiveScaleRange"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_27__.isScaleRangeActive)(t,r)}_clippedExtent(e,t){if("local"!==this.view.viewingMode)return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.copy)(t,e);const r=this.view.basemapTerrain;return r.ready?(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.intersection)(e,r.extent,t):(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.copy)(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>this.view.stationary),e),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],V.prototype,"fullExtentInLocalViewSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"updating",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.DynamicLayerView3D")],V);const N=V,z=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeImageExportSize: () => (/* binding */ u),
/* harmony export */   createGeometryForExtent: () => (/* binding */ l),
/* harmony export */   createOuterImageGeometry: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(r,o,n){const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.width)(r)/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.height)(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.width)(r)/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.width)(o))),m.height=Math.round(m.height/((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.height)(r)/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.height)(o))),m}function l(t,e){return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_5__.createSquareGeometry)(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.intersects)(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.newDoubleArray)(3*c),d=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_2__.newFloatArray)(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_4__.Geometry(t,[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__.Attribute(y,j,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__.Attribute(a,I,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__.Attribute(d,j,2,!0)]])}const a=[0,0,1];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toViewIfLocal: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../portal/support/geometryServiceUtils.js */ "./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__.project)(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?(0,_portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__.projectGeometry)(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMaterial: () => (/* binding */ g),
/* harmony export */   Parameters: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/ImageMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__.TriangleMaterial{constructor(t){super(t,new T),this.supportsEdges=!0,this._vertexAttributeLocations=_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.vertexAttributeLocations,this._configuration=new _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ImageMaterialTechniqueConfiguration}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.OITPolygonOffsetLimit,this._configuration.multipassEnabled=e.multipassEnabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}produces(t,r){if(r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color||r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight){if(t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.DRAPED_MATERIAL)return!0;if(r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight)return t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new E(t)}createBufferWriter(){const t=_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_10__.PositionUVLayout.clone();return this.parameters.perspectiveInterpolation&&t.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PERSPECTIVEDIVIDE),new A(t)}}class E extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_3__.GLTextureMaterial{constructor(t){super({...t,...t.material.parameters})}_updateParameters(t){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ImageMaterialTechnique,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:t.hasOccludees}),this._updateParameters(t))}beginSlot(t){return this._output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&this._output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class A extends _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__.DefaultBufferWriter{write(e,r,s,i,a){for(const n of this.vertexBufferLayout.fields.keys()){const l=s.attributes.get(n);if(l)if(n===_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PERSPECTIVEDIVIDE){(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_7__.assert)(1===l.size);const e=i.getField(n,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.BufferViewFloat);e&&(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__.writeBufferFloat)(l,e,a)}else (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__.writeDefaultAttribute)(n,l,e,r,i,a)}}}class T extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_4__.MaterialParameters{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.CullFaceOptions.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMaterialPassParameters: () => (/* binding */ I),
/* harmony export */   ImageMaterialTechnique: () => (/* binding */ N),
/* harmony export */   ImageMaterialTechniqueConfiguration: () => (/* binding */ C),
/* harmony export */   vertexAttributeLocations: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/ImageMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class I extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.NoParameters{}class N extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_8__.Program(e.rctx,N.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const o=this.configuration,i=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.NONE,s=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.makePipelineState)({blending:o.output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&o.output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||!o.transparent?null:i?E:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitBlending)(e),culling:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.cullingParams)(o.cullFace),depthTest:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthTest)(e)},depthWrite:i?o.writeDepth?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.defaultDepthWriteParams:null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthWrite)(e),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.defaultColorWriteParams,stencilWrite:o.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilWriteMaskOn:null,stencilTest:o.hasOccludees?r?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilBaseAllZerosParams:null,polygonOffset:i||s?null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.getOITPolygonOffset)(o.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}N.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__.ReloadableShaderModule(_chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_13__.I,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_ImageMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ImageMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterial.glsl.js"))));const E=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.BlendFactor.ONE_MINUS_SRC_ALPHA);class C extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT})],C.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.COUNT})],C.prototype,"cullFace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.COUNT})],C.prototype,"transparencyPassType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"multipassEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"cullAboveGround",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"perspectiveInterpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({constValue:!1})],C.prototype,"occlusionPass",void 0);const _=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.UV0,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.PERSPECTIVEDIVIDE,3]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=a=>{let c=class extends a{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19EeW5hbWljTGF5ZXJWaWV3M0RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3d1QyxjQUFjLFlBQVkscUdBQUMsRUFBRSxvQkFBb0IsR0FBRyxPQUFPLG1IQUFDLGdCQUFnQixrR0FBQyxxQkFBcUIsMkZBQUMsbUNBQW1DLDJGQUFDLDBEQUEwRCwyRkFBQyx5SEFBeUgsNkZBQUM7QUFDcGlEO0FBQ0E7QUFDQSxRQUFRLHVEQUF1RDtBQUMvRDtBQUNBOztBQUVBLFFBQVEsNkRBQTZEO0FBQ3JFO0FBQ0EsZUFBZSw4RkFBQyxjQUFjLGdJQUFDLHVCQUF1QixvSEFBQywyQkFBMkIsMkdBQUMsMEVBQTBFLG1HQUFDLGtCQUFrQiw2RkFBQztBQUNqTDtBQUNBO0FBQ0EsUUFBUSw0Q0FBNEM7O0FBRXBEO0FBQ0EscUJBQXFCLHlGQUFDLE9BQU8saUhBQUMsRUFBRTtBQUNoQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsbUhBQUMsYUFBYSw2RkFBQztBQUNqQztBQUNBO0FBQ0EsUUFBUSw0Q0FBNEM7QUFDcEQ7O0FBRUEsMEJBQTBCLHlGQUFDLE9BQU8saUhBQUMsRUFBRTtBQUNyQztBQUNBOztBQUVBO0FBQ0EsUUFBUSx5QkFBeUIscUdBQUMsZ0RBQWdEO0FBQ2xGO0FBQ0EsVUFBVSw2Q0FBNkMsdUJBQXVCLHFCQUFxQixlQUFlLEdBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3RDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDdzFELG9CQUFvQiw0RUFBQyxDQUFDLDZEQUFDLENBQUMsNkRBQUMsSUFBSSxjQUFjLHlDQUF5Qyw0REFBQywrQkFBK0IsNEVBQUMsZ1BBQWdQLCtEQUFDLFlBQVksb0RBQW9ELG1FQUFDLEtBQUssdURBQUMsMEJB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LHNGQUFDLEVBQUUsWUFBWSxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLHlCQUF5QixnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsdUZBQUMsb0NBQW9DLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKejRFO0FBQ0E7QUFDQTtBQUNBO0FBQ21jLFlBQVksc0JBQXNCLGFBQWEsZ0JBQWdCLDBEQUFDLGlDQUFpQyx5Q0FBeUMsbUVBQUMsS0FBSyx1REFBQywwQkFBMEIsR0FBRyw2QkFBNkIsT0FBTyx1REFBQyxFQUFFLHNGQUFDLGtDQUFrQyx1REFBQyxFQUFFLHNGQUFDLG1EQUF3RSIsInNvdXJjZXMiOlsid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvSW1hZ2VNYXRlcmlhbC5nbHNsLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvRHluYW1pY0xheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L292ZXJsYXlJbWFnZVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvSW1hZ2VNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvSW1hZ2VNYXRlcmlhbFRlY2huaXF1ZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0xheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7U2hhZGVyT3V0cHV0IGFzIGV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7U2xpY2VEcmF3IGFzIHJ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TbGljZS5nbHNsLmpzXCI7aW1wb3J0e1RyYW5zZm9ybSBhcyBpfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvVHJhbnNmb3JtLmdsc2wuanNcIjtpbXBvcnR7bXVsdGlwYXNzVGVycmFpblRlc3QgYXMgb31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3NoYWRpbmcvTXVsdGlwYXNzVGVycmFpblRlc3QuZ2xzbC5qc1wiO2ltcG9ydHtkZWZhdWx0TWFza0FscGhhQ3V0b2ZmIGFzIHN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL0FscGhhQ3V0b2ZmLmpzXCI7aW1wb3J0e0NvbG9yQ29udmVyc2lvbiBhcyBhfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvdXRpbC9Db2xvckNvbnZlcnNpb24uZ2xzbC5qc1wiO2ltcG9ydHthZGRQcm9qVmlld0xvY2FsT3JpZ2luIGFzIHR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1ZpZXcuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIGR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgbH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBufWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvU2hhZGVyQnVpbGRlci5qc1wiO2ltcG9ydHtUZXh0dXJlMkRQYXNzVW5pZm9ybSBhcyBwfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvVGV4dHVyZTJEUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7VHJhbnNwYXJlbmN5UGFzc1R5cGUgYXMgZ31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbGliL1RyYW5zcGFyZW5jeVBhc3NUeXBlLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBjfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7ZnVuY3Rpb24gdih2KXtjb25zdCBtPW5ldyBuLHt2ZXJ0ZXg6ZixmcmFnbWVudDp1fT1tO3JldHVybiB0KGYsdiksbS5pbmNsdWRlKGksdiksbS5hdHRyaWJ1dGVzLmFkZChjLlBPU0lUSU9OLFwidmVjM1wiKSxtLmF0dHJpYnV0ZXMuYWRkKGMuVVYwLFwidmVjMlwiKSx2LnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbiYmbS5hdHRyaWJ1dGVzLmFkZChjLlBFUlNQRUNUSVZFRElWSURFLFwiZmxvYXRcIiksbS52YXJ5aW5ncy5hZGQoXCJ2cG9zXCIsXCJ2ZWMzXCIpLHYubXVsdGlwYXNzRW5hYmxlZCYmbS52YXJ5aW5ncy5hZGQoXCJkZXB0aFwiLFwiZmxvYXRcIiksZi5jb2RlLmFkZChsYFxuICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICB2cG9zID0gcG9zaXRpb247XG4gICAgICAke3YubXVsdGlwYXNzRW5hYmxlZD9cImRlcHRoID0gKHZpZXcgKiB2ZWM0KHZwb3MsIDEuMCkpLno7XCI6XCJcIn1cbiAgICAgIHZUZXhDb29yZCA9IHV2MDtcbiAgICAgIGdsX1Bvc2l0aW9uID0gdHJhbnNmb3JtUG9zaXRpb24ocHJvaiwgdmlldywgdnBvcyk7XG5cbiAgICAgICR7di5wZXJzcGVjdGl2ZUludGVycG9sYXRpb24/XCJnbF9Qb3NpdGlvbiAqPSBwZXJzcGVjdGl2ZURpdmlkZTtcIjpcIlwifVxuICAgIH1cbiAgYCksbS5pbmNsdWRlKHIsdiksbS5pbmNsdWRlKG8sdiksdS51bmlmb3Jtcy5hZGQobmV3IHAoXCJ0ZXhcIiwoZT0+ZS50ZXh0dXJlKSksbmV3IGQoXCJvcGFjaXR5XCIsKGU9PmUub3BhY2l0eSkpKSxtLnZhcnlpbmdzLmFkZChcInZUZXhDb29yZFwiLFwidmVjMlwiKSx2Lm91dHB1dD09PWUuQWxwaGE/dS5jb2RlLmFkZChsYFxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGRpc2NhcmRCeVNsaWNlKHZwb3MpO1xuICAgICAgJHt2Lm11bHRpcGFzc0VuYWJsZWQ/XCJ0ZXJyYWluRGVwdGhUZXN0KGRlcHRoKTtcIjpcIlwifVxuXG4gICAgICBmbG9hdCBhbHBoYSA9IHRleHR1cmUodGV4LCB2VGV4Q29vcmQpLmEgKiBvcGFjaXR5O1xuICAgICAgaWYgKGFscGhhICA8ICR7bC5mbG9hdChzKX0pIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cblxuICAgICAgZnJhZ0NvbG9yID0gdmVjNChhbHBoYSk7XG4gICAgfVxuICAgIGApOih1LmluY2x1ZGUoYSksdS5jb2RlLmFkZChsYFxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGRpc2NhcmRCeVNsaWNlKHZwb3MpO1xuICAgICAgJHt2Lm11bHRpcGFzc0VuYWJsZWQ/XCJ0ZXJyYWluRGVwdGhUZXN0KGRlcHRoKTtcIjpcIlwifVxuICAgICAgZnJhZ0NvbG9yID0gdGV4dHVyZSh0ZXgsIHZUZXhDb29yZCkgKiBvcGFjaXR5O1xuXG4gICAgICBpZiAoZnJhZ0NvbG9yLmEgPCAke2wuZmxvYXQocyl9KSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG5cbiAgICAgIGZyYWdDb2xvciA9IGhpZ2hsaWdodFNsaWNlKGZyYWdDb2xvciwgdnBvcyk7XG4gICAgICAke3YudHJhbnNwYXJlbmN5UGFzc1R5cGU9PT1nLkNvbG9yP1wiZnJhZ0NvbG9yID0gcHJlbXVsdGlwbHlBbHBoYShmcmFnQ29sb3IpO1wiOlwiXCJ9XG4gICAgfVxuICAgIGApKSxtfWNvbnN0IG09T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGJ1aWxkOnZ9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7bSBhcyBJLHYgYXMgYn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e2ZvckVhY2ggYXMgdCxyZXN1bHQgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthYm9ydE1heWJlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBuLGlzQWJvcnRFcnJvciBhcyBvLG9uQWJvcnQgYXMgbCxpc0Fib3J0ZWQgYXMgaCxjcmVhdGVBYm9ydEVycm9yIGFzIG0sdGhyb3dJZkFib3J0ZWQgYXMgY31mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBnfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e2VxdWFscyBhcyBmLGNyZWF0ZSBhcyB5LHdpZHRoIGFzIF8saGVpZ2h0IGFzIHcsY29weSBhcyB4LGludGVyc2VjdGlvbiBhcyBSfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7RHJhcGVTb3VyY2VUeXBlIGFzIHZ9ZnJvbVwiLi9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0xheWVyVmlldzNEIGFzIFN9ZnJvbVwiLi9MYXllclZpZXczRC5qc1wiO2ltcG9ydHtjb21wdXRlSW1hZ2VFeHBvcnRTaXplIGFzIGIsY3JlYXRlR2VvbWV0cnlGb3JFeHRlbnQgYXMgRSxjcmVhdGVPdXRlckltYWdlR2VvbWV0cnkgYXMgan1mcm9tXCIuL3N1cHBvcnQvb3ZlcmxheUltYWdlVXRpbHMuanNcIjtpbXBvcnR7dG9WaWV3SWZMb2NhbCBhcyBJfWZyb21cIi4vc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanNcIjtpbXBvcnR7ZGVidWdGbGFncyBhcyBBfWZyb21cIi4uL3N1cHBvcnQvZGVidWdGbGFncy5qc1wiO2ltcG9ydHtPdmVybGF5SW5kZXggYXMgRH1mcm9tXCIuLi90ZXJyYWluL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7RGlydHlPcGVyYXRpb24gYXMgTH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL01vZGVsRGlydHlUeXBlcy5qc1wiO2ltcG9ydHtSZW5kZXJHZW9tZXRyeSBhcyBNfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvUmVuZGVyR2VvbWV0cnkuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyBDfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVGV4dHVyZS5qc1wiO2ltcG9ydHtVcGRhdGVQb2xpY3kgYXMgVH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL1VwZGF0ZVBvbGljeS5qc1wiO2ltcG9ydHtJbWFnZU1hdGVyaWFsIGFzIFB9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL21hdGVyaWFscy9JbWFnZU1hdGVyaWFsLmpzXCI7aW1wb3J0IEcgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCBPIGZyb21cIi4uLy4uL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qc1wiO2ltcG9ydHtpc1NjYWxlUmFuZ2VBY3RpdmUgYXMgVX1mcm9tXCIuLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7aW1wb3J0e1RleHR1cmVXcmFwTW9kZSBhcyBIfWZyb21cIi4uLy4uL3dlYmdsL2VudW1zLmpzXCI7bGV0IFY9Y2xhc3MgZXh0ZW5kcyhPKFMoRykpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5kcmFwZVNvdXJjZVR5cGU9di5SYXN0ZXJJbWFnZSx0aGlzLnVwZGF0ZVBvbGljeT1ULlNZTkMsdGhpcy5mdWxsRXh0ZW50SW5Mb2NhbFZpZXdTcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5tYXhpbXVtRGF0YVJlc29sdXRpb249bnVsbCx0aGlzLl9pbWFnZXM9bmV3IEFycmF5LHRoaXMuX2V4dGVudHM9bmV3IEFycmF5LHRoaXMuX292ZXJsYXlzPW5ldyBBcnJheSx0aGlzLnVwZGF0ZVdoZW5TdGF0aW9uYXJ5PSEwLHRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXI9bnVsbCx0aGlzLnJlZnJlc2hEZWJvdW5jZWQ9bigoYXN5bmMgZT0+e3RoaXMuZGVzdHJveWVkfHxhd2FpdCB0aGlzLl9kb1JlZnJlc2goZSkuY2F0Y2goKGU9PntvKGUpfHxzLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKX0pLDJlMyl9aW5pdGlhbGl6ZSgpe3RoaXMuX2RyYXBlU291cmNlUmVuZGVyZXI9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLm92ZXJsYXlNYW5hZ2VyLnJlZ2lzdGVyR2VvbWV0cnlEcmFwZVNvdXJjZSh0aGlzKSx0aGlzLmFkZEhhbmRsZXMoaSgoKCk9PnRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vdmVybGF5TWFuYWdlci51bnJlZ2lzdGVyRHJhcGVTb3VyY2UodGhpcykpKSksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKEkodGhpcykudGhlbigoZT0+dGhpcy5fc2V0KFwiZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZVwiLGUpKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnN1c3BlbmRlZCksKCgpPT50aGlzLl9zdXNwZW5kZWRDaGFuZ2VIYW5kbGVyKCkpKSx0aGlzLmFkZEhhbmRsZXModGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlci5zY2hlZHVsZXIucmVnaXN0ZXJJZGxlU3RhdGVDYWxsYmFja3MoKCgpPT57dGhpcy5faXNTY2FsZVJhbmdlQWN0aXZlKCkmJnRoaXMubm90aWZ5Q2hhbmdlKFwic3VzcGVuZGVkXCIpfSksKCgpPT57fSkpKSx0aGlzLl9pc1NjYWxlUmFuZ2VMYXllcigpJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlKSwoKCk9PnRoaXMubm90aWZ5Q2hhbmdlKFwic3VzcGVuZGVkXCIpKSl9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKX1zZXREcmFwaW5nRXh0ZW50KGUsdCl7dGhpcy5fc3BhdGlhbFJlZmVyZW5jZT10LGUuZm9yRWFjaCgoKGUsdCk9Pnt0aGlzLl9vdmVybGF5c1t0XT1lLHRoaXMuX3VwZGF0ZUltYWdlRXh0ZW50KGUsdCl9KSl9X3VwZGF0ZUltYWdlRXh0ZW50KGUsdCl7Y29uc3Qgcj10aGlzLl9jbGlwcGVkRXh0ZW50KGUuZXh0ZW50LHopO2lmKG51bGw9PXIpcmV0dXJuO2NvbnN0IGk9YihlLmV4dGVudCxyLGUucmVzb2x1dGlvbik7bGV0IGE9ZS5waXhlbFJhdGlvKnRoaXMudmlldy5zdGF0ZS5waXhlbFJhdGlvO2NvbnN0e2xheWVyOm59PXRoaXM7aWYoXCJpbWFnZU1heFdpZHRoXCJpbiBuJiZudWxsIT1uLmltYWdlTWF4V2lkdGh8fFwiaW1hZ2VNYXhIZWlnaHRcImluIG4mJm51bGwhPW4uaW1hZ2VNYXhIZWlnaHQpe2NvbnN0IGU9bi5pbWFnZU1heFdpZHRoLHQ9bi5pbWFnZU1heEhlaWdodDtpZihpLndpZHRoPmUpe2NvbnN0IHQ9ZS9pLndpZHRoO2kuaGVpZ2h0PU1hdGguZmxvb3IoaS5oZWlnaHQqdCksaS53aWR0aD1lLGEqPXR9aWYoaS5oZWlnaHQ+dCl7Y29uc3QgZT10L2kuaGVpZ2h0O2kud2lkdGg9TWF0aC5mbG9vcihpLndpZHRoKmUpLGkuaGVpZ2h0PXQsYSo9ZX19Y29uc3QgbD10aGlzLl9leHRlbnRzW3RdO2wmJmYobC5leHRlbnQscikmJnRoaXMuX2ltYWdlU2l6ZUVxdWFscyhyLGwuaW1hZ2VTaXplLGkpfHwodGhpcy5fZXh0ZW50c1t0XT17ZXh0ZW50OnkociksaW1hZ2VTaXplOmkscGl4ZWxSYXRpbzphfSx0aGlzLnN1c3BlbmRlZHx8dGhpcy5fZmV0Y2godCkuY2F0Y2goKGU9PntvKGUpfHxzLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKSl9Y2xlYXIoKXtmb3IobGV0IGU9MDtlPHRoaXMuX2ltYWdlcy5sZW5ndGg7ZSsrKXRoaXMuX2NsZWFySW1hZ2UoZSl9YXN5bmMgZG9SZWZyZXNoKCl7cmV0dXJuIHRoaXMuX2RvUmVmcmVzaCgpfWFzeW5jIF9kb1JlZnJlc2goZSl7aWYodGhpcy5zdXNwZW5kZWQpcmV0dXJuO2NvbnN0IHQ9W107Zm9yKGxldCByPTA7cjx0aGlzLl9leHRlbnRzLmxlbmd0aDtyKyspdGhpcy5fZXh0ZW50c1tyXSYmdC5wdXNoKHRoaXMuX2ZldGNoKHIsZSkpO2F3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh0KX1jYW5SZXN1bWUoKXtpZighc3VwZXIuY2FuUmVzdW1lKCkpcmV0dXJuITE7Y29uc3QgZT10aGlzLmxheWVyO2lmKHRoaXMuX2lzU2NhbGVSYW5nZUFjdGl2ZSgpKXtjb25zdHttaW5TY2FsZTp0LG1heFNjYWxlOnJ9PWUuZWZmZWN0aXZlU2NhbGVSYW5nZSxpPXRoaXMudmlldy5zY2FsZTtpZihpPHJ8fHQ+MCYmaT50KXJldHVybiExfXJldHVybiEwfWFzeW5jIHByb2Nlc3NSZXN1bHQoZSx0LHIpeyh0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSYmKGUuaW1hZ2U9dCl9ZmluZEV4dGVudEluZm9BdChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9leHRlbnRzKXtjb25zdCByPXQuZXh0ZW50O2lmKG5ldyBwKHJbMF0sclsxXSxyWzJdLHJbM10sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSkuY29udGFpbnMoZSkpcmV0dXJuIHR9cmV0dXJuIG51bGx9Z2V0RmV0Y2hPcHRpb25zKCl7fWFzeW5jIHJlZHJhdyhlLHIpe2F3YWl0IHQodGhpcy5faW1hZ2VzLChhc3luYyh0LGkpPT57dCYmKGF3YWl0IGUodCxyKSxhd2FpdCB0aGlzLl9jcmVhdGVTdGFnZU9iamVjdHMoaSx0LmltYWdlLHIpKX0pKX1faW1hZ2VTaXplRXF1YWxzKGUsdCxyKXtpZighdGhpcy5tYXhpbXVtRGF0YVJlc29sdXRpb24pcmV0dXJuITE7Y29uc3QgaT1fKGUpL3RoaXMubWF4aW11bURhdGFSZXNvbHV0aW9uLngscz13KGUpL3RoaXMubWF4aW11bURhdGFSZXNvbHV0aW9uLnksYT1pL3Qud2lkdGgsbj1zL3QuaGVpZ2h0LG89aS9yLndpZHRoLGw9cy9yLmhlaWdodCxoPU1hdGguYWJzKGEtbyksbT1NYXRoLmFicyhuLWwpLGM9QS5URVNUU19ESVNBQkxFX09QVElNSVpBVElPTlM/MDoxLjU7cmV0dXJuIGg8PWMmJm08PWN9YXN5bmMgX2ZldGNoKGUsdCl7aWYodGhpcy5zdXNwZW5kZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fZXh0ZW50c1tlXSxpPXIuZXh0ZW50O3RoaXMuX2ltYWdlc1tlXXx8KHRoaXMuX2ltYWdlc1tlXT17dGV4dHVyZTpudWxsLG1hdGVyaWFsOm51bGwscmVuZGVyR2VvbWV0cnk6bnVsbCxsb2FkaW5nUHJvbWlzZTpudWxsLGxvYWRpbmdBYm9ydENvbnRyb2xsZXI6bnVsbCxpbWFnZTpudWxsLHBpeGVsRGF0YTpudWxsLHJlbmRlckV4dGVudDp5KGkpfSk7Y29uc3Qgbj10aGlzLl9pbWFnZXNbZV07bi5sb2FkaW5nQWJvcnRDb250cm9sbGVyPWEobi5sb2FkaW5nQWJvcnRDb250cm9sbGVyKTtjb25zdCBkPW5ldyBwKGlbMF0saVsxXSxpWzJdLGlbM10sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSk7aWYoMD09PWQud2lkdGh8fDA9PT1kLmhlaWdodClyZXR1cm4gdm9pZCB0aGlzLl9jbGVhckltYWdlKGUpO2NvbnN0IGc9bmV3IEFib3J0Q29udHJvbGxlcjtuLmxvYWRpbmdBYm9ydENvbnRyb2xsZXI9ZyxsKHQsKCgpPT5nLmFib3J0KCkpKTtjb25zdCB1PWcuc2lnbmFsLGY9dGhpcy5fd2FpdEZldGNoUmVhZHkodSkudGhlbigoYXN5bmMoKT0+e2NvbnN0IHQ9e3JlcXVlc3RBc0ltYWdlRWxlbWVudDohMCxwaXhlbFJhdGlvOnRoaXMuX292ZXJsYXlzW2VdLnBpeGVsUmF0aW8sLi4udGhpcy5nZXRGZXRjaE9wdGlvbnMoKSxzaWduYWw6dX0se2hlaWdodDppLHdpZHRoOnN9PXIuaW1hZ2VTaXplO3JldHVybiB0aGlzLmxheWVyLmZldGNoSW1hZ2UoZCxzLGksdCl9KSkudGhlbigoZT0+e2lmKGgodSkpdGhyb3cgcy5nZXRMb2dnZXIodGhpcykud2Fybk9uY2UoXCJBIGNhbGwgdG8gZmV0Y2hJbWFnZSByZXNvbHZlZCBldmVuIHRob3VnaCB0aGUgcmVxdWVzdCB3YXMgYWJvcnRlZC4gZmV0Y2hJbWFnZSBzaG91bGQgbm90IHJlc29sdmUgaWYgb3B0aW9ucy5zaWduYWwuYWJvcnRlZCBpcyB0cnVlLlwiKSxtKCk7cmV0dXJuIHRoaXMucHJvY2Vzc1Jlc3VsdChuLGUpfSkpLnRoZW4oKCgpPT57eChuLnJlbmRlckV4dGVudCxpKX0pKTtuLmxvYWRpbmdQcm9taXNlPWYsYXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UoZi50aGVuKChhc3luYygpPT57Yyh1KSxhd2FpdCB0aGlzLl9jcmVhdGVTdGFnZU9iamVjdHMoZSxuLmltYWdlLHUpfSkpLmNhdGNoKChlPT57dGhyb3cgZSYmIW8oZSkmJnMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGUpLGV9KSkuZmluYWxseSgoKCk9PntmPT09bi5sb2FkaW5nUHJvbWlzZSYmKG4ubG9hZGluZ1Byb21pc2U9bnVsbCxuLmxvYWRpbmdBYm9ydENvbnRyb2xsZXI9bnVsbCl9KSkpfV9jbGVhckltYWdlKGUpe2NvbnN0IHQ9dGhpcy5faW1hZ2VzW2VdO2lmKHQpe251bGwhPXQucmVuZGVyR2VvbWV0cnkmJih0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLnJlbW92ZUdlb21ldHJpZXMoW3QucmVuZGVyR2VvbWV0cnldLEwuVVBEQVRFKSx0LnJlbmRlckdlb21ldHJ5PW51bGwpO2NvbnN0IGU9dGhpcy52aWV3Ll9zdGFnZSxyPXQudGV4dHVyZTtyPy51bmxvYWQoKSxlLnJlbW92ZShyKSx0LnRleHR1cmU9bnVsbCxlLnJlbW92ZSh0Lm1hdGVyaWFsKSx0Lm1hdGVyaWFsPW51bGwsdC5sb2FkaW5nQWJvcnRDb250cm9sbGVyPWEodC5sb2FkaW5nQWJvcnRDb250cm9sbGVyKSx0LmxvYWRpbmdQcm9taXNlPW51bGwsdC5pbWFnZT1udWxsLHQucGl4ZWxEYXRhPW51bGx9fWFzeW5jIF9jcmVhdGVTdGFnZU9iamVjdHMoZSx0LGkpe2NvbnN0IHM9dGhpcy52aWV3Ll9zdGFnZSxhPXRoaXMuX2ltYWdlc1tlXSxuPSgpPT57YS50ZXh0dXJlPy51bmxvYWQoKSxzLnJlbW92ZShhLnRleHR1cmUpLGEudGV4dHVyZT1udWxsLGEucmVuZGVyR2VvbWV0cnkmJih0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLnJlbW92ZUdlb21ldHJpZXMoW2EucmVuZGVyR2VvbWV0cnldLEwuVVBEQVRFKSxhLnJlbmRlckdlb21ldHJ5PW51bGwpfTtpZih0KXtjb25zdCBvPW5ldyBDKHQse3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHByZU11bHRpcGx5QWxwaGE6ITAsd3JhcDp7czpILkNMQU1QX1RPX0VER0UsdDpILkNMQU1QX1RPX0VER0V9fSk7bGV0IGw7aWYoYXdhaXQgcih0aGlzLl9pbWFnZXNbZT09PUQuSU5ORVI/RC5PVVRFUjpELklOTkVSXS5sb2FkaW5nUHJvbWlzZSksYyhpKSxuKCksYXdhaXQgcy5zY2hlZHVsZSgoKCk9Pm8ubG9hZChzLnJlbmRlclZpZXcucmVuZGVyaW5nQ29udGV4dCkpLGkpLHMuYWRkKG8pLGEudGV4dHVyZT1vLG51bGw9PWEubWF0ZXJpYWw/KGEubWF0ZXJpYWw9bmV3IFAoe3RyYW5zcGFyZW50OiEwLHRleHR1cmVJZDpvLmlkfSkscy5hZGQoYS5tYXRlcmlhbCkpOmEubWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7dGV4dHVyZUlkOm8uaWR9KSxlPT09RC5JTk5FUilsPUUoYS5tYXRlcmlhbCxhLnJlbmRlckV4dGVudCk7ZWxzZXtjb25zdCBlPXRoaXMuX2ltYWdlc1swXS5yZW5kZXJFeHRlbnQ7aWYoIWUpcmV0dXJuIHZvaWQgbigpO2w9aihhLm1hdGVyaWFsLGUsYS5yZW5kZXJFeHRlbnQpfWEucmVuZGVyR2VvbWV0cnk9bmV3IE0obCksYS5yZW5kZXJHZW9tZXRyeS5sb2NhbE9yaWdpbj10aGlzLl9vdmVybGF5c1tlXS5yZW5kZXJMb2NhbE9yaWdpbix0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLmFkZEdlb21ldHJpZXMoW2EucmVuZGVyR2VvbWV0cnldLEwuVVBEQVRFKX1lbHNlIG4oKSxzLnJlbW92ZShhLm1hdGVyaWFsKSxhLm1hdGVyaWFsPW51bGx9X2lzU2NhbGVSYW5nZUxheWVyKCl7cmV0dXJuXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyfV9pc1NjYWxlUmFuZ2VBY3RpdmUoKXtjb25zdCBlPXRoaXMubGF5ZXI7aWYoIXRoaXMuX2lzU2NhbGVSYW5nZUxheWVyKCkpcmV0dXJuITE7Y29uc3R7bWluU2NhbGU6dCxtYXhTY2FsZTpyfT1lLmVmZmVjdGl2ZVNjYWxlUmFuZ2U7cmV0dXJuIFUodCxyKX1fY2xpcHBlZEV4dGVudChlLHQpe2lmKFwibG9jYWxcIiE9PXRoaXMudmlldy52aWV3aW5nTW9kZSlyZXR1cm4geCh0LGUpO2NvbnN0IHI9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluO3JldHVybiByLnJlYWR5P1IoZSxyLmV4dGVudCx0KTp4KHQsZSl9X3N1c3BlbmRlZENoYW5nZUhhbmRsZXIoKXt0aGlzLnN1c3BlbmRlZD90aGlzLmNsZWFyKCk6dGhpcy5yZWZyZXNoRGVib3VuY2VkKCl9YXN5bmMgX3dhaXRGZXRjaFJlYWR5KGUpe2F3YWl0IGQoKCgpPT50aGlzLnZpZXcuc3RhdGlvbmFyeSksZSksYyhlKX19O2UoW2coKV0sVi5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbZygpXSxWLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLHZvaWQgMCksZShbZyh7cmVhZE9ubHk6ITB9KV0sVi5wcm90b3R5cGUsXCJmdWxsRXh0ZW50SW5Mb2NhbFZpZXdTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtnKCldLFYucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLFY9ZShbdShcImVzcmkudmlld3MuM2QubGF5ZXJzLkR5bmFtaWNMYXllclZpZXczRFwiKV0sVik7Y29uc3QgTj1WLHo9eSgpO2V4cG9ydHtOIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7c3VwcG9ydHNIZWlnaHRNb2RlbEluZm8gYXMgYSxyZWplY3RMYXllckVycm9yIGFzIGx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9oZWlnaHRNb2RlbEluZm9VdGlscy5qc1wiO2NvbnN0IG49bj0+e2xldCBjPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb249ITF9cG9zdHNjcmlwdChlKXtzdXBlci5wb3N0c2NyaXB0KGUpLGEodGhpcy5sYXllcikmJnRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpKX1hc3luYyBfdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIsbz1lLnNpZ25hbDt0aGlzLmFkZEhhbmRsZXMocygoKCk9PmUuYWJvcnQoKSkpKSxhd2FpdCByKCgoKT0+dGhpcy52aWV3LmRlZmF1bHRzRnJvbU1hcD8uaGVpZ2h0TW9kZWxJbmZvUmVhZHkpLG8pLHQobyk7Y29uc3QgaT1sKHRoaXMubGF5ZXIsdGhpcy52aWV3LmhlaWdodE1vZGVsSW5mbyx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb24pO2lmKGkpdGhyb3cgaX1jYW5SZXN1bWUoKXtjb25zdCBlPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJighZT8ubWluU2NhbGV8fCFlLm1heFNjYWxlfHxlLm1pblNjYWxlPj1lLm1heFNjYWxlKX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9c3VwZXIuZ2V0U3VzcGVuZEluZm8oKSxzPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gcyYmcy5taW5TY2FsZSYmcy5tYXhTY2FsZSYmcy5taW5TY2FsZTxzLm1heFNjYWxlJiYoZS5vdXRzaWRlU2NhbGVSYW5nZT0hMCksZX19O3JldHVybiBlKFtvKCldLGMucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbygpXSxjLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxjPWUoW2koXCJlc3JpLnZpZXdzLjNkLmxheWVycy5MYXllclZpZXczRFwiKV0sYyksY307ZXhwb3J0e24gYXMgTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt3aWR0aCBhcyB0LGhlaWdodCBhcyBlLGludGVyc2VjdHMgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2ltcG9ydHtuZXdGbG9hdEFycmF5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9GbG9hdEFycmF5LmpzXCI7aW1wb3J0e0F0dHJpYnV0ZSBhcyBpfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvQXR0cmlidXRlLmpzXCI7aW1wb3J0e0dlb21ldHJ5IGFzIG19ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeS5qc1wiO2ltcG9ydHtjcmVhdGVTcXVhcmVHZW9tZXRyeSBhcyBofWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnlVdGlsLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBnfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7ZnVuY3Rpb24gdShyLG8sbil7Y29uc3QgaT10KHIpL2UociksbT17d2lkdGg6bixoZWlnaHQ6bn07cmV0dXJuIGk+MS4wMDAxP20uaGVpZ2h0PW4vaTppPC45OTk5JiYobS53aWR0aD1uKmkpLG0ud2lkdGg9TWF0aC5yb3VuZChtLndpZHRoLyh0KHIpL3QobykpKSxtLmhlaWdodD1NYXRoLnJvdW5kKG0uaGVpZ2h0LyhlKHIpL2UobykpKSxtfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gaCh0LFtbZVswXSxlWzFdLC0xXSxbZVsyXSxlWzFdLC0xXSxbZVsyXSxlWzNdLC0xXSxbZVswXSxlWzNdLC0xXV0pfWZ1bmN0aW9uIHModCxlLGgpe2lmKCFyKGUsaCkpcmV0dXJuIGwodCxoKTtjb25zdCB1PVtlWzFdLWhbMV0sTWF0aC5taW4oZVszXSxoWzNdKS1NYXRoLm1heChlWzFdLGhbMV0pLGhbM10tZVszXSwxMjM0NTZdLHM9W2VbMF0taFswXSxNYXRoLm1pbihlWzJdLGhbMl0pLU1hdGgubWF4KGVbMF0saFswXSksaFsyXS1lWzJdLDEyMzQ1Nl0sZj1oWzJdLWhbMF0scD1oWzNdLWhbMV0sdz1zWzBdPjAmJnNbMl0+MD8zOjIsYj11WzBdPjAmJnVbMl0+MD8zOjIsYz0oYisxKSoodysxKSx5PW8oMypjKSxkPW4oMipjKSxqPW5ldyBBcnJheSg2KihiKnctMSkpO2xldCBBPTAsTT0wLHg9MCxPPTAsRz0wO2ZvcihsZXQgcj0wO3I8NDtyKyspe2NvbnN0IHQ9dVtyXTtpZih0PD0wKWNvbnRpbnVlO2xldCBlPTA7Zm9yKGxldCBvPTA7bzw0O28rKyl7Y29uc3QgdD1zW29dO3Q8PTB8fCh5W00rK109aFswXStlLHlbTSsrXT1oWzFdK0EseVtNKytdPS0xLGRbeCsrXT1lL2YsZFt4KytdPUEvcCxvPDMmJnI8MyYmKDEhPT1vfHwxIT09cikmJihqW0crK109TyxqW0crK109TysxLGpbRysrXT1PK3crMSxqW0crK109TysxLGpbRysrXT1PK3crMixqW0crK109Tyt3KzEpLE8rKyxlKz10KX1BKz10fWNvbnN0IEk9bmV3IEFycmF5KGoubGVuZ3RoKTtyZXR1cm4gbmV3IG0odCxbW2cuUE9TSVRJT04sbmV3IGkoeSxqLDMsITApXSxbZy5OT1JNQUwsbmV3IGkoYSxJLDMsITApXSxbZy5VVjAsbmV3IGkoZCxqLDIsITApXV0pfWNvbnN0IGE9WzAsMCwxXTtleHBvcnR7dSBhcyBjb21wdXRlSW1hZ2VFeHBvcnRTaXplLGwgYXMgY3JlYXRlR2VvbWV0cnlGb3JFeHRlbnQscyBhcyBjcmVhdGVPdXRlckltYWdlR2VvbWV0cnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwcm9qZWN0IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3RHZW9tZXRyeSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL3BvcnRhbC9zdXBwb3J0L2dlb21ldHJ5U2VydmljZVV0aWxzLmpzXCI7ZnVuY3Rpb24gbChsKXtjb25zdCB0PWwudmlldy5zcGF0aWFsUmVmZXJlbmNlLG89bC5sYXllci5mdWxsRXh0ZW50LHM9bnVsbCE9byYmby5zcGF0aWFsUmVmZXJlbmNlO2lmKG51bGw9PW98fCFzKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7aWYocy5lcXVhbHModCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZShvLmNsb25lKCkpO2NvbnN0IG49ZShvLHQpO3JldHVybiBudWxsIT1uP1Byb21pc2UucmVzb2x2ZShuKTpsLnZpZXcuc3RhdGUuaXNMb2NhbD9yKG8sdCxsLmxheWVyLnBvcnRhbEl0ZW0pLnRoZW4oKGU9PiFsLmRlc3Ryb3llZCYmZT9lOm51bGwpKS5jYXRjaCgoKCk9Pm51bGwpKTpQcm9taXNlLnJlc29sdmUobnVsbCl9ZXhwb3J0e2wgYXMgdG9WaWV3SWZMb2NhbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0J1ZmZlclZpZXdGbG9hdCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYnVmZmVyL0J1ZmZlclZpZXcuanNcIjtpbXBvcnR7U2hhZGVyT3V0cHV0IGFzIGV9ZnJvbVwiLi4vY29yZS9zaGFkZXJMaWJyYXJ5L1NoYWRlck91dHB1dC5qc1wiO2ltcG9ydHtDdWxsRmFjZU9wdGlvbnMgYXMgcn1mcm9tXCIuLi9saWIvYmFzaWNJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0dMVGV4dHVyZU1hdGVyaWFsIGFzIHN9ZnJvbVwiLi4vbGliL0dMVGV4dHVyZU1hdGVyaWFsLmpzXCI7aW1wb3J0e01hdGVyaWFsUGFyYW1ldGVycyBhcyBpfWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtPSVRQb2x5Z29uT2Zmc2V0TGltaXQgYXMgYX1mcm9tXCIuLi9saWIvT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeS5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIG59ZnJvbVwiLi4vbGliL1JlbmRlclNsb3QuanNcIjtpbXBvcnR7YXNzZXJ0IGFzIG99ZnJvbVwiLi4vbGliL1V0aWwuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHV9ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtEZWZhdWx0QnVmZmVyV3JpdGVyIGFzIGx9ZnJvbVwiLi9EZWZhdWx0QnVmZmVyV3JpdGVyLmpzXCI7aW1wb3J0e1Bvc2l0aW9uVVZMYXlvdXQgYXMgcH1mcm9tXCIuL0RlZmF1bHRMYXlvdXRzLmpzXCI7aW1wb3J0e1RyaWFuZ2xlTWF0ZXJpYWwgYXMgY31mcm9tXCIuL1RyaWFuZ2xlTWF0ZXJpYWwuanNcIjtpbXBvcnR7d3JpdGVCdWZmZXJGbG9hdCBhcyBoLHdyaXRlRGVmYXVsdEF0dHJpYnV0ZSBhcyBtfWZyb21cIi4vaW50ZXJuYWwvYnVmZmVyV3JpdGVyVXRpbHMuanNcIjtpbXBvcnR7dmVydGV4QXR0cmlidXRlTG9jYXRpb25zIGFzIGYsSW1hZ2VNYXRlcmlhbFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgZCxJbWFnZU1hdGVyaWFsVGVjaG5pcXVlIGFzIF99ZnJvbVwiLi4vc2hhZGVycy9JbWFnZU1hdGVyaWFsVGVjaG5pcXVlLmpzXCI7Y2xhc3MgZyBleHRlbmRzIGN7Y29uc3RydWN0b3IodCl7c3VwZXIodCxuZXcgVCksdGhpcy5zdXBwb3J0c0VkZ2VzPSEwLHRoaXMuX3ZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucz1mLHRoaXMuX2NvbmZpZ3VyYXRpb249bmV3IGR9Z2V0Q29uZmlndXJhdGlvbih0LGUpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9uLm91dHB1dD10LHRoaXMuX2NvbmZpZ3VyYXRpb24uY3VsbEZhY2U9dGhpcy5wYXJhbWV0ZXJzLmN1bGxGYWNlLHRoaXMuX2NvbmZpZ3VyYXRpb24uaGFzU2xpY2VQbGFuZT10aGlzLnBhcmFtZXRlcnMuaGFzU2xpY2VQbGFuZSx0aGlzLl9jb25maWd1cmF0aW9uLnRyYW5zcGFyZW50PXRoaXMucGFyYW1ldGVycy50cmFuc3BhcmVudCx0aGlzLl9jb25maWd1cmF0aW9uLndyaXRlRGVwdGg9dGhpcy5wYXJhbWV0ZXJzLndyaXRlRGVwdGgsdGhpcy5fY29uZmlndXJhdGlvbi5oYXNPY2NsdWRlZXM9dGhpcy5wYXJhbWV0ZXJzLmhhc09jY2x1ZGVlcyx0aGlzLl9jb25maWd1cmF0aW9uLnRyYW5zcGFyZW5jeVBhc3NUeXBlPWUudHJhbnNwYXJlbmN5UGFzc1R5cGUsdGhpcy5fY29uZmlndXJhdGlvbi5lbmFibGVPZmZzZXQ9ZS5jYW1lcmEucmVsYXRpdmVFbGV2YXRpb248YSx0aGlzLl9jb25maWd1cmF0aW9uLm11bHRpcGFzc0VuYWJsZWQ9ZS5tdWx0aXBhc3NFbmFibGVkLHRoaXMuX2NvbmZpZ3VyYXRpb24uY3VsbEFib3ZlR3JvdW5kPWUubXVsdGlwYXNzVGVycmFpbi5jdWxsQWJvdmVHcm91bmQsdGhpcy5fY29uZmlndXJhdGlvbi5wZXJzcGVjdGl2ZUludGVycG9sYXRpb249dGhpcy5wYXJhbWV0ZXJzLnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbix0aGlzLl9jb25maWd1cmF0aW9ufXByb2R1Y2VzKHQscil7aWYocj09PWUuQ29sb3J8fHI9PT1lLkFscGhhfHxyPT09ZS5IaWdobGlnaHQpe2lmKHQ9PT1uLkRSQVBFRF9NQVRFUklBTClyZXR1cm4hMDtpZihyPT09ZS5IaWdobGlnaHQpcmV0dXJuIHQ9PT1uLk9QQVFVRV9NQVRFUklBTDtyZXR1cm4gdD09PSh0aGlzLnBhcmFtZXRlcnMudHJhbnNwYXJlbnQ/dGhpcy5wYXJhbWV0ZXJzLndyaXRlRGVwdGg/bi5UUkFOU1BBUkVOVF9NQVRFUklBTDpuLlRSQU5TUEFSRU5UX0RFUFRIX1dSSVRFX0RJU0FCTEVEX01BVEVSSUFMOm4uT1BBUVVFX01BVEVSSUFMKX1yZXR1cm4hMX1jcmVhdGVHTE1hdGVyaWFsKHQpe3JldHVybiBuZXcgRSh0KX1jcmVhdGVCdWZmZXJXcml0ZXIoKXtjb25zdCB0PXAuY2xvbmUoKTtyZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbiYmdC5mMzIodS5QRVJTUEVDVElWRURJVklERSksbmV3IEEodCl9fWNsYXNzIEUgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHQpe3N1cGVyKHsuLi50LC4uLnQubWF0ZXJpYWwucGFyYW1ldGVyc30pfV91cGRhdGVQYXJhbWV0ZXJzKHQpe3JldHVybiB0aGlzLnVwZGF0ZVRleHR1cmUodGhpcy5fbWF0ZXJpYWwucGFyYW1ldGVycy50ZXh0dXJlSWQpLHRoaXMuX21hdGVyaWFsLnNldFBhcmFtZXRlcnModGhpcy50ZXh0dXJlQmluZFBhcmFtZXRlcnMpLHRoaXMuZW5zdXJlVGVjaG5pcXVlKF8sdCl9X3VwZGF0ZU9jY2x1ZGVlU3RhdGUodCl7dC5oYXNPY2NsdWRlZXMhPT10aGlzLl9tYXRlcmlhbC5wYXJhbWV0ZXJzLmhhc09jY2x1ZGVlcyYmKHRoaXMuX21hdGVyaWFsLnNldFBhcmFtZXRlcnMoe2hhc09jY2x1ZGVlczp0Lmhhc09jY2x1ZGVlc30pLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnModCkpfWJlZ2luU2xvdCh0KXtyZXR1cm4gdGhpcy5fb3V0cHV0IT09ZS5Db2xvciYmdGhpcy5fb3V0cHV0IT09ZS5BbHBoYXx8dGhpcy5fdXBkYXRlT2NjbHVkZWVTdGF0ZSh0KSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKHQpfX1jbGFzcyBBIGV4dGVuZHMgbHt3cml0ZShlLHIscyxpLGEpe2Zvcihjb25zdCBuIG9mIHRoaXMudmVydGV4QnVmZmVyTGF5b3V0LmZpZWxkcy5rZXlzKCkpe2NvbnN0IGw9cy5hdHRyaWJ1dGVzLmdldChuKTtpZihsKWlmKG49PT11LlBFUlNQRUNUSVZFRElWSURFKXtvKDE9PT1sLnNpemUpO2NvbnN0IGU9aS5nZXRGaWVsZChuLHQpO2UmJmgobCxlLGEpfWVsc2UgbShuLGwsZSxyLGksYSl9fX1jbGFzcyBUIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50cmFuc3BhcmVudD0hMSx0aGlzLndyaXRlRGVwdGg9ITAsdGhpcy5oYXNTbGljZVBsYW5lPSExLHRoaXMuY3VsbEZhY2U9ci5Ob25lLHRoaXMuaGFzT2NjbHVkZWVzPSExLHRoaXMub3BhY2l0eT0xLHRoaXMudGV4dHVyZUlkPW51bGwsdGhpcy5pbml0VGV4dHVyZVRyYW5zcGFyZW50PSEwLHRoaXMucGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uPSExfX1leHBvcnR7ZyBhcyBJbWFnZU1hdGVyaWFsLFQgYXMgUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyB0fWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7Tm9QYXJhbWV0ZXJzIGFzIHJ9ZnJvbVwiLi4vY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyBvfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIGl9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e3BhcmFtZXRlciBhcyBzfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7Q3VsbEZhY2VPcHRpb25zIGFzIG59ZnJvbVwiLi4vbGliL2Jhc2ljSW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtvaXRCbGVuZGluZyBhcyBhLG9pdERlcHRoVGVzdCBhcyBsLG9pdERlcHRoV3JpdGUgYXMgcCxnZXRPSVRQb2x5Z29uT2Zmc2V0IGFzIGN9ZnJvbVwiLi4vbGliL09yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kuanNcIjtpbXBvcnR7UHJvZ3JhbSBhcyB1fWZyb21cIi4uL2xpYi9Qcm9ncmFtLmpzXCI7aW1wb3J0e3N0ZW5jaWxXcml0ZU1hc2tPbiBhcyBoLHN0ZW5jaWxUb29sTWFza0Jhc2VQYXJhbXMgYXMgZCxzdGVuY2lsQmFzZUFsbFplcm9zUGFyYW1zIGFzIG19ZnJvbVwiLi4vbGliL1N0ZW5jaWxVdGlscy5qc1wiO2ltcG9ydHtUcmFuc3BhcmVuY3lQYXNzVHlwZSBhcyBmfWZyb21cIi4uL2xpYi9UcmFuc3BhcmVuY3lQYXNzVHlwZS5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgeX1mcm9tXCIuLi9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIGJ9ZnJvbVwiLi4vbWF0ZXJpYWxzL0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0kgYXMgUH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvSW1hZ2VNYXRlcmlhbC5nbHNsLmpzXCI7aW1wb3J0e0JsZW5kRmFjdG9yIGFzIGd9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7c2ltcGxlQmxlbmRpbmdQYXJhbXMgYXMgVCxtYWtlUGlwZWxpbmVTdGF0ZSBhcyBPLGN1bGxpbmdQYXJhbXMgYXMgaixkZWZhdWx0RGVwdGhXcml0ZVBhcmFtcyBhcyBTLGRlZmF1bHRDb2xvcldyaXRlUGFyYW1zIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvcmVuZGVyU3RhdGUuanNcIjtjbGFzcyBJIGV4dGVuZHMgcnt9Y2xhc3MgTiBleHRlbmRzIGl7aW5pdGlhbGl6ZVByb2dyYW0oZSl7cmV0dXJuIG5ldyB1KGUucmN0eCxOLnNoYWRlci5nZXQoKS5idWlsZCh0aGlzLmNvbmZpZ3VyYXRpb24pLF8pfV9zZXRQaXBlbGluZVN0YXRlKGUscil7Y29uc3Qgbz10aGlzLmNvbmZpZ3VyYXRpb24saT1lPT09Zi5OT05FLHM9ZT09PWYuRnJvbnRGYWNlO3JldHVybiBPKHtibGVuZGluZzpvLm91dHB1dCE9PXQuQ29sb3ImJm8ub3V0cHV0IT09dC5BbHBoYXx8IW8udHJhbnNwYXJlbnQ/bnVsbDppP0U6YShlKSxjdWxsaW5nOmooby5jdWxsRmFjZSksZGVwdGhUZXN0OntmdW5jOmwoZSl9LGRlcHRoV3JpdGU6aT9vLndyaXRlRGVwdGg/UzpudWxsOnAoZSksY29sb3JXcml0ZTp2LHN0ZW5jaWxXcml0ZTpvLmhhc09jY2x1ZGVlcz9oOm51bGwsc3RlbmNpbFRlc3Q6by5oYXNPY2NsdWRlZXM/cj9kOm06bnVsbCxwb2x5Z29uT2Zmc2V0Oml8fHM/bnVsbDpjKG8uZW5hYmxlT2Zmc2V0KX0pfWluaXRpYWxpemVQaXBlbGluZSgpe3JldHVybiB0aGlzLl9vY2NsdWRlZVBpcGVsaW5lU3RhdGU9dGhpcy5fc2V0UGlwZWxpbmVTdGF0ZSh0aGlzLmNvbmZpZ3VyYXRpb24udHJhbnNwYXJlbmN5UGFzc1R5cGUsITApLHRoaXMuX3NldFBpcGVsaW5lU3RhdGUodGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcGFyZW5jeVBhc3NUeXBlLCExKX1nZXRQaXBlbGluZShlKXtyZXR1cm4gZT90aGlzLl9vY2NsdWRlZVBpcGVsaW5lU3RhdGU6c3VwZXIuZ2V0UGlwZWxpbmUoKX19Ti5zaGFkZXI9bmV3IG8oUCwoKCk9PmltcG9ydChcIi4vSW1hZ2VNYXRlcmlhbC5nbHNsLmpzXCIpKSk7Y29uc3QgRT1UKGcuT05FLGcuT05FX01JTlVTX1NSQ19BTFBIQSk7Y2xhc3MgQyBleHRlbmRzIGJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMub3V0cHV0PXQuQ29sb3IsdGhpcy5jdWxsRmFjZT1uLk5vbmUsdGhpcy5oYXNTbGljZVBsYW5lPSExLHRoaXMudHJhbnNwYXJlbnQ9ITEsdGhpcy5lbmFibGVPZmZzZXQ9ITAsdGhpcy53cml0ZURlcHRoPSEwLHRoaXMuaGFzT2NjbHVkZWVzPSExLHRoaXMudHJhbnNwYXJlbmN5UGFzc1R5cGU9Zi5OT05FLHRoaXMubXVsdGlwYXNzRW5hYmxlZD0hMSx0aGlzLmN1bGxBYm92ZUdyb3VuZD0hMSx0aGlzLnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbj0hMH19ZShbcyh7Y291bnQ6dC5DT1VOVH0pXSxDLnByb3RvdHlwZSxcIm91dHB1dFwiLHZvaWQgMCksZShbcyh7Y291bnQ6bi5DT1VOVH0pXSxDLnByb3RvdHlwZSxcImN1bGxGYWNlXCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwiaGFzU2xpY2VQbGFuZVwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcInRyYW5zcGFyZW50XCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwiZW5hYmxlT2Zmc2V0XCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwid3JpdGVEZXB0aFwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcImhhc09jY2x1ZGVlc1wiLHZvaWQgMCksZShbcyh7Y291bnQ6Zi5DT1VOVH0pXSxDLnByb3RvdHlwZSxcInRyYW5zcGFyZW5jeVBhc3NUeXBlXCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwibXVsdGlwYXNzRW5hYmxlZFwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcImN1bGxBYm92ZUdyb3VuZFwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcInBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvblwiLHZvaWQgMCksZShbcyh7Y29uc3RWYWx1ZTohMX0pXSxDLnByb3RvdHlwZSxcIm9jY2x1c2lvblBhc3NcIix2b2lkIDApO2NvbnN0IF89bmV3IE1hcChbW3kuUE9TSVRJT04sMF0sW3kuVVYwLDJdLFt5LlBFUlNQRUNUSVZFRElWSURFLDNdXSk7ZXhwb3J0e0kgYXMgSW1hZ2VNYXRlcmlhbFBhc3NQYXJhbWV0ZXJzLE4gYXMgSW1hZ2VNYXRlcmlhbFRlY2huaXF1ZSxDIGFzIEltYWdlTWF0ZXJpYWxUZWNobmlxdWVDb25maWd1cmF0aW9uLF8gYXMgdmVydGV4QXR0cmlidXRlTG9jYXRpb25zfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e0lkZW50aWZpYWJsZU1peGluIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e0VzcmlQcm9taXNlTWl4aW4gYXMgbn1mcm9tXCIuLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgcH1mcm9tXCIuLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7bGV0IGQ9Y2xhc3MgZXh0ZW5kcyhzKG4oci5FdmVudGVkTWl4aW4odCkpKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBwLHRoaXMubGF5ZXI9bnVsbCx0aGlzLnBhcmVudD1udWxsfWluaXRpYWxpemUoKXt0aGlzLndoZW4oKS5jYXRjaCgoZT0+e2lmKFwibGF5ZXJ2aWV3OmNyZWF0ZS1lcnJvclwiIT09ZS5uYW1lKXtjb25zdCB0PXRoaXMubGF5ZXImJnRoaXMubGF5ZXIuaWR8fFwibm8gaWRcIixyPXRoaXMubGF5ZXI/LnRpdGxlfHxcIm5vIHRpdGxlXCI7aS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCIjcmVzb2x2ZSgpXCIsYEZhaWxlZCB0byByZXNvbHZlIGxheWVyIHZpZXcgKGxheWVyIHRpdGxlOiAnJHtyfScsIGlkOiAnJHt0fScpYCxlKX19KSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcz1vKHRoaXMuX3VwZGF0aW5nSGFuZGxlcyl9Z2V0IGZ1bGxPcGFjaXR5KCl7cmV0dXJuKHRoaXMubGF5ZXI/Lm9wYWNpdHk/PzEpKih0aGlzLnBhcmVudD8uZnVsbE9wYWNpdHk/PzEpfWdldCBzdXNwZW5kZWQoKXtyZXR1cm4hdGhpcy5jYW5SZXN1bWUoKX1nZXQgc3VzcGVuZEluZm8oKXtyZXR1cm4gdGhpcy5nZXRTdXNwZW5kSW5mbygpfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiYhMD09PXRoaXMubGF5ZXI/LmxlZ2VuZEVuYWJsZWR9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5fdXBkYXRpbmdIYW5kbGVzPy51cGRhdGluZyYmIXRoaXMuaXNVcGRhdGluZygpKX1nZXQgdXBkYXRpbmdQcm9ncmVzcygpe3JldHVybiB0aGlzLnVwZGF0aW5nPzA6MX1nZXQgdmlzaWJsZSgpe3JldHVybiEwPT09dGhpcy5sYXllcj8udmlzaWJsZX1zZXQgdmlzaWJsZShlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInZpc2libGVcIixlKX1jYW5SZXN1bWUoKXtyZXR1cm4gdGhpcy52aXNpYmxlJiZ0aGlzLmxheWVyPy5sb2FkZWQmJiF0aGlzLnBhcmVudD8uc3VzcGVuZGVkJiZ0aGlzLnZpZXc/LnJlYWR5fHwhMX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9dGhpcy5wYXJlbnQ/LnN1c3BlbmRlZD90aGlzLnBhcmVudC5zdXNwZW5kSW5mbzp7fSx0PXRoaXM7cmV0dXJuIHQudmlldz8ucmVhZHl8fChlLnZpZXdOb3RSZWFkeT0hMCksdGhpcy5sYXllciYmdGhpcy5sYXllci5sb2FkZWR8fChlLmxheWVyTm90TG9hZGVkPSEwKSx0aGlzLnZpc2libGV8fChlLmxheWVySW52aXNpYmxlPSEwKSxlfWlzVXBkYXRpbmcoKXtyZXR1cm4hMX19O2UoW2EoKV0sZC5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbYSgpXSxkLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInN1c3BlbmRJbmZvXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbYSh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxkPWUoW2woXCJlc3JpLnZpZXdzLmxheWVycy5MYXllclZpZXdcIildLGQpO2NvbnN0IHU9ZDtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtvbiBhcyBvfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3QgYT1hPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBhe2luaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMobygoKCk9PnRoaXMubGF5ZXIpLFwicmVmcmVzaFwiLChyPT57dGhpcy5kb1JlZnJlc2goci5kYXRhQ2hhbmdlZCkuY2F0Y2goKHI9PntzKHIpfHxlLmdldExvZ2dlcih0aGlzKS5lcnJvcihyKX0pKX0pKSxcIlJlZnJlc2hhYmxlTGF5ZXJWaWV3XCIpfX07cmV0dXJuIHIoW3QoKV0sYy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksYz1yKFtpKFwiZXNyaS5sYXllcnMubWl4aW5zLlJlZnJlc2hhYmxlTGF5ZXJWaWV3XCIpXSxjKSxjfTtleHBvcnR7YSBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==