"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_core_image_gif_js"],{

/***/ "./node_modules/@arcgis/core/core/image/gif.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/image/gif.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isAnimatedGIF: () => (/* binding */ V),
/* harmony export */   isGIF: () => (/* binding */ q),
/* harmony export */   parseGif: () => (/* binding */ G)
/* harmony export */ });
/* harmony import */ var _time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../time.js */ "./node_modules/@arcgis/core/core/time.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var t={},r={},n={};Object.defineProperty(n,"__esModule",{value:!0}),n.loop=n.conditional=n.parse=void 0;var a=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach((function(r){return e(t,r,n,a)}));else if("function"==typeof r)r(t,n,a,e);else{var i=Object.keys(r)[0];Array.isArray(r[i])?(a[i]={},e(t,r[i],n,a[i])):a[i]=r[i](t,n,a,e)}return n};n.parse=a;var i=function(e,t){return function(r,n,a,i){t(r,n,a)&&i(r,e,n,a)}};n.conditional=i;var o=function(e,t){return function(r,n,a,i){for(var o=[],d=r.pos;t(r,n,a);){var s={};if(i(r,e,n,s),r.pos===d)break;d=r.pos,o.push(s)}return o}};n.loop=o;var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.readBits=d.readArray=d.readUnsigned=d.readString=d.peekBytes=d.readBytes=d.peekByte=d.readByte=d.buildStream=void 0;var s=function(e){return{data:e,pos:0}};d.buildStream=s;var c=function(){return function(e){return e.data[e.pos++]}};d.readByte=c;var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return t.data[t.pos+e]}};d.peekByte=u;var l=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};d.readBytes=l;var f=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}};d.peekBytes=f;var p=function(e){return function(t){return Array.from(l(e)(t)).map((function(e){return String.fromCharCode(e)})).join("")}};d.readString=p;var g=function(e){return function(t){var r=l(2)(t);return e?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};d.readUnsigned=g;var y=function(e,t){return function(r,n,a){for(var i="function"==typeof t?t(r,n,a):t,o=l(e),d=new Array(i),s=0;s<i;s++)d[s]=o(r);return d}};d.readArray=y;var h=function(e,t,r){for(var n=0,a=0;a<r;a++)n+=e[t+a]&&Math.pow(2,r-a-1);return n},v=function(e){return function(t){for(var r=c()(t),n=new Array(8),a=0;a<8;a++)n[7-a]=!!(r&1<<a);return Object.keys(e).reduce((function(t,r){var a=e[r];return a.length?t[r]=h(n,a.index,a.length):t[r]=n[a.index],t}),{})}};d.readBits=v,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n,r=d,a={blocks:function(e){for(var t=0,n=[],a=e.data.length,i=0,o=(0,r.readByte)()(e);o!==t&&o;o=(0,r.readByte)()(e)){if(e.pos+o>=a){var d=a-e.pos;n.push((0,r.readBytes)(d)(e)),i+=d;break}n.push((0,r.readBytes)(o)(e)),i+=o}for(var s=new Uint8Array(i),c=0,u=0;u<n.length;u++)s.set(n[u],c),c+=n[u].length;return s}},i=(0,t.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&249===t[1]})),o=(0,t.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,t.conditional)({lct:(0,r.readArray)(3,(function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(e,t,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,r.readByte)()},a]}]},(function(e){return 44===(0,r.peekByte)()(e)})),s=(0,t.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(e,t,n){return(0,r.readBytes)(n.text.blockSize)(e)}},a]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&1===t[1]})),c=(0,t.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(e,t,n){return(0,r.readString)(n.blockSize)(e)}},a]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&255===t[1]})),u=(0,t.conditional)({comment:[{codes:(0,r.readBytes)(2)},a]},(function(e){var t=(0,r.peekBytes)(2)(e);return 33===t[0]&&254===t[1]})),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,t.conditional)({gct:(0,r.readArray)(3,(function(e,t){return Math.pow(2,t.lsd.gct.size+1)}))},(function(e,t){return t.lsd.gct.exists})),{frames:(0,t.loop)([i,c,u,o,s],(function(e){var t=(0,r.peekByte)()(e);return 33===t||44===t}))}];e.default=l}(r);var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.deinterlace=void 0;var w=function(e,t){for(var r=new Array(e.length),n=e.length/t,a=function(n,a){var i=e.slice(a*t,(a+1)*t);r.splice.apply(r,[n*t,t].concat(i))},i=[0,4,2,1],o=[8,8,4,2],d=0,s=0;s<4;s++)for(var c=i[s];c<n;c+=o[s])a(c,d),d++;return r};m.deinterlace=w;var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.lzw=void 0;var B=function(e,t,r){var n,a,i,o,d,s,c,u,l,f,p,g,y,h,v,m,w=4096,x=-1,B=r,b=new Array(r),k=new Array(w),A=new Array(w),U=new Array(w+1);for(d=(a=1<<(f=e))+1,n=a+2,c=x,i=(1<<(o=f+1))-1,u=0;u<a;u++)k[u]=0,A[u]=u;for(p=g=y=h=v=m=0,l=0;l<B;){if(0===h){if(g<o){p+=t[m]<<g,g+=8,m++;continue}if(u=p&i,p>>=o,g-=o,u>n||u==d)break;if(u==a){i=(1<<(o=f+1))-1,n=a+2,c=x;continue}if(c==x){U[h++]=A[u],c=u,y=u;continue}for(s=u,u==n&&(U[h++]=y,u=c);u>a;)U[h++]=A[u],u=k[u];y=255&A[u],U[h++]=y,n<w&&(k[n]=c,A[n]=y,0==(++n&i)&&n<w&&(o++,i+=n)),c=s}h--,b[v++]=U[h],l++}for(l=v;l<B;l++)b[l]=0;return b};x.lzw=B,Object.defineProperty(t,"__esModule",{value:!0});var b=t.decompressFrames=t.decompressFrame=C=t.parseGIF=void 0,k=I(r),A=n,U=d,S=m,z=x;function I(e){return e&&e.__esModule?e:{default:e}}var _=function(e){var t=new Uint8Array(e);return(0,A.parse)((0,U.buildStream)(t),k.default)},C=t.parseGIF=_,j=function(e){for(var t=e.pixels.length,r=new Uint8ClampedArray(4*t),n=0;n<t;n++){var a=4*n,i=e.pixels[n],o=e.colorTable[i]||[0,0,0];r[a]=o[0],r[a+1]=o[1],r[a+2]=o[2],r[a+3]=i!==e.transparentIndex?255:0}return r},M=function(e,t,r){if(e.image){var n=e.image,a=n.descriptor.width*n.descriptor.height,i=(0,z.lzw)(n.data.minCodeSize,n.data.blocks,a);n.descriptor.lct.interlaced&&(i=(0,S.deinterlace)(i,n.descriptor.width));var o={pixels:i,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=t,e.gce&&(o.delay=10*(e.gce.delay||10),o.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(o.transparentIndex=e.gce.transparentColorIndex)),r&&(o.patch=j(o)),o}console.warn("gif frame does not have associated image.")};t.decompressFrame=M;var F=function(e,t){return e.frames.filter((function(e){return e.image})).map((function(r){return M(r,e.gct,t)}))};let D,O,T;function P(e,t){return D??=document.createElement("canvas"),D.width=e,D.height=t,D.getContext("2d",{willReadFrequently:!0})}async function G(t,r){const n=C(t),a=b(n,!0),{width:i,height:o}=n.lsd,d=P(i,o),s=[],c=[];let u=0;for(const l of a){const t=(0,_time_js__WEBPACK_IMPORTED_MODULE_0__.Milliseconds)(l.delay||100);c.push(t),u+=t;const r=R(new ImageData(l.patch,l.dims.width,l.dims.height)),n=3===l.disposalType?d.getImageData(l.dims.left,l.dims.top,l.dims.width,l.dims.height):void 0;d.drawImage(r,l.dims.left,l.dims.top);const a=d.getImageData(0,0,i,o);s.push(a),1===l.disposalType||(2===l.disposalType?d.clearRect(l.dims.left,l.dims.top,l.dims.width,l.dims.height):3===l.disposalType&&d.putImageData(n,l.dims.left,l.dims.top))}return{frameCount:a.length,duration:u,frameDurations:c,getFrame:e=>s[e],width:i,height:o}}function R(e){return O??=document.createElement("canvas"),T??=O.getContext("2d",{willReadFrequently:!0}),O.width=e.width,O.height=e.height,T.putImageData(e,0,0),O}b=t.decompressFrames=F;const E=[71,73,70];function q(e){const t=new Uint8Array(e);return!E.some(((e,r)=>e!==t[r]))}function V(e){if(!q(e))return!1;const t=new DataView(e),r=t.getUint8(10);let n=13+(128&r?3*2**(1+(7&r)):0),a=0,i=!1;for(;!i;){switch(t.getUint8(n++)){case 33:if(!o())return!1;break;case 44:d();break;case 59:i=!0;break;default:return!1}if(a>1)return!0}function o(){switch(t.getUint8(n++)){case 249:s();break;case 1:c();break;case 254:u();break;case 255:l();break;default:return!1}return!0}function d(){a++,n+=8;const e=t.getUint8(n++);n+=128&e?3*2**(1+(7&e)):0,n++,f()}function s(){n++,n+=4,f()}function c(){a++,n++,n+=12,f()}function u(){f()}function l(){n++,n+=8,n+=3,f()}function f(){let e;for(;e=t.getUint8(n++);)n+=e}return!1}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2NvcmVfaW1hZ2VfZ2lmX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDMEMsUUFBUSxLQUFLLE1BQU0sc0NBQXNDLFNBQVMsc0NBQXNDLHNCQUFzQiwrREFBK0QsNERBQTRELDJDQUEyQyxrQkFBa0IsR0FBRyx3Q0FBd0MsS0FBSyx3QkFBd0IsNEJBQTRCLHNDQUFzQyxVQUFVLFVBQVUsb0JBQW9CLHlCQUF5Qix1QkFBdUIsZ0JBQWdCLG9CQUFvQix5QkFBeUIscUJBQXFCLFNBQVMsRUFBRSxTQUFTLDhCQUE4QixrQkFBa0IsV0FBVyxTQUFTLFNBQVMsc0NBQXNDLFNBQVMsd0hBQXdILGtCQUFrQixPQUFPLGVBQWUsZ0JBQWdCLGlCQUFpQixtQkFBbUIseUJBQXlCLGFBQWEsaUJBQWlCLCtEQUErRCxtQkFBbUIseUJBQXlCLGFBQWEsa0JBQWtCLG1CQUFtQix5Q0FBeUMsY0FBYyxrQkFBa0IsbUJBQW1CLHdDQUF3QyxjQUFjLGtCQUFrQixtQkFBbUIsNENBQTRDLDhCQUE4QixjQUFjLGVBQWUsa0JBQWtCLG1CQUFtQixjQUFjLHlDQUF5QyxpQkFBaUIsb0JBQW9CLHVCQUF1QixvRUFBb0UsSUFBSSxjQUFjLFdBQVcsY0FBYyxzQkFBc0IsZ0JBQWdCLElBQUksaUNBQWlDLFNBQVMsZUFBZSxtQkFBbUIsb0NBQW9DLElBQUksc0JBQXNCLDRDQUE0QyxXQUFXLDZEQUE2RCxJQUFJLElBQUkseUJBQXlCLHNDQUFzQyxTQUFTLG1CQUFtQixlQUFlLG1CQUFtQiwyREFBMkQsU0FBUyx1QkFBdUIsZUFBZSxjQUFjLG1DQUFtQyxNQUFNLG1DQUFtQyxvQ0FBb0MsV0FBVyxpQ0FBaUMsVUFBVSxzQkFBc0IsTUFBTSx5QkFBeUIsRUFBRSwwQkFBMEIsRUFBRSx1QkFBdUIsUUFBUSxpQkFBaUIsV0FBVyxpQkFBaUIsWUFBWSxRQUFRLHdCQUF3QixTQUFTLEVBQUUsRUFBRSw2QkFBNkIsRUFBRSx1Q0FBdUMsRUFBRSw0QkFBNEIsRUFBRSxjQUFjLDRCQUE0Qiw2QkFBNkIsd0JBQXdCLFFBQVEsc0JBQXNCLEVBQUUsYUFBYSw0QkFBNEIsRUFBRSwyQkFBMkIsRUFBRSw2QkFBNkIsRUFBRSw4QkFBOEIsRUFBRSxvQkFBb0IsUUFBUSxRQUFRLGFBQWEsUUFBUSxPQUFPLFFBQVEsU0FBUyxpQkFBaUIsT0FBTyxrQkFBa0IsRUFBRSxFQUFFLG9CQUFvQix1Q0FBdUMsMkNBQTJDLEdBQUcsa0JBQWtCLCtCQUErQixJQUFJLE9BQU8sNkJBQTZCLElBQUksRUFBRSxjQUFjLGdDQUFnQyx3QkFBd0IsT0FBTyx5QkFBeUIsRUFBRSwyQkFBMkIsRUFBRSx3QkFBd0IsNENBQTRDLElBQUksY0FBYyw0QkFBNEIsMkJBQTJCLHdCQUF3QixjQUFjLHlCQUF5QixFQUFFLDJCQUEyQixFQUFFLG1CQUFtQix3Q0FBd0MsSUFBSSxjQUFjLDRCQUE0Qiw2QkFBNkIsd0JBQXdCLFVBQVUseUJBQXlCLElBQUksY0FBYyw0QkFBNEIsNkJBQTZCLE9BQU8sU0FBUyw4QkFBOEIsRUFBRSw0QkFBNEIsRUFBRSxFQUFFLE1BQU0sNkJBQTZCLEVBQUUsOEJBQThCLEVBQUUsb0JBQW9CLFFBQVEsUUFBUSxhQUFhLGlCQUFpQixPQUFPLFFBQVEsT0FBTyxrQkFBa0IsRUFBRSxFQUFFLHNDQUFzQyxFQUFFLGtDQUFrQyxFQUFFLG9CQUFvQixxQ0FBcUMsb0NBQW9DLEdBQUcsZ0JBQWdCLHdCQUF3QixJQUFJLDJDQUEyQywwQkFBMEIsc0JBQXNCLEdBQUcsRUFBRSxZQUFZLElBQUksU0FBUyxzQ0FBc0MsU0FBUyx1QkFBdUIsb0JBQW9CLDJEQUEyRCwyQkFBMkIsb0NBQW9DLGlDQUFpQyxJQUFJLG1CQUFtQixJQUFJLG1CQUFtQixVQUFVLGdCQUFnQixTQUFTLHNDQUFzQyxTQUFTLGVBQWUsc0JBQXNCLGtIQUFrSCxvREFBb0QsSUFBSSxrQkFBa0Isc0JBQXNCLElBQUksRUFBRSxVQUFVLFFBQVEsb0JBQW9CLFNBQVMsb0NBQW9DLFNBQVMsMkJBQTJCLFNBQVMsU0FBUyxvQkFBb0IsU0FBUyw2QkFBNkIsSUFBSSxvQkFBb0IseUVBQXlFLG9CQUFvQixRQUFRLElBQUksV0FBVyxVQUFVLDhDQUE4QyxTQUFTLEVBQUUsc0ZBQXNGLGNBQWMsMEJBQTBCLFdBQVcsa0JBQWtCLHdCQUF3QixrREFBa0QsOEJBQThCLDJEQUEyRCxJQUFJLEtBQUssbURBQW1ELHNFQUFzRSxTQUFTLG1CQUFtQixZQUFZLHVHQUF1Ryx5RUFBeUUsT0FBTyxlQUFlLDBIQUEwSCx1UUFBdVEsMkRBQTJELG9CQUFvQixvQkFBb0Isb0NBQW9DLGVBQWUsb0JBQW9CLG9CQUFvQixJQUFJLFVBQVUsZ0JBQWdCLG9GQUFvRixzQkFBc0IsRUFBRSxzQkFBc0Isd0JBQXdCLGlCQUFpQiwwQkFBMEIsUUFBUSxrQkFBa0IsUUFBUSxzREFBQyxlQUFlLGVBQWUsMkpBQTJKLHNDQUFzQyxnQ0FBZ0MsK0tBQStLLE9BQU8sbUZBQW1GLGNBQWMsbUVBQW1FLHNCQUFzQiw0REFBNEQsdUJBQXVCLG1CQUFtQixjQUFjLDBCQUEwQixpQ0FBaUMsY0FBYyxrQkFBa0IseUNBQXlDLDJDQUEyQyxLQUFLLEdBQUcsRUFBRSx3QkFBd0IseUJBQXlCLE1BQU0sWUFBWSxNQUFNLGFBQWEsTUFBTSxpQkFBaUIsZ0JBQWdCLGFBQWEsd0JBQXdCLGFBQWEsTUFBTSxXQUFXLE1BQU0sYUFBYSxNQUFNLGFBQWEsTUFBTSxpQkFBaUIsU0FBUyxhQUFhLFNBQVMsd0JBQXdCLGtDQUFrQyxhQUFhLGFBQWEsYUFBYSxrQkFBa0IsYUFBYSxJQUFJLGFBQWEsa0JBQWtCLGFBQWEsTUFBTSxLQUFLLGtCQUFrQixNQUFNLFNBQTZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvaW1hZ2UvZ2lmLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7TWlsbGlzZWNvbmRzIGFzIGV9ZnJvbVwiLi4vdGltZS5qc1wiO3ZhciB0PXt9LHI9e30sbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmxvb3A9bi5jb25kaXRpb25hbD1uLnBhcnNlPXZvaWQgMDt2YXIgYT1mdW5jdGlvbiBlKHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGE9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOm47aWYoQXJyYXkuaXNBcnJheShyKSlyLmZvckVhY2goKGZ1bmN0aW9uKHIpe3JldHVybiBlKHQscixuLGEpfSkpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilyKHQsbixhLGUpO2Vsc2V7dmFyIGk9T2JqZWN0LmtleXMocilbMF07QXJyYXkuaXNBcnJheShyW2ldKT8oYVtpXT17fSxlKHQscltpXSxuLGFbaV0pKTphW2ldPXJbaV0odCxuLGEsZSl9cmV0dXJuIG59O24ucGFyc2U9YTt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4sYSxpKXt0KHIsbixhKSYmaShyLGUsbixhKX19O24uY29uZGl0aW9uYWw9aTt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4sYSxpKXtmb3IodmFyIG89W10sZD1yLnBvczt0KHIsbixhKTspe3ZhciBzPXt9O2lmKGkocixlLG4scyksci5wb3M9PT1kKWJyZWFrO2Q9ci5wb3Msby5wdXNoKHMpfXJldHVybiBvfX07bi5sb29wPW87dmFyIGQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZC5yZWFkQml0cz1kLnJlYWRBcnJheT1kLnJlYWRVbnNpZ25lZD1kLnJlYWRTdHJpbmc9ZC5wZWVrQnl0ZXM9ZC5yZWFkQnl0ZXM9ZC5wZWVrQnl0ZT1kLnJlYWRCeXRlPWQuYnVpbGRTdHJlYW09dm9pZCAwO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVybntkYXRhOmUscG9zOjB9fTtkLmJ1aWxkU3RyZWFtPXM7dmFyIGM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0YVtlLnBvcysrXX19O2QucmVhZEJ5dGU9Yzt2YXIgdT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhW3QucG9zK2VdfX07ZC5wZWVrQnl0ZT11O3ZhciBsPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhLnN1YmFycmF5KHQucG9zLHQucG9zKz1lKX19O2QucmVhZEJ5dGVzPWw7dmFyIGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGEuc3ViYXJyYXkodC5wb3MsdC5wb3MrZSl9fTtkLnBlZWtCeXRlcz1mO3ZhciBwPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbShsKGUpKHQpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSkpLmpvaW4oXCJcIil9fTtkLnJlYWRTdHJpbmc9cDt2YXIgZz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIHI9bCgyKSh0KTtyZXR1cm4gZT8oclsxXTw8OCkrclswXTooclswXTw8OCkrclsxXX19O2QucmVhZFVuc2lnbmVkPWc7dmFyIHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuLGEpe2Zvcih2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3QocixuLGEpOnQsbz1sKGUpLGQ9bmV3IEFycmF5KGkpLHM9MDtzPGk7cysrKWRbc109byhyKTtyZXR1cm4gZH19O2QucmVhZEFycmF5PXk7dmFyIGg9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj0wLGE9MDthPHI7YSsrKW4rPWVbdCthXSYmTWF0aC5wb3coMixyLWEtMSk7cmV0dXJuIG59LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1jKCkodCksbj1uZXcgQXJyYXkoOCksYT0wO2E8ODthKyspbls3LWFdPSEhKHImMTw8YSk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXt2YXIgYT1lW3JdO3JldHVybiBhLmxlbmd0aD90W3JdPWgobixhLmluZGV4LGEubGVuZ3RoKTp0W3JdPW5bYS5pbmRleF0sdH0pLHt9KX19O2QucmVhZEJpdHM9dixmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciB0PW4scj1kLGE9e2Jsb2NrczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPVtdLGE9ZS5kYXRhLmxlbmd0aCxpPTAsbz0oMCxyLnJlYWRCeXRlKSgpKGUpO28hPT10JiZvO289KDAsci5yZWFkQnl0ZSkoKShlKSl7aWYoZS5wb3Mrbz49YSl7dmFyIGQ9YS1lLnBvcztuLnB1c2goKDAsci5yZWFkQnl0ZXMpKGQpKGUpKSxpKz1kO2JyZWFrfW4ucHVzaCgoMCxyLnJlYWRCeXRlcykobykoZSkpLGkrPW99Zm9yKHZhciBzPW5ldyBVaW50OEFycmF5KGkpLGM9MCx1PTA7dTxuLmxlbmd0aDt1Kyspcy5zZXQoblt1XSxjKSxjKz1uW3VdLmxlbmd0aDtyZXR1cm4gc319LGk9KDAsdC5jb25kaXRpb25hbCkoe2djZTpbe2NvZGVzOigwLHIucmVhZEJ5dGVzKSgyKX0se2J5dGVTaXplOigwLHIucmVhZEJ5dGUpKCl9LHtleHRyYXM6KDAsci5yZWFkQml0cykoe2Z1dHVyZTp7aW5kZXg6MCxsZW5ndGg6M30sZGlzcG9zYWw6e2luZGV4OjMsbGVuZ3RoOjN9LHVzZXJJbnB1dDp7aW5kZXg6Nn0sdHJhbnNwYXJlbnRDb2xvckdpdmVuOntpbmRleDo3fX0pfSx7ZGVsYXk6KDAsci5yZWFkVW5zaWduZWQpKCEwKX0se3RyYW5zcGFyZW50Q29sb3JJbmRleDooMCxyLnJlYWRCeXRlKSgpfSx7dGVybWluYXRvcjooMCxyLnJlYWRCeXRlKSgpfV19LChmdW5jdGlvbihlKXt2YXIgdD0oMCxyLnBlZWtCeXRlcykoMikoZSk7cmV0dXJuIDMzPT09dFswXSYmMjQ5PT09dFsxXX0pKSxvPSgwLHQuY29uZGl0aW9uYWwpKHtpbWFnZTpbe2NvZGU6KDAsci5yZWFkQnl0ZSkoKX0se2Rlc2NyaXB0b3I6W3tsZWZ0OigwLHIucmVhZFVuc2lnbmVkKSghMCl9LHt0b3A6KDAsci5yZWFkVW5zaWduZWQpKCEwKX0se3dpZHRoOigwLHIucmVhZFVuc2lnbmVkKSghMCl9LHtoZWlnaHQ6KDAsci5yZWFkVW5zaWduZWQpKCEwKX0se2xjdDooMCxyLnJlYWRCaXRzKSh7ZXhpc3RzOntpbmRleDowfSxpbnRlcmxhY2VkOntpbmRleDoxfSxzb3J0OntpbmRleDoyfSxmdXR1cmU6e2luZGV4OjMsbGVuZ3RoOjJ9LHNpemU6e2luZGV4OjUsbGVuZ3RoOjN9fSl9XX0sKDAsdC5jb25kaXRpb25hbCkoe2xjdDooMCxyLnJlYWRBcnJheSkoMywoZnVuY3Rpb24oZSx0LHIpe3JldHVybiBNYXRoLnBvdygyLHIuZGVzY3JpcHRvci5sY3Quc2l6ZSsxKX0pKX0sKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5kZXNjcmlwdG9yLmxjdC5leGlzdHN9KSkse2RhdGE6W3ttaW5Db2RlU2l6ZTooMCxyLnJlYWRCeXRlKSgpfSxhXX1dfSwoZnVuY3Rpb24oZSl7cmV0dXJuIDQ0PT09KDAsci5wZWVrQnl0ZSkoKShlKX0pKSxzPSgwLHQuY29uZGl0aW9uYWwpKHt0ZXh0Olt7Y29kZXM6KDAsci5yZWFkQnl0ZXMpKDIpfSx7YmxvY2tTaXplOigwLHIucmVhZEJ5dGUpKCl9LHtwcmVEYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4oMCxyLnJlYWRCeXRlcykobi50ZXh0LmJsb2NrU2l6ZSkoZSl9fSxhXX0sKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLHIucGVla0J5dGVzKSgyKShlKTtyZXR1cm4gMzM9PT10WzBdJiYxPT09dFsxXX0pKSxjPSgwLHQuY29uZGl0aW9uYWwpKHthcHBsaWNhdGlvbjpbe2NvZGVzOigwLHIucmVhZEJ5dGVzKSgyKX0se2Jsb2NrU2l6ZTooMCxyLnJlYWRCeXRlKSgpfSx7aWQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybigwLHIucmVhZFN0cmluZykobi5ibG9ja1NpemUpKGUpfX0sYV19LChmdW5jdGlvbihlKXt2YXIgdD0oMCxyLnBlZWtCeXRlcykoMikoZSk7cmV0dXJuIDMzPT09dFswXSYmMjU1PT09dFsxXX0pKSx1PSgwLHQuY29uZGl0aW9uYWwpKHtjb21tZW50Olt7Y29kZXM6KDAsci5yZWFkQnl0ZXMpKDIpfSxhXX0sKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLHIucGVla0J5dGVzKSgyKShlKTtyZXR1cm4gMzM9PT10WzBdJiYyNTQ9PT10WzFdfSkpLGw9W3toZWFkZXI6W3tzaWduYXR1cmU6KDAsci5yZWFkU3RyaW5nKSgzKX0se3ZlcnNpb246KDAsci5yZWFkU3RyaW5nKSgzKX1dfSx7bHNkOlt7d2lkdGg6KDAsci5yZWFkVW5zaWduZWQpKCEwKX0se2hlaWdodDooMCxyLnJlYWRVbnNpZ25lZCkoITApfSx7Z2N0OigwLHIucmVhZEJpdHMpKHtleGlzdHM6e2luZGV4OjB9LHJlc29sdXRpb246e2luZGV4OjEsbGVuZ3RoOjN9LHNvcnQ6e2luZGV4OjR9LHNpemU6e2luZGV4OjUsbGVuZ3RoOjN9fSl9LHtiYWNrZ3JvdW5kQ29sb3JJbmRleDooMCxyLnJlYWRCeXRlKSgpfSx7cGl4ZWxBc3BlY3RSYXRpbzooMCxyLnJlYWRCeXRlKSgpfV19LCgwLHQuY29uZGl0aW9uYWwpKHtnY3Q6KDAsci5yZWFkQXJyYXkpKDMsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgucG93KDIsdC5sc2QuZ2N0LnNpemUrMSl9KSl9LChmdW5jdGlvbihlLHQpe3JldHVybiB0LmxzZC5nY3QuZXhpc3RzfSkpLHtmcmFtZXM6KDAsdC5sb29wKShbaSxjLHUsbyxzXSwoZnVuY3Rpb24oZSl7dmFyIHQ9KDAsci5wZWVrQnl0ZSkoKShlKTtyZXR1cm4gMzM9PT10fHw0ND09PXR9KSl9XTtlLmRlZmF1bHQ9bH0ocik7dmFyIG09e307T2JqZWN0LmRlZmluZVByb3BlcnR5KG0sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbS5kZWludGVybGFjZT12b2lkIDA7dmFyIHc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9bmV3IEFycmF5KGUubGVuZ3RoKSxuPWUubGVuZ3RoL3QsYT1mdW5jdGlvbihuLGEpe3ZhciBpPWUuc2xpY2UoYSp0LChhKzEpKnQpO3Iuc3BsaWNlLmFwcGx5KHIsW24qdCx0XS5jb25jYXQoaSkpfSxpPVswLDQsMiwxXSxvPVs4LDgsNCwyXSxkPTAscz0wO3M8NDtzKyspZm9yKHZhciBjPWlbc107YzxuO2MrPW9bc10pYShjLGQpLGQrKztyZXR1cm4gcn07bS5kZWludGVybGFjZT13O3ZhciB4PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHgubHp3PXZvaWQgMDt2YXIgQj1mdW5jdGlvbihlLHQscil7dmFyIG4sYSxpLG8sZCxzLGMsdSxsLGYscCxnLHksaCx2LG0sdz00MDk2LHg9LTEsQj1yLGI9bmV3IEFycmF5KHIpLGs9bmV3IEFycmF5KHcpLEE9bmV3IEFycmF5KHcpLFU9bmV3IEFycmF5KHcrMSk7Zm9yKGQ9KGE9MTw8KGY9ZSkpKzEsbj1hKzIsYz14LGk9KDE8PChvPWYrMSkpLTEsdT0wO3U8YTt1Kyspa1t1XT0wLEFbdV09dTtmb3IocD1nPXk9aD12PW09MCxsPTA7bDxCOyl7aWYoMD09PWgpe2lmKGc8byl7cCs9dFttXTw8ZyxnKz04LG0rKztjb250aW51ZX1pZih1PXAmaSxwPj49byxnLT1vLHU+bnx8dT09ZClicmVhaztpZih1PT1hKXtpPSgxPDwobz1mKzEpKS0xLG49YSsyLGM9eDtjb250aW51ZX1pZihjPT14KXtVW2grK109QVt1XSxjPXUseT11O2NvbnRpbnVlfWZvcihzPXUsdT09biYmKFVbaCsrXT15LHU9Yyk7dT5hOylVW2grK109QVt1XSx1PWtbdV07eT0yNTUmQVt1XSxVW2grK109eSxuPHcmJihrW25dPWMsQVtuXT15LDA9PSgrK24maSkmJm48dyYmKG8rKyxpKz1uKSksYz1zfWgtLSxiW3YrK109VVtoXSxsKyt9Zm9yKGw9djtsPEI7bCsrKWJbbF09MDtyZXR1cm4gYn07eC5senc9QixPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYj10LmRlY29tcHJlc3NGcmFtZXM9dC5kZWNvbXByZXNzRnJhbWU9Qz10LnBhcnNlR0lGPXZvaWQgMCxrPUkociksQT1uLFU9ZCxTPW0sej14O2Z1bmN0aW9uIEkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBfPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUpO3JldHVybigwLEEucGFyc2UpKCgwLFUuYnVpbGRTdHJlYW0pKHQpLGsuZGVmYXVsdCl9LEM9dC5wYXJzZUdJRj1fLGo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUucGl4ZWxzLmxlbmd0aCxyPW5ldyBVaW50OENsYW1wZWRBcnJheSg0KnQpLG49MDtuPHQ7bisrKXt2YXIgYT00Km4saT1lLnBpeGVsc1tuXSxvPWUuY29sb3JUYWJsZVtpXXx8WzAsMCwwXTtyW2FdPW9bMF0sclthKzFdPW9bMV0sclthKzJdPW9bMl0sclthKzNdPWkhPT1lLnRyYW5zcGFyZW50SW5kZXg/MjU1OjB9cmV0dXJuIHJ9LE09ZnVuY3Rpb24oZSx0LHIpe2lmKGUuaW1hZ2Upe3ZhciBuPWUuaW1hZ2UsYT1uLmRlc2NyaXB0b3Iud2lkdGgqbi5kZXNjcmlwdG9yLmhlaWdodCxpPSgwLHoubHp3KShuLmRhdGEubWluQ29kZVNpemUsbi5kYXRhLmJsb2NrcyxhKTtuLmRlc2NyaXB0b3IubGN0LmludGVybGFjZWQmJihpPSgwLFMuZGVpbnRlcmxhY2UpKGksbi5kZXNjcmlwdG9yLndpZHRoKSk7dmFyIG89e3BpeGVsczppLGRpbXM6e3RvcDplLmltYWdlLmRlc2NyaXB0b3IudG9wLGxlZnQ6ZS5pbWFnZS5kZXNjcmlwdG9yLmxlZnQsd2lkdGg6ZS5pbWFnZS5kZXNjcmlwdG9yLndpZHRoLGhlaWdodDplLmltYWdlLmRlc2NyaXB0b3IuaGVpZ2h0fX07cmV0dXJuIG4uZGVzY3JpcHRvci5sY3QmJm4uZGVzY3JpcHRvci5sY3QuZXhpc3RzP28uY29sb3JUYWJsZT1uLmxjdDpvLmNvbG9yVGFibGU9dCxlLmdjZSYmKG8uZGVsYXk9MTAqKGUuZ2NlLmRlbGF5fHwxMCksby5kaXNwb3NhbFR5cGU9ZS5nY2UuZXh0cmFzLmRpc3Bvc2FsLGUuZ2NlLmV4dHJhcy50cmFuc3BhcmVudENvbG9yR2l2ZW4mJihvLnRyYW5zcGFyZW50SW5kZXg9ZS5nY2UudHJhbnNwYXJlbnRDb2xvckluZGV4KSksciYmKG8ucGF0Y2g9aihvKSksb31jb25zb2xlLndhcm4oXCJnaWYgZnJhbWUgZG9lcyBub3QgaGF2ZSBhc3NvY2lhdGVkIGltYWdlLlwiKX07dC5kZWNvbXByZXNzRnJhbWU9TTt2YXIgRj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZyYW1lcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmltYWdlfSkpLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIE0ocixlLmdjdCx0KX0pKX07bGV0IEQsTyxUO2Z1bmN0aW9uIFAoZSx0KXtyZXR1cm4gRD8/PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksRC53aWR0aD1lLEQuaGVpZ2h0PXQsRC5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSl9YXN5bmMgZnVuY3Rpb24gRyh0LHIpe2NvbnN0IG49Qyh0KSxhPWIobiwhMCkse3dpZHRoOmksaGVpZ2h0Om99PW4ubHNkLGQ9UChpLG8pLHM9W10sYz1bXTtsZXQgdT0wO2Zvcihjb25zdCBsIG9mIGEpe2NvbnN0IHQ9ZShsLmRlbGF5fHwxMDApO2MucHVzaCh0KSx1Kz10O2NvbnN0IHI9UihuZXcgSW1hZ2VEYXRhKGwucGF0Y2gsbC5kaW1zLndpZHRoLGwuZGltcy5oZWlnaHQpKSxuPTM9PT1sLmRpc3Bvc2FsVHlwZT9kLmdldEltYWdlRGF0YShsLmRpbXMubGVmdCxsLmRpbXMudG9wLGwuZGltcy53aWR0aCxsLmRpbXMuaGVpZ2h0KTp2b2lkIDA7ZC5kcmF3SW1hZ2UocixsLmRpbXMubGVmdCxsLmRpbXMudG9wKTtjb25zdCBhPWQuZ2V0SW1hZ2VEYXRhKDAsMCxpLG8pO3MucHVzaChhKSwxPT09bC5kaXNwb3NhbFR5cGV8fCgyPT09bC5kaXNwb3NhbFR5cGU/ZC5jbGVhclJlY3QobC5kaW1zLmxlZnQsbC5kaW1zLnRvcCxsLmRpbXMud2lkdGgsbC5kaW1zLmhlaWdodCk6Mz09PWwuZGlzcG9zYWxUeXBlJiZkLnB1dEltYWdlRGF0YShuLGwuZGltcy5sZWZ0LGwuZGltcy50b3ApKX1yZXR1cm57ZnJhbWVDb3VudDphLmxlbmd0aCxkdXJhdGlvbjp1LGZyYW1lRHVyYXRpb25zOmMsZ2V0RnJhbWU6ZT0+c1tlXSx3aWR0aDppLGhlaWdodDpvfX1mdW5jdGlvbiBSKGUpe3JldHVybiBPPz89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxUPz89Ty5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSksTy53aWR0aD1lLndpZHRoLE8uaGVpZ2h0PWUuaGVpZ2h0LFQucHV0SW1hZ2VEYXRhKGUsMCwwKSxPfWI9dC5kZWNvbXByZXNzRnJhbWVzPUY7Y29uc3QgRT1bNzEsNzMsNzBdO2Z1bmN0aW9uIHEoZSl7Y29uc3QgdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4hRS5zb21lKCgoZSxyKT0+ZSE9PXRbcl0pKX1mdW5jdGlvbiBWKGUpe2lmKCFxKGUpKXJldHVybiExO2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpLHI9dC5nZXRVaW50OCgxMCk7bGV0IG49MTMrKDEyOCZyPzMqMioqKDErKDcmcikpOjApLGE9MCxpPSExO2Zvcig7IWk7KXtzd2l0Y2godC5nZXRVaW50OChuKyspKXtjYXNlIDMzOmlmKCFvKCkpcmV0dXJuITE7YnJlYWs7Y2FzZSA0NDpkKCk7YnJlYWs7Y2FzZSA1OTppPSEwO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9aWYoYT4xKXJldHVybiEwfWZ1bmN0aW9uIG8oKXtzd2l0Y2godC5nZXRVaW50OChuKyspKXtjYXNlIDI0OTpzKCk7YnJlYWs7Y2FzZSAxOmMoKTticmVhaztjYXNlIDI1NDp1KCk7YnJlYWs7Y2FzZSAyNTU6bCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gZCgpe2ErKyxuKz04O2NvbnN0IGU9dC5nZXRVaW50OChuKyspO24rPTEyOCZlPzMqMioqKDErKDcmZSkpOjAsbisrLGYoKX1mdW5jdGlvbiBzKCl7bisrLG4rPTQsZigpfWZ1bmN0aW9uIGMoKXthKyssbisrLG4rPTEyLGYoKX1mdW5jdGlvbiB1KCl7ZigpfWZ1bmN0aW9uIGwoKXtuKyssbis9OCxuKz0zLGYoKX1mdW5jdGlvbiBmKCl7bGV0IGU7Zm9yKDtlPXQuZ2V0VWludDgobisrKTspbis9ZX1yZXR1cm4hMX1leHBvcnR7ViBhcyBpc0FuaW1hdGVkR0lGLHEgYXMgaXNHSUYsRyBhcyBwYXJzZUdpZn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=