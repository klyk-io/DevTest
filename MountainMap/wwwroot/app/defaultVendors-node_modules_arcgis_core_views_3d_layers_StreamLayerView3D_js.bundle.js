"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_StreamLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/core/CircularArray.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CircularArray.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamController: () => (/* binding */ y),
/* harmony export */   StreamGraphic: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../data/StreamFeatureManager.js */ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js");
/* harmony import */ var _sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../sources/connections/createConnection.js */ "./node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js");
/* harmony import */ var _views_3d_support_EventedSet_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../views/3d/support/EventedSet.js */ "./node_modules/@arcgis/core/views/3d/support/EventedSet.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const l=2500;let u=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]{getObjectId(){return this.objectId}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Number,json:{read:!0}})],u.prototype,"objectId",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.graphics.controllers.StreamGraphic")],u);class m{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let y=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_5__.EsriPromiseMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__["default"])){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new _views_3d_support_EventedSet_js__WEBPACK_IMPORTED_MODULE_14__.EventedSet,this._updateInfo={websocket:0,client:0},this._updateIntervalId=null,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){null!==this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=null)}clear(){this._clearInterval(),this.connection=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this.connection),this.store=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this.store),this.graphics.clear(),this.removeAllHandles()}get updating(){return!this.connection||"connected"===this.connection.connectionStatus}_startup(){const{layer:e,layerView:t}=this,{spatialReference:s,definitionExpression:r,geometryDefinition:o,objectIdField:a,timeInfo:n,purgeOptions:d,maxReconnectionAttempts:l,maxReconnectionInterval:u,customParameters:y}=e,f=e.geometryType?_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_15__.featureGeometryTypeKebabDictionary.toJSON(e.geometryType):null,g=s,I=t.view.spatialReference,_={geometry:o,where:r};this.clear(),this._set("connection",(0,_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_13__.createConnection)(e.parsedUrl,g,I,f,_,l,u,y??void 0)),this._outSpatialReference=I.toJSON(),this.store=new m(this._onUpdate.bind(this)),this.featuresManager=new _data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_12__.StreamFeatureManager(this.store,a,n.toJSON(),d);const v="startup-watches";this.removeHandles(v),this.addHandles([e.on("send-message-to-socket",(e=>this.connection.sendMessageToSocket(e))),e.on("send-message-to-client",(e=>this.connection.sendMessageToClient(e))),this.connection.on("data-received",(e=>this._onFeature(e))),this.connection.on("message-received",(e=>this._onWebSocketMessage(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],v),this.isPaused||this._initUpdateInterval()}_onWebSocketMessage(e){if(this.layerView.emit("message-received",e),"type"in e)switch(e.type){case"delete":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case"clear":this.store.forEach((e=>this.featuresManager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener("data-received")&&this.layerView.emit("data-received",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{null==e.geometry||e.geometry.spatialReference||(e.geometry.spatialReference=this._outSpatialReference);const t=u.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){null!=t&&this.graphics.removeMany(t),null!=e&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),s=e-t;if(s>l){t=e;const r=Math.round(this._updateInfo.client/(s/1e3)),o=Math.round(this._updateInfo.websocket/(s/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit("update-rate",{client:r,websocket:o})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this.isPaused=!0,this._clearInterval()}resumeStream(){this.isPaused=!1,this._initUpdateInterval()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"isPaused",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],y.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],y.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],y.prototype,"connection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],y.prototype,"updating",null),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.graphics.controllers.StreamController")],y);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamFeatureManager: () => (/* binding */ o),
/* harmony export */   defaultStreamIdField: () => (/* binding */ s),
/* harmony export */   esriTimestamp: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="__esri_stream_id__",i="__esri_timestamp__",r=1e3;class o{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](1e5)),void this._trackIdLessObservations.enqueue(i);const o=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:r,i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(s,0,r);this._trackIdToObservations.set(o,new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](i))}const d=this._trackIdToObservations.get(o),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&r.push(t)}const o=[];if(null!=t){const r=new Set(e??[]);for(const e of t)r.has(e.objectId)||(e.attributes[i]=s,this.store.add(e),o.push(e))}(o.length||r?.length)&&this.store.update(o,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_controllers_StreamController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/graphics/controllers/StreamController.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _FeatureLikeLayerView3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FeatureLikeLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_StreamLayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/StreamLayerView.js */ "./node_modules/@arcgis/core/views/layers/StreamLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let m=class extends((0,_layers_StreamLayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_FeatureLikeLayerView3D_js__WEBPACK_IMPORTED_MODULE_10__.FeatureLikeLayerView3D)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_11__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__["default"])))){constructor(){super(...arguments),this.type="stream-3d",this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_12__.UpdatePolicy.ASYNC,this.hasZ=!0,this.hasM=!1}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.suspended),(e=>{this.controller&&this._onSuspendedChange(e)})))}get connectionError(){const e=this.controller?.connection?.errorString;return e?new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("stream-controller",e):null}createQuery(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__["default"]({outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(e,r){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),r?.signal)}get _streamConnectionStatus(){return this.controller?.connection?.connectionStatus??"disconnected"}createController(){return new _layers_graphics_controllers_StreamController_js__WEBPACK_IMPORTED_MODULE_8__.StreamController({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.controller?.pauseStream()}_doResume(){this.controller?.resumeStream()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"updatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"connectionError",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"hasM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"_streamConnectionStatus",null),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.StreamLayerView3D")],m);const y=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/StreamLayerView.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/StreamLayerView.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=o=>{let i=class extends o{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return this._isUserPaused?"paused":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],i.prototype,"_isUserPaused",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],i.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_6__["default"]})],i.prototype,"filter",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.layers.mixins.StreamLayerView")],i),i};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19TdHJlYW1MYXllclZpZXczRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxlQUFlLG1FQUFtRSxjQUFjLG9CQUFvQixXQUFXLDZCQUE2QixrQ0FBa0MsOEVBQThFLG1FQUFtRSxVQUFVLDZCQUE2QixrQ0FBa0MsNkZBQTZGLE9BQU8sb0RBQW9ELFFBQVEsNkJBQTZCLHNEQUFzRCxZQUFZLFNBQVMscUJBQXFCLEtBQUssUUFBUSwyQkFBZ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjF2QjtBQUNBO0FBQ0E7QUFDQTtBQUM4NEIsYUFBYSxvQkFBb0IsbURBQUMsQ0FBQyxjQUFjLHVCQUF1Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsa0JBQWtCLFNBQVMsb0NBQW9DLHVEQUFDLEVBQUUsdUZBQUMsdURBQXVELFFBQVEsZUFBZSwwQ0FBMEMsVUFBVSwwQkFBMEIsT0FBTyxvQ0FBb0MsT0FBTyxnQ0FBZ0MsV0FBVyw2QkFBNkIsY0FBYyxpQ0FBaUMseUVBQXlFLFlBQVksbUJBQW1CLFdBQVcsK0JBQStCLG9CQUFvQixrRUFBQyxDQUFDLHlEQUFDLEdBQUcsY0FBYyx1REFBdUQsd0VBQUMsbUJBQW1CLHFCQUFxQiw0REFBNEQsYUFBYSxpRUFBaUUsVUFBVSxhQUFhLGlCQUFpQixtR0FBbUcsUUFBUSxzQ0FBc0MsNERBQUMsNkJBQTZCLDREQUFDLDJEQUEyRCxlQUFlLHVFQUF1RSxXQUFXLE1BQU0sb0JBQW9CLE9BQU8sZ0xBQWdMLG9CQUFvQiwrRkFBQyw4REFBOEQsb0JBQW9CLG9DQUFvQywyRkFBQywrSUFBK0ksZ0ZBQUMsNEJBQTRCLDBCQUEwQixpVUFBaVUsNkRBQUMseUlBQXlJLHVCQUF1Qix1RUFBdUUsMEZBQTBGLGdGQUFnRixNQUFNLGtGQUFrRixjQUFjLG9IQUFv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ZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL0NpcmN1bGFyQXJyYXkuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9TdHJlYW1Db250cm9sbGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9TdHJlYW1GZWF0dXJlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL1N0cmVhbUxheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvU3RyZWFtTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuc2l6ZT0wLHRoaXMuX3N0YXJ0PTAsdGhpcy5tYXhTaXplPXQsdGhpcy5fYnVmZmVyPW5ldyBBcnJheSh0KX1nZXQgZW50cmllcygpe3JldHVybiB0aGlzLl9idWZmZXJ9ZW5xdWV1ZSh0KXtpZih0aGlzLnNpemU9PT10aGlzLm1heFNpemUpe2NvbnN0IHM9dGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XTtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XT10LHRoaXMuX3N0YXJ0PSh0aGlzLl9zdGFydCsxKSV0aGlzLm1heFNpemUsc31yZXR1cm4gdGhpcy5fYnVmZmVyWyh0aGlzLl9zdGFydCt0aGlzLnNpemUrKykldGhpcy5tYXhTaXplXT10LG51bGx9ZGVxdWV1ZSgpe2lmKDA9PT10aGlzLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdO3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdPW51bGwsdGhpcy5zaXplLS0sdGhpcy5fc3RhcnQ9KHRoaXMuX3N0YXJ0KzEpJXRoaXMubWF4U2l6ZSx0fXBlZWsoKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT9udWxsOnRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF19ZmluZCh0KXtpZigwPT09dGhpcy5zaXplKXJldHVybiBudWxsO2Zvcihjb25zdCBzIG9mIHRoaXMuX2J1ZmZlcilpZihudWxsIT1zJiZ0KHMpKXJldHVybiBzO3JldHVybiBudWxsfWNsZWFyKHQpe2xldCBzPXRoaXMuZGVxdWV1ZSgpO2Zvcig7bnVsbCE9czspdCYmdChzKSxzPXRoaXMuZGVxdWV1ZSgpfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7U3RyZWFtRmVhdHVyZU1hbmFnZXIgYXMgY31mcm9tXCIuLi9kYXRhL1N0cmVhbUZlYXR1cmVNYW5hZ2VyLmpzXCI7aW1wb3J0e2NyZWF0ZUNvbm5lY3Rpb24gYXMgcH1mcm9tXCIuLi9zb3VyY2VzL2Nvbm5lY3Rpb25zL2NyZWF0ZUNvbm5lY3Rpb24uanNcIjtpbXBvcnR7RXZlbnRlZFNldCBhcyBkfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzNkL3N1cHBvcnQvRXZlbnRlZFNldC5qc1wiO2ltcG9ydHtmZWF0dXJlR2VvbWV0cnlUeXBlS2ViYWJEaWN0aW9uYXJ5IGFzIGh9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC90eXBlVXRpbHMuanNcIjtjb25zdCBsPTI1MDA7bGV0IHU9Y2xhc3MgZXh0ZW5kcyB0e2dldE9iamVjdElkKCl7cmV0dXJuIHRoaXMub2JqZWN0SWR9fTtlKFthKHt0eXBlOk51bWJlcixqc29uOntyZWFkOiEwfX0pXSx1LnByb3RvdHlwZSxcIm9iamVjdElkXCIsdm9pZCAwKSx1PWUoW24oXCJlc3JpLmxheWVycy5ncmFwaGljcy5jb250cm9sbGVycy5TdHJlYW1HcmFwaGljXCIpXSx1KTtjbGFzcyBte2NvbnN0cnVjdG9yKGUpe3RoaXMub25VcGRhdGU9ZSx0aGlzLl9pZFRvR3JhcGhpYz1uZXcgTWFwfWRlc3Ryb3koKXt0aGlzLl9pZFRvR3JhcGhpYy5jbGVhcigpfWFkZChlKXt0aGlzLl9pZFRvR3JhcGhpYy5zZXQoZS5vYmplY3RJZCxlKX1nZXQoZSl7cmV0dXJuIHRoaXMuX2lkVG9HcmFwaGljLmdldChlKX1mb3JFYWNoKGUpe3RoaXMuX2lkVG9HcmFwaGljLmZvckVhY2goZSl9cmVtb3ZlQnlJZChlKXtjb25zdCB0PXRoaXMuX2lkVG9HcmFwaGljLmdldChlKTtyZXR1cm4gdD8odC5zb3VyY2VMYXllcj10LmxheWVyPW51bGwsdGhpcy5faWRUb0dyYXBoaWMuZGVsZXRlKGUpLHQpOm51bGx9dXBkYXRlKGUsdCl7dGhpcy5vblVwZGF0ZShlLHQpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2lkVG9HcmFwaGljLnNpemV9fWxldCB5PWNsYXNzIGV4dGVuZHMobyhzKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaXNQYXVzZWQ9ITEsdGhpcy5ncmFwaGljcz1uZXcgZCx0aGlzLl91cGRhdGVJbmZvPXt3ZWJzb2NrZXQ6MCxjbGllbnQ6MH0sdGhpcy5fdXBkYXRlSW50ZXJ2YWxJZD1udWxsLHRoaXMuX291dFNwYXRpYWxSZWZlcmVuY2U9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubGF5ZXIud2hlbigoKCk9PnRoaXMuX3N0YXJ0dXAoKSkpKX1kZXN0cm95KCl7dGhpcy5jbGVhcigpfV9jbGVhckludGVydmFsKCl7bnVsbCE9PXRoaXMuX3VwZGF0ZUludGVydmFsSWQmJihjbGVhckludGVydmFsKHRoaXMuX3VwZGF0ZUludGVydmFsSWQpLHRoaXMuX3VwZGF0ZUludGVydmFsSWQ9bnVsbCl9Y2xlYXIoKXt0aGlzLl9jbGVhckludGVydmFsKCksdGhpcy5jb25uZWN0aW9uPXIodGhpcy5jb25uZWN0aW9uKSx0aGlzLnN0b3JlPXIodGhpcy5zdG9yZSksdGhpcy5ncmFwaGljcy5jbGVhcigpLHRoaXMucmVtb3ZlQWxsSGFuZGxlcygpfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLmNvbm5lY3Rpb258fFwiY29ubmVjdGVkXCI9PT10aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXR1c31fc3RhcnR1cCgpe2NvbnN0e2xheWVyOmUsbGF5ZXJWaWV3OnR9PXRoaXMse3NwYXRpYWxSZWZlcmVuY2U6cyxkZWZpbml0aW9uRXhwcmVzc2lvbjpyLGdlb21ldHJ5RGVmaW5pdGlvbjpvLG9iamVjdElkRmllbGQ6YSx0aW1lSW5mbzpuLHB1cmdlT3B0aW9uczpkLG1heFJlY29ubmVjdGlvbkF0dGVtcHRzOmwsbWF4UmVjb25uZWN0aW9uSW50ZXJ2YWw6dSxjdXN0b21QYXJhbWV0ZXJzOnl9PWUsZj1lLmdlb21ldHJ5VHlwZT9oLnRvSlNPTihlLmdlb21ldHJ5VHlwZSk6bnVsbCxnPXMsST10LnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxfPXtnZW9tZXRyeTpvLHdoZXJlOnJ9O3RoaXMuY2xlYXIoKSx0aGlzLl9zZXQoXCJjb25uZWN0aW9uXCIscChlLnBhcnNlZFVybCxnLEksZixfLGwsdSx5Pz92b2lkIDApKSx0aGlzLl9vdXRTcGF0aWFsUmVmZXJlbmNlPUkudG9KU09OKCksdGhpcy5zdG9yZT1uZXcgbSh0aGlzLl9vblVwZGF0ZS5iaW5kKHRoaXMpKSx0aGlzLmZlYXR1cmVzTWFuYWdlcj1uZXcgYyh0aGlzLnN0b3JlLGEsbi50b0pTT04oKSxkKTtjb25zdCB2PVwic3RhcnR1cC13YXRjaGVzXCI7dGhpcy5yZW1vdmVIYW5kbGVzKHYpLHRoaXMuYWRkSGFuZGxlcyhbZS5vbihcInNlbmQtbWVzc2FnZS10by1zb2NrZXRcIiwoZT0+dGhpcy5jb25uZWN0aW9uLnNlbmRNZXNzYWdlVG9Tb2NrZXQoZSkpKSxlLm9uKFwic2VuZC1tZXNzYWdlLXRvLWNsaWVudFwiLChlPT50aGlzLmNvbm5lY3Rpb24uc2VuZE1lc3NhZ2VUb0NsaWVudChlKSkpLHRoaXMuY29ubmVjdGlvbi5vbihcImRhdGEtcmVjZWl2ZWRcIiwoZT0+dGhpcy5fb25GZWF0dXJlKGUpKSksdGhpcy5jb25uZWN0aW9uLm9uKFwibWVzc2FnZS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UoZSkpKSxpKCgoKT0+W2UuZGVmaW5pdGlvbkV4cHJlc3Npb24sZS5nZW9tZXRyeURlZmluaXRpb24sZS5wdXJnZU9wdGlvbnNdKSwoKCk9PnRoaXMuX3N0YXJ0dXAoKSkpXSx2KSx0aGlzLmlzUGF1c2VkfHx0aGlzLl9pbml0VXBkYXRlSW50ZXJ2YWwoKX1fb25XZWJTb2NrZXRNZXNzYWdlKGUpe2lmKHRoaXMubGF5ZXJWaWV3LmVtaXQoXCJtZXNzYWdlLXJlY2VpdmVkXCIsZSksXCJ0eXBlXCJpbiBlKXN3aXRjaChlLnR5cGUpe2Nhc2VcImRlbGV0ZVwiOmlmKGUub2JqZWN0SWRzKWZvcihjb25zdCB0IG9mIGUub2JqZWN0SWRzKXRoaXMuZmVhdHVyZXNNYW5hZ2VyLnJlbW92ZUJ5SWQodCk7aWYoZS50cmFja0lkcylmb3IoY29uc3QgdCBvZiBlLnRyYWNrSWRzKXRoaXMuZmVhdHVyZXNNYW5hZ2VyLnJlbW92ZUJ5VHJhY2tJZCh0KTticmVhaztjYXNlXCJjbGVhclwiOnRoaXMuc3RvcmUuZm9yRWFjaCgoZT0+dGhpcy5mZWF0dXJlc01hbmFnZXIucmVtb3ZlQnlJZChlLm9iamVjdElkKSkpfX1fb25GZWF0dXJlKGUpe3RoaXMuX3VwZGF0ZUluZm8ud2Vic29ja2V0KyssdGhpcy5sYXllclZpZXcuaGFzRXZlbnRMaXN0ZW5lcihcImRhdGEtcmVjZWl2ZWRcIikmJnRoaXMubGF5ZXJWaWV3LmVtaXQoXCJkYXRhLXJlY2VpdmVkXCIse2F0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzLGNlbnRyb2lkOmUuY2VudHJvaWQsZ2VvbWV0cnk6ZS5nZW9tZXRyeX0pO3RyeXtudWxsPT1lLmdlb21ldHJ5fHxlLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2V8fChlLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fb3V0U3BhdGlhbFJlZmVyZW5jZSk7Y29uc3QgdD11LmZyb21KU09OKGUpO3Quc291cmNlTGF5ZXI9dC5sYXllcj10aGlzLmxheWVyLHRoaXMuZmVhdHVyZXNNYW5hZ2VyLmFkZCh0KX1jYXRjaHt9fV9vblVwZGF0ZShlLHQpe251bGwhPXQmJnRoaXMuZ3JhcGhpY3MucmVtb3ZlTWFueSh0KSxudWxsIT1lJiYodGhpcy5fdXBkYXRlSW5mby5jbGllbnQrPWUubGVuZ3RoLHRoaXMuZ3JhcGhpY3MuYWRkTWFueShlKSl9X2luaXRVcGRhdGVJbnRlcnZhbCgpe3RoaXMuX2NsZWFySW50ZXJ2YWwoKTtjb25zdHt1cGRhdGVJbnRlcnZhbDplfT10aGlzLmxheWVyO2xldCB0PXBlcmZvcm1hbmNlLm5vdygpO3RoaXMuX3VwZGF0ZUludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgZT1wZXJmb3JtYW5jZS5ub3coKSxzPWUtdDtpZihzPmwpe3Q9ZTtjb25zdCByPU1hdGgucm91bmQodGhpcy5fdXBkYXRlSW5mby5jbGllbnQvKHMvMWUzKSksbz1NYXRoLnJvdW5kKHRoaXMuX3VwZGF0ZUluZm8ud2Vic29ja2V0LyhzLzFlMykpO3RoaXMuX3VwZGF0ZUluZm8uY2xpZW50PTAsdGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQ9MCx0aGlzLmxheWVyVmlldy5lbWl0KFwidXBkYXRlLXJhdGVcIix7Y2xpZW50OnIsd2Vic29ja2V0Om99KX10aGlzLmZlYXR1cmVzTWFuYWdlci5jaGVja0ZvclVwZGF0ZXMoKX0pLGUpfXBhdXNlU3RyZWFtKCl7dGhpcy5pc1BhdXNlZD0hMCx0aGlzLl9jbGVhckludGVydmFsKCl9cmVzdW1lU3RyZWFtKCl7dGhpcy5pc1BhdXNlZD0hMSx0aGlzLl9pbml0VXBkYXRlSW50ZXJ2YWwoKX19O2UoW2EoKV0seS5wcm90b3R5cGUsXCJpc1BhdXNlZFwiLHZvaWQgMCksZShbYSh7Y29uc3RydWN0T25seTohMH0pXSx5LnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFthKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHkucHJvdG90eXBlLFwibGF5ZXJWaWV3XCIsdm9pZCAwKSxlKFthKCldLHkucHJvdG90eXBlLFwiY29ubmVjdGlvblwiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHk9ZShbbihcImVzcmkubGF5ZXJzLmdyYXBoaWNzLmNvbnRyb2xsZXJzLlN0cmVhbUNvbnRyb2xsZXJcIildLHkpO2V4cG9ydHt5IGFzIFN0cmVhbUNvbnRyb2xsZXIsdSBhcyBTdHJlYW1HcmFwaGljfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0NpcmN1bGFyQXJyYXkuanNcIjtpbXBvcnR7Y2xhbXAgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2NvbnN0IHM9XCJfX2Vzcmlfc3RyZWFtX2lkX19cIixpPVwiX19lc3JpX3RpbWVzdGFtcF9fXCIscj0xZTM7Y2xhc3Mgb3tjb25zdHJ1Y3Rvcih0LGUsaSxyLG89MTI4KXt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnM9bmV3IE1hcCx0aGlzLl9pZENvdW50ZXI9MCx0aGlzLl9sYXN0UHVyZ2U9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5fYWRkT3JVcGRhdGVkPW5ldyBNYXAsdGhpcy5fcmVtb3ZlZD1bXSx0aGlzLl9tYXhBZ2U9MCx0aGlzLl90aW1lSW5mbz1pLHRoaXMuX3B1cmdlT3B0aW9ucz1yLHRoaXMuc3RvcmU9dCx0aGlzLm9iamVjdElkRmllbGQ9ZSx0aGlzLnB1cmdlSW50ZXJ2YWw9byx0aGlzLl91c2VHZW5lcmF0ZWRJZHM9dGhpcy5vYmplY3RJZEZpZWxkPT09c31yZW1vdmVCeUlkKHQpe3RoaXMuX3JlbW92ZWQucHVzaCh0KX1yZW1vdmVCeVRyYWNrSWQodCl7Y29uc3QgZT10aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZ2V0KHQpO2lmKGUpZm9yKGNvbnN0IHMgb2YgZS5lbnRyaWVzKXRoaXMuX3JlbW92ZWQucHVzaChzKX1hZGQocyl7aWYodGhpcy5fdXNlR2VuZXJhdGVkSWRzKXtjb25zdCB0PXRoaXMuX25leHRJZCgpO3MuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdPXQscy5vYmplY3RJZD10fWVsc2Ugcy5vYmplY3RJZD1zLmF0dHJpYnV0ZXNbdGhpcy5vYmplY3RJZEZpZWxkXTtjb25zdCBpPXMub2JqZWN0SWQ7aWYodGhpcy5fYWRkT3JVcGRhdGVkLnNldChpLHMpLHRoaXMuX21heEFnZT1NYXRoLm1heCh0aGlzLl9tYXhBZ2Uscy5hdHRyaWJ1dGVzW3RoaXMuX3RpbWVJbmZvLnN0YXJ0VGltZUZpZWxkXSksIXRoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZClyZXR1cm4gbnVsbD09dGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMmJih0aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucz1uZXcgdCgxZTUpKSx2b2lkIHRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zLmVucXVldWUoaSk7Y29uc3Qgbz1zLmF0dHJpYnV0ZXNbdGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkXTtpZighdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmhhcyhvKSl7Y29uc3Qgcz1udWxsIT10aGlzLl9wdXJnZU9wdGlvbnM/Lm1heE9ic2VydmF0aW9ucz90aGlzLl9wdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zOnIsaT1lKHMsMCxyKTt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuc2V0KG8sbmV3IHQoaSkpfWNvbnN0IGQ9dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmdldChvKSxhPWQ/LmVucXVldWUoaSk7bnVsbCE9YSYmKHRoaXMuX2FkZE9yVXBkYXRlZC5oYXMoYSk/dGhpcy5fYWRkT3JVcGRhdGVkLmRlbGV0ZShhKTp0aGlzLl9yZW1vdmVkLnB1c2goYSkpfWNoZWNrRm9yVXBkYXRlcygpe2NvbnN0IHQ9dGhpcy5fZ2V0VG9BZGQoKSxlPXRoaXMuX2dldFRvUmVtb3ZlKCkscz1wZXJmb3JtYW5jZS5ub3coKTtzLXRoaXMuX2xhc3RQdXJnZT49dGhpcy5wdXJnZUludGVydmFsJiYodGhpcy5fcHVyZ2UocyksdGhpcy5fbGFzdFB1cmdlPXMpO2NvbnN0IHI9W107aWYobnVsbCE9ZSlmb3IoY29uc3QgaSBvZiBlKXtjb25zdCB0PXRoaXMuc3RvcmUucmVtb3ZlQnlJZChpKTtudWxsIT10JiZyLnB1c2godCl9Y29uc3Qgbz1bXTtpZihudWxsIT10KXtjb25zdCByPW5ldyBTZXQoZT8/W10pO2Zvcihjb25zdCBlIG9mIHQpci5oYXMoZS5vYmplY3RJZCl8fChlLmF0dHJpYnV0ZXNbaV09cyx0aGlzLnN0b3JlLmFkZChlKSxvLnB1c2goZSkpfShvLmxlbmd0aHx8cj8ubGVuZ3RoKSYmdGhpcy5zdG9yZS51cGRhdGUobyxyKX1fZ2V0VG9BZGQoKXtpZighdGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpO2xldCBlPTA7cmV0dXJuIHRoaXMuX2FkZE9yVXBkYXRlZC5mb3JFYWNoKChzPT50W2UrK109cykpLHRoaXMuX2FkZE9yVXBkYXRlZC5jbGVhcigpLHR9X2dldFRvUmVtb3ZlKCl7Y29uc3QgdD10aGlzLl9yZW1vdmVkO3JldHVybiB0aGlzLl9yZW1vdmVkLmxlbmd0aD8odGhpcy5fcmVtb3ZlZD1bXSx0KTpudWxsfV9uZXh0SWQoKXtjb25zdCB0PXRoaXMuX2lkQ291bnRlcjtyZXR1cm4gdGhpcy5faWRDb3VudGVyPSh0aGlzLl9pZENvdW50ZXIrMSklNDI5NDk2NzI5NCsxLHR9X3B1cmdlKHQpe2NvbnN0IGU9dGhpcy5fcHVyZ2VPcHRpb25zO251bGwhPWUmJih0aGlzLl9wdXJnZVNvbWVCeURpc3BsYXlDb3VudChlKSx0aGlzLl9wdXJnZUJ5QWdlKGUpLHRoaXMuX3B1cmdlQnlBZ2VSZWNlaXZlZCh0LGUpLHRoaXMuX3B1cmdlVHJhY2tzKCkpfV9wdXJnZVNvbWVCeURpc3BsYXlDb3VudCh0KXtpZighdC5kaXNwbGF5Q291bnQpcmV0dXJuO2xldCBlPXRoaXMuc3RvcmUuc2l6ZTtpZihlPnQuZGlzcGxheUNvdW50KXtpZih0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGQpZm9yKGNvbnN0IHMgb2YgdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLnZhbHVlcygpKWlmKGU+dC5kaXNwbGF5Q291bnQmJnMuc2l6ZSl7Y29uc3QgdD1zLmRlcXVldWUoKTt0aGlzLl9yZW1vdmVkLnB1c2godCksZS0tfWlmKG51bGwhPXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zKXtsZXQgcz1lLXQuZGlzcGxheUNvdW50O2Zvcig7cy0tID4wOyl7Y29uc3QgdD10aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucy5kZXF1ZXVlKCk7bnVsbCE9dCYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQpfX19fV9wdXJnZUJ5QWdlKHQpe2NvbnN0IGU9dGhpcy5fdGltZUluZm8/LnN0YXJ0VGltZUZpZWxkO2lmKCF0LmFnZXx8IWUpcmV0dXJuO2NvbnN0IHM9NjAqdC5hZ2UqMWUzLGk9dGhpcy5fbWF4QWdlLXM7dGhpcy5zdG9yZS5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzW2VdPGkmJnRoaXMuX3JlbW92ZWQucHVzaCh0Lm9iamVjdElkKX0pKX1fcHVyZ2VCeUFnZVJlY2VpdmVkKHQsZSl7aWYoIWUuYWdlUmVjZWl2ZWQpcmV0dXJuO2NvbnN0IHM9dC02MCplLmFnZVJlY2VpdmVkKjFlMzt0aGlzLnN0b3JlLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXNbaV08cyYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQub2JqZWN0SWQpfSkpfV9wdXJnZVRyYWNrcygpe3RoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5mb3JFYWNoKCgodCxlKT0+ezA9PT10LnNpemUmJnRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5kZWxldGUoZSl9KSl9fWV4cG9ydHtvIGFzIFN0cmVhbUZlYXR1cmVNYW5hZ2VyLHMgYXMgZGVmYXVsdFN0cmVhbUlkRmllbGQsaSBhcyBlc3JpVGltZXN0YW1wfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7U3RyZWFtQ29udHJvbGxlciBhcyBpfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9TdHJlYW1Db250cm9sbGVyLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e0ZlYXR1cmVMaWtlTGF5ZXJWaWV3M0QgYXMgYX1mcm9tXCIuL0ZlYXR1cmVMaWtlTGF5ZXJWaWV3M0QuanNcIjtpbXBvcnR7TGF5ZXJWaWV3M0QgYXMgbH1mcm9tXCIuL0xheWVyVmlldzNELmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBjfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uL2xheWVycy9TdHJlYW1MYXllclZpZXcuanNcIjtsZXQgbT1jbGFzcyBleHRlbmRzKHUoYShsKHApKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJzdHJlYW0tM2RcIix0aGlzLnVwZGF0ZVBvbGljeT1jLkFTWU5DLHRoaXMuaGFzWj0hMCx0aGlzLmhhc009ITF9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyh0KCgoKT0+dGhpcy5zdXNwZW5kZWQpLChlPT57dGhpcy5jb250cm9sbGVyJiZ0aGlzLl9vblN1c3BlbmRlZENoYW5nZShlKX0pKSl9Z2V0IGNvbm5lY3Rpb25FcnJvcigpe2NvbnN0IGU9dGhpcy5jb250cm9sbGVyPy5jb25uZWN0aW9uPy5lcnJvclN0cmluZztyZXR1cm4gZT9uZXcgcihcInN0cmVhbS1jb250cm9sbGVyXCIsZSk6bnVsbH1jcmVhdGVRdWVyeSgpe3JldHVybiBuZXcgbih7b3V0RmllbGRzOltcIipcIl0scmV0dXJuR2VvbWV0cnk6ITAsb3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX0pfXF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb25zKGUscil7cmV0dXJuIHRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yTGF0ZXN0T2JzZXJ2YXRpb25zKHRoaXMuX2Vuc3VyZVF1ZXJ5KGUpLHI/LnNpZ25hbCl9Z2V0IF9zdHJlYW1Db25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuY29udHJvbGxlcj8uY29ubmVjdGlvbj8uY29ubmVjdGlvblN0YXR1cz8/XCJkaXNjb25uZWN0ZWRcIn1jcmVhdGVDb250cm9sbGVyKCl7cmV0dXJuIG5ldyBpKHtsYXllcjp0aGlzLmxheWVyLGxheWVyVmlldzp0aGlzfSl9YmVmb3JlU2V0Q29udHJvbGxlcigpe31fZG9QYXVzZSgpe3RoaXMuY29udHJvbGxlcj8ucGF1c2VTdHJlYW0oKX1fZG9SZXN1bWUoKXt0aGlzLmNvbnRyb2xsZXI/LnJlc3VtZVN0cmVhbSgpfX07ZShbbyh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJ1cGRhdGVQb2xpY3lcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiY29ubmVjdGlvbkVycm9yXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcImNvbnRyb2xsZXJcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiaGFzWlwiLHZvaWQgMCksZShbbyh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJoYXNNXCIsdm9pZCAwKSxlKFtvKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcIl9zdHJlYW1Db25uZWN0aW9uU3RhdHVzXCIsbnVsbCksbT1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuU3RyZWFtTGF5ZXJWaWV3M0RcIildLG0pO2NvbnN0IHk9bTtleHBvcnR7eSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBzfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVGaWx0ZXIuanNcIjtjb25zdCBvPW89PntsZXQgaT1jbGFzcyBleHRlbmRzIG97cmVzdW1lKCl7dGhpcy5faXNVc2VyUGF1c2VkPSExLHRoaXMuc3VzcGVuZGVkfHx0aGlzLl9kb1Jlc3VtZSgpfXBhdXNlKCl7dGhpcy5faXNVc2VyUGF1c2VkPSEwLHRoaXMuc3VzcGVuZGVkfHx0aGlzLl9kb1BhdXNlKCl9Y29uc3RydWN0b3IoLi4ucyl7c3VwZXIoLi4ucyksdGhpcy5faXNVc2VyUGF1c2VkPSExLHRoaXMuZmlsdGVyPW51bGx9Z2V0IGNvbm5lY3Rpb25TdGF0dXMoKXtyZXR1cm4gdGhpcy5faXNVc2VyUGF1c2VkP1wicGF1c2VkXCI6dGhpcy5fc3RyZWFtQ29ubmVjdGlvblN0YXR1c31fb25TdXNwZW5kZWRDaGFuZ2Uocyl7cz90aGlzLl9kb1BhdXNlKCk6dGhpcy5faXNVc2VyUGF1c2VkfHx0aGlzLl9kb1Jlc3VtZSgpfX07cmV0dXJuIHMoW2UoKV0saS5wcm90b3R5cGUsXCJfaXNVc2VyUGF1c2VkXCIsdm9pZCAwKSxzKFtlKHtyZWFkT25seTohMH0pXSxpLnByb3RvdHlwZSxcImNvbm5lY3Rpb25TdGF0dXNcIixudWxsKSxzKFtlKHt0eXBlOnR9KV0saS5wcm90b3R5cGUsXCJmaWx0ZXJcIix2b2lkIDApLGk9cyhbcihcImVzcmkubGF5ZXJzLm1peGlucy5TdHJlYW1MYXllclZpZXdcIildLGkpLGl9O2V4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9