"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_views_3d_layers_MapImageLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/layers/support/ExportImageParameters.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportImageParameters.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportImageParameters: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _sublayerUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const y={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=(0,_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__.getLayerFloorFilterClause)(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.isExportDynamic)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(y[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const t=(0,_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__.getLayerFloorFilterClause)(this.floors,r),i=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_2__.sqlAnd)(t,r.definitionExpression);return null!=i&&(e[r.id]=i),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=this.scale,t=r=>{r.visible&&(0===s||(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_8__.isInScaleRange)(s,r.minScale,r.maxScale))&&(r.sublayers?r.sublayers.forEach(t):e.unshift(r))};r&&r.forEach(t);const i=this._get("visibleSublayers");return!i||i.length!==e.length||i.some(((r,s)=>e[s]!==r))?e:i}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"dynamicLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"floors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"hasDynamicLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"layerDefs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number})],m.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__.combinedViewLayerTimeExtentProperty)],m.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"visibleSublayers",null),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.ExportImageParameters")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/MapImageLayerView3D.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/MapImageLayerView3D.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _DynamicLayerView3D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DynamicLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js");
/* harmony import */ var _layers_MapImageLayerView_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/MapImageLayerView.js */ "./node_modules/@arcgis/core/views/layers/MapImageLayerView.js");
/* harmony import */ var _layers_support_MapServiceLayerViewHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/MapServiceLayerViewHelper.js */ "./node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js");
/* harmony import */ var _support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/drapedUtils.js */ "./node_modules/@arcgis/core/views/support/drapedUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let o=class extends((0,_layers_MapImageLayerView_js__WEBPACK_IMPORTED_MODULE_8__["default"])(_DynamicLayerView3D_js__WEBPACK_IMPORTED_MODULE_7__["default"])){constructor(){super(...arguments),this.type="map-image-3d"}initialize(){this._updatingHandles.add((()=>this.exportImageVersion),(()=>this._updatingHandles.addPromise(this.refreshDebounced()))),this._popupHighlightHelper=new _layers_support_MapServiceLayerViewHelper_js__WEBPACK_IMPORTED_MODULE_9__.MapServiceLayerViewHelper({createFetchPopupFeaturesQueryGeometry:(e,r)=>(0,_support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_10__.createQueryGeometry)(e,r,this.view),layerView:this,updatingHandles:this._updatingHandles})}destroy(){this._popupHighlightHelper?.destroy()}fetchPopupFeatures(e,r){return this._popupHighlightHelper.fetchPopupFeatures(e,r)}getFetchOptions(){return{timeExtent:this.timeExtent}}};o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.MapImageLayerView3D")],o);const a=o;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/MapImageLayerView.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/MapImageLayerView.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_ExportImageParameters_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../layers/support/ExportImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportImageParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=p=>{let a=class extends p{initialize(){this.exportImageParameters=new _layers_support_ExportImageParameters_js__WEBPACK_IMPORTED_MODULE_7__.ExportImageParameters({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get floors(){return this.view?.floors??null}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),this.commitProperty("floors"),(this._get("exportImageVersion")||0)+1}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],a.prototype,"exportImageParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],a.prototype,"floors",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],a.prototype,"exportImageVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],a.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],a.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_6__.combinedViewLayerTimeExtentProperty)],a.prototype,"timeExtent",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.layers.MapImageLayerView")],a),a};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19NYXBJbWFnZUxheWVyVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDOG9CLFNBQVMsdVFBQXVRLG9CQUFvQix5REFBQyxDQUFDLGVBQWUsdUNBQXVDLFVBQVUsZ0JBQWdCLG9CQUFvQixzQ0FBc0MsdUNBQXVDLFFBQVEsZ0ZBQUMsZ0JBQWdCLDhCQUE4QixHQUFHLHVDQUF1Qyx1QkFBdUIsbUJBQW1CLG1FQUFDLDBFQUEwRSxhQUFhLG1QQUFtUCxhQUFhLDhCQUE4QixvRUFBb0UsZ0JBQWdCLHNIQUFzSCxpREFBaUQsUUFBUSxnRkFBQyxrQkFBa0Isb0RBQUMsMkJBQTJCLDhCQUE4QixJQUFJLFFBQVEsY0FBYyxzSUFBc0ksbUJBQW1CLHFLQUFxSyx1QkFBdUIsV0FBVyx3QkFBd0IsZ0RBQWdELG1CQUFtQiwrRUFBQywrRUFBK0UsZ0JBQWdCLHNDQUFzQyw2REFBNkQsU0FBUyxtQkFBbUIsT0FBTyw4RkFBOEYsdUZBQXVGLGlEQUFpRCxLQUFLLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxDQUFDLHFGQUFDLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksMENBQTBDLHVEQUFDLEVBQUUsc0ZBQUMsaURBQW9GOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2NUc7QUFDQTtBQUNBO0FBQ0E7QUFDOGlCLG9CQUFvQix3RUFBQyxDQUFDLDhEQUFDLEdBQUcsY0FBYyw2Q0FBNkMsYUFBYSx3SkFBd0osbUdBQUMsRUFBRSw2Q0FBNkMsNkVBQUMscUVBQXFFLEVBQUUsVUFBVSxzQ0FBc0Msd0JBQXdCLDBEQUEwRCxrQkFBa0IsT0FBTyw4QkFBOEIsRUFBRSx1REFBQyxFQUFFLHNGQUFDLGlEQUFpRCxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKL3FDO0FBQ0E7QUFDQTtBQUNBO0FBQ3llLFlBQVksc0JBQXNCLGFBQWEsK0JBQStCLDJGQUFDLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxxRUFBcUUsYUFBYSwrQkFBK0IseUJBQXlCLG9LQUFvSyxZQUFZLHVEQUF1RCxPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsZ0RBQWdELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxDQUFDLG9HQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLCtDQUFvRSIsInNvdXJjZXMiOlsid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9FeHBvcnRJbWFnZVBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9NYXBJbWFnZUxheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTWFwSW1hZ2VMYXllclZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7c3FsQW5kIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9zcWwuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtpc0luU2NhbGVSYW5nZSBhcyBvfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc2NhbGVVdGlscy5qc1wiO2ltcG9ydHtjb21iaW5lZFZpZXdMYXllclRpbWVFeHRlbnRQcm9wZXJ0eSBhcyBhfWZyb21cIi4vY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtnZXRMYXllckZsb29yRmlsdGVyQ2xhdXNlIGFzIGx9ZnJvbVwiLi9mbG9vckZpbHRlclV0aWxzLmpzXCI7aW1wb3J0e2lzRXhwb3J0RHluYW1pYyBhcyBufWZyb21cIi4vc3VibGF5ZXJVdGlscy5qc1wiO2NvbnN0IHk9e3Zpc2libGU6XCJ2aXNpYmxlU3VibGF5ZXJzXCIsZGVmaW5pdGlvbkV4cHJlc3Npb246XCJsYXllckRlZnNcIixsYWJlbGluZ0luZm86XCJoYXNEeW5hbWljTGF5ZXJzXCIsbGFiZWxzVmlzaWJsZTpcImhhc0R5bmFtaWNMYXllcnNcIixvcGFjaXR5OlwiaGFzRHluYW1pY0xheWVyc1wiLG1pblNjYWxlOlwidmlzaWJsZVN1YmxheWVyc1wiLG1heFNjYWxlOlwidmlzaWJsZVN1YmxheWVyc1wiLHJlbmRlcmVyOlwiaGFzRHluYW1pY0xheWVyc1wiLHNvdXJjZTpcImhhc0R5bmFtaWNMYXllcnNcIn07bGV0IG09Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZmxvb3JzPW51bGwsdGhpcy5zY2FsZT0wfWRlc3Ryb3koKXt0aGlzLmxheWVyPW51bGx9Z2V0IGR5bmFtaWNMYXllcnMoKXtpZighdGhpcy5oYXNEeW5hbWljTGF5ZXJzKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy52aXNpYmxlU3VibGF5ZXJzLm1hcCgoZT0+e2NvbnN0IHI9bCh0aGlzLmZsb29ycyxlKTtyZXR1cm4gZS50b0V4cG9ydEltYWdlSlNPTihyKX0pKTtyZXR1cm4gZS5sZW5ndGg/SlNPTi5zdHJpbmdpZnkoZSk6bnVsbH1nZXQgaGFzRHluYW1pY0xheWVycygpe3JldHVybiB0aGlzLmxheWVyJiZuKHRoaXMudmlzaWJsZVN1YmxheWVycyx0aGlzLmxheWVyLnNlcnZpY2VTdWJsYXllcnMsdGhpcy5sYXllci5nZGJWZXJzaW9uKX1zZXQgbGF5ZXIoZSl7dGhpcy5fZ2V0KFwibGF5ZXJcIikhPT1lJiYodGhpcy5fc2V0KFwibGF5ZXJcIixlKSx0aGlzLnJlbW92ZUhhbmRsZXMoXCJsYXllclwiKSxlJiZ0aGlzLmFkZEhhbmRsZXMoW2UuYWxsU3VibGF5ZXJzLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLm5vdGlmeUNoYW5nZShcInZpc2libGVTdWJsYXllcnNcIikpKSxlLm9uKFwic3VibGF5ZXItdXBkYXRlXCIsKGU9PnRoaXMubm90aWZ5Q2hhbmdlKHlbZS5wcm9wZXJ0eU5hbWVdKSkpXSxcImxheWVyXCIpKX1nZXQgbGF5ZXJzKCl7Y29uc3QgZT10aGlzLnZpc2libGVTdWJsYXllcnM7cmV0dXJuIGU/ZS5sZW5ndGg/XCJzaG93OlwiK2UubWFwKChlPT5lLmlkKSkuam9pbihcIixcIik6XCJzaG93Oi0xXCI6bnVsbH1nZXQgbGF5ZXJEZWZzKCl7Y29uc3QgZT0hIXRoaXMuZmxvb3JzPy5sZW5ndGgscj10aGlzLnZpc2libGVTdWJsYXllcnMuZmlsdGVyKChyPT5udWxsIT1yLmRlZmluaXRpb25FeHByZXNzaW9ufHxlJiZudWxsIT1yLmZsb29ySW5mbykpO3JldHVybiByLmxlbmd0aD9KU09OLnN0cmluZ2lmeShyLnJlZHVjZSgoKGUscik9Pntjb25zdCB0PWwodGhpcy5mbG9vcnMsciksaT1zKHQsci5kZWZpbml0aW9uRXhwcmVzc2lvbik7cmV0dXJuIG51bGwhPWkmJihlW3IuaWRdPWkpLGV9KSx7fSkpOm51bGx9Z2V0IHZlcnNpb24oKXt0aGlzLmNvbW1pdFByb3BlcnR5KFwibGF5ZXJzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJsYXllckRlZnNcIiksdGhpcy5jb21taXRQcm9wZXJ0eShcImR5bmFtaWNMYXllcnNcIiksdGhpcy5jb21taXRQcm9wZXJ0eShcInRpbWVFeHRlbnRcIik7Y29uc3QgZT10aGlzLmxheWVyO3JldHVybiBlJiYoZS5jb21taXRQcm9wZXJ0eShcImRwaVwiKSxlLmNvbW1pdFByb3BlcnR5KFwiaW1hZ2VGb3JtYXRcIiksZS5jb21taXRQcm9wZXJ0eShcImltYWdlVHJhbnNwYXJlbmN5XCIpLGUuY29tbWl0UHJvcGVydHkoXCJnZGJWZXJzaW9uXCIpKSwodGhpcy5fZ2V0KFwidmVyc2lvblwiKXx8MCkrMX1nZXQgdmlzaWJsZVN1YmxheWVycygpe2NvbnN0IGU9W107aWYoIXRoaXMubGF5ZXIpcmV0dXJuIGU7Y29uc3Qgcj10aGlzLmxheWVyLnN1YmxheWVycyxzPXRoaXMuc2NhbGUsdD1yPT57ci52aXNpYmxlJiYoMD09PXN8fG8ocyxyLm1pblNjYWxlLHIubWF4U2NhbGUpKSYmKHIuc3VibGF5ZXJzP3Iuc3VibGF5ZXJzLmZvckVhY2godCk6ZS51bnNoaWZ0KHIpKX07ciYmci5mb3JFYWNoKHQpO2NvbnN0IGk9dGhpcy5fZ2V0KFwidmlzaWJsZVN1YmxheWVyc1wiKTtyZXR1cm4haXx8aS5sZW5ndGghPT1lLmxlbmd0aHx8aS5zb21lKCgocixzKT0+ZVtzXSE9PXIpKT9lOml9dG9KU09OKCl7Y29uc3QgZT10aGlzLmxheWVyO2xldCByPXtkcGk6ZS5kcGksZm9ybWF0OmUuaW1hZ2VGb3JtYXQsdHJhbnNwYXJlbnQ6ZS5pbWFnZVRyYW5zcGFyZW5jeSxnZGJWZXJzaW9uOmUuZ2RiVmVyc2lvbnx8bnVsbH07cmV0dXJuIHRoaXMuaGFzRHluYW1pY0xheWVycyYmdGhpcy5keW5hbWljTGF5ZXJzP3IuZHluYW1pY0xheWVycz10aGlzLmR5bmFtaWNMYXllcnM6cj17Li4ucixsYXllcnM6dGhpcy5sYXllcnMsbGF5ZXJEZWZzOnRoaXMubGF5ZXJEZWZzfSxyfX07ZShbdCh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJkeW5hbWljTGF5ZXJzXCIsbnVsbCksZShbdCgpXSxtLnByb3RvdHlwZSxcImZsb29yc1wiLHZvaWQgMCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJoYXNEeW5hbWljTGF5ZXJzXCIsbnVsbCksZShbdCgpXSxtLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJsYXllcnNcIixudWxsKSxlKFt0KHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcImxheWVyRGVmc1wiLG51bGwpLGUoW3Qoe3R5cGU6TnVtYmVyfSldLG0ucHJvdG90eXBlLFwic2NhbGVcIix2b2lkIDApLGUoW3QoYSldLG0ucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsbnVsbCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJ2aXNpYmxlU3VibGF5ZXJzXCIsbnVsbCksbT1lKFtpKFwiZXNyaS5sYXllcnMubWl4aW5zLkV4cG9ydEltYWdlUGFyYW1ldGVyc1wiKV0sbSk7ZXhwb3J0e20gYXMgRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vRHluYW1pY0xheWVyVmlldzNELmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vbGF5ZXJzL01hcEltYWdlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e01hcFNlcnZpY2VMYXllclZpZXdIZWxwZXIgYXMgaX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9NYXBTZXJ2aWNlTGF5ZXJWaWV3SGVscGVyLmpzXCI7aW1wb3J0e2NyZWF0ZVF1ZXJ5R2VvbWV0cnkgYXMgcH1mcm9tXCIuLi8uLi9zdXBwb3J0L2RyYXBlZFV0aWxzLmpzXCI7bGV0IG89Y2xhc3MgZXh0ZW5kcyhzKHQpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwibWFwLWltYWdlLTNkXCJ9aW5pdGlhbGl6ZSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmV4cG9ydEltYWdlVmVyc2lvbiksKCgpPT50aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLnJlZnJlc2hEZWJvdW5jZWQoKSkpKSx0aGlzLl9wb3B1cEhpZ2hsaWdodEhlbHBlcj1uZXcgaSh7Y3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnlHZW9tZXRyeTooZSxyKT0+cChlLHIsdGhpcy52aWV3KSxsYXllclZpZXc6dGhpcyx1cGRhdGluZ0hhbmRsZXM6dGhpcy5fdXBkYXRpbmdIYW5kbGVzfSl9ZGVzdHJveSgpe3RoaXMuX3BvcHVwSGlnaGxpZ2h0SGVscGVyPy5kZXN0cm95KCl9ZmV0Y2hQb3B1cEZlYXR1cmVzKGUscil7cmV0dXJuIHRoaXMuX3BvcHVwSGlnaGxpZ2h0SGVscGVyLmZldGNoUG9wdXBGZWF0dXJlcyhlLHIpfWdldEZldGNoT3B0aW9ucygpe3JldHVybnt0aW1lRXh0ZW50OnRoaXMudGltZUV4dGVudH19fTtvPWUoW3IoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5NYXBJbWFnZUxheWVyVmlldzNEXCIpXSxvKTtjb25zdCBhPW87ZXhwb3J0e2EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y29tYmluZWRWaWV3TGF5ZXJUaW1lRXh0ZW50UHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e0V4cG9ydEltYWdlUGFyYW1ldGVycyBhcyBzfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L0V4cG9ydEltYWdlUGFyYW1ldGVycy5qc1wiO2NvbnN0IHA9cD0+e2xldCBhPWNsYXNzIGV4dGVuZHMgcHtpbml0aWFsaXplKCl7dGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnM9bmV3IHMoe2xheWVyOnRoaXMubGF5ZXJ9KX1kZXN0cm95KCl7dGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnMuZGVzdHJveSgpLHRoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPW51bGx9Z2V0IGZsb29ycygpe3JldHVybiB0aGlzLnZpZXc/LmZsb29ycz8/bnVsbH1nZXQgZXhwb3J0SW1hZ2VWZXJzaW9uKCl7cmV0dXJuIHRoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPy5jb21taXRQcm9wZXJ0eShcInZlcnNpb25cIiksdGhpcy5jb21taXRQcm9wZXJ0eShcInRpbWVFeHRlbnRcIiksdGhpcy5jb21taXRQcm9wZXJ0eShcImZsb29yc1wiKSwodGhpcy5fZ2V0KFwiZXhwb3J0SW1hZ2VWZXJzaW9uXCIpfHwwKSsxfWNhblJlc3VtZSgpe3JldHVybiEhc3VwZXIuY2FuUmVzdW1lKCkmJiF0aGlzLnRpbWVFeHRlbnQ/LmlzRW1wdHl9fTtyZXR1cm4gZShbcigpXSxhLnByb3RvdHlwZSxcImV4cG9ydEltYWdlUGFyYW1ldGVyc1wiLHZvaWQgMCksZShbcih7cmVhZE9ubHk6ITB9KV0sYS5wcm90b3R5cGUsXCJmbG9vcnNcIixudWxsKSxlKFtyKHtyZWFkT25seTohMH0pXSxhLnByb3RvdHlwZSxcImV4cG9ydEltYWdlVmVyc2lvblwiLG51bGwpLGUoW3IoKV0sYS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbcigpXSxhLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLHZvaWQgMCksZShbcihvKV0sYS5wcm90b3R5cGUsXCJ0aW1lRXh0ZW50XCIsdm9pZCAwKSxhPWUoW3QoXCJlc3JpLnZpZXdzLmxheWVycy5NYXBJbWFnZUxheWVyVmlld1wiKV0sYSksYX07ZXhwb3J0e3AgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=