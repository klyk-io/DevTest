"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_interactive_visualElements_RightAngleQuadVis-494e56"],{

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapedVisualElementResources: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapedRenderGroup.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__.DirtyOperation.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__.DirtyOperation.UPDATE),this._resources.geometriesAdded=!0}}let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__.IdentifiableMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.drapeSourceType=_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapeSourceType.Features,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_10__.UpdatePolicy.SYNC,this.renderGroup=_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapedRenderGroup.Outline}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],d.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],d.prototype,"renderGroup",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("DrapedVisualElementLayerView")],d);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EngineVisualElement: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrapedVisualElementResources.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js");
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js");
/* harmony import */ var _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VisualElementResources.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_1__.VisualElement{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_2__.VisualElementResources(this.createObject3DResourceFactory(s.view)),this.drapedResources=new _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_0__.DrapedVisualElementResources(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RightAngleQuadVisualElement: () => (/* binding */ z)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EngineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/materials/ColorMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class z extends _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__.EngineVisualElement{constructor(e){super(e),this._maxSize=0,this._position=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._up=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._right=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._renderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.RenderOccludedFlag.OccludeAndTransparent,this._color=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(1,0,0,1),this._outlineColor=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_14__.RenderOccludedFlag.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e)}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c)(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c)(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:r}){this._maxSize=Math.min((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(t,e),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(t,r))/3,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(this._up,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(this._up,e,t)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(this._right,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(this._right,r,t)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__.ColorMaterial(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__.RibbonLineMaterial(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:e=>{e(t),r&&e(r)}}}_createObject3DGeometries(e,t,r){if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this._up,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.Z)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this._right,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.Z))return;const i=this._createGeometries(t,r);for(const s of i)e.addGeometry(s);this._updateTransformObject3D(e)}_createDrapedResources(){const t=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__.ColorMaterial(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__.RibbonLineMaterial(this._outlineMaterialParameters),i=this._createGeometries(t,r).map((e=>new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_15__.RenderGeometry(e)));this._setTransformDraped(i);return{quadMaterial:t,outlineMaterial:r,geometries:i,pixelRatioHandle:(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_createGeometries(e,t){const{up:r,right:i,corner:s}=this._getVertices(),a=this._quadGeometryData(r,i,s,e);if(!t)return[a];return[a,(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__.createPolylineGeometry)(t,[r,s,i])]}_getVertices(){let e=this._up,t=this._right;const r=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(),e,t);return this.isDraped&&(e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(),e),t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const i=this.view.state.camera,s=this._size*i.computeScreenPixelSizeAt(this._position),a=Math.min(this._maxSize,s);(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(P,this._position),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.b)(P,P,[a,a,a]),e.transformation=P}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:i},state:{contentPixelRatio:s}}}=this,{_position:a,_size:o}=this,c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.sv3d.get(),a);c[2]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_10__.drapedZ;const u=v;u.spatialReference=i.renderer.spatialReference,u.x=c[0],u.y=c[1];const l=o*(this.view.overlayPixelSizeInMapUnits(u)*s),d=Math.min(this._maxSize,l);(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(P,c),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.b)(P,P,[d,d,1]);for(const t of e)t.transformation=P}_quadGeometryData(e,t,r,i){return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_12__.Geometry(i,[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_11__.Attribute([0,0,0,...t,...e,...r],[0,1,2,1,2,3],3,!0)]])}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}const P=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),v=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_8__.makeDehydratedPoint)(0,0,void 0,null);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VisualElementResources: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Mesh&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Line&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Mesh&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Line&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_4__.WebGLLayer(h,{pickable:!1,updatePolicy:_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_3__.UpdatePolicy.SYNC}),l=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__.Object3D({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)((()=>a.state.camera),(e=>_(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.initial):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2ludGVyYWN0aXZlX3Zpc3VhbEVsZW1lbnRzX1JpZ2h0QW5nbGVRdWFkVmlzLTQ5NGU1Ni5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDOHFCLFFBQVEsZUFBZSxrR0FBa0csb0VBQUMsU0FBUyxVQUFVLHlCQUF5QixnQkFBZ0IsMkRBQTJELGNBQWMscUJBQXFCLGVBQWUsc0VBQXNFLGVBQWUsc0JBQXNCLGdCQUFnQix3RUFBd0Usa0JBQWtCLHlCQUF5QixtQkFBbUIsb0JBQW9CLG1DQUFtQyxxQkFBcUIsV0FBVyx1Q0FBdUMsbUJBQW1CLHdOQUF3Tiw0QkFBNEIsdUZBQXVGLG1CQUFtQix5QkFBeUIseURBQXlELDhEQUE4RCw4REFBOEQsaUJBQWlCLGlCQUFpQiw4REFBOEQsZ0NBQWdDLDRHQUE0RyxvQkFBb0IsZ0NBQWdDLHNDQUFzQyxrRUFBa0UsNElBQTRJLDRCQUE0Qix3RkFBd0YsaUNBQWlDLHFEQUFxRCwyQ0FBMkMseUZBQXlGLGdGQUFDLDRDQUE0QywrQkFBK0IscURBQXFELDBDQUEwQyxzRkFBc0YsZ0ZBQUMsNkNBQTZDLG9CQUFvQix3RUFBQyxDQUFDLHlEQUFDLEdBQUcsZUFBZSw4QkFBOEIsa0VBQUMsNEJBQTRCLDRFQUFDLHVCQUF1QixvRUFBQyxXQUFXLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxpQkFBaUIsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHlDQUF5Qyx1REFBQyxFQUFFLHNGQUFDLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLHFDQUErRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnY1RztBQUNBO0FBQ0E7QUFDQTtBQUN5TSxnQkFBZ0IsNERBQUMsQ0FBQyxlQUFlLHNEQUFzRCw4RUFBQyxzRUFBc0UsMEZBQUMsd0VBQXdFLGVBQWUsc0JBQXNCLGdCQUFnQix3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cUJBQXFCLDRCQUE0Qiw2REFBQyxnQ0FBZ0MsMkRBQUMsT0FBTyxpQkFBaUIsMkNBQTJDLHFCQUFxQixvQkFBb0IsZ0NBQWdDLDBDQUEwQywyR0FBMkcscUJBQXFCLHFGQUFDLHFCQUFxQixrS0FBa0ssZUFBZSx1RUFBMkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvRHJhcGVkVmlzdWFsRWxlbWVudFJlc291cmNlcy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvRW5naW5lVmlzdWFsRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvUmlnaHRBbmdsZVF1YWRWaXN1YWxFbGVtZW50LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9WaXN1YWxFbGVtZW50UmVzb3VyY2VzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e0lkZW50aWZpYWJsZU1peGluIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtEcmFwZVNvdXJjZVR5cGUgYXMgaSxEcmFwZWRSZW5kZXJHcm91cCBhcyBjfWZyb21cIi4uLy4uL2xheWVycy9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0RpcnR5T3BlcmF0aW9uIGFzIHV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9Nb2RlbERpcnR5VHlwZXMuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIGF9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtjbGFzcyBue2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Jlc291cmNlRmFjdG9yeT1lLHRoaXMuX3Jlc291cmNlcz1udWxsLHRoaXMuX3Zpc2libGU9ITAsdGhpcy5fYXR0YWNoZWQ9ITEsdGhpcy5fcmVuZGVyR3JvdXA9Yy5PdXRsaW5lfWRlc3Ryb3koKXt0aGlzLl9kZXN0cm95UmVzb3VyY2VzKCl9Z2V0IHJlc291cmNlcygpe3JldHVybiBudWxsIT10aGlzLl9yZXNvdXJjZXM/dGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsOm51bGx9Z2V0IHZpc2libGUoKXtyZXR1cm4gdGhpcy5fdmlzaWJsZX1zZXQgdmlzaWJsZShlKXtlIT09dGhpcy5fdmlzaWJsZSYmKHRoaXMuX3Zpc2libGU9ZSx0aGlzLl9zeW5jR2VvbWV0cmllc1RvUmVuZGVyZXIoKSl9Z2V0IGF0dGFjaGVkKCl7cmV0dXJuIHRoaXMuX2F0dGFjaGVkfXNldCBhdHRhY2hlZChlKXtlIT09dGhpcy5fYXR0YWNoZWQmJih0aGlzLl9hdHRhY2hlZD1lLHRoaXMuX2NyZWF0ZU9yRGVzdHJveVJlc291cmNlcygpKX1nZXQgcmVuZGVyR3JvdXAoKXtyZXR1cm4gdGhpcy5fcmVuZGVyR3JvdXB9c2V0IHJlbmRlckdyb3VwKGUpe3RoaXMuX3JlbmRlckdyb3VwPWU7Y29uc3Qgcj10aGlzLl9yZXNvdXJjZXM/LmxheWVyVmlldztyJiYoci5yZW5kZXJHcm91cD1lKX1yZWNyZWF0ZSgpe3RoaXMuYXR0YWNoZWQmJnRoaXMuX2NyZWF0ZVJlc291cmNlcygpfXJlY3JlYXRlR2VvbWV0cnkoKXt0aGlzLl9yZXNvdXJjZUZhY3RvcnkucmVjcmVhdGVHZW9tZXRyeT9udWxsIT10aGlzLl9yZXNvdXJjZXMmJih0aGlzLl9lbnN1cmVSZW5kZXJHZW9tZXRyaWVzUmVtb3ZlZCgpLHRoaXMuX3Jlc291cmNlRmFjdG9yeS5yZWNyZWF0ZUdlb21ldHJ5KHRoaXMuX3Jlc291cmNlcy5leHRlcm5hbCksdGhpcy5fc3luY0dlb21ldHJpZXNUb1JlbmRlcmVyKCkpOnRoaXMucmVjcmVhdGUoKX1fY3JlYXRlT3JEZXN0cm95UmVzb3VyY2VzKCl7dGhpcy5fYXR0YWNoZWQ/bnVsbD09dGhpcy5fcmVzb3VyY2VzJiZ0aGlzLl9jcmVhdGVSZXNvdXJjZXMoKTp0aGlzLl9kZXN0cm95UmVzb3VyY2VzKCl9X2NyZWF0ZVJlc291cmNlcygpe3RoaXMuX2Rlc3Ryb3lSZXNvdXJjZXMoKTtjb25zdCBlPXRoaXMuX3Jlc291cmNlRmFjdG9yeS5jcmVhdGVSZXNvdXJjZXMoKSxyPW5ldyBkKHt2aWV3OnRoaXMuX3Jlc291cmNlRmFjdG9yeS52aWV3LHJlbmRlckdyb3VwOnRoaXMuX3JlbmRlckdyb3VwfSkscz10aGlzLl9yZXNvdXJjZUZhY3Rvcnkudmlldy5iYXNlbWFwVGVycmFpbj8ub3ZlcmxheU1hbmFnZXI7dGhpcy5fcmVzb3VyY2VzPXtsYXllclZpZXc6bmV3IGQoe3ZpZXc6dGhpcy5fcmVzb3VyY2VGYWN0b3J5LnZpZXcscmVuZGVyR3JvdXA6dGhpcy5fcmVuZGVyR3JvdXB9KSxleHRlcm5hbDplLGdlb21ldHJpZXNBZGRlZDohMX0scyYmKHRoaXMuX3Jlc291cmNlcy5kcmFwZVNvdXJjZVJlbmRlcmVyPXMucmVnaXN0ZXJHZW9tZXRyeURyYXBlU291cmNlKHIpKSx0aGlzLl9zeW5jR2VvbWV0cmllc1RvUmVuZGVyZXIoKX1fZGVzdHJveVJlc291cmNlcygpe2lmKG51bGw9PXRoaXMuX3Jlc291cmNlcylyZXR1cm47dGhpcy5fZW5zdXJlUmVuZGVyR2VvbWV0cmllc1JlbW92ZWQoKTtjb25zdCBlPXRoaXMuX3Jlc291cmNlRmFjdG9yeS52aWV3LmJhc2VtYXBUZXJyYWluPy5vdmVybGF5TWFuYWdlcjtlJiZlLnVucmVnaXN0ZXJEcmFwZVNvdXJjZSh0aGlzLl9yZXNvdXJjZXMubGF5ZXJWaWV3KSx0aGlzLl9yZXNvdXJjZUZhY3RvcnkuZGVzdHJveVJlc291cmNlcyh0aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWwpLHRoaXMuX3Jlc291cmNlcz1udWxsfV9zeW5jR2VvbWV0cmllc1RvUmVuZGVyZXIoKXt0aGlzLl92aXNpYmxlP3RoaXMuX2Vuc3VyZVJlbmRlckdlb21ldHJpZXNBZGRlZCgpOnRoaXMuX2Vuc3VyZVJlbmRlckdlb21ldHJpZXNSZW1vdmVkKCl9X2Vuc3VyZVJlbmRlckdlb21ldHJpZXNSZW1vdmVkKCl7aWYobnVsbD09dGhpcy5fcmVzb3VyY2VzPy5kcmFwZVNvdXJjZVJlbmRlcmVyKXJldHVybjtpZighdGhpcy5fcmVzb3VyY2VzLmdlb21ldHJpZXNBZGRlZClyZXR1cm47dGhpcy5fcmVzb3VyY2VzLmRyYXBlU291cmNlUmVuZGVyZXIucmVtb3ZlR2VvbWV0cmllcyh0aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWwuZ2VvbWV0cmllcyx1LlVQREFURSksdGhpcy5fcmVzb3VyY2VzLmdlb21ldHJpZXNBZGRlZD0hMX1fZW5zdXJlUmVuZGVyR2VvbWV0cmllc0FkZGVkKCl7aWYobnVsbD09dGhpcy5fcmVzb3VyY2VzPy5kcmFwZVNvdXJjZVJlbmRlcmVyKXJldHVybjtpZih0aGlzLl9yZXNvdXJjZXMuZ2VvbWV0cmllc0FkZGVkKXJldHVybjt0aGlzLl9yZXNvdXJjZXMuZHJhcGVTb3VyY2VSZW5kZXJlci5hZGRHZW9tZXRyaWVzKHRoaXMuX3Jlc291cmNlcy5leHRlcm5hbC5nZW9tZXRyaWVzLHUuVVBEQVRFKSx0aGlzLl9yZXNvdXJjZXMuZ2VvbWV0cmllc0FkZGVkPSEwfX1sZXQgZD1jbGFzcyBleHRlbmRzKHMocikpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZHJhcGVTb3VyY2VUeXBlPWkuRmVhdHVyZXMsdGhpcy51cGRhdGVQb2xpY3k9YS5TWU5DLHRoaXMucmVuZGVyR3JvdXA9Yy5PdXRsaW5lfX07ZShbdCh7Y29uc3RydWN0T25seTohMH0pXSxkLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW3Qoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiZHJhcGVTb3VyY2VUeXBlXCIsdm9pZCAwKSxlKFt0KCldLGQucHJvdG90eXBlLFwicmVuZGVyR3JvdXBcIix2b2lkIDApLGQ9ZShbbyhcIkRyYXBlZFZpc3VhbEVsZW1lbnRMYXllclZpZXdcIildLGQpO2V4cG9ydHtuIGFzIERyYXBlZFZpc3VhbEVsZW1lbnRSZXNvdXJjZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtEcmFwZWRWaXN1YWxFbGVtZW50UmVzb3VyY2VzIGFzIGV9ZnJvbVwiLi9EcmFwZWRWaXN1YWxFbGVtZW50UmVzb3VyY2VzLmpzXCI7aW1wb3J0e1Zpc3VhbEVsZW1lbnQgYXMgc31mcm9tXCIuL1Zpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7VmlzdWFsRWxlbWVudFJlc291cmNlcyBhcyByfWZyb21cIi4vVmlzdWFsRWxlbWVudFJlc291cmNlcy5qc1wiO2NsYXNzIHQgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHMpe3N1cGVyKHMpLHRoaXMuX2lzRHJhcGVkPSExLHRoaXMub2JqZWN0M2RSZXNvdXJjZXM9bmV3IHIodGhpcy5jcmVhdGVPYmplY3QzRFJlc291cmNlRmFjdG9yeShzLnZpZXcpKSx0aGlzLmRyYXBlZFJlc291cmNlcz1uZXcgZSh0aGlzLmNyZWF0ZURyYXBlZFJlc291cmNlRmFjdG9yeShzLnZpZXcpKSx0aGlzLmlzRHJhcGVkPXMuaXNEcmFwZWQ/PyExfWdldCBpc0RyYXBlZCgpe3JldHVybiB0aGlzLl9pc0RyYXBlZH1zZXQgaXNEcmFwZWQoZSl7ZSE9PXRoaXMuX2lzRHJhcGVkJiYodGhpcy5faXNEcmFwZWQ9ZSx0aGlzLm9iamVjdDNkUmVzb3VyY2VzLmF0dGFjaGVkPXRoaXMuYXR0YWNoZWQmJiFlLHRoaXMuZHJhcGVkUmVzb3VyY2VzLmF0dGFjaGVkPXRoaXMuYXR0YWNoZWQmJmUpfWdldCByZW5kZXJHcm91cCgpe3JldHVybiB0aGlzLmRyYXBlZFJlc291cmNlcy5yZW5kZXJHcm91cH1zZXQgcmVuZGVyR3JvdXAoZSl7dGhpcy5kcmFwZWRSZXNvdXJjZXMucmVuZGVyR3JvdXA9ZX1jcmVhdGVSZXNvdXJjZXMoKXt0aGlzLm9iamVjdDNkUmVzb3VyY2VzLmF0dGFjaGVkPSF0aGlzLl9pc0RyYXBlZCx0aGlzLmRyYXBlZFJlc291cmNlcy5hdHRhY2hlZD10aGlzLl9pc0RyYXBlZH1kZXN0cm95UmVzb3VyY2VzKCl7dGhpcy5vYmplY3QzZFJlc291cmNlcy5hdHRhY2hlZD0hMSx0aGlzLmRyYXBlZFJlc291cmNlcy5hdHRhY2hlZD0hMX1yZWNyZWF0ZSgpe3RoaXMub2JqZWN0M2RSZXNvdXJjZXMucmVjcmVhdGUoKSx0aGlzLmRyYXBlZFJlc291cmNlcy5yZWNyZWF0ZSgpfXJlY3JlYXRlR2VvbWV0cnkoKXt0aGlzLm9iamVjdDNkUmVzb3VyY2VzLnJlY3JlYXRlR2VvbWV0cnkoKSx0aGlzLmRyYXBlZFJlc291cmNlcy5yZWNyZWF0ZUdlb21ldHJ5KCl9ZGVzdHJveSgpe3RoaXMub2JqZWN0M2RSZXNvdXJjZXMuZGVzdHJveSgpLHRoaXMuZHJhcGVkUmVzb3VyY2VzLmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KCl9dXBkYXRlVmlzaWJpbGl0eShlKXt0aGlzLm9iamVjdDNkUmVzb3VyY2VzLnZpc2libGU9ZSx0aGlzLmRyYXBlZFJlc291cmNlcy52aXNpYmxlPWV9fWV4cG9ydHt0IGFzIEVuZ2luZVZpc3VhbEVsZW1lbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt3YXRjaCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtkIGFzIHQsYiBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9tYXQ0LmpzXCI7aW1wb3J0e2EgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0NGY2NC5qc1wiO2ltcG9ydHtvIGFzIHMsbiBhcyBhLGYgYXMgbyxjIGFzIG4saCBhcyBjLGcgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIGwsWiBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2MgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjNC5qc1wiO2ltcG9ydHtmIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzRmNjQuanNcIjtpbXBvcnR7c3YzZCBhcyBffWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdmVjdG9yU3RhY2tzLmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e0VuZ2luZVZpc3VhbEVsZW1lbnQgYXMgZn1mcm9tXCIuL0VuZ2luZVZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7ZHJhcGVkWiBhcyBnfWZyb21cIi4uLy4uL3RlcnJhaW4vT3ZlcmxheVJlbmRlcmVyLmpzXCI7aW1wb3J0e0F0dHJpYnV0ZSBhcyBNfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvQXR0cmlidXRlLmpzXCI7aW1wb3J0e0dlb21ldHJ5IGFzIE99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeS5qc1wiO2ltcG9ydHtjcmVhdGVQb2x5bGluZUdlb21ldHJ5IGFzIFJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeVV0aWwuanNcIjtpbXBvcnR7UmVuZGVyT2NjbHVkZWRGbGFnIGFzIGJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtSZW5kZXJHZW9tZXRyeSBhcyBqfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvUmVuZGVyR2VvbWV0cnkuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHl9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7Q29sb3JNYXRlcmlhbCBhcyBEfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvQ29sb3JNYXRlcmlhbC5qc1wiO2ltcG9ydHtSaWJib25MaW5lTWF0ZXJpYWwgYXMgd31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL1JpYmJvbkxpbmVNYXRlcmlhbC5qc1wiO2NsYXNzIHogZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX21heFNpemU9MCx0aGlzLl9wb3NpdGlvbj1sKCksdGhpcy5fdXA9bCgpLHRoaXMuX3JpZ2h0PWwoKSx0aGlzLl9yZW5kZXJPY2NsdWRlZD1iLk9jY2x1ZGVBbmRUcmFuc3BhcmVudCx0aGlzLl9jb2xvcj1tKDEsMCwwLDEpLHRoaXMuX291dGxpbmVDb2xvcj1tKDAsMCwwLDEpLHRoaXMuX291dGxpbmVTaXplPTAsdGhpcy5fc2l6ZT0zMix0aGlzLl9vdXRsaW5lUmVuZGVyT2NjbHVkZWQ9Yi5PcGFxdWUsdGhpcy5hcHBseVByb3BlcnRpZXMoZSl9Y3JlYXRlT2JqZWN0M0RSZXNvdXJjZUZhY3RvcnkoZSl7cmV0dXJue3ZpZXc6ZSxjcmVhdGVSZXNvdXJjZXM6ZT0+dGhpcy5fY3JlYXRlT2JqZWN0M0RSZXNvdXJjZXMoZSksZGVzdHJveVJlc291cmNlczooKT0+e30sY2FtZXJhQ2hhbmdlZDooKT0+dGhpcy5fdXBkYXRlVHJhbnNmb3JtT2JqZWN0M0QoKX19Y3JlYXRlRHJhcGVkUmVzb3VyY2VGYWN0b3J5KGUpe3JldHVybnt2aWV3OmUsY3JlYXRlUmVzb3VyY2VzOigpPT50aGlzLl9jcmVhdGVEcmFwZWRSZXNvdXJjZXMoKSxkZXN0cm95UmVzb3VyY2VzOmU9PnRoaXMuX2Rlc3Ryb3lEcmFwZWRSZXNvdXJjZXMoZSl9fWdldCByZW5kZXJPY2NsdWRlZCgpe3JldHVybiB0aGlzLl9yZW5kZXJPY2NsdWRlZH1zZXQgcmVuZGVyT2NjbHVkZWQoZSl7ZSE9PXRoaXMuX3JlbmRlck9jY2x1ZGVkJiYodGhpcy5fcmVuZGVyT2NjbHVkZWQ9ZSx0aGlzLl91cGRhdGVRdWFkTWF0ZXJpYWwoKSl9Z2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbG9yfXNldCBjb2xvcihlKXtoKHRoaXMuX2NvbG9yLGUpLHRoaXMuX3VwZGF0ZVF1YWRNYXRlcmlhbCgpfWdldCBvdXRsaW5lQ29sb3IoKXtyZXR1cm4gdGhpcy5fb3V0bGluZUNvbG9yfXNldCBvdXRsaW5lQ29sb3IoZSl7aCh0aGlzLl9vdXRsaW5lQ29sb3IsZSksdGhpcy5fdXBkYXRlT3V0bGluZU1hdGVyaWFsKCl9Z2V0IG91dGxpbmVTaXplKCl7cmV0dXJuIHRoaXMuX291dGxpbmVTaXplfXNldCBvdXRsaW5lU2l6ZShlKXtjb25zdCB0PTA9PT10aGlzLl9vdXRsaW5lU2l6ZSE9KDA9PT1lKTt0aGlzLl9vdXRsaW5lU2l6ZT1lLHQ/dGhpcy5yZWNyZWF0ZUdlb21ldHJ5KCk6dGhpcy5fdXBkYXRlT3V0bGluZU1hdGVyaWFsKCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fc2l6ZX1zZXQgc2l6ZShlKXtlIT09dGhpcy5fc2l6ZSYmKHRoaXMuX3NpemU9ZSx0aGlzLl91cGRhdGVUcmFuc2Zvcm0oKSl9Z2V0IG91dGxpbmVSZW5kZXJPY2NsdWRlZCgpe3JldHVybiB0aGlzLl9vdXRsaW5lUmVuZGVyT2NjbHVkZWR9c2V0IG91dGxpbmVSZW5kZXJPY2NsdWRlZChlKXt0aGlzLl9vdXRsaW5lUmVuZGVyT2NjbHVkZWQ9ZSx0aGlzLl91cGRhdGVPdXRsaW5lTWF0ZXJpYWwoKX1zZXQgZ2VvbWV0cnkoe3ByZXZpb3VzOmUsY2VudGVyOnQsbmV4dDpyfSl7dGhpcy5fbWF4U2l6ZT1NYXRoLm1pbihzKHQsZSkscyh0LHIpKS8zLGEodGhpcy5fdXAsbyh0aGlzLl91cCxlLHQpKSxhKHRoaXMuX3JpZ2h0LG8odGhpcy5fcmlnaHQscix0KSksbih0aGlzLl9wb3NpdGlvbix0KSx0aGlzLnJlY3JlYXRlR2VvbWV0cnkoKX1fY3JlYXRlT2JqZWN0M0RSZXNvdXJjZXMoZSl7Y29uc3QgdD1uZXcgRCh0aGlzLl9xdWFkTWF0ZXJpYWxQYXJhbWV0ZXJzKSxyPTA9PT10aGlzLl9vdXRsaW5lU2l6ZT92b2lkIDA6bmV3IHcodGhpcy5fb3V0bGluZU1hdGVyaWFsUGFyYW1ldGVycyk7cmV0dXJuIHRoaXMuX2NyZWF0ZU9iamVjdDNER2VvbWV0cmllcyhlLHQscikse3F1YWRNYXRlcmlhbDp0LG91dGxpbmVNYXRlcmlhbDpyLGZvckVhY2g6ZT0+e2UodCksciYmZShyKX19fV9jcmVhdGVPYmplY3QzREdlb21ldHJpZXMoZSx0LHIpe2lmKGModGhpcy5fdXAsZCkmJmModGhpcy5fcmlnaHQsZCkpcmV0dXJuO2NvbnN0IGk9dGhpcy5fY3JlYXRlR2VvbWV0cmllcyh0LHIpO2Zvcihjb25zdCBzIG9mIGkpZS5hZGRHZW9tZXRyeShzKTt0aGlzLl91cGRhdGVUcmFuc2Zvcm1PYmplY3QzRChlKX1fY3JlYXRlRHJhcGVkUmVzb3VyY2VzKCl7Y29uc3QgdD1uZXcgRCh0aGlzLl9xdWFkTWF0ZXJpYWxQYXJhbWV0ZXJzKSxyPTA9PT10aGlzLl9vdXRsaW5lU2l6ZT92b2lkIDA6bmV3IHcodGhpcy5fb3V0bGluZU1hdGVyaWFsUGFyYW1ldGVycyksaT10aGlzLl9jcmVhdGVHZW9tZXRyaWVzKHQscikubWFwKChlPT5uZXcgaihlKSkpO3RoaXMuX3NldFRyYW5zZm9ybURyYXBlZChpKTtyZXR1cm57cXVhZE1hdGVyaWFsOnQsb3V0bGluZU1hdGVyaWFsOnIsZ2VvbWV0cmllczppLHBpeGVsUmF0aW9IYW5kbGU6ZSgoKCk9PnRoaXMudmlldy5zdGF0ZS5jb250ZW50UGl4ZWxSYXRpbyksKCgpPT57dGhpcy5kcmFwZWRSZXNvdXJjZXMucmVjcmVhdGVHZW9tZXRyeSgpfSkpfX1fZGVzdHJveURyYXBlZFJlc291cmNlcyhlKXtlLnBpeGVsUmF0aW9IYW5kbGUucmVtb3ZlKCksZS5nZW9tZXRyaWVzPVtdfV9jcmVhdGVHZW9tZXRyaWVzKGUsdCl7Y29uc3R7dXA6cixyaWdodDppLGNvcm5lcjpzfT10aGlzLl9nZXRWZXJ0aWNlcygpLGE9dGhpcy5fcXVhZEdlb21ldHJ5RGF0YShyLGkscyxlKTtpZighdClyZXR1cm5bYV07cmV0dXJuW2EsUih0LFtyLHMsaV0pXX1fZ2V0VmVydGljZXMoKXtsZXQgZT10aGlzLl91cCx0PXRoaXMuX3JpZ2h0O2NvbnN0IHI9dShfLmdldCgpLGUsdCk7cmV0dXJuIHRoaXMuaXNEcmFwZWQmJihlPW4oXy5nZXQoKSxlKSx0PW4oXy5nZXQoKSx0KSxlWzJdPTAsdFsyXT0wLHJbMl09MCkse3VwOmUscmlnaHQ6dCxjb3JuZXI6cn19X3VwZGF0ZVRyYW5zZm9ybSgpe3RoaXMuaXNEcmFwZWQ/dGhpcy5kcmFwZWRSZXNvdXJjZXMucmVjcmVhdGVHZW9tZXRyeSgpOnRoaXMuX3VwZGF0ZVRyYW5zZm9ybU9iamVjdDNEKCl9X3VwZGF0ZVRyYW5zZm9ybU9iamVjdDNEKGU9dGhpcy5vYmplY3QzZFJlc291cmNlcy5vYmplY3Qpe2lmKCFlKXJldHVybjtjb25zdCBpPXRoaXMudmlldy5zdGF0ZS5jYW1lcmEscz10aGlzLl9zaXplKmkuY29tcHV0ZVNjcmVlblBpeGVsU2l6ZUF0KHRoaXMuX3Bvc2l0aW9uKSxhPU1hdGgubWluKHRoaXMuX21heFNpemUscyk7dChQLHRoaXMuX3Bvc2l0aW9uKSxyKFAsUCxbYSxhLGFdKSxlLnRyYW5zZm9ybWF0aW9uPVB9X3NldFRyYW5zZm9ybURyYXBlZChlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e3ZpZXc6e2Jhc2VtYXBUZXJyYWluOntvdmVybGF5TWFuYWdlcjppfSxzdGF0ZTp7Y29udGVudFBpeGVsUmF0aW86c319fT10aGlzLHtfcG9zaXRpb246YSxfc2l6ZTpvfT10aGlzLGM9bihfLmdldCgpLGEpO2NbMl09Zztjb25zdCB1PXY7dS5zcGF0aWFsUmVmZXJlbmNlPWkucmVuZGVyZXIuc3BhdGlhbFJlZmVyZW5jZSx1Lng9Y1swXSx1Lnk9Y1sxXTtjb25zdCBsPW8qKHRoaXMudmlldy5vdmVybGF5UGl4ZWxTaXplSW5NYXBVbml0cyh1KSpzKSxkPU1hdGgubWluKHRoaXMuX21heFNpemUsbCk7dChQLGMpLHIoUCxQLFtkLGQsMV0pO2Zvcihjb25zdCB0IG9mIGUpdC50cmFuc2Zvcm1hdGlvbj1QfV9xdWFkR2VvbWV0cnlEYXRhKGUsdCxyLGkpe3JldHVybiBuZXcgTyhpLFtbeS5QT1NJVElPTixuZXcgTShbMCwwLDAsLi4udCwuLi5lLC4uLnJdLFswLDEsMiwxLDIsM10sMywhMCldXSl9Z2V0IF9xdWFkTWF0ZXJpYWxQYXJhbWV0ZXJzKCl7cmV0dXJue2NvbG9yOnRoaXMuX2NvbG9yLGZvcmNlVHJhbnNwYXJlbnRNb2RlOiEwLHdyaXRlRGVwdGg6ITEscG9seWdvbk9mZnNldDohMCxyZW5kZXJPY2NsdWRlZDp0aGlzLl9yZW5kZXJPY2NsdWRlZCxpc0RlY29yYXRpb246dGhpcy5pc0RlY29yYXRpb259fV91cGRhdGVRdWFkTWF0ZXJpYWwoKXt0aGlzLm9iamVjdDNkUmVzb3VyY2VzLnJlc291cmNlcz8ucXVhZE1hdGVyaWFsLnNldFBhcmFtZXRlcnModGhpcy5fcXVhZE1hdGVyaWFsUGFyYW1ldGVycyksdGhpcy5kcmFwZWRSZXNvdXJjZXMucmVzb3VyY2VzPy5xdWFkTWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh0aGlzLl9xdWFkTWF0ZXJpYWxQYXJhbWV0ZXJzKX1nZXQgX291dGxpbmVNYXRlcmlhbFBhcmFtZXRlcnMoKXtyZXR1cm57Y29sb3I6dGhpcy5fb3V0bGluZUNvbG9yLHdpZHRoOnRoaXMuX291dGxpbmVTaXplLHJlbmRlck9jY2x1ZGVkOnRoaXMuX291dGxpbmVSZW5kZXJPY2NsdWRlZCxpc0RlY29yYXRpb246dGhpcy5pc0RlY29yYXRpb259fV91cGRhdGVPdXRsaW5lTWF0ZXJpYWwoKXt0aGlzLm9iamVjdDNkUmVzb3VyY2VzLnJlc291cmNlcz8ub3V0bGluZU1hdGVyaWFsPy5zZXRQYXJhbWV0ZXJzKHRoaXMuX291dGxpbmVNYXRlcmlhbFBhcmFtZXRlcnMpLHRoaXMuZHJhcGVkUmVzb3VyY2VzLnJlc291cmNlcz8ub3V0bGluZU1hdGVyaWFsPy5zZXRQYXJhbWV0ZXJzKHRoaXMuX291dGxpbmVNYXRlcmlhbFBhcmFtZXRlcnMpfX1jb25zdCBQPWkoKSx2PXAoMCwwLHZvaWQgMCxudWxsKTtleHBvcnR7eiBhcyBSaWdodEFuZ2xlUXVhZFZpc3VhbEVsZW1lbnR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt3YXRjaCBhcyBlLGluaXRpYWwgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7Q29udGVudE9iamVjdFR5cGUgYXMgcn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0NvbnRlbnRPYmplY3RUeXBlLmpzXCI7aW1wb3J0e09iamVjdDNEIGFzIHR9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9PYmplY3QzRC5qc1wiO2ltcG9ydHtVcGRhdGVQb2xpY3kgYXMgb31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1VwZGF0ZVBvbGljeS5qc1wiO2ltcG9ydHtXZWJHTExheWVyIGFzIGl9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9XZWJHTExheWVyLmpzXCI7Y2xhc3MgY3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9yZXNvdXJjZUZhY3Rvcnk9ZSx0aGlzLl9yZXNvdXJjZXM9bnVsbCx0aGlzLl92aXNpYmxlPSEwLHRoaXMuX2F0dGFjaGVkPSExfWRlc3Ryb3koKXt0aGlzLl9kZXN0cm95UmVzb3VyY2VzKCl9Z2V0IG9iamVjdCgpe3JldHVybiBudWxsIT10aGlzLl9yZXNvdXJjZXM/dGhpcy5fcmVzb3VyY2VzLm9iamVjdDpudWxsfWdldCByZXNvdXJjZXMoKXtyZXR1cm4gbnVsbCE9dGhpcy5fcmVzb3VyY2VzP3RoaXMuX3Jlc291cmNlcy5leHRlcm5hbDpudWxsfWdldCB2aXNpYmxlKCl7cmV0dXJuIHRoaXMuX3Zpc2libGV9c2V0IHZpc2libGUoZSl7ZSE9PXRoaXMuX3Zpc2libGUmJih0aGlzLl92aXNpYmxlPWUsdGhpcy5fc3luY1Zpc2libGUoKSl9Z2V0IGF0dGFjaGVkKCl7cmV0dXJuIHRoaXMuX2F0dGFjaGVkfXNldCBhdHRhY2hlZChlKXtlIT09dGhpcy5fYXR0YWNoZWQmJih0aGlzLl9hdHRhY2hlZD1lLHRoaXMuX2NyZWF0ZU9yRGVzdHJveVJlc291cmNlcygpKX1yZWNyZWF0ZSgpe3RoaXMuYXR0YWNoZWQmJnRoaXMuX2NyZWF0ZVJlc291cmNlcygpfXJlY3JlYXRlR2VvbWV0cnkoKXtpZighdGhpcy5fcmVzb3VyY2VGYWN0b3J5LnJlY3JlYXRlR2VvbWV0cnkpcmV0dXJuIHZvaWQgdGhpcy5yZWNyZWF0ZSgpO2NvbnN0IGU9dGhpcy5fcmVzb3VyY2VGYWN0b3J5LnZpZXcuX3N0YWdlO2lmKG51bGw9PXRoaXMuX3Jlc291cmNlc3x8IWUpcmV0dXJuO2NvbnN0IHM9dGhpcy5fcmVzb3VyY2VzLm9iamVjdDt0aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWwuZm9yRWFjaCgocz0+e3MudHlwZSE9PXIuTWVzaCYmcy50eXBlIT09ci5MaW5lJiZzLnR5cGUhPT1yLlBvaW50fHxlLnJlbW92ZShzKX0pKSxzLnJlbW92ZUFsbEdlb21ldHJpZXMoKSx0aGlzLl9yZXNvdXJjZUZhY3RvcnkucmVjcmVhdGVHZW9tZXRyeSh0aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWwscyx0aGlzLl9yZXNvdXJjZXMubGF5ZXIpLHRoaXMuX3Jlc291cmNlcy5leHRlcm5hbC5mb3JFYWNoKChzPT57cy50eXBlIT09ci5NZXNoJiZzLnR5cGUhPT1yLkxpbmUmJnMudHlwZSE9PXIuUG9pbnR8fGUuYWRkKHMpfSkpfV9jcmVhdGVPckRlc3Ryb3lSZXNvdXJjZXMoKXt0aGlzLl9hdHRhY2hlZD90aGlzLl9yZXNvdXJjZXN8fHRoaXMuX2NyZWF0ZVJlc291cmNlcygpOnRoaXMuX2Rlc3Ryb3lSZXNvdXJjZXMoKX1fY3JlYXRlUmVzb3VyY2VzKCl7dGhpcy5fZGVzdHJveVJlc291cmNlcygpO2NvbnN0IGM9dGhpcy5fcmVzb3VyY2VGYWN0b3J5LGE9Yy52aWV3LGg9YS5fc3RhZ2U7aWYoIWgpcmV0dXJuO2NvbnN0IHU9bmV3IGkoaCx7cGlja2FibGU6ITEsdXBkYXRlUG9saWN5Om8uU1lOQ30pLGw9bmV3IHQoe2Nhc3RTaGFkb3c6ITF9KSxuPWMuY3JlYXRlUmVzb3VyY2VzKGwsdSk7bi5mb3JFYWNoKChlPT57aC5hZGQoZSksZS50eXBlPT09ci5UZXh0dXJlJiZlLmxvYWQoaC5yZW5kZXJWaWV3LnJlbmRlcmluZ0NvbnRleHQpfSkpLGguYWRkKGwpLHUuYWRkKGwpO2NvbnN0IF89Yy5jYW1lcmFDaGFuZ2VkLHk9Xz9lKCgoKT0+YS5zdGF0ZS5jYW1lcmEpLChlPT5fKGUpKSxzKTpudWxsO3RoaXMuX3Jlc291cmNlcz17bGF5ZXI6dSxvYmplY3Q6bCxleHRlcm5hbDpuLGNhbWVyYUhhbmRsZTp5fSx0aGlzLl9zeW5jVmlzaWJsZSgpfV9kZXN0cm95UmVzb3VyY2VzKCl7aWYobnVsbD09dGhpcy5fcmVzb3VyY2VzKXJldHVybjtjb25zdCBlPXRoaXMuX3Jlc291cmNlRmFjdG9yeS52aWV3Ll9zdGFnZTtlJiYoZS5yZW1vdmUodGhpcy5fcmVzb3VyY2VzLm9iamVjdCksdGhpcy5fcmVzb3VyY2VzLmxheWVyLmRlc3Ryb3koKSx0aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWwuZm9yRWFjaCgocz0+e2UucmVtb3ZlKHMpLHMudHlwZT09PXIuVGV4dHVyZSYmcy51bmxvYWQoKX0pKSksdGhpcy5fcmVzb3VyY2VzLm9iamVjdC5kaXNwb3NlKCksdGhpcy5fcmVzb3VyY2VzLmNhbWVyYUhhbmRsZT8ucmVtb3ZlKCksdGhpcy5fcmVzb3VyY2VGYWN0b3J5LmRlc3Ryb3lSZXNvdXJjZXModGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsKSx0aGlzLl9yZXNvdXJjZXM9bnVsbH1fc3luY1Zpc2libGUoKXtudWxsIT10aGlzLl9yZXNvdXJjZXMmJih0aGlzLl9yZXNvdXJjZXMub2JqZWN0LnZpc2libGU9dGhpcy5fdmlzaWJsZSl9fWV4cG9ydHtjIGFzIFZpc3VhbEVsZW1lbnRSZXNvdXJjZXN9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9