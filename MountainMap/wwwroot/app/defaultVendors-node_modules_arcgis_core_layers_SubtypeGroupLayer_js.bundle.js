"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_SubtypeGroupLayer_js"],{

/***/ "./node_modules/@arcgis/core/layers/SubtypeGroupLayer.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/SubtypeGroupLayer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ae)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/loadAll.js */ "./node_modules/@arcgis/core/core/loadAll.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/APIKeyMixin.js */ "./node_modules/@arcgis/core/layers/mixins/APIKeyMixin.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_EditBusLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/EditBusLayer.js */ "./node_modules/@arcgis/core/layers/mixins/EditBusLayer.js");
/* harmony import */ var _mixins_FeatureLayerBase_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/FeatureLayerBase.js */ "./node_modules/@arcgis/core/layers/mixins/FeatureLayerBase.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/featureLayerUtils.js");
/* harmony import */ var _support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/fieldProperties.js */ "./node_modules/@arcgis/core/layers/support/fieldProperties.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./support/SubtypeSublayer.js */ "./node_modules/@arcgis/core/layers/support/SubtypeSublayer.js");
/* harmony import */ var _support_TimeInfo_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./support/TimeInfo.js */ "./node_modules/@arcgis/core/layers/support/TimeInfo.js");
/* harmony import */ var _support_versionUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/versionUtils.js */ "./node_modules/@arcgis/core/layers/support/versionUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../webdoc/interfaces.js */ "./node_modules/@arcgis/core/webdoc/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const re="SubtypeGroupLayer",te="esri.layers.SubtypeGroupLayer";function se(e,r){return new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${r}`,{layer:e})}const ie=(0,_support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_32__.defineFieldProperties)();let oe=class extends((0,_mixins_FeatureLayerBase_js__WEBPACK_IMPORTED_MODULE_23__.FeatureLayerBase)((0,_mixins_EditBusLayer_js__WEBPACK_IMPORTED_MODULE_22__.EditBusLayer)((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_20__.BlendLayer)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_28__.TemporalLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_27__.ScaleRangeLayer)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_26__.RefreshableLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_19__.ArcGISService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_24__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_25__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.MultiOriginJSONMixin)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_21__.CustomParametersMixin)((0,_mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_18__.APIKeyMixin)((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__.ClonableMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_17__["default"])))))))))))))){constructor(...e){super(...e),this._sublayersCollectionChanged=!1,this._sublayerLookup=new Map,this.fields=null,this.fieldsIndex=null,this.outFields=null,this.sublayers=new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_34__["default"])),this.timeInfo=null,this.title="Layer",this.type="subtype-group",this._debouncedSaveOperations=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.debounce)((async(e,r,t)=>{const{save:s,saveAs:i}=await __webpack_require__.e(/*! import() */ "defaultVendors-node_modules_arcgis_core_layers_save_featureLayerUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./save/featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/save/featureLayerUtils.js"));switch(e){case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_38__.SaveOperationType.SAVE:return s(this,r);case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_38__.SaveOperationType.SAVE_AS:return i(this,t,r)}})),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.sublayers),((e,r)=>this._handleSublayersChange(e,r)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.sync))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null,t=this.loadFromPortal({supportedTypes:["Feature Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError).then((async()=>{if(!this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:missing-url-or-source","SubtypeGroupLayer must be created with either a url or a portal item");if(null==this.layerId)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:missing-layerid","layerId is required for a SubtypeGroupLayer created with url");return this._initLayerProperties(await this.createGraphicsSource(r))})).then((()=>(0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.ensureLayerCredential)(this,"load",e)));return this.addResolvingPromise(t),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&null!=this.capabilities&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}get effectiveEditingEnabled(){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.computeEffectiveEditingEnabled)(this)}get parsedUrl(){const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.urlToObject)(this.url);return null!=e&&null!=this.layerId&&(e.path=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.join)(e.path,this.layerId.toString())),e}set source(e){this._get("source")!==e&&this._set("source",e)}readTitleFromService(e,{name:r}){return this.url?(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_29__.titleFromUrlAndName)(this.url,r):r}async addAttachment(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.addAttachment)(this,e,r,re)}async updateAttachment(e,r,t){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.updateAttachment)(this,e,r,t,re)}async applyEdits(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.applyEdits)(this,e,r)}on(e,r){return super.on(e,r)}async createGraphicsSource(e){const{default:r}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOrAbort)(Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_rest_query_operations_pbfQueryUtils_js"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_rest_query_executeForCount_js-node_modules_arcgis_cor-6232b1"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_layers_graphics_editingSupport_js"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_layers_graphics_sources_FeatureLayerSource_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ./graphics/sources/FeatureLayerSource.js */ "./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js")),e);return new r({layer:this}).load({signal:e})}createQuery(){const e=(0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.createQuery)(this),r=this.sublayers.map((e=>e.subtypeCode));return e.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_8__.sqlAnd)(`${this.subtypeField} IN (${r.join(",")})`,this.definitionExpression),e}async deleteAttachments(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.deleteAttachments)(this,e,r,re)}async fetchRecomputedExtents(e){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.fetchRecomputedExtents)(this,e,re)}findSublayerForFeature(e){const r=this.fieldsIndex.get(this.subtypeField),t=e.attributes[r.name];return this.findSublayerForSubtypeCode(t)}findSublayerForSubtypeCode(e){return this._sublayerLookup.get(e)}getFieldDomain(e,r){return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}loadAll(){return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__.loadAll)(this,(e=>{e(this.sublayers)}))}async queryAttachments(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.queryAttachments)(this,e,r,re)}async queryFeatures(e,r){const t=await this.load(),s=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_37__["default"].from(e)??t.createQuery(),i=s.outFields??[];i.includes(this.subtypeField)||(i.push(this.subtypeField),s.outFields=i);const o=await t.source.queryFeatures(s,r);if(o?.features)for(const a of o.features)a.layer=a.sourceLayer=this.findSublayerForFeature(a);return o}async queryObjectIds(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.queryObjectIds)(this,e,r,re)}async queryFeatureCount(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.queryFeatureCount)(this,e,r,re)}async queryExtent(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.queryExtent)(this,e,r,re)}async queryRelatedFeatures(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.queryRelatedFeatures)(this,e,r,re)}async queryRelatedFeaturesCount(e,r){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.queryRelatedFeaturesCount)(this,e,r,re)}async save(e){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_38__.SaveOperationType.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_38__.SaveOperationType.SAVE_AS,r,e)}write(e,r){const{origin:t,layerContainerType:i,messages:o}=r;if(this.isTable){if("web-scene"===t||"web-map"===t&&"tables"!==i)return o?.push(se(this,"using a table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===t&&"tables"===i)return o?.push(se(this,"using a non-table source cannot be written to tables in web maps")),null;return this.sublayers?.length?super.write(e,r):(o?.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("web-document-write:invalid-property",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' has invalid value for 'sublayers' property. 'sublayers' collection should contain at least one sublayer`,{layer:this})),null)}serviceSupportsSpatialReference(e){return!!this.loaded&&(0,_support_versionUtils_js__WEBPACK_IMPORTED_MODULE_36__.serviceSupportsSpatialReference)(this,e)}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}async _initLayerProperties(e){this._set("source",e);const{sourceJSON:r}=e;if(r&&(this.sourceJSON=r,this.read(r,{origin:"service",url:this.parsedUrl})),this.isTable)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:unsupported-source","SubtypeGroupLayer cannot be created using a layer with table source");if(!this.subtypes?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("subtype-grouplayer:missing-subtypes","SubtypeGroupLayer must be created using a layer with subtypes");this._verifyFields(),(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_33__.fixTimeInfoFields)(this.timeInfo,this.fieldsIndex)}async hasDataChanged(){return (0,_support_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_31__.hasDataChanged)(this)}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("SubtypeGroupLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||-1!==e.search(/\/FeatureServer\//i)||this.fields?.some((e=>"geometry"===e.type))||console.log("SubtypeGroupLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null})),this.removeHandles("sublayers-owner"),this._sublayerLookup.clear()),e&&(e.forEach((e=>{e.parent=this,this._sublayerLookup.set(e.subtypeCode,e)})),this._sublayersCollectionChanged=!1,this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,this._sublayerLookup.set(e.subtypeCode,e)})),e.on("after-remove",(({item:e})=>{e.parent=null,this._sublayerLookup.delete(e.subtypeCode)})),e.on("after-changes",(()=>{this._sublayersCollectionChanged=!0}))],"sublayers-owner"))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],oe.prototype,"createQueryVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],oe.prototype,"editingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],oe.prototype,"effectiveEditingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({...ie.fields,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],oe.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)(ie.fieldsIndex)],oe.prototype,"fieldsIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_30__.id)],oe.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:["show","hide","hide-children"],json:{origins:{"portal-item":{read:!1,write:!1}}}})],oe.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({value:"SubtypeGroupLayer",type:["SubtypeGroupLayer"],json:{origins:{"portal-item":{name:"layerType",write:{enabled:!0,ignoreOrigin:!0}}}}})],oe.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)(ie.outFields)],oe.prototype,"outFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],oe.prototype,"parsedUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({clonable:!1})],oe.prototype,"source",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_34__["default"]),json:{origins:{service:{read:{source:"subtypes",reader:(e,r,s)=>{const i=e.map((({code:e})=>{const t=new _support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_34__["default"]({subtypeCode:e});return t.read(r,s),t}));return new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_support_SubtypeSublayer_js__WEBPACK_IMPORTED_MODULE_34__["default"]))(i)}}}},name:"layers",write:{overridePolicy(e,r,t){const s=this.originOf("sublayers"),i=_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__.OriginId.PORTAL_ITEM;let o=!0;if((0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__.nameToId)(s)===i&&(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__.nameToId)(t.origin)>i){const r=e.some((e=>e.hasUserOverrides()));o=this._sublayersCollectionChanged||r}return{enabled:o,ignoreOrigin:!0}}}}})],oe.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:_support_TimeInfo_js__WEBPACK_IMPORTED_MODULE_35__["default"]})],oe.prototype,"timeInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({json:{origins:{"portal-item":{write:{enabled:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}}}})],oe.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_14__.reader)("service","title",["name"])],oe.prototype,"readTitleFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({json:{read:!1}})],oe.prototype,"type",void 0),oe=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)(te)],oe);const ae=oe;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/SubtypeSublayer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/SubtypeSublayer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Z)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../renderers/ClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js");
/* harmony import */ var _renderers_DictionaryRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../renderers/DictionaryRenderer.js */ "./node_modules/@arcgis/core/renderers/DictionaryRenderer.js");
/* harmony import */ var _renderers_DotDensityRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderers/DotDensityRenderer.js */ "./node_modules/@arcgis/core/renderers/DotDensityRenderer.js");
/* harmony import */ var _renderers_HeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../renderers/HeatmapRenderer.js */ "./node_modules/@arcgis/core/renderers/HeatmapRenderer.js");
/* harmony import */ var _renderers_PieChartRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../renderers/PieChartRenderer.js */ "./node_modules/@arcgis/core/renderers/PieChartRenderer.js");
/* harmony import */ var _renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../renderers/Renderer.js */ "./node_modules/@arcgis/core/renderers/Renderer.js");
/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../renderers/SimpleRenderer.js */ "./node_modules/@arcgis/core/renderers/SimpleRenderer.js");
/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../renderers/UniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js");
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _core_accessorSupport_extensions_serializableProperty_reader_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../core/accessorSupport/extensions/serializableProperty/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js");
/* harmony import */ var _form_FormTemplate_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../form/FormTemplate.js */ "./node_modules/@arcgis/core/form/FormTemplate.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./featureLayerUtils.js */ "./node_modules/@arcgis/core/layers/support/featureLayerUtils.js");
/* harmony import */ var _FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./FeatureTemplate.js */ "./node_modules/@arcgis/core/layers/support/FeatureTemplate.js");
/* harmony import */ var _fieldProperties_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./fieldProperties.js */ "./node_modules/@arcgis/core/layers/support/fieldProperties.js");
/* harmony import */ var _fieldUtils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _LabelClass_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./LabelClass.js */ "./node_modules/@arcgis/core/layers/support/LabelClass.js");
/* harmony import */ var _labelingInfo_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./labelingInfo.js */ "./node_modules/@arcgis/core/layers/support/labelingInfo.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../symbols/support/defaults.js */ "./node_modules/@arcgis/core/symbols/support/defaults.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const G=["charts","editingEnabled","formTemplate","labelsVisible","labelingInfo","legendEnabled","minScale","maxScale","opacity","popupEnabled","popupTemplate","renderer","subtypeCode","templates","title","visible"],N={key:"type",base:_renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_7__["default"],errorContext:"renderer",typeMap:{simple:_renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_8__["default"],"unique-value":_renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_9__["default"],"class-breaks":_renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"]}},$=(0,_fieldProperties_js__WEBPACK_IMPORTED_MODULE_32__.defineFieldProperties)(),k=(0,_core_accessorSupport_extensions_serializableProperty_reader_js__WEBPACK_IMPORTED_MODULE_27__.createTypeReader)({types:N});let M=0;function _(e){const t=e.json.write;return"object"==typeof t?t.ignoreOrigin=!0:e.json.write={ignoreOrigin:!0},e}function B(e){return new _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_8__["default"]({symbol:H(e)})}function H(e){switch(e){case"point":case"multipoint":return _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_38__.defaultPointSymbol2D.clone();case"polyline":return _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_38__.defaultPolylineSymbol2D.clone();case"polygon":case"multipatch":return _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_38__.defaultPolygonSymbol2D.clone();default:return null}}function Q(e,t){return!!t&&("unique-value"===e?.type&&"string"==typeof e.field&&e.field.toLowerCase()===t.toLowerCase()&&!e.field2&&!e.field3&&!e.valueExpression)}function z(e,t){return null==e?null:t.subtypes?.find((t=>t.code===e))}function J(e,t){let r=null;switch(t.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":r="point";break;case"esriGeometryPolyline":r="line";break;case"esriGeometryPolygon":case"esriGeometryMultiPatch":r="polygon";break;default:t.type,r=null}const i={},o=z(e,t);if(null!=o){const{defaultValues:e}=o;for(const t in e)i[t]=e[t]}return i[t.subtypeField]=e,new _FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_31__["default"]({name:"New Feature",drawingTool:r,prototype:{attributes:i}})}const K="esri.layers.support.SubtypeSublayer";let W=class extends((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_18__.MultiOriginJSONMixin)((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_12__.ClonableMixin)((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_15__.IdentifiableMixin)(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_17__["default"])))){constructor(e){super(e),this.charts=null,this.editingEnabled=!0,this.fieldOverrides=null,this.fieldsIndex=null,this.formTemplate=null,this.id=`${Date.now().toString(16)}-subtype-sublayer-${M++}`,this.type="subtype-sublayer",this.labelsVisible=!0,this.labelingInfo=null,this.layerType="ArcGISFeatureLayer",this.legendEnabled=!0,this.listMode="show",this.minScale=0,this.maxScale=0,this.opacity=1,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.subtypeCode=null,this.templates=null,this.title=null,this.visible=!0}get capabilities(){return this.parent?.capabilities}get effectiveCapabilities(){return this.parent?.effectiveCapabilities}get effectiveEditingEnabled(){const{parent:e}=this;return e?e.effectiveEditingEnabled&&this.editingEnabled:this.editingEnabled}get elevationInfo(){return this.parent?.elevationInfo}writeFieldOverrides(e,t,r){const{fields:i,parent:o}=this;let n;if(i){n=[];let e=0;i.forEach((({name:t,alias:r,editable:i,visible:s})=>{if(!s)return;const l=o?.fields?.find((e=>e.name===t));if(!l)return;const a={name:t};let p=!1;r!==l.alias&&(a.alias=r,p=!0),i!==l.editable&&(a.editable=i,p=!0),n.push(a),p&&e++})),0===e&&n.length===i.length&&(n=null)}else n=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_16__.clone)(e);n?.length&&(0,_core_object_js__WEBPACK_IMPORTED_MODULE_19__.setDeepValue)(r,n,t)}get fields(){const{parent:e,fieldOverrides:t,subtypeCode:r}=this,i=e?.fields;if(!e||!i?.length)return null;const{subtypes:o,subtypeField:n}=e,s=o?.find((e=>e.code===r)),l=s?.defaultValues,a=s?.domains,p=[];for(const d of i){const e=d.clone(),{name:i}=e,o=t?.find((e=>e.name===i));if(e.visible=!t||!!o,o){const{alias:t,editable:r}=o;t&&(e.alias=t),!1===r&&(e.editable=!1)}const s=l?.[i]??null;e.defaultValue=i===n?r:s;const u=a?.[i]??null;e.domain=i===n?null:u?"inherited"===u.type?e.domain:u.clone():null,p.push(e)}return p}get floorInfo(){return this.parent?.floorInfo}get geometryType(){return this.parent?.geometryType}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}get objectIdField(){return this.parent||_core_Logger_js__WEBPACK_IMPORTED_MODULE_11__["default"].getLogger(K).error(Y("objectIdField")),this.parent?.objectIdField}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){(0,_fieldUtils_js__WEBPACK_IMPORTED_MODULE_33__.fixRendererFields)(e,this.fieldsIndex),this._override("renderer",e)}get renderer(){if(this._isOverridden("renderer"))return this._get("renderer");const{parent:e}=this;return e&&!e.isTable&&"mesh"!==e.geometryType?B(e.geometryType):null}readRendererFromService(e,t,r){if("Table"===t.type)return null;const i=t.drawingInfo?.renderer,n=k(i,t,r);let s;const{subtypeCode:l}=this;if(null!=l&&Q(n,t.subtypeField)){const e=n.uniqueValueInfos?.find((({value:e})=>(e="number"==typeof e?String(e):e)===String(l)));e&&(s=new _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_8__["default"]({symbol:e.symbol}))}else"simple"!==n?.type||n.visualVariables?.length||(s=n);return s}readRenderer(e,t,r){const i=t?.layerDefinition?.drawingInfo?.renderer;if(!i)return;const o=i.visualVariables?.some((e=>"rotationInfo"!==e.type));return o?void 0:k(i,t,r)||void 0}get spatialReference(){return this.parent?.spatialReference}readTemplatesFromService(e,t){return[J(this.subtypeCode,t)]}readTitleFromService(e,t){const r=z(this.subtypeCode,t);return null!=r?r.name:null}get url(){return this.parent?.url}get userHasUpdateItemPrivileges(){return!!this.parent?.userHasUpdateItemPrivileges}async addAttachment(e,t){const{parent:r}=this;if(!r)throw Y("addAttachment");if(e.getAttribute(r.subtypeField)!==this.subtypeCode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__["default"]("subtype-sublayer:addAttachment","The feature provided does not belong to this SubtypeSublayer");return r.addAttachment(e,t)}async updateAttachment(e,t,r){const{parent:i}=this;if(!i)throw Y("updateAttachment");if(e.getAttribute(i.subtypeField)!==this.subtypeCode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__["default"]("subtype-sublayer:updateAttachment","The feature provided does not belong to this SubtypeSublayer");return i.updateAttachment(e,t,r)}async deleteAttachments(e,t){const{parent:r}=this;if(!r)throw Y("deleteAttachments");if(e.getAttribute(r.subtypeField)!==this.subtypeCode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__["default"]("subtype-sublayer:deleteAttachments","The feature provided does not belong to this SubtypeSublayer");return r.deleteAttachments(e,t)}async applyEdits(e,t){if(!this.parent)throw Y("applyEdits");return this.parent.applyEdits(e,t)}createPopupTemplate(e){let t=this;const{parent:r,fields:i,title:o}=this;if(r){const{displayField:e,editFieldsInfo:n,objectIdField:s}=r;t={displayField:e,editFieldsInfo:n,fields:i,objectIdField:s,title:o}}return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_37__.createPopupTemplate)(t,e)}createQuery(){if(!this.parent)throw Y("createQuery");const e=(0,_featureLayerUtils_js__WEBPACK_IMPORTED_MODULE_30__.createQuery)(this.parent),t=`${this.parent.subtypeField}=${this.subtypeCode}`;return e.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_20__.sqlAnd)(t,this.parent.definitionExpression),e}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e){return this._getLayerDomain(e)}hasUserOverrides(){return G.some((e=>this.originIdOf(e)===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_26__.OriginId.USER))}async queryAttachments(e,t){const r=await this.load();if(!r.parent)throw Y("queryAttachments");const i=e.clone();return i.where=X(i.where,r.parent.subtypeField,r.subtypeCode),r.parent.queryAttachments(e,t)}async queryFeatures(e,t){const r=await this.load();if(!r.parent)throw Y("queryFeatures");const i=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_36__["default"].from(e)??r.createQuery();return null!=e&&(i.where=X(i.where,r.parent.subtypeField,r.subtypeCode)),r.parent.queryFeatures(i,t)}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"capabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"effectiveCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({json:{write:{ignoreOrigin:!0}}})],W.prototype,"charts",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:Boolean,nonNullable:!0,json:{name:"enableEditing",write:{ignoreOrigin:!0}}})],W.prototype,"editingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:Boolean,readOnly:!0})],W.prototype,"effectiveEditingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"elevationInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({json:{name:"layerDefinition.fieldOverrides",origins:{service:{read:!1}},write:{ignoreOrigin:!0,allowNull:!0}}})],W.prototype,"fieldOverrides",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_25__.writer)("fieldOverrides")],W.prototype,"writeFieldOverrides",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({...$.fields,readOnly:!0,json:{read:!1}})],W.prototype,"fields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)($.fieldsIndex)],W.prototype,"fieldsIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"floorInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:_form_FormTemplate_js__WEBPACK_IMPORTED_MODULE_28__["default"],json:{name:"formInfo",write:{ignoreOrigin:!0}}})],W.prototype,"formTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:String,clonable:!1,readOnly:!0,json:{origins:{service:{read:!1}},write:{ignoreOrigin:!0}}})],W.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"geometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)(_((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_16__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.labelsVisible)))],W.prototype,"labelsVisible",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:[_LabelClass_js__WEBPACK_IMPORTED_MODULE_34__["default"]],json:{name:"layerDefinition.drawingInfo.labelingInfo",origins:{service:{read:!1}},read:{reader:_labelingInfo_js__WEBPACK_IMPORTED_MODULE_35__.reader},write:{ignoreOrigin:!0}}})],W.prototype,"labelingInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:["ArcGISFeatureLayer"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],W.prototype,"layerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)(_((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_16__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.legendEnabled)))],W.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:["show","hide"]})],W.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)((()=>{const e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_16__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.minScale);return e.json.origins.service.read=!1,_(e)})())],W.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)((()=>{const e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_16__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.maxScale);return e.json.origins.service.read=!1,_(e)})())],W.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0})],W.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"objectIdField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{write:{ignoreOrigin:!0}}})],W.prototype,"opacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({clonable:!1})],W.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)(_((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_16__.clone)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.popupEnabled)))],W.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{name:"popupInfo",write:{ignoreOrigin:!0}}})],W.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0})],W.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({types:N,json:{write:{target:"layerDefinition.drawingInfo.renderer",ignoreOrigin:!0}}})],W.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__.reader)("service","renderer",["drawingInfo.renderer","subtypeField","type"])],W.prototype,"readRendererFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__.reader)("renderer",["layerDefinition.drawingInfo.renderer"])],W.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:Number,json:{origins:{service:{read:!1}},write:{ignoreOrigin:!0}}})],W.prototype,"subtypeCode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:[_FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_31__["default"]],json:{name:"layerDefinition.templates",write:{ignoreOrigin:!0}}})],W.prototype,"templates",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__.reader)("service","templates",["geometryType","subtypeField","subtypes","type"])],W.prototype,"readTemplatesFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],W.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__.reader)("service","title",["subtypes"])],W.prototype,"readTitleFromService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0,json:{read:!1}})],W.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({readOnly:!0})],W.prototype,"userHasUpdateItemPrivileges",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_21__.property)({type:Boolean,nonNullable:!0,json:{name:"visibility",write:{ignoreOrigin:!0}}})],W.prototype,"visible",void 0),W=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_24__.subclass)(K)],W);const X=(e,t,r)=>{const i=new RegExp(`${t}\\s*=\\s*\\d+`),o=`${t}=${r}`,n=e??"";return i.test(n)?n.replace(i,o):(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_20__.sqlAnd)(o,n)},Y=e=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__["default"](`This sublayer must have a parent SubtypeGroupLayer in order to use ${e}`),Z=W;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19TdWJ0eXBlR3JvdXBMYXllcl9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2k5RSxnRUFBZ0UsaUJBQWlCLFdBQVcsc0RBQUMsK0JBQStCLFFBQVEsSUFBSSxLQUFLLGFBQWEsZ0JBQWdCLElBQUksRUFBRSxHQUFHLFFBQVEsRUFBRSxTQUFTLG1GQUFDLEdBQUcscUJBQXFCLDhFQUFDLENBQUMsc0VBQUMsQ0FBQyxrRUFBQyxDQUFDLHdFQUFDLENBQUMsNEVBQUMsQ0FBQyw4RUFBQyxDQUFDLHdFQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHFGQUFDLENBQUMsd0ZBQUMsQ0FBQyxvRUFBQyxDQUFDLGdFQUFDLENBQUMsa0RBQUMsZUFBZSxrQkFBa0IsMkpBQTJKLDJEQUFDLFFBQVEsb0VBQUMsaUdBQWlHLCtEQUFDLGlCQUFpQixNQUFNLGdCQUFnQixPQUFPLHdRQUFxQyxDQUFDLFVBQVUsS0FBSyxxRUFBRSx1QkFBdUIsS0FBSyxxRUFBRSw2QkFBNkIsbUJBQW1CLDZEQUFDLGdFQUFnRSx3REFBQyxHQUFHLFVBQVUsdUJBQXVCLHVCQUF1QiwwQkFBMEIsV0FBVyxHQUFHLFFBQVEscURBQXFELG1DQUFtQyxVQUFVLG9FQUFDLGtCQUFrQix1QkFBdUIsc0RBQUMsb0hBQW9ILGdDQUFnQyxzREFBQyxzR0FBc0cscUVBQXFFLGFBQWEscUZBQUMsa0JBQWtCLHlEQUF5RCx5QkFBeUIsNFdBQTRXLHFCQUFxQix5SEFBeUgsOEJBQThCLE9BQU8sOEZBQUMsT0FBTyxnQkFBZ0IsUUFBUSw4REFBQyxXQUFXLDRDQUE0Qyx1REFBQyxvQ0FBb0MsY0FBYywrQ0FBK0Msd0JBQXdCLE9BQU8sRUFBRSxnQkFBZ0IsZ0ZBQUMsZUFBZSx5QkFBeUIsT0FB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QkFBMkIsdURBQUMsRUFBRSx1RkFBQyxFQUFFLFlBQVksbURBQW1ELHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxrQ0FBa0MseUJBQXlCLGtCQUFrQixtQ0FBbUMsdURBQUMsRUFBRSx1RkFBQyxRQUFRLGtCQUFrQixzQkFBc0IsRUFBRSxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsVUFBVSxnQ0FBZ0MscURBQUMsTUFBTSxVQUFVLHVEQUFDLHVFQUF1RSxFQUFFLE9BQTRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9TdWJ0eXBlR3JvdXBMYXllci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvU3VidHlwZVN1YmxheWVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7Q2xvbmFibGVNaXhpbiBhcyByfWZyb21cIi4uL2NvcmUvQ2xvbmFibGUuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2xvYWRBbGwgYXMgaX1mcm9tXCIuLi9jb3JlL2xvYWRBbGwuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgb31mcm9tXCIuLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgYSx0aHJvd0lmQWJvcnRFcnJvciBhcyBuLHdoZW5PckFib3J0IGFzIHV9ZnJvbVwiLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbCxzeW5jIGFzIHB9ZnJvbVwiLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3NxbEFuZCBhcyB5fWZyb21cIi4uL2NvcmUvc3FsLmpzXCI7aW1wb3J0e3VybFRvT2JqZWN0IGFzIGQsam9pbiBhcyBjfWZyb21cIi4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBtfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGZ9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtPcmlnaW5JZCBhcyBiLG5hbWVUb0lkIGFzIGd9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvUHJvcGVydHlPcmlnaW4uanNcIjtpbXBvcnQgaiBmcm9tXCIuL0xheWVyLmpzXCI7aW1wb3J0e0FQSUtleU1peGluIGFzIFN9ZnJvbVwiLi9taXhpbnMvQVBJS2V5TWl4aW4uanNcIjtpbXBvcnR7QXJjR0lTU2VydmljZSBhcyB3fWZyb21cIi4vbWl4aW5zL0FyY0dJU1NlcnZpY2UuanNcIjtpbXBvcnR7QmxlbmRMYXllciBhcyB2fWZyb21cIi4vbWl4aW5zL0JsZW5kTGF5ZXIuanNcIjtpbXBvcnR7Q3VzdG9tUGFyYW1ldGVyc01peGluIGFzIEx9ZnJvbVwiLi9taXhpbnMvQ3VzdG9tUGFyYW1ldGVyc01peGluLmpzXCI7aW1wb3J0e0VkaXRCdXNMYXllciBhcyBGfWZyb21cIi4vbWl4aW5zL0VkaXRCdXNMYXllci5qc1wiO2ltcG9ydHtGZWF0dXJlTGF5ZXJCYXNlIGFzIF99ZnJvbVwiLi9taXhpbnMvRmVhdHVyZUxheWVyQmFzZS5qc1wiO2ltcG9ydHtPcGVyYXRpb25hbExheWVyIGFzIHh9ZnJvbVwiLi9taXhpbnMvT3BlcmF0aW9uYWxMYXllci5qc1wiO2ltcG9ydHtQb3J0YWxMYXllciBhcyBDfWZyb21cIi4vbWl4aW5zL1BvcnRhbExheWVyLmpzXCI7aW1wb3J0e1JlZnJlc2hhYmxlTGF5ZXIgYXMgRX1mcm9tXCIuL21peGlucy9SZWZyZXNoYWJsZUxheWVyLmpzXCI7aW1wb3J0e1NjYWxlUmFuZ2VMYXllciBhcyBJfWZyb21cIi4vbWl4aW5zL1NjYWxlUmFuZ2VMYXllci5qc1wiO2ltcG9ydHtUZW1wb3JhbExheWVyIGFzIFB9ZnJvbVwiLi9taXhpbnMvVGVtcG9yYWxMYXllci5qc1wiO2ltcG9ydHt0aXRsZUZyb21VcmxBbmROYW1lIGFzIE99ZnJvbVwiLi9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e2lkIGFzIEF9ZnJvbVwiLi9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7ZW5zdXJlTGF5ZXJDcmVkZW50aWFsIGFzIFQsY29tcHV0ZUVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkIGFzIFUsYWRkQXR0YWNobWVudCBhcyBHLHVwZGF0ZUF0dGFjaG1lbnQgYXMgcSxhcHBseUVkaXRzIGFzICQsY3JlYXRlUXVlcnkgYXMgTSxkZWxldGVBdHRhY2htZW50cyBhcyBSLGZldGNoUmVjb21wdXRlZEV4dGVudHMgYXMgVixxdWVyeUF0dGFjaG1lbnRzIGFzIGsscXVlcnlPYmplY3RJZHMgYXMgTixxdWVyeUZlYXR1cmVDb3VudCBhcyBRLHF1ZXJ5RXh0ZW50IGFzIEQscXVlcnlSZWxhdGVkRmVhdHVyZXMgYXMgSCxxdWVyeVJlbGF0ZWRGZWF0dXJlc0NvdW50IGFzIEIsaGFzRGF0YUNoYW5nZWQgYXMgSn1mcm9tXCIuL3N1cHBvcnQvZmVhdHVyZUxheWVyVXRpbHMuanNcIjtpbXBvcnR7ZGVmaW5lRmllbGRQcm9wZXJ0aWVzIGFzIHp9ZnJvbVwiLi9zdXBwb3J0L2ZpZWxkUHJvcGVydGllcy5qc1wiO2ltcG9ydHtmaXhUaW1lSW5mb0ZpZWxkcyBhcyBLfWZyb21cIi4vc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0IFogZnJvbVwiLi9zdXBwb3J0L1N1YnR5cGVTdWJsYXllci5qc1wiO2ltcG9ydCBXIGZyb21cIi4vc3VwcG9ydC9UaW1lSW5mby5qc1wiO2ltcG9ydHtzZXJ2aWNlU3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlIGFzIFh9ZnJvbVwiLi9zdXBwb3J0L3ZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBZIGZyb21cIi4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtTYXZlT3BlcmF0aW9uVHlwZSBhcyBlZX1mcm9tXCIuLi93ZWJkb2MvaW50ZXJmYWNlcy5qc1wiO2NvbnN0IHJlPVwiU3VidHlwZUdyb3VwTGF5ZXJcIix0ZT1cImVzcmkubGF5ZXJzLlN1YnR5cGVHcm91cExheWVyXCI7ZnVuY3Rpb24gc2UoZSxyKXtyZXR1cm4gbmV3IHMoXCJsYXllcjp1bnN1cHBvcnRlZFwiLGBMYXllciAoJHtlLnRpdGxlfSwgJHtlLmlkfSkgb2YgdHlwZSAnJHtlLmRlY2xhcmVkQ2xhc3N9JyAke3J9YCx7bGF5ZXI6ZX0pfWNvbnN0IGllPXooKTtsZXQgb2U9Y2xhc3MgZXh0ZW5kcyhfKEYodihQKEkoRSh3KHgoQyhvKEwoUyhyKGopKSkpKSkpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLl9zdWJsYXllcnNDb2xsZWN0aW9uQ2hhbmdlZD0hMSx0aGlzLl9zdWJsYXllckxvb2t1cD1uZXcgTWFwLHRoaXMuZmllbGRzPW51bGwsdGhpcy5maWVsZHNJbmRleD1udWxsLHRoaXMub3V0RmllbGRzPW51bGwsdGhpcy5zdWJsYXllcnM9bmV3KHQub2ZUeXBlKFopKSx0aGlzLnRpbWVJbmZvPW51bGwsdGhpcy50aXRsZT1cIkxheWVyXCIsdGhpcy50eXBlPVwic3VidHlwZS1ncm91cFwiLHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zPWEoKGFzeW5jKGUscix0KT0+e2NvbnN0e3NhdmU6cyxzYXZlQXM6aX09YXdhaXQgaW1wb3J0KFwiLi9zYXZlL2ZlYXR1cmVMYXllclV0aWxzLmpzXCIpO3N3aXRjaChlKXtjYXNlIGVlLlNBVkU6cmV0dXJuIHModGhpcyxyKTtjYXNlIGVlLlNBVkVfQVM6cmV0dXJuIGkodGhpcyx0LHIpfX0pKSx0aGlzLmFkZEhhbmRsZXMobCgoKCk9PnRoaXMuc3VibGF5ZXJzKSwoKGUscik9PnRoaXMuX2hhbmRsZVN1YmxheWVyc0NoYW5nZShlLHIpKSxwKSl9ZGVzdHJveSgpe3RoaXMuc291cmNlPy5kZXN0cm95KCl9bm9ybWFsaXplQ3RvckFyZ3MoZSxyKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT97dXJsOmUsLi4ucn06ZX1sb2FkKGUpe2NvbnN0IHI9bnVsbCE9ZT9lLnNpZ25hbDpudWxsLHQ9dGhpcy5sb2FkRnJvbVBvcnRhbCh7c3VwcG9ydGVkVHlwZXM6W1wiRmVhdHVyZSBTZXJ2aWNlXCJdfSxlKS5jYXRjaChuKS50aGVuKChhc3luYygpPT57aWYoIXRoaXMudXJsKXRocm93IG5ldyBzKFwic3VidHlwZS1ncm91cGxheWVyOm1pc3NpbmctdXJsLW9yLXNvdXJjZVwiLFwiU3VidHlwZUdyb3VwTGF5ZXIgbXVzdCBiZSBjcmVhdGVkIHdpdGggZWl0aGVyIGEgdXJsIG9yIGEgcG9ydGFsIGl0ZW1cIik7aWYobnVsbD09dGhpcy5sYXllcklkKXRocm93IG5ldyBzKFwic3VidHlwZS1ncm91cGxheWVyOm1pc3NpbmctbGF5ZXJpZFwiLFwibGF5ZXJJZCBpcyByZXF1aXJlZCBmb3IgYSBTdWJ0eXBlR3JvdXBMYXllciBjcmVhdGVkIHdpdGggdXJsXCIpO3JldHVybiB0aGlzLl9pbml0TGF5ZXJQcm9wZXJ0aWVzKGF3YWl0IHRoaXMuY3JlYXRlR3JhcGhpY3NTb3VyY2UocikpfSkpLnRoZW4oKCgpPT5UKHRoaXMsXCJsb2FkXCIsZSkpKTtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHQpLFByb21pc2UucmVzb2x2ZSh0aGlzKX1nZXQgY3JlYXRlUXVlcnlWZXJzaW9uKCl7cmV0dXJuIHRoaXMuY29tbWl0UHJvcGVydHkoXCJkZWZpbml0aW9uRXhwcmVzc2lvblwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZUV4dGVudFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZU9mZnNldFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiZ2VvbWV0cnlUeXBlXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJnZGJWZXJzaW9uXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJoaXN0b3JpY01vbWVudFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwicmV0dXJuWlwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiY2FwYWJpbGl0aWVzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJyZXR1cm5NXCIpLCh0aGlzLl9nZXQoXCJjcmVhdGVRdWVyeVZlcnNpb25cIik/PzApKzF9Z2V0IGVkaXRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMubG9hZGVkJiZudWxsIT10aGlzLmNhcGFiaWxpdGllcyYmdGhpcy5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c0VkaXRpbmcmJnRoaXMudXNlckhhc0VkaXRpbmdQcml2aWxlZ2VzfWdldCBlZmZlY3RpdmVFZGl0aW5nRW5hYmxlZCgpe3JldHVybiBVKHRoaXMpfWdldCBwYXJzZWRVcmwoKXtjb25zdCBlPWQodGhpcy51cmwpO3JldHVybiBudWxsIT1lJiZudWxsIT10aGlzLmxheWVySWQmJihlLnBhdGg9YyhlLnBhdGgsdGhpcy5sYXllcklkLnRvU3RyaW5nKCkpKSxlfXNldCBzb3VyY2UoZSl7dGhpcy5fZ2V0KFwic291cmNlXCIpIT09ZSYmdGhpcy5fc2V0KFwic291cmNlXCIsZSl9cmVhZFRpdGxlRnJvbVNlcnZpY2UoZSx7bmFtZTpyfSl7cmV0dXJuIHRoaXMudXJsP08odGhpcy51cmwscik6cn1hc3luYyBhZGRBdHRhY2htZW50KGUscil7cmV0dXJuIEcodGhpcyxlLHIscmUpfWFzeW5jIHVwZGF0ZUF0dGFjaG1lbnQoZSxyLHQpe3JldHVybiBxKHRoaXMsZSxyLHQscmUpfWFzeW5jIGFwcGx5RWRpdHMoZSxyKXtyZXR1cm4gJCh0aGlzLGUscil9b24oZSxyKXtyZXR1cm4gc3VwZXIub24oZSxyKX1hc3luYyBjcmVhdGVHcmFwaGljc1NvdXJjZShlKXtjb25zdHtkZWZhdWx0OnJ9PWF3YWl0IHUoaW1wb3J0KFwiLi9ncmFwaGljcy9zb3VyY2VzL0ZlYXR1cmVMYXllclNvdXJjZS5qc1wiKSxlKTtyZXR1cm4gbmV3IHIoe2xheWVyOnRoaXN9KS5sb2FkKHtzaWduYWw6ZX0pfWNyZWF0ZVF1ZXJ5KCl7Y29uc3QgZT1NKHRoaXMpLHI9dGhpcy5zdWJsYXllcnMubWFwKChlPT5lLnN1YnR5cGVDb2RlKSk7cmV0dXJuIGUud2hlcmU9eShgJHt0aGlzLnN1YnR5cGVGaWVsZH0gSU4gKCR7ci5qb2luKFwiLFwiKX0pYCx0aGlzLmRlZmluaXRpb25FeHByZXNzaW9uKSxlfWFzeW5jIGRlbGV0ZUF0dGFjaG1lbnRzKGUscil7cmV0dXJuIFIodGhpcyxlLHIscmUpfWFzeW5jIGZldGNoUmVjb21wdXRlZEV4dGVudHMoZSl7cmV0dXJuIFYodGhpcyxlLHJlKX1maW5kU3VibGF5ZXJGb3JGZWF0dXJlKGUpe2NvbnN0IHI9dGhpcy5maWVsZHNJbmRleC5nZXQodGhpcy5zdWJ0eXBlRmllbGQpLHQ9ZS5hdHRyaWJ1dGVzW3IubmFtZV07cmV0dXJuIHRoaXMuZmluZFN1YmxheWVyRm9yU3VidHlwZUNvZGUodCl9ZmluZFN1YmxheWVyRm9yU3VidHlwZUNvZGUoZSl7cmV0dXJuIHRoaXMuX3N1YmxheWVyTG9va3VwLmdldChlKX1nZXRGaWVsZERvbWFpbihlLHIpe3JldHVybiB0aGlzLl9nZXRMYXllckRvbWFpbihlKX1nZXRGaWVsZChlKXtyZXR1cm4gdGhpcy5maWVsZHNJbmRleC5nZXQoZSl9bG9hZEFsbCgpe3JldHVybiBpKHRoaXMsKGU9PntlKHRoaXMuc3VibGF5ZXJzKX0pKX1hc3luYyBxdWVyeUF0dGFjaG1lbnRzKGUscil7cmV0dXJuIGsodGhpcyxlLHIscmUpfWFzeW5jIHF1ZXJ5RmVhdHVyZXMoZSxyKXtjb25zdCB0PWF3YWl0IHRoaXMubG9hZCgpLHM9WS5mcm9tKGUpPz90LmNyZWF0ZVF1ZXJ5KCksaT1zLm91dEZpZWxkcz8/W107aS5pbmNsdWRlcyh0aGlzLnN1YnR5cGVGaWVsZCl8fChpLnB1c2godGhpcy5zdWJ0eXBlRmllbGQpLHMub3V0RmllbGRzPWkpO2NvbnN0IG89YXdhaXQgdC5zb3VyY2UucXVlcnlGZWF0dXJlcyhzLHIpO2lmKG8/LmZlYXR1cmVzKWZvcihjb25zdCBhIG9mIG8uZmVhdHVyZXMpYS5sYXllcj1hLnNvdXJjZUxheWVyPXRoaXMuZmluZFN1YmxheWVyRm9yRmVhdHVyZShhKTtyZXR1cm4gb31hc3luYyBxdWVyeU9iamVjdElkcyhlLHIpe3JldHVybiBOKHRoaXMsZSxyLHJlKX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHIpe3JldHVybiBRKHRoaXMsZSxyLHJlKX1hc3luYyBxdWVyeUV4dGVudChlLHIpe3JldHVybiBEKHRoaXMsZSxyLHJlKX1hc3luYyBxdWVyeVJlbGF0ZWRGZWF0dXJlcyhlLHIpe3JldHVybiBIKHRoaXMsZSxyLHJlKX1hc3luYyBxdWVyeVJlbGF0ZWRGZWF0dXJlc0NvdW50KGUscil7cmV0dXJuIEIodGhpcyxlLHIscmUpfWFzeW5jIHNhdmUoZSl7cmV0dXJuIHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zKGVlLlNBVkUsZSl9YXN5bmMgc2F2ZUFzKGUscil7cmV0dXJuIHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zKGVlLlNBVkVfQVMscixlKX13cml0ZShlLHIpe2NvbnN0e29yaWdpbjp0LGxheWVyQ29udGFpbmVyVHlwZTppLG1lc3NhZ2VzOm99PXI7aWYodGhpcy5pc1RhYmxlKXtpZihcIndlYi1zY2VuZVwiPT09dHx8XCJ3ZWItbWFwXCI9PT10JiZcInRhYmxlc1wiIT09aSlyZXR1cm4gbz8ucHVzaChzZSh0aGlzLFwidXNpbmcgYSB0YWJsZSBzb3VyY2UgY2Fubm90IGJlIHdyaXR0ZW4gdG8gd2ViIHNjZW5lcyBhbmQgd2ViIG1hcHNcIikpLG51bGx9ZWxzZSBpZih0aGlzLmxvYWRlZCYmXCJ3ZWItbWFwXCI9PT10JiZcInRhYmxlc1wiPT09aSlyZXR1cm4gbz8ucHVzaChzZSh0aGlzLFwidXNpbmcgYSBub24tdGFibGUgc291cmNlIGNhbm5vdCBiZSB3cml0dGVuIHRvIHRhYmxlcyBpbiB3ZWIgbWFwc1wiKSksbnVsbDtyZXR1cm4gdGhpcy5zdWJsYXllcnM/Lmxlbmd0aD9zdXBlci53cml0ZShlLHIpOihvPy5wdXNoKG5ldyBzKFwid2ViLWRvY3VtZW50LXdyaXRlOmludmFsaWQtcHJvcGVydHlcIixgTGF5ZXIgKCR7dGhpcy50aXRsZX0sICR7dGhpcy5pZH0pIG9mIHR5cGUgJyR7dGhpcy5kZWNsYXJlZENsYXNzfScgaGFzIGludmFsaWQgdmFsdWUgZm9yICdzdWJsYXllcnMnIHByb3BlcnR5LiAnc3VibGF5ZXJzJyBjb2xsZWN0aW9uIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBzdWJsYXllcmAse2xheWVyOnRoaXN9KSksbnVsbCl9c2VydmljZVN1cHBvcnRzU3BhdGlhbFJlZmVyZW5jZShlKXtyZXR1cm4hIXRoaXMubG9hZGVkJiZYKHRoaXMsZSl9X2dldExheWVyRG9tYWluKGUpe2NvbnN0IHI9dGhpcy5maWVsZHNJbmRleC5nZXQoZSk7cmV0dXJuIHI/ci5kb21haW46bnVsbH1hc3luYyBfaW5pdExheWVyUHJvcGVydGllcyhlKXt0aGlzLl9zZXQoXCJzb3VyY2VcIixlKTtjb25zdHtzb3VyY2VKU09OOnJ9PWU7aWYociYmKHRoaXMuc291cmNlSlNPTj1yLHRoaXMucmVhZChyLHtvcmlnaW46XCJzZXJ2aWNlXCIsdXJsOnRoaXMucGFyc2VkVXJsfSkpLHRoaXMuaXNUYWJsZSl0aHJvdyBuZXcgcyhcInN1YnR5cGUtZ3JvdXBsYXllcjp1bnN1cHBvcnRlZC1zb3VyY2VcIixcIlN1YnR5cGVHcm91cExheWVyIGNhbm5vdCBiZSBjcmVhdGVkIHVzaW5nIGEgbGF5ZXIgd2l0aCB0YWJsZSBzb3VyY2VcIik7aWYoIXRoaXMuc3VidHlwZXM/Lmxlbmd0aCl0aHJvdyBuZXcgcyhcInN1YnR5cGUtZ3JvdXBsYXllcjptaXNzaW5nLXN1YnR5cGVzXCIsXCJTdWJ0eXBlR3JvdXBMYXllciBtdXN0IGJlIGNyZWF0ZWQgdXNpbmcgYSBsYXllciB3aXRoIHN1YnR5cGVzXCIpO3RoaXMuX3ZlcmlmeUZpZWxkcygpLEsodGhpcy50aW1lSW5mbyx0aGlzLmZpZWxkc0luZGV4KX1hc3luYyBoYXNEYXRhQ2hhbmdlZCgpe3JldHVybiBKKHRoaXMpfV92ZXJpZnlGaWVsZHMoKXtjb25zdCBlPXRoaXMucGFyc2VkVXJsPy5wYXRoPz9cInVuZGVmaW5lZFwiO3RoaXMub2JqZWN0SWRGaWVsZHx8Y29uc29sZS5sb2coXCJTdWJ0eXBlR3JvdXBMYXllcjogJ29iamVjdElkRmllbGQnIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkICh1cmw6IFwiK2UrXCIpXCIpLHRoaXMuaXNUYWJsZXx8LTEhPT1lLnNlYXJjaCgvXFwvRmVhdHVyZVNlcnZlclxcLy9pKXx8dGhpcy5maWVsZHM/LnNvbWUoKGU9PlwiZ2VvbWV0cnlcIj09PWUudHlwZSkpfHxjb25zb2xlLmxvZyhcIlN1YnR5cGVHcm91cExheWVyOiB1bmFibGUgdG8gZmluZCBmaWVsZCBvZiB0eXBlICdnZW9tZXRyeScgaW4gdGhlIGxheWVyICdmaWVsZHMnIGxpc3QuIElmIHlvdSBhcmUgdXNpbmcgYSBtYXAgc2VydmljZSBsYXllciwgZmVhdHVyZXMgd2lsbCBub3QgaGF2ZSBnZW9tZXRyeSAodXJsOiBcIitlK1wiKVwiKX1faGFuZGxlU3VibGF5ZXJzQ2hhbmdlKGUscil7ciYmKHIuZm9yRWFjaCgoZT0+e2UucGFyZW50PW51bGx9KSksdGhpcy5yZW1vdmVIYW5kbGVzKFwic3VibGF5ZXJzLW93bmVyXCIpLHRoaXMuX3N1YmxheWVyTG9va3VwLmNsZWFyKCkpLGUmJihlLmZvckVhY2goKGU9PntlLnBhcmVudD10aGlzLHRoaXMuX3N1YmxheWVyTG9va3VwLnNldChlLnN1YnR5cGVDb2RlLGUpfSkpLHRoaXMuX3N1YmxheWVyc0NvbGxlY3Rpb25DaGFuZ2VkPSExLHRoaXMuYWRkSGFuZGxlcyhbZS5vbihcImFmdGVyLWFkZFwiLCgoe2l0ZW06ZX0pPT57ZS5wYXJlbnQ9dGhpcyx0aGlzLl9zdWJsYXllckxvb2t1cC5zZXQoZS5zdWJ0eXBlQ29kZSxlKX0pKSxlLm9uKFwiYWZ0ZXItcmVtb3ZlXCIsKCh7aXRlbTplfSk9PntlLnBhcmVudD1udWxsLHRoaXMuX3N1YmxheWVyTG9va3VwLmRlbGV0ZShlLnN1YnR5cGVDb2RlKX0pKSxlLm9uKFwiYWZ0ZXItY2hhbmdlc1wiLCgoKT0+e3RoaXMuX3N1YmxheWVyc0NvbGxlY3Rpb25DaGFuZ2VkPSEwfSkpXSxcInN1YmxheWVycy1vd25lclwiKSl9fTtlKFtoKHtyZWFkT25seTohMH0pXSxvZS5wcm90b3R5cGUsXCJjcmVhdGVRdWVyeVZlcnNpb25cIixudWxsKSxlKFtoKHtyZWFkT25seTohMH0pXSxvZS5wcm90b3R5cGUsXCJlZGl0aW5nRW5hYmxlZFwiLG51bGwpLGUoW2goe3JlYWRPbmx5OiEwfSldLG9lLnByb3RvdHlwZSxcImVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkXCIsbnVsbCksZShbaCh7Li4uaWUuZmllbGRzLHJlYWRPbmx5OiEwLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6ITB9fSxyZWFkOiExfX0pXSxvZS5wcm90b3R5cGUsXCJmaWVsZHNcIix2b2lkIDApLGUoW2goaWUuZmllbGRzSW5kZXgpXSxvZS5wcm90b3R5cGUsXCJmaWVsZHNJbmRleFwiLHZvaWQgMCksZShbaChBKV0sb2UucHJvdG90eXBlLFwiaWRcIix2b2lkIDApLGUoW2goe3R5cGU6W1wic2hvd1wiLFwiaGlkZVwiLFwiaGlkZS1jaGlsZHJlblwiXSxqc29uOntvcmlnaW5zOntcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sb2UucHJvdG90eXBlLFwibGlzdE1vZGVcIix2b2lkIDApLGUoW2goe3ZhbHVlOlwiU3VidHlwZUdyb3VwTGF5ZXJcIix0eXBlOltcIlN1YnR5cGVHcm91cExheWVyXCJdLGpzb246e29yaWdpbnM6e1wicG9ydGFsLWl0ZW1cIjp7bmFtZTpcImxheWVyVHlwZVwiLHdyaXRlOntlbmFibGVkOiEwLGlnbm9yZU9yaWdpbjohMH19fX19KV0sb2UucHJvdG90eXBlLFwib3BlcmF0aW9uYWxMYXllclR5cGVcIix2b2lkIDApLGUoW2goaWUub3V0RmllbGRzKV0sb2UucHJvdG90eXBlLFwib3V0RmllbGRzXCIsdm9pZCAwKSxlKFtoKHtyZWFkT25seTohMH0pXSxvZS5wcm90b3R5cGUsXCJwYXJzZWRVcmxcIixudWxsKSxlKFtoKHtjbG9uYWJsZTohMX0pXSxvZS5wcm90b3R5cGUsXCJzb3VyY2VcIixudWxsKSxlKFtoKHt0eXBlOnQub2ZUeXBlKFopLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcInN1YnR5cGVzXCIscmVhZGVyOihlLHIscyk9Pntjb25zdCBpPWUubWFwKCgoe2NvZGU6ZX0pPT57Y29uc3QgdD1uZXcgWih7c3VidHlwZUNvZGU6ZX0pO3JldHVybiB0LnJlYWQocixzKSx0fSkpO3JldHVybiBuZXcodC5vZlR5cGUoWikpKGkpfX19fSxuYW1lOlwibGF5ZXJzXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5KGUscix0KXtjb25zdCBzPXRoaXMub3JpZ2luT2YoXCJzdWJsYXllcnNcIiksaT1iLlBPUlRBTF9JVEVNO2xldCBvPSEwO2lmKGcocyk9PT1pJiZnKHQub3JpZ2luKT5pKXtjb25zdCByPWUuc29tZSgoZT0+ZS5oYXNVc2VyT3ZlcnJpZGVzKCkpKTtvPXRoaXMuX3N1YmxheWVyc0NvbGxlY3Rpb25DaGFuZ2VkfHxyfXJldHVybntlbmFibGVkOm8saWdub3JlT3JpZ2luOiEwfX19fX0pXSxvZS5wcm90b3R5cGUsXCJzdWJsYXllcnNcIix2b2lkIDApLGUoW2goe3R5cGU6V30pXSxvZS5wcm90b3R5cGUsXCJ0aW1lSW5mb1wiLHZvaWQgMCksZShbaCh7anNvbjp7b3JpZ2luczp7XCJwb3J0YWwtaXRlbVwiOnt3cml0ZTp7ZW5hYmxlZDohMCxpZ25vcmVPcmlnaW46ITAsd3JpdGVyRW5zdXJlc05vbk51bGw6ITB9fX19fSldLG9lLnByb3RvdHlwZSxcInRpdGxlXCIsdm9pZCAwKSxlKFttKFwic2VydmljZVwiLFwidGl0bGVcIixbXCJuYW1lXCJdKV0sb2UucHJvdG90eXBlLFwicmVhZFRpdGxlRnJvbVNlcnZpY2VcIixudWxsKSxlKFtoKHtqc29uOntyZWFkOiExfX0pXSxvZS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxvZT1lKFtmKHRlKV0sb2UpO2NvbnN0IGFlPW9lO2V4cG9ydHthZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9Qb3B1cFRlbXBsYXRlLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vcmVuZGVyZXJzL0NsYXNzQnJlYWtzUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9EaWN0aW9uYXJ5UmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9Eb3REZW5zaXR5UmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9IZWF0bWFwUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9QaWVDaGFydFJlbmRlcmVyLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vcmVuZGVyZXJzL1JlbmRlcmVyLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vcmVuZGVyZXJzL1NpbXBsZVJlbmRlcmVyLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vcmVuZGVyZXJzL1VuaXF1ZVZhbHVlUmVuZGVyZXIuanNcIjtpbXBvcnRcIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e0Nsb25hYmxlTWl4aW4gYXMgbH1mcm9tXCIuLi8uLi9jb3JlL0Nsb25hYmxlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgcH1mcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydHtjbG9uZSBhcyBkfWZyb21cIi4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uL2NvcmUvTG9hZGFibGUuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgeX1mcm9tXCIuLi8uLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7c2V0RGVlcFZhbHVlIGFzIGN9ZnJvbVwiLi4vLi4vY29yZS9vYmplY3QuanNcIjtpbXBvcnR7c3FsQW5kIGFzIG19ZnJvbVwiLi4vLi4vY29yZS9zcWwuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBifWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGh9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgZ31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHtPcmlnaW5JZCBhcyB2fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0e2NyZWF0ZVR5cGVSZWFkZXIgYXMgan1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9leHRlbnNpb25zL3NlcmlhbGl6YWJsZVByb3BlcnR5L3JlYWRlci5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uL2Zvcm0vRm9ybVRlbXBsYXRlLmpzXCI7aW1wb3J0e2xhYmVsc1Zpc2libGUgYXMgTyxsZWdlbmRFbmFibGVkIGFzIFMsbWluU2NhbGUgYXMgSSxtYXhTY2FsZSBhcyBGLHBvcHVwRW5hYmxlZCBhcyBUfWZyb21cIi4vY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtjcmVhdGVRdWVyeSBhcyBFfWZyb21cIi4vZmVhdHVyZUxheWVyVXRpbHMuanNcIjtpbXBvcnQgQyBmcm9tXCIuL0ZlYXR1cmVUZW1wbGF0ZS5qc1wiO2ltcG9ydHtkZWZpbmVGaWVsZFByb3BlcnRpZXMgYXMgQX1mcm9tXCIuL2ZpZWxkUHJvcGVydGllcy5qc1wiO2ltcG9ydHtmaXhSZW5kZXJlckZpZWxkcyBhcyB4fWZyb21cIi4vZmllbGRVdGlscy5qc1wiO2ltcG9ydCBSIGZyb21cIi4vTGFiZWxDbGFzcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgUH1mcm9tXCIuL2xhYmVsaW5nSW5mby5qc1wiO2ltcG9ydCBEIGZyb21cIi4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtjcmVhdGVQb3B1cFRlbXBsYXRlIGFzIEx9ZnJvbVwiLi4vLi4vc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7aW1wb3J0e2RlZmF1bHRQb2x5Z29uU3ltYm9sMkQgYXMgcSxkZWZhdWx0UG9seWxpbmVTeW1ib2wyRCBhcyBVLGRlZmF1bHRQb2ludFN5bWJvbDJEIGFzIFZ9ZnJvbVwiLi4vLi4vc3ltYm9scy9zdXBwb3J0L2RlZmF1bHRzLmpzXCI7Y29uc3QgRz1bXCJjaGFydHNcIixcImVkaXRpbmdFbmFibGVkXCIsXCJmb3JtVGVtcGxhdGVcIixcImxhYmVsc1Zpc2libGVcIixcImxhYmVsaW5nSW5mb1wiLFwibGVnZW5kRW5hYmxlZFwiLFwibWluU2NhbGVcIixcIm1heFNjYWxlXCIsXCJvcGFjaXR5XCIsXCJwb3B1cEVuYWJsZWRcIixcInBvcHVwVGVtcGxhdGVcIixcInJlbmRlcmVyXCIsXCJzdWJ0eXBlQ29kZVwiLFwidGVtcGxhdGVzXCIsXCJ0aXRsZVwiLFwidmlzaWJsZVwiXSxOPXtrZXk6XCJ0eXBlXCIsYmFzZTppLGVycm9yQ29udGV4dDpcInJlbmRlcmVyXCIsdHlwZU1hcDp7c2ltcGxlOm8sXCJ1bmlxdWUtdmFsdWVcIjpuLFwiY2xhc3MtYnJlYWtzXCI6cn19LCQ9QSgpLGs9aih7dHlwZXM6Tn0pO2xldCBNPTA7ZnVuY3Rpb24gXyhlKXtjb25zdCB0PWUuanNvbi53cml0ZTtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD90Lmlnbm9yZU9yaWdpbj0hMDplLmpzb24ud3JpdGU9e2lnbm9yZU9yaWdpbjohMH0sZX1mdW5jdGlvbiBCKGUpe3JldHVybiBuZXcgbyh7c3ltYm9sOkgoZSl9KX1mdW5jdGlvbiBIKGUpe3N3aXRjaChlKXtjYXNlXCJwb2ludFwiOmNhc2VcIm11bHRpcG9pbnRcIjpyZXR1cm4gVi5jbG9uZSgpO2Nhc2VcInBvbHlsaW5lXCI6cmV0dXJuIFUuY2xvbmUoKTtjYXNlXCJwb2x5Z29uXCI6Y2FzZVwibXVsdGlwYXRjaFwiOnJldHVybiBxLmNsb25lKCk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gUShlLHQpe3JldHVybiEhdCYmKFwidW5pcXVlLXZhbHVlXCI9PT1lPy50eXBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5maWVsZCYmZS5maWVsZC50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpJiYhZS5maWVsZDImJiFlLmZpZWxkMyYmIWUudmFsdWVFeHByZXNzaW9uKX1mdW5jdGlvbiB6KGUsdCl7cmV0dXJuIG51bGw9PWU/bnVsbDp0LnN1YnR5cGVzPy5maW5kKCh0PT50LmNvZGU9PT1lKSl9ZnVuY3Rpb24gSihlLHQpe2xldCByPW51bGw7c3dpdGNoKHQuZ2VvbWV0cnlUeXBlKXtjYXNlXCJlc3JpR2VvbWV0cnlQb2ludFwiOmNhc2VcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjpyPVwicG9pbnRcIjticmVhaztjYXNlXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiOnI9XCJsaW5lXCI7YnJlYWs7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWdvblwiOmNhc2VcImVzcmlHZW9tZXRyeU11bHRpUGF0Y2hcIjpyPVwicG9seWdvblwiO2JyZWFrO2RlZmF1bHQ6dC50eXBlLHI9bnVsbH1jb25zdCBpPXt9LG89eihlLHQpO2lmKG51bGwhPW8pe2NvbnN0e2RlZmF1bHRWYWx1ZXM6ZX09bztmb3IoY29uc3QgdCBpbiBlKWlbdF09ZVt0XX1yZXR1cm4gaVt0LnN1YnR5cGVGaWVsZF09ZSxuZXcgQyh7bmFtZTpcIk5ldyBGZWF0dXJlXCIsZHJhd2luZ1Rvb2w6cixwcm90b3R5cGU6e2F0dHJpYnV0ZXM6aX19KX1jb25zdCBLPVwiZXNyaS5sYXllcnMuc3VwcG9ydC5TdWJ0eXBlU3VibGF5ZXJcIjtsZXQgVz1jbGFzcyBleHRlbmRzKHkobChwKHUpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2hhcnRzPW51bGwsdGhpcy5lZGl0aW5nRW5hYmxlZD0hMCx0aGlzLmZpZWxkT3ZlcnJpZGVzPW51bGwsdGhpcy5maWVsZHNJbmRleD1udWxsLHRoaXMuZm9ybVRlbXBsYXRlPW51bGwsdGhpcy5pZD1gJHtEYXRlLm5vdygpLnRvU3RyaW5nKDE2KX0tc3VidHlwZS1zdWJsYXllci0ke00rK31gLHRoaXMudHlwZT1cInN1YnR5cGUtc3VibGF5ZXJcIix0aGlzLmxhYmVsc1Zpc2libGU9ITAsdGhpcy5sYWJlbGluZ0luZm89bnVsbCx0aGlzLmxheWVyVHlwZT1cIkFyY0dJU0ZlYXR1cmVMYXllclwiLHRoaXMubGVnZW5kRW5hYmxlZD0hMCx0aGlzLmxpc3RNb2RlPVwic2hvd1wiLHRoaXMubWluU2NhbGU9MCx0aGlzLm1heFNjYWxlPTAsdGhpcy5vcGFjaXR5PTEsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLnBvcHVwRW5hYmxlZD0hMCx0aGlzLnBvcHVwVGVtcGxhdGU9bnVsbCx0aGlzLnN1YnR5cGVDb2RlPW51bGwsdGhpcy50ZW1wbGF0ZXM9bnVsbCx0aGlzLnRpdGxlPW51bGwsdGhpcy52aXNpYmxlPSEwfWdldCBjYXBhYmlsaXRpZXMoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LmNhcGFiaWxpdGllc31nZXQgZWZmZWN0aXZlQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHRoaXMucGFyZW50Py5lZmZlY3RpdmVDYXBhYmlsaXRpZXN9Z2V0IGVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkKCl7Y29uc3R7cGFyZW50OmV9PXRoaXM7cmV0dXJuIGU/ZS5lZmZlY3RpdmVFZGl0aW5nRW5hYmxlZCYmdGhpcy5lZGl0aW5nRW5hYmxlZDp0aGlzLmVkaXRpbmdFbmFibGVkfWdldCBlbGV2YXRpb25JbmZvKCl7cmV0dXJuIHRoaXMucGFyZW50Py5lbGV2YXRpb25JbmZvfXdyaXRlRmllbGRPdmVycmlkZXMoZSx0LHIpe2NvbnN0e2ZpZWxkczppLHBhcmVudDpvfT10aGlzO2xldCBuO2lmKGkpe249W107bGV0IGU9MDtpLmZvckVhY2goKCh7bmFtZTp0LGFsaWFzOnIsZWRpdGFibGU6aSx2aXNpYmxlOnN9KT0+e2lmKCFzKXJldHVybjtjb25zdCBsPW8/LmZpZWxkcz8uZmluZCgoZT0+ZS5uYW1lPT09dCkpO2lmKCFsKXJldHVybjtjb25zdCBhPXtuYW1lOnR9O2xldCBwPSExO3IhPT1sLmFsaWFzJiYoYS5hbGlhcz1yLHA9ITApLGkhPT1sLmVkaXRhYmxlJiYoYS5lZGl0YWJsZT1pLHA9ITApLG4ucHVzaChhKSxwJiZlKyt9KSksMD09PWUmJm4ubGVuZ3RoPT09aS5sZW5ndGgmJihuPW51bGwpfWVsc2Ugbj1kKGUpO24/Lmxlbmd0aCYmYyhyLG4sdCl9Z2V0IGZpZWxkcygpe2NvbnN0e3BhcmVudDplLGZpZWxkT3ZlcnJpZGVzOnQsc3VidHlwZUNvZGU6cn09dGhpcyxpPWU/LmZpZWxkcztpZighZXx8IWk/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdHtzdWJ0eXBlczpvLHN1YnR5cGVGaWVsZDpufT1lLHM9bz8uZmluZCgoZT0+ZS5jb2RlPT09cikpLGw9cz8uZGVmYXVsdFZhbHVlcyxhPXM/LmRvbWFpbnMscD1bXTtmb3IoY29uc3QgZCBvZiBpKXtjb25zdCBlPWQuY2xvbmUoKSx7bmFtZTppfT1lLG89dD8uZmluZCgoZT0+ZS5uYW1lPT09aSkpO2lmKGUudmlzaWJsZT0hdHx8ISFvLG8pe2NvbnN0e2FsaWFzOnQsZWRpdGFibGU6cn09bzt0JiYoZS5hbGlhcz10KSwhMT09PXImJihlLmVkaXRhYmxlPSExKX1jb25zdCBzPWw/LltpXT8/bnVsbDtlLmRlZmF1bHRWYWx1ZT1pPT09bj9yOnM7Y29uc3QgdT1hPy5baV0/P251bGw7ZS5kb21haW49aT09PW4/bnVsbDp1P1wiaW5oZXJpdGVkXCI9PT11LnR5cGU/ZS5kb21haW46dS5jbG9uZSgpOm51bGwscC5wdXNoKGUpfXJldHVybiBwfWdldCBmbG9vckluZm8oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LmZsb29ySW5mb31nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMucGFyZW50Py5nZW9tZXRyeVR5cGV9Z2V0IGVmZmVjdGl2ZVNjYWxlUmFuZ2UoKXtjb25zdHttaW5TY2FsZTplLG1heFNjYWxlOnR9PXRoaXM7cmV0dXJue21pblNjYWxlOmUsbWF4U2NhbGU6dH19Z2V0IG9iamVjdElkRmllbGQoKXtyZXR1cm4gdGhpcy5wYXJlbnR8fHMuZ2V0TG9nZ2VyKEspLmVycm9yKFkoXCJvYmplY3RJZEZpZWxkXCIpKSx0aGlzLnBhcmVudD8ub2JqZWN0SWRGaWVsZH1nZXQgZGVmYXVsdFBvcHVwVGVtcGxhdGUoKXtyZXR1cm4gdGhpcy5jcmVhdGVQb3B1cFRlbXBsYXRlKCl9c2V0IHJlbmRlcmVyKGUpe3goZSx0aGlzLmZpZWxkc0luZGV4KSx0aGlzLl9vdmVycmlkZShcInJlbmRlcmVyXCIsZSl9Z2V0IHJlbmRlcmVyKCl7aWYodGhpcy5faXNPdmVycmlkZGVuKFwicmVuZGVyZXJcIikpcmV0dXJuIHRoaXMuX2dldChcInJlbmRlcmVyXCIpO2NvbnN0e3BhcmVudDplfT10aGlzO3JldHVybiBlJiYhZS5pc1RhYmxlJiZcIm1lc2hcIiE9PWUuZ2VvbWV0cnlUeXBlP0IoZS5nZW9tZXRyeVR5cGUpOm51bGx9cmVhZFJlbmRlcmVyRnJvbVNlcnZpY2UoZSx0LHIpe2lmKFwiVGFibGVcIj09PXQudHlwZSlyZXR1cm4gbnVsbDtjb25zdCBpPXQuZHJhd2luZ0luZm8/LnJlbmRlcmVyLG49ayhpLHQscik7bGV0IHM7Y29uc3R7c3VidHlwZUNvZGU6bH09dGhpcztpZihudWxsIT1sJiZRKG4sdC5zdWJ0eXBlRmllbGQpKXtjb25zdCBlPW4udW5pcXVlVmFsdWVJbmZvcz8uZmluZCgoKHt2YWx1ZTplfSk9PihlPVwibnVtYmVyXCI9PXR5cGVvZiBlP1N0cmluZyhlKTplKT09PVN0cmluZyhsKSkpO2UmJihzPW5ldyBvKHtzeW1ib2w6ZS5zeW1ib2x9KSl9ZWxzZVwic2ltcGxlXCIhPT1uPy50eXBlfHxuLnZpc3VhbFZhcmlhYmxlcz8ubGVuZ3RofHwocz1uKTtyZXR1cm4gc31yZWFkUmVuZGVyZXIoZSx0LHIpe2NvbnN0IGk9dD8ubGF5ZXJEZWZpbml0aW9uPy5kcmF3aW5nSW5mbz8ucmVuZGVyZXI7aWYoIWkpcmV0dXJuO2NvbnN0IG89aS52aXN1YWxWYXJpYWJsZXM/LnNvbWUoKGU9Plwicm90YXRpb25JbmZvXCIhPT1lLnR5cGUpKTtyZXR1cm4gbz92b2lkIDA6ayhpLHQscil8fHZvaWQgMH1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLnBhcmVudD8uc3BhdGlhbFJlZmVyZW5jZX1yZWFkVGVtcGxhdGVzRnJvbVNlcnZpY2UoZSx0KXtyZXR1cm5bSih0aGlzLnN1YnR5cGVDb2RlLHQpXX1yZWFkVGl0bGVGcm9tU2VydmljZShlLHQpe2NvbnN0IHI9eih0aGlzLnN1YnR5cGVDb2RlLHQpO3JldHVybiBudWxsIT1yP3IubmFtZTpudWxsfWdldCB1cmwoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/LnVybH1nZXQgdXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzKCl7cmV0dXJuISF0aGlzLnBhcmVudD8udXNlckhhc1VwZGF0ZUl0ZW1Qcml2aWxlZ2VzfWFzeW5jIGFkZEF0dGFjaG1lbnQoZSx0KXtjb25zdHtwYXJlbnQ6cn09dGhpcztpZighcil0aHJvdyBZKFwiYWRkQXR0YWNobWVudFwiKTtpZihlLmdldEF0dHJpYnV0ZShyLnN1YnR5cGVGaWVsZCkhPT10aGlzLnN1YnR5cGVDb2RlKXRocm93IG5ldyBhKFwic3VidHlwZS1zdWJsYXllcjphZGRBdHRhY2htZW50XCIsXCJUaGUgZmVhdHVyZSBwcm92aWRlZCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBTdWJ0eXBlU3VibGF5ZXJcIik7cmV0dXJuIHIuYWRkQXR0YWNobWVudChlLHQpfWFzeW5jIHVwZGF0ZUF0dGFjaG1lbnQoZSx0LHIpe2NvbnN0e3BhcmVudDppfT10aGlzO2lmKCFpKXRocm93IFkoXCJ1cGRhdGVBdHRhY2htZW50XCIpO2lmKGUuZ2V0QXR0cmlidXRlKGkuc3VidHlwZUZpZWxkKSE9PXRoaXMuc3VidHlwZUNvZGUpdGhyb3cgbmV3IGEoXCJzdWJ0eXBlLXN1YmxheWVyOnVwZGF0ZUF0dGFjaG1lbnRcIixcIlRoZSBmZWF0dXJlIHByb3ZpZGVkIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIFN1YnR5cGVTdWJsYXllclwiKTtyZXR1cm4gaS51cGRhdGVBdHRhY2htZW50KGUsdCxyKX1hc3luYyBkZWxldGVBdHRhY2htZW50cyhlLHQpe2NvbnN0e3BhcmVudDpyfT10aGlzO2lmKCFyKXRocm93IFkoXCJkZWxldGVBdHRhY2htZW50c1wiKTtpZihlLmdldEF0dHJpYnV0ZShyLnN1YnR5cGVGaWVsZCkhPT10aGlzLnN1YnR5cGVDb2RlKXRocm93IG5ldyBhKFwic3VidHlwZS1zdWJsYXllcjpkZWxldGVBdHRhY2htZW50c1wiLFwiVGhlIGZlYXR1cmUgcHJvdmlkZWQgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgU3VidHlwZVN1YmxheWVyXCIpO3JldHVybiByLmRlbGV0ZUF0dGFjaG1lbnRzKGUsdCl9YXN5bmMgYXBwbHlFZGl0cyhlLHQpe2lmKCF0aGlzLnBhcmVudCl0aHJvdyBZKFwiYXBwbHlFZGl0c1wiKTtyZXR1cm4gdGhpcy5wYXJlbnQuYXBwbHlFZGl0cyhlLHQpfWNyZWF0ZVBvcHVwVGVtcGxhdGUoZSl7bGV0IHQ9dGhpcztjb25zdHtwYXJlbnQ6cixmaWVsZHM6aSx0aXRsZTpvfT10aGlzO2lmKHIpe2NvbnN0e2Rpc3BsYXlGaWVsZDplLGVkaXRGaWVsZHNJbmZvOm4sb2JqZWN0SWRGaWVsZDpzfT1yO3Q9e2Rpc3BsYXlGaWVsZDplLGVkaXRGaWVsZHNJbmZvOm4sZmllbGRzOmksb2JqZWN0SWRGaWVsZDpzLHRpdGxlOm99fXJldHVybiBMKHQsZSl9Y3JlYXRlUXVlcnkoKXtpZighdGhpcy5wYXJlbnQpdGhyb3cgWShcImNyZWF0ZVF1ZXJ5XCIpO2NvbnN0IGU9RSh0aGlzLnBhcmVudCksdD1gJHt0aGlzLnBhcmVudC5zdWJ0eXBlRmllbGR9PSR7dGhpcy5zdWJ0eXBlQ29kZX1gO3JldHVybiBlLndoZXJlPW0odCx0aGlzLnBhcmVudC5kZWZpbml0aW9uRXhwcmVzc2lvbiksZX1nZXRGaWVsZChlKXtyZXR1cm4gdGhpcy5maWVsZHNJbmRleC5nZXQoZSl9Z2V0RmllbGREb21haW4oZSl7cmV0dXJuIHRoaXMuX2dldExheWVyRG9tYWluKGUpfWhhc1VzZXJPdmVycmlkZXMoKXtyZXR1cm4gRy5zb21lKChlPT50aGlzLm9yaWdpbklkT2YoZSk9PT12LlVTRVIpKX1hc3luYyBxdWVyeUF0dGFjaG1lbnRzKGUsdCl7Y29uc3Qgcj1hd2FpdCB0aGlzLmxvYWQoKTtpZighci5wYXJlbnQpdGhyb3cgWShcInF1ZXJ5QXR0YWNobWVudHNcIik7Y29uc3QgaT1lLmNsb25lKCk7cmV0dXJuIGkud2hlcmU9WChpLndoZXJlLHIucGFyZW50LnN1YnR5cGVGaWVsZCxyLnN1YnR5cGVDb2RlKSxyLnBhcmVudC5xdWVyeUF0dGFjaG1lbnRzKGUsdCl9YXN5bmMgcXVlcnlGZWF0dXJlcyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5sb2FkKCk7aWYoIXIucGFyZW50KXRocm93IFkoXCJxdWVyeUZlYXR1cmVzXCIpO2NvbnN0IGk9RC5mcm9tKGUpPz9yLmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIG51bGwhPWUmJihpLndoZXJlPVgoaS53aGVyZSxyLnBhcmVudC5zdWJ0eXBlRmllbGQsci5zdWJ0eXBlQ29kZSkpLHIucGFyZW50LnF1ZXJ5RmVhdHVyZXMoaSx0KX1fZ2V0TGF5ZXJEb21haW4oZSl7Y29uc3QgdD10aGlzLmZpZWxkc0luZGV4LmdldChlKTtyZXR1cm4gdD90LmRvbWFpbjpudWxsfX07ZShbZih7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sVy5wcm90b3R5cGUsXCJjYXBhYmlsaXRpZXNcIixudWxsKSxlKFtmKHtyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxXLnByb3RvdHlwZSxcImVmZmVjdGl2ZUNhcGFiaWxpdGllc1wiLG51bGwpLGUoW2Yoe2pzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxXLnByb3RvdHlwZSxcImNoYXJ0c1wiLHZvaWQgMCksZShbZih7dHlwZTpCb29sZWFuLG5vbk51bGxhYmxlOiEwLGpzb246e25hbWU6XCJlbmFibGVFZGl0aW5nXCIsd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFcucHJvdG90eXBlLFwiZWRpdGluZ0VuYWJsZWRcIix2b2lkIDApLGUoW2Yoe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxXLnByb3RvdHlwZSxcImVmZmVjdGl2ZUVkaXRpbmdFbmFibGVkXCIsbnVsbCksZShbZih7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sVy5wcm90b3R5cGUsXCJlbGV2YXRpb25JbmZvXCIsbnVsbCksZShbZih7anNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5maWVsZE92ZXJyaWRlc1wiLG9yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6ITF9fSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwLGFsbG93TnVsbDohMH19fSldLFcucHJvdG90eXBlLFwiZmllbGRPdmVycmlkZXNcIix2b2lkIDApLGUoW2coXCJmaWVsZE92ZXJyaWRlc1wiKV0sVy5wcm90b3R5cGUsXCJ3cml0ZUZpZWxkT3ZlcnJpZGVzXCIsbnVsbCksZShbZih7Li4uJC5maWVsZHMscmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sVy5wcm90b3R5cGUsXCJmaWVsZHNcIixudWxsKSxlKFtmKCQuZmllbGRzSW5kZXgpXSxXLnByb3RvdHlwZSxcImZpZWxkc0luZGV4XCIsdm9pZCAwKSxlKFtmKHtyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxXLnByb3RvdHlwZSxcImZsb29ySW5mb1wiLG51bGwpLGUoW2Yoe3R5cGU6dyxqc29uOntuYW1lOlwiZm9ybUluZm9cIix3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sVy5wcm90b3R5cGUsXCJmb3JtVGVtcGxhdGVcIix2b2lkIDApLGUoW2Yoe3R5cGU6U3RyaW5nLGNsb25hYmxlOiExLHJlYWRPbmx5OiEwLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6ITF9fSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sVy5wcm90b3R5cGUsXCJpZFwiLHZvaWQgMCksZShbZih7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sVy5wcm90b3R5cGUsXCJnZW9tZXRyeVR5cGVcIixudWxsKSxlKFtmKHtyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxXLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2YoXyhkKE8pKSldLFcucHJvdG90eXBlLFwibGFiZWxzVmlzaWJsZVwiLHZvaWQgMCksZShbZih7dHlwZTpbUl0sanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5sYWJlbGluZ0luZm9cIixvcmlnaW5zOntzZXJ2aWNlOntyZWFkOiExfX0scmVhZDp7cmVhZGVyOlB9LHdyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxXLnByb3RvdHlwZSxcImxhYmVsaW5nSW5mb1wiLHZvaWQgMCksZShbZih7dHlwZTpbXCJBcmNHSVNGZWF0dXJlTGF5ZXJcIl0scmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sVy5wcm90b3R5cGUsXCJsYXllclR5cGVcIix2b2lkIDApLGUoW2YoXyhkKFMpKSldLFcucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbZih7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCJdfSldLFcucHJvdG90eXBlLFwibGlzdE1vZGVcIix2b2lkIDApLGUoW2YoKCgpPT57Y29uc3QgZT1kKEkpO3JldHVybiBlLmpzb24ub3JpZ2lucy5zZXJ2aWNlLnJlYWQ9ITEsXyhlKX0pKCkpXSxXLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsdm9pZCAwKSxlKFtmKCgoKT0+e2NvbnN0IGU9ZChGKTtyZXR1cm4gZS5qc29uLm9yaWdpbnMuc2VydmljZS5yZWFkPSExLF8oZSl9KSgpKV0sVy5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLHZvaWQgMCksZShbZih7cmVhZE9ubHk6ITB9KV0sVy5wcm90b3R5cGUsXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCIsbnVsbCksZShbZih7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sVy5wcm90b3R5cGUsXCJvYmplY3RJZEZpZWxkXCIsbnVsbCksZShbZih7dHlwZTpOdW1iZXIscmFuZ2U6e21pbjowLG1heDoxfSxub25OdWxsYWJsZTohMCxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sVy5wcm90b3R5cGUsXCJvcGFjaXR5XCIsdm9pZCAwKSxlKFtmKHtjbG9uYWJsZTohMX0pXSxXLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbZihfKGQoVCkpKV0sVy5wcm90b3R5cGUsXCJwb3B1cEVuYWJsZWRcIix2b2lkIDApLGUoW2Yoe3R5cGU6dCxqc29uOntuYW1lOlwicG9wdXBJbmZvXCIsd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFcucHJvdG90eXBlLFwicG9wdXBUZW1wbGF0ZVwiLHZvaWQgMCksZShbZih7cmVhZE9ubHk6ITB9KV0sVy5wcm90b3R5cGUsXCJkZWZhdWx0UG9wdXBUZW1wbGF0ZVwiLG51bGwpLGUoW2Yoe3R5cGVzOk4sanNvbjp7d3JpdGU6e3RhcmdldDpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLGlnbm9yZU9yaWdpbjohMH19fSldLFcucHJvdG90eXBlLFwicmVuZGVyZXJcIixudWxsKSxlKFtiKFwic2VydmljZVwiLFwicmVuZGVyZXJcIixbXCJkcmF3aW5nSW5mby5yZW5kZXJlclwiLFwic3VidHlwZUZpZWxkXCIsXCJ0eXBlXCJdKV0sVy5wcm90b3R5cGUsXCJyZWFkUmVuZGVyZXJGcm9tU2VydmljZVwiLG51bGwpLGUoW2IoXCJyZW5kZXJlclwiLFtcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiXSldLFcucHJvdG90eXBlLFwicmVhZFJlbmRlcmVyXCIsbnVsbCksZShbZih7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sVy5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbZih7dHlwZTpOdW1iZXIsanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDohMX19LHdyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxXLnByb3RvdHlwZSxcInN1YnR5cGVDb2RlXCIsdm9pZCAwKSxlKFtmKHt0eXBlOltDXSxqc29uOntuYW1lOlwibGF5ZXJEZWZpbml0aW9uLnRlbXBsYXRlc1wiLHdyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxXLnByb3RvdHlwZSxcInRlbXBsYXRlc1wiLHZvaWQgMCksZShbYihcInNlcnZpY2VcIixcInRlbXBsYXRlc1wiLFtcImdlb21ldHJ5VHlwZVwiLFwic3VidHlwZUZpZWxkXCIsXCJzdWJ0eXBlc1wiLFwidHlwZVwiXSldLFcucHJvdG90eXBlLFwicmVhZFRlbXBsYXRlc0Zyb21TZXJ2aWNlXCIsbnVsbCksZShbZih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFcucHJvdG90eXBlLFwidGl0bGVcIix2b2lkIDApLGUoW2IoXCJzZXJ2aWNlXCIsXCJ0aXRsZVwiLFtcInN1YnR5cGVzXCJdKV0sVy5wcm90b3R5cGUsXCJyZWFkVGl0bGVGcm9tU2VydmljZVwiLG51bGwpLGUoW2Yoe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLFcucHJvdG90eXBlLFwidXJsXCIsbnVsbCksZShbZih7cmVhZE9ubHk6ITB9KV0sVy5wcm90b3R5cGUsXCJ1c2VySGFzVXBkYXRlSXRlbVByaXZpbGVnZXNcIixudWxsKSxlKFtmKHt0eXBlOkJvb2xlYW4sbm9uTnVsbGFibGU6ITAsanNvbjp7bmFtZTpcInZpc2liaWxpdHlcIix3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sVy5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsdm9pZCAwKSxXPWUoW2goSyldLFcpO2NvbnN0IFg9KGUsdCxyKT0+e2NvbnN0IGk9bmV3IFJlZ0V4cChgJHt0fVxcXFxzKj1cXFxccypcXFxcZCtgKSxvPWAke3R9PSR7cn1gLG49ZT8/XCJcIjtyZXR1cm4gaS50ZXN0KG4pP24ucmVwbGFjZShpLG8pOm0obyxuKX0sWT1lPT5uZXcgYShgVGhpcyBzdWJsYXllciBtdXN0IGhhdmUgYSBwYXJlbnQgU3VidHlwZUdyb3VwTGF5ZXIgaW4gb3JkZXIgdG8gdXNlICR7ZX1gKSxaPVc7ZXhwb3J0e1ogYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=