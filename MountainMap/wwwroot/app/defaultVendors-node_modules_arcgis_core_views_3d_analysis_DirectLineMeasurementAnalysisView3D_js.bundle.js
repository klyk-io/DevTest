"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_analysis_DirectLineMeasurementAnalysisView3D_js"],{

/***/ "./node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   M: () => (/* binding */ s),
/* harmony export */   b: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n){const s=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder,{vertex:a,fragment:l}=s;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addProjViewLocalOrigin)(a,n),a.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("width",(e=>e.width))),s.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.POSITION,"vec3"),s.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.NORMAL,"vec3"),s.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.UV0,"vec2"),s.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__.VertexAttribute.AUXPOS1,"float"),s.varyings.add("vtc","vec2"),s.varyings.add("vlength","float"),s.varyings.add("vradius","float"),a.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`void main(void) {
vec3 bitangent = normal;
vtc = uv0;
vlength = auxpos1;
vradius = 0.5 * width;
vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);
gl_Position = proj * pos;
}`),l.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("outlineSize",(e=>e.outlineSize)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float4PassUniform("outlineColor",(e=>e.outlineColor)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("stripeLength",(e=>e.stripeLength)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float4PassUniform("stripeEvenColor",(e=>e.stripeEvenColor)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float4PassUniform("stripeOddColor",(e=>e.stripeOddColor)));const v=1/Math.sqrt(2);return l.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`
    const float INV_SQRT2 = ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl.float(v)};

    vec4 arrowColor(vec2 tc, float len) {
      float d = INV_SQRT2 * (tc.x - abs(tc.y));
      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));
      d = min(d, 1.0 - abs(tc.y));

      if (d < 0.0) {
        return vec4(0.0);
      } else if (d < outlineSize) {
        return outlineColor;
      } else {
        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;
      }
    }

    void main(void) {
      vec2 ntc = vec2(vtc.x / vradius, vtc.y);
      vec4 color = arrowColor(ntc, vlength / vradius);
      if (color.a == 0.0) {
        discard;
      }
      fragColor = color;
    }
  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:n},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _properties_defaultUnit_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../properties/defaultUnit.js */ "./node_modules/@arcgis/core/properties/defaultUnit.js");
/* harmony import */ var _AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AnalysisView3D.js */ "./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/analysis/interfaces.js");
/* harmony import */ var _DirectLineMeasurement_DirectLineMeasurementController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DirectLineMeasurement/DirectLineMeasurementController.js */ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js");
/* harmony import */ var _DirectLineMeasurement_DirectLineMeasurementVisualization_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DirectLineMeasurement/DirectLineMeasurementVisualization.js */ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends((0,_AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_9__.AnalysisView3D)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(t){super(t),this.type="direct-line-measurement-view-3d",this.analysis=null,this.result=null,this.measurementMode=_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.MeasurementMode.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,i=this.analysis;this._analysisVisualization=new _DirectLineMeasurement_DirectLineMeasurementVisualization_js__WEBPACK_IMPORTED_MODULE_12__.DirectLineMeasurementVisualization({view:t,analysis:i,analysisView:this}),this._analysisController=new _DirectLineMeasurement_DirectLineMeasurementController_js__WEBPACK_IMPORTED_MODULE_11__.DirectLineMeasurementController({view:t,analysis:i,viewData:this})}destroy(){this._analysisController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._analysisController),this._analysisVisualization=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct?.text??""}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??""}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??""}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){return this.destroyed?{labels:null,stripeLength:null,visualization:null,controller:null}:{...this._analysisVisualization?.testData,visualization:this._analysisVisualization,controller:this._analysisController}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0,nonNullable:!0})],p.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"result",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"measurementMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"elevationAlignedStartPoint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"elevationAlignedEndPoint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"viewMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"actualVisualizedMeasurement",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"visualElementOrientation",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"allowVisualElementsOrientationChange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"triangleCollapseRatioThreshold",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"directLabelText",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"horizontalLabelText",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"verticalLabelText",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"_analysisVisualization",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"_analysisController",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"unit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_properties_defaultUnit_js__WEBPACK_IMPORTED_MODULE_8__.defaultUnitPropertyMetadata)],p.prototype,"_defaultUnit",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D")],p);const y=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirectLineMeasurementController: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/spatialReferenceEllipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_projection_projectPointToWGS84ComparableLonLat_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToWGS84ComparableLonLat.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToWGS84ComparableLonLat.js");
/* harmony import */ var _geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/geodesicUtils.js */ "./node_modules/@arcgis/core/geometry/support/geodesicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/analysis/interfaces.js");
/* harmony import */ var _support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/projectionUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js");
/* harmony import */ var _support_UnitNormalizer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/UnitNormalizer.js */ "./node_modules/@arcgis/core/views/3d/analysis/support/UnitNormalizer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const R="esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController",E=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(R),S=1e5;let b=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._unitNormalizer=new _support_UnitNormalizer_js__WEBPACK_IMPORTED_MODULE_21__.UnitNormalizer,this._tempStartPosition=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),this._tempEndPosition=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),this._tempCornerPosition=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)()}initialize(){const e=this.view.spatialReference,t=(0,_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_15__.getSphericalPCPF)(e),i=t===_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_15__.SphericalECEFSpatialReference?_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_15__.WGS84ECEFSpatialReference:t;this._sphericalPCPF=i;const o=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__.canProjectWithoutEngine)(e,i);this._unitNormalizer.spatialReference=o?i:e,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:e,startPoint:t})=>{e.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(t)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:e,endPoint:t})=>{e.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(t)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial)])}_applyProjectionAndElevationAlignment(e){if(null==e)return e;const{spatialReference:t,elevationProvider:i}=this.view,o=(0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_20__.applyProjectionAndElevationAlignment)(e,t,i);return o??((0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_20__.logFailedGeometryProjectionError)(this.analysis,e.spatialReference,E),null)}get _computedResult(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,measurementMode:i}=this.viewData;if(null==e||null==t)return null;const o=this._euclideanDistances(e,t),r=this._geodesicDistance(e,t,o.horizontal.value),s=i===_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.MeasurementMode.Geodesic||i===_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.MeasurementMode.Auto&&o.horizontal.value>S?"geodesic":"euclidean";return{mode:s,distance:"euclidean"===s?o.direct:r,directDistance:o.direct,horizontalDistance:o.horizontal,verticalDistance:o.vertical,geodesicDistance:r}}_euclideanDistances(e,t){const i=e.clone();i.z=t.z;const r=this._tempStartPosition,s=this._tempEndPosition,n=this._tempCornerPosition,a=this.view.spatialReference,l=this._sphericalPCPF,p=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__.canProjectWithoutEngine)(a,l)?l:a;(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_16__.projectPointToVector)(e,r,p),(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_16__.projectPointToVector)(t,s,p),(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_16__.projectPointToVector)(i,n,p);const m=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__.o)(r,s),d=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__.o)(n,s),h=Math.abs(t.z-e.z),v=e=>this._unitNormalizer.normalizeDistance(e),j=v(m),g=v(d),P=v(h);return{direct:(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__.createQuantity)(j,"meters"),horizontal:(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__.createQuantity)(g,"meters"),vertical:(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__.createQuantity)(P,"meters")}}_geodesicDistance(e,t,i){const r=e.spatialReference,s=new _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_13__["default"]({spatialReference:r});s.addPath([e,t]);const n=r.isGeographic&&(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_18__.isSupported)(r)?(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_18__.geodesicLengths)([s],"meters")[0]:r.isWebMercator?(0,_geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_12__.geodesicLength)(s,"meters"):null,a=null!=n?n:this._fallbackGeodesicDistance(e,t,i);return (0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__.createQuantity)(a,"meters")}_fallbackGeodesicDistance(e,t,i){if((0,_geometry_projection_projectPointToWGS84ComparableLonLat_js__WEBPACK_IMPORTED_MODULE_17__.projectPointToWGS84ComparableLonLat)(e,U)&&(0,_geometry_projection_projectPointToWGS84ComparableLonLat_js__WEBPACK_IMPORTED_MODULE_17__.projectPointToWGS84ComparableLonLat)(t,C)){const e=new _geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_18__.InverseGeodeticSolverResult;return (0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_18__.inverseGeodeticSolver)(e,U,C),e.distance}return i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],b.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],b.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],b.prototype,"viewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],b.prototype,"_computedResult",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)(R)],b);const U=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirectLineMeasurementVisualization: () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/quantityFormatUtils.js */ "./node_modules/@arcgis/core/core/quantityFormatUtils.js");
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/analysis/interfaces.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/support/viewUtils.js");
/* harmony import */ var _interactive_visualElements_LabelVisualElement_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../interactive/visualElements/LabelVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js");
/* harmony import */ var _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../interactive/visualElements/LineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js");
/* harmony import */ var _interactive_visualElements_MeasurementArrowVisualElement_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../interactive/visualElements/MeasurementArrowVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js");
/* harmony import */ var _interactive_visualElements_RightAngleQuadVisualElement_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../interactive/visualElements/RightAngleQuadVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js");
/* harmony import */ var _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../interactive/visualElements/support/Segment.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl-engine/materials/lineStippleUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js");
/* harmony import */ var _intl_locale_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../intl/locale.js */ "./node_modules/@arcgis/core/intl/locale.js");
/* harmony import */ var _intl_messages_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../intl/messages.js */ "./node_modules/@arcgis/core/intl/messages.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let B=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:a}=e,r=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.unitRGBAFromColor)(t),c=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.multiplyOpacityToUnitRGBA)(t,.75),d=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.unitRGBAFromColor)((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.getContrast)(t)),u=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.getContrast)(a,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.BrightnessThreshold.Low);return{accentColor:r,contrastColor:d,translucentAccentColor:c,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:a,textBackgroundColor:(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.multiplyOpacity)(u,.6),textCalloutColor:(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_3__.multiplyOpacity)(u,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.None;const i=this.analysisView.result;if(null==i)return _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Direct;if("geodesic"===i.mode)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.ProjectedGeodesic:_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Direct;const{verticalDistance:s,horizontalDistance:n}=i,o=s.value,l=n.value;return Math.min(o/l,l/o)<this.triangleCollapseRatioThreshold?_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Direct:_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Triangle}get actualVisualizedMeasurement(){if(null==this.analysisView.result)switch(this.analysisView.measurementMode){case _interfaces_js__WEBPACK_IMPORTED_MODULE_19__.MeasurementMode.Auto:case _interfaces_js__WEBPACK_IMPORTED_MODULE_19__.MeasurementMode.Euclidean:default:return"euclidean";case _interfaces_js__WEBPACK_IMPORTED_MODULE_19__.MeasurementMode.Geodesic:return"geodesic"}return this.analysisView.result.mode}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){const e="geodesic"===this.actualVisualizedMeasurement;return{direct:this._segmentLabel,horizontal:e?this._segmentLabel:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),this._endPosition=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),this._cornerPosition=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),this._startPositionAtSeaLevel=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),this._endPositionAtSeaLevel=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:s,triangleLineWidth:n,geodesicProjectionLineWidth:o,directLabelFontSize:l,verticalLabelFontSize:a,horizontalLabelFontSize:r}=e;this._segmentVisualElement=new _interactive_visualElements_MeasurementArrowVisualElement_js__WEBPACK_IMPORTED_MODULE_24__.MeasurementArrowVisualElement({...t,geometry:null,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_27__.RenderOccludedFlag.OccludeAndTransparent}),this._triangleVisualElement=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__.LineVisualElement({...t,width:n,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_27__.RenderOccludedFlag.OccludeAndTransparent}),this._rightAngleQuad=new _interactive_visualElements_RightAngleQuadVisualElement_js__WEBPACK_IMPORTED_MODULE_25__.RightAngleQuadVisualElement({...t,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_27__.RenderOccludedFlag.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_27__.RenderOccludedFlag.OccludeAndTransparent};this._projectedGeodesicLine=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__.LineVisualElement({...c,width:o,stipplePattern:(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_28__.createStipplePatternSimple)(s)}),this._geodesicStartHint=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__.LineVisualElement({...c,width:i,stipplePattern:(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_28__.createStipplePatternSimple)(s)}),this._geodesicEndHint=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__.LineVisualElement({...c,width:i,stipplePattern:(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_28__.createStipplePatternSimple)(s)}),this._segmentLabel=new _interactive_visualElements_LabelVisualElement_js__WEBPACK_IMPORTED_MODULE_22__.LabelVisualElement({...t,fontSize:l}),this._verticalLabel=new _interactive_visualElements_LabelVisualElement_js__WEBPACK_IMPORTED_MODULE_22__.LabelVisualElement({...t,fontSize:a}),this._horizontalLabel=new _interactive_visualElements_LabelVisualElement_js__WEBPACK_IMPORTED_MODULE_22__.LabelVisualElement({...t,fontSize:r}),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.syncAndInitial),(0,_intl_locale_js__WEBPACK_IMPORTED_MODULE_29__.onLocaleChange)((async()=>this._updateMessageBundle())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:o})=>{const{_segmentLabel:l,_verticalLabel:a,_horizontalLabel:r,_triangleVisualElement:c,_rightAngleQuad:d,_projectedGeodesicLine:u,_geodesicStartHint:h,_geodesicEndHint:m,_segmentVisualElement:g}=this;l.backgroundColor=e,l.calloutColor=t,l.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,r.backgroundColor=e,r.calloutColor=t,r.textColor=i,c.color=s,d.color=s,u.color=s,h.color=s,m.color=s,g.color=n,g.contrastColor=o}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._segmentVisualElement),this._triangleVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._triangleVisualElement),this._rightAngleQuad=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._rightAngleQuad),this._projectedGeodesicLine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._projectedGeodesicLine),this._geodesicStartHint=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._geodesicStartHint),this._geodesicEndHint=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._geodesicEndHint),this._segmentLabel=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._segmentLabel),this._verticalLabel=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._verticalLabel),this._horizontalLabel=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._horizontalLabel),this.set("view",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.None:break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Direct:this._segmentVisualElement.visible=!0;break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:o,visualizedMeasurement:l,stripeLength:a}){const r=e.renderCoordsHelper;if(null==r||null==s||null==n||s.equals(n))return;let c=this._startPosition,d=this._endPosition;r.toRenderCoords(s,c),r.toRenderCoords(n,d);const u=o===_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.AboveSegment?1:-1,h=u*(r.getAltitude(d)-r.getAltitude(c));h<0&&(c=this._endPosition,d=this._startPosition);const m="geodesic"===l?new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.GeodesicSegment(this._startPosition,this._endPosition,r.spatialReference):new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.EuclideanSegment(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(a),i){case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Direct:this._updateSegment(m,o);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:o,startPosition:c,endPosition:d,deltaSign:u,altitudeDelta:h});break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:d})}}_updateSegment(e,t){this._segmentLabel.anchor=t===_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.AboveSegment?"top":"bottom",this._segmentLabel.geometry={type:"segment",segment:e,sampleLocation:"center"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:o,deltaSign:l,altitudeDelta:a}){const r=this._cornerPosition;e.worldUpAtPosition(n,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.i)(r,r,l*Math.abs(a)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.g)(r,r,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[r[0],r[1],r[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:n,center:r,next:o};const c=new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.EuclideanSegment(n,r),d=new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.EuclideanSegment(r,o),u=W(n,o,r,s,t);this._segmentLabel.anchor=u.segment,this._segmentLabel.geometry={type:"segment",segment:i,sampleLocation:"center"},this._verticalLabel.geometry={type:"segment",segment:c,sampleLocation:"center"},this._verticalLabel.anchor=u.vertical,this._horizontalLabel.geometry={type:"segment",segment:d,sampleLocation:"center"},this._horizontalLabel.anchor=u.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.GeodesicSegment(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.EuclideanSegment(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new _interactive_visualElements_support_Segment_js__WEBPACK_IMPORTED_MODULE_26__.EuclideanSegment(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:"segment",segment:n,sampleLocation:"center"},this._segmentLabel.anchor=t===_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.AboveSegment?"top":"bottom"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text="euclidean"===t?e.euclideanDistance:e.geodesicDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange("labels")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Direct:i.visible=!0;break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.Triangle:i.visible=!0,s.visible=!0,n.visible=!0;break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.ProjectedGeodesic:i.visible=!0;case _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ViewMode.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n,geodesicDistance:o}=t,l=this.analysisView.unit,a=e=>({euclideanDistance:"",geodesicDistance:"",horizontalDistance:"",verticalDistance:"",...e});switch(l){case"metric":return a({euclideanDistance:i&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatMetricLength)(e,i),geodesicDistance:o&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatMetricLength)(e,o),horizontalDistance:s&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatMetricLength)(e,s),verticalDistance:n&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatMetricVerticalLength)(e,n)});case"imperial":return a({euclideanDistance:i&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatImperialLength)(e,i),geodesicDistance:o&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatImperialLength)(e,o),horizontalDistance:s&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatImperialLength)(e,s),verticalDistance:n&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatImperialVerticalLength)(e,n)});default:return a({euclideanDistance:i&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatDecimal)(e,i,l),geodesicDistance:o&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatDecimal)(e,o,l),horizontalDistance:s&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatDecimal)(e,s,l),verticalDistance:n&&(0,_core_quantityFormatUtils_js__WEBPACK_IMPORTED_MODULE_6__.formatDecimal)(e,n,l)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.Auto?this.view.state.camera.aboveGround?_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.AboveSegment:_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case"metric":i=s&&(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_7__.toUnit)(s,"meters");break;case"imperial":i=s&&(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_7__.toUnit)(s,(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_10__.adaptiveImperialLengthUnit)(s.value,s.unit));break;default:i=s&&(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_7__.toUnit)(s,t)}if(null==i)return null;return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.nextHighestPowerOfTen)(i.value/30)*(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertUnit)(1,i.unit,"meters")}_updateMessageBundle(){this.loadingMessages=!0,(0,_intl_messages_js__WEBPACK_IMPORTED_MODULE_30__.fetchMessageBundle)("esri/core/t9n/Units").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){return{labels:this.labels,stripeLength:this._segmentVisualElement?.stripeLength}}};function W(e,t,i,s,n){const o=I,l=J;n.projectToRenderScreen(i,o),n.projectToRenderScreen(t,l);const a={segment:"bottom",horizontal:"top",vertical:o[0]<l[0]?"left":"right"};{const s=K,o=X;if((0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_21__.screenSpaceTangent)(e,i,s,n),(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_21__.screenSpaceTangent)(e,t,o,n),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_16__.g)(s,o)>=N){const e=Math.sign(s[1])===Math.sign(o[1]);a.segment=e?(0,_interactive_visualElements_LabelVisualElement_js__WEBPACK_IMPORTED_MODULE_22__.mirrorPosition)(a.vertical):a.vertical}else{const e=Y;(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_21__.screenSpaceTangent)(i,t,e,n),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_16__.g)(e,o)>=N&&(a.segment=Math.sign(e[0])===Math.sign(o[0])?(0,_interactive_visualElements_LabelVisualElement_js__WEBPACK_IMPORTED_MODULE_22__.mirrorPosition)(a.horizontal):a.horizontal)}}if(s===_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.VisualElementOrientation.BelowSegment){const e=e=>"top"===e?"bottom":"top";a.segment=e(a.segment),a.horizontal=e(a.horizontal),a.vertical=e(a.vertical)}return a}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"_parameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"_triangleOrientationOverride",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"analysisView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"loadingMessages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"viewMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"actualVisualizedMeasurement",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"visualElementOrientation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"triangleCollapseRatioThreshold",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"allowVisualElementsOrientationChange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"labels",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"_labelsText",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"_actualVisualElementsOrientation",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_11__.property)()],B.prototype,"_measurementArrowStripeLength",null),B=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_15__.subclass)("esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization")],B);const N=Math.cos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__.deg2rad)(12)),I=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.createRenderScreenPointArray3)(),J=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.createRenderScreenPointArray3)(),K=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.createRenderScreenPointArray)(),X=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.createRenderScreenPointArray)(),Y=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.createRenderScreenPointArray)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewMode: () => (/* binding */ e),
/* harmony export */   VisualElementOrientation: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e,o;!function(e){e[e.None=0]="None",e[e.Direct=1]="Direct",e[e.Triangle=2]="Triangle",e[e.ProjectedGeodesic=3]="ProjectedGeodesic"}(e||(e={})),function(e){e[e.Auto=0]="Auto",e[e.AboveSegment=1]="AboveSegment",e[e.BelowSegment=2]="BelowSegment"}(o||(o={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeasurementArrowVisualElement: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_materials_MeasurementArrowMaterial_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/materials/MeasurementArrowMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class p extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_10__.Object3DVisualElement{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this._originTransform=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.a)(),this._arrowCenter=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this._renderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_12__.RenderOccludedFlag.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.c)(),this._contrastColor=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.c)(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(t){(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__.colorVectorEquals)(t,this._color)||((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._color,t),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(t){(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__.colorVectorEquals)(t,this._color)||((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_7__.c)(this._contrastColor,t),this._updateArrowColor())}createExternalResources(){const e=this._color,r=this._contrastColor,o=this._stripesEnabled?r:e;this._arrowMaterial=new _webgl_engine_materials_MeasurementArrowMaterial_js__WEBPACK_IMPORTED_MODULE_13__.MeasurementArrowMaterial({outlineColor:e,stripeEvenColor:o,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,r,s){const o=this.view.renderCoordsHelper,a=[],n=[],h=(e,t)=>{const s=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__.sv3d.get();(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(s,e,r),a.push(s),n.push(t)};if("euclidean"===s.type){s.eval(.5,this._arrowCenter);const r=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__.sv3d.get();o.worldUpAtPosition(this._arrowCenter,r),h(e,r),h(t,r)}else{s.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const r=t/(e-1),i=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__.sv3d.get(),a=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__.sv3d.get();s.eval(r,i),o.worldUpAtPosition(i,a),h(i,a)}}return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__.createPolylineGeometry)(this._arrowMaterial,a,n)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,r=this._stripesEnabled?t:e,s=e,o=e;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeasurementArrowMaterial: () => (/* binding */ O),
/* harmony export */   Parameters: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _shaders_MeasurementArrowTechnique_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../shaders/MeasurementArrowTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class O extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.Material{constructor(t){super(t,new b),this._configuration=new _shaders_MeasurementArrowTechnique_js__WEBPACK_IMPORTED_MODULE_9__.MeasurementArrowTechniqueConfiguration}getConfiguration(t,e){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration}intersect(){}produces(t,e){if(e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Color||e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Alpha){return t===(this._transparent?_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new A(t)}createBufferWriter(){return new y}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class A extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__["default"]{beginSlot(t){return this.ensureTechnique(_shaders_MeasurementArrowTechnique_js__WEBPACK_IMPORTED_MODULE_9__.MeasurementArrowTechnique,t)}}class b extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.MaterialParameters{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1,.5,0,1),this.stripeEvenColor=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1,1,1,1),this.stripeOddColor=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const T=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_3__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NORMAL).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.UV0).f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.AUXPOS1),_=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),I=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),L=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),j=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();class y{constructor(){this.vertexBufferLayout=T}elementCount(t){return 2*(t.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION).indices.length/2+1)}write(i,a,c,u,f){const{data:p,indices:l}=c.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION),h=c.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NORMAL).data,d=p.length/3;l&&l.length!==2*(d-1)&&console.warn("MeasurementArrowMaterial does not support indices");const g=_,O=v,A=I,b=L,T=j,y=u.position,E=u.normal,M=u.uv0;let S=0;for(let m=0;m<d;++m){const c=3*m;if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(g,p[c],p[c+1],p[c+2]),m<d-1){const o=3*(m+1);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(O,p[o],p[o+1],p[o+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(T,h[o],h[o+1],h[o+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(T,T),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(A,O,g),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(A,A),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(b,T,A),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(b,b)}const u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.o)(g,O);i&&a&&((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.e)(g,g,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.e)(O,O,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.e)(b,b,a));const l=f+2*m,_=l+1;y.setVec(l,g),y.setVec(_,g),E.setVec(l,b),E.setVec(_,b),M.set(l,0,S),M.set(l,1,-1),M.set(_,0,S),M.set(_,1,1),m<d-1&&(S+=u)}const w=u.auxpos1;for(let t=0;t<2*d;++t)w.set(f+t,S)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeasurementArrowTechnique: () => (/* binding */ g),
/* harmony export */   MeasurementArrowTechniqueConfiguration: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_MeasurementArrow_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/MeasurementArrow.glsl.js */ "./node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__.Program(e.rctx,g.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__.Default3D)}_setPipelineState(e){const r=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__.TransparencyPassType.NONE,t=this.configuration;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:t.transparent?r?_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blendingDefault:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitBlending)(e):null,polygonOffset:this.configuration.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.CompareFunction.LESS},depthWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultDepthWriteParams,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWriteParams})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.PrimitiveType.TRIANGLE_STRIP}}g.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_MeasurementArrow_glsl_js__WEBPACK_IMPORTED_MODULE_9__.M,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_MeasurementArrow_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./MeasurementArrow.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrow.glsl.js"))));class y extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__.TransparencyPassType.NONE}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],y.prototype,"polygonOffsetEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],y.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_7__.TransparencyPassType.COUNT})],y.prototype,"transparencyPassType",void 0);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2FuYWx5c2lzX0RpcmVjdExpbmVNZWFzdXJlbWVudEFuYWx5c2lzVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQytpQixjQUFjLFlBQVkscUdBQUMsRUFBRSxvQkFBb0IsR0FBRyxtSEFBQyx5QkFBeUIsMkdBQUMseUNBQXlDLDBGQUFDLG1DQUFtQywwRkFBQyxpQ0FBaUMsMEZBQUMsOEJBQThCLDBGQUFDLDhIQUE4SCw2RkFBQztBQUM1NEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0IsMkdBQUMsdUNBQXVDLDZHQUFDLHlDQUF5QywyR0FBQyx5Q0FBeUMsNkdBQUMsK0NBQStDLDZHQUFDLDBDQUEwQyx1QkFBdUIsa0JBQWtCLDZGQUFDO0FBQ3hSLDhCQUE4Qix5RkFBQzs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sNkNBQTZDLHVCQUF1QixxQkFBcUIsZUFBZSxHQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDNnpCLG9CQUFvQixrRUFBQyxDQUFDLHlEQUFDLEdBQUcsZUFBZSw4R0FBOEcsNERBQUMsOEVBQThFLGFBQWEsa0NBQWtDLGdDQUFnQyw2SEFBQyxFQUFFLG9DQUFvQywrQkFBK0IsdUhBQUMsRUFBRSxnQ0FBZ0MsRUFBRSxVQUFVLHlCQUF5Qiw0REFBQyx1REFBdUQsNERBQUMsOEJBQThCLGVBQWUscURBQXFELGVBQWUsNENBQTRDLGtDQUFrQywrREFBK0QsK0JBQStCLDREQUE0RCxnQ0FBZ0MsdURBQXVELDJDQUEy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QUFnQixzR0FBQyxDQUFDLGNBQWMsK0ZBQStGLDhFQUFDLE9BQU8sdURBQUMsRUFBRSxnR0FBQywrQ0FBK0MsdURBQUMsRUFBRSxnR0FBQyxzQ0FBc0MsdURBQUMsRUFBRSxnR0FBQyxFQUFFLE1BQU0sOEVBQUMsT0FBTyw4Q0FBaUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL01lYXN1cmVtZW50QXJyb3cuZ2xzbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvRGlyZWN0TGluZU1lYXN1cmVtZW50QW5hbHlzaXNWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL0RpcmVjdExpbmVNZWFzdXJlbWVudC9EaXJlY3RMaW5lTWVhc3VyZW1lbnRDb250cm9sbGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9EaXJlY3RMaW5lTWVhc3VyZW1lbnQvRGlyZWN0TGluZU1lYXN1cmVtZW50VmlzdWFsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvRGlyZWN0TGluZU1lYXN1cmVtZW50L2ludGVyZmFjZXMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL01lYXN1cmVtZW50QXJyb3dWaXN1YWxFbGVtZW50LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL01lYXN1cmVtZW50QXJyb3dNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvTWVhc3VyZW1lbnRBcnJvd1RlY2huaXF1ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2FkZFByb2pWaWV3TG9jYWxPcmlnaW4gYXMgZX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvVmlldy5nbHNsLmpzXCI7aW1wb3J0e0Zsb2F0NFBhc3NVbmlmb3JtIGFzIG99ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIHR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgcn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBpfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvU2hhZGVyQnVpbGRlci5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgZH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2Z1bmN0aW9uIG4obil7Y29uc3Qgcz1uZXcgaSx7dmVydGV4OmEsZnJhZ21lbnQ6bH09cztlKGEsbiksYS51bmlmb3Jtcy5hZGQobmV3IHQoXCJ3aWR0aFwiLChlPT5lLndpZHRoKSkpLHMuYXR0cmlidXRlcy5hZGQoZC5QT1NJVElPTixcInZlYzNcIikscy5hdHRyaWJ1dGVzLmFkZChkLk5PUk1BTCxcInZlYzNcIikscy5hdHRyaWJ1dGVzLmFkZChkLlVWMCxcInZlYzJcIikscy5hdHRyaWJ1dGVzLmFkZChkLkFVWFBPUzEsXCJmbG9hdFwiKSxzLnZhcnlpbmdzLmFkZChcInZ0Y1wiLFwidmVjMlwiKSxzLnZhcnlpbmdzLmFkZChcInZsZW5ndGhcIixcImZsb2F0XCIpLHMudmFyeWluZ3MuYWRkKFwidnJhZGl1c1wiLFwiZmxvYXRcIiksYS5jb2RlLmFkZChyYHZvaWQgbWFpbih2b2lkKSB7XG52ZWMzIGJpdGFuZ2VudCA9IG5vcm1hbDtcbnZ0YyA9IHV2MDtcbnZsZW5ndGggPSBhdXhwb3MxO1xudnJhZGl1cyA9IDAuNSAqIHdpZHRoO1xudmVjNCBwb3MgPSB2aWV3ICogdmVjNChwb3NpdGlvbiArIHZyYWRpdXMgKiBiaXRhbmdlbnQgKiB1djAueSwgMS4wKTtcbmdsX1Bvc2l0aW9uID0gcHJvaiAqIHBvcztcbn1gKSxsLnVuaWZvcm1zLmFkZChuZXcgdChcIm91dGxpbmVTaXplXCIsKGU9PmUub3V0bGluZVNpemUpKSxuZXcgbyhcIm91dGxpbmVDb2xvclwiLChlPT5lLm91dGxpbmVDb2xvcikpLG5ldyB0KFwic3RyaXBlTGVuZ3RoXCIsKGU9PmUuc3RyaXBlTGVuZ3RoKSksbmV3IG8oXCJzdHJpcGVFdmVuQ29sb3JcIiwoZT0+ZS5zdHJpcGVFdmVuQ29sb3IpKSxuZXcgbyhcInN0cmlwZU9kZENvbG9yXCIsKGU9PmUuc3RyaXBlT2RkQ29sb3IpKSk7Y29uc3Qgdj0xL01hdGguc3FydCgyKTtyZXR1cm4gbC5jb2RlLmFkZChyYFxuICAgIGNvbnN0IGZsb2F0IElOVl9TUVJUMiA9ICR7ci5mbG9hdCh2KX07XG5cbiAgICB2ZWM0IGFycm93Q29sb3IodmVjMiB0YywgZmxvYXQgbGVuKSB7XG4gICAgICBmbG9hdCBkID0gSU5WX1NRUlQyICogKHRjLnggLSBhYnModGMueSkpO1xuICAgICAgZCA9IG1pbihkLCBJTlZfU1FSVDIgKiAobGVuIC0gdGMueCAtIGFicyh0Yy55KSkpO1xuICAgICAgZCA9IG1pbihkLCAxLjAgLSBhYnModGMueSkpO1xuXG4gICAgICBpZiAoZCA8IDAuMCkge1xuICAgICAgICByZXR1cm4gdmVjNCgwLjApO1xuICAgICAgfSBlbHNlIGlmIChkIDwgb3V0bGluZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIG91dGxpbmVDb2xvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmcmFjdCgwLjUgLyBzdHJpcGVMZW5ndGggKiB0Yy54ICogdnJhZGl1cykgPj0gMC41ID8gc3RyaXBlT2RkQ29sb3IgOiBzdHJpcGVFdmVuQ29sb3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgIHZlYzIgbnRjID0gdmVjMih2dGMueCAvIHZyYWRpdXMsIHZ0Yy55KTtcbiAgICAgIHZlYzQgY29sb3IgPSBhcnJvd0NvbG9yKG50Yywgdmxlbmd0aCAvIHZyYWRpdXMpO1xuICAgICAgaWYgKGNvbG9yLmEgPT0gMC4wKSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG4gICAgICBmcmFnQ29sb3IgPSBjb2xvcjtcbiAgICB9XG4gIGApLHN9Y29uc3Qgcz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsYnVpbGQ6bn0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtzIGFzIE0sbiBhcyBifTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtkZWZhdWx0VW5pdFByb3BlcnR5TWV0YWRhdGEgYXMgbH1mcm9tXCIuLi8uLi8uLi9wcm9wZXJ0aWVzL2RlZmF1bHRVbml0LmpzXCI7aW1wb3J0e0FuYWx5c2lzVmlldzNEIGFzIG59ZnJvbVwiLi9BbmFseXNpc1ZpZXczRC5qc1wiO2ltcG9ydHtNZWFzdXJlbWVudE1vZGUgYXMgb31mcm9tXCIuL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7RGlyZWN0TGluZU1lYXN1cmVtZW50Q29udHJvbGxlciBhcyByfWZyb21cIi4vRGlyZWN0TGluZU1lYXN1cmVtZW50L0RpcmVjdExpbmVNZWFzdXJlbWVudENvbnRyb2xsZXIuanNcIjtpbXBvcnR7RGlyZWN0TGluZU1lYXN1cmVtZW50VmlzdWFsaXphdGlvbiBhcyB1fWZyb21cIi4vRGlyZWN0TGluZU1lYXN1cmVtZW50L0RpcmVjdExpbmVNZWFzdXJlbWVudFZpc3VhbGl6YXRpb24uanNcIjtsZXQgcD1jbGFzcyBleHRlbmRzKG4oaSkpe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudHlwZT1cImRpcmVjdC1saW5lLW1lYXN1cmVtZW50LXZpZXctM2RcIix0aGlzLmFuYWx5c2lzPW51bGwsdGhpcy5yZXN1bHQ9bnVsbCx0aGlzLm1lYXN1cmVtZW50TW9kZT1vLkF1dG8sdGhpcy5lbGV2YXRpb25BbGlnbmVkU3RhcnRQb2ludD1udWxsLHRoaXMuZWxldmF0aW9uQWxpZ25lZEVuZFBvaW50PW51bGx9aW5pdGlhbGl6ZSgpe2NvbnN0IHQ9dGhpcy52aWV3LGk9dGhpcy5hbmFseXNpczt0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb249bmV3IHUoe3ZpZXc6dCxhbmFseXNpczppLGFuYWx5c2lzVmlldzp0aGlzfSksdGhpcy5fYW5hbHlzaXNDb250cm9sbGVyPW5ldyByKHt2aWV3OnQsYW5hbHlzaXM6aSx2aWV3RGF0YTp0aGlzfSl9ZGVzdHJveSgpe3RoaXMuX2FuYWx5c2lzQ29udHJvbGxlcj1lKHRoaXMuX2FuYWx5c2lzQ29udHJvbGxlciksdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uPWUodGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hIXRoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbj8ubG9hZGluZ01lc3NhZ2VzfWdldCB2aWV3TW9kZSgpe3JldHVybiB0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24udmlld01vZGV9Z2V0IGFjdHVhbFZpc3VhbGl6ZWRNZWFzdXJlbWVudCgpe3JldHVybiB0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24uYWN0dWFsVmlzdWFsaXplZE1lYXN1cmVtZW50fWdldCB2aXN1YWxFbGVtZW50T3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uLnZpc3VhbEVsZW1lbnRPcmllbnRhdGlvbn1zZXQgdmlzdWFsRWxlbWVudE9yaWVudGF0aW9uKHQpe3RoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbi52aXN1YWxFbGVtZW50T3JpZW50YXRpb249dH1nZXQgYWxsb3dWaXN1YWxFbGVtZW50c09yaWVudGF0aW9uQ2hhbmdlKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbi5hbGxvd1Zpc3VhbEVsZW1lbnRzT3JpZW50YXRpb25DaGFuZ2V9c2V0IGFsbG93VmlzdWFsRWxlbWVudHNPcmllbnRhdGlvbkNoYW5nZSh0KXt0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24uYWxsb3dWaXN1YWxFbGVtZW50c09yaWVudGF0aW9uQ2hhbmdlPXR9Z2V0IHRyaWFuZ2xlQ29sbGFwc2VSYXRpb1RocmVzaG9sZCgpe3JldHVybiB0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24udHJpYW5nbGVDb2xsYXBzZVJhdGlvVGhyZXNob2xkfXNldCB0cmlhbmdsZUNvbGxhcHNlUmF0aW9UaHJlc2hvbGQodCl7dGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uLnRyaWFuZ2xlQ29sbGFwc2VSYXRpb1RocmVzaG9sZD10fWdldCBkaXJlY3RMYWJlbFRleHQoKXtyZXR1cm4gdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uLmxhYmVscy5kaXJlY3Q/LnRleHQ/P1wiXCJ9Z2V0IGhvcml6b250YWxMYWJlbFRleHQoKXtyZXR1cm4gdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uLmxhYmVscy5ob3Jpem9udGFsPy50ZXh0Pz9cIlwifWdldCB2ZXJ0aWNhbExhYmVsVGV4dCgpe3JldHVybiB0aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24ubGFiZWxzLnZlcnRpY2FsPy50ZXh0Pz9cIlwifWdldCB1bml0KCl7cmV0dXJuIHRoaXMuYW5hbHlzaXMudW5pdD8/dGhpcy5fZGVmYXVsdFVuaXR9Z2V0IHRlc3REYXRhKCl7cmV0dXJuIHRoaXMuZGVzdHJveWVkP3tsYWJlbHM6bnVsbCxzdHJpcGVMZW5ndGg6bnVsbCx2aXN1YWxpemF0aW9uOm51bGwsY29udHJvbGxlcjpudWxsfTp7Li4udGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uPy50ZXN0RGF0YSx2aXN1YWxpemF0aW9uOnRoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbixjb250cm9sbGVyOnRoaXMuX2FuYWx5c2lzQ29udHJvbGxlcn19fTt0KFthKCldLHAucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSx0KFthKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLHQoW2Eoe2NvbnN0cnVjdE9ubHk6ITAsbm9uTnVsbGFibGU6ITB9KV0scC5wcm90b3R5cGUsXCJhbmFseXNpc1wiLHZvaWQgMCksdChbYSgpXSxwLnByb3RvdHlwZSxcInJlc3VsdFwiLHZvaWQgMCksdChbYSgpXSxwLnByb3RvdHlwZSxcIm1lYXN1cmVtZW50TW9kZVwiLHZvaWQgMCksdChbYSgpXSxwLnByb3RvdHlwZSxcImVsZXZhdGlvbkFsaWduZWRTdGFydFBvaW50XCIsdm9pZCAwKSx0KFthKCldLHAucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25lZEVuZFBvaW50XCIsdm9pZCAwKSx0KFthKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInZpZXdNb2RlXCIsbnVsbCksdChbYSh7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJhY3R1YWxWaXN1YWxpemVkTWVhc3VyZW1lbnRcIixudWxsKSx0KFthKCldLHAucHJvdG90eXBlLFwidmlzdWFsRWxlbWVudE9yaWVudGF0aW9uXCIsbnVsbCksdChbYSgpXSxwLnByb3RvdHlwZSxcImFsbG93VmlzdWFsRWxlbWVudHNPcmllbnRhdGlvbkNoYW5nZVwiLG51bGwpLHQoW2EoKV0scC5wcm90b3R5cGUsXCJ0cmlhbmdsZUNvbGxhcHNlUmF0aW9UaHJlc2hvbGRcIixudWxsKSx0KFthKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcImRpcmVjdExhYmVsVGV4dFwiLG51bGwpLHQoW2Eoe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwiaG9yaXpvbnRhbExhYmVsVGV4dFwiLG51bGwpLHQoW2Eoe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwidmVydGljYWxMYWJlbFRleHRcIixudWxsKSx0KFthKCldLHAucHJvdG90eXBlLFwiX2FuYWx5c2lzVmlzdWFsaXphdGlvblwiLHZvaWQgMCksdChbYSgpXSxwLnByb3RvdHlwZSxcIl9hbmFseXNpc0NvbnRyb2xsZXJcIix2b2lkIDApLHQoW2EoKV0scC5wcm90b3R5cGUsXCJ1bml0XCIsbnVsbCksdChbYShsKV0scC5wcm90b3R5cGUsXCJfZGVmYXVsdFVuaXRcIix2b2lkIDApLHA9dChbcyhcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuRGlyZWN0TGluZU1lYXN1cmVtZW50QW5hbHlzaXNWaWV3M0RcIildLHApO2NvbnN0IHk9cDtleHBvcnR7eSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Y3JlYXRlUXVhbnRpdHkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3F1YW50aXR5VXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgcixzeW5jQW5kSW5pdGlhbCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e28gYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Z2VvZGVzaWNMZW5ndGggYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZS5qc1wiO2ltcG9ydCBtIGZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1BvbHlsaW5lLmpzXCI7aW1wb3J0e2NhblByb2plY3RXaXRob3V0RW5naW5lIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi5qc1wiO2ltcG9ydHtnZXRTcGhlcmljYWxQQ1BGIGFzIGQsU3BoZXJpY2FsRUNFRlNwYXRpYWxSZWZlcmVuY2UgYXMgaCxXR1M4NEVDRUZTcGF0aWFsUmVmZXJlbmNlIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3BhdGlhbFJlZmVyZW5jZUVsbGlwc29pZFV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3RQb2ludFRvVmVjdG9yIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0UG9pbnRUb1ZlY3Rvci5qc1wiO2ltcG9ydHtwcm9qZWN0UG9pbnRUb1dHUzg0Q29tcGFyYWJsZUxvbkxhdCBhcyBqfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdFBvaW50VG9XR1M4NENvbXBhcmFibGVMb25MYXQuanNcIjtpbXBvcnR7aXNTdXBwb3J0ZWQgYXMgZyxnZW9kZXNpY0xlbmd0aHMgYXMgUCxJbnZlcnNlR2VvZGV0aWNTb2x2ZXJSZXN1bHQgYXMgeSxpbnZlcnNlR2VvZGV0aWNTb2x2ZXIgYXMgRH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2dlb2Rlc2ljVXRpbHMuanNcIjtpbXBvcnR7TWVhc3VyZW1lbnRNb2RlIGFzIF99ZnJvbVwiLi4vaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHthcHBseVByb2plY3Rpb25BbmRFbGV2YXRpb25BbGlnbm1lbnQgYXMgdyxsb2dGYWlsZWRHZW9tZXRyeVByb2plY3Rpb25FcnJvciBhcyB6fWZyb21cIi4uL3N1cHBvcnQvcHJvamVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e1VuaXROb3JtYWxpemVyIGFzIEF9ZnJvbVwiLi4vc3VwcG9ydC9Vbml0Tm9ybWFsaXplci5qc1wiO2NvbnN0IFI9XCJlc3JpLnZpZXdzLjNkLmFuYWx5c2lzLkRpcmVjdExpbmVNZWFzdXJlbWVudC5EaXJlY3RMaW5lTWVhc3VyZW1lbnRDb250cm9sbGVyXCIsRT1pLmdldExvZ2dlcihSKSxTPTFlNTtsZXQgYj1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fdW5pdE5vcm1hbGl6ZXI9bmV3IEEsdGhpcy5fdGVtcFN0YXJ0UG9zaXRpb249bCgpLHRoaXMuX3RlbXBFbmRQb3NpdGlvbj1sKCksdGhpcy5fdGVtcENvcm5lclBvc2l0aW9uPWwoKX1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSx0PWQoZSksaT10PT09aD92OnQ7dGhpcy5fc3BoZXJpY2FsUENQRj1pO2NvbnN0IG89dShlLGkpO3RoaXMuX3VuaXROb3JtYWxpemVyLnNwYXRpYWxSZWZlcmVuY2U9bz9pOmUsdGhpcy5hZGRIYW5kbGVzKFtyKCgoKT0+KHt2aWV3RGF0YTp0aGlzLnZpZXdEYXRhLHN0YXJ0UG9pbnQ6dGhpcy5hbmFseXNpcy5zdGFydFBvaW50fSkpLCgoe3ZpZXdEYXRhOmUsc3RhcnRQb2ludDp0fSk9PntlLmVsZXZhdGlvbkFsaWduZWRTdGFydFBvaW50PXRoaXMuX2FwcGx5UHJvamVjdGlvbkFuZEVsZXZhdGlvbkFsaWdubWVudCh0KX0pLHMpLHIoKCgpPT4oe3ZpZXdEYXRhOnRoaXMudmlld0RhdGEsZW5kUG9pbnQ6dGhpcy5hbmFseXNpcy5lbmRQb2ludH0pKSwoKHt2aWV3RGF0YTplLGVuZFBvaW50OnR9KT0+e2UuZWxldmF0aW9uQWxpZ25lZEVuZFBvaW50PXRoaXMuX2FwcGx5UHJvamVjdGlvbkFuZEVsZXZhdGlvbkFsaWdubWVudCh0KX0pLHMpLHIoKCgpPT4oe3Jlc3VsdDp0aGlzLl9jb21wdXRlZFJlc3VsdCx2aWV3RGF0YTp0aGlzLnZpZXdEYXRhfSkpLCgoe3Jlc3VsdDplLHZpZXdEYXRhOnR9KT0+e3QucmVzdWx0PWV9KSxzKV0pfV9hcHBseVByb2plY3Rpb25BbmRFbGV2YXRpb25BbGlnbm1lbnQoZSl7aWYobnVsbD09ZSlyZXR1cm4gZTtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnQsZWxldmF0aW9uUHJvdmlkZXI6aX09dGhpcy52aWV3LG89dyhlLHQsaSk7cmV0dXJuIG8/Pyh6KHRoaXMuYW5hbHlzaXMsZS5zcGF0aWFsUmVmZXJlbmNlLEUpLG51bGwpfWdldCBfY29tcHV0ZWRSZXN1bHQoKXtjb25zdHtlbGV2YXRpb25BbGlnbmVkU3RhcnRQb2ludDplLGVsZXZhdGlvbkFsaWduZWRFbmRQb2ludDp0LG1lYXN1cmVtZW50TW9kZTppfT10aGlzLnZpZXdEYXRhO2lmKG51bGw9PWV8fG51bGw9PXQpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLl9ldWNsaWRlYW5EaXN0YW5jZXMoZSx0KSxyPXRoaXMuX2dlb2Rlc2ljRGlzdGFuY2UoZSx0LG8uaG9yaXpvbnRhbC52YWx1ZSkscz1pPT09Xy5HZW9kZXNpY3x8aT09PV8uQXV0byYmby5ob3Jpem9udGFsLnZhbHVlPlM/XCJnZW9kZXNpY1wiOlwiZXVjbGlkZWFuXCI7cmV0dXJue21vZGU6cyxkaXN0YW5jZTpcImV1Y2xpZGVhblwiPT09cz9vLmRpcmVjdDpyLGRpcmVjdERpc3RhbmNlOm8uZGlyZWN0LGhvcml6b250YWxEaXN0YW5jZTpvLmhvcml6b250YWwsdmVydGljYWxEaXN0YW5jZTpvLnZlcnRpY2FsLGdlb2Rlc2ljRGlzdGFuY2U6cn19X2V1Y2xpZGVhbkRpc3RhbmNlcyhlLHQpe2NvbnN0IGk9ZS5jbG9uZSgpO2kuej10Lno7Y29uc3Qgcj10aGlzLl90ZW1wU3RhcnRQb3NpdGlvbixzPXRoaXMuX3RlbXBFbmRQb3NpdGlvbixuPXRoaXMuX3RlbXBDb3JuZXJQb3NpdGlvbixhPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLGw9dGhpcy5fc3BoZXJpY2FsUENQRixwPXUoYSxsKT9sOmE7ZihlLHIscCksZih0LHMscCksZihpLG4scCk7Y29uc3QgbT1jKHIscyksZD1jKG4scyksaD1NYXRoLmFicyh0LnotZS56KSx2PWU9PnRoaXMuX3VuaXROb3JtYWxpemVyLm5vcm1hbGl6ZURpc3RhbmNlKGUpLGo9dihtKSxnPXYoZCksUD12KGgpO3JldHVybntkaXJlY3Q6byhqLFwibWV0ZXJzXCIpLGhvcml6b250YWw6byhnLFwibWV0ZXJzXCIpLHZlcnRpY2FsOm8oUCxcIm1ldGVyc1wiKX19X2dlb2Rlc2ljRGlzdGFuY2UoZSx0LGkpe2NvbnN0IHI9ZS5zcGF0aWFsUmVmZXJlbmNlLHM9bmV3IG0oe3NwYXRpYWxSZWZlcmVuY2U6cn0pO3MuYWRkUGF0aChbZSx0XSk7Y29uc3Qgbj1yLmlzR2VvZ3JhcGhpYyYmZyhyKT9QKFtzXSxcIm1ldGVyc1wiKVswXTpyLmlzV2ViTWVyY2F0b3I/cChzLFwibWV0ZXJzXCIpOm51bGwsYT1udWxsIT1uP246dGhpcy5fZmFsbGJhY2tHZW9kZXNpY0Rpc3RhbmNlKGUsdCxpKTtyZXR1cm4gbyhhLFwibWV0ZXJzXCIpfV9mYWxsYmFja0dlb2Rlc2ljRGlzdGFuY2UoZSx0LGkpe2lmKGooZSxVKSYmaih0LEMpKXtjb25zdCBlPW5ldyB5O3JldHVybiBEKGUsVSxDKSxlLmRpc3RhbmNlfXJldHVybiBpfX07ZShbbigpXSxiLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW24oKV0sYi5wcm90b3R5cGUsXCJhbmFseXNpc1wiLHZvaWQgMCksZShbbigpXSxiLnByb3RvdHlwZSxcInZpZXdEYXRhXCIsdm9pZCAwKSxlKFtuKCldLGIucHJvdG90eXBlLFwiX2NvbXB1dGVkUmVzdWx0XCIsbnVsbCksYj1lKFthKFIpXSxiKTtjb25zdCBVPWwoKSxDPWwoKTtleHBvcnR7YiBhcyBEaXJlY3RMaW5lTWVhc3VyZW1lbnRDb250cm9sbGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2ludGwuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3VuaXRSR0JBRnJvbUNvbG9yIGFzIGksbXVsdGlwbHlPcGFjaXR5VG9Vbml0UkdCQSBhcyBzLGdldENvbnRyYXN0IGFzIG4sQnJpZ2h0bmVzc1RocmVzaG9sZCBhcyBvLG11bHRpcGx5T3BhY2l0eSBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvY29sb3JVdGlscy5qc1wiO2ltcG9ydHtuZXh0SGlnaGVzdFBvd2VyT2ZUZW4gYXMgYSxkZWcycmFkIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtmb3JtYXREZWNpbWFsIGFzIGQsZm9ybWF0SW1wZXJpYWxMZW5ndGggYXMgdSxmb3JtYXRJbXBlcmlhbFZlcnRpY2FsTGVuZ3RoIGFzIGgsZm9ybWF0TWV0cmljTGVuZ3RoIGFzIG0sZm9ybWF0TWV0cmljVmVydGljYWxMZW5ndGggYXMgZ31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3F1YW50aXR5Rm9ybWF0VXRpbHMuanNcIjtpbXBvcnR7dG9Vbml0IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9xdWFudGl0eVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIF8sc3luY0FuZEluaXRpYWwgYXMgdixpbml0aWFsIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVJlbmRlclNjcmVlblBvaW50QXJyYXkzIGFzIEwsY3JlYXRlUmVuZGVyU2NyZWVuUG9pbnRBcnJheSBhcyB3fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7YWRhcHRpdmVJbXBlcmlhbExlbmd0aFVuaXQgYXMgUyxjb252ZXJ0VW5pdCBhcyB5fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBBfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZyBhcyBFfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e2kgYXMgVixnIGFzIFB9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBqfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e01lYXN1cmVtZW50TW9kZSBhcyB6fWZyb21cIi4uL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7Vmlld01vZGUgYXMgTSxWaXN1YWxFbGVtZW50T3JpZW50YXRpb24gYXMgQ31mcm9tXCIuL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7c2NyZWVuU3BhY2VUYW5nZW50IGFzIER9ZnJvbVwiLi4vc3VwcG9ydC92aWV3VXRpbHMuanNcIjtpbXBvcnR7TGFiZWxWaXN1YWxFbGVtZW50IGFzIE8sbWlycm9yUG9zaXRpb24gYXMgeH1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9MYWJlbFZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7TGluZVZpc3VhbEVsZW1lbnQgYXMgR31mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9MaW5lVmlzdWFsRWxlbWVudC5qc1wiO2ltcG9ydHtNZWFzdXJlbWVudEFycm93VmlzdWFsRWxlbWVudCBhcyBUfWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL01lYXN1cmVtZW50QXJyb3dWaXN1YWxFbGVtZW50LmpzXCI7aW1wb3J0e1JpZ2h0QW5nbGVRdWFkVmlzdWFsRWxlbWVudCBhcyBIfWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL1JpZ2h0QW5nbGVRdWFkVmlzdWFsRWxlbWVudC5qc1wiO2ltcG9ydHtHZW9kZXNpY1NlZ21lbnQgYXMgayxFdWNsaWRlYW5TZWdtZW50IGFzIFV9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvc3VwcG9ydC9TZWdtZW50LmpzXCI7aW1wb3J0e1JlbmRlck9jY2x1ZGVkRmxhZyBhcyBGfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvTWF0ZXJpYWwuanNcIjtpbXBvcnR7Y3JlYXRlU3RpcHBsZVBhdHRlcm5TaW1wbGUgYXMgUn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL2xpbmVTdGlwcGxlVXRpbHMuanNcIjtpbXBvcnR7b25Mb2NhbGVDaGFuZ2UgYXMgUX1mcm9tXCIuLi8uLi8uLi8uLi9pbnRsL2xvY2FsZS5qc1wiO2ltcG9ydHtmZXRjaE1lc3NhZ2VCdW5kbGUgYXMgcX1mcm9tXCIuLi8uLi8uLi8uLi9pbnRsL21lc3NhZ2VzLmpzXCI7bGV0IEI9Y2xhc3MgZXh0ZW5kcyB0e2dldCBfcGFyYW1ldGVycygpe2NvbnN0IGU9dGhpcy52aWV3LmVmZmVjdGl2ZVRoZW1lLHthY2NlbnRDb2xvcjp0LHRleHRDb2xvcjphfT1lLHI9aSh0KSxjPXModCwuNzUpLGQ9aShuKHQpKSx1PW4oYSxvLkxvdyk7cmV0dXJue2FjY2VudENvbG9yOnIsY29udHJhc3RDb2xvcjpkLHRyYW5zbHVjZW50QWNjZW50Q29sb3I6Yyx0cmlhbmdsZUxpbmVXaWR0aDozLGdlb2Rlc2ljUHJvamVjdGlvbkxpbmVXaWR0aDoyLGd1aWRlTGluZVdpZHRoOjIsZ3VpZGVTdGlwcGxlTGVuZ3RoUGl4ZWxzOjMsZGlyZWN0TGFiZWxGb250U2l6ZToxNixob3Jpem9udGFsTGFiZWxGb250U2l6ZToxMix2ZXJ0aWNhbExhYmVsRm9udFNpemU6MTIsdGV4dENvbG9yOmEsdGV4dEJhY2tncm91bmRDb2xvcjpsKHUsLjYpLHRleHRDYWxsb3V0Q29sb3I6bCh1LC41KX19Z2V0IHZpc2libGUoKXtyZXR1cm4gdGhpcy5hbmFseXNpc1ZpZXcudmlzaWJsZX1nZXQgdmlld01vZGUoKXtjb25zdHtlbGV2YXRpb25BbGlnbmVkU3RhcnRQb2ludDplLGVsZXZhdGlvbkFsaWduZWRFbmRQb2ludDp0fT10aGlzLmFuYWx5c2lzVmlldztpZihudWxsPT1lfHxudWxsPT10fHxlLmVxdWFscyh0KSlyZXR1cm4gTS5Ob25lO2NvbnN0IGk9dGhpcy5hbmFseXNpc1ZpZXcucmVzdWx0O2lmKG51bGw9PWkpcmV0dXJuIE0uRGlyZWN0O2lmKFwiZ2VvZGVzaWNcIj09PWkubW9kZSlyZXR1cm4gdGhpcy5fcmVxdWlyZXNHZW9kZXNpY0d1aWRlQXQodGhpcy5fc3RhcnRQb3NpdGlvbil8fHRoaXMuX3JlcXVpcmVzR2VvZGVzaWNHdWlkZUF0KHRoaXMuX2VuZFBvc2l0aW9uKT9NLlByb2plY3RlZEdlb2Rlc2ljOk0uRGlyZWN0O2NvbnN0e3ZlcnRpY2FsRGlzdGFuY2U6cyxob3Jpem9udGFsRGlzdGFuY2U6bn09aSxvPXMudmFsdWUsbD1uLnZhbHVlO3JldHVybiBNYXRoLm1pbihvL2wsbC9vKTx0aGlzLnRyaWFuZ2xlQ29sbGFwc2VSYXRpb1RocmVzaG9sZD9NLkRpcmVjdDpNLlRyaWFuZ2xlfWdldCBhY3R1YWxWaXN1YWxpemVkTWVhc3VyZW1lbnQoKXtpZihudWxsPT10aGlzLmFuYWx5c2lzVmlldy5yZXN1bHQpc3dpdGNoKHRoaXMuYW5hbHlzaXNWaWV3Lm1lYXN1cmVtZW50TW9kZSl7Y2FzZSB6LkF1dG86Y2FzZSB6LkV1Y2xpZGVhbjpkZWZhdWx0OnJldHVyblwiZXVjbGlkZWFuXCI7Y2FzZSB6Lkdlb2Rlc2ljOnJldHVyblwiZ2VvZGVzaWNcIn1yZXR1cm4gdGhpcy5hbmFseXNpc1ZpZXcucmVzdWx0Lm1vZGV9Z2V0IGFsbG93VmlzdWFsRWxlbWVudHNPcmllbnRhdGlvbkNoYW5nZSgpe3JldHVybiBudWxsPT10aGlzLl90cmlhbmdsZU9yaWVudGF0aW9uT3ZlcnJpZGV9c2V0IGFsbG93VmlzdWFsRWxlbWVudHNPcmllbnRhdGlvbkNoYW5nZShlKXtudWxsPT10aGlzLl90cmlhbmdsZU9yaWVudGF0aW9uT3ZlcnJpZGUhPT1lJiYobnVsbD09dGhpcy5fdHJpYW5nbGVPcmllbnRhdGlvbk92ZXJyaWRlP3RoaXMuX3RyaWFuZ2xlT3JpZW50YXRpb25PdmVycmlkZT10aGlzLl9hY3R1YWxWaXN1YWxFbGVtZW50c09yaWVudGF0aW9uOnRoaXMuX3RyaWFuZ2xlT3JpZW50YXRpb25PdmVycmlkZT1udWxsKX1nZXQgbGFiZWxzKCl7Y29uc3QgZT1cImdlb2Rlc2ljXCI9PT10aGlzLmFjdHVhbFZpc3VhbGl6ZWRNZWFzdXJlbWVudDtyZXR1cm57ZGlyZWN0OnRoaXMuX3NlZ21lbnRMYWJlbCxob3Jpem9udGFsOmU/dGhpcy5fc2VnbWVudExhYmVsOnRoaXMuX2hvcml6b250YWxMYWJlbCx2ZXJ0aWNhbDp0aGlzLl92ZXJ0aWNhbExhYmVsfX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9zZWdtZW50VmlzdWFsRWxlbWVudD1udWxsLHRoaXMuX3RyaWFuZ2xlVmlzdWFsRWxlbWVudD1udWxsLHRoaXMuX3JpZ2h0QW5nbGVRdWFkPW51bGwsdGhpcy5fcHJvamVjdGVkR2VvZGVzaWNMaW5lPW51bGwsdGhpcy5fZ2VvZGVzaWNTdGFydEhpbnQ9bnVsbCx0aGlzLl9nZW9kZXNpY0VuZEhpbnQ9bnVsbCx0aGlzLl9zZWdtZW50TGFiZWw9bnVsbCx0aGlzLl92ZXJ0aWNhbExhYmVsPW51bGwsdGhpcy5faG9yaXpvbnRhbExhYmVsPW51bGwsdGhpcy5fc3RhcnRQb3NpdGlvbj1qKCksdGhpcy5fZW5kUG9zaXRpb249aigpLHRoaXMuX2Nvcm5lclBvc2l0aW9uPWooKSx0aGlzLl9zdGFydFBvc2l0aW9uQXRTZWFMZXZlbD1qKCksdGhpcy5fZW5kUG9zaXRpb25BdFNlYUxldmVsPWooKSx0aGlzLl90cmlhbmdsZU9yaWVudGF0aW9uT3ZlcnJpZGU9bnVsbCx0aGlzLm1lc3NhZ2VzPW51bGwsdGhpcy5sb2FkaW5nTWVzc2FnZXM9ITAsdGhpcy52aXN1YWxFbGVtZW50T3JpZW50YXRpb249Qy5BdXRvLHRoaXMudHJpYW5nbGVDb2xsYXBzZVJhdGlvVGhyZXNob2xkPS4wM31pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLl9wYXJhbWV0ZXJzLHQ9e2F0dGFjaGVkOiEwLHZpZXc6dGhpcy52aWV3LGlzRGVjb3JhdGlvbjohMH0se2d1aWRlTGluZVdpZHRoOmksZ3VpZGVTdGlwcGxlTGVuZ3RoUGl4ZWxzOnMsdHJpYW5nbGVMaW5lV2lkdGg6bixnZW9kZXNpY1Byb2plY3Rpb25MaW5lV2lkdGg6byxkaXJlY3RMYWJlbEZvbnRTaXplOmwsdmVydGljYWxMYWJlbEZvbnRTaXplOmEsaG9yaXpvbnRhbExhYmVsRm9udFNpemU6cn09ZTt0aGlzLl9zZWdtZW50VmlzdWFsRWxlbWVudD1uZXcgVCh7Li4udCxnZW9tZXRyeTpudWxsLHJlbmRlck9jY2x1ZGVkOkYuT2NjbHVkZUFuZFRyYW5zcGFyZW50fSksdGhpcy5fdHJpYW5nbGVWaXN1YWxFbGVtZW50PW5ldyBHKHsuLi50LHdpZHRoOm4scmVuZGVyT2NjbHVkZWQ6Ri5PY2NsdWRlQW5kVHJhbnNwYXJlbnR9KSx0aGlzLl9yaWdodEFuZ2xlUXVhZD1uZXcgSCh7Li4udCxyZW5kZXJPY2NsdWRlZDpGLk9jY2x1ZGVBbmRUcmFuc3BhcmVudH0pO2NvbnN0IGM9ey4uLnQscG9seWdvbk9mZnNldDohMCxyZW5kZXJPY2NsdWRlZDpGLk9jY2x1ZGVBbmRUcmFuc3BhcmVudH07dGhpcy5fcHJvamVjdGVkR2VvZGVzaWNMaW5lPW5ldyBHKHsuLi5jLHdpZHRoOm8sc3RpcHBsZVBhdHRlcm46UihzKX0pLHRoaXMuX2dlb2Rlc2ljU3RhcnRIaW50PW5ldyBHKHsuLi5jLHdpZHRoOmksc3RpcHBsZVBhdHRlcm46UihzKX0pLHRoaXMuX2dlb2Rlc2ljRW5kSGludD1uZXcgRyh7Li4uYyx3aWR0aDppLHN0aXBwbGVQYXR0ZXJuOlIocyl9KSx0aGlzLl9zZWdtZW50TGFiZWw9bmV3IE8oey4uLnQsZm9udFNpemU6bH0pLHRoaXMuX3ZlcnRpY2FsTGFiZWw9bmV3IE8oey4uLnQsZm9udFNpemU6YX0pLHRoaXMuX2hvcml6b250YWxMYWJlbD1uZXcgTyh7Li4udCxmb250U2l6ZTpyfSksdGhpcy5hZGRIYW5kbGVzKFtfKCgoKT0+e2NvbnN0e2VsZXZhdGlvbkFsaWduZWRTdGFydFBvaW50OmUsZWxldmF0aW9uQWxpZ25lZEVuZFBvaW50OnR9PXRoaXMuYW5hbHlzaXNWaWV3LGk9dGhpcy52aWV3O3JldHVybnt2aWV3OmksY2FtZXJhOmkuc3RhdGUuY2FtZXJhLHZpZXdNb2RlOnRoaXMudmlld01vZGUsZWxldmF0aW9uQWxpZ25lZFN0YXJ0UG9pbnQ6ZSxlbGV2YXRpb25BbGlnbmVkRW5kUG9pbnQ6dCxvcmllbnRhdGlvbjp0aGlzLl9hY3R1YWxWaXN1YWxFbGVtZW50c09yaWVudGF0aW9uLHZpc3VhbGl6ZWRNZWFzdXJlbWVudDp0aGlzLmFjdHVhbFZpc3VhbGl6ZWRNZWFzdXJlbWVudCxzdHJpcGVMZW5ndGg6dGhpcy5fbWVhc3VyZW1lbnRBcnJvd1N0cmlwZUxlbmd0aH19KSwoZT0+dGhpcy5fdXBkYXRlR2VvbWV0cnlBbmRWaWV3TW9kZShlKSksdiksXygoKCk9Pih7dmlzaWJsZTp0aGlzLnZpc2libGUsdmlld01vZGU6dGhpcy52aWV3TW9kZX0pKSwoZT0+dGhpcy5fdXBkYXRlVmlzdWFsRWxlbWVudFZpc2liaWxpdHkoZSkpLHYpLF8oKCgpPT4oe3RleHQ6dGhpcy5fbGFiZWxzVGV4dCx2aXN1YWxpemVkTWVhc3VyZW1lbnQ6dGhpcy5hY3R1YWxWaXN1YWxpemVkTWVhc3VyZW1lbnR9KSksKGU9PnRoaXMuX3VwZGF0ZUxhYmVsVGV4dChlKSksdiksXygoKCk9Pih7dmlzaWJsZTp0aGlzLnZpc2libGUsdmlld01vZGU6dGhpcy52aWV3TW9kZX0pKSwoZT0+dGhpcy5fdXBkYXRlTGFiZWxWaXNpYmlsaXR5KGUpKSx2KSxfKCgoKT0+dGhpcy5fbWVhc3VyZW1lbnRBcnJvd1N0cmlwZUxlbmd0aCksKGU9PnRoaXMuX3VwZGF0ZVNlZ21lbnRTdHJpcGVMZW5ndGgoZSkpLHYpLFEoKGFzeW5jKCk9PnRoaXMuX3VwZGF0ZU1lc3NhZ2VCdW5kbGUoKSkpLF8oKCgpPT50aGlzLl9wYXJhbWV0ZXJzKSwoKHt0ZXh0QmFja2dyb3VuZENvbG9yOmUsdGV4dENhbGxvdXRDb2xvcjp0LHRleHRDb2xvcjppLHRyYW5zbHVjZW50QWNjZW50Q29sb3I6cyxhY2NlbnRDb2xvcjpuLGNvbnRyYXN0Q29sb3I6b30pPT57Y29uc3R7X3NlZ21lbnRMYWJlbDpsLF92ZXJ0aWNhbExhYmVsOmEsX2hvcml6b250YWxMYWJlbDpyLF90cmlhbmdsZVZpc3VhbEVsZW1lbnQ6YyxfcmlnaHRBbmdsZVF1YWQ6ZCxfcHJvamVjdGVkR2VvZGVzaWNMaW5lOnUsX2dlb2Rlc2ljU3RhcnRIaW50OmgsX2dlb2Rlc2ljRW5kSGludDptLF9zZWdtZW50VmlzdWFsRWxlbWVudDpnfT10aGlzO2wuYmFja2dyb3VuZENvbG9yPWUsbC5jYWxsb3V0Q29sb3I9dCxsLnRleHRDb2xvcj1pLGEuYmFja2dyb3VuZENvbG9yPWUsYS5jYWxsb3V0Q29sb3I9dCxhLnRleHRDb2xvcj1pLHIuYmFja2dyb3VuZENvbG9yPWUsci5jYWxsb3V0Q29sb3I9dCxyLnRleHRDb2xvcj1pLGMuY29sb3I9cyxkLmNvbG9yPXMsdS5jb2xvcj1zLGguY29sb3I9cyxtLmNvbG9yPXMsZy5jb2xvcj1uLGcuY29udHJhc3RDb2xvcj1vfSksYildKSx0aGlzLl91cGRhdGVNZXNzYWdlQnVuZGxlKCl9ZGVzdHJveSgpe3RoaXMuX3NlZ21lbnRWaXN1YWxFbGVtZW50PWModGhpcy5fc2VnbWVudFZpc3VhbEVsZW1lbnQpLHRoaXMuX3RyaWFuZ2xlVmlzdWFsRWxlbWVudD1jKHRoaXMuX3RyaWFuZ2xlVmlzdWFsRWxlbWVudCksdGhpcy5fcmlnaHRBbmdsZVF1YWQ9Yyh0aGlzLl9yaWdodEFuZ2xlUXVhZCksdGhpcy5fcHJvamVjdGVkR2VvZGVzaWNMaW5lPWModGhpcy5fcHJvamVjdGVkR2VvZGVzaWNMaW5lKSx0aGlzLl9nZW9kZXNpY1N0YXJ0SGludD1jKHRoaXMuX2dlb2Rlc2ljU3RhcnRIaW50KSx0aGlzLl9nZW9kZXNpY0VuZEhpbnQ9Yyh0aGlzLl9nZW9kZXNpY0VuZEhpbnQpLHRoaXMuX3NlZ21lbnRMYWJlbD1jKHRoaXMuX3NlZ21lbnRMYWJlbCksdGhpcy5fdmVydGljYWxMYWJlbD1jKHRoaXMuX3ZlcnRpY2FsTGFiZWwpLHRoaXMuX2hvcml6b250YWxMYWJlbD1jKHRoaXMuX2hvcml6b250YWxMYWJlbCksdGhpcy5zZXQoXCJ2aWV3XCIsbnVsbCl9X3VwZGF0ZVZpc3VhbEVsZW1lbnRWaXNpYmlsaXR5KHt2aXNpYmxlOmUsdmlld01vZGU6dH0pe2lmKHRoaXMuX3NlZ21lbnRWaXN1YWxFbGVtZW50LnZpc2libGU9ITEsdGhpcy5fdHJpYW5nbGVWaXN1YWxFbGVtZW50LnZpc2libGU9ITEsdGhpcy5fcmlnaHRBbmdsZVF1YWQudmlzaWJsZT0hMSx0aGlzLl9wcm9qZWN0ZWRHZW9kZXNpY0xpbmUudmlzaWJsZT0hMSx0aGlzLl9nZW9kZXNpY1N0YXJ0SGludC52aXNpYmxlPSExLHRoaXMuX2dlb2Rlc2ljRW5kSGludC52aXNpYmxlPSExLGUpc3dpdGNoKHQpe2Nhc2UgTS5Ob25lOmJyZWFrO2Nhc2UgTS5EaXJlY3Q6dGhpcy5fc2VnbWVudFZpc3VhbEVsZW1lbnQudmlzaWJsZT0hMDticmVhaztjYXNlIE0uVHJpYW5nbGU6dGhpcy5fc2VnbWVudFZpc3VhbEVsZW1lbnQudmlzaWJsZT0hMCx0aGlzLl90cmlhbmdsZVZpc3VhbEVsZW1lbnQudmlzaWJsZT0hMCx0aGlzLl9yaWdodEFuZ2xlUXVhZC52aXNpYmxlPSEwO2JyZWFrO2Nhc2UgTS5Qcm9qZWN0ZWRHZW9kZXNpYzp0aGlzLl9zZWdtZW50VmlzdWFsRWxlbWVudC52aXNpYmxlPSEwLHRoaXMuX3Byb2plY3RlZEdlb2Rlc2ljTGluZS52aXNpYmxlPSEwLHRoaXMuX2dlb2Rlc2ljU3RhcnRIaW50LnZpc2libGU9ITAsdGhpcy5fZ2VvZGVzaWNFbmRIaW50LnZpc2libGU9ITB9fV91cGRhdGVHZW9tZXRyeUFuZFZpZXdNb2RlKHt2aWV3OmUsY2FtZXJhOnQsdmlld01vZGU6aSxlbGV2YXRpb25BbGlnbmVkU3RhcnRQb2ludDpzLGVsZXZhdGlvbkFsaWduZWRFbmRQb2ludDpuLG9yaWVudGF0aW9uOm8sdmlzdWFsaXplZE1lYXN1cmVtZW50Omwsc3RyaXBlTGVuZ3RoOmF9KXtjb25zdCByPWUucmVuZGVyQ29vcmRzSGVscGVyO2lmKG51bGw9PXJ8fG51bGw9PXN8fG51bGw9PW58fHMuZXF1YWxzKG4pKXJldHVybjtsZXQgYz10aGlzLl9zdGFydFBvc2l0aW9uLGQ9dGhpcy5fZW5kUG9zaXRpb247ci50b1JlbmRlckNvb3JkcyhzLGMpLHIudG9SZW5kZXJDb29yZHMobixkKTtjb25zdCB1PW89PT1DLkFib3ZlU2VnbWVudD8xOi0xLGg9dSooci5nZXRBbHRpdHVkZShkKS1yLmdldEFsdGl0dWRlKGMpKTtoPDAmJihjPXRoaXMuX2VuZFBvc2l0aW9uLGQ9dGhpcy5fc3RhcnRQb3NpdGlvbik7Y29uc3QgbT1cImdlb2Rlc2ljXCI9PT1sP25ldyBrKHRoaXMuX3N0YXJ0UG9zaXRpb24sdGhpcy5fZW5kUG9zaXRpb24sci5zcGF0aWFsUmVmZXJlbmNlKTpuZXcgVSh0aGlzLl9zdGFydFBvc2l0aW9uLHRoaXMuX2VuZFBvc2l0aW9uKTtzd2l0Y2godGhpcy5fc2VnbWVudFZpc3VhbEVsZW1lbnQuZ2VvbWV0cnk9bSx0aGlzLl91cGRhdGVTZWdtZW50U3RyaXBlTGVuZ3RoKGEpLGkpe2Nhc2UgTS5EaXJlY3Q6dGhpcy5fdXBkYXRlU2VnbWVudChtLG8pO2JyZWFrO2Nhc2UgTS5UcmlhbmdsZTp0aGlzLl91cGRhdGVTZWdtZW50QW5kVHJpYW5nbGUoe3ZpZXc6ZSxjYW1lcmE6dCxzZWdtZW50Om0sb3JpZW50YXRpb246byxzdGFydFBvc2l0aW9uOmMsZW5kUG9zaXRpb246ZCxkZWx0YVNpZ246dSxhbHRpdHVkZURlbHRhOmh9KTticmVhaztjYXNlIE0uUHJvamVjdGVkR2VvZGVzaWM6dGhpcy5fdXBkYXRlU2VnbWVudEFuZFByb2plY3Rpb24oe3ZpZXc6ZSxvcmllbnRhdGlvbjpvLHN0YXJ0UG9zaXRpb246YyxlbmRQb3NpdGlvbjpkfSl9fV91cGRhdGVTZWdtZW50KGUsdCl7dGhpcy5fc2VnbWVudExhYmVsLmFuY2hvcj10PT09Qy5BYm92ZVNlZ21lbnQ/XCJ0b3BcIjpcImJvdHRvbVwiLHRoaXMuX3NlZ21lbnRMYWJlbC5nZW9tZXRyeT17dHlwZTpcInNlZ21lbnRcIixzZWdtZW50OmUsc2FtcGxlTG9jYXRpb246XCJjZW50ZXJcIn19X3VwZGF0ZVNlZ21lbnRBbmRUcmlhbmdsZSh7dmlldzp7cmVuZGVyQ29vcmRzSGVscGVyOmV9LGNhbWVyYTp0LHNlZ21lbnQ6aSxvcmllbnRhdGlvbjpzLHN0YXJ0UG9zaXRpb246bixlbmRQb3NpdGlvbjpvLGRlbHRhU2lnbjpsLGFsdGl0dWRlRGVsdGE6YX0pe2NvbnN0IHI9dGhpcy5fY29ybmVyUG9zaXRpb247ZS53b3JsZFVwQXRQb3NpdGlvbihuLHIpLFYocixyLGwqTWF0aC5hYnMoYSkpLFAocixyLG4pLHRoaXMuX3RyaWFuZ2xlVmlzdWFsRWxlbWVudC5nZW9tZXRyeT1bW1tuWzBdLG5bMV0sblsyXV0sW3JbMF0sclsxXSxyWzJdXSxbb1swXSxvWzFdLG9bMl1dXV0sdGhpcy5fcmlnaHRBbmdsZVF1YWQuZ2VvbWV0cnk9e3ByZXZpb3VzOm4sY2VudGVyOnIsbmV4dDpvfTtjb25zdCBjPW5ldyBVKG4sciksZD1uZXcgVShyLG8pLHU9VyhuLG8scixzLHQpO3RoaXMuX3NlZ21lbnRMYWJlbC5hbmNob3I9dS5zZWdtZW50LHRoaXMuX3NlZ21lbnRMYWJlbC5nZW9tZXRyeT17dHlwZTpcInNlZ21lbnRcIixzZWdtZW50Omksc2FtcGxlTG9jYXRpb246XCJjZW50ZXJcIn0sdGhpcy5fdmVydGljYWxMYWJlbC5nZW9tZXRyeT17dHlwZTpcInNlZ21lbnRcIixzZWdtZW50OmMsc2FtcGxlTG9jYXRpb246XCJjZW50ZXJcIn0sdGhpcy5fdmVydGljYWxMYWJlbC5hbmNob3I9dS52ZXJ0aWNhbCx0aGlzLl9ob3Jpem9udGFsTGFiZWwuZ2VvbWV0cnk9e3R5cGU6XCJzZWdtZW50XCIsc2VnbWVudDpkLHNhbXBsZUxvY2F0aW9uOlwiY2VudGVyXCJ9LHRoaXMuX2hvcml6b250YWxMYWJlbC5hbmNob3I9dS5ob3Jpem9udGFsfV91cGRhdGVTZWdtZW50QW5kUHJvamVjdGlvbih7dmlldzp7cmVuZGVyQ29vcmRzSGVscGVyOmV9LG9yaWVudGF0aW9uOnQsc3RhcnRQb3NpdGlvbjppLGVuZFBvc2l0aW9uOnN9KXtlLnNldEFsdGl0dWRlKHRoaXMuX3N0YXJ0UG9zaXRpb25BdFNlYUxldmVsLDAsaSksZS5zZXRBbHRpdHVkZSh0aGlzLl9lbmRQb3NpdGlvbkF0U2VhTGV2ZWwsMCxzKTtjb25zdCBuPW5ldyBrKHRoaXMuX3N0YXJ0UG9zaXRpb25BdFNlYUxldmVsLHRoaXMuX2VuZFBvc2l0aW9uQXRTZWFMZXZlbCxlLnNwYXRpYWxSZWZlcmVuY2UpO3RoaXMuX3Byb2plY3RlZEdlb2Rlc2ljTGluZS5zZXRHZW9tZXRyeUZyb21TZWdtZW50KG4pLHRoaXMuX2dlb2Rlc2ljU3RhcnRIaW50LnNldEdlb21ldHJ5RnJvbVNlZ21lbnQobmV3IFUodGhpcy5fc3RhcnRQb3NpdGlvbkF0U2VhTGV2ZWwsaSkpLHRoaXMuX2dlb2Rlc2ljRW5kSGludC5zZXRHZW9tZXRyeUZyb21TZWdtZW50KG5ldyBVKHRoaXMuX2VuZFBvc2l0aW9uQXRTZWFMZXZlbCxzKSksdGhpcy5fc2VnbWVudExhYmVsLmdlb21ldHJ5PXt0eXBlOlwic2VnbWVudFwiLHNlZ21lbnQ6bixzYW1wbGVMb2NhdGlvbjpcImNlbnRlclwifSx0aGlzLl9zZWdtZW50TGFiZWwuYW5jaG9yPXQ9PT1DLkFib3ZlU2VnbWVudD9cInRvcFwiOlwiYm90dG9tXCJ9X3VwZGF0ZUxhYmVsVGV4dCh7dGV4dDplLHZpc3VhbGl6ZWRNZWFzdXJlbWVudDp0fSl7bnVsbCE9ZT8odGhpcy5fc2VnbWVudExhYmVsLnRleHQ9XCJldWNsaWRlYW5cIj09PXQ/ZS5ldWNsaWRlYW5EaXN0YW5jZTplLmdlb2Rlc2ljRGlzdGFuY2UsdGhpcy5faG9yaXpvbnRhbExhYmVsLnRleHQ9ZS5ob3Jpem9udGFsRGlzdGFuY2UsdGhpcy5fdmVydGljYWxMYWJlbC50ZXh0PWUudmVydGljYWxEaXN0YW5jZSk6KHRoaXMuX3NlZ21lbnRMYWJlbC50ZXh0PW51bGwsdGhpcy5faG9yaXpvbnRhbExhYmVsLnRleHQ9bnVsbCx0aGlzLl92ZXJ0aWNhbExhYmVsLnRleHQ9bnVsbCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJsYWJlbHNcIil9X3VwZGF0ZUxhYmVsVmlzaWJpbGl0eSh7dmlzaWJsZTplLHZpZXdNb2RlOnR9KXtjb25zdCBpPXRoaXMuX3NlZ21lbnRMYWJlbCxzPXRoaXMuX2hvcml6b250YWxMYWJlbCxuPXRoaXMuX3ZlcnRpY2FsTGFiZWw7aWYoaS52aXNpYmxlPSExLHMudmlzaWJsZT0hMSxuLnZpc2libGU9ITEsZSlzd2l0Y2godCl7Y2FzZSBNLkRpcmVjdDppLnZpc2libGU9ITA7YnJlYWs7Y2FzZSBNLlRyaWFuZ2xlOmkudmlzaWJsZT0hMCxzLnZpc2libGU9ITAsbi52aXNpYmxlPSEwO2JyZWFrO2Nhc2UgTS5Qcm9qZWN0ZWRHZW9kZXNpYzppLnZpc2libGU9ITA7Y2FzZSBNLk5vbmU6fX1nZXQgX2xhYmVsc1RleHQoKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMubWVzc2FnZXMsdD10aGlzLmFuYWx5c2lzVmlldy5yZXN1bHQ7aWYobnVsbD09dHx8bnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdHtkaXJlY3REaXN0YW5jZTppLGhvcml6b250YWxEaXN0YW5jZTpzLHZlcnRpY2FsRGlzdGFuY2U6bixnZW9kZXNpY0Rpc3RhbmNlOm99PXQsbD10aGlzLmFuYWx5c2lzVmlldy51bml0LGE9ZT0+KHtldWNsaWRlYW5EaXN0YW5jZTpcIlwiLGdlb2Rlc2ljRGlzdGFuY2U6XCJcIixob3Jpem9udGFsRGlzdGFuY2U6XCJcIix2ZXJ0aWNhbERpc3RhbmNlOlwiXCIsLi4uZX0pO3N3aXRjaChsKXtjYXNlXCJtZXRyaWNcIjpyZXR1cm4gYSh7ZXVjbGlkZWFuRGlzdGFuY2U6aSYmbShlLGkpLGdlb2Rlc2ljRGlzdGFuY2U6byYmbShlLG8pLGhvcml6b250YWxEaXN0YW5jZTpzJiZtKGUscyksdmVydGljYWxEaXN0YW5jZTpuJiZnKGUsbil9KTtjYXNlXCJpbXBlcmlhbFwiOnJldHVybiBhKHtldWNsaWRlYW5EaXN0YW5jZTppJiZ1KGUsaSksZ2VvZGVzaWNEaXN0YW5jZTpvJiZ1KGUsbyksaG9yaXpvbnRhbERpc3RhbmNlOnMmJnUoZSxzKSx2ZXJ0aWNhbERpc3RhbmNlOm4mJmgoZSxuKX0pO2RlZmF1bHQ6cmV0dXJuIGEoe2V1Y2xpZGVhbkRpc3RhbmNlOmkmJmQoZSxpLGwpLGdlb2Rlc2ljRGlzdGFuY2U6byYmZChlLG8sbCksaG9yaXpvbnRhbERpc3RhbmNlOnMmJmQoZSxzLGwpLHZlcnRpY2FsRGlzdGFuY2U6biYmZChlLG4sbCl9KX19X3VwZGF0ZVNlZ21lbnRTdHJpcGVMZW5ndGgoZSl7Y29uc3QgdD10aGlzLl9zZWdtZW50VmlzdWFsRWxlbWVudDtudWxsIT1lPyh0LnN0cmlwZUxlbmd0aD1lLHQuc3RyaXBlc0VuYWJsZWQ9ITApOnQuc3RyaXBlc0VuYWJsZWQ9ITF9Z2V0IF9hY3R1YWxWaXN1YWxFbGVtZW50c09yaWVudGF0aW9uKCl7aWYobnVsbCE9dGhpcy5fdHJpYW5nbGVPcmllbnRhdGlvbk92ZXJyaWRlKXJldHVybiB0aGlzLl90cmlhbmdsZU9yaWVudGF0aW9uT3ZlcnJpZGU7Y29uc3QgZT10aGlzLnZpc3VhbEVsZW1lbnRPcmllbnRhdGlvbjtyZXR1cm4gZT09PUMuQXV0bz90aGlzLnZpZXcuc3RhdGUuY2FtZXJhLmFib3ZlR3JvdW5kP0MuQWJvdmVTZWdtZW50OkMuQmVsb3dTZWdtZW50OmV9X3JlcXVpcmVzR2VvZGVzaWNHdWlkZUF0KGUpe2NvbnN0IHQ9dGhpcy52aWV3O2lmKCF0Py5zdGF0ZSlyZXR1cm4hMTtjb25zdCBpPXQuc3RhdGUuY2FtZXJhLHM9dC5yZW5kZXJDb29yZHNIZWxwZXI7aWYoIXMpcmV0dXJuITE7Y29uc3Qgbj1pLmNvbXB1dGVTY3JlZW5QaXhlbFNpemVBdChlKTtyZXR1cm4gcy5nZXRBbHRpdHVkZShlKS9uPj0xMH1nZXQgX21lYXN1cmVtZW50QXJyb3dTdHJpcGVMZW5ndGgoKXtjb25zdHtyZXN1bHQ6ZSx1bml0OnR9PXRoaXMuYW5hbHlzaXNWaWV3O2lmKG51bGw9PWUpcmV0dXJuIG51bGw7bGV0IGk9bnVsbDtjb25zdCBzPWUuZGlyZWN0RGlzdGFuY2U7c3dpdGNoKHQpe2Nhc2VcIm1ldHJpY1wiOmk9cyYmcChzLFwibWV0ZXJzXCIpO2JyZWFrO2Nhc2VcImltcGVyaWFsXCI6aT1zJiZwKHMsUyhzLnZhbHVlLHMudW5pdCkpO2JyZWFrO2RlZmF1bHQ6aT1zJiZwKHMsdCl9aWYobnVsbD09aSlyZXR1cm4gbnVsbDtyZXR1cm4gYShpLnZhbHVlLzMwKSp5KDEsaS51bml0LFwibWV0ZXJzXCIpfV91cGRhdGVNZXNzYWdlQnVuZGxlKCl7dGhpcy5sb2FkaW5nTWVzc2FnZXM9ITAscShcImVzcmkvY29yZS90OW4vVW5pdHNcIikudGhlbigoZT0+e3RoaXMubWVzc2FnZXM9ZX0pKS5maW5hbGx5KCgoKT0+e3RoaXMubG9hZGluZ01lc3NhZ2VzPSExfSkpfWdldCB0ZXN0RGF0YSgpe3JldHVybntsYWJlbHM6dGhpcy5sYWJlbHMsc3RyaXBlTGVuZ3RoOnRoaXMuX3NlZ21lbnRWaXN1YWxFbGVtZW50Py5zdHJpcGVMZW5ndGh9fX07ZnVuY3Rpb24gVyhlLHQsaSxzLG4pe2NvbnN0IG89SSxsPUo7bi5wcm9qZWN0VG9SZW5kZXJTY3JlZW4oaSxvKSxuLnByb2plY3RUb1JlbmRlclNjcmVlbih0LGwpO2NvbnN0IGE9e3NlZ21lbnQ6XCJib3R0b21cIixob3Jpem9udGFsOlwidG9wXCIsdmVydGljYWw6b1swXTxsWzBdP1wibGVmdFwiOlwicmlnaHRcIn07e2NvbnN0IHM9SyxvPVg7aWYoRChlLGkscyxuKSxEKGUsdCxvLG4pLEUocyxvKT49Til7Y29uc3QgZT1NYXRoLnNpZ24oc1sxXSk9PT1NYXRoLnNpZ24ob1sxXSk7YS5zZWdtZW50PWU/eChhLnZlcnRpY2FsKTphLnZlcnRpY2FsfWVsc2V7Y29uc3QgZT1ZO0QoaSx0LGUsbiksRShlLG8pPj1OJiYoYS5zZWdtZW50PU1hdGguc2lnbihlWzBdKT09PU1hdGguc2lnbihvWzBdKT94KGEuaG9yaXpvbnRhbCk6YS5ob3Jpem9udGFsKX19aWYocz09PUMuQmVsb3dTZWdtZW50KXtjb25zdCBlPWU9PlwidG9wXCI9PT1lP1wiYm90dG9tXCI6XCJ0b3BcIjthLnNlZ21lbnQ9ZShhLnNlZ21lbnQpLGEuaG9yaXpvbnRhbD1lKGEuaG9yaXpvbnRhbCksYS52ZXJ0aWNhbD1lKGEudmVydGljYWwpfXJldHVybiBhfWUoW2YoKV0sQi5wcm90b3R5cGUsXCJfcGFyYW1ldGVyc1wiLG51bGwpLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJfdHJpYW5nbGVPcmllbnRhdGlvbk92ZXJyaWRlXCIsdm9pZCAwKSxlKFtmKCldLEIucHJvdG90eXBlLFwibWVzc2FnZXNcIix2b2lkIDApLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtmKCldLEIucHJvdG90eXBlLFwiYW5hbHlzaXNcIix2b2lkIDApLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJhbmFseXNpc1ZpZXdcIix2b2lkIDApLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJsb2FkaW5nTWVzc2FnZXNcIix2b2lkIDApLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbZigpXSxCLnByb3RvdHlwZSxcInZpZXdNb2RlXCIsbnVsbCksZShbZigpXSxCLnByb3RvdHlwZSxcImFjdHVhbFZpc3VhbGl6ZWRNZWFzdXJlbWVudFwiLG51bGwpLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJ2aXN1YWxFbGVtZW50T3JpZW50YXRpb25cIix2b2lkIDApLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJ0cmlhbmdsZUNvbGxhcHNlUmF0aW9UaHJlc2hvbGRcIix2b2lkIDApLGUoW2YoKV0sQi5wcm90b3R5cGUsXCJhbGxvd1Zpc3VhbEVsZW1lbnRzT3JpZW50YXRpb25DaGFuZ2VcIixudWxsKSxlKFtmKCldLEIucHJvdG90eXBlLFwibGFiZWxzXCIsbnVsbCksZShbZigpXSxCLnByb3RvdHlwZSxcIl9sYWJlbHNUZXh0XCIsbnVsbCksZShbZigpXSxCLnByb3RvdHlwZSxcIl9hY3R1YWxWaXN1YWxFbGVtZW50c09yaWVudGF0aW9uXCIsbnVsbCksZShbZigpXSxCLnByb3RvdHlwZSxcIl9tZWFzdXJlbWVudEFycm93U3RyaXBlTGVuZ3RoXCIsbnVsbCksQj1lKFtBKFwiZXNyaS52aWV3cy4zZC5hbmFseXNpcy5EaXJlY3RMaW5lTWVhc3VyZW1lbnQuRGlyZWN0TGluZU1lYXN1cmVtZW50VmlzdWFsaXphdGlvblwiKV0sQik7Y29uc3QgTj1NYXRoLmNvcyhyKDEyKSksST1MKCksSj1MKCksSz13KCksWD13KCksWT13KCk7ZXhwb3J0e0IgYXMgRGlyZWN0TGluZU1lYXN1cmVtZW50VmlzdWFsaXphdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGUsbzshZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09XCJOb25lXCIsZVtlLkRpcmVjdD0xXT1cIkRpcmVjdFwiLGVbZS5UcmlhbmdsZT0yXT1cIlRyaWFuZ2xlXCIsZVtlLlByb2plY3RlZEdlb2Rlc2ljPTNdPVwiUHJvamVjdGVkR2VvZGVzaWNcIn0oZXx8KGU9e30pKSxmdW5jdGlvbihlKXtlW2UuQXV0bz0wXT1cIkF1dG9cIixlW2UuQWJvdmVTZWdtZW50PTFdPVwiQWJvdmVTZWdtZW50XCIsZVtlLkJlbG93U2VnbWVudD0yXT1cIkJlbG93U2VnbWVudFwifShvfHwobz17fSkpO2V4cG9ydHtlIGFzIFZpZXdNb2RlLG8gYXMgVmlzdWFsRWxlbWVudE9yaWVudGF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y29sb3JWZWN0b3JFcXVhbHMgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2NvbG9yVXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZXMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt3YXRjaCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHthIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL21hdDRmNjQuanNcIjtpbXBvcnR7ZiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtjIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzQuanNcIjtpbXBvcnR7YyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWM0ZjY0LmpzXCI7aW1wb3J0e3N2M2QgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3ZlY3RvclN0YWNrcy5qc1wiO2ltcG9ydHtPYmplY3QzRFZpc3VhbEVsZW1lbnQgYXMgY31mcm9tXCIuL09iamVjdDNEVmlzdWFsRWxlbWVudC5qc1wiO2ltcG9ydHtjcmVhdGVQb2x5bGluZUdlb21ldHJ5IGFzIGR9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeVV0aWwuanNcIjtpbXBvcnR7UmVuZGVyT2NjbHVkZWRGbGFnIGFzIF99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtNZWFzdXJlbWVudEFycm93TWF0ZXJpYWwgYXMgbX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL01lYXN1cmVtZW50QXJyb3dNYXRlcmlhbC5qc1wiO2NsYXNzIHAgZXh0ZW5kcyBje2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2Fycm93V2lkdGg9MTYsdGhpcy5fYXJyb3dTdWJkaXZpc2lvbnM9MTI4LHRoaXMuX29yaWdpbj1hKCksdGhpcy5fb3JpZ2luVHJhbnNmb3JtPW8oKSx0aGlzLl9hcnJvd0NlbnRlcj1hKCksdGhpcy5fcmVuZGVyT2NjbHVkZWQ9Xy5PY2NsdWRlQW5kVHJhbnNwYXJlbnQsdGhpcy5fZ2VvbWV0cnk9bnVsbCx0aGlzLl9zdHJpcGVMZW5ndGg9MSx0aGlzLl9zdHJpcGVzRW5hYmxlZD0hMCx0aGlzLl9jb2xvcj1oKCksdGhpcy5fY29udHJhc3RDb2xvcj1oKCksdGhpcy5hcHBseVByb3BlcnRpZXMoZSl9Z2V0IHJlbmRlck9jY2x1ZGVkKCl7cmV0dXJuIHRoaXMuX3JlbmRlck9jY2x1ZGVkfXNldCByZW5kZXJPY2NsdWRlZChlKXtlIT09dGhpcy5fcmVuZGVyT2NjbHVkZWQmJih0aGlzLl9yZW5kZXJPY2NsdWRlZD1lLHRoaXMuX2Fycm93TWF0ZXJpYWwmJnRoaXMuX2Fycm93TWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7cmVuZGVyT2NjbHVkZWQ6ZX0pKX1nZXQgZ2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl9c2V0IGdlb21ldHJ5KGUpe3RoaXMuX2dlb21ldHJ5PWUsdGhpcy5fZ2VvbWV0cnlDaGFuZ2VkKCl9Z2V0IHN0cmlwZUxlbmd0aCgpe3JldHVybiB0aGlzLl9zdHJpcGVMZW5ndGh9c2V0IHN0cmlwZUxlbmd0aChlKXt0aGlzLl9zdHJpcGVMZW5ndGg9ZSx0aGlzLmF0dGFjaGVkJiZ0aGlzLl9hcnJvd01hdGVyaWFsLnNldFBhcmFtZXRlcnMoe3N0cmlwZUxlbmd0aDp0aGlzLl9zdHJpcGVMZW5ndGh9KX1nZXQgc3RyaXBlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc3RyaXBlc0VuYWJsZWR9c2V0IHN0cmlwZXNFbmFibGVkKGUpe2lmKHRoaXMuX3N0cmlwZXNFbmFibGVkPWUsdGhpcy5hdHRhY2hlZCl7Y29uc3QgZT10aGlzLl9zdHJpcGVzRW5hYmxlZD90aGlzLl9jb250cmFzdENvbG9yOnRoaXMuX2NvbG9yO3RoaXMuX2Fycm93TWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7c3RyaXBlRXZlbkNvbG9yOmV9KX19Z2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbG9yfXNldCBjb2xvcih0KXtlKHQsdGhpcy5fY29sb3IpfHwobih0aGlzLl9jb2xvcix0KSx0aGlzLl91cGRhdGVBcnJvd0NvbG9yKCkpfWdldCBjb250cmFzdENvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbnRyYXN0Q29sb3J9c2V0IGNvbnRyYXN0Q29sb3IodCl7ZSh0LHRoaXMuX2NvbG9yKXx8KG4odGhpcy5fY29udHJhc3RDb2xvcix0KSx0aGlzLl91cGRhdGVBcnJvd0NvbG9yKCkpfWNyZWF0ZUV4dGVybmFsUmVzb3VyY2VzKCl7Y29uc3QgZT10aGlzLl9jb2xvcixyPXRoaXMuX2NvbnRyYXN0Q29sb3Isbz10aGlzLl9zdHJpcGVzRW5hYmxlZD9yOmU7dGhpcy5fYXJyb3dNYXRlcmlhbD1uZXcgbSh7b3V0bGluZUNvbG9yOmUsc3RyaXBlRXZlbkNvbG9yOm8sc3RyaXBlT2RkQ29sb3I6ZSxyZW5kZXJPY2NsdWRlZDp0aGlzLnJlbmRlck9jY2x1ZGVkLHBvbHlnb25PZmZzZXQ6ITAsaXNEZWNvcmF0aW9uOnRoaXMuaXNEZWNvcmF0aW9ufSksdGhpcy5faGFuZGxlcz1uZXcgdCx0aGlzLl9oYW5kbGVzLmFkZChzKCgoKT0+dGhpcy52aWV3LnN0YXRlLmNhbWVyYSksKCgpPT57dGhpcy5fdmlld0NoYW5nZWQoKX0pKSl9ZGVzdHJveUV4dGVybmFsUmVzb3VyY2VzKCl7dGhpcy5fYXJyb3dNYXRlcmlhbD1udWxsLHRoaXMuX2hhbmRsZXM9cih0aGlzLl9oYW5kbGVzKX1mb3JFYWNoRXh0ZXJuYWxNYXRlcmlhbChlKXtlKHRoaXMuX2Fycm93TWF0ZXJpYWwpfWNyZWF0ZUdlb21ldHJpZXMoZSl7aWYobnVsbD09dGhpcy5fZ2VvbWV0cnk/LnN0YXJ0UmVuZGVyU3BhY2V8fG51bGw9PXRoaXMuX2dlb21ldHJ5LmVuZFJlbmRlclNwYWNlKXJldHVybjtjb25zdCB0PXRoaXMuX2NyZWF0ZUFycm93R2VvbWV0cnkodGhpcy5fZ2VvbWV0cnkuc3RhcnRSZW5kZXJTcGFjZSx0aGlzLl9nZW9tZXRyeS5lbmRSZW5kZXJTcGFjZSx0aGlzLl9vcmlnaW4sdGhpcy5fZ2VvbWV0cnkpO3QudHJhbnNmb3JtYXRpb249dGhpcy5fb3JpZ2luVHJhbnNmb3JtLGUuYWRkR2VvbWV0cnkodCksdGhpcy5fdmlld0NoYW5nZWQoKX1fY3JlYXRlQXJyb3dHZW9tZXRyeShlLHQscixzKXtjb25zdCBvPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIsYT1bXSxuPVtdLGg9KGUsdCk9Pntjb25zdCBzPWwuZ2V0KCk7aShzLGUsciksYS5wdXNoKHMpLG4ucHVzaCh0KX07aWYoXCJldWNsaWRlYW5cIj09PXMudHlwZSl7cy5ldmFsKC41LHRoaXMuX2Fycm93Q2VudGVyKTtjb25zdCByPWwuZ2V0KCk7by53b3JsZFVwQXRQb3NpdGlvbih0aGlzLl9hcnJvd0NlbnRlcixyKSxoKGUsciksaCh0LHIpfWVsc2V7cy5ldmFsKC41LHRoaXMuX2Fycm93Q2VudGVyKTtjb25zdCBlPXRoaXMuX2Fycm93U3ViZGl2aXNpb25zKzEmLTI7Zm9yKGxldCB0PTA7dDxlOysrdCl7Y29uc3Qgcj10LyhlLTEpLGk9bC5nZXQoKSxhPWwuZ2V0KCk7cy5ldmFsKHIsaSksby53b3JsZFVwQXRQb3NpdGlvbihpLGEpLGgoaSxhKX19cmV0dXJuIGQodGhpcy5fYXJyb3dNYXRlcmlhbCxhLG4pfV9nZW9tZXRyeUNoYW5nZWQoKXt0aGlzLnJlY3JlYXRlR2VvbWV0cnkoKX1fdmlld0NoYW5nZWQoKXtpZih0aGlzLnZpZXcucmVhZHkmJnRoaXMuYXR0YWNoZWQmJm51bGwhPXRoaXMuX2dlb21ldHJ5KXtjb25zdCBlPXRoaXMudmlldy5zdGF0ZS5jYW1lcmEuY29tcHV0ZVNjcmVlblBpeGVsU2l6ZUF0KHRoaXMuX2Fycm93Q2VudGVyKTt0aGlzLl9hcnJvd01hdGVyaWFsLnNldFBhcmFtZXRlcnMoe3dpZHRoOnRoaXMuX2Fycm93V2lkdGgqZX0pfX1fdXBkYXRlQXJyb3dDb2xvcigpe2lmKCF0aGlzLmF0dGFjaGVkKXJldHVybjtjb25zdCBlPXRoaXMuX2NvbG9yLHQ9dGhpcy5fY29udHJhc3RDb2xvcixyPXRoaXMuX3N0cmlwZXNFbmFibGVkP3Q6ZSxzPWUsbz1lO3RoaXMuX2Fycm93TWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7c3RyaXBlRXZlbkNvbG9yOnIsb3V0bGluZUNvbG9yOnMsc3RyaXBlT2RkQ29sb3I6b30pfX1leHBvcnR7cCBhcyBNZWFzdXJlbWVudEFycm93VmlzdWFsRWxlbWVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3MgYXMgdCxuIGFzIGUsZiBhcyByLGIgYXMgcyxvLGUgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7ZiBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWM0ZjY0LmpzXCI7aW1wb3J0e25ld0xheW91dCBhcyBjfWZyb21cIi4uLy4uL3N1cHBvcnQvYnVmZmVyL0ludGVybGVhdmVkTGF5b3V0LmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyB1fWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnQgZiBmcm9tXCIuLi9saWIvR0xNYXRlcmlhbC5qc1wiO2ltcG9ydHtNYXRlcmlhbCBhcyBwLE1hdGVyaWFsUGFyYW1ldGVycyBhcyBsfWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIGh9ZnJvbVwiLi4vbGliL1JlbmRlclNsb3QuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIG19ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtNZWFzdXJlbWVudEFycm93VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBkLE1lYXN1cmVtZW50QXJyb3dUZWNobmlxdWUgYXMgZ31mcm9tXCIuLi9zaGFkZXJzL01lYXN1cmVtZW50QXJyb3dUZWNobmlxdWUuanNcIjtjbGFzcyBPIGV4dGVuZHMgcHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LG5ldyBiKSx0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBkfWdldENvbmZpZ3VyYXRpb24odCxlKXtyZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbi5wb2x5Z29uT2Zmc2V0RW5hYmxlZD10aGlzLnBhcmFtZXRlcnMucG9seWdvbk9mZnNldCx0aGlzLl9jb25maWd1cmF0aW9uLnRyYW5zcGFyZW50PXRoaXMuX3RyYW5zcGFyZW50LHRoaXMuX2NvbmZpZ3VyYXRpb24udHJhbnNwYXJlbmN5UGFzc1R5cGU9ZS50cmFuc3BhcmVuY3lQYXNzVHlwZSx0aGlzLl9jb25maWd1cmF0aW9ufWludGVyc2VjdCgpe31wcm9kdWNlcyh0LGUpe2lmKGU9PT11LkNvbG9yfHxlPT09dS5BbHBoYSl7cmV0dXJuIHQ9PT0odGhpcy5fdHJhbnNwYXJlbnQ/aC5UUkFOU1BBUkVOVF9ERVBUSF9XUklURV9ESVNBQkxFRF9NQVRFUklBTDpoLk9QQVFVRV9NQVRFUklBTCl9cmV0dXJuITF9Y3JlYXRlR0xNYXRlcmlhbCh0KXtyZXR1cm4gbmV3IEEodCl9Y3JlYXRlQnVmZmVyV3JpdGVyKCl7cmV0dXJuIG5ldyB5fWdldCBfdHJhbnNwYXJlbnQoKXtjb25zdHtwYXJhbWV0ZXJzOnR9PXRoaXM7cmV0dXJuIHQub3V0bGluZUNvbG9yWzNdPDF8fHQuc3RyaXBlRXZlbkNvbG9yWzNdPDF8fHQuc3RyaXBlT2RkQ29sb3JbM108MX19Y2xhc3MgQSBleHRlbmRzIGZ7YmVnaW5TbG90KHQpe3JldHVybiB0aGlzLmVuc3VyZVRlY2huaXF1ZShnLHQpfX1jbGFzcyBiIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy53aWR0aD0zMix0aGlzLm91dGxpbmVTaXplPS4yLHRoaXMub3V0bGluZUNvbG9yPWEoMSwuNSwwLDEpLHRoaXMuc3RyaXBlRXZlbkNvbG9yPWEoMSwxLDEsMSksdGhpcy5zdHJpcGVPZGRDb2xvcj1hKDEsLjUsMCwxKSx0aGlzLnN0cmlwZUxlbmd0aD0xLHRoaXMucG9seWdvbk9mZnNldD0hMX19Y29uc3QgVD1jKCkudmVjM2YobS5QT1NJVElPTikudmVjM2YobS5OT1JNQUwpLnZlYzJmKG0uVVYwKS5mMzIobS5BVVhQT1MxKSxfPWkoKSx2PWkoKSxJPWkoKSxMPWkoKSxqPWkoKTtjbGFzcyB5e2NvbnN0cnVjdG9yKCl7dGhpcy52ZXJ0ZXhCdWZmZXJMYXlvdXQ9VH1lbGVtZW50Q291bnQodCl7cmV0dXJuIDIqKHQuYXR0cmlidXRlcy5nZXQobS5QT1NJVElPTikuaW5kaWNlcy5sZW5ndGgvMisxKX13cml0ZShpLGEsYyx1LGYpe2NvbnN0e2RhdGE6cCxpbmRpY2VzOmx9PWMuYXR0cmlidXRlcy5nZXQobS5QT1NJVElPTiksaD1jLmF0dHJpYnV0ZXMuZ2V0KG0uTk9STUFMKS5kYXRhLGQ9cC5sZW5ndGgvMztsJiZsLmxlbmd0aCE9PTIqKGQtMSkmJmNvbnNvbGUud2FybihcIk1lYXN1cmVtZW50QXJyb3dNYXRlcmlhbCBkb2VzIG5vdCBzdXBwb3J0IGluZGljZXNcIik7Y29uc3QgZz1fLE89dixBPUksYj1MLFQ9aix5PXUucG9zaXRpb24sRT11Lm5vcm1hbCxNPXUudXYwO2xldCBTPTA7Zm9yKGxldCBtPTA7bTxkOysrbSl7Y29uc3QgYz0zKm07aWYodChnLHBbY10scFtjKzFdLHBbYysyXSksbTxkLTEpe2NvbnN0IG89MyoobSsxKTt0KE8scFtvXSxwW28rMV0scFtvKzJdKSx0KFQsaFtvXSxoW28rMV0saFtvKzJdKSxlKFQsVCkscihBLE8sZyksZShBLEEpLHMoYixULEEpLGUoYixiKX1jb25zdCB1PW8oZyxPKTtpJiZhJiYobihnLGcsaSksbihPLE8saSksbihiLGIsYSkpO2NvbnN0IGw9ZisyKm0sXz1sKzE7eS5zZXRWZWMobCxnKSx5LnNldFZlYyhfLGcpLEUuc2V0VmVjKGwsYiksRS5zZXRWZWMoXyxiKSxNLnNldChsLDAsUyksTS5zZXQobCwxLC0xKSxNLnNldChfLDAsUyksTS5zZXQoXywxLDEpLG08ZC0xJiYoUys9dSl9Y29uc3Qgdz11LmF1eHBvczE7Zm9yKGxldCB0PTA7dDwyKmQ7Kyt0KXcuc2V0KGYrdCxTKX19ZXhwb3J0e08gYXMgTWVhc3VyZW1lbnRBcnJvd01hdGVyaWFsLGIgYXMgUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e1JlbG9hZGFibGVTaGFkZXJNb2R1bGUgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9SZWxvYWRhYmxlU2hhZGVyTW9kdWxlLmpzXCI7aW1wb3J0e1NoYWRlclRlY2huaXF1ZSBhcyB0fWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZS5qc1wiO2ltcG9ydHtwYXJhbWV0ZXIgYXMgb31mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0RlZmF1bHQzRCBhcyBufWZyb21cIi4uL2xpYi9EZWZhdWx0VmVydGV4QXR0cmlidXRlTG9jYXRpb25zLmpzXCI7aW1wb3J0e2JsZW5kaW5nRGVmYXVsdCBhcyBzLG9pdEJsZW5kaW5nIGFzIGl9ZnJvbVwiLi4vbGliL09yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kuanNcIjtpbXBvcnR7UHJvZ3JhbSBhcyBhfWZyb21cIi4uL2xpYi9Qcm9ncmFtLmpzXCI7aW1wb3J0e1RyYW5zcGFyZW5jeVBhc3NUeXBlIGFzIHB9ZnJvbVwiLi4vbGliL1RyYW5zcGFyZW5jeVBhc3NUeXBlLmpzXCI7aW1wb3J0e0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIGx9ZnJvbVwiLi4vbWF0ZXJpYWxzL0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e00gYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvTWVhc3VyZW1lbnRBcnJvdy5nbHNsLmpzXCI7aW1wb3J0e0NvbXBhcmVGdW5jdGlvbiBhcyBjLFByaW1pdGl2ZVR5cGUgYXMgbX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHttYWtlUGlwZWxpbmVTdGF0ZSBhcyBmLGRlZmF1bHREZXB0aFdyaXRlUGFyYW1zIGFzIGQsZGVmYXVsdENvbG9yV3JpdGVQYXJhbXMgYXMgaH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIGcgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUscix0KXtzdXBlcihlLHIsdCl9aW5pdGlhbGl6ZVByb2dyYW0oZSl7cmV0dXJuIG5ldyBhKGUucmN0eCxnLnNoYWRlci5nZXQoKS5idWlsZCh0aGlzLmNvbmZpZ3VyYXRpb24pLG4pfV9zZXRQaXBlbGluZVN0YXRlKGUpe2NvbnN0IHI9ZT09PXAuTk9ORSx0PXRoaXMuY29uZmlndXJhdGlvbjtyZXR1cm4gZih7YmxlbmRpbmc6dC50cmFuc3BhcmVudD9yP3M6aShlKTpudWxsLHBvbHlnb25PZmZzZXQ6dGhpcy5jb25maWd1cmF0aW9uLnBvbHlnb25PZmZzZXRFbmFibGVkP3tmYWN0b3I6MCx1bml0czotNH06bnVsbCxkZXB0aFRlc3Q6e2Z1bmM6Yy5MRVNTfSxkZXB0aFdyaXRlOmQsY29sb3JXcml0ZTpofSl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIHRoaXMuX3NldFBpcGVsaW5lU3RhdGUodGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcGFyZW5jeVBhc3NUeXBlKX1nZXQgcHJpbWl0aXZlVHlwZSgpe3JldHVybiBtLlRSSUFOR0xFX1NUUklQfX1nLnNoYWRlcj1uZXcgcih1LCgoKT0+aW1wb3J0KFwiLi9NZWFzdXJlbWVudEFycm93Lmdsc2wuanNcIikpKTtjbGFzcyB5IGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5wb2x5Z29uT2Zmc2V0RW5hYmxlZD0hMSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMudHJhbnNwYXJlbmN5UGFzc1R5cGU9cC5OT05FfX1lKFtvKCldLHkucHJvdG90eXBlLFwicG9seWdvbk9mZnNldEVuYWJsZWRcIix2b2lkIDApLGUoW28oKV0seS5wcm90b3R5cGUsXCJ0cmFuc3BhcmVudFwiLHZvaWQgMCksZShbbyh7Y291bnQ6cC5DT1VOVH0pXSx5LnByb3RvdHlwZSxcInRyYW5zcGFyZW5jeVBhc3NUeXBlXCIsdm9pZCAwKTtleHBvcnR7ZyBhcyBNZWFzdXJlbWVudEFycm93VGVjaG5pcXVlLHkgYXMgTWVhc3VyZW1lbnRBcnJvd1RlY2huaXF1ZUNvbmZpZ3VyYXRpb259O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9