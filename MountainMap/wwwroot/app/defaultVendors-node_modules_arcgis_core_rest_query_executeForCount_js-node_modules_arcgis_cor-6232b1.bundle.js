"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_rest_query_executeForCount_js-node_modules_arcgis_cor-6232b1"],{

/***/ "./node_modules/@arcgis/core/rest/operations/urlUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/urlUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapParameters: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n){const o={};for(const e in n){if("declaredClass"===e)continue;const r=n[e];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else"object"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/executeForCount.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/executeForCount.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeForCount: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,s,m){const p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.parseUrl)(n);return (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_1__.executeQueryForCount)(p,_support_Query_js__WEBPACK_IMPORTED_MODULE_2__["default"].from(s),{...m}).then((o=>o.data.count))}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/executeForIds.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/executeForIds.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeForIds: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function s(s,e,m){const n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.parseUrl)(s);return (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_1__.executeQueryForIds)(n,_support_Query_js__WEBPACK_IMPORTED_MODULE_2__["default"].from(e),{...m}).then((o=>o.data.objectIds))}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/executeQueryJSON.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/executeQueryJSON.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeQueryJSON: () => (/* binding */ s),
/* harmony export */   executeRawQueryJSON: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function s(r,t,e){const s=await a(r,t,e);return _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(s)}async function a(o,s,a){const n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.parseUrl)(o),i={...a},p=_support_Query_js__WEBPACK_IMPORTED_MODULE_3__["default"].from(s),{data:u}=await (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(n,p,p.sourceSpatialReference,i);return u}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/executeQueryPBF.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/executeQueryPBF.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeQueryPBF: () => (/* binding */ s),
/* harmony export */   executeRawQueryPBF: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_pbfJSONFeatureSet_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operations/pbfJSONFeatureSet.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js");
/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function s(r,e,t){const s=await n(r,_support_Query_js__WEBPACK_IMPORTED_MODULE_4__["default"].from(e),t);return _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(s)}async function n(o,s,n){const p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.parseUrl)(o),i={...n},u=_support_Query_js__WEBPACK_IMPORTED_MODULE_4__["default"].from(s),m=!u.quantizationParameters,{data:f}=await (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_2__.executeQueryPBF)(p,u,new _operations_pbfJSONFeatureSet_js__WEBPACK_IMPORTED_MODULE_1__.JSONFeatureSetParserContext({sourceSpatialReference:u.sourceSpatialReference,applyTransform:m}),i);return f}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JSONFeatureSetParserContext: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/zscale.js */ "./node_modules/@arcgis/core/geometry/support/zscale.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(e,t){return t}function i(e,t,r,s){switch(r){case 0:return u(e,t+s,0);case 1:return"lowerLeft"===e.originPosition?u(e,t+s,1):d(e,t+s,1)}}function n(e,t,r,s){return 2===r?u(e,t,2):i(e,t,r,s)}function a(e,t,r,s){return 2===r?u(e,t,3):i(e,t,r,s)}function h(e,t,r,s){return 3===r?u(e,t,3):n(e,t,r,s)}function u({translate:e,scale:t},r,s){return e[s]+r*t[s]}function d({translate:e,scale:t},r,s){return e[s]-r*t[s]}class l{constructor(e){this._options=e,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=o,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(e){if(this._options.applyTransform&&(e.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!e.hasZ)return;const r=(0,_geometry_support_zscale_js__WEBPACK_IMPORTED_MODULE_1__.getGeometryZScaler)(e.geometryType,this._options.sourceSpatialReference,e.spatialReference);if(null!=r)for(const t of e.features)r(t.geometry)}createSpatialReference(){return{}}addField(t,r){const s=t.fields;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.assertIsSome)(s),s.push(r);const o=s.map((e=>e.name));this._attributesConstructor=function(){for(const e of o)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(e){switch(this._transform=e.transform,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++,e.geometryType){case"esriGeometryPoint":this.addCoordinate=(e,t,r)=>this.addCoordinatePoint(e,t,r),this.createGeometry=e=>this.createPointGeometry(e);break;case"esriGeometryPolygon":this.addCoordinate=(e,t,r)=>this._addCoordinatePolygon(e,t,r),this.createGeometry=e=>this._createPolygonGeometry(e);break;case"esriGeometryPolyline":this.addCoordinate=(e,t,r)=>this._addCoordinatePolyline(e,t,r),this.createGeometry=e=>this._createPolylineGeometry(e);break;case"esriGeometryMultipoint":this.addCoordinate=(e,t,r)=>this._addCoordinateMultipoint(e,t,r),this.createGeometry=e=>this._createMultipointGeometry(e)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(e,t,r){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}addQueryGeometry(e,t){const{queryGeometry:o,queryGeometryType:i}=t,n=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.unquantizeOptimizedGeometry)(o.clone(),o,!1,!1,this._transform),a=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertToGeometry)(n,i,!1,!1);e.queryGeometryType=i,e.queryGeometry={...a}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,r){const s=this._transform;switch(t=this._applyTransform(s,t,r,0),r){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}_transformPathLikeValue(e,t){let r=0;t<=1&&(r=this._previousCoordinate[t],this._previousCoordinate[t]+=e);const s=this._transform;return this._applyTransform(s,e,t,r)}_addCoordinatePolyline(e,t,r){this._dehydratedAddPointsCoordinate(e.paths,t,r)}_addCoordinatePolygon(e,t,r){this._dehydratedAddPointsCoordinate(e.rings,t,r)}_addCoordinateMultipoint(e,t,r){0===r&&e.points.push([]);const s=this._transformPathLikeValue(t,r);e.points[e.points.length-1].push(s)}_createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,r){0===r&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const s=this._transformPathLikeValue(t,r),o=e[e.length-1];0===r&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),o.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=s}_deriveApplyTransform(e){const{hasZ:t,hasM:r}=e;return t&&r?h:t?n:r?a:i}}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/operations/query.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/operations/query.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeGeometry: () => (/* binding */ m),
/* harmony export */   executeQuery: () => (/* binding */ c),
/* harmony export */   executeQueryForCount: () => (/* binding */ S),
/* harmony export */   executeQueryForExtent: () => (/* binding */ x),
/* harmony export */   executeQueryForIds: () => (/* binding */ p),
/* harmony export */   executeQueryPBF: () => (/* binding */ f),
/* harmony export */   executeQueryPBFBuffer: () => (/* binding */ d),
/* harmony export */   queryToQueryStringParameters: () => (/* binding */ y),
/* harmony export */   runQuery: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../operations/urlUtils.js */ "./node_modules/@arcgis/core/rest/operations/urlUtils.js");
/* harmony import */ var _pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pbfQueryUtils.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js");
/* harmony import */ var _queryZScale_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./queryZScale.js */ "./node_modules/@arcgis/core/rest/query/operations/queryZScale.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="Layer does not support extent calculation.";function m(t,e){if(e&&"extent"===t.type)return`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;if(e&&"point"===t.type)return`${t.x},${t.y}`;const n=t.toJSON();return delete n.spatialReference,JSON.stringify(n)}function y(t,e){const n=t.geometry,i=t.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const o=i;let u,l,s;if(null!=n&&(l=n.spatialReference,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(l),o.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(n),o.geometry=m(n,t.compactGeometryEnabled),o.inSR=s),i.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(o.objectIds=i.objectIds.join(",")),i.orderByFields&&(o.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&(e?.returnCountOnly||e?.returnExtentOnly||e?.returnIdsOnly)?delete o.outFields:i.outFields.includes("*")?o.outFields="*":o.outFields=i.outFields.join(","),i.outSR?(o.outSR=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(i.outSR),u=t.outSpatialReference):n&&(i.returnGeometry||i.returnCentroid)&&(o.outSR=o.inSR,u=l),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(o.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(o.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(o.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(t.defaultSpatialReferenceEnabled&&null!=l&&null!=t.quantizationParameters?.extent&&l.equals(t.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,o.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(o.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(o.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(o.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(o.time=e===n?e:`${e??"null"},${n??"null"}`),delete i.timeExtent}return t.defaultSpatialReferenceEnabled&&null!=l&&null!=u&&l.equals(u)&&(o.defaultSR=o.inSR,delete o.inSR,delete o.outSR),o}async function c(t,e,n,r){const i=null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await E(t,e,"json",r);return (0,_queryZScale_js__WEBPACK_IMPORTED_MODULE_7__.applyFeatureSetZUnitScaling)(e,n,i.data),i}async function f(t,e,n,r){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:n.createFeatureResult()};const i=await d(t,e,r),a=i;return a.data=(0,_pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__.parsePBFFeatureQuery)(i.data,n),a}function d(t,e,n){return E(t,e,"pbf",n)}function p(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):E(t,e,"json",n,{returnIdsOnly:!0})}function S(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):E(t,e,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}async function x(t,e,n){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await E(t,e,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty("extent"))return r;if(i.features)throw new Error(s);if(i.hasOwnProperty("count"))throw new Error(s);return r}async function E(r,a,u,l={},s={}){const m="string"==typeof r?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.urlToObject)(r):r,c=a.geometry?[a.geometry]:[],f=await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeCentralMeridian)(c,null,{signal:l.signal}),d=f?.[0];null!=d&&((a=a.clone()).geometry=d);const p=(0,_operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.mapParameters)({...m.query,f:u,...s,...y(a,s)});return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.join)(m.path,g(a,s)?"query3d":"query"),{...l,responseType:"pbf"===u?"array-buffer":"json",query:{...p,...l.query}})}function g(t,e){return null!=t.formatOf3DObjects&&!(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3Jlc3RfcXVlcnlfZXhlY3V0ZUZvckNvdW50X2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yLTYyMzJiMS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXLGtCQUFrQixnQ0FBZ0MsYUFBYSxzREFBc0QsUUFBUSxZQUFZLFdBQVcsb0JBQW9CLGlFQUFpRSxTQUFvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnRTO0FBQ0E7QUFDQTtBQUNBO0FBQ3VJLHdCQUF3QixRQUFRLG1EQUFDLElBQUksT0FBTywwRUFBQyxHQUFHLHlEQUFDLFVBQVUsS0FBSywwQkFBdUQ7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o5UDtBQUNBO0FBQ0E7QUFDQTtBQUNxSSx3QkFBd0IsUUFBUSxtREFBQyxJQUFJLE9BQU8sd0VBQUMsR0FBRyx5REFBQyxVQUFVLEtBQUssOEJBQXlEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o5UDtBQUNBO0FBQ0E7QUFDQTtBQUN1Syx3QkFBd0IsdUJBQXVCLE9BQU8sOERBQUMsYUFBYSx3QkFBd0IsUUFBUSxtREFBQyxPQUFPLEtBQUssR0FBRyx5REFBQyxVQUFVLE9BQU8sT0FBTyxrRUFBQyxpQ0FBaUMsU0FBZ0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0WjtBQUNBO0FBQ0E7QUFDQTtBQUMwUCx3QkFBd0Isa0JBQWtCLHlEQUFDLFlBQVksT0FBTyw4REFBQyxhQUFhLHdCQUF3QixRQUFRLG1EQUFDLE9BQU8sS0FBSyxHQUFHLHlEQUFDLHNDQUFzQyxPQUFPLE9BQU8scUVBQUMsU0FBUyx5RkFBQyxFQUFFLGlFQUFpRSxLQUFLLFNBQThEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ3VQLGdCQUFnQixTQUFTLG9CQUFvQixVQUFVLHlCQUF5QixtRUFBbUUsb0JBQW9CLGlDQUFpQyxvQkFBb0IsaUNBQWlDLG9CQUFvQixpQ0FBaUMsWUFBWSxvQkFBb0IsTUFBTSxtQkFBbUIsWUFBWSxvQkFBb0IsTUFBTSxtQkFBbUIsUUFBUSxlQUFlLHFZQUFxWSxzQkFBc0IsT0FBTyx1QkFBdUIsdUJBQXVCLHVGQUF1RixtRUFBbUUsUUFBUSwrRUFBQyx5RUFBeUUsbURBQW1ELHlCQUF5QixTQUFTLGNBQWMsaUJBQWlCLDREQUFDLGNBQWMsMkJBQTJCLHVDQUF1QywrQkFBK0IsZ0JBQWdCLG1CQUFtQixtQkFBbUIsMk9BQTJPLHNJQUFzSSxNQUFNLDhJQUE4SSxNQUFNLGlKQUFpSixNQUFNLHdKQUF3SixnQkFBZ0IsOEtBQThLLDRDQUE0Qyx1QkFBdUIsaUJBQWlCLDZFQUE2RSxzQkFBc0IsTUFBTSxvQ0FBb0MsS0FBSyx1R0FBQyxzQ0FBc0MsNkZBQUMsWUFBWSx1Q0FBdUMsTUFBTSx1QkFBdUIsU0FBUyw2Q0FBNkMseUNBQXlDLDBCQUEwQix3QkFBd0IsMENBQTBDLGFBQWEsTUFBTSxhQUFhLE1BQU0sMkJBQTJCLE1BQU0sY0FBYyw2QkFBNkIsUUFBUSxxRUFBcUUsd0JBQXdCLHFDQUFxQyw4QkFBOEIsaURBQWlELDZCQUE2QixpREFBaUQsZ0NBQWdDLHlCQUF5QiwwQ0FBMEMsb0NBQW9DLDBCQUEwQixPQUFPLDRFQUE0RSwyQkFBMkIsT0FBTyw0RUFBNEUsNkJBQTZCLE9BQU8sMkVBQTJFLHNDQUFzQyxvTEFBb0wsMERBQTBELGtMQUFrTCx5QkFBeUIsTUFBTSxjQUFjLEdBQUcseUJBQWtFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjNqSjtBQUNBO0FBQ0E7QUFDQTtBQUMwZ0IscURBQXFELGdCQUFnQixpQ0FBaUMsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxFQUFFLGdDQUFnQyxJQUFJLEdBQUcsSUFBSSxFQUFFLG1CQUFtQixtREFBbUQsZ0JBQWdCLGdDQUFnQyx3RUFBd0UsVUFBVSxVQUFVLG9DQUFvQyx5RkFBQyxtQkFBbUIsMkVBQUMsNGRBQTRkLHlGQUFDLGt4QkFBa3hCLDJCQUEyQiw0Q0FBNEMsc0JBQXNCLGNBQWMsR0FBRyxxQ0FBcUMsVUFBVSxHQUFHLFVBQVUsdUJBQXVCLDRIQUE0SCwwQkFBMEIsa0RBQWtELE1BQU0sYUFBYSx1QkFBdUIsT0FBTyw0RUFBQyxlQUFlLDBCQUEwQixtREFBbUQsOEJBQThCLDJCQUEyQixjQUFjLHVFQUFDLGFBQWEsa0JBQWtCLHNCQUFzQixrQkFBa0IsaUVBQWlFLE1BQU0sY0FBYyxrQkFBa0IsaUJBQWlCLEVBQUUsa0JBQWtCLGlFQUFpRSxNQUFNLFNBQVMsa0JBQWtCLG9DQUFvQyxFQUFFLHdCQUF3QixtREFBbUQsTUFBTSxzQkFBc0IsOEJBQThCLHVDQUF1QyxXQUFXLHVDQUF1QyxpQ0FBaUMsZ0RBQWdELFNBQVMsMkJBQTJCLEtBQUssRUFBRSwyQkFBMkIsOERBQUMsMkNBQTJDLDZGQUFDLFNBQVMsZ0JBQWdCLFdBQVcsb0NBQW9DLFFBQVEsc0VBQUMsRUFBRSw4QkFBOEIsRUFBRSxPQUFPLHVEQUFDLENBQUMsdURBQUMsbUNBQW1DLHlEQUF5RCxpQkFBaUIsRUFBRSxnQkFBZ0IsNEZBQXVUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3Qvb3BlcmF0aW9ucy91cmxVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9xdWVyeS9leGVjdXRlRm9yQ291bnQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3QvcXVlcnkvZXhlY3V0ZUZvcklkcy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9xdWVyeS9leGVjdXRlUXVlcnlKU09OLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L3F1ZXJ5L2V4ZWN1dGVRdWVyeVBCRi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9xdWVyeS9vcGVyYXRpb25zL3BiZkpTT05GZWF0dXJlU2V0LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQobil7Y29uc3Qgbz17fTtmb3IoY29uc3QgZSBpbiBuKXtpZihcImRlY2xhcmVkQ2xhc3NcIj09PWUpY29udGludWU7Y29uc3Qgcj1uW2VdO2lmKG51bGwhPXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpaWYoQXJyYXkuaXNBcnJheShyKSl7b1tlXT1bXTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylvW2VdW25dPXQocltuXSl9ZWxzZVwib2JqZWN0XCI9PXR5cGVvZiByP3IudG9KU09OJiYob1tlXT1KU09OLnN0cmluZ2lmeShyKSk6b1tlXT1yfXJldHVybiBvfWV4cG9ydHt0IGFzIG1hcFBhcmFtZXRlcnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwYXJzZVVybCBhcyBvfWZyb21cIi4uL3V0aWxzLmpzXCI7aW1wb3J0e2V4ZWN1dGVRdWVyeUZvckNvdW50IGFzIHJ9ZnJvbVwiLi9vcGVyYXRpb25zL3F1ZXJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vc3VwcG9ydC9RdWVyeS5qc1wiO2FzeW5jIGZ1bmN0aW9uIG4obixzLG0pe2NvbnN0IHA9byhuKTtyZXR1cm4gcihwLHQuZnJvbShzKSx7Li4ubX0pLnRoZW4oKG89Pm8uZGF0YS5jb3VudCkpfWV4cG9ydHtuIGFzIGV4ZWN1dGVGb3JDb3VudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3BhcnNlVXJsIGFzIG99ZnJvbVwiLi4vdXRpbHMuanNcIjtpbXBvcnR7ZXhlY3V0ZVF1ZXJ5Rm9ySWRzIGFzIHJ9ZnJvbVwiLi9vcGVyYXRpb25zL3F1ZXJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vc3VwcG9ydC9RdWVyeS5qc1wiO2FzeW5jIGZ1bmN0aW9uIHMocyxlLG0pe2NvbnN0IG49byhzKTtyZXR1cm4gcihuLHQuZnJvbShlKSx7Li4ubX0pLnRoZW4oKG89Pm8uZGF0YS5vYmplY3RJZHMpKX1leHBvcnR7cyBhcyBleGVjdXRlRm9ySWRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cGFyc2VVcmwgYXMgcn1mcm9tXCIuLi91dGlscy5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnkgYXMgdH1mcm9tXCIuL29wZXJhdGlvbnMvcXVlcnkuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi9zdXBwb3J0L1F1ZXJ5LmpzXCI7YXN5bmMgZnVuY3Rpb24gcyhyLHQsZSl7Y29uc3Qgcz1hd2FpdCBhKHIsdCxlKTtyZXR1cm4gby5mcm9tSlNPTihzKX1hc3luYyBmdW5jdGlvbiBhKG8scyxhKXtjb25zdCBuPXIobyksaT17Li4uYX0scD1lLmZyb20ocykse2RhdGE6dX09YXdhaXQgdChuLHAscC5zb3VyY2VTcGF0aWFsUmVmZXJlbmNlLGkpO3JldHVybiB1fWV4cG9ydHtzIGFzIGV4ZWN1dGVRdWVyeUpTT04sYSBhcyBleGVjdXRlUmF3UXVlcnlKU09OfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cGFyc2VVcmwgYXMgcn1mcm9tXCIuLi91dGlscy5qc1wiO2ltcG9ydHtKU09ORmVhdHVyZVNldFBhcnNlckNvbnRleHQgYXMgZX1mcm9tXCIuL29wZXJhdGlvbnMvcGJmSlNPTkZlYXR1cmVTZXQuanNcIjtpbXBvcnR7ZXhlY3V0ZVF1ZXJ5UEJGIGFzIHR9ZnJvbVwiLi9vcGVyYXRpb25zL3F1ZXJ5LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vc3VwcG9ydC9RdWVyeS5qc1wiO2FzeW5jIGZ1bmN0aW9uIHMocixlLHQpe2NvbnN0IHM9YXdhaXQgbihyLGEuZnJvbShlKSx0KTtyZXR1cm4gby5mcm9tSlNPTihzKX1hc3luYyBmdW5jdGlvbiBuKG8scyxuKXtjb25zdCBwPXIobyksaT17Li4ubn0sdT1hLmZyb20ocyksbT0hdS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzLHtkYXRhOmZ9PWF3YWl0IHQocCx1LG5ldyBlKHtzb3VyY2VTcGF0aWFsUmVmZXJlbmNlOnUuc291cmNlU3BhdGlhbFJlZmVyZW5jZSxhcHBseVRyYW5zZm9ybTptfSksaSk7cmV0dXJuIGZ9ZXhwb3J0e3MgYXMgZXhlY3V0ZVF1ZXJ5UEJGLG4gYXMgZXhlY3V0ZVJhd1F1ZXJ5UEJGfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YXNzZXJ0SXNTb21lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtnZXRHZW9tZXRyeVpTY2FsZXIgYXMgdH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3pzY2FsZS5qc1wiO2ltcG9ydHt1bnF1YW50aXplT3B0aW1pemVkR2VvbWV0cnkgYXMgcixjb252ZXJ0VG9HZW9tZXRyeSBhcyBzfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiB0fWZ1bmN0aW9uIGkoZSx0LHIscyl7c3dpdGNoKHIpe2Nhc2UgMDpyZXR1cm4gdShlLHQrcywwKTtjYXNlIDE6cmV0dXJuXCJsb3dlckxlZnRcIj09PWUub3JpZ2luUG9zaXRpb24/dShlLHQrcywxKTpkKGUsdCtzLDEpfX1mdW5jdGlvbiBuKGUsdCxyLHMpe3JldHVybiAyPT09cj91KGUsdCwyKTppKGUsdCxyLHMpfWZ1bmN0aW9uIGEoZSx0LHIscyl7cmV0dXJuIDI9PT1yP3UoZSx0LDMpOmkoZSx0LHIscyl9ZnVuY3Rpb24gaChlLHQscixzKXtyZXR1cm4gMz09PXI/dShlLHQsMyk6bihlLHQscixzKX1mdW5jdGlvbiB1KHt0cmFuc2xhdGU6ZSxzY2FsZTp0fSxyLHMpe3JldHVybiBlW3NdK3IqdFtzXX1mdW5jdGlvbiBkKHt0cmFuc2xhdGU6ZSxzY2FsZTp0fSxyLHMpe3JldHVybiBlW3NdLXIqdFtzXX1jbGFzcyBse2NvbnN0cnVjdG9yKGUpe3RoaXMuX29wdGlvbnM9ZSx0aGlzLmdlb21ldHJ5VHlwZXM9W1wiZXNyaUdlb21ldHJ5UG9pbnRcIixcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIixcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCIsXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCJdLHRoaXMuX3ByZXZpb3VzQ29vcmRpbmF0ZT1bMCwwXSx0aGlzLl90cmFuc2Zvcm09bnVsbCx0aGlzLl9hcHBseVRyYW5zZm9ybT1vLHRoaXMuX2xlbmd0aHM9W10sdGhpcy5fY3VycmVudExlbmd0aEluZGV4PTAsdGhpcy5fdG9BZGRJbkN1cnJlbnRQYXRoPTAsdGhpcy5fdmVydGV4RGltZW5zaW9uPTAsdGhpcy5fY29vcmRpbmF0ZUJ1ZmZlcj1udWxsLHRoaXMuX2Nvb3JkaW5hdGVCdWZmZXJQdHI9MCx0aGlzLl9hdHRyaWJ1dGVzQ29uc3RydWN0b3I9Y2xhc3N7fX1jcmVhdGVGZWF0dXJlUmVzdWx0KCl7cmV0dXJue2ZpZWxkczpbXSxmZWF0dXJlczpbXX19ZmluaXNoRmVhdHVyZVJlc3VsdChlKXtpZih0aGlzLl9vcHRpb25zLmFwcGx5VHJhbnNmb3JtJiYoZS50cmFuc2Zvcm09bnVsbCksdGhpcy5fYXR0cmlidXRlc0NvbnN0cnVjdG9yPWNsYXNze30sdGhpcy5fY29vcmRpbmF0ZUJ1ZmZlcj1udWxsLHRoaXMuX2xlbmd0aHMubGVuZ3RoPTAsIWUuaGFzWilyZXR1cm47Y29uc3Qgcj10KGUuZ2VvbWV0cnlUeXBlLHRoaXMuX29wdGlvbnMuc291cmNlU3BhdGlhbFJlZmVyZW5jZSxlLnNwYXRpYWxSZWZlcmVuY2UpO2lmKG51bGwhPXIpZm9yKGNvbnN0IHQgb2YgZS5mZWF0dXJlcylyKHQuZ2VvbWV0cnkpfWNyZWF0ZVNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm57fX1hZGRGaWVsZCh0LHIpe2NvbnN0IHM9dC5maWVsZHM7ZShzKSxzLnB1c2gocik7Y29uc3Qgbz1zLm1hcCgoZT0+ZS5uYW1lKSk7dGhpcy5fYXR0cmlidXRlc0NvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGUgb2Ygbyl0aGlzW2VdPW51bGx9fWFkZEZlYXR1cmUoZSx0KXtlLmZlYXR1cmVzLnB1c2godCl9cHJlcGFyZUZlYXR1cmVzKGUpe3N3aXRjaCh0aGlzLl90cmFuc2Zvcm09ZS50cmFuc2Zvcm0sdGhpcy5fb3B0aW9ucy5hcHBseVRyYW5zZm9ybSYmZS50cmFuc2Zvcm0mJih0aGlzLl9hcHBseVRyYW5zZm9ybT10aGlzLl9kZXJpdmVBcHBseVRyYW5zZm9ybShlKSksdGhpcy5fdmVydGV4RGltZW5zaW9uPTIsZS5oYXNaJiZ0aGlzLl92ZXJ0ZXhEaW1lbnNpb24rKyxlLmhhc00mJnRoaXMuX3ZlcnRleERpbWVuc2lvbisrLGUuZ2VvbWV0cnlUeXBlKXtjYXNlXCJlc3JpR2VvbWV0cnlQb2ludFwiOnRoaXMuYWRkQ29vcmRpbmF0ZT0oZSx0LHIpPT50aGlzLmFkZENvb3JkaW5hdGVQb2ludChlLHQsciksdGhpcy5jcmVhdGVHZW9tZXRyeT1lPT50aGlzLmNyZWF0ZVBvaW50R2VvbWV0cnkoZSk7YnJlYWs7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWdvblwiOnRoaXMuYWRkQ29vcmRpbmF0ZT0oZSx0LHIpPT50aGlzLl9hZGRDb29yZGluYXRlUG9seWdvbihlLHQsciksdGhpcy5jcmVhdGVHZW9tZXRyeT1lPT50aGlzLl9jcmVhdGVQb2x5Z29uR2VvbWV0cnkoZSk7YnJlYWs7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjp0aGlzLmFkZENvb3JkaW5hdGU9KGUsdCxyKT0+dGhpcy5fYWRkQ29vcmRpbmF0ZVBvbHlsaW5lKGUsdCxyKSx0aGlzLmNyZWF0ZUdlb21ldHJ5PWU9PnRoaXMuX2NyZWF0ZVBvbHlsaW5lR2VvbWV0cnkoZSk7YnJlYWs7Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiOnRoaXMuYWRkQ29vcmRpbmF0ZT0oZSx0LHIpPT50aGlzLl9hZGRDb29yZGluYXRlTXVsdGlwb2ludChlLHQsciksdGhpcy5jcmVhdGVHZW9tZXRyeT1lPT50aGlzLl9jcmVhdGVNdWx0aXBvaW50R2VvbWV0cnkoZSl9fWNyZWF0ZUZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fbGVuZ3Rocy5sZW5ndGg9MCx0aGlzLl9jdXJyZW50TGVuZ3RoSW5kZXg9MCx0aGlzLl9wcmV2aW91c0Nvb3JkaW5hdGVbMF09MCx0aGlzLl9wcmV2aW91c0Nvb3JkaW5hdGVbMV09MCx0aGlzLl9jb29yZGluYXRlQnVmZmVyPW51bGwsdGhpcy5fY29vcmRpbmF0ZUJ1ZmZlclB0cj0wLHthdHRyaWJ1dGVzOm5ldyB0aGlzLl9hdHRyaWJ1dGVzQ29uc3RydWN0b3J9fWFsbG9jYXRlQ29vcmRpbmF0ZXMoKXt9YWRkTGVuZ3RoKGUsdCxyKXswPT09dGhpcy5fbGVuZ3Rocy5sZW5ndGgmJih0aGlzLl90b0FkZEluQ3VycmVudFBhdGg9dCksdGhpcy5fbGVuZ3Rocy5wdXNoKHQpfWFkZFF1ZXJ5R2VvbWV0cnkoZSx0KXtjb25zdHtxdWVyeUdlb21ldHJ5Om8scXVlcnlHZW9tZXRyeVR5cGU6aX09dCxuPXIoby5jbG9uZSgpLG8sITEsITEsdGhpcy5fdHJhbnNmb3JtKSxhPXMobixpLCExLCExKTtlLnF1ZXJ5R2VvbWV0cnlUeXBlPWksZS5xdWVyeUdlb21ldHJ5PXsuLi5hfX1jcmVhdGVQb2ludEdlb21ldHJ5KGUpe2NvbnN0IHQ9e3g6MCx5OjAsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9O3JldHVybiBlLmhhc1omJih0Lno9MCksZS5oYXNNJiYodC5tPTApLHR9YWRkQ29vcmRpbmF0ZVBvaW50KGUsdCxyKXtjb25zdCBzPXRoaXMuX3RyYW5zZm9ybTtzd2l0Y2godD10aGlzLl9hcHBseVRyYW5zZm9ybShzLHQsciwwKSxyKXtjYXNlIDA6ZS54PXQ7YnJlYWs7Y2FzZSAxOmUueT10O2JyZWFrO2Nhc2UgMjpcInpcImluIGU/ZS56PXQ6ZS5tPXQ7YnJlYWs7Y2FzZSAzOmUubT10fX1fdHJhbnNmb3JtUGF0aExpa2VWYWx1ZShlLHQpe2xldCByPTA7dDw9MSYmKHI9dGhpcy5fcHJldmlvdXNDb29yZGluYXRlW3RdLHRoaXMuX3ByZXZpb3VzQ29vcmRpbmF0ZVt0XSs9ZSk7Y29uc3Qgcz10aGlzLl90cmFuc2Zvcm07cmV0dXJuIHRoaXMuX2FwcGx5VHJhbnNmb3JtKHMsZSx0LHIpfV9hZGRDb29yZGluYXRlUG9seWxpbmUoZSx0LHIpe3RoaXMuX2RlaHlkcmF0ZWRBZGRQb2ludHNDb29yZGluYXRlKGUucGF0aHMsdCxyKX1fYWRkQ29vcmRpbmF0ZVBvbHlnb24oZSx0LHIpe3RoaXMuX2RlaHlkcmF0ZWRBZGRQb2ludHNDb29yZGluYXRlKGUucmluZ3MsdCxyKX1fYWRkQ29vcmRpbmF0ZU11bHRpcG9pbnQoZSx0LHIpezA9PT1yJiZlLnBvaW50cy5wdXNoKFtdKTtjb25zdCBzPXRoaXMuX3RyYW5zZm9ybVBhdGhMaWtlVmFsdWUodCxyKTtlLnBvaW50c1tlLnBvaW50cy5sZW5ndGgtMV0ucHVzaChzKX1fY3JlYXRlUG9seWdvbkdlb21ldHJ5KGUpe3JldHVybntyaW5nczpbW11dLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlLGhhc1o6ISFlLmhhc1osaGFzTTohIWUuaGFzTX19X2NyZWF0ZVBvbHlsaW5lR2VvbWV0cnkoZSl7cmV0dXJue3BhdGhzOltbXV0sc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UsaGFzWjohIWUuaGFzWixoYXNNOiEhZS5oYXNNfX1fY3JlYXRlTXVsdGlwb2ludEdlb21ldHJ5KGUpe3JldHVybntwb2ludHM6W10sc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UsaGFzWjohIWUuaGFzWixoYXNNOiEhZS5oYXNNfX1fZGVoeWRyYXRlZEFkZFBvaW50c0Nvb3JkaW5hdGUoZSx0LHIpezA9PT1yJiYwPT10aGlzLl90b0FkZEluQ3VycmVudFBhdGgtLSYmKGUucHVzaChbXSksdGhpcy5fdG9BZGRJbkN1cnJlbnRQYXRoPXRoaXMuX2xlbmd0aHNbKyt0aGlzLl9jdXJyZW50TGVuZ3RoSW5kZXhdLTEsdGhpcy5fcHJldmlvdXNDb29yZGluYXRlWzBdPTAsdGhpcy5fcHJldmlvdXNDb29yZGluYXRlWzFdPTApO2NvbnN0IHM9dGhpcy5fdHJhbnNmb3JtUGF0aExpa2VWYWx1ZSh0LHIpLG89ZVtlLmxlbmd0aC0xXTswPT09ciYmKHRoaXMuX2Nvb3JkaW5hdGVCdWZmZXJQdHI9MCx0aGlzLl9jb29yZGluYXRlQnVmZmVyPW5ldyBBcnJheSh0aGlzLl92ZXJ0ZXhEaW1lbnNpb24pLG8ucHVzaCh0aGlzLl9jb29yZGluYXRlQnVmZmVyKSksdGhpcy5fY29vcmRpbmF0ZUJ1ZmZlclt0aGlzLl9jb29yZGluYXRlQnVmZmVyUHRyKytdPXN9X2Rlcml2ZUFwcGx5VHJhbnNmb3JtKGUpe2NvbnN0e2hhc1o6dCxoYXNNOnJ9PWU7cmV0dXJuIHQmJnI/aDp0P246cj9hOml9fWV4cG9ydHtsIGFzIEpTT05GZWF0dXJlU2V0UGFyc2VyQ29udGV4dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyBlLGpvaW4gYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlscy5qc1wiO2ltcG9ydHtzclRvUkVTVFZhbHVlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7bWFwUGFyYW1ldGVycyBhcyBvfWZyb21cIi4uLy4uL29wZXJhdGlvbnMvdXJsVXRpbHMuanNcIjtpbXBvcnR7cGFyc2VQQkZGZWF0dXJlUXVlcnkgYXMgdX1mcm9tXCIuL3BiZlF1ZXJ5VXRpbHMuanNcIjtpbXBvcnR7YXBwbHlGZWF0dXJlU2V0WlVuaXRTY2FsaW5nIGFzIGx9ZnJvbVwiLi9xdWVyeVpTY2FsZS5qc1wiO2NvbnN0IHM9XCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGV4dGVudCBjYWxjdWxhdGlvbi5cIjtmdW5jdGlvbiBtKHQsZSl7aWYoZSYmXCJleHRlbnRcIj09PXQudHlwZSlyZXR1cm5gJHt0LnhtaW59LCR7dC55bWlufSwke3QueG1heH0sJHt0LnltYXh9YDtpZihlJiZcInBvaW50XCI9PT10LnR5cGUpcmV0dXJuYCR7dC54fSwke3QueX1gO2NvbnN0IG49dC50b0pTT04oKTtyZXR1cm4gZGVsZXRlIG4uc3BhdGlhbFJlZmVyZW5jZSxKU09OLnN0cmluZ2lmeShuKX1mdW5jdGlvbiB5KHQsZSl7Y29uc3Qgbj10Lmdlb21ldHJ5LGk9dC50b0pTT04oKTtkZWxldGUgaS5jb21wYWN0R2VvbWV0cnlFbmFibGVkLGRlbGV0ZSBpLmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZDtjb25zdCBvPWk7bGV0IHUsbCxzO2lmKG51bGwhPW4mJihsPW4uc3BhdGlhbFJlZmVyZW5jZSxzPWEobCksby5nZW9tZXRyeVR5cGU9cihuKSxvLmdlb21ldHJ5PW0obix0LmNvbXBhY3RHZW9tZXRyeUVuYWJsZWQpLG8uaW5TUj1zKSxpLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzJiYoby5ncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljcz1pLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzLmpvaW4oXCIsXCIpKSxpLm9iamVjdElkcyYmKG8ub2JqZWN0SWRzPWkub2JqZWN0SWRzLmpvaW4oXCIsXCIpKSxpLm9yZGVyQnlGaWVsZHMmJihvLm9yZGVyQnlGaWVsZHM9aS5vcmRlckJ5RmllbGRzLmpvaW4oXCIsXCIpKSwhaS5vdXRGaWVsZHN8fCFpLnJldHVybkRpc3RpbmN0VmFsdWVzJiYoZT8ucmV0dXJuQ291bnRPbmx5fHxlPy5yZXR1cm5FeHRlbnRPbmx5fHxlPy5yZXR1cm5JZHNPbmx5KT9kZWxldGUgby5vdXRGaWVsZHM6aS5vdXRGaWVsZHMuaW5jbHVkZXMoXCIqXCIpP28ub3V0RmllbGRzPVwiKlwiOm8ub3V0RmllbGRzPWkub3V0RmllbGRzLmpvaW4oXCIsXCIpLGkub3V0U1I/KG8ub3V0U1I9YShpLm91dFNSKSx1PXQub3V0U3BhdGlhbFJlZmVyZW5jZSk6biYmKGkucmV0dXJuR2VvbWV0cnl8fGkucmV0dXJuQ2VudHJvaWQpJiYoby5vdXRTUj1vLmluU1IsdT1sKSxpLnJldHVybkdlb21ldHJ5JiZkZWxldGUgaS5yZXR1cm5HZW9tZXRyeSxpLm91dFN0YXRpc3RpY3MmJihvLm91dFN0YXRpc3RpY3M9SlNPTi5zdHJpbmdpZnkoaS5vdXRTdGF0aXN0aWNzKSksaS5mdWxsVGV4dCYmKG8uZnVsbFRleHQ9SlNPTi5zdHJpbmdpZnkoaS5mdWxsVGV4dCkpLGkucGl4ZWxTaXplJiYoby5waXhlbFNpemU9SlNPTi5zdHJpbmdpZnkoaS5waXhlbFNpemUpKSxpLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJih0LmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZCYmbnVsbCE9bCYmbnVsbCE9dC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPy5leHRlbnQmJmwuZXF1YWxzKHQucXVhbnRpemF0aW9uUGFyYW1ldGVycy5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZSkmJmRlbGV0ZSBpLnF1YW50aXphdGlvblBhcmFtZXRlcnMuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Usby5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPUpTT04uc3RyaW5naWZ5KGkucXVhbnRpemF0aW9uUGFyYW1ldGVycykpLGkucGFyYW1ldGVyVmFsdWVzJiYoby5wYXJhbWV0ZXJWYWx1ZXM9SlNPTi5zdHJpbmdpZnkoaS5wYXJhbWV0ZXJWYWx1ZXMpKSxpLnJhbmdlVmFsdWVzJiYoby5yYW5nZVZhbHVlcz1KU09OLnN0cmluZ2lmeShpLnJhbmdlVmFsdWVzKSksaS5keW5hbWljRGF0YVNvdXJjZSYmKG8ubGF5ZXI9SlNPTi5zdHJpbmdpZnkoe3NvdXJjZTppLmR5bmFtaWNEYXRhU291cmNlfSksZGVsZXRlIGkuZHluYW1pY0RhdGFTb3VyY2UpLGkudGltZUV4dGVudCl7Y29uc3QgdD1pLnRpbWVFeHRlbnQse3N0YXJ0OmUsZW5kOm59PXQ7bnVsbD09ZSYmbnVsbD09bnx8KG8udGltZT1lPT09bj9lOmAke2U/P1wibnVsbFwifSwke24/P1wibnVsbFwifWApLGRlbGV0ZSBpLnRpbWVFeHRlbnR9cmV0dXJuIHQuZGVmYXVsdFNwYXRpYWxSZWZlcmVuY2VFbmFibGVkJiZudWxsIT1sJiZudWxsIT11JiZsLmVxdWFscyh1KSYmKG8uZGVmYXVsdFNSPW8uaW5TUixkZWxldGUgby5pblNSLGRlbGV0ZSBvLm91dFNSKSxvfWFzeW5jIGZ1bmN0aW9uIGModCxlLG4scil7Y29uc3QgaT1udWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5P3tkYXRhOntmZWF0dXJlczpbXX19OmF3YWl0IEUodCxlLFwianNvblwiLHIpO3JldHVybiBsKGUsbixpLmRhdGEpLGl9YXN5bmMgZnVuY3Rpb24gZih0LGUsbixyKXtpZihudWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5KXJldHVybntkYXRhOm4uY3JlYXRlRmVhdHVyZVJlc3VsdCgpfTtjb25zdCBpPWF3YWl0IGQodCxlLHIpLGE9aTtyZXR1cm4gYS5kYXRhPXUoaS5kYXRhLG4pLGF9ZnVuY3Rpb24gZCh0LGUsbil7cmV0dXJuIEUodCxlLFwicGJmXCIsbil9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIG51bGwhPWUudGltZUV4dGVudCYmZS50aW1lRXh0ZW50LmlzRW1wdHk/UHJvbWlzZS5yZXNvbHZlKHtkYXRhOntvYmplY3RJZHM6W119fSk6RSh0LGUsXCJqc29uXCIsbix7cmV0dXJuSWRzT25seTohMH0pfWZ1bmN0aW9uIFModCxlLG4pe3JldHVybiBudWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5P1Byb21pc2UucmVzb2x2ZSh7ZGF0YTp7Y291bnQ6MH19KTpFKHQsZSxcImpzb25cIixuLHtyZXR1cm5JZHNPbmx5OiEwLHJldHVybkNvdW50T25seTohMH0pfWFzeW5jIGZ1bmN0aW9uIHgodCxlLG4pe2lmKG51bGwhPWUudGltZUV4dGVudCYmZS50aW1lRXh0ZW50LmlzRW1wdHkpcmV0dXJue2RhdGE6e2NvdW50OjAsZXh0ZW50Om51bGx9fTtjb25zdCByPWF3YWl0IEUodCxlLFwianNvblwiLG4se3JldHVybkV4dGVudE9ubHk6ITAscmV0dXJuQ291bnRPbmx5OiEwfSksaT1yLmRhdGE7aWYoaS5oYXNPd25Qcm9wZXJ0eShcImV4dGVudFwiKSlyZXR1cm4gcjtpZihpLmZlYXR1cmVzKXRocm93IG5ldyBFcnJvcihzKTtpZihpLmhhc093blByb3BlcnR5KFwiY291bnRcIikpdGhyb3cgbmV3IEVycm9yKHMpO3JldHVybiByfWFzeW5jIGZ1bmN0aW9uIEUocixhLHUsbD17fSxzPXt9KXtjb25zdCBtPVwic3RyaW5nXCI9PXR5cGVvZiByP2Uocik6cixjPWEuZ2VvbWV0cnk/W2EuZ2VvbWV0cnldOltdLGY9YXdhaXQgaShjLG51bGwse3NpZ25hbDpsLnNpZ25hbH0pLGQ9Zj8uWzBdO251bGwhPWQmJigoYT1hLmNsb25lKCkpLmdlb21ldHJ5PWQpO2NvbnN0IHA9byh7Li4ubS5xdWVyeSxmOnUsLi4ucywuLi55KGEscyl9KTtyZXR1cm4gdChuKG0ucGF0aCxnKGEscyk/XCJxdWVyeTNkXCI6XCJxdWVyeVwiKSx7Li4ubCxyZXNwb25zZVR5cGU6XCJwYmZcIj09PXU/XCJhcnJheS1idWZmZXJcIjpcImpzb25cIixxdWVyeTp7Li4ucCwuLi5sLnF1ZXJ5fX0pfWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gbnVsbCE9dC5mb3JtYXRPZjNET2JqZWN0cyYmIShlLnJldHVybkNvdW50T25seXx8ZS5yZXR1cm5FeHRlbnRPbmx5fHxlLnJldHVybklkc09ubHkpfWV4cG9ydHttIGFzIGVuY29kZUdlb21ldHJ5LGMgYXMgZXhlY3V0ZVF1ZXJ5LFMgYXMgZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQseCBhcyBleGVjdXRlUXVlcnlGb3JFeHRlbnQscCBhcyBleGVjdXRlUXVlcnlGb3JJZHMsZiBhcyBleGVjdXRlUXVlcnlQQkYsZCBhcyBleGVjdXRlUXVlcnlQQkZCdWZmZXIseSBhcyBxdWVyeVRvUXVlcnlTdHJpbmdQYXJhbWV0ZXJzLEUgYXMgcnVuUXVlcnl9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9