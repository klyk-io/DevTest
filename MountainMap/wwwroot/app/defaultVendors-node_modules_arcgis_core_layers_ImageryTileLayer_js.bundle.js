"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_ImageryTileLayer_js"],{

/***/ "./node_modules/@arcgis/core/geometry/support/UintArray.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UintArray.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newUintArray: () => (/* binding */ t),
/* harmony export */   uintArrayFrom: () => (/* binding */ e),
/* harmony export */   uintSubArray: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?t?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?Array.from(t):new Uint32Array(t)}function y(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ImageryTileLayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ImageryTileLayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/ImageryTileMixin.js */ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_Field_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/rasterEnums.js */ "./node_modules/@arcgis/core/layers/support/rasterEnums.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/rasterDatasets/RasterFactory.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/* harmony import */ var _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../webdoc/interfaces.js */ "./node_modules/@arcgis/core/webdoc/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let E=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_16__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_22__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_19__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_20__.PortalLayer)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_17__.CustomParametersMixin)((0,_mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_18__.ImageryTileMixin)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_23__.TemporalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_15__.ArcGISService)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_21__.RefreshableLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.MultiOriginJSONMixin)((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__.ClonableMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_14__["default"])))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode="show",this.sourceJSON=null,this.version=null,this.type="imagery-tile",this.operationalLayerType="ArcGISTiledImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null,this._debouncedSaveOperations=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.debounce)((async(e,r,t)=>{const{save:s,saveAs:i}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_save_imageryUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./save/imageryUtils.js */ "./node_modules/@arcgis/core/layers/save/imageryUtils.js"));switch(e){case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE:return s(this,r);case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE_AS:return i(this,t,r)}}))}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError).then((()=>this._openRaster(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.ServicePixelValue",alias:"Pixel Value",domain:null,editable:!1,length:50,type:"string"}),new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.ServicePixelValue.Raw",alias:"Raw Pixel Value",domain:null,editable:!1,length:50,type:"string"})],{rasterInfo:r}=this,t=r?.attributeTable,s=null!=t?t.fields:null,i="Raster.";if(s){const r=s.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));e.push(...r)}const o=r?.dataType,a=r?.multidimensionalInfo;if(("vector-magdir"===o||"vector-uv"===o)&&null!=a){const r=a.variables[0].unit?.trim(),t="Magnitude"+(r?` (${r})`:"");e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.Magnitude",alias:t,domain:null,editable:!1,type:"double"})),e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.Direction",alias:"Direction (°)",domain:null,editable:!1,type:"double"}))}return e}createPopupTemplate(e){const{rasterFields:r}=this,t=new Set(r.map((({name:e})=>e)).filter((e=>"raster.servicepixelvalue.raw"!==e.toLowerCase())));return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_31__.createPopupTemplate)({fields:r,title:this.title},{...e,visibleFieldNames:t})}async generateRasterInfo(e,r){if(!(e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.ensureClass)(_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_27__["default"],e)))return this.rasterInfo;try{const t={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>t[e.url]=e));const s=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__.create)(e.functionDefinition?.toJSON()??e.toJSON(),t),i=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rasterFunction:s});return await i.open(r),i.rasterInfo}catch(t){if(t instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"])throw t;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imagery-tile-layer","the given raster function is not supported")}}async save(e){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE_AS,r,e)}write(e,r){const t=this._primaryRasters[0]??this.raster;if(this.loaded?"RasterTileServer"===t.datasetFormat&&("Raster"===t.tileType||"Map"===t.tileType):this.url&&/\/ImageServer(\/|\/?$)/i.test(this.url))return super.write(e,r);if(r?.messages){const e=`${r.origin}/${r.layerContainerType||"operational-layers"}`;r.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let r=!1;if(this.raster)this.raster.rasterInfo||await this.raster.open(),"Function"===this.raster.datasetFormat?(r=!0,this._primaryRasters=this.raster.primaryRasters.rasters):this._primaryRasters=[this.raster],this.url=this.raster.url;else{const{rasterFunction:r}=this,t=[this.url];r&&(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__.getPrimaryRasterUrls)(r.toJSON(),t);const a=await Promise.all(t.map((r=>_support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_29__["default"].open({url:r,sourceJSON:this.sourceJSON,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:e})))),n=a.findIndex((e=>null==e));if(n>-1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imagery-tile-layer:open",`cannot open raster: ${t[n]}`);if(this._primaryRasters=a,r){const e={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((r=>e[r.url]=r));const t=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__.create)(r.functionDefinition?.toJSON()??r.toJSON(),e),n=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rasterFunction:t});try{await n.open(),this.raster=n}catch(o){const e=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this);o instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]&&e.error("imagery-tile-layer:open",o.message),e.warn("imagery-tile-layer:open","the raster function cannot be applied and is removed"),this._set("rasterFunction",null),this.raster=a[0]}}else this.raster=a[0]}const t=this.raster.rasterInfo;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imagery-tile-layer:load","cannot load resources on "+this.url);if(this._set("rasterInfo",r?t:this._primaryRasters[0].rasterInfo),this._set("spatialReference",t.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e="Map"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:"service"})}else this.read({tileInfo:this.rasterInfo.storageInfo.tileInfo.toJSON()},{origin:"service"});this.title||(this.title=this.raster.datasetName),"Map"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({clonable:!1})],E.prototype,"_primaryRasters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.Integer],json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"0,1,2"!==this.bandIds?.join(",")}}}}})],E.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"bilinear"!==this.interpolation}}}}}),(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_12__.enumeration)(_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_26__.interpolationKebab)],E.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_24__.legendEnabled)],E.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],E.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["show","hide"]})],E.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!0,write:!0}})],E.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],E.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,json:{origins:{service:{read:{source:"currentVersion"}}}}})],E.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,json:{read:!1}})],E.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["ArcGISTiledImageServiceLayer"]})],E.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}},writer(e,r,t){r[t]=!e}}}})],E.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}}}}})],E.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],E.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]]})],E.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]]})],E.prototype,"rasterFields",null),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.ImageryTileLayer")],E);const A=E;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageryTileMixin: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../rasterRenderers.js */ "./node_modules/@arcgis/core/rasterRenderers.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/MultidimensionalSubset.js */ "./node_modules/@arcgis/core/layers/support/MultidimensionalSubset.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/RasterJobHandler.js */ "./node_modules/@arcgis/core/layers/support/RasterJobHandler.js");
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/rasterDatasets/multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/rasterFunctions/clipUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../renderers/support/rasterRendererHelper.js */ "./node_modules/@arcgis/core/renderers/support/rasterRendererHelper.js");
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../renderers/support/RasterSymbolizer.js */ "./node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js");
/* harmony import */ var _rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../rest/support/ImageHistogramParameters.js */ "./node_modules/@arcgis/core/rest/support/ImageHistogramParameters.js");
/* harmony import */ var _views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../views/2d/engine/flow/dataUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const B=_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger("esri.layers.mixins.ImageryTileMixin"),V=o=>{let V=class extends o{constructor(...e){super(...e),this._isConstructedFromFunctionRaster=!1,this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.interpolation="nearest",this.multidimensionalSubset=null,this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster="Function"===e[0]?.raster?.datasetFormat}get fullExtent(){return this.rasterInfo?.extent}set multidimensionalDefinition(e){this._set("multidimensionalDefinition",e),this.updateRenderer()}set rasterFunction(e){"none"===e?.functionName?.toLowerCase()&&(e=void 0),this._set("rasterFunction",e),this.updateRasterFunction()}set url(e){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__.sanitizeUrl)(e,B))}set renderer(e){null==e&&null==this.rasterFunction?this._configDefaultRenderer("override"):(this._set("renderer",e),this.updateRenderer())}readRenderer(e,t,r){const n=t?.layerDefinition?.drawingInfo?.renderer;return (0,_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.read)(n,r)||void 0}async convertVectorFieldData(e,t){if(null==e||!this.rasterInfo)return null;const r=this._rasterJobHandler.instance,i=this.rasterInfo.dataType;return r?r.convertVectorFieldData({pixelBlock:e,dataType:i},t):(0,_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertVectorFieldData)(e,i)}async computeStatisticsHistograms(e,t){e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__.ensureClass)(_rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__["default"],e).clone();const{rasterInfo:r}=this,{geometry:i}=e;if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","geometry must be specified");let n=i;const{spatialReference:o}=r;i.spatialReference.equals(o)||(await (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)(),n="extent"===i.type?(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(i,o):(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPolygon)(i,o));const a=e.pixelSize??new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__["default"]({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:o}),{extent:u,width:c,height:d}=(0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.snapToRaster)(r,n,a),m=await this.fetchPixels(u,c,d,{...t,interpolation:"nearest"});if(null==m.pixelBlock)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","failed to fetch pixels");const h=await (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.clip)(m.pixelBlock,u,n),p=this._rasterJobHandler.instance;return p?p.computeStatisticsHistograms({pixelBlock:h},t):(0,_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__.computeStatisticsHistograms)(h)}async createFlowMesh(e,t){const r=this._rasterJobHandler.instance;return r?r.createFlowMesh(e,t):(0,_views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__.createFlowMesh)(e.meshType,e.simulationSettings,e.flowData,null!=t.signal?t.signal:(new AbortController).signal)}normalizeRasterFetchOptions(e){const{multidimensionalInfo:t}=this.rasterInfo??{};if(null==t)return e;let r=e.multidimensionalDefinition||this.multidimensionalDefinition;r?.length||(r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset}));const i=e.timeExtent||this.timeExtent;if(null!=r&&null!=i&&(null!=i.start||null!=i.end)){r=r.map((e=>e.clone()));const n=t.variables.find((({name:e})=>e===r[0].variableName))?.dimensions?.find((({name:e})=>"StdTime"===e)),s=r.find((({dimensionName:e})=>"StdTime"===e));if(!n||!s)return{...e,multidimensionalDefinition:null};const{start:o,end:a}=i,l=null==o?null:o.getTime(),u=null==a?null:a.getTime(),c=l??u,d=u??l;if(null!=n.values){const e=n.values.filter((e=>{if(Array.isArray(e)){if(c===d)return e[0]<=c&&e[1]>=c;const t=e[0]<=c&&e[1]>c||e[0]<d&&e[1]>=d,r=e[0]>=c&&e[1]<=d||e[0]<c&&e[1]>d;return t||r}return c===d?e===c:e>=c&&e<=d}));if(e.length){const t=e.sort(((e,t)=>{const r=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:e,n=Array.isArray(t)?t[0]:t,s=Array.isArray(t)?t[1]:t;if(c===d)return r-n;return Math.abs(i-d)-Math.abs(s-d)}))[0];s.values=[t]}else r=null}else if(n.hasRegularIntervals&&n.extent){const[e,t]=n.extent;c>t||d<e?r=null:s.values=c===d?[c]:[Math.max(e,c),Math.min(t,d)]}}return null!=r&&(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.hasExcludedVariableOrDimension)(r,this.multidimensionalSubset)?{...e,multidimensionalDefinition:null}:{...e,multidimensionalDefinition:r}}async updateRasterFunction(){if(!this.loaded||"imagery-tile"!==this.type||!this.rasterFunction&&!this._cachedRasterFunctionJson||JSON.stringify(this.rasterFunction)===JSON.stringify(this._cachedRasterFunctionJson))return;if(this._isConstructedFromFunctionRaster&&"Function"===this.raster.datasetFormat){const e=this.raster.rasterFunction.toJSON();return!this.rasterFunction&&e&&this._set("rasterFunction",_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(e)),void(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON())}let e,t=this.raster,r=!1;"Function"===t.datasetFormat?(e=t.primaryRasters.rasters,t=e[0],r=!0):e=[t];const{rasterFunction:i}=this;if(i){const r={raster:t};e.length>1&&e.forEach((e=>r[e.url]=e));const n=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__.create)(i.functionDefinition?.toJSON()??i.toJSON(),r),s=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__["default"]({rasterFunction:n});s.rasterJobHandler=this._rasterJobHandler.instance,await s.open(),this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this.raster=s}else this.raster=t,this._cachedRasterFunctionJson=null,await t.when();if(this._cachedRendererJson=null,!r&&!i)return;const{bandIds:n}=this,{bandCount:s}=this.raster.rasterInfo,o=n?.length?n.some((e=>e>=s)):s>=3;n&&(o||this.renderer&&"raster-stretch"!==this.renderer.type)&&this._set("bandIds",null),this._configDefaultRenderer("auto")}async updateRenderer(){const{loaded:e,symbolizer:t}=this;if(!e||!t||!this.renderer)return;const{rasterInfo:r}=this.raster,i=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=i?.name,s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:n});if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(s))return;const o=this._rasterJobHandler.instance;o&&(t.rasterInfo=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(r,n),t.rendererJSON=s,t.bind(),await o.updateSymbolizer(t),this._cachedRendererJson=s)}async applyRenderer(e,t){const r=e?.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;let i;await this.updateRenderer();const n=this._rasterJobHandler.instance,s=this.bandIds??[];return i=n?await n.symbolize({...e,simpleStretchParams:t,bandIds:s}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:s}),i}getTileUrl(e,t,r){return"RasterTileServer"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:""}getCompatibleTileInfo(e,t,r=!1){if(!this.loaded||null==t)return null;if(r&&e.equals(this.spatialReference))return this.tileInfo;const i=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.getInfo)(e);return _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create({size:256,spatialReference:e,origin:i?{x:i.origin[0],y:i.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,i={}){if(L(this),i.requestAsImageElement){const s=this.getTileUrl(e,t,r);return (0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(s,{responseType:"image",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:i.signal}).then((e=>e.data))}const{rasterInfo:s}=this;if(null!=s.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition){const n=i.tileInfo||s.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(e,t,r,n),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),"raster-shaded-relief"===this.renderer?.type&&(i={...i,buffer:{cols:1,rows:1}}),this.raster.fetchTile(e,t,r,i)}async fetchPixels(e,t,r,i={}){return null!=this.rasterInfo.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition?{extent:e,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),t=Math.round(t),r=Math.round(r),this.raster.fetchPixels(e,t,r,i))}async identify(e,t={}){const{raster:r,rasterInfo:i}=this;if(null!=i.multidimensionalInfo){if(!(i.hasMultidimensionalTranspose&&!!((0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.isMultiSliceOrRangeDefinition)(t.multidimensionalDefinition)||t.transposedVariableName||t.timeExtent))&&null==(t=this.normalizeRasterFetchOptions(t)).multidimensionalDefinition)return{location:e,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");return r.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}hasStandardTime(){const e=this.rasterInfo?.multidimensionalInfo;if(null==e||"standard-time"!==this.rasterInfo?.dataType)return!1;const t=this.multidimensionalDefinition,r=t?.[0]?.variableName;return e.variables.some((e=>e.name===r&&(!t?.[0].dimensionName||e.dimensions.some((e=>"StdTime"===e.name)))))}getStandardTimeValue(e){return new Date(24*(e-25569)*3600*1e3).toString()}getMultidimensionalSubsetVariables(e){const t=e??this.rasterInfo?.multidimensionalInfo;return (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getSubsetVariablesFromMdInfo)(this.multidimensionalSubset,t)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&"Function"===this.raster.datasetFormat&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__["default"];return this._rasterJobHandler.connectionPromise=e.initialize().then((async()=>{L(this),this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,"Function"===this.raster.datasetFormat&&this.raster.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{})),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null,this.raster&&(this.raster.rasterJobHandler=null)}_configDefaultInterpolation(){if(null==this.interpolation){L(this);const{raster:e}=this,t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultInterpolation)(e.rasterInfo,e.tileType,this.sourceJSON?.defaultResamplingMethod);this._set("interpolation",t)}}_configDefaultRenderer(e="no"){L(this);const{rasterInfo:t}=this.raster;!this.bandIds&&t.bandCount>1&&(this.bandIds=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultBandCombination)(t));const r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(t,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),i=r?.name;if(!this.renderer||"override"===e){const e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(t,{bandIds:this.bandIds,variableName:i}),r=t.statistics,n=r&&r.length>0?r[0]:null,s=n?.max??0,o=n?.min??0;"WCSServer"===this.raster.datasetFormat&&"raster-stretch"===e.type&&(s>1e24||o<-1e24)&&(e.dynamicRangeAdjustment=!0,e.statistics=null,"none"===e.stretchType&&(e.stretchType="min-max")),this.renderer=e}const n=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:i}),s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(t,i);this.symbolizer?(this.symbolizer.rendererJSON=n,this.symbolizer.rasterInfo=s):this.symbolizer=new _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rendererJSON:n,rasterInfo:s});const o=this.symbolizer.bind();if(o.success){if("auto"===e){const{colormap:e}=this.raster.rasterInfo,t=this.renderer;if(null!=e&&"raster-colormap"===t.type){const e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(this.raster.rasterInfo);JSON.stringify(e)!==JSON.stringify(t)&&this._configDefaultRenderer("override")}else if("raster-stretch"===t.type){const e=this.bandIds?.length,r=t.statistics?.length;!t.dynamicRangeAdjustment&&r&&e&&r!==e&&this._configDefaultRenderer("override")}}}else B.warn("imagery-tile-mixin",o.error||"The given renderer is not supported by the layer."),"auto"===e&&this._configDefaultRenderer("override")}};function L(e){if(!e.raster||!e.rasterInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile","no raster")}return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_cachedRendererJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_cachedRasterFunctionJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_compatibleFullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_isConstructedFromFunctionRaster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_rasterJobHandler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{origins:{service:{read:{source:"copyrightText"}}}}})],V.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!1}})],V.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:[_support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__["default"]],json:{write:!0}})],V.prototype,"multidimensionalDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__["default"],json:{write:!0}})],V.prototype,"multidimensionalSubset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"],json:{name:"renderingRule",write:!0}})],V.prototype,"rasterFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__["default"],json:{read:!1}})],V.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],V.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__.url)],V.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.rasterRendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(){const e="raster-stretch"===this.renderer?.type&&"none"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||"Raster"===this.raster.tileType||!e}}},origins:{"web-scene":{types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.websceneRasterRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],V.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("renderer")],V.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"symbolizer",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.ImageryTileMixin")],V),V};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/Tilemap.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/Tilemap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tilemap: () => (/* binding */ r),
/* harmony export */   tilemapDefinitionId: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_UintArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/UintArray.js */ "./node_modules/@arcgis/core/geometry/support/UintArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(t){this._validateJSON(t);const{location:i,data:e}=t;this.location=Object.freeze((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(i));const r=this.location.width,n=this.location.height;let s=!0,h=!0;const c=Math.ceil(r*n/32),m=(0,_geometry_support_UintArray_js__WEBPACK_IMPORTED_MODULE_5__.newUintArray)(c);let f=0;for(let a=0;a<e.length;a++){const t=a%32;e[a]?(h=!1,m[f]|=1<<t):s=!1,31===t&&++f}h?(this._availability="unavailable",this.byteSize=40):s?(this._availability="available",this.byteSize=40):(this._availability=m,this.byteSize=40+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__.estimateSize)(m))}getAvailability(t,i){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?"unknown":l[o]&1<<a?"available":"unavailable"}static fromDefinition(a,o){const l=a.service.request||_request_js__WEBPACK_IMPORTED_MODULE_0__["default"],{row:n,col:h,width:c,height:m}=a,f={query:{f:"json"}};return o=o?{...f,...o}:f,l(s(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:n,left:h,width:c,height:m},valid:!0,data:(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.constant)(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==n||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:n,left:h,width:c,height:m}});return r.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new r(t))}_validateJSON(t){if(!t?.location)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:missing-location","Location missing from tilemap response");if(!1===t.valid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function n(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function s(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TilemapCache.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TilemapCache.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TilemapCache: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/* harmony import */ var _Tilemap_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Tilemap.js */ "./node_modules/@arcgis/core/layers/support/Tilemap.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var w;let T=w=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._pendingTilemapRequests={},this.request=_request_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_6__.LRUCache(2*_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__.ByteSizeUnit.MEGABYTES),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.watch)((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial)])}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.onAbort)(a,(()=>t((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.createAbortError)())));const i=(0,_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.tilemapDefinitionId)(l);let s=this._pendingTilemapRequests[i];if(!s){s=_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.Tilemap.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})):this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof _Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.Tilemap){const l=r.getAvailability(t,i);if("unavailable"===l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i});return l}if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(r))throw r;return"unknown"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let c=!1;const h=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)((()=>{c||(c=!0,n.abort())}));if(this.addHandles(h,a),await (0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_10__.waitTicks)(10,n.signal).catch((()=>{})),c||(c=!0,this.removeHandles(a)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAborted)(n))return;const m=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.objectToQuery)({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=(0,_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.tilemapDefinitionId)(r);return this._tilemapCache.get(s)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};T._maxPrefetch=4,T._prefetches=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_7__["default"]({initialSize:w._maxPrefetch}),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"minLOD",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"maxLOD",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"request",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"size",void 0),T=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.support.TilemapCache")],T);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./RawBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js");
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../rasterFormats/pixelRangeUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const J=8,N=256;let V=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.JSONSupport)){constructor(){super(...arguments),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:"closest"}}async init(){const e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e?.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:"closest",tileInfo:_TileInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"].create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||"gcs-shift"===e.type}set rasterJobHandler(e){this._set("rasterJobHandler",e),"Function"===this.datasetFormat&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}set url(e){this._set("url",(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__.sanitizeUrl)(e,_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this)))}async open(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:open-not-implemented","open() is not implemented")}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.ensureClass)(_geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"],e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const c=null!=s&&n&&(null!=o||(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.isMultiSliceOrRangeDefinition)(i));if(c&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:m,extent:f}=r,{datumTransformation:u}=t;let h=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPoint)(e,m,u);if(!f.intersects(h))return{location:h,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(h);if(!r.nativeExtent.intersects(e))return{location:e,value:null};h=e}let p=0;const d=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if("Function"===this.datasetFormat){const e=this.primaryRasters.rasters[0];if(d)return e.identify(h,t);const{pixelSize:i}=r,o=3,n=i.x*o/2,s=i.y*o/2,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:h.x-n,xmax:h.x+n,ymin:h.y-s,ymax:h.y+s,spatialReference:m}),a={interpolation:"nearest"},{pixelBlock:c}=await e.fetchPixels(l,o,o,a),{pixelBlock:f}=await this.fetchPixels(l,o,o,a);if(null==c)return{location:h,value:null};const u=Math.floor(o*o*.5),p=!c.mask||c.mask[u]?c.pixels.map((e=>e[u])):null;let x;return null!=f&&(x=!f.mask||f.mask[u]?f.pixels.map((e=>e[u])):void 0),{location:h,value:p,processedValue:x,pyramidLevel:0}}if(!d)if(t.srcResolution){p=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.snapPyramid)(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(p=await this.computeBestPyramidLevelForLocation(e,t),null==p)return{location:h,value:null};const y=this.identifyPixelLocation(h,p,null,d);if(null===y)return{location:h,value:null};const{row:g,col:I,rowOffset:k,colOffset:T,blockWidth:b}=y,v=l??t.sliceId,P=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getRasterId)(this.url,v),B=`${p}/${g}/${I}`;let M=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getBlock)(P,null,B);null==M&&(M=this.fetchRawTile(p,g,I,t),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.putBlock)(P,null,B,M));const _=await M;if(!_?.pixels?.length)return{location:h,value:null};const W=k*b+T;return this._processIdentifyResult(_,{srcLocation:h,position:W,pyramidLevel:p,useTransposedTile:!!d,requestSomeSlices:c,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.shiftExtent)(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(e.spatialReference),s=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWrapCount)(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),f=m-Math.round((n/2-a)/(c-a)*t);let u=0;const h=[];for(let y=0;y<=s;y++){const r=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:0===y?a:-n/2,xmax:y===s?c-n*y:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),p=0===y?m-f:y===s?t-u:m;u+=p,h.push(p);const d=o.disableWrapAround&&y>0?null:this._fetchPixels(r,p,i,o);l.push(d)}const p=(await Promise.all(l)).map((e=>e?.pixelBlock));let d=null;const x={width:t,height:i};if(this.rasterJobHandler){d=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:p,srcMosaicSize:x,destDimension:null,coefs:null,sampleSpacing:null,interpolation:"nearest",alignmentInfo:null,blockWidths:h},o)).pixelBlock}else d=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.mosaic)(p,x,{blockWidths:h});return{extent:e,srcExtent:(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:d}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,f=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:f,srcExtent:f,pixelBlock:null};const{pixelBlocks:u,mosaicSize:h}=r;if(1===u.length&&null!=u[0]&&u[0].width===i.width&&u[0].height===i.height)return{extent:f,srcExtent:f,pixelBlock:r.pixelBlocks[0]};const p=e>0?l.pyramidBlockWidth:l.blockWidth,d=e>0?l.pyramidBlockHeight:l.blockHeight,x={x:t.x%p,y:t.y%d};let y;if(this.rasterJobHandler){y=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:u,srcMosaicSize:h,destDimension:i,clipOffset:x,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else y=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.mosaic)(u,h,{clipOffset:x,clipSize:i});return{extent:f,srcExtent:f,pixelBlock:y}}fetchRawTile(e,t,o,r){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:read-not-implemented","fetchRawTile() is not implemented")}computeExtent(e){return (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_22__.decode)(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.getSliceIndex)(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=o.lodAt(e);return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const r=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),l=1/.0254*96*s;for(let e=0;e<=n;e++)r.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:n-e,resolution:s,scale:l})),s*=2,l*=2;const a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"]({origin:a,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:r}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const m=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_17__["default"]({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let m=0;m<r.length;m++){const{x:o,y:n}=r[m];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,m=o&&null!=c?c.tileSize[0]:s.blockWidth,f=o&&null!=c?c.tileSize[1]:s.blockHeight,u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPoint)(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/f,y=(u.x-a.x)/p/m,g=Math.min(f-1,Math.floor((x-Math.floor(x))*f)),I=Math.min(m-1,Math.floor((y-Math.floor(y))*m));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:m,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,f=m-l*e.y;return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:a,xmax:c,ymin:f,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}async _fetchPixels(e,t,i,o={}){let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWrapCount)(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:m,ul:f}=n;if(0===c||0===m)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:u}=this,h=u.transform,p="gcs-shift"===h?.type,d=null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(e.spatialReference);!p&&d||(r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWrapCount)(n.srcExtent,p));const x=await this._fetchRawTiles(s,f,{width:c,height:m,wrapCount:r},o);if(!x)return{extent:e,srcExtent:a,pixelBlock:null};const y=u.storageInfo,g=s>0?y.pyramidBlockWidth:y.blockWidth,I=s>0?y.pyramidBlockHeight:y.blockHeight;let{x:R,y:w}=u.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=y;if(null!=e&&e[s-1])({x:R,y:w}=e[s-1]);else{const e=t**s;R*=e,w*=e}}const S=u.spatialReference,k=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:R,y:w,spatialReference:S}),T=g===c&&I===m&&f.x%g==0&&f.y%I==0,b=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),v=!e.spatialReference.equals(S),C=S.isGeographic?1e-9:1e-4,{datumTransformation:j}=o;if(!v&&T&&1===x.pixelBlocks.length&&g===t&&I===i&&this._isSameResolution(l,b,C))return{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:x.pixelBlocks[0]};const H=d&&null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,L=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith("vector");L&&!this.rasterJobHandler&&await (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)();const D=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b.toJSON(),datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:L},o):(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getProjectionOffsetGrid)({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b,datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1,includeGCSGrid:L});let F;const A=!o.requestRawData,G={rows:D.spacing[0],cols:D.spacing[1]},J=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,x.extent.xmin):void 0,{pixelBlocks:N,mosaicSize:V,isPartiallyFilled:U}=x;let $=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:N,srcMosaicSize:V,destDimension:A?{width:t,height:i}:null,coefs:A?D.coefficients:null,sampleSpacing:A?G:null,projectDirections:L,gcsGrid:L?D.gcsGrid:null,isUV:"vector-uv"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:J,blockWidths:null},o);({pixelBlock:F,localNorthDirections:$}=e)}else{const e=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.mosaic)(N,V,{alignmentInfo:J});F=A?(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.approximateTransform)(e,{width:t,height:i},D.coefficients,G,o.interpolation):e,L&&D.gcsGrid&&($=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.getLocalArithmeticNorthRotations)({width:t,height:i},D.gcsGrid),F=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_25__.convertToLocalDirections)(F,this.rasterInfo.dataType,$))}return o.requestRawData||L?{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F,transformGrid:D,localNorthDirections:$,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:f,wrapCount:u}=i;const h=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,f+=2*o.buffer.rows);let p=0,d=0,x=0;if(u&&null!=h){({worldColumnCountFromOrigin:d,originColumnOffset:x,rightPadding:p}=h);d*h.blockWidth-p>=a+m&&(p=0)}const y=Math.floor(a/s),g=Math.floor(c/l),I=Math.floor((a+m+p-1)/s),R=Math.floor((c+f+p-1)/l),w=n[e];if(!w)return null;const{minRow:S,minCol:k,maxCol:T,maxRow:b}=w;if(0===u&&(R<S||I<k||g>b||y>T))return null;const v=new Array;let P=!1;const B=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let z=g;z<=R;z++)for(let t=y;t<=I;t++){let i=t;if(!o.disableWrapAround&&u&&null!=h&&d<=t&&(i=t-d-x),z>=S&&i>=k&&b>=z&&T>=i){const t=this._fetchRawTile(e,z,i,o);B?v.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{P=!0,e(null)}))}))):v.push(t)}else v.push(Promise.resolve(null))}if(0===v.length)return null;const M=await Promise.all(v),_={height:(R-g+1)*l,width:(I-y+1)*s},{spatialReference:W}=this.rasterInfo,C=this.getPyramidPixelSize(e),{x:j,y:H}=C;return{extent:new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:r.x+y*s*j,xmax:r.x+(I+1)*s*j,ymin:r.y-(R+1)*l*H,ymax:r.y-g*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:_,isPartiallyFilled:P}}_isSameResolution(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}_fetchRawTile(e,t,i,o){const r=this.rasterInfo.storageInfo.blockBoundary[e];if(!r)return Promise.resolve(null);const{minRow:n,minCol:l,maxCol:a,maxRow:c}=r;if(t<n||i<l||t>c||i>a)return Promise.resolve(null);const m=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getRasterId)(this.url,o.sliceId),f=`${e}/${t}/${i}`;let u=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getBlock)(m,o.registryId,f);if(null==u){const r=new AbortController;u=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.putBlock)(m,o.registryId,f,u,r),u.catch((()=>(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.deleteBlock)(m,o.registryId,f)))}return o.signal&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.onAbort)(o,(()=>{(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.decreaseRefCount)(m,o.registryId,f)})),u}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&"vector-magdir"===i||"vector-uv"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if("vector-magdir"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_25__.uvComponentToVector)([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlighmentInfo&&(this._rasterTileAlighmentInfo=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getRasterDatasetAlignmentInfo)(this.rasterInfo)),null==this._rasterTileAlighmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlighmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlighmentInfo.hasGCSSShiftTransform,...this._rasterTileAlighmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,m=l/i,f=a<n&&c*m>=16,u=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(f||u||(0===s||0===l)){const s=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectResolution)(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const u=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(f&&o.srcResolution&&u){const e=Math.round(Math.log(Math.max(c,m))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo;return Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1])>=N||e/i>J||t/o>J}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.snapPyramid)(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(e,o,n);if(null==c)return;const m=i.transform;m&&(c=m.inverseTransform(c)),t.srcExtent=c;const{x:f,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-f)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-f)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:m,identifyOptions:f}=t;let h=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.createSlices)(l,f.transposedVariableName);if(m){const e=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.getSliceIds)(h,f.multidimensionalDefinition,f.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),h=e.map((e=>h[e]))}const p=e.noDataValues||this.rasterInfo.noDataValue,d={pixels:a,pixelType:e.pixelType};let x;null!=p&&((0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_21__.convertNoDataToMask)(d,p),x=d.mask);return{location:i,value:null,dataSeries:h.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__["default"]({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"_rasterTileAlighmentInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],V.prototype,"_isGlobalWrappableSource",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],V.prototype,"_hasNoneOrGCSShiftTransform",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"rasterJobHandler",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__.url)],V.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:String,json:{write:!0}})],V.prototype,"datasetName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:String,json:{write:!0}})],V.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"hasUniqueSourceStorageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"sourceJSON",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.layers.support.rasterDatasets.BaseRaster")],V);const U=V;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const g=new Map;g.set("int16","esriFieldTypeSmallInteger"),g.set("int32","esriFieldTypeInteger"),g.set("int64","esriFieldTypeInteger"),g.set("float32","esriFieldTypeSingle"),g.set("float64","esriFieldTypeDouble"),g.set("text","esriFieldTypeString");const y=8;let x=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat="CRF"}async open(e){await this.init();const{data:r}=await this.request(this.url+"/conf.json",{signal:e?.signal});if(!this._validateHeader(r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","Invalid or unsupported conf.json.");this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const{storageInfo:o,rasterInfo:i}=this._parseHeader(r);if("thematic"===i.dataType){const e=await this._fetchAuxiliaryInformation();i.attributeTable=e}this._set("storageInfo",o),this._set("rasterInfo",i),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,o={}){const{transposeInfo:i}=this.rasterInfo.storageInfo,{transposedVariableName:s}=o,a=!(!i||!s),n=a?0:this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(n<0)return null;const l=this._buildCacheFilePath(n,t,r,o.multidimensionalDefinition,s),f=this._getIndexRecordFromBundle(t,r,a),m=await this.request(l,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:"array-buffer",signal:o.signal});if(!m)return null;const c=new Uint8Array(m.data),p=this._getTileEndAndContentType(c,f);if(0===p.recordSize)return null;const d=await this.request(l,{range:{from:p.position,to:p.position+p.recordSize},responseType:"array-buffer",signal:o.signal});if(!d)return null;const[u,h]=this._getTileSize(a);return this.decodePixelBlock(d.data,{width:u,height:h,planes:null,pixelType:null,returnInterleaved:a})}_validateHeader(e){const t=["origin","extent","geodataXform","LODInfos","blockWidth","blockHeight","bandCount","pixelType","pixelSizeX","pixelSizeY","format","packetSize"];return e&&"RasterInfo"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){const t=["u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64"][e.pixelType],{bandCount:r,colormap:o,blockWidth:l,blockHeight:f,firstPyramidLevel:m,maximumPyramidLevel:c}=e,p=e.statistics?.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),g=e.histograms?.[0]?.counts?.length?e.histograms:null,x=e.extent.spatialReference,S=e.geodataXform?.spatialReference,I=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"](x?.wkid||x?.wkt||x?.wkt2?x:S);let w=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:I});const _=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:I}),v=Math.round((w.xmax-w.xmin)/_.x),b=Math.round((w.ymax-w.ymin)/_.y),z=this._parseTransform(e.geodataXform),T=z?w:null;z&&(w=z.forwardTransform(w),_.x=(w.xmax-w.xmin)/v,_.y=(w.ymax-w.ymin)/b);const k=e.properties??{},j=e.format.toLowerCase().replace("cache/",""),C=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"](e.origin.x,e.origin.y,I);let R,F,P,H;if(o?.colors)for(R=[],F=0;F<o.colors.length;F++)P=o.colors[F],H=o.values?o.values[F]:F,R.push([H,255&P,P<<16>>>24,P<<8>>>24,P>>>24]);const D=e.LODInfos,L=[];for(F=0;F<D.levels.length;F++)L.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_8__["default"]({level:D.levels[F],resolution:D.resolutions[F],scale:96/.0254*D.resolutions[F]}));const M=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({dpi:96,lods:L,format:j,origin:C,size:[l,f],spatialReference:I}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},B=[{maxCol:Math.ceil(v/l)-1,maxRow:Math.ceil(b/f)-1,minCol:0,minRow:0}];let $=2;if(c>0)for(F=0;F<c;F++)B.push({maxCol:Math.ceil(v/$/l)-1,maxRow:Math.ceil(b/$/f)-1,minCol:0,minRow:0}),$*=2;const N=e.mdInfo;let q=null;if(N&&k._yxs){const e=k._yxs;q={packetSize:e.PacketSize,tileSize:[e.TileXSize,e.TileYSize]}}return{storageInfo:O,rasterInfo:new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:v,height:b,pixelType:t,bandCount:r,extent:w,nativeExtent:T,transform:z,spatialReference:I,pixelSize:_,keyProperties:k,statistics:p,histograms:g,multidimensionalInfo:N,colormap:R,storageInfo:new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({blockWidth:l,blockHeight:f,pyramidBlockWidth:l,pyramidBlockHeight:f,origin:C,tileInfo:M,transposeInfo:q,firstPyramidLevel:m,maximumPyramidLevel:c,blockBoundary:B})})}}_parseTransform(e){if(!(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.isTransformSupported)(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transform types");const r=(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.readTransform)(e);if("identity"===r.type)return null;if("polynomial"!==r.type||!r.forwardCoefficients?.length||!r.inverseCoefficients?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently");return r}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+"/conf.vat.json",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+"/conf.vat.dbf",{responseType:"array-buffer",signal:e}).then((e=>e.data)).catch((()=>null)),o=await Promise.all([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:"OID"===e.name?"esriFieldTypeOID":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r})}}if(!i&&o[1]){i=_DBFParser_js__WEBPACK_IMPORTED_MODULE_13__["default"].parse(o[1]).recordSet}return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(i)}_buildCacheFilePath(e,t,r,o,i){const s=this._getPackageSize(!!i),a=Math.floor(t/s)*s,n=Math.floor(r/s)*s,l="R"+this._toHexString4(a)+"C"+this._toHexString4(n);let f="L";f+=e>=10?e.toString():"0"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,c=o?.[0];if(null==m||!c)return`${this.url}/_alllayers/${f}/${l}.bundle`;let p="_yxs";if(!i){p=m.variables.find((e=>e.name===c.variableName)).dimensions[0].values.indexOf(c.values[0]).toString(16);const e=4-p.length;for(let t=0;t<e;t++)p="0"+p;p="S"+p}const d=this._getVariableFolderName(i||c.variableName);return`${this.url}/_alllayers/${d}/${p}/${f}/${l}.bundle`}_getPackageSize(e=!1){const{transposeInfo:t}=this.rasterInfo.storageInfo;return e&&null!=t?t.packetSize??0:this.storageInfo.packetSize}_getTileSize(e=!1){const{storageInfo:t}=this.rasterInfo,{transposeInfo:r}=t;return e&&null!=r?r.tileSize:t.tileInfo.size}_getVariableFolderName(e){return""===(e=e.trim())?"_v":e.replaceAll(/[\{|\}\-]/g,"_").replace("\\*","_v")}_getIndexRecordFromBundle(e,t,r=!1){const o=this._getPackageSize(r),i=o*(e%o)+t%o;if(i<0)throw new Error("Invalid level / row / col");return 20+i*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return{position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t="0"+t}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],x.prototype,"storageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],x.prototype,"datasetFormat",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.CloudRaster")],x);const S=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byteStreamUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/byteStreamUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(e){const t=e.fields,r=e.records,n=t.some((e=>"oid"===e.name.toLowerCase()))?"OBJECTID":"OID",i=[{name:n,type:"esriFieldTypeOID",alias:"OID"}].concat(t.map((e=>({name:e.name,type:"esriFieldType"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:"",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:(0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,11)),type:d,typeName:["String","Date","Double","Boolean","String","Integer"][["C","D","F","L","M","N"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if("C"===n.type)t.push((0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,n.length)).trim());else if("N"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if("F"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if("D"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+"/"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+"/"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let n=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(){super(...arguments),this.datasetFormat="Function",this.tileType="Raster",this.rasterFunction=null}async open(t){await this.init();const{rasterFunction:r}=this;this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:a}=this.primaryRasters,i=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(i);const n=s.map((({rasterInfo:t})=>t)),c=r.bind({rasterInfos:n,rasterIds:a});if(!c.success||0===n.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("raster-function:open",`cannot bind the function: ${c.error??""}`);const l="Table"===r.functionName?r:r.functionArguments?.raster;"Table"===l?.functionName&&(r.rasterInfo.attributeTable=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=n[0];this.hasUniqueSourceStorageInfo=1===n.length||n.slice(1).every((t=>this._hasSameStorageInfo(t,p))),this.set("sourceJSON",s[0].sourceJSON),this.set("rasterInfo",r.rasterInfo)}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async fetchPixels(t,e,r,s={}){const{rasters:a,rasterIds:o}=this.primaryRasters;let n=!1;const{interpolation:c}=s,l=this.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;!s.requestRawData&&"bilinear"!==c&&l&&(n=1===a.length&&!s.skipRasterFunction,s={...s,interpolation:"bilinear",requestRawData:n});const p=a.map((a=>a.fetchPixels(t,e,r,s))),u=await Promise.all(p),m=u.map((t=>t.pixelBlock)),h=n||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||m.every((t=>null==t)))return u[0];const d=u.find((t=>null!=t.pixelBlock))?.extent??t,f=this.rasterJobHandler?await this.rasterJobHandler.process({extent:d,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}):this.rasterFunction.process({extent:d,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}),{transformGrid:y}=u[0];if(!n||null==f||null==y)return{...u[0],pixelBlock:f};const x={rows:y.spacing[0],cols:y.spacing[1]};let b;if(this.rasterJobHandler){b=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[f],srcMosaicSize:{width:f.width,height:f.height},destDimension:{width:e,height:r},coefs:y.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else b=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__.approximateTransform)(f,{width:e,height:r},y.coefficients,x,c);return{extent:t,srcExtent:u[0].srcExtent,pixelBlock:b}}_hasSameStorageInfo(t,e){const{storageInfo:r,pixelSize:s,spatialReference:a,extent:i}=t,{storageInfo:o,pixelSize:n,spatialReference:c,extent:l}=e;return s.x===n.x&&s.y===n.y&&a.equals(c)&&i.equals(l)&&r.blockHeight===o.blockHeight&&r.blockWidth===o.blockWidth&&r.maximumPyramidLevel===o.maximumPyramidLevel}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],n.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"tileType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"rasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"primaryRasters",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.rasterDatasets.FunctionRaster")],n);const c=n;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./InMemoryRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__["default"]{async open(t){await this.init();const e=await this._fetchData(t);let{spatialReference:s,statistics:r,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const i=!s;i&&(s=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]({wkid:3857})),a?.length&&null==r&&(r=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__.estimateStatisticsFromHistograms)(a));const{width:l,height:m}=e;let c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"]({xmin:-.5,ymin:.5-m,xmax:l-.5,ymax:.5,spatialReference:s});const h=o?o.forwardTransform(c):c;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,c=h)}const w=new _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]({data:{extent:h,nativeExtent:c,transform:o,pixelBlock:e,statistics:r,histograms:a,keyProperties:{DateType:"Processed"},isPseudoSpatialReference:i}});await w.open(),w.data=null,this._set("rasterInfo",w.rasterInfo),this._inMemoryRaster=w}fetchRawTile(t,e,s,r={}){return this._inMemoryRaster.fetchRawTile(t,e,s,r)}async _fetchData(t){const{data:s}=await this.request(this.url,{responseType:"array-buffer",signal:t?.signal}),r=(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__.getFormat)(s).toUpperCase();if("JPG"!==r&&"PNG"!==r&&"GIF"!==r&&"BMP"!==r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data is not a supported format");this._set("datasetFormat",r);const a=r.toLowerCase(),o="gif"===a||"bmp"===a||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("ios"),i=await this.decodePixelBlock(s,{format:a,useCanvas:o,hasNoZlibMask:!0});if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data cannot be decoded");return i}async _fetchAuxiliaryData(t){const e=t?.signal,a=this.ioConfig.skipExtensions??[],o=a.includes("aux.xml")?null:this.request(this.url+".aux.xml",{responseType:"xml",signal:e}),i=this.datasetFormat,n="JPG"===i?"jgw":"PNG"===i?"pgw":"BMP"===i?"bpw":null,m=n&&a.includes(n)?null:this.request(this.url.slice(0,this.url.lastIndexOf("."))+"."+n,{responseType:"text",signal:e}),p=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.eachAlways)([o,m]);if(e?.aborted)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createAbortError)();const f=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_11__.parsePAMInfo)(p[0].value?.data);if(!f.transform){const t=p[1].value?p[1].value.data.split("\n").slice(0,6).map((t=>Number(t))):null;f.transform=6===t?.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__["default"]({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return f}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],h.prototype,"datasetFormat",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.ImageAuxRaster")],h);const d=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../TilemapCache.js */ "./node_modules/@arcgis/core/layers/support/TilemapCache.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterTransforms/GCSShiftTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js");
/* harmony import */ var _rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../rest/imageService/fetchRasterInfo.js */ "./node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let g=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__["default"]{constructor(){super(...arguments),this._levelOffset=0,this._tilemapCache=null,this._slices=null,this.datasetFormat="RasterTileServer",this.tileType=null}async open(e){await this.init();const r=e?.signal,a=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:"json"},signal:r});a.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const l=a.data;if(this.sourceJSON=l,!l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","cannot initialize tiled image service, missing service info");if(!l.tileInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","use ImageryLayer to open non-tiled image services");this._fixScaleInServiceInfo();const m=["jpg","jpeg","png","png8","png24","png32","mixed"];this.tileType=l.cacheType,null==this.tileType&&(m.includes(l.tileInfo.format.toLowerCase())?this.tileType="Map":"lerc"===l.tileInfo.format.toLowerCase()?this.tileType="Elevation":this.tileType="Raster"),this.datasetName=l.name?.slice(l.name.indexOf("/")+1)??"";const u=await this._fetchRasterInfo({signal:r});if(null==u)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-server-raster:open","cannot initialize image service");(0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__.patchServiceInfo)(u,l);const h="Map"===this.tileType?v(l.tileInfo,l):_TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(l.tileInfo);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(h);const[p,d]=this._computeMinMaxLOD(u,h),{extent:y,pixelSize:x}=u,g=.5/u.width*x.x,S=Math.max(x.x,x.y),{lods:I}=h;("Map"!==this.tileType&&0!==l.maxScale||Math.abs(x.x-x.y)>g||!I.some((e=>Math.abs(e.resolution-S)<g)))&&(x.x=x.y=p.resolution,u.width=Math.ceil((y.xmax-y.xmin)/x.x-.1),u.height=Math.ceil((y.ymax-y.ymin)/x.y-.1));const w=p.level-d.level,[j,M]=h.size,b=[],T=[];I.forEach(((e,t)=>{e.level>=d.level&&e.level<=p.level&&b.push({x:e.resolution,y:e.resolution}),t<I.length-1&&T.push(Math.round(10*e.resolution/I[t+1].resolution)/10)})),b.sort(((e,t)=>e.x-t.x));const _=this.computeBlockBoundary(y,j,M,h.origin,b,w),O=b.length>1?b.slice(1):null;let R;l.transposeInfo&&(R={tileSize:[l.transposeInfo.rows,l.transposeInfo.cols],packetSize:u.keyProperties?._yxs.PacketSize??0});const z=T.length<=1||T.length>=3&&T.slice(0,-1).every((e=>e===T[0]))?T[0]??2:Math.round(10/(d.resolution/p.resolution)**(-1/w))/10;if(u.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({blockWidth:h.size[0],blockHeight:h.size[1],pyramidBlockWidth:h.size[0],pyramidBlockHeight:h.size[1],pyramidResolutions:O,pyramidScalingFactor:z,compression:h.format,origin:h.origin,firstPyramidLevel:1,maximumPyramidLevel:w,tileInfo:h,transposeInfo:R,blockBoundary:_}),this._fixGCSShift(u),this._set("rasterInfo",u),l.capabilities.toLowerCase().includes("tilemap")){const e={tileInfo:u.storageInfo.tileInfo,parsedUrl:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.urlToObject)(this.url),url:this.url,tileServers:[]};this._tilemapCache=new _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__.TilemapCache({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:r,extent:a}=this.rasterInfo,{transposeInfo:l}=r,o=null!=l&&!!s.transposedVariableName;if(this._slices&&!o&&null==s.sliceId)return null;const n=o?0:r.maximumPyramidLevel-e+this._levelOffset,c=`${this.url}/tile/${n}/${t}/${i}`,m=this._slices?o?{variable:s.transposedVariableName}:{sliceId:s.sliceId||0}:null,{data:h}=await this.request(c,{query:m,responseType:"array-buffer",signal:s.signal});if(!h)return null;const f=o?l.tileSize:r.tileInfo.size,p=await this.decodePixelBlock(h,{width:f[0],height:f[1],planes:null,pixelType:null,isPoint:"Elevation"===this.tileType,returnInterleaved:o,noDataValue:this.rasterInfo.noDataValue});if(null==p)return null;const d=r.blockBoundary[e];if("jpg"!==r.compression||i>d.minCol&&i<d.maxCol&&t>d.minRow&&t<d.maxRow)return p;const{origin:y,blockWidth:x,blockHeight:g}=r,{x:v,y:S}=this.getPyramidPixelSize(e),I=Math.round((a.xmin-y.x)/v)%x,w=Math.round((a.xmax-y.x)/v)%x||x,j=Math.round((y.y-a.ymax)/S)%g,M=Math.round((y.y-a.ymin)/S)%g||g,b=i===d.minCol?I:0,T=t===d.minRow?j:0,_=i===d.maxCol?w:x,O=t===d.maxRow?M:g;return (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__.setValidBoundary)(p,{x:b,y:T},{width:_-b,height:O-T}),p}getSliceIndex(e){if(!this._slices||null==e||0===e.length)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.find((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName));if(!i)return!0;return(Array.isArray(e.values[0])?`${e.values[0][0]}-${e.values[0][1]}`:e.values[0])!==(Array.isArray(i.values[0])?`${i.values[0][0]}-${i.values[0][1]}`:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+"/statistics",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.statistics)),s=this.request(this.url+"/histograms",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.histograms)),r=await Promise.all([i,s]);return r[0]&&r[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),r[1]?.[0]?.counts?.length||(r[1]=null),{statistics:r[0]||null,histograms:r[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let a=r-s+this._levelOffset;const l=i.srcLocation;for(;a>=0;){try{if("available"===await this._tilemapCache.fetchAvailability(a,i.row,i.col,t))break}catch{}if(a--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===a||null==i?null:s}async _fetchRasterInfo(e){const t=this.sourceJSON;if("Map"===this.tileType){const e=t.fullExtent||t.extent,i=Math.ceil((e.xmax-e.xmin)/t.pixelSizeX-.1),s=Math.ceil((e.ymax-e.ymin)/t.pixelSizeY-.1),r=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(t.spatialReference||e.spatialReference),a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:r});return new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({width:i,height:s,bandCount:3,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(e),spatialReference:r,pixelSize:a,pixelType:"u8",statistics:null,keyProperties:{DataType:"processed"}})}const{signal:i}=e,s=(0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__.fetchServiceRasterInfo)(this.url,this.sourceJSON,{signal:i,query:this.ioConfig.customFetchParameters}),r=t.hasMultidimensions?this.request(`${this.url}/slices`,{query:{f:"json"},signal:i}).then((e=>e.data?.slices)).catch((()=>null)):null,a=await Promise.all([s,r]);return this._slices=a[1],a[0]}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_fixGCSShift(e){const{extent:t,spatialReference:i}=e;t.xmin>-1&&t.xmax>181&&i?.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__["default"],e.extent=e.transform.forwardTransform(t))}_computeMinMaxLOD(e,t){const{pixelSize:i}=e,s=.5/e.width*i.x,{lods:r}=t,a=t.lodAt(Math.max.apply(null,r.map((e=>e.level)))),l=t.lodAt(Math.min.apply(null,r.map((e=>e.level)))),{tileType:o}=this;if("Map"===o)return this._levelOffset=r[0].level,[a,l];if("Raster"===o){return[r.find((e=>e.resolution===i.x))??a,l]}const{minScale:n,maxScale:c}=this.sourceJSON;let m=a;c>0&&(m=r.find((e=>Math.abs(e.scale-c)<s)),m||(m=r.filter((e=>e.scale>c)).sort(((e,t)=>e.scale>t.scale?1:-1))[0]??a));let u=l;return n>0&&(u=r.find((e=>Math.abs(e.scale-n)<s))??l,this._levelOffset=u.level-l.level),[m,u]}};function v(e,t){if(!e)return null;const{minScale:i,maxScale:s,minLOD:r,maxLOD:a}=t;if(null!=r&&null!=a)return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=r&&e<=a))});if(0!==i&&0!==s){const t=e=>Math.round(1e4*e)/1e4,r=i?t(i):1/0,a=s?t(s):-1/0;return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((e=>{const i=t(e.scale);return i<=r&&i>=a}))})}return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],g.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"tileType",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.ImageServerRaster")],g);const S=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let c=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this.datasetFormat="MEMORY",this.data=null}async open(t){await this.init();const e=this.data,{pixelBlock:s,statistics:r,histograms:i,name:a,keyProperties:n,nativeExtent:m,transform:c}=this.data,{width:h,height:f,pixelType:u}=s,d=e.extent??new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"]({xmin:-.5,ymin:.5,xmax:h-.5,ymax:f-.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]({wkid:3857})}),y=e.isPseudoSpatialReference??!e.extent,x={x:d.width/h,y:d.height/f},g=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:h,height:f,pixelType:u,extent:d,nativeExtent:m,transform:c,pixelSize:x,spatialReference:d.spatialReference,bandCount:s.pixels.length,keyProperties:n||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set("rasterInfo",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=a,this.url="/InMemory/"+a}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,r,i){const o=this.rasterInfo.storageInfo.maximumPyramidLevel,a=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:r,maximumPyramidLevel:o},i):Promise.resolve((0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__.split)(t,r,o)),l=null!=this.rasterInfo.statistics,p=null!=this.rasterInfo.histograms,c=l?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},i):Promise.resolve((0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__.estimateStatisticsHistograms)(t)),h=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)([a,c]);if(!h[0].value&&h[1].value)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("inmemory-raster:open","failed to build in memory raster");this._pixelBlockTiles=h[0].value,l||(this.rasterInfo.statistics=h[1].value?.statistics),p||(this.rasterInfo.histograms=h[1].value?.histograms)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],c.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"data",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.InMemoryRaster")],c);const h=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/utils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const y=new Map;y.set("Int8","s8"),y.set("UInt8","u8"),y.set("Int16","s16"),y.set("UInt16","u16"),y.set("Int32","s32"),y.set("UInt32","u32"),y.set("Float32","f32"),y.set("Float64","f32"),y.set("Double64","f32");const x=new Map;x.set("none",{blobExtension:".til",isOneSegment:!0,decoderFormat:"bip"}),x.set("lerc",{blobExtension:".lrc",isOneSegment:!1,decoderFormat:"lerc"}),x.set("deflate",{blobExtension:".pzp",isOneSegment:!0,decoderFormat:"deflate"}),x.set("jpeg",{blobExtension:".pjg",isOneSegment:!0,decoderFormat:"jpg"});let w=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat="MRF"}async open(t){await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const e=t?t.signal:null,r=await this.request(this.url,{responseType:"xml",signal:e}),{rasterInfo:s,files:o}=this._parseHeader(r.data);if(-1===this.ioConfig.skipExtensions?.indexOf("aux.xml")){const e=await this._fetchAuxiliaryData(t);null!=e&&(s.statistics=e.statistics??s.statistics,s.histograms=e.histograms,e.histograms&&null==s.statistics&&(s.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimateStatisticsFromHistograms)(e.histograms)))}this._set("rasterInfo",s),this._files=o;const i=await this.request(o.index,{responseType:"array-buffer",signal:e});this._storageIndex=this._parseIndex(i.data);const{blockWidth:a,blockHeight:n}=this.rasterInfo.storageInfo,l=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:f,height:c}=this.rasterInfo,p=[],m=this._getBandSegmentCount();let u=0,g=-1;for(;u<this._storageIndex.length;){g++;const t=Math.ceil(f/a/l**g)-1,e=Math.ceil(c/n/l**g)-1;u+=(t+1)*(e+1)*m*4,p.push({maxRow:e,maxCol:t,minCol:0,minRow:0})}this.rasterInfo.storageInfo.blockBoundary=p,g>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=g),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:i,blockHeight:a,blockBoundary:n}=this.rasterInfo.storageInfo,l=n[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:f,pixelType:c}=this.rasterInfo,{ranges:p,actualTileWidth:m,actualTileHeight:h}=this._getTileLocation(t,e,r);if(!p||0===p.length)return null;if(0===p[0].from&&0===p[0].to){const t=new Uint8Array(i*a);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__["default"]({width:i,height:a,pixels:null,mask:t,validPixelCount:0})}const{bandIds:u}=this.ioConfig,g=this._getBandSegmentCount(),d=[];let y=0;for(y=0;y<g;y++)u&&!u.includes(y)||d.push(this.request(this._files.data,{range:{from:p[y].from,to:p[y].to},responseType:"array-buffer",signal:s.signal}));const w=await Promise.all(d),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(y=0;y<g;y++)b.set(new Uint8Array(w[y].data),A),A+=w[y].data.byteLength;const F=x.get(this.rasterInfo.storageInfo.compression).decoderFormat,_=await this.decodePixelBlock(b.buffer,{width:i,height:a,format:F,planes:u?.length||f,pixelType:c});if(null==_)return null;let{noDataValue:R}=this.rasterInfo;if(null!=R&&"lerc"!==F&&!_.mask&&(R=R[0],null!=R)){const t=_.width*_.height,e=new Uint8Array(t);if(Math.abs(R)>1e24)for(y=0;y<t;y++)Math.abs((_.pixels[0][y]-R)/R)>1e-6&&(e[y]=1);else for(y=0;y<t;y++)_.pixels[0][y]!==R&&(e[y]=1);_.mask=e}let S=0,j=0;if(m!==i||h!==a){let t=_.mask;if(t)for(y=0;y<a;y++)if(j=y*i,y<h)for(S=m;S<i;S++)t[j+S]=0;else for(S=0;S<i;S++)t[j+S]=0;else for(t=new Uint8Array(i*a),_.mask=t,y=0;y<h;y++)for(j=y*i,S=0;S<m;S++)t[j+S]=1}return _}_parseIndex(t){if(t.byteLength%16>0)throw new Error("invalid array buffer must be multiples of 16");let e,r,s,o,i,a;if(_rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__.isPlatformLittleEndian){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getBandSegmentCount(){return x.get(this.rasterInfo.storageInfo.compression).isOneSegment?1:this.rasterInfo.bandCount}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i}=this.rasterInfo.storageInfo,{width:a,height:n}=this.rasterInfo,l=this._getBandSegmentCount();let f,c,p,m=0,h=0;for(p=0;p<t;p++)h=i**p,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=f*c;h=i**t,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=e*f+r,m*=4*l;const u=this._storageIndex.subarray(m,m+4*l);let g=0,d=0;const y=[];for(let x=0;x<l;x++)g=u[4*x]*2**32+u[4*x+1],d=g+u[4*x+2]*2**32+u[4*x+3],y.push({from:g,to:d});return{ranges:y,actualTileWidth:r<f-1?s:Math.ceil(a/h)-s*(f-1),actualTileHeight:e<c-1?o:Math.ceil(n/h)-o*(c-1)}}_parseHeader(t){const r=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Raster");if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","not a valid MRF format");const s=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"Size"),o=parseInt(s.getAttribute("x"),10),n=parseInt(s.getAttribute("y"),10),f=parseInt(s.getAttribute("c"),10),m=((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"Compression")||"none").toLowerCase();if(!x.has(m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support compression "+m);const h=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"DataType")||"UInt8",w=y.get(h);if(null==w)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support pixel type "+h);const I=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"PageSize"),b=parseInt(I.getAttribute("x"),10),A=parseInt(I.getAttribute("y"),10),F=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"DataValues");let _,R;F&&(R=F.getAttribute("NoData"),null!=R&&(_=R.trim().split(" ").map((t=>parseFloat(t)))));if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/CachedSource"))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support MRF referencing other data files");const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/GeoTags"),j=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(S,"BoundingBox");let k,M=!1;if(null!=j){const t=parseFloat(j.getAttribute("minx")),e=parseFloat(j.getAttribute("miny")),r=parseFloat(j.getAttribute("maxx")),s=parseFloat(j.getAttribute("maxy")),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(S,"Projection")||"";let i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;if("LOCAL_CS[]"!==o)if(o.toLowerCase().startsWith("epsg:")){const t=Number(o.slice(5));isNaN(t)||0===t||(i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:t}))}else i=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parseSpatialReference)(o)??_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;else M=!0,i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857});k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"](t,e,r,s),k.spatialReference=i}else M=!0,k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:-.5,ymin:.5-n,xmax:o-.5,ymax:.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857})});const T=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Rsets"),C=parseInt(T?.getAttribute("scale")||"2",10),U=k.spatialReference,B=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.xmin,y:k.ymax,spatialReference:U}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:m,pyramidScalingFactor:C}),E=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.width/o,y:k.height/n,spatialReference:U}),L=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:o,height:n,extent:k,isPseudoSpatialReference:M,spatialReference:U,bandCount:f,pixelType:w,pixelSize:E,noDataValue:_,storageInfo:B}),P=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"datafile"),W=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"IndexFile");return{rasterInfo:L,files:{mrf:this.url,index:W||this.url.replace(".mrf",".idx"),data:P||this.url.replace(".mrf",x.get(m).blobExtension)}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:t?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(e)}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_storageIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],w.prototype,"datasetFormat",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterIO.MRFRaster")],w);const I=w;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CloudRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js");
/* harmony import */ var _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ImageAuxRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js");
/* harmony import */ var _ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageServerRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js");
/* harmony import */ var _MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MRFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js");
/* harmony import */ var _TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TIFFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=new Map;c.set("CRF",{desc:"Cloud Raster Format",constructor:_CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__["default"]}),c.set("MRF",{desc:"Meta Raster Format",constructor:_MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__["default"]}),c.set("TIFF",{desc:"GeoTIFF",constructor:_TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__["default"]}),c.set("RasterTileServer",{desc:"Raster Tile Server",constructor:_ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]}),c.set("JPG",{desc:"JPG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("PNG",{desc:"PNG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("GIF",{desc:"GIF Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("BMP",{desc:"BMP Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]});class n{static get supportedFormats(){const t=new Set;return c.forEach(((e,r)=>t.add(r))),t}static async open(e){const{url:r,ioConfig:s,sourceJSON:o}=e;let a=e.datasetFormat;null==a&&r.lastIndexOf(".")&&(a=r.slice(r.lastIndexOf(".")+1).toUpperCase()),"OVR"===a||"TIF"===a?a="TIFF":"JPG"!==a&&"JPEG"!==a&&"JFIF"!==a||(a="JPG"),r.toLowerCase().includes("/imageserver")&&!r.toLowerCase().includes("/wcsserver")&&(a="RasterTileServer");const n={url:r,sourceJSON:o,datasetFormat:a,ioConfig:s??{bandIds:null,sampling:null}};let l,i;if(a&&this.supportedFormats.has(a)){if("CRF"===a&&!s?.enableCRF)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open",`cannot open raster: ${r}`);return l=c.get(a).constructor,i=new l(n),await i.open({signal:e.signal}),i}if(a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open","not a supported format "+a);const u=Array.from(c.keys());let F=0;const m=()=>(a=u[F++],a&&("CRF"!==a||s?.enableCRF)?(l=c.get(a).constructor,i=new l(n),i.open({signal:e.signal}).then((()=>i)).catch((()=>m()))):null);return m()}static register(t,e,r){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:e,constructor:r})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decreaseRefCount: () => (/* binding */ s),
/* harmony export */   deleteBlock: () => (/* binding */ h),
/* harmony export */   deleteRaster: () => (/* binding */ f),
/* harmony export */   getBlock: () => (/* binding */ m),
/* harmony export */   getRasterId: () => (/* binding */ i),
/* harmony export */   putBlock: () => (/* binding */ x),
/* harmony export */   register: () => (/* binding */ u),
/* harmony export */   unregister: () => (/* binding */ a),
/* harmony export */   update: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EphemeralBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=new Map,c=new _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__["default"];function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function u(e,t){const n={extent:null,rasterInfo:t,cache:new Map},o=r.get(e);return o?(o.push(n),o.length-1):(r.set(e,[n]),0)}function a(e,t){const n=r.get(e);n&&(n[t]=null,n.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function s(e,t,n){const o=r.get(e);if(!o)return null==t?c.decreaseRefCount(e,n):0;if(null==t||null==o[t])return c.decreaseRefCount(e,n);const l=o[t]?.cache,i=l?.get(n);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(n);for(let e=0;e<o.length;e++)o[e]?.cache.delete(n);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,t,n){const o=r.get(e);if(!o)return null==t?c.getBlock(e,n):null;if(null==t||null==o[t]){for(let e=0;e<o.length;e++){const t=o[e]?.cache.get(n);if(t)return t.refCount++,t.block}return c.getBlock(e,n)}const l=o[t]?.cache.get(n);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===t||!o[r])continue;const e=o[r]?.cache,l=e?.get(n);if(e&&l)return l.refCount++,e.set(n,l),l.block}return null}function x(e,t,n,o,l=null){const i=r.get(e);if(!i)return void(null==t&&c.putBlock(e,n,o,l));if(null==t||null==i[t])return void c.putBlock(e,n,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[t]?.cache.set(n,u)}function h(e,t,n){const o=r.get(e);o?null!=t&&null!=o[t]?o[t]?.cache.delete(n):c.deleteBlock(e,n):null==t&&c.deleteBlock(e,n)}function d(e,t){const n=r.get(e);return n?n[t]??null:null}function g(e,r,c,i,u,a,f=null){const s=d(e,r);if(!s)return;const m=s.extent,{cache:x,rasterInfo:h}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:y,transform:p}=h,k=new Set;for(let d=0;d<g.length;d++){const e=g[d];if(e.xmax-e.xmin<=i||e.ymax-e.ymin<=i)continue;let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectExtent)(e,y,f);null!=p&&(r=p.inverseTransform(r));const c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__["default"]({x:i,y:i,spatialReference:e.spatialReference});if(null==u&&!(u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectResolution)(c,y,e,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:x}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.snapPyramid)(u,h,a||"closest");if(x)return;const{storageInfo:M}=h,{origin:R}=M,C={x:Math.max(0,Math.floor((r.xmin-R.x)/m.x)),y:Math.max(0,Math.floor((R.y-r.ymax)/m.y))},B=Math.ceil((r.xmax-r.xmin)/m.x-.1),j=Math.ceil((r.ymax-r.ymin)/m.y-.1),v=s>0?M.pyramidBlockWidth:M.blockWidth,b=s>0?M.pyramidBlockHeight:M.blockHeight,w=1,$=Math.max(0,Math.floor(C.x/v)-w),I=Math.max(0,Math.floor(C.y/b)-w),H=Math.floor((C.x+B-1)/v)+w,E=Math.floor((C.y+j-1)/b)+w;for(let t=I;t<=E;t++)for(let e=$;e<=H;e++)k.add(`${s}/${t}/${e}`)}x.forEach(((e,t)=>{if(!k.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/TiffDecoder.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js");
/* harmony import */ var _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFormats/TiffTags.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffTags.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const S=(e,t)=>e.get(t)?.values,F=(e,t)=>e.get(t)?.values?.[0];let P=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat="TIFF"}async open(e){await this.init();const t=e?e.signal:null,{data:s}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:"array-buffer",signal:t});if(!s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","failed to open url "+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1,this.url.lastIndexOf("."));const{littleEndian:a,firstIFDPos:n,isBigTiff:o}=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.parseSignature)(s),f=[];await this._readIFDs(f,s,a,n,0,o?8:4,t);const{imageInfo:l,rasterInfo:u}=this._parseIFDs(f),p=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.getPyramidIFDs)(f),d=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.getMaskIFDs)(f);if(this._headerInfo={littleEndian:a,isBigTiff:o,ifds:f,pyramidIFDs:p,maskIFDs:d,...l},this._set("rasterInfo",u),!l.isSupported)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","this tiff is not supported: "+l.message);if(!l.tileWidth)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","none-tiled tiff is not optimized for access, convert to COG and retry.");u.isPseudoSpatialReference&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn("The spatial reference for this tiff is unsupported. Only EPSG spatial reference codes and Esri WKTs are supported.");const y=f[0].get("PREDICTOR")?.values?.[0],g=f[0].get("SAMPLEFORMAT")?.values?.[0];if(3===g&&2===y)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","unsupported horizontal difference encoding. Predictor=3 is supported for floatting point data");const{skipExtensions:T=[]}=this.ioConfig;if(!T.includes("aux.xml")){const t=await this._fetchAuxiliaryMetaData(e);null!=t&&this._processPAMInfo(t,u)}T.includes("vat.dbf")||1!==u.bandCount||"u8"!==u.pixelType||(u.attributeTable=await this._fetchAuxiliaryTable(e),null!=u.attributeTable&&(u.keyProperties.DataType="thematic")),this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){if(!this._headerInfo?.isSupported||this.isBlockOutside(e,t,r))return null;const s=await this._fetchRawTiffTile(e,t,r,!1,i);if(null!=s&&this._headerInfo.hasMaskBand){const a=await this._fetchRawTiffTile(e,t,r,!0,i);null!=a&&a.pixels[0]instanceof Uint8Array&&(s.mask=a.pixels[0])}return s}_parseIFDs(e){const t=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.getImageInfo)(e),{width:r,height:i,tileWidth:s,tileHeight:a,planes:f,pixelType:l,compression:p,firstPyramidLevel:c,maximumPyramidLevel:h,pyramidBlockWidth:m,pyramidBlockHeight:y,tileBoundary:g,affine:T,metadata:x}=t,I=t.extent.spatialReference?.wkt||t.extent.spatialReference?.wkid;let R=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_13__.parseSpatialReference)(I),P=!!t.isPseudoGeographic;null==R&&(P=!0,R=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"]({wkid:3857}));const v=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"]({...t.extent,spatialReference:R}),D=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"](v?{x:v.xmin,y:v.ymax,spatialReference:R}:{x:0,y:0}),k=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({blockWidth:s,blockHeight:a,pyramidBlockWidth:m,pyramidBlockHeight:y,compression:p,origin:D,firstPyramidLevel:c,maximumPyramidLevel:h,blockBoundary:g}),O=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"]({x:(v.xmax-v.xmin)/r,y:(v.ymax-v.ymin)/i,spatialReference:R}),j=x?{BandProperties:x.bandProperties,DataType:x.dataType}:{};let L=null;const B=F(e[0],"PHOTOMETRICINTERPRETATION"),z=S(e[0],"COLORMAP");if(B<=3&&z?.length>3&&z.length%3==0){L=[];const e=z.length/3;for(let t=0;t<e;t++)L.push([t,z[t]>>>8,z[t+e]>>>8,z[t+2*e]>>>8])}const A=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:r,height:i,bandCount:f,pixelType:l,pixelSize:O,storageInfo:k,spatialReference:R,isPseudoSpatialReference:P,keyProperties:j,extent:v,colormap:L,statistics:x?x.statistics:null});return T?.length&&(A.nativeExtent=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"]({xmin:-.5,ymin:.5-i,xmax:r-.5,ymax:.5,spatialReference:R}),A.transform=new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_17__["default"]({polynomialOrder:1,forwardCoefficients:[T[2]+T[0]/2,T[5]-T[3]/2,T[0],T[3],-T[1],-T[4]]}),A.extent=A.transform.forwardTransform(A.nativeExtent),A.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"]({x:(v.xmax-v.xmin)/r,y:(v.ymax-v.ymin)/i,spatialReference:R}),k.origin.x=-.5,k.origin.y=.5),{imageInfo:t,rasterInfo:A}}_processPAMInfo(e,t){if(t.statistics=e.statistics??t.statistics,t.histograms=e.histograms,e.histograms&&null==t.statistics&&(t.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_16__.estimateStatisticsFromHistograms)(e.histograms)),e.transform&&null==t.transform){t.transform=e.transform,t.nativeExtent=t.extent;const r=t.transform.forwardTransform(t.nativeExtent);t.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"]({x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height,spatialReference:t.spatialReference}),t.extent=r}t.isPseudoSpatialReference&&e.spatialReference&&(t.spatialReference=e.spatialReference,t.extent.spatialReference=t.nativeExtent.spatialReference=t.storageInfo.origin.spatialReference=t.spatialReference)}async _readIFDs(e,t,r,i,s,a=4,n){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:"array-buffer",signal:n})).data,s=i+s,i=0}const o=await this._readIFD(t,r,i,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].tiffTags,a,n);if(e.push(o.ifd),!o.nextIFD)return null;await this._readIFDs(e,t,r,o.nextIFD-s,s,a,n)}async _readIFD(e,r,i,s,a=_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].tiffTags,n=4,o){if(!e)return null;const f=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.parseIFD)(e,r,i,s,a,n);if(f.success){const i=[];if(f.ifd?.forEach((e=>{e.values||i.push(e)})),i.length>0){const a=i.map((e=>e.offlineOffsetSize)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),n=Math.min.apply(null,a.map((e=>e[0])));if(Math.min.apply(null,a.map((e=>e[0]+e[1])))-n<=this._bufferSize){const{data:t}=await this.request(this.url,{range:{from:n,to:n+this._bufferSize},responseType:"array-buffer",signal:o});e=t,s=n,i.forEach((t=>(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.parseFieldValues)(e,r,t,s)))}}if(f.ifd?.has("GEOKEYDIRECTORY")){const t=f.ifd.get("GEOKEYDIRECTORY"),i=t?.values;if(i&&i.length>4){const a=i[0]+"."+i[1]+"."+i[2],n=await this._readIFD(e,r,t.valueOffset+6-s,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].geoKeys,2,o);t.data=n.ifd,t.data&&t.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return f}if(f.requiredBufferSize&&f.requiredBufferSize!==e.byteLength){const t=await this.request(this.url,{range:{from:s,to:s+f.requiredBufferSize+4},responseType:"array-buffer",signal:o});return(e=t.data).byteLength<f.requiredBufferSize?null:this._readIFD(e,r,0,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].tiffTags,4,o)}}async _fetchRawTiffTile(e,t,r,i,s={}){const a=this._getTileLocation(e,t,r,i);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:f,ifd:l}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:"array-buffer",signal:s.signal}))),p=await Promise.all(u),c=p.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),h=1===p.length?p[0].data:new ArrayBuffer(c),m=[0],d=[0];if(p.length>1){const e=new Uint8Array(h);for(let t=0,r=0;t<p.length;t++){const i=p[t].data;e.set(new Uint8Array(i),r),m[t]=r,r+=i.byteLength,d[t]=i.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),T=await this.decodePixelBlock(h,{format:"tiff",customOptions:{headerInfo:this._headerInfo,ifd:l,offsets:m,sizes:d},width:y,height:g,planes:null,pixelType:null});if(null==T)return null;let x,I,w;if(o!==y||f!==g){let e=T.mask;if(e)for(x=0;x<g;x++)if(w=x*y,x<f)for(I=o;I<y;I++)e[w+I]=0;else for(I=0;I<y;I++)e[w+I]=0;else for(e=new Uint8Array(y*g),T.mask=e,x=0;x<f;x++)for(w=x*y,I=0;I<o;I++)e[w+I]=1}return T}_getTileLocation(e,t,r,i=!1){const{firstPyramidLevel:s,blockBoundary:a}=this.rasterInfo.storageInfo,n=0===e?0:e-(s-1),{_headerInfo:o}=this;if(!o)return null;const f=i?o.maskIFDs[n]:0===n?o?.ifds[0]:o?.pyramidIFDs[n-1];if(!f)return null;const l=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.isBSQConfig)(f,o),u=S(f,"TILEOFFSETS");if(void 0===u)return null;const p=S(f,"TILEBYTECOUNTS"),{minRow:c,minCol:h,maxRow:m,maxCol:d}=a[n];if(t>m||r>d||t<c||r<h)return null;const y=F(f,"IMAGEWIDTH"),g=F(f,"IMAGELENGTH"),x=F(f,"TILEWIDTH"),I=F(f,"TILELENGTH"),w=[];if(l){const{bandCount:e}=this.rasterInfo;for(let i=0;i<e;i++){const e=i*(m+1)*(d+1)+t*(d+1)+r;w[i]={from:u[e],to:u[e]+p[e]-1}}}else{const e=t*(d+1)+r;w.push({from:u[e],to:u[e]+p[e]-1})}for(let T=0;T<w.length;T++)if(null==w[T].from||!w[T].to||w[T].to<0)return null;return{ranges:w,ifd:f,actualTileWidth:r===d&&y%x||x,actualTileHeight:t===m&&g%I||I}}async _fetchAuxiliaryMetaData(e){try{const{data:t}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:e?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_13__.parsePAMInfo)(t)}catch{return null}}async _fetchAuxiliaryTable(e){try{const{data:t}=await this.request(this.url+".vat.dbf",{responseType:"array-buffer",signal:e?.signal}),r=_DBFParser_js__WEBPACK_IMPORTED_MODULE_12__["default"].parse(t);return r?.recordSet?_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(r.recordSet):null}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_headerInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_bufferSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],P.prototype,"datasetFormat",void 0),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.TIFFRaster")],P);const v=P;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parsePAMInfo: () => (/* binding */ S),
/* harmony export */   parseSpatialReference: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function c(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElement)(e,"GeodataXform"),n=d((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(t,"SpatialReference/WKID")||(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(t,"SpatialReference/WKT"));if("typens:PolynomialXform"!==t.getAttribute("xsi:type"))return{spatialReference:n,transform:null};const s=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(t,"PolynomialOrder")??1,f=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"CoeffX/Double"),c=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"CoeffY/Double"),m=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"InverseCoeffX/Double"),p=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"InverseCoeffY/Double"),S=u(f,c),C=u(m,p);return{spatialReference:n,transform:S&&C&&S.length&&C.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_4__["default"]({spatialReference:n,polynomialOrder:s,forwardCoefficients:S,inverseCoefficients:C}):null}}function m(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(e,"NoDataValue"),n=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElement)(e,"Histograms/HistItem"),l=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n,"HistMin"),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n,"HistMax"),f=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n,"BucketCount"),u=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(n,"HistCounts")?.split("|").map((e=>Number(e)));let c,m,d,p;(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElements)(e,"Metadata/MDI").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute("key").toUpperCase()){case"STATISTICS_MINIMUM":c=t;break;case"STATISTICS_MAXIMUM":m=t;break;case"STATISTICS_MEAN":d=t;break;case"STATISTICS_STDDEV":p=t}}));const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(e,"Metadata/SourceBandIndex");return{noDataValue:t,histogram:u?.length&&null!=l&&null!=o?{min:l,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function d(e){if(!e)return null;let n=Number(e);if(!isNaN(n)&&0!==n)return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]({wkid:n});if(e=String(e).trim(),(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.isWKT2)(e))return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]({wkt2:e});const r=e.toUpperCase();if(r.startsWith("COMPD_CS")){if(!r.includes("VERTCS")||!r.includes("GEOGCS")&&!r.startsWith("PROJCS"))return null;const t=r.indexOf("VERTCS"),s=r.indexOf("PROJCS"),a=s>-1?s:r.indexOf("GEOGCS");if(-1===a)return null;const i=e.slice(a,e.lastIndexOf("]",t)+1).trim(),l=e.slice(t,e.lastIndexOf("]")).trim();n=p(i);const o=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"](n?{wkid:n}:{wkt:i}),u=p(l);return u&&(o.vcsWkid=u),o}return r.startsWith("GEOGCS")||r.startsWith("PROJCS")?(n=p(e),new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"](0!==n?{wkid:n}:{wkt:e})):null}function p(e){const t=e.replaceAll("]","[").replaceAll('"',"").split("[").map((e=>e.trim())).filter((e=>""!==e)),n=t[t.length-1].split(","),r=n[0]?.toLowerCase();if(("epsg"===r||"esri"===r)&&e.endsWith('"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function S(t){if("pamdataset"!==t?.documentElement.tagName?.toLowerCase())return{};const a={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};t.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e,"SRS")){if(!a.spatialReference){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(e);a.spatialReference=d(t)}}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e,"Metadata"))if("xml:ESRI"===e.getAttribute("domain")){const{spatialReference:t,transform:n}=c(e);a.transform=n,a.spatialReference||(a.spatialReference=t)}else{(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElements)(e,"MDI").forEach((e=>a.metadata[e.getAttribute("key")]=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(e)))}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e,"PAMRasterBand")){const t=m(e);null!=t.sourceBandIndex&&null==a.rasterBands[t.sourceBandIndex]?a.rasterBands[t.sourceBandIndex]=t:a.rasterBands.push(t)}}));const i=a.rasterBands;if(i.length){const t=!!i[0].statistics;a.statistics=t?i.map((e=>e.statistics)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null;const n=!!i[0].histogram;a.histograms=n?i.map((e=>e.histogram)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null}return a}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getElement: () => (/* binding */ e),
/* harmony export */   getElementNumericValue: () => (/* binding */ o),
/* harmony export */   getElementNumericValues: () => (/* binding */ u),
/* harmony export */   getElementValue: () => (/* binding */ t),
/* harmony export */   getElementValues: () => (/* binding */ l),
/* harmony export */   getElements: () => (/* binding */ n),
/* harmony export */   getNodeNameIgnoreNS: () => (/* binding */ c),
/* harmony export */   getSpaceDelimitedNumericValues: () => (/* binding */ r),
/* harmony export */   isSameTagIgnoreNS: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,t){if(!e||!t)return[];let l=t;t.includes("/")?(l=t.slice(0,t.indexOf("/")),t=t.slice(t.indexOf("/")+1)):t="";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS("*",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes("/")?(r=l.slice(0,l.indexOf("/")),l=l.slice(l.indexOf("/")+1)):l="";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),""!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(" ").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(":")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(":")+1)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clip: () => (/* binding */ a),
/* harmony export */   snapToRaster: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,i){if(e.spatialReference.equals(i))return e;const n=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(e.spatialReference),a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(i);if(n===a)return e;const h=n/a;return{x:e.x*h,y:e.y*h}}async function a(t,e,n){if("extent"===n.type)return o(t,e,n);const{width:a,height:x}=t,l=new Uint8Array(a*x),{contains:m,intersects:s}=await Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngine_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js"));return s(e,n)?"polyline"===n.type?r(t,e,n):m(n,e)?t:h(t,e,n):new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:x,mask:l,maskIsAlpha:!1,pixels:[...t.pixels]})}function h(t,e,n){if(!t)return t;const{width:a,height:h}=t,o=e.width/a,r=e.height/h,{xmin:x,ymax:l}=e;let m;if("extent"===n.type){const t=(n.xmin-x)/o,e=(n.xmax-x)/o,i=(l-n.ymax)/r,a=(l-n.ymin)/r;m=[[[t,i],[t,a],[e,a],[e,i],[t,i]]]}else m=n.rings.map((t=>t.map((([t,e])=>[(t-x)/o,(l-e)/r]))));const s=document.createElement("canvas");s.width=a,s.height=h;const p=s.getContext("2d");p.fillStyle="#f00",m.forEach((t=>{p.beginPath(),p.moveTo(t[0][0],t[0][1]);for(let e=0;e<t.length;e++)p.lineTo(t[e][0],t[e][1]);p.closePath(),p.fill()}));const f=p.getImageData(0,0,a,h).data,y=t.mask,c=a*h,M=new Uint8Array(c);for(let i=0;i<c;i++)y&&!y[i]||(M[i]=f[4*i+3]>127?255:0);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:M,maskIsAlpha:!1,pixels:[...t.pixels]})}function o(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h;if(n.width/r<.5||n.height/x<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const{xmin:l,xmax:m,ymin:s,ymax:p}=e,{xmin:f,xmax:y,ymin:c,ymax:M}=n,u=Math.max(l,f),w=Math.min(m,y),d=Math.max(s,c),g=Math.min(p,M),T=.5*r,k=.5*x;if(w-u<T||g-d<k||w<l+T||u>m-T||d>p-k||g<s+k)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const A=Math.max(0,(u-l)/r),R=Math.min(a,Math.max(0,(w-l)/r)),U=Math.max(0,(p-g)/x),j=Math.min(h,Math.max(0,(p-d)/x)),E=Math.round(A),I=Math.round(R)-1,P=Math.round(U),v=Math.round(j)-1;if(E===I&&A%1>.5&&R%1<.5||P===v&&U%1>.5&&j%1<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});if(0===E&&0===P&&I===a&&v===h)return t;const b=t.mask;for(let i=P;i<=v;i++)for(let t=E;t<=I;t++){const e=i*a+t;o[e]=b?b[e]:255}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function r(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h,{xmin:l,ymax:m}=e,{paths:s}=n,p=t.mask;for(let i=0;i<s.length;i++){const t=s[i];for(let e=0;e<t.length-1;e++){const[i,n]=t[e],[s,f]=t[e+1];let y=Math.floor((m-n)/x),c=Math.floor((m-f)/x);if(c<y){const t=y;y=c,c=t}y=Math.max(0,y),c=Math.min(h-1,c);const M=(s-i)/(f-n);for(let t=y;t<=c;t++){const e=t===y?Math.max(n,f):(h+1-t)*x,m=t===c?Math.min(n,f):e-x;let u=f===n?Math.floor((i-l)/r):Math.floor((M*(e-n)+i-l)/r),w=f===n?Math.floor((s-l)/r):Math.floor((M*(m-n)+i-l)/r);if(w<u){const t=u;u=w,w=t}const d=t*a;u=Math.max(0,u),w=Math.min(a-1,w);for(let t=d+u;t<=d+w;t++)o[t]=p?p[t]:255}}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function x(t,i,a,h=!0){const{spatialReference:o}=t,{x:r,y:x}=n(a,o);let l,m,s;const p="extent"===i.type?i:i.extent;let{xmin:f,xmax:y,ymax:c,ymin:M}=p;const{xmin:u,ymax:w}=t.extent;return h?(f=u+(f>u?r*Math.round((f-u)/r):0),c=w-(c<w?x*Math.round((w-c)/x):0),y=u+(y>u?r*Math.round((y-u)/r):0),M=w-(M<w?x*Math.round((w-M)/x):0),l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o}),m=Math.round(l.width/r),s=Math.round(l.height/x)):(m=Math.floor((y-f)/r+.8),s=Math.floor((c-M)/x+.8),f=u+(f>u?r*Math.floor((f-u)/r+.1):0),c=w-(c<w?x*Math.floor((w-c)/x+.1):0),y=f+m*r,M=c-s*x,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o})),{extent:l,width:m,height:s}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19JbWFnZXJ5VGlsZUxheWVyX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDK0UsbUJBQW1CLFVBQVUsdUVBQUMsd0RBQXdELGNBQWMsT0FBTyxnRUFBQyw4QkFBOEIsdUVBQUMsa0NBQWtDLGtCQUFrQix5REFBd0g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0WTtBQUNBO0FBQ0E7QUFDQTtBQUM2MEQsb0JBQW9CLGtFQUFDLENBQUMsNEVBQUMsQ0FBQyw4RUFBQyxDQUFDLG9FQUFDLENBQUMsd0ZBQUMsQ0FBQyw4RUFBQyxDQUFDLHdFQUFDLENBQUMsd0VBQUMsQ0FBQyw4RUFBQyxDQUFDLHFGQUFDLENBQUMsZ0VBQUMsQ0FBQyxrREFBQyxhQUFhLGtCQUFrQixvV0FBb1csK0RBQUMsaUJBQWlCLE1BQU0sZ0JBQWdCLE9BQU8sME9BQWdDLENBQUMsVUFBVSxLQUFLLHFFQUFDLHVCQUF1QixLQUFLLHFFQUFDLDZCQUE2QixHQUFHLHVCQUF1QiwwQkFBMEIsV0FBVyxHQUFHLFFBQVEsOEJBQThCLHFEQUFxRCxpQ0FBaUMsVUFBVSxvRUFBQyx5REFBeUQsMkJBQTJCLGtDQUFrQyxtQkFBbUIsYUFBYSwwREFBQyxFQUFFLG9HQUFvRyxNQUFNLDBEQUFDLEVBQUUsNEdBQTRHLElBQUksYUFBYSw4REFBOEQsTUFBTSwrRUFBK0Usa0JBQWtCLHlCQUF5QixHQUFHLGFBQWEsOENBQThDLG9EQUFvRCwwREFBMEQsRUFBRSxPQUFPLFdBQVcsMERBQUMsRUFBRSxzRUFBc0UsY0FBYywwREFBQyxFQUFFLG9GQUFvRixHQUFHLFNBQVMsdUJBQXVCLE1BQU0sZUFBZSx5QkFBeUIsT0FBTyxzRUFBc0UsT0FBTyw0RUFBQyxFQUFFLDBCQUEwQixFQUFFLHlCQUF5QixFQUFFLDhCQUE4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bUUsRUFBRSxNQUFNLDRCQUE0QixJQUFJLDRCQUE0QixpRkFBaUYsdURBQXVELHNEQUFDLEVBQUUsbUVBQW1FLEVBQUUsMExBQTBMLDJEQUEyRCxzREFBQyxFQUFFLG1FQUFtRSxFQUFFLHVDQUF1QyxlQUFlLFlBQVksS0FBSyxnQkFBZ0IsS0FBSyxLQUFLLGNBQWMsZ0JBQWdCLFdBQVcsc0RBQUMsRUFBRSxtRUFBbUUsRUFBRSxrQkFBa0IsTUFBTSxpQkFBaUIsbURBQW1ELGNBQWMsSUFBSSxRQUFRLFlBQVksWUFBWSxXQUFXLEtBQUssYUFBYSxZQUFZLGFBQWEsS0FBSyw2QkFBNkIsZ0RBQWdELFFBQVEsVUFBVSxRQUFRLGtDQUFrQyxvQkFBb0IsWUFBWSxLQUFLLEtBQUssZ0VBQWdFLG9IQUFvSCxRQUFRLFVBQVUsUUFBUSxZQUFZLGtDQUFrQyxjQUFjLE9BQU8sc0JBQXNCLFdBQVcsc0RBQUMsRUFBRSxtRUFBbUUsRUFBRSx1QkFBdUIsTUFBTSxtQkFBbUIsSUFBSSxRQUFRLFFBQVEsVUFBVSxxQ0FBcUMsSUFBSSw0QkFBNEIsR0FBRyxNQUFNLGNBQWMsVUFBVSx3SkFBd0osMkRBQUMsRUFBRSwrQ0FBK0MsdU1BQXVNLDJEQUFDLEVBQUUsK0NBQStDLElBQUksMkJBQStEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvVWludEFycmF5LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvSW1hZ2VyeVRpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL21peGlucy9JbWFnZXJ5VGlsZU1peGluLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlbWFwLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlbWFwQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Jhc2VSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Nsb3VkUmFzdGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9EQkZQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0VwaGVtZXJhbEJsb2NrQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Z1bmN0aW9uUmFzdGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9JbWFnZUF1eFJhc3Rlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VTZXJ2ZXJSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0luTWVtb3J5UmFzdGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9NUkZSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1Jhc3RlckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1Jhd0Jsb2NrQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1RJRkZSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL3BhbVBhcnNlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMveG1sVXRpbGl0aWVzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvY2xpcFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bmF0aXZlQXJyYXlNYXhTaXplIGFzIHIsaXNBcnJheSBhcyBufWZyb21cIi4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtmdW5jdGlvbiB0KG4sdD0hMSl7cmV0dXJuIG48PXI/dD9uZXcgQXJyYXkobikuZmlsbCgwKTpuZXcgQXJyYXkobik6bmV3IFVpbnQzMkFycmF5KG4pfWZ1bmN0aW9uIGUodCl7cmV0dXJuKG4odCk/dC5sZW5ndGg6dC5ieXRlTGVuZ3RoLzgpPD1yP0FycmF5LmZyb20odCk6bmV3IFVpbnQzMkFycmF5KHQpfWZ1bmN0aW9uIHkocixuLHQpe3JldHVybiBBcnJheS5pc0FycmF5KHIpP3Iuc2xpY2UobixuK3QpOnIuc3ViYXJyYXkobixuK3QpfWV4cG9ydHt0IGFzIG5ld1VpbnRBcnJheSxlIGFzIHVpbnRBcnJheUZyb20seSBhcyB1aW50U3ViQXJyYXl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uL1BvcHVwVGVtcGxhdGUuanNcIjtpbXBvcnR7Q2xvbmFibGVNaXhpbiBhcyB0fWZyb21cIi4uL2NvcmUvQ2xvbmFibGUuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgb31mcm9tXCIuLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgYSx0aHJvd0lmQWJvcnRFcnJvciBhcyBufWZyb21cIi4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGx9ZnJvbVwiLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtlbnN1cmVDbGFzcyBhcyBtLEludGVnZXIgYXMgdX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2VudW1lcmF0aW9uIGFzIGN9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9lbnVtZXJhdGlvbi5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBkfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgaCBmcm9tXCIuL0xheWVyLmpzXCI7aW1wb3J0e0FyY0dJU1NlcnZpY2UgYXMgeX1mcm9tXCIuL21peGlucy9BcmNHSVNTZXJ2aWNlLmpzXCI7aW1wb3J0e0JsZW5kTGF5ZXIgYXMgZn1mcm9tXCIuL21peGlucy9CbGVuZExheWVyLmpzXCI7aW1wb3J0e0N1c3RvbVBhcmFtZXRlcnNNaXhpbiBhcyBnfWZyb21cIi4vbWl4aW5zL0N1c3RvbVBhcmFtZXRlcnNNaXhpbi5qc1wiO2ltcG9ydHtJbWFnZXJ5VGlsZU1peGluIGFzIHZ9ZnJvbVwiLi9taXhpbnMvSW1hZ2VyeVRpbGVNaXhpbi5qc1wiO2ltcG9ydHtPcGVyYXRpb25hbExheWVyIGFzIFN9ZnJvbVwiLi9taXhpbnMvT3BlcmF0aW9uYWxMYXllci5qc1wiO2ltcG9ydHtQb3J0YWxMYXllciBhcyBqfWZyb21cIi4vbWl4aW5zL1BvcnRhbExheWVyLmpzXCI7aW1wb3J0e1JlZnJlc2hhYmxlTGF5ZXIgYXMgUn1mcm9tXCIuL21peGlucy9SZWZyZXNoYWJsZUxheWVyLmpzXCI7aW1wb3J0e1NjYWxlUmFuZ2VMYXllciBhcyBifWZyb21cIi4vbWl4aW5zL1NjYWxlUmFuZ2VMYXllci5qc1wiO2ltcG9ydHtUZW1wb3JhbExheWVyIGFzIHd9ZnJvbVwiLi9taXhpbnMvVGVtcG9yYWxMYXllci5qc1wiO2ltcG9ydHtsZWdlbmRFbmFibGVkIGFzIE99ZnJvbVwiLi9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnQgSSBmcm9tXCIuL3N1cHBvcnQvRmllbGQuanNcIjtpbXBvcnR7aW50ZXJwb2xhdGlvbktlYmFiIGFzIFB9ZnJvbVwiLi9zdXBwb3J0L3Jhc3RlckVudW1zLmpzXCI7aW1wb3J0IFQgZnJvbVwiLi9zdXBwb3J0L1Jhc3RlckZ1bmN0aW9uLmpzXCI7aW1wb3J0IF8gZnJvbVwiLi9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Z1bmN0aW9uUmFzdGVyLmpzXCI7aW1wb3J0IHggZnJvbVwiLi9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1Jhc3RlckZhY3RvcnkuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIE4sZ2V0UHJpbWFyeVJhc3RlclVybHMgYXMgRn1mcm9tXCIuL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3Jhc3RlckZ1bmN0aW9uSGVscGVyLmpzXCI7aW1wb3J0e2NyZWF0ZVBvcHVwVGVtcGxhdGUgYXMgSn1mcm9tXCIuLi9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtpbXBvcnR7U2F2ZU9wZXJhdGlvblR5cGUgYXMgTH1mcm9tXCIuLi93ZWJkb2MvaW50ZXJmYWNlcy5qc1wiO2xldCBFPWNsYXNzIGV4dGVuZHMoZihiKFMoaihnKHYodyh5KFIobyh0KGgpKSkpKSkpKSkpKSl7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy5fcHJpbWFyeVJhc3RlcnM9W10sdGhpcy5iYW5kSWRzPW51bGwsdGhpcy5pbnRlcnBvbGF0aW9uPW51bGwsdGhpcy5sZWdlbmRFbmFibGVkPSEwLHRoaXMuaXNSZWZlcmVuY2U9bnVsbCx0aGlzLmxpc3RNb2RlPVwic2hvd1wiLHRoaXMuc291cmNlSlNPTj1udWxsLHRoaXMudmVyc2lvbj1udWxsLHRoaXMudHlwZT1cImltYWdlcnktdGlsZVwiLHRoaXMub3BlcmF0aW9uYWxMYXllclR5cGU9XCJBcmNHSVNUaWxlZEltYWdlU2VydmljZUxheWVyXCIsdGhpcy5wb3B1cEVuYWJsZWQ9ITAsdGhpcy5wb3B1cFRlbXBsYXRlPW51bGwsdGhpcy5maWVsZHM9bnVsbCx0aGlzLl9kZWJvdW5jZWRTYXZlT3BlcmF0aW9ucz1hKChhc3luYyhlLHIsdCk9Pntjb25zdHtzYXZlOnMsc2F2ZUFzOml9PWF3YWl0IGltcG9ydChcIi4vc2F2ZS9pbWFnZXJ5VXRpbHMuanNcIik7c3dpdGNoKGUpe2Nhc2UgTC5TQVZFOnJldHVybiBzKHRoaXMscik7Y2FzZSBMLlNBVkVfQVM6cmV0dXJuIGkodGhpcyx0LHIpfX0pKX1ub3JtYWxpemVDdG9yQXJncyhlLHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi5yfTplfWxvYWQoZSl7Y29uc3Qgcj1udWxsIT1lP2Uuc2lnbmFsOm51bGw7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLmxvYWRGcm9tUG9ydGFsKHtzdXBwb3J0ZWRUeXBlczpbXCJJbWFnZSBTZXJ2aWNlXCJdfSxlKS5jYXRjaChuKS50aGVuKCgoKT0+dGhpcy5fb3BlblJhc3RlcihyKSkpKSxQcm9taXNlLnJlc29sdmUodGhpcyl9Z2V0IGRlZmF1bHRQb3B1cFRlbXBsYXRlKCl7cmV0dXJuIHRoaXMuY3JlYXRlUG9wdXBUZW1wbGF0ZSgpfWdldCByYXN0ZXJGaWVsZHMoKXtjb25zdCBlPVtuZXcgSSh7bmFtZTpcIlJhc3Rlci5TZXJ2aWNlUGl4ZWxWYWx1ZVwiLGFsaWFzOlwiUGl4ZWwgVmFsdWVcIixkb21haW46bnVsbCxlZGl0YWJsZTohMSxsZW5ndGg6NTAsdHlwZTpcInN0cmluZ1wifSksbmV3IEkoe25hbWU6XCJSYXN0ZXIuU2VydmljZVBpeGVsVmFsdWUuUmF3XCIsYWxpYXM6XCJSYXcgUGl4ZWwgVmFsdWVcIixkb21haW46bnVsbCxlZGl0YWJsZTohMSxsZW5ndGg6NTAsdHlwZTpcInN0cmluZ1wifSldLHtyYXN0ZXJJbmZvOnJ9PXRoaXMsdD1yPy5hdHRyaWJ1dGVUYWJsZSxzPW51bGwhPXQ/dC5maWVsZHM6bnVsbCxpPVwiUmFzdGVyLlwiO2lmKHMpe2NvbnN0IHI9cy5maWx0ZXIoKGU9Plwib2lkXCIhPT1lLnR5cGUmJlwidmFsdWVcIiE9PWUubmFtZS50b0xvd2VyQ2FzZSgpKSkubWFwKChlPT57Y29uc3Qgcj1lLmNsb25lKCk7cmV0dXJuIHIubmFtZT1pK2UubmFtZSxyfSkpO2UucHVzaCguLi5yKX1jb25zdCBvPXI/LmRhdGFUeXBlLGE9cj8ubXVsdGlkaW1lbnNpb25hbEluZm87aWYoKFwidmVjdG9yLW1hZ2RpclwiPT09b3x8XCJ2ZWN0b3ItdXZcIj09PW8pJiZudWxsIT1hKXtjb25zdCByPWEudmFyaWFibGVzWzBdLnVuaXQ/LnRyaW0oKSx0PVwiTWFnbml0dWRlXCIrKHI/YCAoJHtyfSlgOlwiXCIpO2UucHVzaChuZXcgSSh7bmFtZTpcIlJhc3Rlci5NYWduaXR1ZGVcIixhbGlhczp0LGRvbWFpbjpudWxsLGVkaXRhYmxlOiExLHR5cGU6XCJkb3VibGVcIn0pKSxlLnB1c2gobmV3IEkoe25hbWU6XCJSYXN0ZXIuRGlyZWN0aW9uXCIsYWxpYXM6XCJEaXJlY3Rpb24gKMKwKVwiLGRvbWFpbjpudWxsLGVkaXRhYmxlOiExLHR5cGU6XCJkb3VibGVcIn0pKX1yZXR1cm4gZX1jcmVhdGVQb3B1cFRlbXBsYXRlKGUpe2NvbnN0e3Jhc3RlckZpZWxkczpyfT10aGlzLHQ9bmV3IFNldChyLm1hcCgoKHtuYW1lOmV9KT0+ZSkpLmZpbHRlcigoZT0+XCJyYXN0ZXIuc2VydmljZXBpeGVsdmFsdWUucmF3XCIhPT1lLnRvTG93ZXJDYXNlKCkpKSk7cmV0dXJuIEooe2ZpZWxkczpyLHRpdGxlOnRoaXMudGl0bGV9LHsuLi5lLHZpc2libGVGaWVsZE5hbWVzOnR9KX1hc3luYyBnZW5lcmF0ZVJhc3RlckluZm8oZSxyKXtpZighKGU9bShULGUpKSlyZXR1cm4gdGhpcy5yYXN0ZXJJbmZvO3RyeXtjb25zdCB0PXtyYXN0ZXI6dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF19O3RoaXMuX3ByaW1hcnlSYXN0ZXJzLmxlbmd0aD4xJiZ0aGlzLl9wcmltYXJ5UmFzdGVycy5mb3JFYWNoKChlPT50W2UudXJsXT1lKSk7Y29uc3Qgcz1OKGUuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKT8/ZS50b0pTT04oKSx0KSxpPW5ldyBfKHtyYXN0ZXJGdW5jdGlvbjpzfSk7cmV0dXJuIGF3YWl0IGkub3BlbihyKSxpLnJhc3RlckluZm99Y2F0Y2godCl7aWYodCBpbnN0YW5jZW9mIHMpdGhyb3cgdDt0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZS1sYXllclwiLFwidGhlIGdpdmVuIHJhc3RlciBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCIpfX1hc3luYyBzYXZlKGUpe3JldHVybiB0aGlzLl9kZWJvdW5jZWRTYXZlT3BlcmF0aW9ucyhMLlNBVkUsZSl9YXN5bmMgc2F2ZUFzKGUscil7cmV0dXJuIHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zKEwuU0FWRV9BUyxyLGUpfXdyaXRlKGUscil7Y29uc3QgdD10aGlzLl9wcmltYXJ5UmFzdGVyc1swXT8/dGhpcy5yYXN0ZXI7aWYodGhpcy5sb2FkZWQ/XCJSYXN0ZXJUaWxlU2VydmVyXCI9PT10LmRhdGFzZXRGb3JtYXQmJihcIlJhc3RlclwiPT09dC50aWxlVHlwZXx8XCJNYXBcIj09PXQudGlsZVR5cGUpOnRoaXMudXJsJiYvXFwvSW1hZ2VTZXJ2ZXIoXFwvfFxcLz8kKS9pLnRlc3QodGhpcy51cmwpKXJldHVybiBzdXBlci53cml0ZShlLHIpO2lmKHI/Lm1lc3NhZ2VzKXtjb25zdCBlPWAke3Iub3JpZ2lufS8ke3IubGF5ZXJDb250YWluZXJUeXBlfHxcIm9wZXJhdGlvbmFsLWxheWVyc1wifWA7ci5tZXNzYWdlcy5wdXNoKG5ldyBzKFwibGF5ZXI6dW5zdXBwb3J0ZWRcIixgTGF5ZXJzICgke3RoaXMudGl0bGV9LCAke3RoaXMuaWR9KSBvZiB0eXBlICcke3RoaXMuZGVjbGFyZWRDbGFzc30nIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoZSBjb250ZXh0IG9mICcke2V9J2Ase2xheWVyOnRoaXN9KSl9cmV0dXJuIG51bGx9YXN5bmMgX29wZW5SYXN0ZXIoZSl7bGV0IHI9ITE7aWYodGhpcy5yYXN0ZXIpdGhpcy5yYXN0ZXIucmFzdGVySW5mb3x8YXdhaXQgdGhpcy5yYXN0ZXIub3BlbigpLFwiRnVuY3Rpb25cIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQ/KHI9ITAsdGhpcy5fcHJpbWFyeVJhc3RlcnM9dGhpcy5yYXN0ZXIucHJpbWFyeVJhc3RlcnMucmFzdGVycyk6dGhpcy5fcHJpbWFyeVJhc3RlcnM9W3RoaXMucmFzdGVyXSx0aGlzLnVybD10aGlzLnJhc3Rlci51cmw7ZWxzZXtjb25zdHtyYXN0ZXJGdW5jdGlvbjpyfT10aGlzLHQ9W3RoaXMudXJsXTtyJiZGKHIudG9KU09OKCksdCk7Y29uc3QgYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgocj0+eC5vcGVuKHt1cmw6cixzb3VyY2VKU09OOnRoaXMuc291cmNlSlNPTixpb0NvbmZpZzp7c2FtcGxpbmc6XCJjbG9zZXN0XCIsLi4udGhpcy5pb0NvbmZpZyxjdXN0b21GZXRjaFBhcmFtZXRlcnM6dGhpcy5jdXN0b21QYXJhbWV0ZXJzfSxzaWduYWw6ZX0pKSkpLG49YS5maW5kSW5kZXgoKGU9Pm51bGw9PWUpKTtpZihuPi0xKXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlLWxheWVyOm9wZW5cIixgY2Fubm90IG9wZW4gcmFzdGVyOiAke3Rbbl19YCk7aWYodGhpcy5fcHJpbWFyeVJhc3RlcnM9YSxyKXtjb25zdCBlPXtyYXN0ZXI6dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF19O3RoaXMuX3ByaW1hcnlSYXN0ZXJzLmxlbmd0aD4xJiZ0aGlzLl9wcmltYXJ5UmFzdGVycy5mb3JFYWNoKChyPT5lW3IudXJsXT1yKSk7Y29uc3QgdD1OKHIuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKT8/ci50b0pTT04oKSxlKSxuPW5ldyBfKHtyYXN0ZXJGdW5jdGlvbjp0fSk7dHJ5e2F3YWl0IG4ub3BlbigpLHRoaXMucmFzdGVyPW59Y2F0Y2gobyl7Y29uc3QgZT1pLmdldExvZ2dlcih0aGlzKTtvIGluc3RhbmNlb2YgcyYmZS5lcnJvcihcImltYWdlcnktdGlsZS1sYXllcjpvcGVuXCIsby5tZXNzYWdlKSxlLndhcm4oXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6b3BlblwiLFwidGhlIHJhc3RlciBmdW5jdGlvbiBjYW5ub3QgYmUgYXBwbGllZCBhbmQgaXMgcmVtb3ZlZFwiKSx0aGlzLl9zZXQoXCJyYXN0ZXJGdW5jdGlvblwiLG51bGwpLHRoaXMucmFzdGVyPWFbMF19fWVsc2UgdGhpcy5yYXN0ZXI9YVswXX1jb25zdCB0PXRoaXMucmFzdGVyLnJhc3RlckluZm87aWYoIXQpdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6bG9hZFwiLFwiY2Fubm90IGxvYWQgcmVzb3VyY2VzIG9uIFwiK3RoaXMudXJsKTtpZih0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIscj90OnRoaXMuX3ByaW1hcnlSYXN0ZXJzWzBdLnJhc3RlckluZm8pLHRoaXMuX3NldChcInNwYXRpYWxSZWZlcmVuY2VcIix0LnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuc291cmNlSlNPTj10aGlzLnNvdXJjZUpTT058fHRoaXMucmFzdGVyLnNvdXJjZUpTT04sbnVsbCE9dGhpcy5zb3VyY2VKU09OKXtjb25zdCBlPVwiTWFwXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZSYmbnVsbCE9dGhpcy5zb3VyY2VKU09OLm1pbkxPRCYmbnVsbCE9dGhpcy5zb3VyY2VKU09OLm1heExPRD90aGlzLnNvdXJjZUpTT046ey4uLnRoaXMuc291cmNlSlNPTixtaW5TY2FsZTowLG1heFNjYWxlOjB9O3RoaXMucmVhZChlLHtvcmlnaW46XCJzZXJ2aWNlXCJ9KX1lbHNlIHRoaXMucmVhZCh7dGlsZUluZm86dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnRpbGVJbmZvLnRvSlNPTigpfSx7b3JpZ2luOlwic2VydmljZVwifSk7dGhpcy50aXRsZXx8KHRoaXMudGl0bGU9dGhpcy5yYXN0ZXIuZGF0YXNldE5hbWUpLFwiTWFwXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZSYmKHRoaXMucG9wdXBFbmFibGVkPSExKSx0aGlzLl9jb25maWdEZWZhdWx0U2V0dGluZ3MoKSx0aGlzLmFkZEhhbmRsZXMobCgoKCk9PnRoaXMuY3VzdG9tUGFyYW1ldGVycyksKGU9Pnt0aGlzLnJhc3RlciYmKHRoaXMucmFzdGVyLmlvQ29uZmlnLmN1c3RvbUZldGNoUGFyYW1ldGVycz1lKX0pKSl9fTtlKFtwKHtjbG9uYWJsZTohMX0pXSxFLnByb3RvdHlwZSxcIl9wcmltYXJ5UmFzdGVyc1wiLHZvaWQgMCksZShbcCh7dHlwZTpbdV0sanNvbjp7d3JpdGU6e292ZXJyaWRlUG9saWN5KCl7cmV0dXJue2VuYWJsZWQ6IXRoaXMubG9hZGVkfHxcIlJhc3RlclwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGV8fFwiMCwxLDJcIiE9PXRoaXMuYmFuZElkcz8uam9pbihcIixcIil9fX19fSldLEUucHJvdG90eXBlLFwiYmFuZElkc1wiLHZvaWQgMCksZShbcCh7anNvbjp7d3JpdGU6e292ZXJyaWRlUG9saWN5KCl7cmV0dXJue2VuYWJsZWQ6IXRoaXMubG9hZGVkfHxcIlJhc3RlclwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGV8fFwiYmlsaW5lYXJcIiE9PXRoaXMuaW50ZXJwb2xhdGlvbn19fX19KSxjKFApXSxFLnByb3RvdHlwZSxcImludGVycG9sYXRpb25cIix2b2lkIDApLGUoW3AoTyldLEUucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbcCh7dHlwZTpCb29sZWFuLGpzb246e3JlYWQ6ITEsd3JpdGU6e2VuYWJsZWQ6ITAsb3ZlcnJpZGVQb2xpY3k6KCk9Pih7ZW5hYmxlZDohMX0pfX19KV0sRS5wcm90b3R5cGUsXCJpc1JlZmVyZW5jZVwiLHZvaWQgMCksZShbcCh7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCJdfSldLEUucHJvdG90eXBlLFwibGlzdE1vZGVcIix2b2lkIDApLGUoW3Aoe2pzb246e3JlYWQ6ITAsd3JpdGU6ITB9fSldLEUucHJvdG90eXBlLFwiYmxlbmRNb2RlXCIsdm9pZCAwKSxlKFtwKCldLEUucHJvdG90eXBlLFwic291cmNlSlNPTlwiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITAsanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7c291cmNlOlwiY3VycmVudFZlcnNpb25cIn19fX19KV0sRS5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsdm9pZCAwKSxlKFtwKHtyZWFkT25seTohMCxqc29uOntyZWFkOiExfX0pXSxFLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3Aoe3R5cGU6W1wiQXJjR0lTVGlsZWRJbWFnZVNlcnZpY2VMYXllclwiXX0pXSxFLnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsTGF5ZXJUeXBlXCIsdm9pZCAwKSxlKFtwKHt0eXBlOkJvb2xlYW4sdmFsdWU6ITAsanNvbjp7cmVhZDp7c291cmNlOlwiZGlzYWJsZVBvcHVwXCIscmVhZGVyOihlLHIpPT4hci5kaXNhYmxlUG9wdXB9LHdyaXRlOnt0YXJnZXQ6XCJkaXNhYmxlUG9wdXBcIixvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOiF0aGlzLmxvYWRlZHx8XCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfX0sd3JpdGVyKGUscix0KXtyW3RdPSFlfX19fSldLEUucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlKFtwKHt0eXBlOnIsanNvbjp7cmVhZDp7c291cmNlOlwicG9wdXBJbmZvXCJ9LHdyaXRlOnt0YXJnZXQ6XCJwb3B1cEluZm9cIixvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOiF0aGlzLmxvYWRlZHx8XCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfX19fX0pXSxFLnByb3RvdHlwZSxcInBvcHVwVGVtcGxhdGVcIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwfSldLEUucHJvdG90eXBlLFwiZGVmYXVsdFBvcHVwVGVtcGxhdGVcIixudWxsKSxlKFtwKHtyZWFkT25seTohMCx0eXBlOltJXX0pXSxFLnByb3RvdHlwZSxcImZpZWxkc1wiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITAsdHlwZTpbSV19KV0sRS5wcm90b3R5cGUsXCJyYXN0ZXJGaWVsZHNcIixudWxsKSxFPWUoW2QoXCJlc3JpLmxheWVycy5JbWFnZXJ5VGlsZUxheWVyXCIpXSxFKTtjb25zdCBBPUU7ZXhwb3J0e0EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtyYXN0ZXJSZW5kZXJlclR5cGVzIGFzIHQsd2Vic2NlbmVSYXN0ZXJSZW5kZXJlclR5cGVzIGFzIHIscmVhZCBhcyBpfWZyb21cIi4uLy4uL3Jhc3RlclJlbmRlcmVycy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Vuc3VyZUNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgdX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBkfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e3Nhbml0aXplVXJsIGFzIG19ZnJvbVwiLi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHt1cmwgYXMgaH1mcm9tXCIuLi9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi9zdXBwb3J0L0RpbWVuc2lvbmFsRGVmaW5pdGlvbi5qc1wiO2ltcG9ydCBmIGZyb21cIi4uL3N1cHBvcnQvTXVsdGlkaW1lbnNpb25hbFN1YnNldC5qc1wiO2ltcG9ydCB5IGZyb21cIi4uL3N1cHBvcnQvUmFzdGVyRnVuY3Rpb24uanNcIjtpbXBvcnQgYiBmcm9tXCIuLi9zdXBwb3J0L1Jhc3RlckpvYkhhbmRsZXIuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi9zdXBwb3J0L1RpbGVJbmZvLmpzXCI7aW1wb3J0IEYgZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9GdW5jdGlvblJhc3Rlci5qc1wiO2ltcG9ydHtnZXREZWZhdWx0TXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24gYXMgSixoYXNFeGNsdWRlZFZhcmlhYmxlT3JEaW1lbnNpb24gYXMgUixnZXREZWZhdWx0VmFyaWFibEluZm8gYXMgXyxpc011bHRpU2xpY2VPclJhbmdlRGVmaW5pdGlvbiBhcyBJLGdldFN1YnNldFZhcmlhYmxlc0Zyb21NZEluZm8gYXMgU31mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL211bHRpZGltZW5zaW9uYWxVdGlscy5qc1wiO2ltcG9ydHtzbmFwVG9SYXN0ZXIgYXMgeCxjbGlwIGFzIHd9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvY2xpcFV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB2fWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3Jhc3RlckZ1bmN0aW9uSGVscGVyLmpzXCI7aW1wb3J0e2xvYWQgYXMgaixwcm9qZWN0RXh0ZW50IGFzIEQscHJvamVjdFBvbHlnb24gYXMgSH1mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJQcm9qZWN0aW9uSGVscGVyLmpzXCI7aW1wb3J0e2NvbXB1dGVTdGF0aXN0aWNzSGlzdG9ncmFtcyBhcyBUfWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0VmVjdG9yRmllbGREYXRhIGFzIE59ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvdmVjdG9yRmllbGRVdGlscy5qc1wiO2ltcG9ydHtub3JtYWxpemVSZW5kZXJlckpTT04gYXMgTyxnZXRWYXJpYWJsZVJhc3RlckluZm8gYXMgeixnZXREZWZhdWx0SW50ZXJwb2xhdGlvbiBhcyBQLGdldERlZmF1bHRCYW5kQ29tYmluYXRpb24gYXMgQyxjcmVhdGVEZWZhdWx0UmVuZGVyZXIgYXMgRX1mcm9tXCIuLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9yYXN0ZXJSZW5kZXJlckhlbHBlci5qc1wiO2ltcG9ydCBBIGZyb21cIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L1Jhc3RlclN5bWJvbGl6ZXIuanNcIjtpbXBvcnQgTSBmcm9tXCIuLi8uLi9yZXN0L3N1cHBvcnQvSW1hZ2VIaXN0b2dyYW1QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e2NyZWF0ZUZsb3dNZXNoIGFzIFV9ZnJvbVwiLi4vLi4vdmlld3MvMmQvZW5naW5lL2Zsb3cvZGF0YVV0aWxzLmpzXCI7aW1wb3J0IGsgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCBxIGZyb21cIi4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7Y29uc3QgQj1vLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLm1peGlucy5JbWFnZXJ5VGlsZU1peGluXCIpLFY9bz0+e2xldCBWPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLl9pc0NvbnN0cnVjdGVkRnJvbUZ1bmN0aW9uUmFzdGVyPSExLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXI9e2luc3RhbmNlOm51bGwscmVmQ291bnQ6MCxjb25uZWN0aW9uUHJvbWlzZTpudWxsfSx0aGlzLmJhbmRJZHM9bnVsbCx0aGlzLmNvcHlyaWdodD1udWxsLHRoaXMuaW50ZXJwb2xhdGlvbj1cIm5lYXJlc3RcIix0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXQ9bnVsbCx0aGlzLnJhc3Rlcj1udWxsLHRoaXMucmFzdGVySW5mbz1udWxsLHRoaXMuc291cmNlSlNPTj1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuc3ltYm9saXplcj1udWxsLHRoaXMuX2lzQ29uc3RydWN0ZWRGcm9tRnVuY3Rpb25SYXN0ZXI9XCJGdW5jdGlvblwiPT09ZVswXT8ucmFzdGVyPy5kYXRhc2V0Rm9ybWF0fWdldCBmdWxsRXh0ZW50KCl7cmV0dXJuIHRoaXMucmFzdGVySW5mbz8uZXh0ZW50fXNldCBtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbihlKXt0aGlzLl9zZXQoXCJtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvblwiLGUpLHRoaXMudXBkYXRlUmVuZGVyZXIoKX1zZXQgcmFzdGVyRnVuY3Rpb24oZSl7XCJub25lXCI9PT1lPy5mdW5jdGlvbk5hbWU/LnRvTG93ZXJDYXNlKCkmJihlPXZvaWQgMCksdGhpcy5fc2V0KFwicmFzdGVyRnVuY3Rpb25cIixlKSx0aGlzLnVwZGF0ZVJhc3RlckZ1bmN0aW9uKCl9c2V0IHVybChlKXt0aGlzLl9zZXQoXCJ1cmxcIixtKGUsQikpfXNldCByZW5kZXJlcihlKXtudWxsPT1lJiZudWxsPT10aGlzLnJhc3RlckZ1bmN0aW9uP3RoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcIm92ZXJyaWRlXCIpOih0aGlzLl9zZXQoXCJyZW5kZXJlclwiLGUpLHRoaXMudXBkYXRlUmVuZGVyZXIoKSl9cmVhZFJlbmRlcmVyKGUsdCxyKXtjb25zdCBuPXQ/LmxheWVyRGVmaW5pdGlvbj8uZHJhd2luZ0luZm8/LnJlbmRlcmVyO3JldHVybiBpKG4scil8fHZvaWQgMH1hc3luYyBjb252ZXJ0VmVjdG9yRmllbGREYXRhKGUsdCl7aWYobnVsbD09ZXx8IXRoaXMucmFzdGVySW5mbylyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UsaT10aGlzLnJhc3RlckluZm8uZGF0YVR5cGU7cmV0dXJuIHI/ci5jb252ZXJ0VmVjdG9yRmllbGREYXRhKHtwaXhlbEJsb2NrOmUsZGF0YVR5cGU6aX0sdCk6TihlLGkpfWFzeW5jIGNvbXB1dGVTdGF0aXN0aWNzSGlzdG9ncmFtcyhlLHQpe2U9bChNLGUpLmNsb25lKCk7Y29uc3R7cmFzdGVySW5mbzpyfT10aGlzLHtnZW9tZXRyeTppfT1lO2lmKG51bGw9PWkpdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGUtbWl4aW46Y29tcHV0ZS1zdGF0aXN0aWNzLWhpc3RvZ3JhbXNcIixcImdlb21ldHJ5IG11c3QgYmUgc3BlY2lmaWVkXCIpO2xldCBuPWk7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpvfT1yO2kuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMobyl8fChhd2FpdCBqKCksbj1cImV4dGVudFwiPT09aS50eXBlP0QoaSxvKTpIKGksbykpO2NvbnN0IGE9ZS5waXhlbFNpemU/P25ldyBxKHt4OnIucGl4ZWxTaXplLngseTpyLnBpeGVsU2l6ZS55LHNwYXRpYWxSZWZlcmVuY2U6b30pLHtleHRlbnQ6dSx3aWR0aDpjLGhlaWdodDpkfT14KHIsbixhKSxtPWF3YWl0IHRoaXMuZmV0Y2hQaXhlbHModSxjLGQsey4uLnQsaW50ZXJwb2xhdGlvbjpcIm5lYXJlc3RcIn0pO2lmKG51bGw9PW0ucGl4ZWxCbG9jayl0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZS1taXhpbjpjb21wdXRlLXN0YXRpc3RpY3MtaGlzdG9ncmFtc1wiLFwiZmFpbGVkIHRvIGZldGNoIHBpeGVsc1wiKTtjb25zdCBoPWF3YWl0IHcobS5waXhlbEJsb2NrLHUsbikscD10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlO3JldHVybiBwP3AuY29tcHV0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zKHtwaXhlbEJsb2NrOmh9LHQpOlQoaCl9YXN5bmMgY3JlYXRlRmxvd01lc2goZSx0KXtjb25zdCByPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U7cmV0dXJuIHI/ci5jcmVhdGVGbG93TWVzaChlLHQpOlUoZS5tZXNoVHlwZSxlLnNpbXVsYXRpb25TZXR0aW5ncyxlLmZsb3dEYXRhLG51bGwhPXQuc2lnbmFsP3Quc2lnbmFsOihuZXcgQWJvcnRDb250cm9sbGVyKS5zaWduYWwpfW5vcm1hbGl6ZVJhc3RlckZldGNoT3B0aW9ucyhlKXtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzp0fT10aGlzLnJhc3RlckluZm8/P3t9O2lmKG51bGw9PXQpcmV0dXJuIGU7bGV0IHI9ZS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbnx8dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjtyPy5sZW5ndGh8fChyPUoodGhpcy5yYXN0ZXIucmFzdGVySW5mbyx7bXVsdGlkaW1lbnNpb25hbFN1YnNldDp0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXR9KSk7Y29uc3QgaT1lLnRpbWVFeHRlbnR8fHRoaXMudGltZUV4dGVudDtpZihudWxsIT1yJiZudWxsIT1pJiYobnVsbCE9aS5zdGFydHx8bnVsbCE9aS5lbmQpKXtyPXIubWFwKChlPT5lLmNsb25lKCkpKTtjb25zdCBuPXQudmFyaWFibGVzLmZpbmQoKCh7bmFtZTplfSk9PmU9PT1yWzBdLnZhcmlhYmxlTmFtZSkpPy5kaW1lbnNpb25zPy5maW5kKCgoe25hbWU6ZX0pPT5cIlN0ZFRpbWVcIj09PWUpKSxzPXIuZmluZCgoKHtkaW1lbnNpb25OYW1lOmV9KT0+XCJTdGRUaW1lXCI9PT1lKSk7aWYoIW58fCFzKXJldHVybnsuLi5lLG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOm51bGx9O2NvbnN0e3N0YXJ0Om8sZW5kOmF9PWksbD1udWxsPT1vP251bGw6by5nZXRUaW1lKCksdT1udWxsPT1hP251bGw6YS5nZXRUaW1lKCksYz1sPz91LGQ9dT8/bDtpZihudWxsIT1uLnZhbHVlcyl7Y29uc3QgZT1uLnZhbHVlcy5maWx0ZXIoKGU9PntpZihBcnJheS5pc0FycmF5KGUpKXtpZihjPT09ZClyZXR1cm4gZVswXTw9YyYmZVsxXT49Yztjb25zdCB0PWVbMF08PWMmJmVbMV0+Y3x8ZVswXTxkJiZlWzFdPj1kLHI9ZVswXT49YyYmZVsxXTw9ZHx8ZVswXTxjJiZlWzFdPmQ7cmV0dXJuIHR8fHJ9cmV0dXJuIGM9PT1kP2U9PT1jOmU+PWMmJmU8PWR9KSk7aWYoZS5sZW5ndGgpe2NvbnN0IHQ9ZS5zb3J0KCgoZSx0KT0+e2NvbnN0IHI9QXJyYXkuaXNBcnJheShlKT9lWzBdOmUsaT1BcnJheS5pc0FycmF5KGUpP2VbMV06ZSxuPUFycmF5LmlzQXJyYXkodCk/dFswXTp0LHM9QXJyYXkuaXNBcnJheSh0KT90WzFdOnQ7aWYoYz09PWQpcmV0dXJuIHItbjtyZXR1cm4gTWF0aC5hYnMoaS1kKS1NYXRoLmFicyhzLWQpfSkpWzBdO3MudmFsdWVzPVt0XX1lbHNlIHI9bnVsbH1lbHNlIGlmKG4uaGFzUmVndWxhckludGVydmFscyYmbi5leHRlbnQpe2NvbnN0W2UsdF09bi5leHRlbnQ7Yz50fHxkPGU/cj1udWxsOnMudmFsdWVzPWM9PT1kP1tjXTpbTWF0aC5tYXgoZSxjKSxNYXRoLm1pbih0LGQpXX19cmV0dXJuIG51bGwhPXImJlIocix0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXQpP3suLi5lLG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOm51bGx9OnsuLi5lLG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOnJ9fWFzeW5jIHVwZGF0ZVJhc3RlckZ1bmN0aW9uKCl7aWYoIXRoaXMubG9hZGVkfHxcImltYWdlcnktdGlsZVwiIT09dGhpcy50eXBlfHwhdGhpcy5yYXN0ZXJGdW5jdGlvbiYmIXRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbnx8SlNPTi5zdHJpbmdpZnkodGhpcy5yYXN0ZXJGdW5jdGlvbik9PT1KU09OLnN0cmluZ2lmeSh0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb24pKXJldHVybjtpZih0aGlzLl9pc0NvbnN0cnVjdGVkRnJvbUZ1bmN0aW9uUmFzdGVyJiZcIkZ1bmN0aW9uXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0KXtjb25zdCBlPXRoaXMucmFzdGVyLnJhc3RlckZ1bmN0aW9uLnRvSlNPTigpO3JldHVybiF0aGlzLnJhc3RlckZ1bmN0aW9uJiZlJiZ0aGlzLl9zZXQoXCJyYXN0ZXJGdW5jdGlvblwiLHkuZnJvbUpTT04oZSkpLHZvaWQodGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uPXRoaXMucmFzdGVyRnVuY3Rpb24/LnRvSlNPTigpKX1sZXQgZSx0PXRoaXMucmFzdGVyLHI9ITE7XCJGdW5jdGlvblwiPT09dC5kYXRhc2V0Rm9ybWF0PyhlPXQucHJpbWFyeVJhc3RlcnMucmFzdGVycyx0PWVbMF0scj0hMCk6ZT1bdF07Y29uc3R7cmFzdGVyRnVuY3Rpb246aX09dGhpcztpZihpKXtjb25zdCByPXtyYXN0ZXI6dH07ZS5sZW5ndGg+MSYmZS5mb3JFYWNoKChlPT5yW2UudXJsXT1lKSk7Y29uc3Qgbj12KGkuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKT8/aS50b0pTT04oKSxyKSxzPW5ldyBGKHtyYXN0ZXJGdW5jdGlvbjpufSk7cy5yYXN0ZXJKb2JIYW5kbGVyPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UsYXdhaXQgcy5vcGVuKCksdGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uPXRoaXMucmFzdGVyRnVuY3Rpb24/LnRvSlNPTigpLHRoaXMucmFzdGVyPXN9ZWxzZSB0aGlzLnJhc3Rlcj10LHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj1udWxsLGF3YWl0IHQud2hlbigpO2lmKHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbj1udWxsLCFyJiYhaSlyZXR1cm47Y29uc3R7YmFuZElkczpufT10aGlzLHtiYW5kQ291bnQ6c309dGhpcy5yYXN0ZXIucmFzdGVySW5mbyxvPW4/Lmxlbmd0aD9uLnNvbWUoKGU9PmU+PXMpKTpzPj0zO24mJihvfHx0aGlzLnJlbmRlcmVyJiZcInJhc3Rlci1zdHJldGNoXCIhPT10aGlzLnJlbmRlcmVyLnR5cGUpJiZ0aGlzLl9zZXQoXCJiYW5kSWRzXCIsbnVsbCksdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwiYXV0b1wiKX1hc3luYyB1cGRhdGVSZW5kZXJlcigpe2NvbnN0e2xvYWRlZDplLHN5bWJvbGl6ZXI6dH09dGhpcztpZighZXx8IXR8fCF0aGlzLnJlbmRlcmVyKXJldHVybjtjb25zdHtyYXN0ZXJJbmZvOnJ9PXRoaXMucmFzdGVyLGk9XyhyLHttdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjp0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLG11bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSksbj1pPy5uYW1lLHM9Tyh7Li4udGhpcy5yZW5kZXJlci50b0pTT04oKSx2YXJpYWJsZU5hbWU6bn0pO2lmKEpTT04uc3RyaW5naWZ5KHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbik9PT1KU09OLnN0cmluZ2lmeShzKSlyZXR1cm47Y29uc3Qgbz10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlO28mJih0LnJhc3RlckluZm89eihyLG4pLHQucmVuZGVyZXJKU09OPXMsdC5iaW5kKCksYXdhaXQgby51cGRhdGVTeW1ib2xpemVyKHQpLHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbj1zKX1hc3luYyBhcHBseVJlbmRlcmVyKGUsdCl7Y29uc3Qgcj1lPy5waXhlbEJsb2NrO2lmKCEobnVsbCE9ciYmci5waXhlbHMmJnIucGl4ZWxzLmxlbmd0aD4wKSlyZXR1cm4gbnVsbDtsZXQgaTthd2FpdCB0aGlzLnVwZGF0ZVJlbmRlcmVyKCk7Y29uc3Qgbj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLHM9dGhpcy5iYW5kSWRzPz9bXTtyZXR1cm4gaT1uP2F3YWl0IG4uc3ltYm9saXplKHsuLi5lLHNpbXBsZVN0cmV0Y2hQYXJhbXM6dCxiYW5kSWRzOnN9KTp0aGlzLnN5bWJvbGl6ZXIuc3ltYm9saXplKHsuLi5lLHNpbXBsZVN0cmV0Y2hQYXJhbXM6dCxiYW5kSWRzOnN9KSxpfWdldFRpbGVVcmwoZSx0LHIpe3JldHVyblwiUmFzdGVyVGlsZVNlcnZlclwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdD9gJHt0aGlzLnVybH0vdGlsZS8ke2V9LyR7dH0vJHtyfWA6XCJcIn1nZXRDb21wYXRpYmxlVGlsZUluZm8oZSx0LHI9ITEpe2lmKCF0aGlzLmxvYWRlZHx8bnVsbD09dClyZXR1cm4gbnVsbDtpZihyJiZlLmVxdWFscyh0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB0aGlzLnRpbGVJbmZvO2NvbnN0IGk9ZChlKTtyZXR1cm4gZy5jcmVhdGUoe3NpemU6MjU2LHNwYXRpYWxSZWZlcmVuY2U6ZSxvcmlnaW46aT97eDppLm9yaWdpblswXSx5Omkub3JpZ2luWzFdfTp7eDp0LnhtaW4seTp0LnltYXh9fSl9Z2V0Q29tcGF0aWJsZUZ1bGxFeHRlbnQoZSl7cmV0dXJuIHRoaXMubG9hZGVkPyh0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudCYmdGhpcy5fY29tcGF0aWJsZUZ1bGxFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoZSl8fCh0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudD10aGlzLnJhc3Rlci5jb21wdXRlRXh0ZW50KGUpKSx0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudCk6bnVsbH1hc3luYyBmZXRjaFRpbGUoZSx0LHIsaT17fSl7aWYoTCh0aGlzKSxpLnJlcXVlc3RBc0ltYWdlRWxlbWVudCl7Y29uc3Qgcz10aGlzLmdldFRpbGVVcmwoZSx0LHIpO3JldHVybiBuKHMse3Jlc3BvbnNlVHlwZTpcImltYWdlXCIscXVlcnk6ey4uLnRoaXMucmVmcmVzaFBhcmFtZXRlcnMsLi4udGhpcy5yYXN0ZXIuaW9Db25maWcuY3VzdG9tRmV0Y2hQYXJhbWV0ZXJzfSxzaWduYWw6aS5zaWduYWx9KS50aGVuKChlPT5lLmRhdGEpKX1jb25zdHtyYXN0ZXJJbmZvOnN9PXRoaXM7aWYobnVsbCE9cy5tdWx0aWRpbWVuc2lvbmFsSW5mbyYmbnVsbD09KGk9dGhpcy5ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnMoaSkpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKXtjb25zdCBuPWkudGlsZUluZm98fHMuc3RvcmFnZUluZm8udGlsZUluZm87cmV0dXJue2V4dGVudDp0aGlzLnJhc3Rlci5nZXRUaWxlRXh0ZW50RnJvbVRpbGVJbmZvKGUsdCxyLG4pLHBpeGVsQmxvY2s6bnVsbH19cmV0dXJuIGF3YWl0IHRoaXMuX2luaXRKb2JIYW5kbGVyKCksYXdhaXQgdGhpcy51cGRhdGVSYXN0ZXJGdW5jdGlvbigpLFwicmFzdGVyLXNoYWRlZC1yZWxpZWZcIj09PXRoaXMucmVuZGVyZXI/LnR5cGUmJihpPXsuLi5pLGJ1ZmZlcjp7Y29sczoxLHJvd3M6MX19KSx0aGlzLnJhc3Rlci5mZXRjaFRpbGUoZSx0LHIsaSl9YXN5bmMgZmV0Y2hQaXhlbHMoZSx0LHIsaT17fSl7cmV0dXJuIG51bGwhPXRoaXMucmFzdGVySW5mby5tdWx0aWRpbWVuc2lvbmFsSW5mbyYmbnVsbD09KGk9dGhpcy5ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnMoaSkpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uP3tleHRlbnQ6ZSxwaXhlbEJsb2NrOm51bGx9Oihhd2FpdCB0aGlzLl9pbml0Sm9iSGFuZGxlcigpLGF3YWl0IHRoaXMudXBkYXRlUmFzdGVyRnVuY3Rpb24oKSx0PU1hdGgucm91bmQodCkscj1NYXRoLnJvdW5kKHIpLHRoaXMucmFzdGVyLmZldGNoUGl4ZWxzKGUsdCxyLGkpKX1hc3luYyBpZGVudGlmeShlLHQ9e30pe2NvbnN0e3Jhc3RlcjpyLHJhc3RlckluZm86aX09dGhpcztpZihudWxsIT1pLm11bHRpZGltZW5zaW9uYWxJbmZvKXtpZighKGkuaGFzTXVsdGlkaW1lbnNpb25hbFRyYW5zcG9zZSYmISEoSSh0Lm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKXx8dC50cmFuc3Bvc2VkVmFyaWFibGVOYW1lfHx0LnRpbWVFeHRlbnQpKSYmbnVsbD09KHQ9dGhpcy5ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnModCkpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKXJldHVybntsb2NhdGlvbjplLHZhbHVlOm51bGx9fWNvbnN0IG49dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0Py5hcmVhT2ZJbnRlcmVzdDtpZihuJiYhbi5jb250YWlucyhlKSl0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZS1taXhpbjppZGVudGlmeVwiLFwidGhlIHJlcXVlc3QgY2Fubm90IGJlIGZ1bGZpbGxlZCB3aGVuIGZhbGxpbmcgb3V0c2lkZSBvZiB0aGUgbXVsdGlkaW1lbnNpb25hbCBzdWJzZXRcIik7cmV0dXJuIHIuaWRlbnRpZnkoZSx0KX1pbmNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQrK31kZWNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQtLSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50PD0wJiZ0aGlzLl9zaHV0ZG93bkpvYkhhbmRsZXIoKX1oYXNTdGFuZGFyZFRpbWUoKXtjb25zdCBlPXRoaXMucmFzdGVySW5mbz8ubXVsdGlkaW1lbnNpb25hbEluZm87aWYobnVsbD09ZXx8XCJzdGFuZGFyZC10aW1lXCIhPT10aGlzLnJhc3RlckluZm8/LmRhdGFUeXBlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixyPXQ/LlswXT8udmFyaWFibGVOYW1lO3JldHVybiBlLnZhcmlhYmxlcy5zb21lKChlPT5lLm5hbWU9PT1yJiYoIXQ/LlswXS5kaW1lbnNpb25OYW1lfHxlLmRpbWVuc2lvbnMuc29tZSgoZT0+XCJTdGRUaW1lXCI9PT1lLm5hbWUpKSkpKX1nZXRTdGFuZGFyZFRpbWVWYWx1ZShlKXtyZXR1cm4gbmV3IERhdGUoMjQqKGUtMjU1NjkpKjM2MDAqMWUzKS50b1N0cmluZygpfWdldE11bHRpZGltZW5zaW9uYWxTdWJzZXRWYXJpYWJsZXMoZSl7Y29uc3QgdD1lPz90aGlzLnJhc3RlckluZm8/Lm11bHRpZGltZW5zaW9uYWxJbmZvO3JldHVybiBTKHRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldCx0KX1fY29uZmlnRGVmYXVsdFNldHRpbmdzKCl7dGhpcy5fY29uZmlnRGVmYXVsdEludGVycG9sYXRpb24oKSx0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9ufHwodGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbj1KKHRoaXMucmFzdGVyLnJhc3RlckluZm8se211bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSkpLHRoaXMucmFzdGVyRnVuY3Rpb24mJlwiRnVuY3Rpb25cIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQmJih0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb249dGhpcy5yYXN0ZXJGdW5jdGlvbi50b0pTT04oKSksdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKCl9X2luaXRKb2JIYW5kbGVyKCl7aWYobnVsbCE9dGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZSlyZXR1cm4gdGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZTtjb25zdCBlPW5ldyBiO3JldHVybiB0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlPWUuaW5pdGlhbGl6ZSgpLnRoZW4oKGFzeW5jKCk9PntMKHRoaXMpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U9ZSx0aGlzLnJhc3Rlci5yYXN0ZXJKb2JIYW5kbGVyPWUsXCJGdW5jdGlvblwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCYmdGhpcy5yYXN0ZXIuc3luY0pvYkhhbmRsZXIoKSx0aGlzLnJhc3RlckZ1bmN0aW9uJiZhd2FpdCB0aGlzLnVwZGF0ZVJhc3RlckZ1bmN0aW9uKCkuY2F0Y2goKCgpPT57fSkpLHRoaXMucmVuZGVyZXImJnRoaXMudXBkYXRlUmVuZGVyZXIoKX0pKS5jYXRjaCgoKCk9Pnt9KSksdGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZX1fc2h1dGRvd25Kb2JIYW5kbGVyKCl7dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZSYmdGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZS5kZXN0cm95KCksdGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZT1udWxsLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2U9bnVsbCx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50PTAsdGhpcy5fY2FjaGVkUmVuZGVyZXJKc29uPW51bGwsdGhpcy5yYXN0ZXImJih0aGlzLnJhc3Rlci5yYXN0ZXJKb2JIYW5kbGVyPW51bGwpfV9jb25maWdEZWZhdWx0SW50ZXJwb2xhdGlvbigpe2lmKG51bGw9PXRoaXMuaW50ZXJwb2xhdGlvbil7TCh0aGlzKTtjb25zdHtyYXN0ZXI6ZX09dGhpcyx0PVAoZS5yYXN0ZXJJbmZvLGUudGlsZVR5cGUsdGhpcy5zb3VyY2VKU09OPy5kZWZhdWx0UmVzYW1wbGluZ01ldGhvZCk7dGhpcy5fc2V0KFwiaW50ZXJwb2xhdGlvblwiLHQpfX1fY29uZmlnRGVmYXVsdFJlbmRlcmVyKGU9XCJub1wiKXtMKHRoaXMpO2NvbnN0e3Jhc3RlckluZm86dH09dGhpcy5yYXN0ZXI7IXRoaXMuYmFuZElkcyYmdC5iYW5kQ291bnQ+MSYmKHRoaXMuYmFuZElkcz1DKHQpKTtjb25zdCByPV8odCx7bXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixtdWx0aWRpbWVuc2lvbmFsU3Vic2V0OnRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldH0pLGk9cj8ubmFtZTtpZighdGhpcy5yZW5kZXJlcnx8XCJvdmVycmlkZVwiPT09ZSl7Y29uc3QgZT1FKHQse2JhbmRJZHM6dGhpcy5iYW5kSWRzLHZhcmlhYmxlTmFtZTppfSkscj10LnN0YXRpc3RpY3Msbj1yJiZyLmxlbmd0aD4wP3JbMF06bnVsbCxzPW4/Lm1heD8/MCxvPW4/Lm1pbj8/MDtcIldDU1NlcnZlclwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCYmXCJyYXN0ZXItc3RyZXRjaFwiPT09ZS50eXBlJiYocz4xZTI0fHxvPC0xZTI0KSYmKGUuZHluYW1pY1JhbmdlQWRqdXN0bWVudD0hMCxlLnN0YXRpc3RpY3M9bnVsbCxcIm5vbmVcIj09PWUuc3RyZXRjaFR5cGUmJihlLnN0cmV0Y2hUeXBlPVwibWluLW1heFwiKSksdGhpcy5yZW5kZXJlcj1lfWNvbnN0IG49Tyh7Li4udGhpcy5yZW5kZXJlci50b0pTT04oKSx2YXJpYWJsZU5hbWU6aX0pLHM9eih0LGkpO3RoaXMuc3ltYm9saXplcj8odGhpcy5zeW1ib2xpemVyLnJlbmRlcmVySlNPTj1uLHRoaXMuc3ltYm9saXplci5yYXN0ZXJJbmZvPXMpOnRoaXMuc3ltYm9saXplcj1uZXcgQSh7cmVuZGVyZXJKU09OOm4scmFzdGVySW5mbzpzfSk7Y29uc3Qgbz10aGlzLnN5bWJvbGl6ZXIuYmluZCgpO2lmKG8uc3VjY2Vzcyl7aWYoXCJhdXRvXCI9PT1lKXtjb25zdHtjb2xvcm1hcDplfT10aGlzLnJhc3Rlci5yYXN0ZXJJbmZvLHQ9dGhpcy5yZW5kZXJlcjtpZihudWxsIT1lJiZcInJhc3Rlci1jb2xvcm1hcFwiPT09dC50eXBlKXtjb25zdCBlPUUodGhpcy5yYXN0ZXIucmFzdGVySW5mbyk7SlNPTi5zdHJpbmdpZnkoZSkhPT1KU09OLnN0cmluZ2lmeSh0KSYmdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwib3ZlcnJpZGVcIil9ZWxzZSBpZihcInJhc3Rlci1zdHJldGNoXCI9PT10LnR5cGUpe2NvbnN0IGU9dGhpcy5iYW5kSWRzPy5sZW5ndGgscj10LnN0YXRpc3RpY3M/Lmxlbmd0aDshdC5keW5hbWljUmFuZ2VBZGp1c3RtZW50JiZyJiZlJiZyIT09ZSYmdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwib3ZlcnJpZGVcIil9fX1lbHNlIEIud2FybihcImltYWdlcnktdGlsZS1taXhpblwiLG8uZXJyb3J8fFwiVGhlIGdpdmVuIHJlbmRlcmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGxheWVyLlwiKSxcImF1dG9cIj09PWUmJnRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcIm92ZXJyaWRlXCIpfX07ZnVuY3Rpb24gTChlKXtpZighZS5yYXN0ZXJ8fCFlLnJhc3RlckluZm8pdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGVcIixcIm5vIHJhc3RlclwiKX1yZXR1cm4gZShbYSh7Y2xvbmFibGU6ITF9KV0sVi5wcm90b3R5cGUsXCJfY2FjaGVkUmVuZGVyZXJKc29uXCIsdm9pZCAwKSxlKFthKHtjbG9uYWJsZTohMX0pXSxWLnByb3RvdHlwZSxcIl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb25cIix2b2lkIDApLGUoW2Eoe2Nsb25hYmxlOiExfSldLFYucHJvdG90eXBlLFwiX2NvbXBhdGlibGVGdWxsRXh0ZW50XCIsdm9pZCAwKSxlKFthKHtjbG9uYWJsZTohMX0pXSxWLnByb3RvdHlwZSxcIl9pc0NvbnN0cnVjdGVkRnJvbUZ1bmN0aW9uUmFzdGVyXCIsdm9pZCAwKSxlKFthKHtjbG9uYWJsZTohMX0pXSxWLnByb3RvdHlwZSxcIl9yYXN0ZXJKb2JIYW5kbGVyXCIsdm9pZCAwKSxlKFthKCldLFYucHJvdG90eXBlLFwiYmFuZElkc1wiLHZvaWQgMCksZShbYSh7anNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7c291cmNlOlwiY29weXJpZ2h0VGV4dFwifX19fX0pXSxWLnByb3RvdHlwZSxcImNvcHlyaWdodFwiLHZvaWQgMCksZShbYSh7anNvbjp7cmVhZDohMX19KV0sVi5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsbnVsbCksZShbYSgpXSxWLnByb3RvdHlwZSxcImludGVycG9sYXRpb25cIix2b2lkIDApLGUoW2EoKV0sVi5wcm90b3R5cGUsXCJpb0NvbmZpZ1wiLHZvaWQgMCksZShbYSh7dHlwZTpbcF0sanNvbjp7d3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwibXVsdGlkaW1lbnNpb25hbERlZmluaXRpb25cIixudWxsKSxlKFthKHt0eXBlOmYsanNvbjp7d3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwibXVsdGlkaW1lbnNpb25hbFN1YnNldFwiLHZvaWQgMCksZShbYSgpXSxWLnByb3RvdHlwZSxcInJhc3RlclwiLHZvaWQgMCksZShbYSh7dHlwZTp5LGpzb246e25hbWU6XCJyZW5kZXJpbmdSdWxlXCIsd3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwicmFzdGVyRnVuY3Rpb25cIixudWxsKSxlKFthKCldLFYucHJvdG90eXBlLFwicmFzdGVySW5mb1wiLHZvaWQgMCksZShbYSgpXSxWLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwLHR5cGU6ayxqc29uOntyZWFkOiExfX0pXSxWLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW2Eoe3R5cGU6Z30pXSxWLnByb3RvdHlwZSxcInRpbGVJbmZvXCIsdm9pZCAwKSxlKFthKGgpXSxWLnByb3RvdHlwZSxcInVybFwiLG51bGwpLGUoW2Eoe3R5cGVzOnQsanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLHdyaXRlOntvdmVycmlkZVBvbGljeSgpe2NvbnN0IGU9XCJyYXN0ZXItc3RyZXRjaFwiPT09dGhpcy5yZW5kZXJlcj8udHlwZSYmXCJub25lXCI9PT10aGlzLnJlbmRlcmVyLnN0cmV0Y2hUeXBlJiYhdGhpcy5yZW5kZXJlci51c2VHYW1tYTtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZXx8IWV9fX0sb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7dHlwZXM6cixuYW1lOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnJlbmRlcmVyXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5OmU9Pih7ZW5hYmxlZDplJiZcInZlY3Rvci1maWVsZFwiIT09ZS50eXBlJiZcImZsb3dcIiE9PWUudHlwZX0pfX19fX0pXSxWLnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksZShbdShcInJlbmRlcmVyXCIpXSxWLnByb3RvdHlwZSxcInJlYWRSZW5kZXJlclwiLG51bGwpLGUoW2Eoe2Nsb25hYmxlOiExfSldLFYucHJvdG90eXBlLFwic3ltYm9saXplclwiLHZvaWQgMCksVj1lKFtjKFwiZXNyaS5sYXllcnMuSW1hZ2VyeVRpbGVNaXhpblwiKV0sViksVn07ZXhwb3J0e1YgYXMgSW1hZ2VyeVRpbGVNaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtjb25zdGFudCBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7Y2xvbmUgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7ZXN0aW1hdGVTaXplIGFzIG99ZnJvbVwiLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtuZXdVaW50QXJyYXkgYXMgbH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L1VpbnRBcnJheS5qc1wiO2NsYXNzIHJ7Y29uc3RydWN0b3IodCl7dGhpcy5fdmFsaWRhdGVKU09OKHQpO2NvbnN0e2xvY2F0aW9uOmksZGF0YTplfT10O3RoaXMubG9jYXRpb249T2JqZWN0LmZyZWV6ZShhKGkpKTtjb25zdCByPXRoaXMubG9jYXRpb24ud2lkdGgsbj10aGlzLmxvY2F0aW9uLmhlaWdodDtsZXQgcz0hMCxoPSEwO2NvbnN0IGM9TWF0aC5jZWlsKHIqbi8zMiksbT1sKGMpO2xldCBmPTA7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IHQ9YSUzMjtlW2FdPyhoPSExLG1bZl18PTE8PHQpOnM9ITEsMzE9PT10JiYrK2Z9aD8odGhpcy5fYXZhaWxhYmlsaXR5PVwidW5hdmFpbGFibGVcIix0aGlzLmJ5dGVTaXplPTQwKTpzPyh0aGlzLl9hdmFpbGFiaWxpdHk9XCJhdmFpbGFibGVcIix0aGlzLmJ5dGVTaXplPTQwKToodGhpcy5fYXZhaWxhYmlsaXR5PW0sdGhpcy5ieXRlU2l6ZT00MCtvKG0pKX1nZXRBdmFpbGFiaWxpdHkodCxpKXtpZihcInVuYXZhaWxhYmxlXCI9PT10aGlzLl9hdmFpbGFiaWxpdHl8fFwiYXZhaWxhYmxlXCI9PT10aGlzLl9hdmFpbGFiaWxpdHkpcmV0dXJuIHRoaXMuX2F2YWlsYWJpbGl0eTtjb25zdCBlPSh0LXRoaXMubG9jYXRpb24udG9wKSp0aGlzLmxvY2F0aW9uLndpZHRoKyhpLXRoaXMubG9jYXRpb24ubGVmdCksYT1lJTMyLG89ZT4+NSxsPXRoaXMuX2F2YWlsYWJpbGl0eTtyZXR1cm4gbzwwfHxvPmwubGVuZ3RoP1widW5rbm93blwiOmxbb10mMTw8YT9cImF2YWlsYWJsZVwiOlwidW5hdmFpbGFibGVcIn1zdGF0aWMgZnJvbURlZmluaXRpb24oYSxvKXtjb25zdCBsPWEuc2VydmljZS5yZXF1ZXN0fHx0LHtyb3c6bixjb2w6aCx3aWR0aDpjLGhlaWdodDptfT1hLGY9e3F1ZXJ5OntmOlwianNvblwifX07cmV0dXJuIG89bz97Li4uZiwuLi5vfTpmLGwocyhhKSxvKS50aGVuKCh0PT50LmRhdGEpKS5jYXRjaCgodD0+e2lmKHQmJnQuZGV0YWlscyYmNDIyPT09dC5kZXRhaWxzLmh0dHBTdGF0dXMpcmV0dXJue2xvY2F0aW9uOnt0b3A6bixsZWZ0Omgsd2lkdGg6YyxoZWlnaHQ6bX0sdmFsaWQ6ITAsZGF0YTppKGMqbSwwKX07dGhyb3cgdH0pKS50aGVuKCh0PT57aWYodC5sb2NhdGlvbiYmKHQubG9jYXRpb24udG9wIT09bnx8dC5sb2NhdGlvbi5sZWZ0IT09aHx8dC5sb2NhdGlvbi53aWR0aCE9PWN8fHQubG9jYXRpb24uaGVpZ2h0IT09bSkpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOmxvY2F0aW9uLW1pc21hdGNoXCIsXCJUaWxlbWFwIHJlc3BvbnNlIGZvciBkaWZmZXJlbnQgbG9jYXRpb24gdGhhbiByZXF1ZXN0ZWRcIix7cmVzcG9uc2U6dCxkZWZpbml0aW9uOnt0b3A6bixsZWZ0Omgsd2lkdGg6YyxoZWlnaHQ6bX19KTtyZXR1cm4gci5mcm9tSlNPTih0KX0pKX1zdGF0aWMgZnJvbUpTT04odCl7cmV0dXJuIE9iamVjdC5mcmVlemUobmV3IHIodCkpfV92YWxpZGF0ZUpTT04odCl7aWYoIXQ/LmxvY2F0aW9uKXRocm93IG5ldyBlKFwidGlsZW1hcDptaXNzaW5nLWxvY2F0aW9uXCIsXCJMb2NhdGlvbiBtaXNzaW5nIGZyb20gdGlsZW1hcCByZXNwb25zZVwiKTtpZighMT09PXQudmFsaWQpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOmludmFsaWRcIixcIlRpbGVtYXAgcmVzcG9uc2Ugd2FzIG1hcmtlZCBhcyBpbnZhbGlkXCIpO2lmKCF0LmRhdGEpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOm1pc3NpbmctZGF0YVwiLFwiRGF0YSBtaXNzaW5nIGZyb20gdGlsZW1hcCByZXNwb25zZVwiKTtpZighQXJyYXkuaXNBcnJheSh0LmRhdGEpKXRocm93IG5ldyBlKFwidGlsZW1hcDpkYXRhLW1pc21hdGNoXCIsXCJEYXRhIG11c3QgYmUgYW4gYXJyYXkgb2YgbnVtYmVyc1wiKTtpZih0LmRhdGEubGVuZ3RoIT09dC5sb2NhdGlvbi53aWR0aCp0LmxvY2F0aW9uLmhlaWdodCl0aHJvdyBuZXcgZShcInRpbGVtYXA6ZGF0YS1taXNtYXRjaFwiLFwiTnVtYmVyIG9mIGRhdGEgaXRlbXMgZG9lcyBub3QgbWF0Y2ggd2lkdGgvaGVpZ2h0IG9mIHRpbGVtYXBcIil9fWZ1bmN0aW9uIG4odCl7cmV0dXJuYCR7dC5sZXZlbH0vJHt0LnJvd30vJHt0LmNvbH0vJHt0LndpZHRofS8ke3QuaGVpZ2h0fWB9ZnVuY3Rpb24gcyh0KXtsZXQgaTtpZih0LnNlcnZpY2UudGlsZVNlcnZlcnM/Lmxlbmd0aCl7Y29uc3QgZT10LnNlcnZpY2UudGlsZVNlcnZlcnM7aT1gJHtlJiZlLmxlbmd0aD9lW3Qucm93JWUubGVuZ3RoXTp0LnNlcnZpY2UudXJsfS90aWxlbWFwLyR7dC5sZXZlbH0vJHt0LnJvd30vJHt0LmNvbH0vJHt0LndpZHRofS8ke3QuaGVpZ2h0fWB9ZWxzZSBpPWAke3Quc2VydmljZS51cmx9L3RpbGVtYXAvJHt0LmxldmVsfS8ke3Qucm93fS8ke3QuY29sfS8ke3Qud2lkdGh9LyR7dC5oZWlnaHR9YDtjb25zdCBlPXQuc2VydmljZS5xdWVyeTtyZXR1cm4gZSYmKGk9YCR7aX0/JHtlfWApLGl9ZXhwb3J0e3IgYXMgVGlsZW1hcCxuIGFzIHRpbGVtYXBEZWZpbml0aW9uSWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e0J5dGVTaXplVW5pdCBhcyByfWZyb21cIi4uLy4uL2NvcmUvQnl0ZVNpemVVbml0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtMUlVDYWNoZSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvTFJVQ2FjaGUuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9jb3JlL1Bvb2xlZEFycmF5LmpzXCI7aW1wb3J0e29uQWJvcnQgYXMgbixjcmVhdGVBYm9ydEVycm9yIGFzIGMsaXNBYm9ydEVycm9yIGFzIGgsaXNBYm9ydGVkIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbSxpbml0aWFsIGFzIGZ9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3dhaXRUaWNrcyBhcyB1fWZyb21cIi4uLy4uL2NvcmUvc2NoZWR1bGluZy5qc1wiO2ltcG9ydHtvYmplY3RUb1F1ZXJ5IGFzIHZ9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB5fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1RpbGVLZXkgYXMgX31mcm9tXCIuL1RpbGVLZXkuanNcIjtpbXBvcnR7dGlsZW1hcERlZmluaXRpb25JZCBhcyBiLFRpbGVtYXAgYXMgZ31mcm9tXCIuL1RpbGVtYXAuanNcIjt2YXIgdztsZXQgVD13PWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9wZW5kaW5nVGlsZW1hcFJlcXVlc3RzPXt9LHRoaXMucmVxdWVzdD10LHRoaXMuc2l6ZT0zMix0aGlzLl9wcmVmZXRjaGluZ0VuYWJsZWQ9ITB9aW5pdGlhbGl6ZSgpe3RoaXMuX3RpbGVtYXBDYWNoZT1uZXcgbygyKnIuTUVHQUJZVEVTKSx0aGlzLmFkZEhhbmRsZXMoW20oKCgpPT57Y29uc3R7bGF5ZXI6ZX09dGhpcztyZXR1cm5bZT8ucGFyc2VkVXJsLGU/LnRpbGVTZXJ2ZXJzLGU/LmFwaUtleSxlPy5jdXN0b21QYXJhbWV0ZXJzXX0pLCgoKT0+dGhpcy5faW5pdGlhbGl6ZVRpbGVtYXBEZWZpbml0aW9uKCkpLGYpXSl9Z2V0IGVmZmVjdGl2ZU1pbkxPRCgpe3JldHVybiB0aGlzLm1pbkxPRD8/dGhpcy5sYXllci50aWxlSW5mby5sb2RzWzBdLmxldmVsfWdldCBlZmZlY3RpdmVNYXhMT0QoKXtyZXR1cm4gdGhpcy5tYXhMT0Q/P3RoaXMubGF5ZXIudGlsZUluZm8ubG9kc1t0aGlzLmxheWVyLnRpbGVJbmZvLmxvZHMubGVuZ3RoLTFdLmxldmVsfWZldGNoVGlsZW1hcChlLHQsaSxyKXtpZighdGhpcy5sYXllci50aWxlSW5mby5sb2RBdChlKXx8ZTx0aGlzLmVmZmVjdGl2ZU1pbkxPRHx8ZT50aGlzLmVmZmVjdGl2ZU1heExPRClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHMoXCJ0aWxlbWFwLWNhY2hlOmxldmVsLXVuYXZhaWxhYmxlXCIsYExldmVsICR7ZX0gaXMgdW5hdmFpbGFibGUgaW4gdGhlIHNlcnZpY2VgKSk7Y29uc3QgbD10aGlzLl90bXBUaWxlbWFwRGVmaW5pdGlvbixvPXRoaXMuX3RpbGVtYXBGcm9tQ2FjaGUoZSx0LGksbCk7aWYobylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG8pO2NvbnN0IGE9cj8uc2lnbmFsO3JldHVybiByPXsuLi5yLHNpZ25hbDpudWxsfSxuZXcgUHJvbWlzZSgoKGUsdCk9PntuKGEsKCgpPT50KGMoKSkpKTtjb25zdCBpPWIobCk7bGV0IHM9dGhpcy5fcGVuZGluZ1RpbGVtYXBSZXF1ZXN0c1tpXTtpZighcyl7cz1nLmZyb21EZWZpbml0aW9uKGwscikudGhlbigoZT0+KHRoaXMuX3RpbGVtYXBDYWNoZS5wdXQoaSxlLGUuYnl0ZVNpemUpLGUpKSk7Y29uc3QgZT0oKT0+e2RlbGV0ZSB0aGlzLl9wZW5kaW5nVGlsZW1hcFJlcXVlc3RzW2ldfTt0aGlzLl9wZW5kaW5nVGlsZW1hcFJlcXVlc3RzW2ldPXMscy50aGVuKGUsZSl9cy50aGVuKGUsdCl9KSl9Z2V0QXZhaWxhYmlsaXR5KGUsdCxpKXtpZighdGhpcy5sYXllci50aWxlSW5mby5sb2RBdChlKXx8ZTx0aGlzLmVmZmVjdGl2ZU1pbkxPRHx8ZT50aGlzLmVmZmVjdGl2ZU1heExPRClyZXR1cm5cInVuYXZhaWxhYmxlXCI7Y29uc3Qgcj10aGlzLl90aWxlbWFwRnJvbUNhY2hlKGUsdCxpLHRoaXMuX3RtcFRpbGVtYXBEZWZpbml0aW9uKTtyZXR1cm4gcj9yLmdldEF2YWlsYWJpbGl0eSh0LGkpOlwidW5rbm93blwifWZldGNoQXZhaWxhYmlsaXR5KGUsdCxpLHIpe3JldHVybiF0aGlzLmxheWVyLnRpbGVJbmZvLmxvZEF0KGUpfHxlPHRoaXMuZWZmZWN0aXZlTWluTE9EfHxlPnRoaXMuZWZmZWN0aXZlTWF4TE9EP1Byb21pc2UucmVqZWN0KG5ldyBzKFwidGlsZS1tYXA6dGlsZS11bmF2YWlsYWJsZVwiLFwiVGlsZSBpcyBub3QgYXZhaWxhYmxlXCIse2xldmVsOmUscm93OnQsY29sOml9KSk6dGhpcy5mZXRjaFRpbGVtYXAoZSx0LGkscikuY2F0Y2goKGU9PmUpKS50aGVuKChyPT57aWYociBpbnN0YW5jZW9mIGcpe2NvbnN0IGw9ci5nZXRBdmFpbGFiaWxpdHkodCxpKTtpZihcInVuYXZhaWxhYmxlXCI9PT1sKXRocm93IG5ldyBzKFwidGlsZS1tYXA6dGlsZS11bmF2YWlsYWJsZVwiLFwiVGlsZSBpcyBub3QgYXZhaWxhYmxlXCIse2xldmVsOmUscm93OnQsY29sOml9KTtyZXR1cm4gbH1pZihoKHIpKXRocm93IHI7cmV0dXJuXCJ1bmtub3duXCJ9KSl9ZmV0Y2hBdmFpbGFiaWxpdHlVcHNhbXBsZShlLHQsaSxyLHMpe3IubGV2ZWw9ZSxyLnJvdz10LHIuY29sPWk7Y29uc3QgbD10aGlzLmxheWVyLnRpbGVJbmZvO2wudXBkYXRlVGlsZUluZm8ocik7Y29uc3Qgbz10aGlzLmZldGNoQXZhaWxhYmlsaXR5KGUsdCxpLHMpLmNhdGNoKChlPT57aWYoaChlKSl0aHJvdyBlO2lmKGwudXBzYW1wbGVUaWxlKHIpKXJldHVybiB0aGlzLmZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGUoci5sZXZlbCxyLnJvdyxyLmNvbCxyLHMpO3Rocm93IGV9KSk7cmV0dXJuIHRoaXMuX2ZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGVQcmVmZXRjaChyLmlkLGUsdCxpLHMsbyksb31hc3luYyBfZmV0Y2hBdmFpbGFiaWxpdHlVcHNhbXBsZVByZWZldGNoKGUsdCxpLHIscyxvKXtpZighdGhpcy5fcHJlZmV0Y2hpbmdFbmFibGVkfHxudWxsPT1lKXJldHVybjtjb25zdCBhPWBwcmVmZXRjaC0ke2V9YDtpZih0aGlzLmhhc0hhbmRsZXMoYSkpcmV0dXJuO2NvbnN0IG49bmV3IEFib3J0Q29udHJvbGxlcjtvLnRoZW4oKCgpPT5uLmFib3J0KCkpLCgoKT0+bi5hYm9ydCgpKSk7bGV0IGM9ITE7Y29uc3QgaD1sKCgoKT0+e2N8fChjPSEwLG4uYWJvcnQoKSl9KSk7aWYodGhpcy5hZGRIYW5kbGVzKGgsYSksYXdhaXQgdSgxMCxuLnNpZ25hbCkuY2F0Y2goKCgpPT57fSkpLGN8fChjPSEwLHRoaXMucmVtb3ZlSGFuZGxlcyhhKSkscChuKSlyZXR1cm47Y29uc3QgbT1uZXcgXyhlLHQsaSxyKSxmPXsuLi5zLHNpZ25hbDpuLnNpZ25hbH0sdj10aGlzLmxheWVyLnRpbGVJbmZvO2ZvcihsZXQgbD0wO3cuX3ByZWZldGNoZXMubGVuZ3RoPHcuX21heFByZWZldGNoJiZ2LnVwc2FtcGxlVGlsZShtKTsrK2wpe2NvbnN0IGU9dGhpcy5mZXRjaEF2YWlsYWJpbGl0eShtLmxldmVsLG0ucm93LG0uY29sLGYpO3cuX3ByZWZldGNoZXMucHVzaChlKTtjb25zdCB0PSgpPT57dy5fcHJlZmV0Y2hlcy5yZW1vdmVVbm9yZGVyZWQoZSl9O2UudGhlbih0LHQpfX1faW5pdGlhbGl6ZVRpbGVtYXBEZWZpbml0aW9uKCl7aWYoIXRoaXMubGF5ZXIucGFyc2VkVXJsKXJldHVybjtjb25zdHtwYXJzZWRVcmw6ZSxhcGlLZXk6dCxjdXN0b21QYXJhbWV0ZXJzOml9PXRoaXMubGF5ZXI7dGhpcy5fdGlsZW1hcENhY2hlLmNsZWFyKCksdGhpcy5fdG1wVGlsZW1hcERlZmluaXRpb249e3NlcnZpY2U6e3VybDplLnBhdGgscXVlcnk6dih7Li4uZS5xdWVyeSwuLi5pLHRva2VuOnQ/P2UucXVlcnk/LnRva2VufSksdGlsZVNlcnZlcnM6dGhpcy5sYXllci50aWxlU2VydmVycyxyZXF1ZXN0OnRoaXMucmVxdWVzdH0sd2lkdGg6dGhpcy5zaXplLGhlaWdodDp0aGlzLnNpemUsbGV2ZWw6MCxyb3c6MCxjb2w6MH19X3RpbGVtYXBGcm9tQ2FjaGUoZSx0LGkscil7ci5sZXZlbD1lLHIucm93PXQtdCV0aGlzLnNpemUsci5jb2w9aS1pJXRoaXMuc2l6ZTtjb25zdCBzPWIocik7cmV0dXJuIHRoaXMuX3RpbGVtYXBDYWNoZS5nZXQocyl9Z2V0IHRlc3QoKXtjb25zdCBlPXRoaXM7cmV0dXJue2dldCBwcmVmZXRjaGluZ0VuYWJsZWQoKXtyZXR1cm4gZS5fcHJlZmV0Y2hpbmdFbmFibGVkfSxzZXQgcHJlZmV0Y2hpbmdFbmFibGVkKHQpe2UuX3ByZWZldGNoaW5nRW5hYmxlZD10fSxoYXNUaWxlbWFwOih0LGkscik9PiEhZS5fdGlsZW1hcEZyb21DYWNoZSh0LGkscixlLl90bXBUaWxlbWFwRGVmaW5pdGlvbil9fX07VC5fbWF4UHJlZmV0Y2g9NCxULl9wcmVmZXRjaGVzPW5ldyBhKHtpbml0aWFsU2l6ZTp3Ll9tYXhQcmVmZXRjaH0pLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbeSh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcIm1pbkxPRFwiLHZvaWQgMCksZShbeSh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcIm1heExPRFwiLHZvaWQgMCksZShbeSh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcInJlcXVlc3RcIix2b2lkIDApLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJzaXplXCIsdm9pZCAwKSxUPXc9ZShbZChcImVzcmkubGF5ZXJzLnN1cHBvcnQuVGlsZW1hcENhY2hlXCIpXSxUKTtleHBvcnR7VCBhcyBUaWxlbWFwQ2FjaGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e29uQWJvcnQgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBsfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzYW5pdGl6ZVVybCBhcyBtfWZyb21cIi4uL2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e3VybCBhcyBmfWZyb21cIi4uL2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi9EaW1lbnNpb25hbERlZmluaXRpb24uanNcIjtpbXBvcnQgaCBmcm9tXCIuLi9MT0QuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi9SYXN0ZXJTdG9yYWdlSW5mby5qc1wiO2ltcG9ydCBkIGZyb21cIi4uL1RpbGVJbmZvLmpzXCI7aW1wb3J0e2lzTXVsdGlTbGljZU9yUmFuZ2VEZWZpbml0aW9uIGFzIHgsZ2V0U2xpY2VJbmRleCBhcyB5LGNyZWF0ZVNsaWNlcyBhcyBnLGdldFNsaWNlSWRzIGFzIEl9ZnJvbVwiLi9tdWx0aWRpbWVuc2lvbmFsVXRpbHMuanNcIjtpbXBvcnR7Z2V0UmFzdGVySWQgYXMgUixnZXRCbG9jayBhcyB3LHB1dEJsb2NrIGFzIFMsZGVsZXRlQmxvY2sgYXMgayxkZWNyZWFzZVJlZkNvdW50IGFzIFR9ZnJvbVwiLi9SYXdCbG9ja0NhY2hlLmpzXCI7aW1wb3J0e2NvbnZlcnROb0RhdGFUb01hc2sgYXMgYn1mcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL3BpeGVsUmFuZ2VVdGlscy5qc1wiO2ltcG9ydHtkZWNvZGUgYXMgdn1mcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL1Jhc3RlckNvZGVjLmpzXCI7aW1wb3J0e21vc2FpYyBhcyBQLGFwcHJveGltYXRlVHJhbnNmb3JtIGFzIEIsZ2V0TG9jYWxBcml0aG1ldGljTm9ydGhSb3RhdGlvbnMgYXMgTX1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydHtsb2FkIGFzIF8sZ2V0V29ybGRXaWR0aCBhcyBXLHByb2plY3RQb2ludCBhcyBDLHNuYXBQeXJhbWlkIGFzIGosc2hpZnRFeHRlbnQgYXMgSCxnZXRXb3JsZFdyYXBDb3VudCBhcyB6LHByb2plY3RFeHRlbnQgYXMgTCxnZXRQcm9qZWN0aW9uT2Zmc2V0R3JpZCBhcyBFLGdldFJhc3RlckRhdGFzZXRBbGlnbm1lbnRJbmZvIGFzIEQscHJvamVjdFJlc29sdXRpb24gYXMgRn1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtjb252ZXJ0VG9Mb2NhbERpcmVjdGlvbnMgYXMgTyx1dkNvbXBvbmVudFRvVmVjdG9yIGFzIEF9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3ZlY3RvckZpZWxkVXRpbHMuanNcIjtpbXBvcnQgRyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgcSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IEo9OCxOPTI1NjtsZXQgVj1jbGFzcyBleHRlbmRzKG4obykpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRhdGFzZXROYW1lPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PW51bGwsdGhpcy5oYXNVbmlxdWVTb3VyY2VTdG9yYWdlSW5mbz0hMCx0aGlzLnJhc3RlckluZm89bnVsbCx0aGlzLmlvQ29uZmlnPXtzYW1wbGluZzpcImNsb3Nlc3RcIn19YXN5bmMgaW5pdCgpe2NvbnN0IGU9XygpO3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShlKSxhd2FpdCB0aGlzLndoZW4oKX1ub3JtYWxpemVDdG9yQXJncyhlKXtyZXR1cm4gZT8uaW9Db25maWcmJihlPXsuLi5lLGlvQ29uZmlnOntyZXNvbHV0aW9uOm51bGwsYmFuZElkczpudWxsLHNhbXBsaW5nOlwiY2xvc2VzdFwiLHRpbGVJbmZvOmQuY3JlYXRlKCksLi4uZS5pb0NvbmZpZ319KSxlfWdldCBfaXNHbG9iYWxXcmFwcGFibGVTb3VyY2UoKXtjb25zdHtyYXN0ZXJJbmZvOmV9PXRoaXMsdD1XKGUuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIG51bGwhPXQmJmUuZXh0ZW50LndpZHRoPj10LzJ9Z2V0IF9oYXNOb25lT3JHQ1NTaGlmdFRyYW5zZm9ybSgpe2NvbnN0e3RyYW5zZm9ybTplfT10aGlzLnJhc3RlckluZm87cmV0dXJuIG51bGw9PWV8fFwiZ2NzLXNoaWZ0XCI9PT1lLnR5cGV9c2V0IHJhc3RlckpvYkhhbmRsZXIoZSl7dGhpcy5fc2V0KFwicmFzdGVySm9iSGFuZGxlclwiLGUpLFwiRnVuY3Rpb25cIj09PXRoaXMuZGF0YXNldEZvcm1hdCYmdGhpcy5wcmltYXJ5UmFzdGVycz8ucmFzdGVycz8uZm9yRWFjaCgodD0+dC5yYXN0ZXJKb2JIYW5kbGVyPWUpKX1zZXQgdXJsKGUpe3RoaXMuX3NldChcInVybFwiLG0oZSxyLmdldExvZ2dlcih0aGlzKSkpfWFzeW5jIG9wZW4oZSl7dGhyb3cgbmV3IGkoXCJCYXNlUmFzdGVyOm9wZW4tbm90LWltcGxlbWVudGVkXCIsXCJvcGVuKCkgaXMgbm90IGltcGxlbWVudGVkXCIpfWFzeW5jIGZldGNoVGlsZShlLHQsaSxvPXt9KXtjb25zdCByPW8udGlsZUluZm98fHRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby50aWxlSW5mbyxuPXRoaXMuZ2V0VGlsZUV4dGVudEZyb21UaWxlSW5mbyhlLHQsaSxyKTtyZXR1cm4gdGhpcy5mZXRjaFBpeGVscyhuLHIuc2l6ZVswXSxyLnNpemVbMV0sbyl9YXN5bmMgaWRlbnRpZnkoZSx0PXt9KXtlPWEocSxlKS5jbG9uZSgpLm5vcm1hbGl6ZSgpO2NvbnN0e211bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOmksdGltZUV4dGVudDpvfT10LHtyYXN0ZXJJbmZvOnJ9PXRoaXMse2hhc011bHRpZGltZW5zaW9uYWxUcmFuc3Bvc2U6bixtdWx0aWRpbWVuc2lvbmFsSW5mbzpzfT1yO2xldHt0cmFuc3Bvc2VkVmFyaWFibGVOYW1lOmx9PXQ7Y29uc3QgYz1udWxsIT1zJiZuJiYobnVsbCE9b3x8eChpKSk7aWYoYyYmIWwpe2w9bnVsbCE9aSYmaS5sZW5ndGg+MD9pWzBdLnZhcmlhYmxlTmFtZT8/dm9pZCAwOnMudmFyaWFibGVzWzBdLm5hbWUsdD17Li4udCx0cmFuc3Bvc2VkVmFyaWFibGVOYW1lOmx9fXQ9dGhpcy5fZ2V0UmVxdWVzdE9wdGlvbnNXaXRoU2xpY2VJZCh0KTtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOm0sZXh0ZW50OmZ9PXIse2RhdHVtVHJhbnNmb3JtYXRpb246dX09dDtsZXQgaD1DKGUsbSx1KTtpZighZi5pbnRlcnNlY3RzKGgpKXJldHVybntsb2NhdGlvbjpoLHZhbHVlOm51bGx9O2lmKG51bGwhPXIudHJhbnNmb3JtKXtjb25zdCBlPXIudHJhbnNmb3JtLmludmVyc2VUcmFuc2Zvcm0oaCk7aWYoIXIubmF0aXZlRXh0ZW50LmludGVyc2VjdHMoZSkpcmV0dXJue2xvY2F0aW9uOmUsdmFsdWU6bnVsbH07aD1lfWxldCBwPTA7Y29uc3QgZD1udWxsIT1sJiZudWxsIT1zJiZyLmhhc011bHRpZGltZW5zaW9uYWxUcmFuc3Bvc2U7aWYoXCJGdW5jdGlvblwiPT09dGhpcy5kYXRhc2V0Rm9ybWF0KXtjb25zdCBlPXRoaXMucHJpbWFyeVJhc3RlcnMucmFzdGVyc1swXTtpZihkKXJldHVybiBlLmlkZW50aWZ5KGgsdCk7Y29uc3R7cGl4ZWxTaXplOml9PXIsbz0zLG49aS54Km8vMixzPWkueSpvLzIsbD1uZXcgRyh7eG1pbjpoLngtbix4bWF4OmgueCtuLHltaW46aC55LXMseW1heDpoLnkrcyxzcGF0aWFsUmVmZXJlbmNlOm19KSxhPXtpbnRlcnBvbGF0aW9uOlwibmVhcmVzdFwifSx7cGl4ZWxCbG9jazpjfT1hd2FpdCBlLmZldGNoUGl4ZWxzKGwsbyxvLGEpLHtwaXhlbEJsb2NrOmZ9PWF3YWl0IHRoaXMuZmV0Y2hQaXhlbHMobCxvLG8sYSk7aWYobnVsbD09YylyZXR1cm57bG9jYXRpb246aCx2YWx1ZTpudWxsfTtjb25zdCB1PU1hdGguZmxvb3IobypvKi41KSxwPSFjLm1hc2t8fGMubWFza1t1XT9jLnBpeGVscy5tYXAoKGU9PmVbdV0pKTpudWxsO2xldCB4O3JldHVybiBudWxsIT1mJiYoeD0hZi5tYXNrfHxmLm1hc2tbdV0/Zi5waXhlbHMubWFwKChlPT5lW3VdKSk6dm9pZCAwKSx7bG9jYXRpb246aCx2YWx1ZTpwLHByb2Nlc3NlZFZhbHVlOngscHlyYW1pZExldmVsOjB9fWlmKCFkKWlmKHQuc3JjUmVzb2x1dGlvbil7cD1qKHQuc3JjUmVzb2x1dGlvbixyLHRoaXMuaW9Db25maWcuc2FtcGxpbmcpLnB5cmFtaWRMZXZlbH1lbHNlIGlmKHA9YXdhaXQgdGhpcy5jb21wdXRlQmVzdFB5cmFtaWRMZXZlbEZvckxvY2F0aW9uKGUsdCksbnVsbD09cClyZXR1cm57bG9jYXRpb246aCx2YWx1ZTpudWxsfTtjb25zdCB5PXRoaXMuaWRlbnRpZnlQaXhlbExvY2F0aW9uKGgscCxudWxsLGQpO2lmKG51bGw9PT15KXJldHVybntsb2NhdGlvbjpoLHZhbHVlOm51bGx9O2NvbnN0e3JvdzpnLGNvbDpJLHJvd09mZnNldDprLGNvbE9mZnNldDpULGJsb2NrV2lkdGg6Yn09eSx2PWw/P3Quc2xpY2VJZCxQPVIodGhpcy51cmwsdiksQj1gJHtwfS8ke2d9LyR7SX1gO2xldCBNPXcoUCxudWxsLEIpO251bGw9PU0mJihNPXRoaXMuZmV0Y2hSYXdUaWxlKHAsZyxJLHQpLFMoUCxudWxsLEIsTSkpO2NvbnN0IF89YXdhaXQgTTtpZighXz8ucGl4ZWxzPy5sZW5ndGgpcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3QgVz1rKmIrVDtyZXR1cm4gdGhpcy5fcHJvY2Vzc0lkZW50aWZ5UmVzdWx0KF8se3NyY0xvY2F0aW9uOmgscG9zaXRpb246VyxweXJhbWlkTGV2ZWw6cCx1c2VUcmFuc3Bvc2VkVGlsZTohIWQscmVxdWVzdFNvbWVTbGljZXM6YyxpZGVudGlmeU9wdGlvbnM6dH0pfWFzeW5jIGZldGNoUGl4ZWxzKGUsdCxpLG89e30pe2U9SChlKSxvPXRoaXMuX2dldFJlcXVlc3RPcHRpb25zV2l0aFNsaWNlSWQobyk7Y29uc3R7X2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtOnJ9PXRoaXM7aWYoby5yZXF1ZXN0UmF3RGF0YSYmcilyZXR1cm4gdGhpcy5fZmV0Y2hQaXhlbHMoZSx0LGksbyk7Y29uc3Qgbj1XKGUuc3BhdGlhbFJlZmVyZW5jZSkscz16KGUpO2lmKG51bGw9PW58fDA9PT1zfHwxPT09cyYmdGhpcy5faXNHbG9iYWxXcmFwcGFibGVTb3VyY2UmJnIpcmV0dXJuIHRoaXMuX2ZldGNoUGl4ZWxzKGUsdCxpLG8pO2lmKHM+PTMpcmV0dXJue2V4dGVudDplLHBpeGVsQmxvY2s6bnVsbH07Y29uc3QgbD1bXSx7eG1pbjphLHhtYXg6Y309ZSxtPU1hdGgucm91bmQobi8oYy1hKSp0KSxmPW0tTWF0aC5yb3VuZCgobi8yLWEpLyhjLWEpKnQpO2xldCB1PTA7Y29uc3QgaD1bXTtmb3IobGV0IHk9MDt5PD1zO3krKyl7Y29uc3Qgcj1uZXcgRyh7eG1pbjowPT09eT9hOi1uLzIseG1heDp5PT09cz9jLW4qeTpuLzIseW1pbjplLnltaW4seW1heDplLnltYXgsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KSxwPTA9PT15P20tZjp5PT09cz90LXU6bTt1Kz1wLGgucHVzaChwKTtjb25zdCBkPW8uZGlzYWJsZVdyYXBBcm91bmQmJnk+MD9udWxsOnRoaXMuX2ZldGNoUGl4ZWxzKHIscCxpLG8pO2wucHVzaChkKX1jb25zdCBwPShhd2FpdCBQcm9taXNlLmFsbChsKSkubWFwKChlPT5lPy5waXhlbEJsb2NrKSk7bGV0IGQ9bnVsbDtjb25zdCB4PXt3aWR0aDp0LGhlaWdodDppfTtpZih0aGlzLnJhc3RlckpvYkhhbmRsZXIpe2Q9KGF3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5tb3NhaWNBbmRUcmFuc2Zvcm0oe3NyY1BpeGVsQmxvY2tzOnAsc3JjTW9zYWljU2l6ZTp4LGRlc3REaW1lbnNpb246bnVsbCxjb2VmczpudWxsLHNhbXBsZVNwYWNpbmc6bnVsbCxpbnRlcnBvbGF0aW9uOlwibmVhcmVzdFwiLGFsaWdubWVudEluZm86bnVsbCxibG9ja1dpZHRoczpofSxvKSkucGl4ZWxCbG9ja31lbHNlIGQ9UChwLHgse2Jsb2NrV2lkdGhzOmh9KTtyZXR1cm57ZXh0ZW50OmUsc3JjRXh0ZW50OkwoZSx0aGlzLnJhc3RlckluZm8uc3BhdGlhbFJlZmVyZW5jZSxvLmRhdHVtVHJhbnNmb3JtYXRpb24pLHBpeGVsQmxvY2s6ZH19YXN5bmMgZmV0Y2hSYXdQaXhlbHMoZSx0LGksbz17fSl7dD17eDpNYXRoLmZsb29yKHQueCkseTpNYXRoLmZsb29yKHQueSl9O2NvbnN0IHI9YXdhaXQgdGhpcy5fZmV0Y2hSYXdUaWxlcyhlLHQsaSxvKSx7bmF0aXZlRXh0ZW50Om4sbmF0aXZlUGl4ZWxTaXplOnMsc3RvcmFnZUluZm86bH09dGhpcy5yYXN0ZXJJbmZvLGE9MioqZSxjPXMueCphLG09cy55KmEsZj1uZXcgRyh7eG1pbjpuLnhtaW4rYyp0LngseG1heDpuLnhtaW4rYyoodC54K2kud2lkdGgtMSkseW1pbjpuLnltYXgtbSoodC55K2kuaGVpZ2h0LTEpLHltYXg6bi55bWF4LW0qdC55LHNwYXRpYWxSZWZlcmVuY2U6bi5zcGF0aWFsUmVmZXJlbmNlfSk7aWYoIXIpcmV0dXJue2V4dGVudDpmLHNyY0V4dGVudDpmLHBpeGVsQmxvY2s6bnVsbH07Y29uc3R7cGl4ZWxCbG9ja3M6dSxtb3NhaWNTaXplOmh9PXI7aWYoMT09PXUubGVuZ3RoJiZudWxsIT11WzBdJiZ1WzBdLndpZHRoPT09aS53aWR0aCYmdVswXS5oZWlnaHQ9PT1pLmhlaWdodClyZXR1cm57ZXh0ZW50OmYsc3JjRXh0ZW50OmYscGl4ZWxCbG9jazpyLnBpeGVsQmxvY2tzWzBdfTtjb25zdCBwPWU+MD9sLnB5cmFtaWRCbG9ja1dpZHRoOmwuYmxvY2tXaWR0aCxkPWU+MD9sLnB5cmFtaWRCbG9ja0hlaWdodDpsLmJsb2NrSGVpZ2h0LHg9e3g6dC54JXAseTp0LnklZH07bGV0IHk7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXt5PShhd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIubW9zYWljQW5kVHJhbnNmb3JtKHtzcmNQaXhlbEJsb2Nrczp1LHNyY01vc2FpY1NpemU6aCxkZXN0RGltZW5zaW9uOmksY2xpcE9mZnNldDp4LGNsaXBTaXplOmksY29lZnM6bnVsbCxzYW1wbGVTcGFjaW5nOm51bGwsaW50ZXJwb2xhdGlvbjpvLmludGVycG9sYXRpb24sYWxpZ25tZW50SW5mbzpudWxsLGJsb2NrV2lkdGhzOm51bGx9LG8pKS5waXhlbEJsb2NrfWVsc2UgeT1QKHUsaCx7Y2xpcE9mZnNldDp4LGNsaXBTaXplOml9KTtyZXR1cm57ZXh0ZW50OmYsc3JjRXh0ZW50OmYscGl4ZWxCbG9jazp5fX1mZXRjaFJhd1RpbGUoZSx0LG8scil7dGhyb3cgbmV3IGkoXCJCYXNlUmFzdGVyOnJlYWQtbm90LWltcGxlbWVudGVkXCIsXCJmZXRjaFJhd1RpbGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9Y29tcHV0ZUV4dGVudChlKXtyZXR1cm4gTCh0aGlzLnJhc3RlckluZm8uZXh0ZW50LGUpfWRlY29kZVBpeGVsQmxvY2soZSx0KXtyZXR1cm4hdGhpcy5yYXN0ZXJKb2JIYW5kbGVyfHx0LnVzZUNhbnZhcz92KGUsdCk6dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLmRlY29kZSh7ZGF0YTplLG9wdGlvbnM6dH0pfWFzeW5jIHJlcXVlc3QoZSxpLG89MCl7Y29uc3R7Y3VzdG9tRmV0Y2hQYXJhbWV0ZXJzOnJ9PXRoaXMuaW9Db25maWcse3JhbmdlOm4scXVlcnk6cyxoZWFkZXJzOmx9PWk7bz1vPz9pLnJldHJ5Q291bnQ/P3RoaXMuaW9Db25maWcucmV0cnlDb3VudDtjb25zdCBhPW4/e1JhbmdlOmBieXRlcz0ke24uZnJvbX0tJHtuLnRvfWB9Om51bGw7dHJ5e3JldHVybiBhd2FpdCB0KGUsey4uLmkscXVlcnk6ey4uLnMsLi4ucn0saGVhZGVyczp7Li4ubCwuLi5hfX0pfWNhdGNoKGMpe2lmKG8+MClyZXR1cm4gby0tLHRoaXMucmVxdWVzdChlLGksbyk7dGhyb3cgY319Z2V0U2xpY2VJbmRleChlKXtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzp0fT10aGlzLnJhc3RlckluZm87cmV0dXJuIG51bGw9PXR8fG51bGw9PWV8fDA9PT1lLmxlbmd0aD9udWxsOnkoZSx0KX1nZXRUaWxlRXh0ZW50RnJvbVRpbGVJbmZvKGUsdCxpLG8pe2NvbnN0IHI9by5sb2RBdChlKTtyZXR1cm4gdGhpcy5nZXRUaWxlRXh0ZW50KHt4OnIucmVzb2x1dGlvbix5OnIucmVzb2x1dGlvbn0sdCxpLG8ub3JpZ2luLG8uc3BhdGlhbFJlZmVyZW5jZSxvLnNpemUpfXVwZGF0ZVRpbGVJbmZvKCl7Y29uc3R7c3RvcmFnZUluZm86ZSxzcGF0aWFsUmVmZXJlbmNlOnQsZXh0ZW50OmkscGl4ZWxTaXplOm99PXRoaXMucmFzdGVySW5mbztpZighZS50aWxlSW5mbyl7Y29uc3Qgcj1bXSxuPWUubWF4aW11bVB5cmFtaWRMZXZlbHx8MDtsZXQgcz1NYXRoLm1heChvLngsby55KSxsPTEvLjAyNTQqOTYqcztmb3IobGV0IGU9MDtlPD1uO2UrKylyLnVuc2hpZnQobmV3IGgoe2xldmVsOm4tZSxyZXNvbHV0aW9uOnMsc2NhbGU6bH0pKSxzKj0yLGwqPTI7Y29uc3QgYT1uZXcgcSh7eDppLnhtaW4seTppLnltYXgsc3BhdGlhbFJlZmVyZW5jZTp0fSk7ZS50aWxlSW5mbz1uZXcgZCh7b3JpZ2luOmEsc2l6ZTpbZS5ibG9ja1dpZHRoLGUuYmxvY2tIZWlnaHRdLHNwYXRpYWxSZWZlcmVuY2U6dCxsb2RzOnJ9KSxlLmlzVmlydHVhbFRpbGVJbmZvPSEwfX1jcmVhdGVSZW1vdGVEYXRhc2V0U3RvcmFnZUluZm8oZSx0PTUxMixpPTUxMixvKXtjb25zdHt3aWR0aDpyLGhlaWdodDpuLG5hdGl2ZUV4dGVudDpzLHBpeGVsU2l6ZTpsLHNwYXRpYWxSZWZlcmVuY2U6YX09ZSxjPW5ldyBxKHt4OnMueG1pbix5OnMueW1heCxzcGF0aWFsUmVmZXJlbmNlOmF9KTtudWxsPT1vJiYobz1NYXRoLm1heCgwLE1hdGgucm91bmQoTWF0aC5sb2coTWF0aC5tYXgocixuKSkvTWF0aC5MTjItOCkpKTtjb25zdCBtPXRoaXMuY29tcHV0ZUJsb2NrQm91bmRhcnkocyw1MTIsNTEyLHt4OnMueG1pbix5OnMueW1heH0sW2xdLG8pO2Uuc3RvcmFnZUluZm89bmV3IHAoe2Jsb2NrV2lkdGg6dCxibG9ja0hlaWdodDppLHB5cmFtaWRCbG9ja1dpZHRoOnQscHlyYW1pZEJsb2NrSGVpZ2h0Omksb3JpZ2luOmMsZmlyc3RQeXJhbWlkTGV2ZWw6MSxtYXhpbXVtUHlyYW1pZExldmVsOm8sYmxvY2tCb3VuZGFyeTptfSl9YXN5bmMgY29tcHV0ZUJlc3RQeXJhbWlkTGV2ZWxGb3JMb2NhdGlvbihlLHQ9e30pe3JldHVybiAwfWNvbXB1dGVCbG9ja0JvdW5kYXJ5KGUsdCxpLG8scixuPTAscz0yKXtpZigxPT09ci5sZW5ndGgmJm4+MCl7cj1bLi4ucl07bGV0e3g6ZSx5OnR9PXJbMF07Zm9yKGxldCBpPTA7aTxuO2krKyllKj1zLHQqPXMsci5wdXNoKHt4OmUseTp0fSl9Y29uc3QgbD1bXSx7eDphLHk6Y309bztmb3IobGV0IG09MDttPHIubGVuZ3RoO20rKyl7Y29uc3R7eDpvLHk6bn09clttXTtsLnB1c2goe21pbkNvbDpNYXRoLmZsb29yKChlLnhtaW4tYSsuMSpvKS90L28pLG1heENvbDpNYXRoLmZsb29yKChlLnhtYXgtYS0uMSpvKS90L28pLG1pblJvdzpNYXRoLmZsb29yKChjLWUueW1heCsuMSpuKS9pL24pLG1heFJvdzpNYXRoLmZsb29yKChjLWUueW1pbi0uMSpuKS9pL24pfSl9cmV0dXJuIGx9Z2V0UHlyYW1pZFBpeGVsU2l6ZShlKXtjb25zdHtuYXRpdmVQaXhlbFNpemU6dH09dGhpcy5yYXN0ZXJJbmZvLHtweXJhbWlkUmVzb2x1dGlvbnM6aSxweXJhbWlkU2NhbGluZ0ZhY3RvcjpvfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87aWYoMD09PWUpcmV0dXJuIHQ7aWYobnVsbCE9aSYmaS5sZW5ndGgpcmV0dXJuIGlbZS0xXTtjb25zdCByPW8qKmU7cmV0dXJue3g6dC54KnIseTp0Lnkqcn19aWRlbnRpZnlQaXhlbExvY2F0aW9uKGUsdCxpLG8pe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6cixuYXRpdmVFeHRlbnQ6bixzdG9yYWdlSW5mbzpzfT10aGlzLnJhc3RlckluZm8se21heGltdW1QeXJhbWlkTGV2ZWw6bCxvcmlnaW46YSx0cmFuc3Bvc2VJbmZvOmN9PXMsbT1vJiZudWxsIT1jP2MudGlsZVNpemVbMF06cy5ibG9ja1dpZHRoLGY9byYmbnVsbCE9Yz9jLnRpbGVTaXplWzFdOnMuYmxvY2tIZWlnaHQsdT1DKGUscixpKTtpZighbi5pbnRlcnNlY3RzKHUpKXJldHVybiBudWxsO2lmKHQ8MHx8dD5sKXJldHVybiBudWxsO2NvbnN0IGg9dGhpcy5nZXRQeXJhbWlkUGl4ZWxTaXplKHQpLHt4OnAseTpkfT1oLHg9KGEueS11LnkpL2QvZix5PSh1LngtYS54KS9wL20sZz1NYXRoLm1pbihmLTEsTWF0aC5mbG9vcigoeC1NYXRoLmZsb29yKHgpKSpmKSksST1NYXRoLm1pbihtLTEsTWF0aC5mbG9vcigoeS1NYXRoLmZsb29yKHkpKSptKSk7cmV0dXJue3B5cmFtaWRMZXZlbDp0LHJvdzpNYXRoLmZsb29yKHgpLGNvbDpNYXRoLmZsb29yKHkpLHJvd09mZnNldDpnLGNvbE9mZnNldDpJLGJsb2NrV2lkdGg6bSxzcmNMb2NhdGlvbjp1fX1nZXRUaWxlRXh0ZW50KGUsdCxpLG8scixuKXtjb25zdFtzLGxdPW4sYT1vLngraSpzKmUueCxjPWErcyplLngsbT1vLnktdCpsKmUueSxmPW0tbCplLnk7cmV0dXJuIG5ldyBHKHt4bWluOmEseG1heDpjLHltaW46Zix5bWF4Om0sc3BhdGlhbFJlZmVyZW5jZTpyfSl9Z2V0QmxvY2tXaWR0aEhlaWdodChlKXtyZXR1cm57YmxvY2tXaWR0aDplPjA/dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnB5cmFtaWRCbG9ja1dpZHRoOnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja1dpZHRoLGJsb2NrSGVpZ2h0OmU+MD90aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ucHlyYW1pZEJsb2NrSGVpZ2h0OnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0hlaWdodH19aXNCbG9ja091dHNpZGUoZSx0LGkpe2NvbnN0IG89dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnlbZV07cmV0dXJuIW98fG8ubWF4Um93PHR8fG8ubWF4Q29sPGl8fG8ubWluUm93PnR8fG8ubWluQ29sPml9YXN5bmMgX2ZldGNoUGl4ZWxzKGUsdCxpLG89e30pe2xldCByPXooZSk7aWYocj49MilyZXR1cm57ZXh0ZW50OmUscGl4ZWxCbG9jazpudWxsfTtjb25zdCBuPXRoaXMuX2dldFNvdXJjZURhdGFJbmZvKGUsdCxpLG8pLHtweXJhbWlkTGV2ZWw6cyxzcmNSZXNvbHV0aW9uOmwsc3JjRXh0ZW50OmEsc3JjV2lkdGg6YyxzcmNIZWlnaHQ6bSx1bDpmfT1uO2lmKDA9PT1jfHwwPT09bSlyZXR1cm57ZXh0ZW50OmUsc3JjRXh0ZW50OmEscGl4ZWxCbG9jazpudWxsfTtjb25zdHtyYXN0ZXJJbmZvOnV9PXRoaXMsaD11LnRyYW5zZm9ybSxwPVwiZ2NzLXNoaWZ0XCI9PT1oPy50eXBlLGQ9bnVsbCE9VyhlLnNwYXRpYWxSZWZlcmVuY2UpOyFwJiZkfHwocj16KG4uc3JjRXh0ZW50LHApKTtjb25zdCB4PWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlsZXMocyxmLHt3aWR0aDpjLGhlaWdodDptLHdyYXBDb3VudDpyfSxvKTtpZigheClyZXR1cm57ZXh0ZW50OmUsc3JjRXh0ZW50OmEscGl4ZWxCbG9jazpudWxsfTtjb25zdCB5PXUuc3RvcmFnZUluZm8sZz1zPjA/eS5weXJhbWlkQmxvY2tXaWR0aDp5LmJsb2NrV2lkdGgsST1zPjA/eS5weXJhbWlkQmxvY2tIZWlnaHQ6eS5ibG9ja0hlaWdodDtsZXR7eDpSLHk6d309dS5waXhlbFNpemU7aWYocz4wKXtjb25zdHtweXJhbWlkUmVzb2x1dGlvbnM6ZSxweXJhbWlkU2NhbGluZ0ZhY3Rvcjp0fT15O2lmKG51bGwhPWUmJmVbcy0xXSkoe3g6Uix5Ond9PWVbcy0xXSk7ZWxzZXtjb25zdCBlPXQqKnM7Uio9ZSx3Kj1lfX1jb25zdCBTPXUuc3BhdGlhbFJlZmVyZW5jZSxrPW5ldyBxKHt4OlIseTp3LHNwYXRpYWxSZWZlcmVuY2U6U30pLFQ9Zz09PWMmJkk9PT1tJiZmLnglZz09MCYmZi55JUk9PTAsYj1uZXcgcSh7eDooZS54bWF4LWUueG1pbikvdCx5OihlLnltYXgtZS55bWluKS9pLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSksdj0hZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhTKSxDPVMuaXNHZW9ncmFwaGljPzFlLTk6MWUtNCx7ZGF0dW1UcmFuc2Zvcm1hdGlvbjpqfT1vO2lmKCF2JiZUJiYxPT09eC5waXhlbEJsb2Nrcy5sZW5ndGgmJmc9PT10JiZJPT09aSYmdGhpcy5faXNTYW1lUmVzb2x1dGlvbihsLGIsQykpcmV0dXJue2V4dGVudDplLHNyY0V4dGVudDphLHNyY1RpbGVQaXhlbFNpemU6ayxwaXhlbEJsb2NrOngucGl4ZWxCbG9ja3NbMF19O2NvbnN0IEg9ZCYmbnVsbCE9VyhhLnNwYXRpYWxSZWZlcmVuY2UpJiZ0aGlzLl9oYXNOb25lT3JHQ1NTaGlmdFRyYW5zZm9ybSxMPW8ucmVxdWVzdFByb2plY3RlZExvY2FsRGlyZWN0aW9ucyYmdGhpcy5yYXN0ZXJJbmZvLmRhdGFUeXBlLnN0YXJ0c1dpdGgoXCJ2ZWN0b3JcIik7TCYmIXRoaXMucmFzdGVySm9iSGFuZGxlciYmYXdhaXQgXygpO2NvbnN0IEQ9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP2F3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5nZXRQcm9qZWN0aW9uT2Zmc2V0R3JpZCh7cHJvamVjdGVkRXh0ZW50OmUsc3JjQnVmZmVyRXh0ZW50OnguZXh0ZW50LHBpeGVsU2l6ZTpiLnRvSlNPTigpLGRhdHVtVHJhbnNmb3JtYXRpb246aixyYXN0ZXJUcmFuc2Zvcm06aCxoYXNXcmFwQXJvdW5kOnI+MHx8SCxpc0FkYXB0aXZlOiExIT09dGhpcy5pb0NvbmZpZy5vcHRpbWl6ZVByb2plY3Rpb25BY2N1cmFjeSxpbmNsdWRlR0NTR3JpZDpMfSxvKTpFKHtwcm9qZWN0ZWRFeHRlbnQ6ZSxzcmNCdWZmZXJFeHRlbnQ6eC5leHRlbnQscGl4ZWxTaXplOmIsZGF0dW1UcmFuc2Zvcm1hdGlvbjpqLHJhc3RlclRyYW5zZm9ybTpoLGhhc1dyYXBBcm91bmQ6cj4wfHxILGlzQWRhcHRpdmU6ITEsaW5jbHVkZUdDU0dyaWQ6TH0pO2xldCBGO2NvbnN0IEE9IW8ucmVxdWVzdFJhd0RhdGEsRz17cm93czpELnNwYWNpbmdbMF0sY29sczpELnNwYWNpbmdbMV19LEo9dGhpcy5faGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm0/dGhpcy5fZ2V0UmFzdGVyVGlsZUFsaWdubWVudEluZm8ocyx4LmV4dGVudC54bWluKTp2b2lkIDAse3BpeGVsQmxvY2tzOk4sbW9zYWljU2l6ZTpWLGlzUGFydGlhbGx5RmlsbGVkOlV9PXg7bGV0ICQ9bnVsbDtpZih0aGlzLnJhc3RlckpvYkhhbmRsZXIpe2NvbnN0IGU9YXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6TixzcmNNb3NhaWNTaXplOlYsZGVzdERpbWVuc2lvbjpBP3t3aWR0aDp0LGhlaWdodDppfTpudWxsLGNvZWZzOkE/RC5jb2VmZmljaWVudHM6bnVsbCxzYW1wbGVTcGFjaW5nOkE/RzpudWxsLHByb2plY3REaXJlY3Rpb25zOkwsZ2NzR3JpZDpMP0QuZ2NzR3JpZDpudWxsLGlzVVY6XCJ2ZWN0b3ItdXZcIj09PXRoaXMucmFzdGVySW5mby5kYXRhVHlwZSxpbnRlcnBvbGF0aW9uOm8uaW50ZXJwb2xhdGlvbixhbGlnbm1lbnRJbmZvOkosYmxvY2tXaWR0aHM6bnVsbH0sbyk7KHtwaXhlbEJsb2NrOkYsbG9jYWxOb3J0aERpcmVjdGlvbnM6JH09ZSl9ZWxzZXtjb25zdCBlPVAoTixWLHthbGlnbm1lbnRJbmZvOkp9KTtGPUE/QihlLHt3aWR0aDp0LGhlaWdodDppfSxELmNvZWZmaWNpZW50cyxHLG8uaW50ZXJwb2xhdGlvbik6ZSxMJiZELmdjc0dyaWQmJigkPU0oe3dpZHRoOnQsaGVpZ2h0Oml9LEQuZ2NzR3JpZCksRj1PKEYsdGhpcy5yYXN0ZXJJbmZvLmRhdGFUeXBlLCQpKX1yZXR1cm4gby5yZXF1ZXN0UmF3RGF0YXx8TD97ZXh0ZW50OmUsc3JjRXh0ZW50OmEsc3JjVGlsZVBpeGVsU2l6ZTprLHBpeGVsQmxvY2s6Rix0cmFuc2Zvcm1HcmlkOkQsbG9jYWxOb3J0aERpcmVjdGlvbnM6JCxpc1BhcnRpYWxseUZpbGxlZDpVfTp7ZXh0ZW50OmUsc3JjRXh0ZW50OmEsc3JjVGlsZVBpeGVsU2l6ZTprLHBpeGVsQmxvY2s6Rn19YXN5bmMgX2ZldGNoUmF3VGlsZXMoZSx0LGksbyl7Y29uc3R7b3JpZ2luOnIsYmxvY2tCb3VuZGFyeTpufT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se2Jsb2NrV2lkdGg6cyxibG9ja0hlaWdodDpsfT10aGlzLmdldEJsb2NrV2lkdGhIZWlnaHQoZSk7bGV0e3g6YSx5OmN9PXQse3dpZHRoOm0saGVpZ2h0OmYsd3JhcENvdW50OnV9PWk7Y29uc3QgaD10aGlzLl9nZXRSYXN0ZXJUaWxlQWxpZ25tZW50SW5mbyhlLDApO28uYnVmZmVyJiYoYS09by5idWZmZXIuY29scyxjLT1vLmJ1ZmZlci5yb3dzLG0rPTIqby5idWZmZXIuY29scyxmKz0yKm8uYnVmZmVyLnJvd3MpO2xldCBwPTAsZD0wLHg9MDtpZih1JiZudWxsIT1oKXsoe3dvcmxkQ29sdW1uQ291bnRGcm9tT3JpZ2luOmQsb3JpZ2luQ29sdW1uT2Zmc2V0OngscmlnaHRQYWRkaW5nOnB9PWgpO2QqaC5ibG9ja1dpZHRoLXA+PWErbSYmKHA9MCl9Y29uc3QgeT1NYXRoLmZsb29yKGEvcyksZz1NYXRoLmZsb29yKGMvbCksST1NYXRoLmZsb29yKChhK20rcC0xKS9zKSxSPU1hdGguZmxvb3IoKGMrZitwLTEpL2wpLHc9bltlXTtpZighdylyZXR1cm4gbnVsbDtjb25zdHttaW5Sb3c6UyxtaW5Db2w6ayxtYXhDb2w6VCxtYXhSb3c6Yn09dztpZigwPT09dSYmKFI8U3x8STxrfHxnPmJ8fHk+VCkpcmV0dXJuIG51bGw7Y29uc3Qgdj1uZXcgQXJyYXk7bGV0IFA9ITE7Y29uc3QgQj1udWxsPT10aGlzLmlvQ29uZmlnLmFsbG93UGFydGlhbEZpbGw/by5hbGxvd1BhcnRpYWxGaWxsOnRoaXMuaW9Db25maWcuYWxsb3dQYXJ0aWFsRmlsbDtmb3IobGV0IHo9Zzt6PD1SO3orKylmb3IobGV0IHQ9eTt0PD1JO3QrKyl7bGV0IGk9dDtpZighby5kaXNhYmxlV3JhcEFyb3VuZCYmdSYmbnVsbCE9aCYmZDw9dCYmKGk9dC1kLXgpLHo+PVMmJmk+PWsmJmI+PXomJlQ+PWkpe2NvbnN0IHQ9dGhpcy5fZmV0Y2hSYXdUaWxlKGUseixpLG8pO0I/di5wdXNoKG5ldyBQcm9taXNlKChlPT57dC50aGVuKCh0PT5lKHQpKSkuY2F0Y2goKCgpPT57UD0hMCxlKG51bGwpfSkpfSkpKTp2LnB1c2godCl9ZWxzZSB2LnB1c2goUHJvbWlzZS5yZXNvbHZlKG51bGwpKX1pZigwPT09di5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgTT1hd2FpdCBQcm9taXNlLmFsbCh2KSxfPXtoZWlnaHQ6KFItZysxKSpsLHdpZHRoOihJLXkrMSkqc30se3NwYXRpYWxSZWZlcmVuY2U6V309dGhpcy5yYXN0ZXJJbmZvLEM9dGhpcy5nZXRQeXJhbWlkUGl4ZWxTaXplKGUpLHt4OmoseTpIfT1DO3JldHVybntleHRlbnQ6bmV3IEcoe3htaW46ci54K3kqcypqLHhtYXg6ci54KyhJKzEpKnMqaix5bWluOnIueS0oUisxKSpsKkgseW1heDpyLnktZypsKkgsc3BhdGlhbFJlZmVyZW5jZTpXfSkscGl4ZWxCbG9ja3M6TSxtb3NhaWNTaXplOl8saXNQYXJ0aWFsbHlGaWxsZWQ6UH19X2lzU2FtZVJlc29sdXRpb24oZSx0LGkpe3JldHVybiBNYXRoLmFicyhlLngtdC54KTxpJiZNYXRoLmFicyhlLnktdC55KTxpfV9mZXRjaFJhd1RpbGUoZSx0LGksbyl7Y29uc3Qgcj10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tCb3VuZGFyeVtlXTtpZighcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO2NvbnN0e21pblJvdzpuLG1pbkNvbDpsLG1heENvbDphLG1heFJvdzpjfT1yO2lmKHQ8bnx8aTxsfHx0PmN8fGk+YSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO2NvbnN0IG09Uih0aGlzLnVybCxvLnNsaWNlSWQpLGY9YCR7ZX0vJHt0fS8ke2l9YDtsZXQgdT13KG0sby5yZWdpc3RyeUlkLGYpO2lmKG51bGw9PXUpe2NvbnN0IHI9bmV3IEFib3J0Q29udHJvbGxlcjt1PXRoaXMuZmV0Y2hSYXdUaWxlKGUsdCxpLHsuLi5vLHNpZ25hbDpyLnNpZ25hbH0pLFMobSxvLnJlZ2lzdHJ5SWQsZix1LHIpLHUuY2F0Y2goKCgpPT5rKG0sby5yZWdpc3RyeUlkLGYpKSl9cmV0dXJuIG8uc2lnbmFsJiZzKG8sKCgpPT57VChtLG8ucmVnaXN0cnlJZCxmKX0pKSx1fV9jb21wdXRlTWFnRGlyVmFsdWVzKGUpe2NvbnN0e2JhbmRDb3VudDp0LGRhdGFUeXBlOml9PXRoaXMucmFzdGVySW5mbztpZighKDI9PT10JiZcInZlY3Rvci1tYWdkaXJcIj09PWl8fFwidmVjdG9yLXV2XCI9PT1pKXx8MiE9PWU/Lmxlbmd0aHx8IWVbMF0/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBvPWVbMF0ubGVuZ3RoO2lmKFwidmVjdG9yLW1hZ2RpclwiPT09aSl7Y29uc3QgdD1lWzFdLm1hcCgoZT0+KGUrMzYwKSUzNjApKTtyZXR1cm5bZVswXSx0XX1jb25zdFtyLG5dPWUscz1bXSxsPVtdO2ZvcihsZXQgYT0wO2E8bzthKyspe2NvbnN0W2UsdF09QShbclthXSxuW2FdXSk7cy5wdXNoKGUpLGwucHVzaCh0KX1yZXR1cm5bcyxsXX1fZ2V0UmFzdGVyVGlsZUFsaWdubWVudEluZm8oZSx0KXtyZXR1cm4gbnVsbD09dGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm8mJih0aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mbz1EKHRoaXMucmFzdGVySW5mbykpLG51bGw9PXRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvLnB5cmFtaWRzSW5mbz9udWxsOntzdGFydFg6dCxoYWxmV29ybGRXaWR0aDp0aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mby5oYWxmV29ybGRXaWR0aCxoYXNHQ1NTU2hpZnRUcmFuc2Zvcm06dGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm8uaGFzR0NTU1NoaWZ0VHJhbnNmb3JtLC4uLnRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvLnB5cmFtaWRzSW5mb1tlXX19X2dldFNvdXJjZURhdGFJbmZvKGUsdCxpLG89e30pe2NvbnN0IHI9e2RhdHVtVHJhbnNmb3JtYXRpb246by5kYXR1bVRyYW5zZm9ybWF0aW9uLHB5cmFtaWRMZXZlbDowLHB5cmFtaWRSZXNvbHV0aW9uOm51bGwsc3JjRXh0ZW50Om51bGwsc3JjSGVpZ2h0OjAsc3JjUmVzb2x1dGlvbjpudWxsLHNyY1dpZHRoOjAsdWw6e3g6MCx5OjB9fTtvLnNyY1Jlc29sdXRpb24mJihyLnNyY1Jlc29sdXRpb249by5zcmNSZXNvbHV0aW9uLHRoaXMuX3VwZGF0ZVNvdXJjZURhdGFJbmZvKGUscikpO2NvbnN0IG49dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWx8fDAse3NyY1dpZHRoOnMsc3JjSGVpZ2h0OmwscHlyYW1pZExldmVsOmF9PXIsYz1zL3QsbT1sL2ksZj1hPG4mJmMqbT49MTYsdT1hPT09biYmdGhpcy5fcmVxdWlyZVRvb01hbnlTcmNUaWxlcyhzLGwsdCxpKTtpZihmfHx1fHwoMD09PXN8fDA9PT1sKSl7Y29uc3Qgcz1uZXcgcSh7eDooZS54bWF4LWUueG1pbikvdCx5OihlLnltYXgtZS55bWluKS9pLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSk7bGV0IGw9RihzLHRoaXMucmFzdGVySW5mby5zcGF0aWFsUmVmZXJlbmNlLGUsci5kYXR1bVRyYW5zZm9ybWF0aW9uKTtjb25zdCB1PSFsfHxvLnNyY1Jlc29sdXRpb24mJmwueCtsLnk8by5zcmNSZXNvbHV0aW9uLngrby5zcmNSZXNvbHV0aW9uLnk7aWYoZiYmby5zcmNSZXNvbHV0aW9uJiZ1KXtjb25zdCBlPU1hdGgucm91bmQoTWF0aC5sb2coTWF0aC5tYXgoYyxtKSkvTWF0aC5MTjIpLTE7aWYobi1hKzM+PWUpe2NvbnN0IHQ9MioqZTtsPXt4Om8uc3JjUmVzb2x1dGlvbi54KnQseTpvLnNyY1Jlc29sdXRpb24ueSp0fX19bCYmKHIuc3JjUmVzb2x1dGlvbj1sLHRoaXMuX3VwZGF0ZVNvdXJjZURhdGFJbmZvKGUscikpfXJldHVybiB0aGlzLl9yZXF1aXJlVG9vTWFueVNyY1RpbGVzKHIuc3JjV2lkdGgsci5zcmNIZWlnaHQsdCxpKSYmKHIuc3JjV2lkdGg9MCxyLnNyY0hlaWdodD0wKSxyfV9yZXF1aXJlVG9vTWFueVNyY1RpbGVzKGUsdCxpLG8pe2NvbnN0e3RpbGVJbmZvOnJ9PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbztyZXR1cm4gTWF0aC5jZWlsKGUvci5zaXplWzBdKSpNYXRoLmNlaWwodC9yLnNpemVbMV0pPj1OfHxlL2k+Snx8dC9vPkp9X3VwZGF0ZVNvdXJjZURhdGFJbmZvKGUsdCl7dC5zcmNXaWR0aD0wLHQuc3JjSGVpZ2h0PTA7Y29uc3R7cmFzdGVySW5mbzppfT10aGlzLG89aS5zcGF0aWFsUmVmZXJlbmNlLHtzcmNSZXNvbHV0aW9uOnIsZGF0dW1UcmFuc2Zvcm1hdGlvbjpufT10LHtweXJhbWlkTGV2ZWw6cyxweXJhbWlkUmVzb2x1dGlvbjpsLGV4Y2Vzc2l2ZVJlYWRpbmc6YX09aihyLGksdGhpcy5pb0NvbmZpZy5zYW1wbGluZyk7aWYoYSlyZXR1cm47bGV0IGM9dC5zcmNFeHRlbnR8fEwoZSxvLG4pO2lmKG51bGw9PWMpcmV0dXJuO2NvbnN0IG09aS50cmFuc2Zvcm07bSYmKGM9bS5pbnZlcnNlVHJhbnNmb3JtKGMpKSx0LnNyY0V4dGVudD1jO2NvbnN0e3g6Zix5OnV9PWkuc3RvcmFnZUluZm8ub3JpZ2luLGg9TWF0aC5mbG9vcigoYy54bWluLWYpL2wueCsuMSkscD1NYXRoLmZsb29yKCh1LWMueW1heCkvbC55Ky4xKSxkPU1hdGguZmxvb3IoKGMueG1heC1mKS9sLngtLjEpLHg9TWF0aC5mbG9vcigodS1jLnltaW4pL2wueS0uMSkseT1jLndpZHRoPC4xKmwueD8wOmQtaCsxLGc9Yy5oZWlnaHQ8LjEqbC55PzA6eC1wKzE7dC5weXJhbWlkTGV2ZWw9cyx0LnB5cmFtaWRSZXNvbHV0aW9uPWwsdC5zcmNXaWR0aD15LHQuc3JjSGVpZ2h0PWcsdC51bD17eDpoLHk6cH19X2dldFJlcXVlc3RPcHRpb25zV2l0aFNsaWNlSWQoZSl7cmV0dXJuIG51bGwhPXRoaXMucmFzdGVySW5mby5tdWx0aWRpbWVuc2lvbmFsSW5mbyYmbnVsbD09ZS5zbGljZUlkJiYoZT17Li4uZSxzbGljZUlkOnRoaXMuZ2V0U2xpY2VJbmRleChlLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKX0pLGV9X3Byb2Nlc3NJZGVudGlmeVJlc3VsdChlLHQpe2NvbnN0e3NyY0xvY2F0aW9uOmkscG9zaXRpb246byxweXJhbWlkTGV2ZWw6cix1c2VUcmFuc3Bvc2VkVGlsZTpufT10LHM9ZS5waXhlbHNbMF0ubGVuZ3RoL2Uud2lkdGgvZS5oZWlnaHQ7aWYoISghZS5tYXNrfHxlLm1hc2tbb10pKXJldHVybntsb2NhdGlvbjppLHZhbHVlOm51bGx9O2NvbnN0e211bHRpZGltZW5zaW9uYWxJbmZvOmx9PXRoaXMucmFzdGVySW5mbztpZihudWxsPT1sfHwhbil7Y29uc3QgdD1lLnBpeGVscy5tYXAoKGU9PmVbb10pKSxuPXtsb2NhdGlvbjppLHZhbHVlOnQscHlyYW1pZExldmVsOnJ9LHM9dGhpcy5fY29tcHV0ZU1hZ0RpclZhbHVlcyh0Lm1hcCgoZT0+W2VdKSkpO3JldHVybiBzPy5sZW5ndGgmJihuLm1hZ2RpclZhbHVlPXMubWFwKChlPT5lWzBdKSkpLG59bGV0IGE9ZS5waXhlbHMubWFwKChlPT5lLnNsaWNlKG8qcyxvKnMrcykpKSxjPXRoaXMuX2NvbXB1dGVNYWdEaXJWYWx1ZXMoYSk7Y29uc3R7cmVxdWVzdFNvbWVTbGljZXM6bSxpZGVudGlmeU9wdGlvbnM6Zn09dDtsZXQgaD1nKGwsZi50cmFuc3Bvc2VkVmFyaWFibGVOYW1lKTtpZihtKXtjb25zdCBlPUkoaCxmLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLGYudGltZUV4dGVudCk7YT1hLm1hcCgodD0+ZS5tYXAoKGU9PnRbZV0pKSkpLGM9Yz8ubWFwKCh0PT5lLm1hcCgoZT0+dFtlXSkpKSksaD1lLm1hcCgoZT0+aFtlXSkpfWNvbnN0IHA9ZS5ub0RhdGFWYWx1ZXN8fHRoaXMucmFzdGVySW5mby5ub0RhdGFWYWx1ZSxkPXtwaXhlbHM6YSxwaXhlbFR5cGU6ZS5waXhlbFR5cGV9O2xldCB4O251bGwhPXAmJihiKGQscCkseD1kLm1hc2spO3JldHVybntsb2NhdGlvbjppLHZhbHVlOm51bGwsZGF0YVNlcmllczpoLm1hcCgoKGUsdCk9Pntjb25zdCBpPXt2YWx1ZTowPT09eD8uW3RdP251bGw6YS5tYXAoKGU9PmVbdF0pKSxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjplLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLm1hcCgoZT0+bmV3IHUoey4uLmUsaXNTbGljZTohMH0pKSl9O3JldHVybiBjPy5sZW5ndGgmJihpLm1hZ2RpclZhbHVlPVtjWzBdW3RdLGNbMV1bdF1dKSxpfSkpLHB5cmFtaWRMZXZlbDpyfX19O2UoW2woKV0sVi5wcm90b3R5cGUsXCJfcmFzdGVyVGlsZUFsaWdobWVudEluZm9cIix2b2lkIDApLGUoW2woe3JlYWRPbmx5OiEwfSldLFYucHJvdG90eXBlLFwiX2lzR2xvYmFsV3JhcHBhYmxlU291cmNlXCIsbnVsbCksZShbbCh7cmVhZE9ubHk6ITB9KV0sVi5wcm90b3R5cGUsXCJfaGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm1cIixudWxsKSxlKFtsKCldLFYucHJvdG90eXBlLFwicmFzdGVySm9iSGFuZGxlclwiLG51bGwpLGUoW2woZildLFYucHJvdG90eXBlLFwidXJsXCIsbnVsbCksZShbbCh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLFYucHJvdG90eXBlLFwiZGF0YXNldE5hbWVcIix2b2lkIDApLGUoW2woe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLGUoW2woKV0sVi5wcm90b3R5cGUsXCJoYXNVbmlxdWVTb3VyY2VTdG9yYWdlSW5mb1wiLHZvaWQgMCksZShbbCgpXSxWLnByb3RvdHlwZSxcInJhc3RlckluZm9cIix2b2lkIDApLGUoW2woKV0sVi5wcm90b3R5cGUsXCJpb0NvbmZpZ1wiLHZvaWQgMCksZShbbCgpXSxWLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLFY9ZShbYyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuQmFzZVJhc3RlclwiKV0sVik7Y29uc3QgVT1WO2V4cG9ydHtVIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9MT0QuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9UaWxlSW5mby5qc1wiO2ltcG9ydCBsIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydCBmIGZyb21cIi4vREJGUGFyc2VyLmpzXCI7aW1wb3J0e2lzVHJhbnNmb3JtU3VwcG9ydGVkIGFzIG0scmVhZFRyYW5zZm9ybSBhcyBjfWZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvdXRpbHMuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IGc9bmV3IE1hcDtnLnNldChcImludDE2XCIsXCJlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyXCIpLGcuc2V0KFwiaW50MzJcIixcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCIpLGcuc2V0KFwiaW50NjRcIixcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCIpLGcuc2V0KFwiZmxvYXQzMlwiLFwiZXNyaUZpZWxkVHlwZVNpbmdsZVwiKSxnLnNldChcImZsb2F0NjRcIixcImVzcmlGaWVsZFR5cGVEb3VibGVcIiksZy5zZXQoXCJ0ZXh0XCIsXCJlc3JpRmllbGRUeXBlU3RyaW5nXCIpO2NvbnN0IHk9ODtsZXQgeD1jbGFzcyBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc3RvcmFnZUluZm89bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJDUkZcIn1hc3luYyBvcGVuKGUpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0e2RhdGE6cn09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbmYuanNvblwiLHtzaWduYWw6ZT8uc2lnbmFsfSk7aWYoIXRoaXMuX3ZhbGlkYXRlSGVhZGVyKHIpKXRocm93IG5ldyB0KFwiY2xvdWRyYXN0ZXI6b3BlblwiLFwiSW52YWxpZCBvciB1bnN1cHBvcnRlZCBjb25mLmpzb24uXCIpO3RoaXMuZGF0YXNldE5hbWU9dGhpcy51cmwuc2xpY2UodGhpcy51cmwubGFzdEluZGV4T2YoXCIvXCIpKzEpO2NvbnN0e3N0b3JhZ2VJbmZvOm8scmFzdGVySW5mbzppfT10aGlzLl9wYXJzZUhlYWRlcihyKTtpZihcInRoZW1hdGljXCI9PT1pLmRhdGFUeXBlKXtjb25zdCBlPWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5SW5mb3JtYXRpb24oKTtpLmF0dHJpYnV0ZVRhYmxlPWV9dGhpcy5fc2V0KFwic3RvcmFnZUluZm9cIixvKSx0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIsaSksdGhpcy5pb0NvbmZpZy5yZXRyeUNvdW50PXRoaXMuaW9Db25maWcucmV0cnlDb3VudHx8MH1hc3luYyBmZXRjaFJhd1RpbGUoZSx0LHIsbz17fSl7Y29uc3R7dHJhbnNwb3NlSW5mbzppfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se3RyYW5zcG9zZWRWYXJpYWJsZU5hbWU6c309byxhPSEoIWl8fCFzKSxuPWE/MDp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ubWF4aW11bVB5cmFtaWRMZXZlbC1lO2lmKG48MClyZXR1cm4gbnVsbDtjb25zdCBsPXRoaXMuX2J1aWxkQ2FjaGVGaWxlUGF0aChuLHQscixvLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLHMpLGY9dGhpcy5fZ2V0SW5kZXhSZWNvcmRGcm9tQnVuZGxlKHQscixhKSxtPWF3YWl0IHRoaXMucmVxdWVzdChsLHtyYW5nZTp7ZnJvbTowLHRvOnRoaXMuc3RvcmFnZUluZm8uaGVhZGVyU2l6ZS0xfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6by5zaWduYWx9KTtpZighbSlyZXR1cm4gbnVsbDtjb25zdCBjPW5ldyBVaW50OEFycmF5KG0uZGF0YSkscD10aGlzLl9nZXRUaWxlRW5kQW5kQ29udGVudFR5cGUoYyxmKTtpZigwPT09cC5yZWNvcmRTaXplKXJldHVybiBudWxsO2NvbnN0IGQ9YXdhaXQgdGhpcy5yZXF1ZXN0KGwse3JhbmdlOntmcm9tOnAucG9zaXRpb24sdG86cC5wb3NpdGlvbitwLnJlY29yZFNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvLnNpZ25hbH0pO2lmKCFkKXJldHVybiBudWxsO2NvbnN0W3UsaF09dGhpcy5fZ2V0VGlsZVNpemUoYSk7cmV0dXJuIHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhkLmRhdGEse3dpZHRoOnUsaGVpZ2h0OmgscGxhbmVzOm51bGwscGl4ZWxUeXBlOm51bGwscmV0dXJuSW50ZXJsZWF2ZWQ6YX0pfV92YWxpZGF0ZUhlYWRlcihlKXtjb25zdCB0PVtcIm9yaWdpblwiLFwiZXh0ZW50XCIsXCJnZW9kYXRhWGZvcm1cIixcIkxPREluZm9zXCIsXCJibG9ja1dpZHRoXCIsXCJibG9ja0hlaWdodFwiLFwiYmFuZENvdW50XCIsXCJwaXhlbFR5cGVcIixcInBpeGVsU2l6ZVhcIixcInBpeGVsU2l6ZVlcIixcImZvcm1hdFwiLFwicGFja2V0U2l6ZVwiXTtyZXR1cm4gZSYmXCJSYXN0ZXJJbmZvXCI9PT1lLnR5cGUmJiF0LnNvbWUoKHQ9PiFlW3RdKSl9X3BhcnNlSGVhZGVyKGUpe2NvbnN0IHQ9W1widTFcIixcInUyXCIsXCJ1NFwiLFwidThcIixcInM4XCIsXCJ1MTZcIixcInMxNlwiLFwidTMyXCIsXCJzMzJcIixcImYzMlwiLFwiZjY0XCJdW2UucGl4ZWxUeXBlXSx7YmFuZENvdW50OnIsY29sb3JtYXA6byxibG9ja1dpZHRoOmwsYmxvY2tIZWlnaHQ6ZixmaXJzdFB5cmFtaWRMZXZlbDptLG1heGltdW1QeXJhbWlkTGV2ZWw6Y309ZSxwPWUuc3RhdGlzdGljcz8ubWFwKChlPT4oe21pbjplLm1pbixtYXg6ZS5tYXgsYXZnOmUubWVhbixzdGRkZXY6ZS5zdGFuZGFyZERldmlhdGlvbixtZWRpYW46ZS5tZWRpYW4sbW9kZTplLm1vZGV9KSkpLGc9ZS5oaXN0b2dyYW1zPy5bMF0/LmNvdW50cz8ubGVuZ3RoP2UuaGlzdG9ncmFtczpudWxsLHg9ZS5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZSxTPWUuZ2VvZGF0YVhmb3JtPy5zcGF0aWFsUmVmZXJlbmNlLEk9bmV3IGQoeD8ud2tpZHx8eD8ud2t0fHx4Py53a3QyP3g6Uyk7bGV0IHc9bmV3IHUoe3htaW46ZS5leHRlbnQueG1pbix5bWluOmUuZXh0ZW50LnltaW4seG1heDplLmV4dGVudC54bWF4LHltYXg6ZS5leHRlbnQueW1heCxzcGF0aWFsUmVmZXJlbmNlOkl9KTtjb25zdCBfPW5ldyBoKHt4OmUucGl4ZWxTaXplWCx5OmUucGl4ZWxTaXplWSxzcGF0aWFsUmVmZXJlbmNlOkl9KSx2PU1hdGgucm91bmQoKHcueG1heC13LnhtaW4pL18ueCksYj1NYXRoLnJvdW5kKCh3LnltYXgtdy55bWluKS9fLnkpLHo9dGhpcy5fcGFyc2VUcmFuc2Zvcm0oZS5nZW9kYXRhWGZvcm0pLFQ9ej93Om51bGw7eiYmKHc9ei5mb3J3YXJkVHJhbnNmb3JtKHcpLF8ueD0ody54bWF4LXcueG1pbikvdixfLnk9KHcueW1heC13LnltaW4pL2IpO2NvbnN0IGs9ZS5wcm9wZXJ0aWVzPz97fSxqPWUuZm9ybWF0LnRvTG93ZXJDYXNlKCkucmVwbGFjZShcImNhY2hlL1wiLFwiXCIpLEM9bmV3IGgoZS5vcmlnaW4ueCxlLm9yaWdpbi55LEkpO2xldCBSLEYsUCxIO2lmKG8/LmNvbG9ycylmb3IoUj1bXSxGPTA7RjxvLmNvbG9ycy5sZW5ndGg7RisrKVA9by5jb2xvcnNbRl0sSD1vLnZhbHVlcz9vLnZhbHVlc1tGXTpGLFIucHVzaChbSCwyNTUmUCxQPDwxNj4+PjI0LFA8PDg+Pj4yNCxQPj4+MjRdKTtjb25zdCBEPWUuTE9ESW5mb3MsTD1bXTtmb3IoRj0wO0Y8RC5sZXZlbHMubGVuZ3RoO0YrKylMLnB1c2gobmV3IGkoe2xldmVsOkQubGV2ZWxzW0ZdLHJlc29sdXRpb246RC5yZXNvbHV0aW9uc1tGXSxzY2FsZTo5Ni8uMDI1NCpELnJlc29sdXRpb25zW0ZdfSkpO2NvbnN0IE09bmV3IG4oe2RwaTo5Nixsb2RzOkwsZm9ybWF0Omosb3JpZ2luOkMsc2l6ZTpbbCxmXSxzcGF0aWFsUmVmZXJlbmNlOkl9KSxPPXtyZWNvcmRTaXplOnkscGFja2V0U2l6ZTplLnBhY2tldFNpemUsaGVhZGVyU2l6ZTplLnBhY2tldFNpemUqZS5wYWNrZXRTaXplKnkrNjR9LEI9W3ttYXhDb2w6TWF0aC5jZWlsKHYvbCktMSxtYXhSb3c6TWF0aC5jZWlsKGIvZiktMSxtaW5Db2w6MCxtaW5Sb3c6MH1dO2xldCAkPTI7aWYoYz4wKWZvcihGPTA7RjxjO0YrKylCLnB1c2goe21heENvbDpNYXRoLmNlaWwodi8kL2wpLTEsbWF4Um93Ok1hdGguY2VpbChiLyQvZiktMSxtaW5Db2w6MCxtaW5Sb3c6MH0pLCQqPTI7Y29uc3QgTj1lLm1kSW5mbztsZXQgcT1udWxsO2lmKE4mJmsuX3l4cyl7Y29uc3QgZT1rLl95eHM7cT17cGFja2V0U2l6ZTplLlBhY2tldFNpemUsdGlsZVNpemU6W2UuVGlsZVhTaXplLGUuVGlsZVlTaXplXX19cmV0dXJue3N0b3JhZ2VJbmZvOk8scmFzdGVySW5mbzpuZXcgcyh7d2lkdGg6dixoZWlnaHQ6YixwaXhlbFR5cGU6dCxiYW5kQ291bnQ6cixleHRlbnQ6dyxuYXRpdmVFeHRlbnQ6VCx0cmFuc2Zvcm06eixzcGF0aWFsUmVmZXJlbmNlOkkscGl4ZWxTaXplOl8sa2V5UHJvcGVydGllczprLHN0YXRpc3RpY3M6cCxoaXN0b2dyYW1zOmcsbXVsdGlkaW1lbnNpb25hbEluZm86Tixjb2xvcm1hcDpSLHN0b3JhZ2VJbmZvOm5ldyBhKHtibG9ja1dpZHRoOmwsYmxvY2tIZWlnaHQ6ZixweXJhbWlkQmxvY2tXaWR0aDpsLHB5cmFtaWRCbG9ja0hlaWdodDpmLG9yaWdpbjpDLHRpbGVJbmZvOk0sdHJhbnNwb3NlSW5mbzpxLGZpcnN0UHlyYW1pZExldmVsOm0sbWF4aW11bVB5cmFtaWRMZXZlbDpjLGJsb2NrQm91bmRhcnk6Qn0pfSl9fV9wYXJzZVRyYW5zZm9ybShlKXtpZighbShlKSl0aHJvdyBuZXcgdChcImNsb3VkcmFzdGVyOm9wZW5cIixcInRoZSBkYXRhIGNvbnRhaW5zIHVuc3VwcG9ydGVkIGdlb2RhdGEgdHJhbnNmb3JtIHR5cGVzXCIpO2NvbnN0IHI9YyhlKTtpZihcImlkZW50aXR5XCI9PT1yLnR5cGUpcmV0dXJuIG51bGw7aWYoXCJwb2x5bm9taWFsXCIhPT1yLnR5cGV8fCFyLmZvcndhcmRDb2VmZmljaWVudHM/Lmxlbmd0aHx8IXIuaW52ZXJzZUNvZWZmaWNpZW50cz8ubGVuZ3RoKXRocm93IG5ldyB0KFwiY2xvdWRyYXN0ZXI6b3BlblwiLFwidGhlIGRhdGEgY29udGFpbnMgdW5zdXBwb3J0ZWQgZ2VvZGF0YSB0cmFuc2Zvcm1zIC0gYm90aCBmb3J3YXJkIGFuZCBpbnZlcnNlIGNvZWZmaWNpZW50cyBhcmUgcmVxdWlyZWQgY3VycmVudGx5XCIpO3JldHVybiByfWFzeW5jIF9mZXRjaEF1eGlsaWFyeUluZm9ybWF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbmYudmF0Lmpzb25cIix7c2lnbmFsOmV9KS50aGVuKChlPT5lLmRhdGEpKS5jYXRjaCgoKCk9Pm51bGwpKSxyPXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9jb25mLnZhdC5kYmZcIix7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOmV9KS50aGVuKChlPT5lLmRhdGEpKS5jYXRjaCgoKCk9Pm51bGwpKSxvPWF3YWl0IFByb21pc2UuYWxsKFt0LHJdKTtsZXQgaTtpZihvWzBdKXtsZXQgZT1vWzBdLmZpZWxkcztjb25zdCB0PW9bMF0udmFsdWVzO2lmKGUmJnQpe2U9ZS5tYXAoKGU9Pih7dHlwZTpcIk9JRFwiPT09ZS5uYW1lP1wiZXNyaUZpZWxkVHlwZU9JRFwiOmcuZ2V0KGUudHlwZSksbmFtZTplLm5hbWUsYWxpYXM6ZS5hbGlhc3x8ZS5uYW1lfSkpKTtjb25zdCByPXQubWFwKChlPT4oe2F0dHJpYnV0ZXM6ZX0pKSk7ZSYmdCYmKGk9e2ZpZWxkczplLGZlYXR1cmVzOnJ9KX19aWYoIWkmJm9bMV0pe2k9Zi5wYXJzZShvWzFdKS5yZWNvcmRTZXR9cmV0dXJuIHAuZnJvbUpTT04oaSl9X2J1aWxkQ2FjaGVGaWxlUGF0aChlLHQscixvLGkpe2NvbnN0IHM9dGhpcy5fZ2V0UGFja2FnZVNpemUoISFpKSxhPU1hdGguZmxvb3IodC9zKSpzLG49TWF0aC5mbG9vcihyL3MpKnMsbD1cIlJcIit0aGlzLl90b0hleFN0cmluZzQoYSkrXCJDXCIrdGhpcy5fdG9IZXhTdHJpbmc0KG4pO2xldCBmPVwiTFwiO2YrPWU+PTEwP2UudG9TdHJpbmcoKTpcIjBcIitlLnRvU3RyaW5nKCk7Y29uc3R7bXVsdGlkaW1lbnNpb25hbEluZm86bX09dGhpcy5yYXN0ZXJJbmZvLGM9bz8uWzBdO2lmKG51bGw9PW18fCFjKXJldHVybmAke3RoaXMudXJsfS9fYWxsbGF5ZXJzLyR7Zn0vJHtsfS5idW5kbGVgO2xldCBwPVwiX3l4c1wiO2lmKCFpKXtwPW0udmFyaWFibGVzLmZpbmQoKGU9PmUubmFtZT09PWMudmFyaWFibGVOYW1lKSkuZGltZW5zaW9uc1swXS52YWx1ZXMuaW5kZXhPZihjLnZhbHVlc1swXSkudG9TdHJpbmcoMTYpO2NvbnN0IGU9NC1wLmxlbmd0aDtmb3IobGV0IHQ9MDt0PGU7dCsrKXA9XCIwXCIrcDtwPVwiU1wiK3B9Y29uc3QgZD10aGlzLl9nZXRWYXJpYWJsZUZvbGRlck5hbWUoaXx8Yy52YXJpYWJsZU5hbWUpO3JldHVybmAke3RoaXMudXJsfS9fYWxsbGF5ZXJzLyR7ZH0vJHtwfS8ke2Z9LyR7bH0uYnVuZGxlYH1fZ2V0UGFja2FnZVNpemUoZT0hMSl7Y29uc3R7dHJhbnNwb3NlSW5mbzp0fT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87cmV0dXJuIGUmJm51bGwhPXQ/dC5wYWNrZXRTaXplPz8wOnRoaXMuc3RvcmFnZUluZm8ucGFja2V0U2l6ZX1fZ2V0VGlsZVNpemUoZT0hMSl7Y29uc3R7c3RvcmFnZUluZm86dH09dGhpcy5yYXN0ZXJJbmZvLHt0cmFuc3Bvc2VJbmZvOnJ9PXQ7cmV0dXJuIGUmJm51bGwhPXI/ci50aWxlU2l6ZTp0LnRpbGVJbmZvLnNpemV9X2dldFZhcmlhYmxlRm9sZGVyTmFtZShlKXtyZXR1cm5cIlwiPT09KGU9ZS50cmltKCkpP1wiX3ZcIjplLnJlcGxhY2VBbGwoL1tcXHt8XFx9XFwtXS9nLFwiX1wiKS5yZXBsYWNlKFwiXFxcXCpcIixcIl92XCIpfV9nZXRJbmRleFJlY29yZEZyb21CdW5kbGUoZSx0LHI9ITEpe2NvbnN0IG89dGhpcy5fZ2V0UGFja2FnZVNpemUociksaT1vKihlJW8pK3QlbztpZihpPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZXZlbCAvIHJvdyAvIGNvbFwiKTtyZXR1cm4gMjAraSp0aGlzLnN0b3JhZ2VJbmZvLnJlY29yZFNpemUrNDR9X2dldFRpbGVFbmRBbmRDb250ZW50VHlwZShlLHQpe2NvbnN0IHI9ZS5zdWJhcnJheSh0LHQrOCk7bGV0IG8saT0wO2ZvcihvPTA7bzw1O28rKylpfD0oMjU1JnJbb10pPDw4Km87Y29uc3Qgcz0weGZmZmZmZmZmZmYmaTtmb3IoaT0wLG89NTtvPDg7bysrKWl8PSgyNTUmcltvXSk8PDgqKG8tNSk7cmV0dXJue3Bvc2l0aW9uOnMscmVjb3JkU2l6ZToweGZmZmZmZmZmZmYmaX19X3RvSGV4U3RyaW5nNChlKXtsZXQgdD1lLnRvU3RyaW5nKDE2KTtpZig0IT09dC5sZW5ndGgpe2xldCBlPTQtdC5sZW5ndGg7Zm9yKDtlLS0gPjA7KXQ9XCIwXCIrdH1yZXR1cm4gdH19O2UoW3Ioe3JlYWRPbmx5OiEwfSldLHgucHJvdG90eXBlLFwic3RvcmFnZUluZm9cIix2b2lkIDApLGUoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSx4LnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLHg9ZShbbyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuQ2xvdWRSYXN0ZXJcIildLHgpO2NvbnN0IFM9eDtleHBvcnR7UyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Ynl0ZXNUb1VURjggYXMgZX1mcm9tXCIuL2J5dGVTdHJlYW1VdGlscy5qc1wiO2Z1bmN0aW9uIHQoZSl7Y29uc3QgdD1lLmZpZWxkcyxyPWUucmVjb3JkcyxuPXQuc29tZSgoZT0+XCJvaWRcIj09PWUubmFtZS50b0xvd2VyQ2FzZSgpKSk/XCJPQkpFQ1RJRFwiOlwiT0lEXCIsaT1be25hbWU6bix0eXBlOlwiZXNyaUZpZWxkVHlwZU9JRFwiLGFsaWFzOlwiT0lEXCJ9XS5jb25jYXQodC5tYXAoKGU9Pih7bmFtZTplLm5hbWUsdHlwZTpcImVzcmlGaWVsZFR5cGVcIitlLnR5cGVOYW1lLGFsaWFzOmUubmFtZX0pKSkpLHM9aS5tYXAoKGU9PmUubmFtZSkpLGE9W107bGV0IG89MCxsPTA7cmV0dXJuIHIuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9e307Zm9yKHRbbl09bysrLGw9MTtsPHMubGVuZ3RoO2wrKyl0W3NbbF1dPWVbbC0xXTthLnB1c2goe2F0dHJpYnV0ZXM6dH0pfSkpLHtkaXNwbGF5RmllbGROYW1lOlwiXCIsZmllbGRzOmksZmVhdHVyZXM6YX19Y2xhc3MgcntzdGF0aWMgZ2V0IHN1cHBvcnRlZFZlcnNpb25zKCl7cmV0dXJuWzVdfXN0YXRpYyBwYXJzZShyKXtjb25zdCBuPW5ldyBEYXRhVmlldyhyKSxpPTMmbi5nZXRVaW50OCgwKTtpZigzIT09aSlyZXR1cm57aGVhZGVyOnt2ZXJzaW9uOml9LHJlY29yZFNldDpudWxsfTtjb25zdCBzPW4uZ2V0VWludDMyKDQsITApLGE9bi5nZXRVaW50MTYoOCwhMCksbz1uLmdldFVpbnQxNigxMCwhMCksbD17dmVyc2lvbjppLHJlY29yZENvdW50OnMsaGVhZGVyQnl0ZUNvdW50OmEscmVjb3JkQnl0ZUNvdW50Om99O2xldCBwPTMyO2NvbnN0IGc9W10sdT1bXTtsZXQgZDtpZigzPT09aSl7Zm9yKDsxMyE9PW4uZ2V0VWludDgocCk7KWQ9U3RyaW5nLmZyb21DaGFyQ29kZShuLmdldFVpbnQ4KHArMTEpKS50cmltKCksZy5wdXNoKHtuYW1lOmUobmV3IFVpbnQ4QXJyYXkocixwLDExKSksdHlwZTpkLHR5cGVOYW1lOltcIlN0cmluZ1wiLFwiRGF0ZVwiLFwiRG91YmxlXCIsXCJCb29sZWFuXCIsXCJTdHJpbmdcIixcIkludGVnZXJcIl1bW1wiQ1wiLFwiRFwiLFwiRlwiLFwiTFwiLFwiTVwiLFwiTlwiXS5pbmRleE9mKGQpXSxsZW5ndGg6bi5nZXRVaW50OChwKzE2KX0pLHArPTMyO2lmKHArPTEsZy5sZW5ndGg+MClmb3IoO3UubGVuZ3RoPHMmJnIuYnl0ZUxlbmd0aC1wPm87KXtjb25zdCB0PVtdOzMyPT09bi5nZXRVaW50OChwKT8ocCs9MSxnLmZvckVhY2goKG49PntpZihcIkNcIj09PW4udHlwZSl0LnB1c2goZShuZXcgVWludDhBcnJheShyLHAsbi5sZW5ndGgpKS50cmltKCkpO2Vsc2UgaWYoXCJOXCI9PT1uLnR5cGUpdC5wdXNoKHBhcnNlSW50KFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShyLHAsbi5sZW5ndGgpKS50cmltKCksMTApKTtlbHNlIGlmKFwiRlwiPT09bi50eXBlKXQucHVzaChwYXJzZUZsb2F0KFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShyLHAsbi5sZW5ndGgpKS50cmltKCkpKTtlbHNlIGlmKFwiRFwiPT09bi50eXBlKXtjb25zdCBlPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShyLHAsbi5sZW5ndGgpKS50cmltKCk7dC5wdXNoKG5ldyBEYXRlKHBhcnNlSW50KGUuc3Vic3RyaW5nKDAsNCksMTApLHBhcnNlSW50KGUuc3Vic3RyaW5nKDQsNiksMTApLTEscGFyc2VJbnQoZS5zdWJzdHJpbmcoNiw4KSwxMCkpKX1wKz1uLmxlbmd0aH0pKSx1LnB1c2godCkpOnArPW99fXJldHVybntoZWFkZXI6bCxmaWVsZHM6ZyxyZWNvcmRzOnUscmVjb3JkU2V0OnQoe2ZpZWxkczpnLHJlY29yZHM6dX0pfX19ZXhwb3J0e3IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0PTE1ZTMsZT01ZTMpe3RoaXMuX3RpbWVyPW51bGwsdGhpcy5fY2FjaGVkQmxvY2tzPW5ldyBNYXAsdGhpcy5fc2l6ZT0tMSx0aGlzLl9kdXJhdGlvbj10LHRoaXMuX2ludGVydmFsPU1hdGgubWluKHQsZSl9ZGVjcmVhc2VSZWZDb3VudCh0LGUpe2NvbnN0IHM9dCtcIi9cIitlLHI9dGhpcy5fY2FjaGVkQmxvY2tzO2lmKHIuaGFzKHMpKXtjb25zdCB0PXIuZ2V0KHMpO3JldHVybiB0LnJlZkNvdW50LS0sdC5yZWZDb3VudDw9MCYmKHIuZGVsZXRlKHMpLHQuY29udHJvbGxlciYmdC5jb250cm9sbGVyLmFib3J0KCkpLHQucmVmQ291bnR9cmV0dXJuIDB9Z2V0QmxvY2sodCxlKXtjb25zdCBzPXQrXCIvXCIrZSxyPXRoaXMuX2NhY2hlZEJsb2NrcztpZihyLmhhcyhzKSl7Y29uc3QgdD1yLmdldChzKTtyZXR1cm4gdC50cz1EYXRlLm5vdygpLHQucmVmQ291bnQrKyxyLmRlbGV0ZShzKSxyLnNldChzLHQpLHQuYmxvY2t9cmV0dXJuIG51bGx9cHV0QmxvY2sodCxlLHMscil7Y29uc3QgaT10aGlzLl9jYWNoZWRCbG9ja3MsYz10K1wiL1wiK2U7aWYoaS5oYXMoYykpe2NvbnN0IHQ9aS5nZXQoYyk7dC50cz1EYXRlLm5vdygpLHQucmVmQ291bnQrK31lbHNlIGkuc2V0KGMse2Jsb2NrOnMsdHM6RGF0ZS5ub3coKSxyZWZDb3VudDoxLGNvbnRyb2xsZXI6cn0pO3RoaXMuX3RyaW0oKSx0aGlzLl91cGRhdGVUaW1lcigpfWRlbGV0ZUJsb2NrKHQsZSl7Y29uc3Qgcz10aGlzLl9jYWNoZWRCbG9ja3Mscj10K1wiL1wiK2U7cy5oYXMocikmJnMuZGVsZXRlKHIpfXVwZGF0ZU1heFNpemUodCl7dGhpcy5fc2l6ZT10LHRoaXMuX3RyaW0oKX1lbXB0eSgpe3RoaXMuX2NhY2hlZEJsb2Nrcy5jbGVhcigpLHRoaXMuX2NsZWFyVGltZXIoKX1nZXRDdXJyZW50U2l6ZSgpe3JldHVybiB0aGlzLl9jYWNoZWRCbG9ja3Muc2l6ZX1fdXBkYXRlVGltZXIoKXtpZihudWxsIT10aGlzLl90aW1lcilyZXR1cm47Y29uc3QgdD10aGlzLl9jYWNoZWRCbG9ja3M7dGhpcy5fdGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgZT1BcnJheS5mcm9tKHQpLHM9RGF0ZS5ub3coKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoJiZlW3JdWzFdLnRzPD1zLXRoaXMuX2R1cmF0aW9uO3IrKyl0LmRlbGV0ZShlW3JdWzBdKTswPT09dC5zaXplJiZ0aGlzLl9jbGVhclRpbWVyKCl9KSx0aGlzLl9pbnRlcnZhbCl9X3RyaW0oKXtjb25zdCB0PXRoaXMuX2NhY2hlZEJsb2NrcztpZigtMT09PXRoaXMuX3NpemV8fHRoaXMuX3NpemU+PXQuc2l6ZSlyZXR1cm47Y29uc3QgZT1BcnJheS5mcm9tKHQpO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGgtdGhpcy5fc2l6ZTtzKyspdC5kZWxldGUoZVtzXVswXSl9X2NsZWFyVGltZXIoKXtudWxsIT10aGlzLl90aW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPW51bGwpfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgYSBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnR7YXBwcm94aW1hdGVUcmFuc2Zvcm0gYXMgaX1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7bGV0IG49Y2xhc3MgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJGdW5jdGlvblwiLHRoaXMudGlsZVR5cGU9XCJSYXN0ZXJcIix0aGlzLnJhc3RlckZ1bmN0aW9uPW51bGx9YXN5bmMgb3Blbih0KXthd2FpdCB0aGlzLmluaXQoKTtjb25zdHtyYXN0ZXJGdW5jdGlvbjpyfT10aGlzO3RoaXMucHJpbWFyeVJhc3RlcnM/LnJhc3RlcnM/Lmxlbmd0aD9yLnNvdXJjZVJhc3RlcnM9dGhpcy5wcmltYXJ5UmFzdGVycy5yYXN0ZXJzOih0aGlzLnByaW1hcnlSYXN0ZXJzPXIuZ2V0UHJpbWFyeVJhc3RlcnMoKSx0aGlzLnJhc3RlckpvYkhhbmRsZXImJnRoaXMucHJpbWFyeVJhc3RlcnMucmFzdGVycz8uZm9yRWFjaCgodD0+dC5yYXN0ZXJKb2JIYW5kbGVyPXRoaXMucmFzdGVySm9iSGFuZGxlcikpKTtjb25zdHtyYXN0ZXJzOnMscmFzdGVySWRzOmF9PXRoaXMucHJpbWFyeVJhc3RlcnMsaT1zLm1hcCgoZT0+ZS5yYXN0ZXJJbmZvP3ZvaWQgMDplLm9wZW4odCkpKTthd2FpdCBQcm9taXNlLmFsbChpKTtjb25zdCBuPXMubWFwKCgoe3Jhc3RlckluZm86dH0pPT50KSksYz1yLmJpbmQoe3Jhc3RlckluZm9zOm4scmFzdGVySWRzOmF9KTtpZighYy5zdWNjZXNzfHwwPT09bi5sZW5ndGgpdGhyb3cgbmV3IGUoXCJyYXN0ZXItZnVuY3Rpb246b3BlblwiLGBjYW5ub3QgYmluZCB0aGUgZnVuY3Rpb246ICR7Yy5lcnJvcj8/XCJcIn1gKTtjb25zdCBsPVwiVGFibGVcIj09PXIuZnVuY3Rpb25OYW1lP3I6ci5mdW5jdGlvbkFyZ3VtZW50cz8ucmFzdGVyO1wiVGFibGVcIj09PWw/LmZ1bmN0aW9uTmFtZSYmKHIucmFzdGVySW5mby5hdHRyaWJ1dGVUYWJsZT1vLmZyb21KU09OKGwuZnVuY3Rpb25Bcmd1bWVudHMuYXR0cmlidXRlVGFibGVBc1JlY29yZFNldCkpLGF3YWl0IHRoaXMuc3luY0pvYkhhbmRsZXIoKTtjb25zdCBwPW5bMF07dGhpcy5oYXNVbmlxdWVTb3VyY2VTdG9yYWdlSW5mbz0xPT09bi5sZW5ndGh8fG4uc2xpY2UoMSkuZXZlcnkoKHQ9PnRoaXMuX2hhc1NhbWVTdG9yYWdlSW5mbyh0LHApKSksdGhpcy5zZXQoXCJzb3VyY2VKU09OXCIsc1swXS5zb3VyY2VKU09OKSx0aGlzLnNldChcInJhc3RlckluZm9cIixyLnJhc3RlckluZm8pfWFzeW5jIHN5bmNKb2JIYW5kbGVyKCl7cmV0dXJuIHRoaXMucmFzdGVySm9iSGFuZGxlcj8udXBkYXRlUmFzdGVyRnVuY3Rpb24odGhpcy5yYXN0ZXJGdW5jdGlvbil9YXN5bmMgZmV0Y2hQaXhlbHModCxlLHIscz17fSl7Y29uc3R7cmFzdGVyczphLHJhc3RlcklkczpvfT10aGlzLnByaW1hcnlSYXN0ZXJzO2xldCBuPSExO2NvbnN0e2ludGVycG9sYXRpb246Y309cyxsPXRoaXMucmFzdGVyRnVuY3Rpb24uZmxhdFdlYkdMRnVuY3Rpb25DaGFpbj8uaGFzRm9jYWxGdW5jdGlvbjshcy5yZXF1ZXN0UmF3RGF0YSYmXCJiaWxpbmVhclwiIT09YyYmbCYmKG49MT09PWEubGVuZ3RoJiYhcy5za2lwUmFzdGVyRnVuY3Rpb24scz17Li4ucyxpbnRlcnBvbGF0aW9uOlwiYmlsaW5lYXJcIixyZXF1ZXN0UmF3RGF0YTpufSk7Y29uc3QgcD1hLm1hcCgoYT0+YS5mZXRjaFBpeGVscyh0LGUscixzKSkpLHU9YXdhaXQgUHJvbWlzZS5hbGwocCksbT11Lm1hcCgodD0+dC5waXhlbEJsb2NrKSksaD1ufHxzLnJlcXVlc3RSYXdEYXRhP3UubWFwKCh0PT50LnNyY1RpbGVQaXhlbFNpemUpKTpudWxsO2lmKHMuc2tpcFJhc3RlckZ1bmN0aW9ufHxtLmV2ZXJ5KCh0PT5udWxsPT10KSkpcmV0dXJuIHVbMF07Y29uc3QgZD11LmZpbmQoKHQ9Pm51bGwhPXQucGl4ZWxCbG9jaykpPy5leHRlbnQ/P3QsZj10aGlzLnJhc3RlckpvYkhhbmRsZXI/YXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLnByb2Nlc3Moe2V4dGVudDpkLHByaW1hcnlQaXhlbEJsb2NrczptLHByaW1hcnlQaXhlbFNpemVzOmgscHJpbWFyeVJhc3RlcklkczpvfSk6dGhpcy5yYXN0ZXJGdW5jdGlvbi5wcm9jZXNzKHtleHRlbnQ6ZCxwcmltYXJ5UGl4ZWxCbG9ja3M6bSxwcmltYXJ5UGl4ZWxTaXplczpoLHByaW1hcnlSYXN0ZXJJZHM6b30pLHt0cmFuc2Zvcm1HcmlkOnl9PXVbMF07aWYoIW58fG51bGw9PWZ8fG51bGw9PXkpcmV0dXJuey4uLnVbMF0scGl4ZWxCbG9jazpmfTtjb25zdCB4PXtyb3dzOnkuc3BhY2luZ1swXSxjb2xzOnkuc3BhY2luZ1sxXX07bGV0IGI7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXtiPShhd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIubW9zYWljQW5kVHJhbnNmb3JtKHtzcmNQaXhlbEJsb2NrczpbZl0sc3JjTW9zYWljU2l6ZTp7d2lkdGg6Zi53aWR0aCxoZWlnaHQ6Zi5oZWlnaHR9LGRlc3REaW1lbnNpb246e3dpZHRoOmUsaGVpZ2h0OnJ9LGNvZWZzOnkuY29lZmZpY2llbnRzLHNhbXBsZVNwYWNpbmc6eCxwcm9qZWN0RGlyZWN0aW9uczohMSxnY3NHcmlkOm51bGwsaXNVVjohMSxpbnRlcnBvbGF0aW9uOmMsYWxpZ25tZW50SW5mbzp2b2lkIDAsYmxvY2tXaWR0aHM6bnVsbH0scykpLnBpeGVsQmxvY2t9ZWxzZSBiPWkoZix7d2lkdGg6ZSxoZWlnaHQ6cn0seS5jb2VmZmljaWVudHMseCxjKTtyZXR1cm57ZXh0ZW50OnQsc3JjRXh0ZW50OnVbMF0uc3JjRXh0ZW50LHBpeGVsQmxvY2s6Yn19X2hhc1NhbWVTdG9yYWdlSW5mbyh0LGUpe2NvbnN0e3N0b3JhZ2VJbmZvOnIscGl4ZWxTaXplOnMsc3BhdGlhbFJlZmVyZW5jZTphLGV4dGVudDppfT10LHtzdG9yYWdlSW5mbzpvLHBpeGVsU2l6ZTpuLHNwYXRpYWxSZWZlcmVuY2U6YyxleHRlbnQ6bH09ZTtyZXR1cm4gcy54PT09bi54JiZzLnk9PT1uLnkmJmEuZXF1YWxzKGMpJiZpLmVxdWFscyhsKSYmci5ibG9ja0hlaWdodD09PW8uYmxvY2tIZWlnaHQmJnIuYmxvY2tXaWR0aD09PW8uYmxvY2tXaWR0aCYmci5tYXhpbXVtUHlyYW1pZExldmVsPT09by5tYXhpbXVtUHlyYW1pZExldmVsfX07dChbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLG4ucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksdChbcigpXSxuLnByb3RvdHlwZSxcInRpbGVUeXBlXCIsdm9pZCAwKSx0KFtyKCldLG4ucHJvdG90eXBlLFwicmFzdGVyRnVuY3Rpb25cIix2b2lkIDApLHQoW3IoKV0sbi5wcm90b3R5cGUsXCJwcmltYXJ5UmFzdGVyc1wiLHZvaWQgMCksbj10KFtzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5GdW5jdGlvblJhc3RlclwiKV0sbik7Y29uc3QgYz1uO2V4cG9ydHtjIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtlYWNoQWx3YXlzIGFzIHMsY3JlYXRlQWJvcnRFcnJvciBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBpIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydCBuIGZyb21cIi4vSW5NZW1vcnlSYXN0ZXIuanNcIjtpbXBvcnR7cGFyc2VQQU1JbmZvIGFzIGx9ZnJvbVwiLi9wYW1QYXJzZXIuanNcIjtpbXBvcnR7Z2V0Rm9ybWF0IGFzIG19ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9SYXN0ZXJDb2RlYy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVN0YXRpc3RpY3NGcm9tSGlzdG9ncmFtcyBhcyBwfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL1BvbHlub21pYWxUcmFuc2Zvcm0uanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7bGV0IGg9Y2xhc3MgZXh0ZW5kcyBpe2FzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgZT1hd2FpdCB0aGlzLl9mZXRjaERhdGEodCk7bGV0e3NwYXRpYWxSZWZlcmVuY2U6cyxzdGF0aXN0aWNzOnIsaGlzdG9ncmFtczphLHRyYW5zZm9ybTpvfT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeURhdGEodCk7Y29uc3QgaT0hcztpJiYocz1uZXcgZih7d2tpZDozODU3fSkpLGE/Lmxlbmd0aCYmbnVsbD09ciYmKHI9cChhKSk7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6bX09ZTtsZXQgYz1uZXcgdSh7eG1pbjotLjUseW1pbjouNS1tLHhtYXg6bC0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6c30pO2NvbnN0IGg9bz9vLmZvcndhcmRUcmFuc2Zvcm0oYyk6YztsZXQgZD0hMDtpZihvKXtjb25zdCB0PW8uZm9yd2FyZENvZWZmaWNpZW50cztkPXQmJjA9PT10WzFdJiYwPT09dFsyXSxkJiYobz1udWxsLGM9aCl9Y29uc3Qgdz1uZXcgbih7ZGF0YTp7ZXh0ZW50OmgsbmF0aXZlRXh0ZW50OmMsdHJhbnNmb3JtOm8scGl4ZWxCbG9jazplLHN0YXRpc3RpY3M6cixoaXN0b2dyYW1zOmEsa2V5UHJvcGVydGllczp7RGF0ZVR5cGU6XCJQcm9jZXNzZWRcIn0saXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlOml9fSk7YXdhaXQgdy5vcGVuKCksdy5kYXRhPW51bGwsdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHcucmFzdGVySW5mbyksdGhpcy5faW5NZW1vcnlSYXN0ZXI9d31mZXRjaFJhd1RpbGUodCxlLHMscj17fSl7cmV0dXJuIHRoaXMuX2luTWVtb3J5UmFzdGVyLmZldGNoUmF3VGlsZSh0LGUscyxyKX1hc3luYyBfZmV0Y2hEYXRhKHQpe2NvbnN0e2RhdGE6c309YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6dD8uc2lnbmFsfSkscj1tKHMpLnRvVXBwZXJDYXNlKCk7aWYoXCJKUEdcIiE9PXImJlwiUE5HXCIhPT1yJiZcIkdJRlwiIT09ciYmXCJCTVBcIiE9PXIpdGhyb3cgbmV3IGUoXCJpbWFnZS1hdXgtcmFzdGVyOm9wZW5cIixcInRoZSBkYXRhIGlzIG5vdCBhIHN1cHBvcnRlZCBmb3JtYXRcIik7dGhpcy5fc2V0KFwiZGF0YXNldEZvcm1hdFwiLHIpO2NvbnN0IGE9ci50b0xvd2VyQ2FzZSgpLG89XCJnaWZcIj09PWF8fFwiYm1wXCI9PT1hfHwhaGFzKFwiaW9zXCIpLGk9YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKHMse2Zvcm1hdDphLHVzZUNhbnZhczpvLGhhc05vWmxpYk1hc2s6ITB9KTtpZihudWxsPT1pKXRocm93IG5ldyBlKFwiaW1hZ2UtYXV4LXJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBjYW5ub3QgYmUgZGVjb2RlZFwiKTtyZXR1cm4gaX1hc3luYyBfZmV0Y2hBdXhpbGlhcnlEYXRhKHQpe2NvbnN0IGU9dD8uc2lnbmFsLGE9dGhpcy5pb0NvbmZpZy5za2lwRXh0ZW5zaW9ucz8/W10sbz1hLmluY2x1ZGVzKFwiYXV4LnhtbFwiKT9udWxsOnRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi5hdXgueG1sXCIse3Jlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDplfSksaT10aGlzLmRhdGFzZXRGb3JtYXQsbj1cIkpQR1wiPT09aT9cImpnd1wiOlwiUE5HXCI9PT1pP1wicGd3XCI6XCJCTVBcIj09PWk/XCJicHdcIjpudWxsLG09biYmYS5pbmNsdWRlcyhuKT9udWxsOnRoaXMucmVxdWVzdCh0aGlzLnVybC5zbGljZSgwLHRoaXMudXJsLmxhc3RJbmRleE9mKFwiLlwiKSkrXCIuXCIrbix7cmVzcG9uc2VUeXBlOlwidGV4dFwiLHNpZ25hbDplfSkscD1hd2FpdCBzKFtvLG1dKTtpZihlPy5hYm9ydGVkKXRocm93IHIoKTtjb25zdCBmPWwocFswXS52YWx1ZT8uZGF0YSk7aWYoIWYudHJhbnNmb3JtKXtjb25zdCB0PXBbMV0udmFsdWU/cFsxXS52YWx1ZS5kYXRhLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDAsNikubWFwKCh0PT5OdW1iZXIodCkpKTpudWxsO2YudHJhbnNmb3JtPTY9PT10Py5sZW5ndGg/bmV3IGMoe2ZvcndhcmRDb2VmZmljaWVudHM6W3RbNF0sdFs1XSx0WzBdLC10WzFdLHRbMl0sLXRbM11dfSk6bnVsbH1yZXR1cm4gZn19O3QoW2Eoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxoLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLGg9dChbbyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW1hZ2VBdXhSYXN0ZXJcIildLGgpO2NvbnN0IGQ9aDtleHBvcnR7ZCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHthc3NlcnRJc1NvbWUgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3VybFRvT2JqZWN0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vUmFzdGVySW5mby5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1Jhc3RlclN0b3JhZ2VJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vVGlsZUluZm8uanNcIjtpbXBvcnR7VGlsZW1hcENhY2hlIGFzIGN9ZnJvbVwiLi4vVGlsZW1hcENhY2hlLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e3NldFZhbGlkQm91bmRhcnkgYXMgdX1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydCBoIGZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvR0NTU2hpZnRUcmFuc2Zvcm0uanNcIjtpbXBvcnR7cGF0Y2hTZXJ2aWNlSW5mbyBhcyBmLGZldGNoU2VydmljZVJhc3RlckluZm8gYXMgcH1mcm9tXCIuLi8uLi8uLi9yZXN0L2ltYWdlU2VydmljZS9mZXRjaFJhc3RlckluZm8uanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgeCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtsZXQgZz1jbGFzcyBleHRlbmRzIG17Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2xldmVsT2Zmc2V0PTAsdGhpcy5fdGlsZW1hcENhY2hlPW51bGwsdGhpcy5fc2xpY2VzPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiUmFzdGVyVGlsZVNlcnZlclwiLHRoaXMudGlsZVR5cGU9bnVsbH1hc3luYyBvcGVuKGUpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IHI9ZT8uc2lnbmFsLGE9dGhpcy5zb3VyY2VKU09OP3tkYXRhOnRoaXMuc291cmNlSlNPTn06YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtxdWVyeTp7ZjpcImpzb25cIn0sc2lnbmFsOnJ9KTthLnNzbCYmKHRoaXMudXJsPXRoaXMudXJsLnJlcGxhY2UoL15odHRwOi9pLFwiaHR0cHM6XCIpKTtjb25zdCBsPWEuZGF0YTtpZih0aGlzLnNvdXJjZUpTT049bCwhbCl0aHJvdyBuZXcgdChcImltYWdlc2VydmVycmFzdGVyOm9wZW5cIixcImNhbm5vdCBpbml0aWFsaXplIHRpbGVkIGltYWdlIHNlcnZpY2UsIG1pc3Npbmcgc2VydmljZSBpbmZvXCIpO2lmKCFsLnRpbGVJbmZvKXRocm93IG5ldyB0KFwiaW1hZ2VzZXJ2ZXJyYXN0ZXI6b3BlblwiLFwidXNlIEltYWdlcnlMYXllciB0byBvcGVuIG5vbi10aWxlZCBpbWFnZSBzZXJ2aWNlc1wiKTt0aGlzLl9maXhTY2FsZUluU2VydmljZUluZm8oKTtjb25zdCBtPVtcImpwZ1wiLFwianBlZ1wiLFwicG5nXCIsXCJwbmc4XCIsXCJwbmcyNFwiLFwicG5nMzJcIixcIm1peGVkXCJdO3RoaXMudGlsZVR5cGU9bC5jYWNoZVR5cGUsbnVsbD09dGhpcy50aWxlVHlwZSYmKG0uaW5jbHVkZXMobC50aWxlSW5mby5mb3JtYXQudG9Mb3dlckNhc2UoKSk/dGhpcy50aWxlVHlwZT1cIk1hcFwiOlwibGVyY1wiPT09bC50aWxlSW5mby5mb3JtYXQudG9Mb3dlckNhc2UoKT90aGlzLnRpbGVUeXBlPVwiRWxldmF0aW9uXCI6dGhpcy50aWxlVHlwZT1cIlJhc3RlclwiKSx0aGlzLmRhdGFzZXROYW1lPWwubmFtZT8uc2xpY2UobC5uYW1lLmluZGV4T2YoXCIvXCIpKzEpPz9cIlwiO2NvbnN0IHU9YXdhaXQgdGhpcy5fZmV0Y2hSYXN0ZXJJbmZvKHtzaWduYWw6cn0pO2lmKG51bGw9PXUpdGhyb3cgbmV3IHQoXCJpbWFnZS1zZXJ2ZXItcmFzdGVyOm9wZW5cIixcImNhbm5vdCBpbml0aWFsaXplIGltYWdlIHNlcnZpY2VcIik7Zih1LGwpO2NvbnN0IGg9XCJNYXBcIj09PXRoaXMudGlsZVR5cGU/dihsLnRpbGVJbmZvLGwpOm4uZnJvbUpTT04obC50aWxlSW5mbyk7aShoKTtjb25zdFtwLGRdPXRoaXMuX2NvbXB1dGVNaW5NYXhMT0QodSxoKSx7ZXh0ZW50OnkscGl4ZWxTaXplOnh9PXUsZz0uNS91LndpZHRoKngueCxTPU1hdGgubWF4KHgueCx4LnkpLHtsb2RzOkl9PWg7KFwiTWFwXCIhPT10aGlzLnRpbGVUeXBlJiYwIT09bC5tYXhTY2FsZXx8TWF0aC5hYnMoeC54LXgueSk+Z3x8IUkuc29tZSgoZT0+TWF0aC5hYnMoZS5yZXNvbHV0aW9uLVMpPGcpKSkmJih4Lng9eC55PXAucmVzb2x1dGlvbix1LndpZHRoPU1hdGguY2VpbCgoeS54bWF4LXkueG1pbikveC54LS4xKSx1LmhlaWdodD1NYXRoLmNlaWwoKHkueW1heC15LnltaW4pL3gueS0uMSkpO2NvbnN0IHc9cC5sZXZlbC1kLmxldmVsLFtqLE1dPWguc2l6ZSxiPVtdLFQ9W107SS5mb3JFYWNoKCgoZSx0KT0+e2UubGV2ZWw+PWQubGV2ZWwmJmUubGV2ZWw8PXAubGV2ZWwmJmIucHVzaCh7eDplLnJlc29sdXRpb24seTplLnJlc29sdXRpb259KSx0PEkubGVuZ3RoLTEmJlQucHVzaChNYXRoLnJvdW5kKDEwKmUucmVzb2x1dGlvbi9JW3QrMV0ucmVzb2x1dGlvbikvMTApfSkpLGIuc29ydCgoKGUsdCk9PmUueC10LngpKTtjb25zdCBfPXRoaXMuY29tcHV0ZUJsb2NrQm91bmRhcnkoeSxqLE0saC5vcmlnaW4sYix3KSxPPWIubGVuZ3RoPjE/Yi5zbGljZSgxKTpudWxsO2xldCBSO2wudHJhbnNwb3NlSW5mbyYmKFI9e3RpbGVTaXplOltsLnRyYW5zcG9zZUluZm8ucm93cyxsLnRyYW5zcG9zZUluZm8uY29sc10scGFja2V0U2l6ZTp1LmtleVByb3BlcnRpZXM/Ll95eHMuUGFja2V0U2l6ZT8/MH0pO2NvbnN0IHo9VC5sZW5ndGg8PTF8fFQubGVuZ3RoPj0zJiZULnNsaWNlKDAsLTEpLmV2ZXJ5KChlPT5lPT09VFswXSkpP1RbMF0/PzI6TWF0aC5yb3VuZCgxMC8oZC5yZXNvbHV0aW9uL3AucmVzb2x1dGlvbikqKigtMS93KSkvMTA7aWYodS5zdG9yYWdlSW5mbz1uZXcgbyh7YmxvY2tXaWR0aDpoLnNpemVbMF0sYmxvY2tIZWlnaHQ6aC5zaXplWzFdLHB5cmFtaWRCbG9ja1dpZHRoOmguc2l6ZVswXSxweXJhbWlkQmxvY2tIZWlnaHQ6aC5zaXplWzFdLHB5cmFtaWRSZXNvbHV0aW9uczpPLHB5cmFtaWRTY2FsaW5nRmFjdG9yOnosY29tcHJlc3Npb246aC5mb3JtYXQsb3JpZ2luOmgub3JpZ2luLGZpcnN0UHlyYW1pZExldmVsOjEsbWF4aW11bVB5cmFtaWRMZXZlbDp3LHRpbGVJbmZvOmgsdHJhbnNwb3NlSW5mbzpSLGJsb2NrQm91bmRhcnk6X30pLHRoaXMuX2ZpeEdDU1NoaWZ0KHUpLHRoaXMuX3NldChcInJhc3RlckluZm9cIix1KSxsLmNhcGFiaWxpdGllcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwidGlsZW1hcFwiKSl7Y29uc3QgZT17dGlsZUluZm86dS5zdG9yYWdlSW5mby50aWxlSW5mbyxwYXJzZWRVcmw6cyh0aGlzLnVybCksdXJsOnRoaXMudXJsLHRpbGVTZXJ2ZXJzOltdfTt0aGlzLl90aWxlbWFwQ2FjaGU9bmV3IGMoe2xheWVyOmV9KX19YXN5bmMgZmV0Y2hSYXdUaWxlKGUsdCxpLHM9e30pe2NvbnN0e3N0b3JhZ2VJbmZvOnIsZXh0ZW50OmF9PXRoaXMucmFzdGVySW5mbyx7dHJhbnNwb3NlSW5mbzpsfT1yLG89bnVsbCE9bCYmISFzLnRyYW5zcG9zZWRWYXJpYWJsZU5hbWU7aWYodGhpcy5fc2xpY2VzJiYhbyYmbnVsbD09cy5zbGljZUlkKXJldHVybiBudWxsO2NvbnN0IG49bz8wOnIubWF4aW11bVB5cmFtaWRMZXZlbC1lK3RoaXMuX2xldmVsT2Zmc2V0LGM9YCR7dGhpcy51cmx9L3RpbGUvJHtufS8ke3R9LyR7aX1gLG09dGhpcy5fc2xpY2VzP28/e3ZhcmlhYmxlOnMudHJhbnNwb3NlZFZhcmlhYmxlTmFtZX06e3NsaWNlSWQ6cy5zbGljZUlkfHwwfTpudWxsLHtkYXRhOmh9PWF3YWl0IHRoaXMucmVxdWVzdChjLHtxdWVyeTptLHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pO2lmKCFoKXJldHVybiBudWxsO2NvbnN0IGY9bz9sLnRpbGVTaXplOnIudGlsZUluZm8uc2l6ZSxwPWF3YWl0IHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhoLHt3aWR0aDpmWzBdLGhlaWdodDpmWzFdLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsLGlzUG9pbnQ6XCJFbGV2YXRpb25cIj09PXRoaXMudGlsZVR5cGUscmV0dXJuSW50ZXJsZWF2ZWQ6byxub0RhdGFWYWx1ZTp0aGlzLnJhc3RlckluZm8ubm9EYXRhVmFsdWV9KTtpZihudWxsPT1wKXJldHVybiBudWxsO2NvbnN0IGQ9ci5ibG9ja0JvdW5kYXJ5W2VdO2lmKFwianBnXCIhPT1yLmNvbXByZXNzaW9ufHxpPmQubWluQ29sJiZpPGQubWF4Q29sJiZ0PmQubWluUm93JiZ0PGQubWF4Um93KXJldHVybiBwO2NvbnN0e29yaWdpbjp5LGJsb2NrV2lkdGg6eCxibG9ja0hlaWdodDpnfT1yLHt4OnYseTpTfT10aGlzLmdldFB5cmFtaWRQaXhlbFNpemUoZSksST1NYXRoLnJvdW5kKChhLnhtaW4teS54KS92KSV4LHc9TWF0aC5yb3VuZCgoYS54bWF4LXkueCkvdikleHx8eCxqPU1hdGgucm91bmQoKHkueS1hLnltYXgpL1MpJWcsTT1NYXRoLnJvdW5kKCh5LnktYS55bWluKS9TKSVnfHxnLGI9aT09PWQubWluQ29sP0k6MCxUPXQ9PT1kLm1pblJvdz9qOjAsXz1pPT09ZC5tYXhDb2w/dzp4LE89dD09PWQubWF4Um93P006ZztyZXR1cm4gdShwLHt4OmIseTpUfSx7d2lkdGg6Xy1iLGhlaWdodDpPLVR9KSxwfWdldFNsaWNlSW5kZXgoZSl7aWYoIXRoaXMuX3NsaWNlc3x8bnVsbD09ZXx8MD09PWUubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHQ9ZTtmb3IobGV0IGk9MDtpPHRoaXMuX3NsaWNlcy5sZW5ndGg7aSsrKXtjb25zdCBlPXRoaXMuX3NsaWNlc1tpXS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjtpZihlLmxlbmd0aD09PXQubGVuZ3RoJiYhZS5zb21lKChlPT57Y29uc3QgaT10LmZpbmQoKHQ9PmUudmFyaWFibGVOYW1lPT09dC52YXJpYWJsZU5hbWUmJnQuZGltZW5zaW9uTmFtZT09PWUuZGltZW5zaW9uTmFtZSkpO2lmKCFpKXJldHVybiEwO3JldHVybihBcnJheS5pc0FycmF5KGUudmFsdWVzWzBdKT9gJHtlLnZhbHVlc1swXVswXX0tJHtlLnZhbHVlc1swXVsxXX1gOmUudmFsdWVzWzBdKSE9PShBcnJheS5pc0FycmF5KGkudmFsdWVzWzBdKT9gJHtpLnZhbHVlc1swXVswXX0tJHtpLnZhbHVlc1swXVsxXX1gOmkudmFsdWVzWzBdKX0pKSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1hc3luYyBmZXRjaFZhcmlhYmxlU3RhdGlzdGljc0hpc3RvZ3JhbXMoZSx0KXtjb25zdCBpPXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9zdGF0aXN0aWNzXCIse3F1ZXJ5Ont2YXJpYWJsZTplLGY6XCJqc29uXCJ9LHNpZ25hbDp0fSkudGhlbigoZT0+ZS5kYXRhPy5zdGF0aXN0aWNzKSkscz10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvaGlzdG9ncmFtc1wiLHtxdWVyeTp7dmFyaWFibGU6ZSxmOlwianNvblwifSxzaWduYWw6dH0pLnRoZW4oKGU9PmUuZGF0YT8uaGlzdG9ncmFtcykpLHI9YXdhaXQgUHJvbWlzZS5hbGwoW2ksc10pO3JldHVybiByWzBdJiZyWzBdLmZvckVhY2goKGU9PntlLmF2Zz1lLm1lYW4sZS5zdGRkZXY9ZS5zdGFuZGFyZERldmlhdGlvbn0pKSxyWzFdPy5bMF0/LmNvdW50cz8ubGVuZ3RofHwoclsxXT1udWxsKSx7c3RhdGlzdGljczpyWzBdfHxudWxsLGhpc3RvZ3JhbXM6clsxXXx8bnVsbH19YXN5bmMgY29tcHV0ZUJlc3RQeXJhbWlkTGV2ZWxGb3JMb2NhdGlvbihlLHQ9e30pe2lmKCF0aGlzLl90aWxlbWFwQ2FjaGUpcmV0dXJuIDA7bGV0IGk9dGhpcy5pZGVudGlmeVBpeGVsTG9jYXRpb24oZSwwLHQuZGF0dW1UcmFuc2Zvcm1hdGlvbik7aWYobnVsbD09PWkpcmV0dXJuIG51bGw7bGV0IHM9MDtjb25zdHttYXhpbXVtUHlyYW1pZExldmVsOnJ9PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbztsZXQgYT1yLXMrdGhpcy5fbGV2ZWxPZmZzZXQ7Y29uc3QgbD1pLnNyY0xvY2F0aW9uO2Zvcig7YT49MDspe3RyeXtpZihcImF2YWlsYWJsZVwiPT09YXdhaXQgdGhpcy5fdGlsZW1hcENhY2hlLmZldGNoQXZhaWxhYmlsaXR5KGEsaS5yb3csaS5jb2wsdCkpYnJlYWt9Y2F0Y2h7fWlmKGEtLSxzKyssaT10aGlzLmlkZW50aWZ5UGl4ZWxMb2NhdGlvbihsLHMsdC5kYXR1bVRyYW5zZm9ybWF0aW9uKSxudWxsPT09aSlyZXR1cm4gbnVsbH1yZXR1cm4tMT09PWF8fG51bGw9PWk/bnVsbDpzfWFzeW5jIF9mZXRjaFJhc3RlckluZm8oZSl7Y29uc3QgdD10aGlzLnNvdXJjZUpTT047aWYoXCJNYXBcIj09PXRoaXMudGlsZVR5cGUpe2NvbnN0IGU9dC5mdWxsRXh0ZW50fHx0LmV4dGVudCxpPU1hdGguY2VpbCgoZS54bWF4LWUueG1pbikvdC5waXhlbFNpemVYLS4xKSxzPU1hdGguY2VpbCgoZS55bWF4LWUueW1pbikvdC5waXhlbFNpemVZLS4xKSxyPWQuZnJvbUpTT04odC5zcGF0aWFsUmVmZXJlbmNlfHxlLnNwYXRpYWxSZWZlcmVuY2UpLGE9bmV3IHkoe3g6dC5waXhlbFNpemVYLHk6dC5waXhlbFNpemVZLHNwYXRpYWxSZWZlcmVuY2U6cn0pO3JldHVybiBuZXcgbCh7d2lkdGg6aSxoZWlnaHQ6cyxiYW5kQ291bnQ6MyxleHRlbnQ6eC5mcm9tSlNPTihlKSxzcGF0aWFsUmVmZXJlbmNlOnIscGl4ZWxTaXplOmEscGl4ZWxUeXBlOlwidThcIixzdGF0aXN0aWNzOm51bGwsa2V5UHJvcGVydGllczp7RGF0YVR5cGU6XCJwcm9jZXNzZWRcIn19KX1jb25zdHtzaWduYWw6aX09ZSxzPXAodGhpcy51cmwsdGhpcy5zb3VyY2VKU09OLHtzaWduYWw6aSxxdWVyeTp0aGlzLmlvQ29uZmlnLmN1c3RvbUZldGNoUGFyYW1ldGVyc30pLHI9dC5oYXNNdWx0aWRpbWVuc2lvbnM/dGhpcy5yZXF1ZXN0KGAke3RoaXMudXJsfS9zbGljZXNgLHtxdWVyeTp7ZjpcImpzb25cIn0sc2lnbmFsOml9KS50aGVuKChlPT5lLmRhdGE/LnNsaWNlcykpLmNhdGNoKCgoKT0+bnVsbCkpOm51bGwsYT1hd2FpdCBQcm9taXNlLmFsbChbcyxyXSk7cmV0dXJuIHRoaXMuX3NsaWNlcz1hWzFdLGFbMF19X2ZpeFNjYWxlSW5TZXJ2aWNlSW5mbygpe2NvbnN0e3NvdXJjZUpTT046ZX09dGhpcztlLm1pblNjYWxlJiZlLm1pblNjYWxlPDAmJihlLm1pblNjYWxlPTApLGUubWF4U2NhbGUmJmUubWF4U2NhbGU8MCYmKGUubWF4U2NhbGU9MCl9X2ZpeEdDU1NoaWZ0KGUpe2NvbnN0e2V4dGVudDp0LHNwYXRpYWxSZWZlcmVuY2U6aX09ZTt0LnhtaW4+LTEmJnQueG1heD4xODEmJmk/LndraWQmJmkuaXNHZW9ncmFwaGljJiYoZS5uYXRpdmVFeHRlbnQ9ZS5leHRlbnQsZS50cmFuc2Zvcm09bmV3IGgsZS5leHRlbnQ9ZS50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybSh0KSl9X2NvbXB1dGVNaW5NYXhMT0QoZSx0KXtjb25zdHtwaXhlbFNpemU6aX09ZSxzPS41L2Uud2lkdGgqaS54LHtsb2RzOnJ9PXQsYT10LmxvZEF0KE1hdGgubWF4LmFwcGx5KG51bGwsci5tYXAoKGU9PmUubGV2ZWwpKSkpLGw9dC5sb2RBdChNYXRoLm1pbi5hcHBseShudWxsLHIubWFwKChlPT5lLmxldmVsKSkpKSx7dGlsZVR5cGU6b309dGhpcztpZihcIk1hcFwiPT09bylyZXR1cm4gdGhpcy5fbGV2ZWxPZmZzZXQ9clswXS5sZXZlbCxbYSxsXTtpZihcIlJhc3RlclwiPT09byl7cmV0dXJuW3IuZmluZCgoZT0+ZS5yZXNvbHV0aW9uPT09aS54KSk/P2EsbF19Y29uc3R7bWluU2NhbGU6bixtYXhTY2FsZTpjfT10aGlzLnNvdXJjZUpTT047bGV0IG09YTtjPjAmJihtPXIuZmluZCgoZT0+TWF0aC5hYnMoZS5zY2FsZS1jKTxzKSksbXx8KG09ci5maWx0ZXIoKGU9PmUuc2NhbGU+YykpLnNvcnQoKChlLHQpPT5lLnNjYWxlPnQuc2NhbGU/MTotMSkpWzBdPz9hKSk7bGV0IHU9bDtyZXR1cm4gbj4wJiYodT1yLmZpbmQoKGU9Pk1hdGguYWJzKGUuc2NhbGUtbik8cykpPz9sLHRoaXMuX2xldmVsT2Zmc2V0PXUubGV2ZWwtbC5sZXZlbCksW20sdV19fTtmdW5jdGlvbiB2KGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7bWluU2NhbGU6aSxtYXhTY2FsZTpzLG1pbkxPRDpyLG1heExPRDphfT10O2lmKG51bGwhPXImJm51bGwhPWEpcmV0dXJuIG4uZnJvbUpTT04oey4uLmUsbG9kczplLmxvZHMuZmlsdGVyKCgoe2xldmVsOmV9KT0+bnVsbCE9ZSYmZT49ciYmZTw9YSkpfSk7aWYoMCE9PWkmJjAhPT1zKXtjb25zdCB0PWU9Pk1hdGgucm91bmQoMWU0KmUpLzFlNCxyPWk/dChpKToxLzAsYT1zP3Qocyk6LTEvMDtyZXR1cm4gbi5mcm9tSlNPTih7Li4uZSxsb2RzOmUubG9kcy5maWx0ZXIoKGU9Pntjb25zdCBpPXQoZS5zY2FsZSk7cmV0dXJuIGk8PXImJmk+PWF9KSl9KX1yZXR1cm4gbi5mcm9tSlNPTihlKX1lKFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sZy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxlKFtyKCldLGcucHJvdG90eXBlLFwidGlsZVR5cGVcIix2b2lkIDApLGc9ZShbYShcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW1hZ2VTZXJ2ZXJSYXN0ZXJcIildLGcpO2NvbnN0IFM9ZztleHBvcnR7UyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtlYWNoQWx3YXlzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1Jhc3RlckluZm8uanNcIjtpbXBvcnQgYSBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnR7c3BsaXQgYXMgbn1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zIGFzIG19ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtsZXQgYz1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuZGF0YXNldEZvcm1hdD1cIk1FTU9SWVwiLHRoaXMuZGF0YT1udWxsfWFzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgZT10aGlzLmRhdGEse3BpeGVsQmxvY2s6cyxzdGF0aXN0aWNzOnIsaGlzdG9ncmFtczppLG5hbWU6YSxrZXlQcm9wZXJ0aWVzOm4sbmF0aXZlRXh0ZW50Om0sdHJhbnNmb3JtOmN9PXRoaXMuZGF0YSx7d2lkdGg6aCxoZWlnaHQ6ZixwaXhlbFR5cGU6dX09cyxkPWUuZXh0ZW50Pz9uZXcgbCh7eG1pbjotLjUseW1pbjouNSx4bWF4OmgtLjUseW1heDpmLS41LHNwYXRpYWxSZWZlcmVuY2U6bmV3IHAoe3draWQ6Mzg1N30pfSkseT1lLmlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZT8/IWUuZXh0ZW50LHg9e3g6ZC53aWR0aC9oLHk6ZC5oZWlnaHQvZn0sZz1uZXcgbyh7d2lkdGg6aCxoZWlnaHQ6ZixwaXhlbFR5cGU6dSxleHRlbnQ6ZCxuYXRpdmVFeHRlbnQ6bSx0cmFuc2Zvcm06YyxwaXhlbFNpemU6eCxzcGF0aWFsUmVmZXJlbmNlOmQuc3BhdGlhbFJlZmVyZW5jZSxiYW5kQ291bnQ6cy5waXhlbHMubGVuZ3RoLGtleVByb3BlcnRpZXM6bnx8e30sc3RhdGlzdGljczpyLGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTp5LGhpc3RvZ3JhbXM6aX0pO3RoaXMuY3JlYXRlUmVtb3RlRGF0YXNldFN0b3JhZ2VJbmZvKGcsNTEyLDUxMiksdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLGcpLHRoaXMudXBkYXRlVGlsZUluZm8oKSxhd2FpdCB0aGlzLl9idWlsZEluTWVtb3J5UmFzdGVyKHMse3dpZHRoOjUxMixoZWlnaHQ6NTEyfSx0KSx0aGlzLmRhdGFzZXROYW1lPWEsdGhpcy51cmw9XCIvSW5NZW1vcnkvXCIrYX1mZXRjaFJhd1RpbGUodCxlLHMscj17fSl7Y29uc3QgaT10aGlzLl9waXhlbEJsb2NrVGlsZXMuZ2V0KGAke3R9LyR7ZX0vJHtzfWApO3JldHVybiBQcm9taXNlLnJlc29sdmUoaSl9YXN5bmMgX2J1aWxkSW5NZW1vcnlSYXN0ZXIodCxyLGkpe2NvbnN0IG89dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWwsYT10aGlzLnJhc3RlckpvYkhhbmRsZXI/dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLnNwbGl0KHtwaXhlbEJsb2NrOnQsdGlsZVNpemU6cixtYXhpbXVtUHlyYW1pZExldmVsOm99LGkpOlByb21pc2UucmVzb2x2ZShuKHQscixvKSksbD1udWxsIT10aGlzLnJhc3RlckluZm8uc3RhdGlzdGljcyxwPW51bGwhPXRoaXMucmFzdGVySW5mby5oaXN0b2dyYW1zLGM9bD9Qcm9taXNlLnJlc29sdmUoe3N0YXRpc3RpY3M6bnVsbCxoaXN0b2dyYW1zOm51bGx9KTp0aGlzLnJhc3RlckpvYkhhbmRsZXI/dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLmVzdGltYXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMoe3BpeGVsQmxvY2s6dH0saSk6UHJvbWlzZS5yZXNvbHZlKG0odCkpLGg9YXdhaXQgcyhbYSxjXSk7aWYoIWhbMF0udmFsdWUmJmhbMV0udmFsdWUpdGhyb3cgbmV3IGUoXCJpbm1lbW9yeS1yYXN0ZXI6b3BlblwiLFwiZmFpbGVkIHRvIGJ1aWxkIGluIG1lbW9yeSByYXN0ZXJcIik7dGhpcy5fcGl4ZWxCbG9ja1RpbGVzPWhbMF0udmFsdWUsbHx8KHRoaXMucmFzdGVySW5mby5zdGF0aXN0aWNzPWhbMV0udmFsdWU/LnN0YXRpc3RpY3MpLHB8fCh0aGlzLnJhc3RlckluZm8uaGlzdG9ncmFtcz1oWzFdLnZhbHVlPy5oaXN0b2dyYW1zKX19O3QoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxjLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLHQoW3IoKV0sYy5wcm90b3R5cGUsXCJkYXRhXCIsdm9pZCAwKSxjPXQoW2koXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkluTWVtb3J5UmFzdGVyXCIpXSxjKTtjb25zdCBoPWM7ZXhwb3J0e2ggYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1BpeGVsQmxvY2suanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgbiBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnR7cGFyc2VTcGF0aWFsUmVmZXJlbmNlIGFzIGwscGFyc2VQQU1JbmZvIGFzIGZ9ZnJvbVwiLi9wYW1QYXJzZXIuanNcIjtpbXBvcnR7Z2V0RWxlbWVudCBhcyBjLGdldEVsZW1lbnRWYWx1ZSBhcyBwfWZyb21cIi4veG1sVXRpbGl0aWVzLmpzXCI7aW1wb3J0e2lzUGxhdGZvcm1MaXR0bGVFbmRpYW4gYXMgbX1mcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL3V0aWxzLmpzXCI7aW1wb3J0e2VzdGltYXRlU3RhdGlzdGljc0Zyb21IaXN0b2dyYW1zIGFzIGh9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IHk9bmV3IE1hcDt5LnNldChcIkludDhcIixcInM4XCIpLHkuc2V0KFwiVUludDhcIixcInU4XCIpLHkuc2V0KFwiSW50MTZcIixcInMxNlwiKSx5LnNldChcIlVJbnQxNlwiLFwidTE2XCIpLHkuc2V0KFwiSW50MzJcIixcInMzMlwiKSx5LnNldChcIlVJbnQzMlwiLFwidTMyXCIpLHkuc2V0KFwiRmxvYXQzMlwiLFwiZjMyXCIpLHkuc2V0KFwiRmxvYXQ2NFwiLFwiZjMyXCIpLHkuc2V0KFwiRG91YmxlNjRcIixcImYzMlwiKTtjb25zdCB4PW5ldyBNYXA7eC5zZXQoXCJub25lXCIse2Jsb2JFeHRlbnNpb246XCIudGlsXCIsaXNPbmVTZWdtZW50OiEwLGRlY29kZXJGb3JtYXQ6XCJiaXBcIn0pLHguc2V0KFwibGVyY1wiLHtibG9iRXh0ZW5zaW9uOlwiLmxyY1wiLGlzT25lU2VnbWVudDohMSxkZWNvZGVyRm9ybWF0OlwibGVyY1wifSkseC5zZXQoXCJkZWZsYXRlXCIse2Jsb2JFeHRlbnNpb246XCIucHpwXCIsaXNPbmVTZWdtZW50OiEwLGRlY29kZXJGb3JtYXQ6XCJkZWZsYXRlXCJ9KSx4LnNldChcImpwZWdcIix7YmxvYkV4dGVuc2lvbjpcIi5wamdcIixpc09uZVNlZ21lbnQ6ITAsZGVjb2RlckZvcm1hdDpcImpwZ1wifSk7bGV0IHc9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9maWxlcz1udWxsLHRoaXMuX3N0b3JhZ2VJbmRleD1udWxsLHRoaXMuZGF0YXNldEZvcm1hdD1cIk1SRlwifWFzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCksdGhpcy5kYXRhc2V0TmFtZT10aGlzLnVybC5zbGljZSh0aGlzLnVybC5sYXN0SW5kZXhPZihcIi9cIikrMSk7Y29uc3QgZT10P3Quc2lnbmFsOm51bGwscj1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwse3Jlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDplfSkse3Jhc3RlckluZm86cyxmaWxlczpvfT10aGlzLl9wYXJzZUhlYWRlcihyLmRhdGEpO2lmKC0xPT09dGhpcy5pb0NvbmZpZy5za2lwRXh0ZW5zaW9ucz8uaW5kZXhPZihcImF1eC54bWxcIikpe2NvbnN0IGU9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlEYXRhKHQpO251bGwhPWUmJihzLnN0YXRpc3RpY3M9ZS5zdGF0aXN0aWNzPz9zLnN0YXRpc3RpY3Mscy5oaXN0b2dyYW1zPWUuaGlzdG9ncmFtcyxlLmhpc3RvZ3JhbXMmJm51bGw9PXMuc3RhdGlzdGljcyYmKHMuc3RhdGlzdGljcz1oKGUuaGlzdG9ncmFtcykpKX10aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIscyksdGhpcy5fZmlsZXM9bztjb25zdCBpPWF3YWl0IHRoaXMucmVxdWVzdChvLmluZGV4LHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6ZX0pO3RoaXMuX3N0b3JhZ2VJbmRleD10aGlzLl9wYXJzZUluZGV4KGkuZGF0YSk7Y29uc3R7YmxvY2tXaWR0aDphLGJsb2NrSGVpZ2h0Om59PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbyxsPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5weXJhbWlkU2NhbGluZ0ZhY3Rvcix7d2lkdGg6ZixoZWlnaHQ6Y309dGhpcy5yYXN0ZXJJbmZvLHA9W10sbT10aGlzLl9nZXRCYW5kU2VnbWVudENvdW50KCk7bGV0IHU9MCxnPS0xO2Zvcig7dTx0aGlzLl9zdG9yYWdlSW5kZXgubGVuZ3RoOyl7ZysrO2NvbnN0IHQ9TWF0aC5jZWlsKGYvYS9sKipnKS0xLGU9TWF0aC5jZWlsKGMvbi9sKipnKS0xO3UrPSh0KzEpKihlKzEpKm0qNCxwLnB1c2goe21heFJvdzplLG1heENvbDp0LG1pbkNvbDowLG1pblJvdzowfSl9dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnk9cCxnPjAmJih0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uZmlyc3RQeXJhbWlkTGV2ZWw9MSx0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ubWF4aW11bVB5cmFtaWRMZXZlbD1nKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKCl9YXN5bmMgZmV0Y2hSYXdUaWxlKHQsZSxyLHM9e30pe2NvbnN0e2Jsb2NrV2lkdGg6aSxibG9ja0hlaWdodDphLGJsb2NrQm91bmRhcnk6bn09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLGw9blt0XTtpZighbHx8bC5tYXhSb3c8ZXx8bC5tYXhDb2w8cnx8bC5taW5Sb3c+ZXx8bC5taW5Db2w+cilyZXR1cm4gbnVsbDtjb25zdHtiYW5kQ291bnQ6ZixwaXhlbFR5cGU6Y309dGhpcy5yYXN0ZXJJbmZvLHtyYW5nZXM6cCxhY3R1YWxUaWxlV2lkdGg6bSxhY3R1YWxUaWxlSGVpZ2h0Omh9PXRoaXMuX2dldFRpbGVMb2NhdGlvbih0LGUscik7aWYoIXB8fDA9PT1wLmxlbmd0aClyZXR1cm4gbnVsbDtpZigwPT09cFswXS5mcm9tJiYwPT09cFswXS50byl7Y29uc3QgdD1uZXcgVWludDhBcnJheShpKmEpO3JldHVybiBuZXcgbyh7d2lkdGg6aSxoZWlnaHQ6YSxwaXhlbHM6bnVsbCxtYXNrOnQsdmFsaWRQaXhlbENvdW50OjB9KX1jb25zdHtiYW5kSWRzOnV9PXRoaXMuaW9Db25maWcsZz10aGlzLl9nZXRCYW5kU2VnbWVudENvdW50KCksZD1bXTtsZXQgeT0wO2Zvcih5PTA7eTxnO3krKyl1JiYhdS5pbmNsdWRlcyh5KXx8ZC5wdXNoKHRoaXMucmVxdWVzdCh0aGlzLl9maWxlcy5kYXRhLHtyYW5nZTp7ZnJvbTpwW3ldLmZyb20sdG86cFt5XS50b30scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnMuc2lnbmFsfSkpO2NvbnN0IHc9YXdhaXQgUHJvbWlzZS5hbGwoZCksST13Lm1hcCgodD0+dC5kYXRhLmJ5dGVMZW5ndGgpKS5yZWR1Y2UoKCh0LGUpPT50K2UpKSxiPW5ldyBVaW50OEFycmF5KEkpO2xldCBBPTA7Zm9yKHk9MDt5PGc7eSsrKWIuc2V0KG5ldyBVaW50OEFycmF5KHdbeV0uZGF0YSksQSksQSs9d1t5XS5kYXRhLmJ5dGVMZW5ndGg7Y29uc3QgRj14LmdldCh0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uY29tcHJlc3Npb24pLmRlY29kZXJGb3JtYXQsXz1hd2FpdCB0aGlzLmRlY29kZVBpeGVsQmxvY2soYi5idWZmZXIse3dpZHRoOmksaGVpZ2h0OmEsZm9ybWF0OkYscGxhbmVzOnU/Lmxlbmd0aHx8ZixwaXhlbFR5cGU6Y30pO2lmKG51bGw9PV8pcmV0dXJuIG51bGw7bGV0e25vRGF0YVZhbHVlOlJ9PXRoaXMucmFzdGVySW5mbztpZihudWxsIT1SJiZcImxlcmNcIiE9PUYmJiFfLm1hc2smJihSPVJbMF0sbnVsbCE9Uikpe2NvbnN0IHQ9Xy53aWR0aCpfLmhlaWdodCxlPW5ldyBVaW50OEFycmF5KHQpO2lmKE1hdGguYWJzKFIpPjFlMjQpZm9yKHk9MDt5PHQ7eSsrKU1hdGguYWJzKChfLnBpeGVsc1swXVt5XS1SKS9SKT4xZS02JiYoZVt5XT0xKTtlbHNlIGZvcih5PTA7eTx0O3krKylfLnBpeGVsc1swXVt5XSE9PVImJihlW3ldPTEpO18ubWFzaz1lfWxldCBTPTAsaj0wO2lmKG0hPT1pfHxoIT09YSl7bGV0IHQ9Xy5tYXNrO2lmKHQpZm9yKHk9MDt5PGE7eSsrKWlmKGo9eSppLHk8aClmb3IoUz1tO1M8aTtTKyspdFtqK1NdPTA7ZWxzZSBmb3IoUz0wO1M8aTtTKyspdFtqK1NdPTA7ZWxzZSBmb3IodD1uZXcgVWludDhBcnJheShpKmEpLF8ubWFzaz10LHk9MDt5PGg7eSsrKWZvcihqPXkqaSxTPTA7UzxtO1MrKyl0W2orU109MX1yZXR1cm4gX31fcGFyc2VJbmRleCh0KXtpZih0LmJ5dGVMZW5ndGglMTY+MCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFycmF5IGJ1ZmZlciBtdXN0IGJlIG11bHRpcGxlcyBvZiAxNlwiKTtsZXQgZSxyLHMsbyxpLGE7aWYobSl7Zm9yKHI9bmV3IFVpbnQ4QXJyYXkodCksbz1uZXcgQXJyYXlCdWZmZXIodC5ieXRlTGVuZ3RoKSxzPW5ldyBVaW50OEFycmF5KG8pLGk9MDtpPHQuYnl0ZUxlbmd0aC80O2krKylmb3IoYT0wO2E8NDthKyspc1s0KmkrYV09cls0KmkrMy1hXTtlPW5ldyBVaW50MzJBcnJheShvKX1lbHNlIGU9bmV3IFVpbnQzMkFycmF5KHQpO3JldHVybiBlfV9nZXRCYW5kU2VnbWVudENvdW50KCl7cmV0dXJuIHguZ2V0KHRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5jb21wcmVzc2lvbikuaXNPbmVTZWdtZW50PzE6dGhpcy5yYXN0ZXJJbmZvLmJhbmRDb3VudH1fZ2V0VGlsZUxvY2F0aW9uKHQsZSxyKXtjb25zdHtibG9ja1dpZHRoOnMsYmxvY2tIZWlnaHQ6byxweXJhbWlkU2NhbGluZ0ZhY3RvcjppfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se3dpZHRoOmEsaGVpZ2h0Om59PXRoaXMucmFzdGVySW5mbyxsPXRoaXMuX2dldEJhbmRTZWdtZW50Q291bnQoKTtsZXQgZixjLHAsbT0wLGg9MDtmb3IocD0wO3A8dDtwKyspaD1pKipwLGY9TWF0aC5jZWlsKGEvcy9oKSxjPU1hdGguY2VpbChuL28vaCksbSs9ZipjO2g9aSoqdCxmPU1hdGguY2VpbChhL3MvaCksYz1NYXRoLmNlaWwobi9vL2gpLG0rPWUqZityLG0qPTQqbDtjb25zdCB1PXRoaXMuX3N0b3JhZ2VJbmRleC5zdWJhcnJheShtLG0rNCpsKTtsZXQgZz0wLGQ9MDtjb25zdCB5PVtdO2ZvcihsZXQgeD0wO3g8bDt4KyspZz11WzQqeF0qMioqMzIrdVs0KngrMV0sZD1nK3VbNCp4KzJdKjIqKjMyK3VbNCp4KzNdLHkucHVzaCh7ZnJvbTpnLHRvOmR9KTtyZXR1cm57cmFuZ2VzOnksYWN0dWFsVGlsZVdpZHRoOnI8Zi0xP3M6TWF0aC5jZWlsKGEvaCktcyooZi0xKSxhY3R1YWxUaWxlSGVpZ2h0OmU8Yy0xP286TWF0aC5jZWlsKG4vaCktbyooYy0xKX19X3BhcnNlSGVhZGVyKHQpe2NvbnN0IHI9Yyh0LFwiTVJGX01FVEEvUmFzdGVyXCIpO2lmKCFyKXRocm93IG5ldyBlKFwibXJmOm9wZW5cIixcIm5vdCBhIHZhbGlkIE1SRiBmb3JtYXRcIik7Y29uc3Qgcz1jKHIsXCJTaXplXCIpLG89cGFyc2VJbnQocy5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSxuPXBhcnNlSW50KHMuZ2V0QXR0cmlidXRlKFwieVwiKSwxMCksZj1wYXJzZUludChzLmdldEF0dHJpYnV0ZShcImNcIiksMTApLG09KHAocixcIkNvbXByZXNzaW9uXCIpfHxcIm5vbmVcIikudG9Mb3dlckNhc2UoKTtpZigheC5oYXMobSkpdGhyb3cgbmV3IGUoXCJtcmY6b3BlblwiLFwiY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgY29tcHJlc3Npb24gXCIrbSk7Y29uc3QgaD1wKHIsXCJEYXRhVHlwZVwiKXx8XCJVSW50OFwiLHc9eS5nZXQoaCk7aWYobnVsbD09dyl0aHJvdyBuZXcgZShcIm1yZjpvcGVuXCIsXCJjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBwaXhlbCB0eXBlIFwiK2gpO2NvbnN0IEk9YyhyLFwiUGFnZVNpemVcIiksYj1wYXJzZUludChJLmdldEF0dHJpYnV0ZShcInhcIiksMTApLEE9cGFyc2VJbnQoSS5nZXRBdHRyaWJ1dGUoXCJ5XCIpLDEwKSxGPWMocixcIkRhdGFWYWx1ZXNcIik7bGV0IF8sUjtGJiYoUj1GLmdldEF0dHJpYnV0ZShcIk5vRGF0YVwiKSxudWxsIT1SJiYoXz1SLnRyaW0oKS5zcGxpdChcIiBcIikubWFwKCh0PT5wYXJzZUZsb2F0KHQpKSkpKTtpZihjKHQsXCJNUkZfTUVUQS9DYWNoZWRTb3VyY2VcIikpdGhyb3cgbmV3IGUoXCJtcmY6b3BlblwiLFwiY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgTVJGIHJlZmVyZW5jaW5nIG90aGVyIGRhdGEgZmlsZXNcIik7Y29uc3QgUz1jKHQsXCJNUkZfTUVUQS9HZW9UYWdzXCIpLGo9YyhTLFwiQm91bmRpbmdCb3hcIik7bGV0IGssTT0hMTtpZihudWxsIT1qKXtjb25zdCB0PXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtaW54XCIpKSxlPXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtaW55XCIpKSxyPXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtYXh4XCIpKSxzPXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtYXh5XCIpKSxvPXAoUyxcIlByb2plY3Rpb25cIil8fFwiXCI7bGV0IGk9dS5XR1M4NDtpZihcIkxPQ0FMX0NTW11cIiE9PW8paWYoby50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCJlcHNnOlwiKSl7Y29uc3QgdD1OdW1iZXIoby5zbGljZSg1KSk7aXNOYU4odCl8fDA9PT10fHwoaT1uZXcgdSh7d2tpZDp0fSkpfWVsc2UgaT1sKG8pPz91LldHUzg0O2Vsc2UgTT0hMCxpPW5ldyB1KHt3a2lkOjM4NTd9KTtrPW5ldyBnKHQsZSxyLHMpLGsuc3BhdGlhbFJlZmVyZW5jZT1pfWVsc2UgTT0hMCxrPW5ldyBnKHt4bWluOi0uNSx5bWluOi41LW4seG1heDpvLS41LHltYXg6LjUsc3BhdGlhbFJlZmVyZW5jZTpuZXcgdSh7d2tpZDozODU3fSl9KTtjb25zdCBUPWModCxcIk1SRl9NRVRBL1JzZXRzXCIpLEM9cGFyc2VJbnQoVD8uZ2V0QXR0cmlidXRlKFwic2NhbGVcIil8fFwiMlwiLDEwKSxVPWsuc3BhdGlhbFJlZmVyZW5jZSxCPW5ldyBhKHtvcmlnaW46bmV3IGQoe3g6ay54bWluLHk6ay55bWF4LHNwYXRpYWxSZWZlcmVuY2U6VX0pLGJsb2NrV2lkdGg6YixibG9ja0hlaWdodDpBLHB5cmFtaWRCbG9ja1dpZHRoOmIscHlyYW1pZEJsb2NrSGVpZ2h0OkEsY29tcHJlc3Npb246bSxweXJhbWlkU2NhbGluZ0ZhY3RvcjpDfSksRT1uZXcgZCh7eDprLndpZHRoL28seTprLmhlaWdodC9uLHNwYXRpYWxSZWZlcmVuY2U6VX0pLEw9bmV3IGkoe3dpZHRoOm8saGVpZ2h0Om4sZXh0ZW50OmssaXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlOk0sc3BhdGlhbFJlZmVyZW5jZTpVLGJhbmRDb3VudDpmLHBpeGVsVHlwZTp3LHBpeGVsU2l6ZTpFLG5vRGF0YVZhbHVlOl8sc3RvcmFnZUluZm86Qn0pLFA9cCh0LFwiZGF0YWZpbGVcIiksVz1wKHQsXCJJbmRleEZpbGVcIik7cmV0dXJue3Jhc3RlckluZm86TCxmaWxlczp7bXJmOnRoaXMudXJsLGluZGV4Old8fHRoaXMudXJsLnJlcGxhY2UoXCIubXJmXCIsXCIuaWR4XCIpLGRhdGE6UHx8dGhpcy51cmwucmVwbGFjZShcIi5tcmZcIix4LmdldChtKS5ibG9iRXh0ZW5zaW9uKX19fWFzeW5jIF9mZXRjaEF1eGlsaWFyeURhdGEodCl7dHJ5e2NvbnN0e2RhdGE6ZX09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiLmF1eC54bWxcIix7cmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOnQ/LnNpZ25hbH0pO3JldHVybiBmKGUpfWNhdGNoe3JldHVybiBudWxsfX19O3QoW3IoKV0sdy5wcm90b3R5cGUsXCJfZmlsZXNcIix2b2lkIDApLHQoW3IoKV0sdy5wcm90b3R5cGUsXCJfc3RvcmFnZUluZGV4XCIsdm9pZCAwKSx0KFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sdy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx3PXQoW3MoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlcklPLk1SRlJhc3RlclwiKV0sdyk7Y29uc3QgST13O2V4cG9ydHtJIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgZSBmcm9tXCIuL0Nsb3VkUmFzdGVyLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9JbWFnZUF1eFJhc3Rlci5qc1wiO2ltcG9ydCBzIGZyb21cIi4vSW1hZ2VTZXJ2ZXJSYXN0ZXIuanNcIjtpbXBvcnQgbyBmcm9tXCIuL01SRlJhc3Rlci5qc1wiO2ltcG9ydCBhIGZyb21cIi4vVElGRlJhc3Rlci5qc1wiO2NvbnN0IGM9bmV3IE1hcDtjLnNldChcIkNSRlwiLHtkZXNjOlwiQ2xvdWQgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOmV9KSxjLnNldChcIk1SRlwiLHtkZXNjOlwiTWV0YSBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6b30pLGMuc2V0KFwiVElGRlwiLHtkZXNjOlwiR2VvVElGRlwiLGNvbnN0cnVjdG9yOmF9KSxjLnNldChcIlJhc3RlclRpbGVTZXJ2ZXJcIix7ZGVzYzpcIlJhc3RlciBUaWxlIFNlcnZlclwiLGNvbnN0cnVjdG9yOnN9KSxjLnNldChcIkpQR1wiLHtkZXNjOlwiSlBHIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpyfSksYy5zZXQoXCJQTkdcIix7ZGVzYzpcIlBORyBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6cn0pLGMuc2V0KFwiR0lGXCIse2Rlc2M6XCJHSUYgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOnJ9KSxjLnNldChcIkJNUFwiLHtkZXNjOlwiQk1QIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpyfSk7Y2xhc3MgbntzdGF0aWMgZ2V0IHN1cHBvcnRlZEZvcm1hdHMoKXtjb25zdCB0PW5ldyBTZXQ7cmV0dXJuIGMuZm9yRWFjaCgoKGUscik9PnQuYWRkKHIpKSksdH1zdGF0aWMgYXN5bmMgb3BlbihlKXtjb25zdHt1cmw6cixpb0NvbmZpZzpzLHNvdXJjZUpTT046b309ZTtsZXQgYT1lLmRhdGFzZXRGb3JtYXQ7bnVsbD09YSYmci5sYXN0SW5kZXhPZihcIi5cIikmJihhPXIuc2xpY2Uoci5sYXN0SW5kZXhPZihcIi5cIikrMSkudG9VcHBlckNhc2UoKSksXCJPVlJcIj09PWF8fFwiVElGXCI9PT1hP2E9XCJUSUZGXCI6XCJKUEdcIiE9PWEmJlwiSlBFR1wiIT09YSYmXCJKRklGXCIhPT1hfHwoYT1cIkpQR1wiKSxyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCIvaW1hZ2VzZXJ2ZXJcIikmJiFyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCIvd2Nzc2VydmVyXCIpJiYoYT1cIlJhc3RlclRpbGVTZXJ2ZXJcIik7Y29uc3Qgbj17dXJsOnIsc291cmNlSlNPTjpvLGRhdGFzZXRGb3JtYXQ6YSxpb0NvbmZpZzpzPz97YmFuZElkczpudWxsLHNhbXBsaW5nOm51bGx9fTtsZXQgbCxpO2lmKGEmJnRoaXMuc3VwcG9ydGVkRm9ybWF0cy5oYXMoYSkpe2lmKFwiQ1JGXCI9PT1hJiYhcz8uZW5hYmxlQ1JGKXRocm93IG5ldyB0KFwicmFzdGVyZmFjdG9yeTpvcGVuXCIsYGNhbm5vdCBvcGVuIHJhc3RlcjogJHtyfWApO3JldHVybiBsPWMuZ2V0KGEpLmNvbnN0cnVjdG9yLGk9bmV3IGwobiksYXdhaXQgaS5vcGVuKHtzaWduYWw6ZS5zaWduYWx9KSxpfWlmKGEpdGhyb3cgbmV3IHQoXCJyYXN0ZXJmYWN0b3J5Om9wZW5cIixcIm5vdCBhIHN1cHBvcnRlZCBmb3JtYXQgXCIrYSk7Y29uc3QgdT1BcnJheS5mcm9tKGMua2V5cygpKTtsZXQgRj0wO2NvbnN0IG09KCk9PihhPXVbRisrXSxhJiYoXCJDUkZcIiE9PWF8fHM/LmVuYWJsZUNSRik/KGw9Yy5nZXQoYSkuY29uc3RydWN0b3IsaT1uZXcgbChuKSxpLm9wZW4oe3NpZ25hbDplLnNpZ25hbH0pLnRoZW4oKCgpPT5pKSkuY2F0Y2goKCgpPT5tKCkpKSk6bnVsbCk7cmV0dXJuIG0oKX1zdGF0aWMgcmVnaXN0ZXIodCxlLHIpe2MuaGFzKHQudG9VcHBlckNhc2UoKSl8fGMuc2V0KHQudG9VcHBlckNhc2UoKSx7ZGVzYzplLGNvbnN0cnVjdG9yOnJ9KX19ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4vRXBoZW1lcmFsQmxvY2tDYWNoZS5qc1wiO2ltcG9ydHtwcm9qZWN0RXh0ZW50IGFzIHQscHJvamVjdFJlc29sdXRpb24gYXMgbixzbmFwUHlyYW1pZCBhcyBvfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJQcm9qZWN0aW9uSGVscGVyLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCByPW5ldyBNYXAsYz1uZXcgZTtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG51bGw9PXQ/ZTpgJHtlfT9zbGljZUlkPSR7dH1gfWZ1bmN0aW9uIHUoZSx0KXtjb25zdCBuPXtleHRlbnQ6bnVsbCxyYXN0ZXJJbmZvOnQsY2FjaGU6bmV3IE1hcH0sbz1yLmdldChlKTtyZXR1cm4gbz8oby5wdXNoKG4pLG8ubGVuZ3RoLTEpOihyLnNldChlLFtuXSksMCl9ZnVuY3Rpb24gYShlLHQpe2NvbnN0IG49ci5nZXQoZSk7biYmKG5bdF09bnVsbCxuLnNvbWUoKGU9Pm51bGwhPWUpKXx8ci5kZWxldGUoZSkpfWZ1bmN0aW9uIGYoZSl7ci5kZWxldGUoZSl9ZnVuY3Rpb24gcyhlLHQsbil7Y29uc3Qgbz1yLmdldChlKTtpZighbylyZXR1cm4gbnVsbD09dD9jLmRlY3JlYXNlUmVmQ291bnQoZSxuKTowO2lmKG51bGw9PXR8fG51bGw9PW9bdF0pcmV0dXJuIGMuZGVjcmVhc2VSZWZDb3VudChlLG4pO2NvbnN0IGw9b1t0XT8uY2FjaGUsaT1sPy5nZXQobik7aWYobCYmaSl7aWYoaS5yZWZDb3VudC0tLDA9PT1pLnJlZkNvdW50KXtsLmRlbGV0ZShuKTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKylvW2VdPy5jYWNoZS5kZWxldGUobik7aS5jb250cm9sbGVyJiZpLmNvbnRyb2xsZXIuYWJvcnQoKX1yZXR1cm4gaS5yZWZDb3VudH1yZXR1cm4gMH1mdW5jdGlvbiBtKGUsdCxuKXtjb25zdCBvPXIuZ2V0KGUpO2lmKCFvKXJldHVybiBudWxsPT10P2MuZ2V0QmxvY2soZSxuKTpudWxsO2lmKG51bGw9PXR8fG51bGw9PW9bdF0pe2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PW9bZV0/LmNhY2hlLmdldChuKTtpZih0KXJldHVybiB0LnJlZkNvdW50KyssdC5ibG9ja31yZXR1cm4gYy5nZXRCbG9jayhlLG4pfWNvbnN0IGw9b1t0XT8uY2FjaGUuZ2V0KG4pO2lmKGwpcmV0dXJuIGwucmVmQ291bnQrKyxsLmJsb2NrO2ZvcihsZXQgcj0wO3I8by5sZW5ndGg7cisrKXtpZihyPT09dHx8IW9bcl0pY29udGludWU7Y29uc3QgZT1vW3JdPy5jYWNoZSxsPWU/LmdldChuKTtpZihlJiZsKXJldHVybiBsLnJlZkNvdW50KyssZS5zZXQobixsKSxsLmJsb2NrfXJldHVybiBudWxsfWZ1bmN0aW9uIHgoZSx0LG4sbyxsPW51bGwpe2NvbnN0IGk9ci5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQobnVsbD09dCYmYy5wdXRCbG9jayhlLG4sbyxsKSk7aWYobnVsbD09dHx8bnVsbD09aVt0XSlyZXR1cm4gdm9pZCBjLnB1dEJsb2NrKGUsbixvLGwpO2NvbnN0IHU9e3JlZkNvdW50OjEsYmxvY2s6byxpc1Jlc29sdmVkOiExLGlzUmVqZWN0ZWQ6ITEsY29udHJvbGxlcjpsfTtvLnRoZW4oKCgpPT51LmlzUmVzb2x2ZWQ9ITApKS5jYXRjaCgoKCk9PnUuaXNSZWplY3RlZD0hMCkpLGlbdF0/LmNhY2hlLnNldChuLHUpfWZ1bmN0aW9uIGgoZSx0LG4pe2NvbnN0IG89ci5nZXQoZSk7bz9udWxsIT10JiZudWxsIT1vW3RdP29bdF0/LmNhY2hlLmRlbGV0ZShuKTpjLmRlbGV0ZUJsb2NrKGUsbik6bnVsbD09dCYmYy5kZWxldGVCbG9jayhlLG4pfWZ1bmN0aW9uIGQoZSx0KXtjb25zdCBuPXIuZ2V0KGUpO3JldHVybiBuP25bdF0/P251bGw6bnVsbH1mdW5jdGlvbiBnKGUscixjLGksdSxhLGY9bnVsbCl7Y29uc3Qgcz1kKGUscik7aWYoIXMpcmV0dXJuO2NvbnN0IG09cy5leHRlbnQse2NhY2hlOngscmFzdGVySW5mbzpofT1zO2lmKG0mJm0ueG1pbj09PWMueG1pbiYmbS54bWF4PT09Yy54bWF4JiZtLnltaW49PT1jLnltaW4mJm0ueW1heD09PWMueW1heClyZXR1cm47aT1pPz8wO2NvbnN0IGc9Yy5jbG9uZSgpLm5vcm1hbGl6ZSgpLHtzcGF0aWFsUmVmZXJlbmNlOnksdHJhbnNmb3JtOnB9PWgsaz1uZXcgU2V0O2ZvcihsZXQgZD0wO2Q8Zy5sZW5ndGg7ZCsrKXtjb25zdCBlPWdbZF07aWYoZS54bWF4LWUueG1pbjw9aXx8ZS55bWF4LWUueW1pbjw9aSljb250aW51ZTtsZXQgcj10KGUseSxmKTtudWxsIT1wJiYocj1wLmludmVyc2VUcmFuc2Zvcm0ocikpO2NvbnN0IGM9bmV3IGwoe3g6aSx5Omksc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KTtpZihudWxsPT11JiYhKHU9bihjLHksZSxmKSkpcmV0dXJuO2NvbnN0e3B5cmFtaWRMZXZlbDpzLHB5cmFtaWRSZXNvbHV0aW9uOm0sZXhjZXNzaXZlUmVhZGluZzp4fT1vKHUsaCxhfHxcImNsb3Nlc3RcIik7aWYoeClyZXR1cm47Y29uc3R7c3RvcmFnZUluZm86TX09aCx7b3JpZ2luOlJ9PU0sQz17eDpNYXRoLm1heCgwLE1hdGguZmxvb3IoKHIueG1pbi1SLngpL20ueCkpLHk6TWF0aC5tYXgoMCxNYXRoLmZsb29yKChSLnktci55bWF4KS9tLnkpKX0sQj1NYXRoLmNlaWwoKHIueG1heC1yLnhtaW4pL20ueC0uMSksaj1NYXRoLmNlaWwoKHIueW1heC1yLnltaW4pL20ueS0uMSksdj1zPjA/TS5weXJhbWlkQmxvY2tXaWR0aDpNLmJsb2NrV2lkdGgsYj1zPjA/TS5weXJhbWlkQmxvY2tIZWlnaHQ6TS5ibG9ja0hlaWdodCx3PTEsJD1NYXRoLm1heCgwLE1hdGguZmxvb3IoQy54L3YpLXcpLEk9TWF0aC5tYXgoMCxNYXRoLmZsb29yKEMueS9iKS13KSxIPU1hdGguZmxvb3IoKEMueCtCLTEpL3YpK3csRT1NYXRoLmZsb29yKChDLnkrai0xKS9iKSt3O2ZvcihsZXQgdD1JO3Q8PUU7dCsrKWZvcihsZXQgZT0kO2U8PUg7ZSsrKWsuYWRkKGAke3N9LyR7dH0vJHtlfWApfXguZm9yRWFjaCgoKGUsdCk9PntpZighay5oYXModCkpe2NvbnN0IGU9eC5nZXQodCk7KG51bGw9PWV8fGUuaXNSZXNvbHZlZHx8ZS5pc1JlamVjdGVkKSYmeC5kZWxldGUodCl9fSkpLHMuZXh0ZW50PXt4bWluOmMueG1pbix5bWluOmMueW1pbix4bWF4OmMueG1heCx5bWF4OmMueW1heH19ZXhwb3J0e3MgYXMgZGVjcmVhc2VSZWZDb3VudCxoIGFzIGRlbGV0ZUJsb2NrLGYgYXMgZGVsZXRlUmFzdGVyLG0gYXMgZ2V0QmxvY2ssaSBhcyBnZXRSYXN0ZXJJZCx4IGFzIHB1dEJsb2NrLHUgYXMgcmVnaXN0ZXIsYSBhcyB1bnJlZ2lzdGVyLGcgYXMgdXBkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL1Jhc3RlckluZm8uanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9SYXN0ZXJTdG9yYWdlSW5mby5qc1wiO2ltcG9ydCBmIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydCBsIGZyb21cIi4vREJGUGFyc2VyLmpzXCI7aW1wb3J0e3BhcnNlU3BhdGlhbFJlZmVyZW5jZSBhcyB1LHBhcnNlUEFNSW5mbyBhcyBwfWZyb21cIi4vcGFtUGFyc2VyLmpzXCI7aW1wb3J0e3BhcnNlU2lnbmF0dXJlIGFzIGMsZ2V0UHlyYW1pZElGRHMgYXMgaCxnZXRNYXNrSUZEcyBhcyBtLGdldEltYWdlSW5mbyBhcyBkLHBhcnNlSUZEIGFzIHkscGFyc2VGaWVsZFZhbHVlcyBhcyBnLGlzQlNRQ29uZmlnIGFzIFR9ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9UaWZmRGVjb2Rlci5qc1wiO2ltcG9ydCB4IGZyb21cIi4uL3Jhc3RlckZvcm1hdHMvVGlmZlRhZ3MuanNcIjtpbXBvcnR7ZXN0aW1hdGVTdGF0aXN0aWNzRnJvbUhpc3RvZ3JhbXMgYXMgSX1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvc3RyZXRjaFV0aWxzLmpzXCI7aW1wb3J0IHcgZnJvbVwiLi4vcmFzdGVyVHJhbnNmb3Jtcy9Qb2x5bm9taWFsVHJhbnNmb3JtLmpzXCI7aW1wb3J0IFIgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgYiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IF8gZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IEUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBTPShlLHQpPT5lLmdldCh0KT8udmFsdWVzLEY9KGUsdCk9PmUuZ2V0KHQpPy52YWx1ZXM/LlswXTtsZXQgUD1jbGFzcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2ZpbGVzPW51bGwsdGhpcy5faGVhZGVySW5mbz1udWxsLHRoaXMuX2J1ZmZlclNpemU9MTA0ODU3Nix0aGlzLmRhdGFzZXRGb3JtYXQ9XCJUSUZGXCJ9YXN5bmMgb3BlbihlKXthd2FpdCB0aGlzLmluaXQoKTtjb25zdCB0PWU/ZS5zaWduYWw6bnVsbCx7ZGF0YTpzfT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwse3JhbmdlOntmcm9tOjAsdG86dGhpcy5fYnVmZmVyU2l6ZX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnR9KTtpZighcyl0aHJvdyBuZXcgcihcInRpZmZyYXN0ZXI6b3BlblwiLFwiZmFpbGVkIHRvIG9wZW4gdXJsIFwiK3RoaXMudXJsKTt0aGlzLmRhdGFzZXROYW1lPXRoaXMudXJsLnNsaWNlKHRoaXMudXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxLHRoaXMudXJsLmxhc3RJbmRleE9mKFwiLlwiKSk7Y29uc3R7bGl0dGxlRW5kaWFuOmEsZmlyc3RJRkRQb3M6bixpc0JpZ1RpZmY6b309YyhzKSxmPVtdO2F3YWl0IHRoaXMuX3JlYWRJRkRzKGYscyxhLG4sMCxvPzg6NCx0KTtjb25zdHtpbWFnZUluZm86bCxyYXN0ZXJJbmZvOnV9PXRoaXMuX3BhcnNlSUZEcyhmKSxwPWgoZiksZD1tKGYpO2lmKHRoaXMuX2hlYWRlckluZm89e2xpdHRsZUVuZGlhbjphLGlzQmlnVGlmZjpvLGlmZHM6ZixweXJhbWlkSUZEczpwLG1hc2tJRkRzOmQsLi4ubH0sdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHUpLCFsLmlzU3VwcG9ydGVkKXRocm93IG5ldyByKFwidGlmZnJhc3RlcjpvcGVuXCIsXCJ0aGlzIHRpZmYgaXMgbm90IHN1cHBvcnRlZDogXCIrbC5tZXNzYWdlKTtpZighbC50aWxlV2lkdGgpdGhyb3cgbmV3IHIoXCJ0aWZmcmFzdGVyOm9wZW5cIixcIm5vbmUtdGlsZWQgdGlmZiBpcyBub3Qgb3B0aW1pemVkIGZvciBhY2Nlc3MsIGNvbnZlcnQgdG8gQ09HIGFuZCByZXRyeS5cIik7dS5pc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2UmJmkuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJUaGUgc3BhdGlhbCByZWZlcmVuY2UgZm9yIHRoaXMgdGlmZiBpcyB1bnN1cHBvcnRlZC4gT25seSBFUFNHIHNwYXRpYWwgcmVmZXJlbmNlIGNvZGVzIGFuZCBFc3JpIFdLVHMgYXJlIHN1cHBvcnRlZC5cIik7Y29uc3QgeT1mWzBdLmdldChcIlBSRURJQ1RPUlwiKT8udmFsdWVzPy5bMF0sZz1mWzBdLmdldChcIlNBTVBMRUZPUk1BVFwiKT8udmFsdWVzPy5bMF07aWYoMz09PWcmJjI9PT15KXRocm93IG5ldyByKFwidGlmZnJhc3RlcjpvcGVuXCIsXCJ1bnN1cHBvcnRlZCBob3Jpem9udGFsIGRpZmZlcmVuY2UgZW5jb2RpbmcuIFByZWRpY3Rvcj0zIGlzIHN1cHBvcnRlZCBmb3IgZmxvYXR0aW5nIHBvaW50IGRhdGFcIik7Y29uc3R7c2tpcEV4dGVuc2lvbnM6VD1bXX09dGhpcy5pb0NvbmZpZztpZighVC5pbmNsdWRlcyhcImF1eC54bWxcIikpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlNZXRhRGF0YShlKTtudWxsIT10JiZ0aGlzLl9wcm9jZXNzUEFNSW5mbyh0LHUpfVQuaW5jbHVkZXMoXCJ2YXQuZGJmXCIpfHwxIT09dS5iYW5kQ291bnR8fFwidThcIiE9PXUucGl4ZWxUeXBlfHwodS5hdHRyaWJ1dGVUYWJsZT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeVRhYmxlKGUpLG51bGwhPXUuYXR0cmlidXRlVGFibGUmJih1LmtleVByb3BlcnRpZXMuRGF0YVR5cGU9XCJ0aGVtYXRpY1wiKSksdGhpcy51cGRhdGVUaWxlSW5mbygpfWFzeW5jIGZldGNoUmF3VGlsZShlLHQscixpPXt9KXtpZighdGhpcy5faGVhZGVySW5mbz8uaXNTdXBwb3J0ZWR8fHRoaXMuaXNCbG9ja091dHNpZGUoZSx0LHIpKXJldHVybiBudWxsO2NvbnN0IHM9YXdhaXQgdGhpcy5fZmV0Y2hSYXdUaWZmVGlsZShlLHQsciwhMSxpKTtpZihudWxsIT1zJiZ0aGlzLl9oZWFkZXJJbmZvLmhhc01hc2tCYW5kKXtjb25zdCBhPWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlmZlRpbGUoZSx0LHIsITAsaSk7bnVsbCE9YSYmYS5waXhlbHNbMF1pbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihzLm1hc2s9YS5waXhlbHNbMF0pfXJldHVybiBzfV9wYXJzZUlGRHMoZSl7Y29uc3QgdD1kKGUpLHt3aWR0aDpyLGhlaWdodDppLHRpbGVXaWR0aDpzLHRpbGVIZWlnaHQ6YSxwbGFuZXM6ZixwaXhlbFR5cGU6bCxjb21wcmVzc2lvbjpwLGZpcnN0UHlyYW1pZExldmVsOmMsbWF4aW11bVB5cmFtaWRMZXZlbDpoLHB5cmFtaWRCbG9ja1dpZHRoOm0scHlyYW1pZEJsb2NrSGVpZ2h0OnksdGlsZUJvdW5kYXJ5OmcsYWZmaW5lOlQsbWV0YWRhdGE6eH09dCxJPXQuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2U/LndrdHx8dC5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZT8ud2tpZDtsZXQgUj11KEkpLFA9ISF0LmlzUHNldWRvR2VvZ3JhcGhpYztudWxsPT1SJiYoUD0hMCxSPW5ldyBiKHt3a2lkOjM4NTd9KSk7Y29uc3Qgdj1uZXcgXyh7Li4udC5leHRlbnQsc3BhdGlhbFJlZmVyZW5jZTpSfSksRD1uZXcgRSh2P3t4OnYueG1pbix5OnYueW1heCxzcGF0aWFsUmVmZXJlbmNlOlJ9Ont4OjAseTowfSksaz1uZXcgbyh7YmxvY2tXaWR0aDpzLGJsb2NrSGVpZ2h0OmEscHlyYW1pZEJsb2NrV2lkdGg6bSxweXJhbWlkQmxvY2tIZWlnaHQ6eSxjb21wcmVzc2lvbjpwLG9yaWdpbjpELGZpcnN0UHlyYW1pZExldmVsOmMsbWF4aW11bVB5cmFtaWRMZXZlbDpoLGJsb2NrQm91bmRhcnk6Z30pLE89bmV3IEUoe3g6KHYueG1heC12LnhtaW4pL3IseToodi55bWF4LXYueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOlJ9KSxqPXg/e0JhbmRQcm9wZXJ0aWVzOnguYmFuZFByb3BlcnRpZXMsRGF0YVR5cGU6eC5kYXRhVHlwZX06e307bGV0IEw9bnVsbDtjb25zdCBCPUYoZVswXSxcIlBIT1RPTUVUUklDSU5URVJQUkVUQVRJT05cIiksej1TKGVbMF0sXCJDT0xPUk1BUFwiKTtpZihCPD0zJiZ6Py5sZW5ndGg+MyYmei5sZW5ndGglMz09MCl7TD1bXTtjb25zdCBlPXoubGVuZ3RoLzM7Zm9yKGxldCB0PTA7dDxlO3QrKylMLnB1c2goW3Qselt0XT4+Pjgselt0K2VdPj4+OCx6W3QrMiplXT4+PjhdKX1jb25zdCBBPW5ldyBuKHt3aWR0aDpyLGhlaWdodDppLGJhbmRDb3VudDpmLHBpeGVsVHlwZTpsLHBpeGVsU2l6ZTpPLHN0b3JhZ2VJbmZvOmssc3BhdGlhbFJlZmVyZW5jZTpSLGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTpQLGtleVByb3BlcnRpZXM6aixleHRlbnQ6dixjb2xvcm1hcDpMLHN0YXRpc3RpY3M6eD94LnN0YXRpc3RpY3M6bnVsbH0pO3JldHVybiBUPy5sZW5ndGgmJihBLm5hdGl2ZUV4dGVudD1uZXcgXyh7eG1pbjotLjUseW1pbjouNS1pLHhtYXg6ci0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6Un0pLEEudHJhbnNmb3JtPW5ldyB3KHtwb2x5bm9taWFsT3JkZXI6MSxmb3J3YXJkQ29lZmZpY2llbnRzOltUWzJdK1RbMF0vMixUWzVdLVRbM10vMixUWzBdLFRbM10sLVRbMV0sLVRbNF1dfSksQS5leHRlbnQ9QS50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybShBLm5hdGl2ZUV4dGVudCksQS5waXhlbFNpemU9bmV3IEUoe3g6KHYueG1heC12LnhtaW4pL3IseToodi55bWF4LXYueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOlJ9KSxrLm9yaWdpbi54PS0uNSxrLm9yaWdpbi55PS41KSx7aW1hZ2VJbmZvOnQscmFzdGVySW5mbzpBfX1fcHJvY2Vzc1BBTUluZm8oZSx0KXtpZih0LnN0YXRpc3RpY3M9ZS5zdGF0aXN0aWNzPz90LnN0YXRpc3RpY3MsdC5oaXN0b2dyYW1zPWUuaGlzdG9ncmFtcyxlLmhpc3RvZ3JhbXMmJm51bGw9PXQuc3RhdGlzdGljcyYmKHQuc3RhdGlzdGljcz1JKGUuaGlzdG9ncmFtcykpLGUudHJhbnNmb3JtJiZudWxsPT10LnRyYW5zZm9ybSl7dC50cmFuc2Zvcm09ZS50cmFuc2Zvcm0sdC5uYXRpdmVFeHRlbnQ9dC5leHRlbnQ7Y29uc3Qgcj10LnRyYW5zZm9ybS5mb3J3YXJkVHJhbnNmb3JtKHQubmF0aXZlRXh0ZW50KTt0LnBpeGVsU2l6ZT1uZXcgRSh7eDooci54bWF4LXIueG1pbikvdC53aWR0aCx5OihyLnltYXgtci55bWluKS90LmhlaWdodCxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZX0pLHQuZXh0ZW50PXJ9dC5pc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2UmJmUuc3BhdGlhbFJlZmVyZW5jZSYmKHQuc3BhdGlhbFJlZmVyZW5jZT1lLnNwYXRpYWxSZWZlcmVuY2UsdC5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZT10Lm5hdGl2ZUV4dGVudC5zcGF0aWFsUmVmZXJlbmNlPXQuc3RvcmFnZUluZm8ub3JpZ2luLnNwYXRpYWxSZWZlcmVuY2U9dC5zcGF0aWFsUmVmZXJlbmNlKX1hc3luYyBfcmVhZElGRHMoZSx0LHIsaSxzLGE9NCxuKXtpZighaSlyZXR1cm4gbnVsbDtpZihpPj10LmJ5dGVMZW5ndGh8fGk8MCl7dD0oYXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTppK3MsdG86aStzK3RoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpufSkpLmRhdGEscz1pK3MsaT0wfWNvbnN0IG89YXdhaXQgdGhpcy5fcmVhZElGRCh0LHIsaSxzLHgudGlmZlRhZ3MsYSxuKTtpZihlLnB1c2goby5pZmQpLCFvLm5leHRJRkQpcmV0dXJuIG51bGw7YXdhaXQgdGhpcy5fcmVhZElGRHMoZSx0LHIsby5uZXh0SUZELXMscyxhLG4pfWFzeW5jIF9yZWFkSUZEKGUscixpLHMsYT14LnRpZmZUYWdzLG49NCxvKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBmPXkoZSxyLGkscyxhLG4pO2lmKGYuc3VjY2Vzcyl7Y29uc3QgaT1bXTtpZihmLmlmZD8uZm9yRWFjaCgoZT0+e2UudmFsdWVzfHxpLnB1c2goZSl9KSksaS5sZW5ndGg+MCl7Y29uc3QgYT1pLm1hcCgoZT0+ZS5vZmZsaW5lT2Zmc2V0U2l6ZSkpLmZpbHRlcih0KSxuPU1hdGgubWluLmFwcGx5KG51bGwsYS5tYXAoKGU9PmVbMF0pKSk7aWYoTWF0aC5taW4uYXBwbHkobnVsbCxhLm1hcCgoZT0+ZVswXStlWzFdKSkpLW48PXRoaXMuX2J1ZmZlclNpemUpe2NvbnN0e2RhdGE6dH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTpuLHRvOm4rdGhpcy5fYnVmZmVyU2l6ZX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm99KTtlPXQscz1uLGkuZm9yRWFjaCgodD0+ZyhlLHIsdCxzKSkpfX1pZihmLmlmZD8uaGFzKFwiR0VPS0VZRElSRUNUT1JZXCIpKXtjb25zdCB0PWYuaWZkLmdldChcIkdFT0tFWURJUkVDVE9SWVwiKSxpPXQ/LnZhbHVlcztpZihpJiZpLmxlbmd0aD40KXtjb25zdCBhPWlbMF0rXCIuXCIraVsxXStcIi5cIitpWzJdLG49YXdhaXQgdGhpcy5fcmVhZElGRChlLHIsdC52YWx1ZU9mZnNldCs2LXMscyx4Lmdlb0tleXMsMixvKTt0LmRhdGE9bi5pZmQsdC5kYXRhJiZ0LmRhdGEuc2V0KFwiR0VPVElGRlZlcnNpb25cIix7aWQ6MCx0eXBlOjIsdmFsdWVDb3VudDoxLHZhbHVlT2Zmc2V0Om51bGwsdmFsdWVzOlthXX0pfX1yZXR1cm4gZn1pZihmLnJlcXVpcmVkQnVmZmVyU2l6ZSYmZi5yZXF1aXJlZEJ1ZmZlclNpemUhPT1lLmJ5dGVMZW5ndGgpe2NvbnN0IHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTpzLHRvOnMrZi5yZXF1aXJlZEJ1ZmZlclNpemUrNH0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm99KTtyZXR1cm4oZT10LmRhdGEpLmJ5dGVMZW5ndGg8Zi5yZXF1aXJlZEJ1ZmZlclNpemU/bnVsbDp0aGlzLl9yZWFkSUZEKGUsciwwLHMseC50aWZmVGFncyw0LG8pfX1hc3luYyBfZmV0Y2hSYXdUaWZmVGlsZShlLHQscixpLHM9e30pe2NvbnN0IGE9dGhpcy5fZ2V0VGlsZUxvY2F0aW9uKGUsdCxyLGkpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0e3JhbmdlczpuLGFjdHVhbFRpbGVXaWR0aDpvLGFjdHVhbFRpbGVIZWlnaHQ6ZixpZmQ6bH09YSx1PW4ubWFwKChlPT50aGlzLnJlcXVlc3QodGhpcy51cmwse3JhbmdlOmUscmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnMuc2lnbmFsfSkpKSxwPWF3YWl0IFByb21pc2UuYWxsKHUpLGM9cC5tYXAoKGU9PmUuZGF0YS5ieXRlTGVuZ3RoKSkucmVkdWNlKCgoZSx0KT0+ZSt0KSksaD0xPT09cC5sZW5ndGg/cFswXS5kYXRhOm5ldyBBcnJheUJ1ZmZlcihjKSxtPVswXSxkPVswXTtpZihwLmxlbmd0aD4xKXtjb25zdCBlPW5ldyBVaW50OEFycmF5KGgpO2ZvcihsZXQgdD0wLHI9MDt0PHAubGVuZ3RoO3QrKyl7Y29uc3QgaT1wW3RdLmRhdGE7ZS5zZXQobmV3IFVpbnQ4QXJyYXkoaSksciksbVt0XT1yLHIrPWkuYnl0ZUxlbmd0aCxkW3RdPWkuYnl0ZUxlbmd0aH19Y29uc3R7YmxvY2tXaWR0aDp5LGJsb2NrSGVpZ2h0Omd9PXRoaXMuZ2V0QmxvY2tXaWR0aEhlaWdodChlKSxUPWF3YWl0IHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhoLHtmb3JtYXQ6XCJ0aWZmXCIsY3VzdG9tT3B0aW9uczp7aGVhZGVySW5mbzp0aGlzLl9oZWFkZXJJbmZvLGlmZDpsLG9mZnNldHM6bSxzaXplczpkfSx3aWR0aDp5LGhlaWdodDpnLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsfSk7aWYobnVsbD09VClyZXR1cm4gbnVsbDtsZXQgeCxJLHc7aWYobyE9PXl8fGYhPT1nKXtsZXQgZT1ULm1hc2s7aWYoZSlmb3IoeD0wO3g8Zzt4KyspaWYodz14KnkseDxmKWZvcihJPW87STx5O0krKyllW3crSV09MDtlbHNlIGZvcihJPTA7STx5O0krKyllW3crSV09MDtlbHNlIGZvcihlPW5ldyBVaW50OEFycmF5KHkqZyksVC5tYXNrPWUseD0wO3g8Zjt4KyspZm9yKHc9eCp5LEk9MDtJPG87SSsrKWVbdytJXT0xfXJldHVybiBUfV9nZXRUaWxlTG9jYXRpb24oZSx0LHIsaT0hMSl7Y29uc3R7Zmlyc3RQeXJhbWlkTGV2ZWw6cyxibG9ja0JvdW5kYXJ5OmF9PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbyxuPTA9PT1lPzA6ZS0ocy0xKSx7X2hlYWRlckluZm86b309dGhpcztpZighbylyZXR1cm4gbnVsbDtjb25zdCBmPWk/by5tYXNrSUZEc1tuXTowPT09bj9vPy5pZmRzWzBdOm8/LnB5cmFtaWRJRkRzW24tMV07aWYoIWYpcmV0dXJuIG51bGw7Y29uc3QgbD1UKGYsbyksdT1TKGYsXCJUSUxFT0ZGU0VUU1wiKTtpZih2b2lkIDA9PT11KXJldHVybiBudWxsO2NvbnN0IHA9UyhmLFwiVElMRUJZVEVDT1VOVFNcIikse21pblJvdzpjLG1pbkNvbDpoLG1heFJvdzptLG1heENvbDpkfT1hW25dO2lmKHQ+bXx8cj5kfHx0PGN8fHI8aClyZXR1cm4gbnVsbDtjb25zdCB5PUYoZixcIklNQUdFV0lEVEhcIiksZz1GKGYsXCJJTUFHRUxFTkdUSFwiKSx4PUYoZixcIlRJTEVXSURUSFwiKSxJPUYoZixcIlRJTEVMRU5HVEhcIiksdz1bXTtpZihsKXtjb25zdHtiYW5kQ291bnQ6ZX09dGhpcy5yYXN0ZXJJbmZvO2ZvcihsZXQgaT0wO2k8ZTtpKyspe2NvbnN0IGU9aSoobSsxKSooZCsxKSt0KihkKzEpK3I7d1tpXT17ZnJvbTp1W2VdLHRvOnVbZV0rcFtlXS0xfX19ZWxzZXtjb25zdCBlPXQqKGQrMSkrcjt3LnB1c2goe2Zyb206dVtlXSx0bzp1W2VdK3BbZV0tMX0pfWZvcihsZXQgVD0wO1Q8dy5sZW5ndGg7VCsrKWlmKG51bGw9PXdbVF0uZnJvbXx8IXdbVF0udG98fHdbVF0udG88MClyZXR1cm4gbnVsbDtyZXR1cm57cmFuZ2VzOncsaWZkOmYsYWN0dWFsVGlsZVdpZHRoOnI9PT1kJiZ5JXh8fHgsYWN0dWFsVGlsZUhlaWdodDp0PT09bSYmZyVJfHxJfX1hc3luYyBfZmV0Y2hBdXhpbGlhcnlNZXRhRGF0YShlKXt0cnl7Y29uc3R7ZGF0YTp0fT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIuYXV4LnhtbFwiLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZT8uc2lnbmFsfSk7cmV0dXJuIHAodCl9Y2F0Y2h7cmV0dXJuIG51bGx9fWFzeW5jIF9mZXRjaEF1eGlsaWFyeVRhYmxlKGUpe3RyeXtjb25zdHtkYXRhOnR9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi52YXQuZGJmXCIse3Jlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDplPy5zaWduYWx9KSxyPWwucGFyc2UodCk7cmV0dXJuIHI/LnJlY29yZFNldD9SLmZyb21KU09OKHIucmVjb3JkU2V0KTpudWxsfWNhdGNoe3JldHVybiBudWxsfX19O2UoW3MoKV0sUC5wcm90b3R5cGUsXCJfZmlsZXNcIix2b2lkIDApLGUoW3MoKV0sUC5wcm90b3R5cGUsXCJfaGVhZGVySW5mb1wiLHZvaWQgMCksZShbcygpXSxQLnByb3RvdHlwZSxcIl9idWZmZXJTaXplXCIsdm9pZCAwKSxlKFtzKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUC5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxQPWUoW2EoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLlRJRkZSYXN0ZXJcIildLFApO2NvbnN0IHY9UDtleHBvcnR7diBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2lzU29tZSBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtpc1dLVDIgYXMgdH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtpc1NhbWVUYWdJZ25vcmVOUyBhcyBuLGdldEVsZW1lbnRWYWx1ZSBhcyByLGdldEVsZW1lbnRzIGFzIHMsZ2V0RWxlbWVudCBhcyBhLGdldEVsZW1lbnROdW1lcmljVmFsdWUgYXMgaSxnZXRFbGVtZW50TnVtZXJpY1ZhbHVlcyBhcyBsfWZyb21cIi4veG1sVXRpbGl0aWVzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vcmFzdGVyVHJhbnNmb3Jtcy9Qb2x5bm9taWFsVHJhbnNmb3JtLmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2Z1bmN0aW9uIHUoZSx0KXtpZighZXx8IXQpcmV0dXJuIG51bGw7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyluLnB1c2goZVtyXSksbi5wdXNoKHRbcl0pO3JldHVybiBufWZ1bmN0aW9uIGMoZSl7Y29uc3QgdD1hKGUsXCJHZW9kYXRhWGZvcm1cIiksbj1kKGkodCxcIlNwYXRpYWxSZWZlcmVuY2UvV0tJRFwiKXx8cih0LFwiU3BhdGlhbFJlZmVyZW5jZS9XS1RcIikpO2lmKFwidHlwZW5zOlBvbHlub21pYWxYZm9ybVwiIT09dC5nZXRBdHRyaWJ1dGUoXCJ4c2k6dHlwZVwiKSlyZXR1cm57c3BhdGlhbFJlZmVyZW5jZTpuLHRyYW5zZm9ybTpudWxsfTtjb25zdCBzPWkodCxcIlBvbHlub21pYWxPcmRlclwiKT8/MSxmPWwodCxcIkNvZWZmWC9Eb3VibGVcIiksYz1sKHQsXCJDb2VmZlkvRG91YmxlXCIpLG09bCh0LFwiSW52ZXJzZUNvZWZmWC9Eb3VibGVcIikscD1sKHQsXCJJbnZlcnNlQ29lZmZZL0RvdWJsZVwiKSxTPXUoZixjKSxDPXUobSxwKTtyZXR1cm57c3BhdGlhbFJlZmVyZW5jZTpuLHRyYW5zZm9ybTpTJiZDJiZTLmxlbmd0aCYmQy5sZW5ndGg/bmV3IG8oe3NwYXRpYWxSZWZlcmVuY2U6bixwb2x5bm9taWFsT3JkZXI6cyxmb3J3YXJkQ29lZmZpY2llbnRzOlMsaW52ZXJzZUNvZWZmaWNpZW50czpDfSk6bnVsbH19ZnVuY3Rpb24gbShlKXtjb25zdCB0PWkoZSxcIk5vRGF0YVZhbHVlXCIpLG49YShlLFwiSGlzdG9ncmFtcy9IaXN0SXRlbVwiKSxsPWkobixcIkhpc3RNaW5cIiksbz1pKG4sXCJIaXN0TWF4XCIpLGY9aShuLFwiQnVja2V0Q291bnRcIiksdT1yKG4sXCJIaXN0Q291bnRzXCIpPy5zcGxpdChcInxcIikubWFwKChlPT5OdW1iZXIoZSkpKTtsZXQgYyxtLGQscDtzKGUsXCJNZXRhZGF0YS9NRElcIikuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9TnVtYmVyKGUudGV4dENvbnRlbnQ/P2Uubm9kZVZhbHVlKTtzd2l0Y2goZS5nZXRBdHRyaWJ1dGUoXCJrZXlcIikudG9VcHBlckNhc2UoKSl7Y2FzZVwiU1RBVElTVElDU19NSU5JTVVNXCI6Yz10O2JyZWFrO2Nhc2VcIlNUQVRJU1RJQ1NfTUFYSU1VTVwiOm09dDticmVhaztjYXNlXCJTVEFUSVNUSUNTX01FQU5cIjpkPXQ7YnJlYWs7Y2FzZVwiU1RBVElTVElDU19TVERERVZcIjpwPXR9fSkpO2NvbnN0IFM9aShlLFwiTWV0YWRhdGEvU291cmNlQmFuZEluZGV4XCIpO3JldHVybntub0RhdGFWYWx1ZTp0LGhpc3RvZ3JhbTp1Py5sZW5ndGgmJm51bGwhPWwmJm51bGwhPW8/e21pbjpsLG1heDpvLHNpemU6Znx8dS5sZW5ndGgsY291bnRzOnV9Om51bGwsc291cmNlQmFuZEluZGV4OlMsc3RhdGlzdGljczpudWxsIT1jJiZudWxsIT1tP3ttaW46YyxtYXg6bSxhdmc6ZCxzdGRkZXY6cH06bnVsbH19ZnVuY3Rpb24gZChlKXtpZighZSlyZXR1cm4gbnVsbDtsZXQgbj1OdW1iZXIoZSk7aWYoIWlzTmFOKG4pJiYwIT09bilyZXR1cm4gbmV3IGYoe3draWQ6bn0pO2lmKGU9U3RyaW5nKGUpLnRyaW0oKSx0KGUpKXJldHVybiBuZXcgZih7d2t0MjplfSk7Y29uc3Qgcj1lLnRvVXBwZXJDYXNlKCk7aWYoci5zdGFydHNXaXRoKFwiQ09NUERfQ1NcIikpe2lmKCFyLmluY2x1ZGVzKFwiVkVSVENTXCIpfHwhci5pbmNsdWRlcyhcIkdFT0dDU1wiKSYmIXIuc3RhcnRzV2l0aChcIlBST0pDU1wiKSlyZXR1cm4gbnVsbDtjb25zdCB0PXIuaW5kZXhPZihcIlZFUlRDU1wiKSxzPXIuaW5kZXhPZihcIlBST0pDU1wiKSxhPXM+LTE/czpyLmluZGV4T2YoXCJHRU9HQ1NcIik7aWYoLTE9PT1hKXJldHVybiBudWxsO2NvbnN0IGk9ZS5zbGljZShhLGUubGFzdEluZGV4T2YoXCJdXCIsdCkrMSkudHJpbSgpLGw9ZS5zbGljZSh0LGUubGFzdEluZGV4T2YoXCJdXCIpKS50cmltKCk7bj1wKGkpO2NvbnN0IG89bmV3IGYobj97d2tpZDpufTp7d2t0Oml9KSx1PXAobCk7cmV0dXJuIHUmJihvLnZjc1draWQ9dSksb31yZXR1cm4gci5zdGFydHNXaXRoKFwiR0VPR0NTXCIpfHxyLnN0YXJ0c1dpdGgoXCJQUk9KQ1NcIik/KG49cChlKSxuZXcgZigwIT09bj97d2tpZDpufTp7d2t0OmV9KSk6bnVsbH1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9ZS5yZXBsYWNlQWxsKFwiXVwiLFwiW1wiKS5yZXBsYWNlQWxsKCdcIicsXCJcIikuc3BsaXQoXCJbXCIpLm1hcCgoZT0+ZS50cmltKCkpKS5maWx0ZXIoKGU9PlwiXCIhPT1lKSksbj10W3QubGVuZ3RoLTFdLnNwbGl0KFwiLFwiKSxyPW5bMF0/LnRvTG93ZXJDYXNlKCk7aWYoKFwiZXBzZ1wiPT09cnx8XCJlc3JpXCI9PT1yKSYmZS5lbmRzV2l0aCgnXCJdXScpKXtjb25zdCBlPU51bWJlcihuWzFdKTtpZighaXNOYU4oZSkmJjAhPT1lKXJldHVybiBlfXJldHVybiAwfWZ1bmN0aW9uIFModCl7aWYoXCJwYW1kYXRhc2V0XCIhPT10Py5kb2N1bWVudEVsZW1lbnQudGFnTmFtZT8udG9Mb3dlckNhc2UoKSlyZXR1cm57fTtjb25zdCBhPXtzcGF0aWFsUmVmZXJlbmNlOm51bGwsdHJhbnNmb3JtOm51bGwsbWV0YWRhdGE6e30scmFzdGVyQmFuZHM6W10sc3RhdGlzdGljczpudWxsLGhpc3RvZ3JhbXM6bnVsbH07dC5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChlPT57aWYoMT09PWUubm9kZVR5cGUpaWYobihlLFwiU1JTXCIpKXtpZighYS5zcGF0aWFsUmVmZXJlbmNlKXtjb25zdCB0PXIoZSk7YS5zcGF0aWFsUmVmZXJlbmNlPWQodCl9fWVsc2UgaWYobihlLFwiTWV0YWRhdGFcIikpaWYoXCJ4bWw6RVNSSVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJkb21haW5cIikpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6dCx0cmFuc2Zvcm06bn09YyhlKTthLnRyYW5zZm9ybT1uLGEuc3BhdGlhbFJlZmVyZW5jZXx8KGEuc3BhdGlhbFJlZmVyZW5jZT10KX1lbHNle3MoZSxcIk1ESVwiKS5mb3JFYWNoKChlPT5hLm1ldGFkYXRhW2UuZ2V0QXR0cmlidXRlKFwia2V5XCIpXT1yKGUpKSl9ZWxzZSBpZihuKGUsXCJQQU1SYXN0ZXJCYW5kXCIpKXtjb25zdCB0PW0oZSk7bnVsbCE9dC5zb3VyY2VCYW5kSW5kZXgmJm51bGw9PWEucmFzdGVyQmFuZHNbdC5zb3VyY2VCYW5kSW5kZXhdP2EucmFzdGVyQmFuZHNbdC5zb3VyY2VCYW5kSW5kZXhdPXQ6YS5yYXN0ZXJCYW5kcy5wdXNoKHQpfX0pKTtjb25zdCBpPWEucmFzdGVyQmFuZHM7aWYoaS5sZW5ndGgpe2NvbnN0IHQ9ISFpWzBdLnN0YXRpc3RpY3M7YS5zdGF0aXN0aWNzPXQ/aS5tYXAoKGU9PmUuc3RhdGlzdGljcykpLmZpbHRlcihlKTpudWxsO2NvbnN0IG49ISFpWzBdLmhpc3RvZ3JhbTthLmhpc3RvZ3JhbXM9bj9pLm1hcCgoZT0+ZS5oaXN0b2dyYW0pKS5maWx0ZXIoZSk6bnVsbH1yZXR1cm4gYX1leHBvcnR7UyBhcyBwYXJzZVBBTUluZm8sZCBhcyBwYXJzZVNwYXRpYWxSZWZlcmVuY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4oZSx0KXtpZighZXx8IXQpcmV0dXJuW107bGV0IGw9dDt0LmluY2x1ZGVzKFwiL1wiKT8obD10LnNsaWNlKDAsdC5pbmRleE9mKFwiL1wiKSksdD10LnNsaWNlKHQuaW5kZXhPZihcIi9cIikrMSkpOnQ9XCJcIjtjb25zdCByPVtdO2lmKHQpe2NvbnN0IHU9bihlLGwpO2ZvcihsZXQgZT0wO2U8dS5sZW5ndGg7ZSsrKXtuKHVbZV0sdCkuZm9yRWFjaCgobj0+ci5wdXNoKG4pKSl9cmV0dXJuIHJ9Y29uc3QgdT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoXCIqXCIsbCk7aWYoIXV8fDA9PT11Lmxlbmd0aClyZXR1cm5bXTtmb3IobGV0IG49MDtuPHUubGVuZ3RoO24rKylyLnB1c2godVtuXXx8dS5pdGVtKG4pKTtyZXR1cm4gcn1mdW5jdGlvbiBlKHQsbCl7aWYoIXR8fCFsKXJldHVybiBudWxsO2xldCByPWw7bC5pbmNsdWRlcyhcIi9cIik/KHI9bC5zbGljZSgwLGwuaW5kZXhPZihcIi9cIikpLGw9bC5zbGljZShsLmluZGV4T2YoXCIvXCIpKzEpKTpsPVwiXCI7Y29uc3QgdT1uKHQscik7cmV0dXJuIHUubGVuZ3RoPjA/bD9lKHVbMF0sbCk6dVswXTpudWxsfWZ1bmN0aW9uIHQobix0PW51bGwpe2NvbnN0IGw9dD9lKG4sdCk6bjtsZXQgcjtyZXR1cm4gbD8ocj1sLnRleHRDb250ZW50fHxsLm5vZGVWYWx1ZSxyP3IudHJpbSgpOm51bGwpOm51bGx9ZnVuY3Rpb24gbChlLHQpe2NvbnN0IGw9bihlLHQpLHI9W107bGV0IHU7Zm9yKGxldCBuPTA7bjxsLmxlbmd0aDtuKyspdT1sW25dLnRleHRDb250ZW50fHxsW25dLm5vZGVWYWx1ZSx1JiYodT11LnRyaW0oKSxcIlwiIT09dSYmci5wdXNoKHUpKTtyZXR1cm4gcn1mdW5jdGlvbiByKG4sZT1udWxsKXtjb25zdCBsPXQobixlKTtyZXR1cm4gbD8uc3BsaXQoXCIgXCIpLm1hcCgobj0+TnVtYmVyKG4pKSk/P1tdfWZ1bmN0aW9uIHUobixlKXtyZXR1cm4gbChuLGUpLm1hcCgobj0+TnVtYmVyKG4pKSl9ZnVuY3Rpb24gbyhuLGUpe2NvbnN0IGw9dChuLGUpO3JldHVybiBOdW1iZXIobCl9ZnVuY3Rpb24gaShuLGUpe2NvbnN0IHQ9bj8ubm9kZU5hbWU/LnRvTG93ZXJDYXNlKCksbD1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQuc2xpY2UodC5sYXN0SW5kZXhPZihcIjpcIikrMSk9PT1sfWZ1bmN0aW9uIGMobil7cmV0dXJuIG4ubm9kZU5hbWUuc2xpY2Uobi5ub2RlTmFtZS5sYXN0SW5kZXhPZihcIjpcIikrMSl9ZXhwb3J0e2UgYXMgZ2V0RWxlbWVudCxvIGFzIGdldEVsZW1lbnROdW1lcmljVmFsdWUsdSBhcyBnZXRFbGVtZW50TnVtZXJpY1ZhbHVlcyx0IGFzIGdldEVsZW1lbnRWYWx1ZSxsIGFzIGdldEVsZW1lbnRWYWx1ZXMsbiBhcyBnZXRFbGVtZW50cyxjIGFzIGdldE5vZGVOYW1lSWdub3JlTlMsciBhcyBnZXRTcGFjZURlbGltaXRlZE51bWVyaWNWYWx1ZXMsaSBhcyBpc1NhbWVUYWdJZ25vcmVOU307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vUGl4ZWxCbG9jay5qc1wiO2Z1bmN0aW9uIG4oZSxpKXtpZihlLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGkpKXJldHVybiBlO2NvbnN0IG49dChlLnNwYXRpYWxSZWZlcmVuY2UpLGE9dChpKTtpZihuPT09YSlyZXR1cm4gZTtjb25zdCBoPW4vYTtyZXR1cm57eDplLngqaCx5OmUueSpofX1hc3luYyBmdW5jdGlvbiBhKHQsZSxuKXtpZihcImV4dGVudFwiPT09bi50eXBlKXJldHVybiBvKHQsZSxuKTtjb25zdHt3aWR0aDphLGhlaWdodDp4fT10LGw9bmV3IFVpbnQ4QXJyYXkoYSp4KSx7Y29udGFpbnM6bSxpbnRlcnNlY3RzOnN9PWF3YWl0IGltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lLmpzXCIpO3JldHVybiBzKGUsbik/XCJwb2x5bGluZVwiPT09bi50eXBlP3IodCxlLG4pOm0obixlKT90OmgodCxlLG4pOm5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6eCxtYXNrOmwsbWFza0lzQWxwaGE6ITEscGl4ZWxzOlsuLi50LnBpeGVsc119KX1mdW5jdGlvbiBoKHQsZSxuKXtpZighdClyZXR1cm4gdDtjb25zdHt3aWR0aDphLGhlaWdodDpofT10LG89ZS53aWR0aC9hLHI9ZS5oZWlnaHQvaCx7eG1pbjp4LHltYXg6bH09ZTtsZXQgbTtpZihcImV4dGVudFwiPT09bi50eXBlKXtjb25zdCB0PShuLnhtaW4teCkvbyxlPShuLnhtYXgteCkvbyxpPShsLW4ueW1heCkvcixhPShsLW4ueW1pbikvcjttPVtbW3QsaV0sW3QsYV0sW2UsYV0sW2UsaV0sW3QsaV1dXX1lbHNlIG09bi5yaW5ncy5tYXAoKHQ9PnQubWFwKCgoW3QsZV0pPT5bKHQteCkvbywobC1lKS9yXSkpKSk7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Mud2lkdGg9YSxzLmhlaWdodD1oO2NvbnN0IHA9cy5nZXRDb250ZXh0KFwiMmRcIik7cC5maWxsU3R5bGU9XCIjZjAwXCIsbS5mb3JFYWNoKCh0PT57cC5iZWdpblBhdGgoKSxwLm1vdmVUbyh0WzBdWzBdLHRbMF1bMV0pO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXAubGluZVRvKHRbZV1bMF0sdFtlXVsxXSk7cC5jbG9zZVBhdGgoKSxwLmZpbGwoKX0pKTtjb25zdCBmPXAuZ2V0SW1hZ2VEYXRhKDAsMCxhLGgpLmRhdGEseT10Lm1hc2ssYz1hKmgsTT1uZXcgVWludDhBcnJheShjKTtmb3IobGV0IGk9MDtpPGM7aSsrKXkmJiF5W2ldfHwoTVtpXT1mWzQqaSszXT4xMjc/MjU1OjApO3JldHVybiBuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OmgsbWFzazpNLG1hc2tJc0FscGhhOiExLHBpeGVsczpbLi4udC5waXhlbHNdfSl9ZnVuY3Rpb24gbyh0LGUsbil7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6aH09dCxvPW5ldyBVaW50OEFycmF5KGEqaCkscj1lLndpZHRoL2EseD1lLmhlaWdodC9oO2lmKG4ud2lkdGgvcjwuNXx8bi5oZWlnaHQveDwuNSlyZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pO2NvbnN0e3htaW46bCx4bWF4Om0seW1pbjpzLHltYXg6cH09ZSx7eG1pbjpmLHhtYXg6eSx5bWluOmMseW1heDpNfT1uLHU9TWF0aC5tYXgobCxmKSx3PU1hdGgubWluKG0seSksZD1NYXRoLm1heChzLGMpLGc9TWF0aC5taW4ocCxNKSxUPS41KnIsaz0uNSp4O2lmKHctdTxUfHxnLWQ8a3x8dzxsK1R8fHU+bS1UfHxkPnAta3x8ZzxzK2spcmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KTtjb25zdCBBPU1hdGgubWF4KDAsKHUtbCkvciksUj1NYXRoLm1pbihhLE1hdGgubWF4KDAsKHctbCkvcikpLFU9TWF0aC5tYXgoMCwocC1nKS94KSxqPU1hdGgubWluKGgsTWF0aC5tYXgoMCwocC1kKS94KSksRT1NYXRoLnJvdW5kKEEpLEk9TWF0aC5yb3VuZChSKS0xLFA9TWF0aC5yb3VuZChVKSx2PU1hdGgucm91bmQoaiktMTtpZihFPT09SSYmQSUxPi41JiZSJTE8LjV8fFA9PT12JiZVJTE+LjUmJmolMTwuNSlyZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pO2lmKDA9PT1FJiYwPT09UCYmST09PWEmJnY9PT1oKXJldHVybiB0O2NvbnN0IGI9dC5tYXNrO2ZvcihsZXQgaT1QO2k8PXY7aSsrKWZvcihsZXQgdD1FO3Q8PUk7dCsrKXtjb25zdCBlPWkqYSt0O29bZV09Yj9iW2VdOjI1NX1yZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pfWZ1bmN0aW9uIHIodCxlLG4pe2NvbnN0e3dpZHRoOmEsaGVpZ2h0Omh9PXQsbz1uZXcgVWludDhBcnJheShhKmgpLHI9ZS53aWR0aC9hLHg9ZS5oZWlnaHQvaCx7eG1pbjpsLHltYXg6bX09ZSx7cGF0aHM6c309bixwPXQubWFzaztmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl7Y29uc3QgdD1zW2ldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspe2NvbnN0W2ksbl09dFtlXSxbcyxmXT10W2UrMV07bGV0IHk9TWF0aC5mbG9vcigobS1uKS94KSxjPU1hdGguZmxvb3IoKG0tZikveCk7aWYoYzx5KXtjb25zdCB0PXk7eT1jLGM9dH15PU1hdGgubWF4KDAseSksYz1NYXRoLm1pbihoLTEsYyk7Y29uc3QgTT0ocy1pKS8oZi1uKTtmb3IobGV0IHQ9eTt0PD1jO3QrKyl7Y29uc3QgZT10PT09eT9NYXRoLm1heChuLGYpOihoKzEtdCkqeCxtPXQ9PT1jP01hdGgubWluKG4sZik6ZS14O2xldCB1PWY9PT1uP01hdGguZmxvb3IoKGktbCkvcik6TWF0aC5mbG9vcigoTSooZS1uKStpLWwpL3IpLHc9Zj09PW4/TWF0aC5mbG9vcigocy1sKS9yKTpNYXRoLmZsb29yKChNKihtLW4pK2ktbCkvcik7aWYodzx1KXtjb25zdCB0PXU7dT13LHc9dH1jb25zdCBkPXQqYTt1PU1hdGgubWF4KDAsdSksdz1NYXRoLm1pbihhLTEsdyk7Zm9yKGxldCB0PWQrdTt0PD1kK3c7dCsrKW9bdF09cD9wW3RdOjI1NX19fXJldHVybiBuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OmgsbWFzazpvLHBpeGVsczpbLi4udC5waXhlbHNdfSl9ZnVuY3Rpb24geCh0LGksYSxoPSEwKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOm99PXQse3g6cix5Onh9PW4oYSxvKTtsZXQgbCxtLHM7Y29uc3QgcD1cImV4dGVudFwiPT09aS50eXBlP2k6aS5leHRlbnQ7bGV0e3htaW46Zix4bWF4OnkseW1heDpjLHltaW46TX09cDtjb25zdHt4bWluOnUseW1heDp3fT10LmV4dGVudDtyZXR1cm4gaD8oZj11KyhmPnU/cipNYXRoLnJvdW5kKChmLXUpL3IpOjApLGM9dy0oYzx3P3gqTWF0aC5yb3VuZCgody1jKS94KTowKSx5PXUrKHk+dT9yKk1hdGgucm91bmQoKHktdSkvcik6MCksTT13LShNPHc/eCpNYXRoLnJvdW5kKCh3LU0pL3gpOjApLGw9bmV3IGUoe3htaW46Zix5bWF4OmMseG1heDp5LHltaW46TSxzcGF0aWFsUmVmZXJlbmNlOm99KSxtPU1hdGgucm91bmQobC53aWR0aC9yKSxzPU1hdGgucm91bmQobC5oZWlnaHQveCkpOihtPU1hdGguZmxvb3IoKHktZikvcisuOCkscz1NYXRoLmZsb29yKChjLU0pL3grLjgpLGY9dSsoZj51P3IqTWF0aC5mbG9vcigoZi11KS9yKy4xKTowKSxjPXctKGM8dz94Kk1hdGguZmxvb3IoKHctYykveCsuMSk6MCkseT1mK20qcixNPWMtcyp4LGw9bmV3IGUoe3htaW46Zix5bWF4OmMseG1heDp5LHltaW46TSxzcGF0aWFsUmVmZXJlbmNlOm99KSkse2V4dGVudDpsLHdpZHRoOm0saGVpZ2h0OnN9fWV4cG9ydHthIGFzIGNsaXAseCBhcyBzbmFwVG9SYXN0ZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9