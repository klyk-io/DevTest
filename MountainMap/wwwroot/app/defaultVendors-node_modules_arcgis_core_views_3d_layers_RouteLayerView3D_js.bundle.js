"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_RouteLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/RouteLayerView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/RouteLayerView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _rest_support_DirectionLine_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../rest/support/DirectionLine.js */ "./node_modules/@arcgis/core/rest/support/DirectionLine.js");
/* harmony import */ var _rest_support_DirectionPoint_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../rest/support/DirectionPoint.js */ "./node_modules/@arcgis/core/rest/support/DirectionPoint.js");
/* harmony import */ var _rest_support_PointBarrier_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../rest/support/PointBarrier.js */ "./node_modules/@arcgis/core/rest/support/PointBarrier.js");
/* harmony import */ var _rest_support_PolygonBarrier_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../rest/support/PolygonBarrier.js */ "./node_modules/@arcgis/core/rest/support/PolygonBarrier.js");
/* harmony import */ var _rest_support_PolylineBarrier_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../rest/support/PolylineBarrier.js */ "./node_modules/@arcgis/core/rest/support/PolylineBarrier.js");
/* harmony import */ var _rest_support_RouteInfo_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../rest/support/RouteInfo.js */ "./node_modules/@arcgis/core/rest/support/RouteInfo.js");
/* harmony import */ var _rest_support_Stop_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../rest/support/Stop.js */ "./node_modules/@arcgis/core/rest/support/Stop.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _graphics_GraphicsProcessor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./graphics/GraphicsProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js");
/* harmony import */ var _support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/projectExtentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js");
/* harmony import */ var _support_EventedSet_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/EventedSet.js */ "./node_modules/@arcgis/core/views/3d/support/EventedSet.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function _(e){return e instanceof _rest_support_DirectionLine_js__WEBPACK_IMPORTED_MODULE_10__["default"]||e instanceof _rest_support_DirectionPoint_js__WEBPACK_IMPORTED_MODULE_11__["default"]||e instanceof _rest_support_PointBarrier_js__WEBPACK_IMPORTED_MODULE_12__["default"]||e instanceof _rest_support_PolygonBarrier_js__WEBPACK_IMPORTED_MODULE_13__["default"]||e instanceof _rest_support_PolylineBarrier_js__WEBPACK_IMPORTED_MODULE_14__["default"]||e instanceof _rest_support_RouteInfo_js__WEBPACK_IMPORTED_MODULE_15__["default"]||e instanceof _rest_support_Stop_js__WEBPACK_IMPORTED_MODULE_16__["default"]}let I=class extends((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_17__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_22__["default"])){constructor(){super(...arguments),this.type="route-3d",this.loadedGraphics=new _support_EventedSet_js__WEBPACK_IMPORTED_MODULE_20__.EventedSet,this._byObjectID=new Map,this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set("processor",new _graphics_GraphicsProcessor_js__WEBPACK_IMPORTED_MODULE_18__.GraphicsProcessor({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this._updatingHandles.addOnCollectionChange((()=>this._routeItems),(e=>this._routeItemsChanged(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),this.addResolvingPromise((0,_support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_19__.toViewIfLocal)(this).then((e=>this.fullExtentInLocalViewSpatialReference=e))),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.when)((()=>this.view?.basemapTerrain?.ready),(()=>()=>this.notifyChange("updating")),{once:!0}))}destroy(){this._updatingHandles.removeAll(),this._set("processor",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this.processor)),this._get("_routeItems")?.destroy()}get _routeItems(){return new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_2__["default"]({getCollections:()=>[this.layer.pointBarriers,this.layer.polygonBarriers,this.layer.polylineBarriers,this.layer.stops,this.layer.directionLines,this.layer.directionPoints,null!=this.layer.routeInfo?new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]([this.layer.routeInfo]):null]})}_routeItemsChanged(e){if(e.removed.length){this.loadedGraphics.removeMany(e.removed.map((e=>{const t=this._byObjectID.get(e);return this._byObjectID.delete(e),t})));for(const t of e.removed)this.removeHandles(t)}if(e.added.length){this.loadedGraphics.addMany(e.added.map((e=>{const t=e.toGraphic();return this._byObjectID.set(e,t),t})));for(const t of e.added)this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>t.geometry),((e,r)=>{this._updateGraphic(t,"geometry",e,r)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>t.symbol),((e,r)=>{this._updateGraphic(t,"symbol",e,r)}))],t)}}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideScaleRange=this.processor?.scaleVisibilitySuspended??!1,e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}async fetchPopupFeatures(e,t){return t?.clientGraphics??[]}getHit(e){return this.processor.getHit(e)}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}getSymbolLayerSize(e,t){return this.processor.getSymbolLayerSize(e,t)}async queryGraphics(){return new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](this.loadedGraphics.toArray())}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e){return _(e)&&(e=this._byObjectID.get(e)),this.processor.highlight(e)}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_21__.UpdatePolicy.SYNC}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}isUpdating(){return!(!this.processor?.updating&&this.view?.basemapTerrain?.ready)}get performanceInfo(){return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:this.processor?.elevationAlignment.updating??!1,visibilityFrustum:!this.processor?.frustumVisibilitySuspended}}_updateGraphic(e,t,r,s){const o=this._byObjectID.get(e);o[t]=r,S.graphic=o,S.property=t,S.oldValue=s,S.newValue=r,this.processor?.graphicsCore.graphicUpdateHandler(S)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],I.prototype,"_routeItems",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],I.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],I.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],I.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],I.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean})],I.prototype,"slicePlaneEnabled",void 0),I=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.layers.RouteLayerView3D")],I);const S={graphic:null,property:null,oldValue:null,newValue:null},O=I;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toViewIfLocal: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../portal/support/geometryServiceUtils.js */ "./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__.project)(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?(0,_portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__.projectGeometry)(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/EventedSet.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/EventedSet.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventedSet: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/ObservableChangesType.js */ "./node_modules/@arcgis/core/core/ObservableChangesType.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.ADD}),this.emit("change",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_2__.someSet)(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19Sb3V0ZUxheWVyVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzJtQixZQUFZLHNCQUFzQixjQUFjLG1GQUFtRixjQUFjLG9CQUFvQixrR0FBQyx3RUFBd0UsaUNBQWlDLHVDQUF1QyxnQkFBZ0IsZ0VBQUMseUJBQXlCLGdFQUFDLDBEQUEwRCxxRUFBQyxJQUFJLFFBQVEsMkZBQUMseUVBQXlFLGFBQWEsWUFBWSwyRkFBMkYsOEVBQThFLGlCQUFpQixvSEFBb0gsc0ZBQXNGLE9BQU8sdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyw0Q0FBcUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi9wRDtBQUNBO0FBQ0E7QUFDQTtBQUM4dUMsY0FBYyxvQkFBb0IsdUVBQUMsZUFBZSx3RUFBQyxlQUFlLHNFQUFDLGVBQWUsd0VBQUMsZUFBZSx5RUFBQyxlQUFlLG1FQUFDLGVBQWUsOERBQUMsQ0FBQyxvQkFBb0IsNkRBQUMsQ0FBQyw2REFBQyxHQUFHLGNBQWMsaUVBQWlFLCtEQUFDLG9HQUFvRyxhQUFhLDBCQUEwQiw4RUFBQyxFQUFFLGlFQUFpRSxpS0FBaUssMkRBQUMsMkJBQTJCLDhFQUFDLGdGQUFnRiw0REFBQyxpRkFBaUYsUUFBUSxHQUFHLFVBQVUsd0RBQXdELDREQUFDLHNEQUFzRCxrQkFBa0IsV0FBVyxvRUFBQyxFQUFFLHlNQUF5TSwyREFBQywrQkFBK0IsRUFBRSxzQkFBc0IscUJBQXFCLGtEQUFrRCxnQ0FBZ0Msb0NBQW9DLElBQUksK0NBQStDLG1CQUFtQiw2Q0FBNkMsc0JBQXNCLG1DQUFtQyxJQUFJLHdDQUF3Qyw2REFBQywyQkFBMkIsc0NBQXNDLEdBQUcsNkRBQUMseUJBQXlCLG9DQUFvQyxRQUFRLG9CQUFvQixxRUFBcUUsaUJBQWlCLCtCQUErQix5SUFBeUksOEJBQThCLDZCQUE2QixVQUFVLGdDQUFnQyx1QkFBdUIsNkNBQTZDLDZCQUE2QixvREFBb0Qsd0JBQXdCLDhDQUE4QyxzQkFBc0IsV0FBVywyREFBQyxnQ0FBZ0MsZ0JBQWdCLHNDQUFzQyxhQUFhLHFFQUFxRSxtQkFBbUIsMkRBQTJELDRFQUFDLE1BQU0sWUFBWSxvRUFBb0UsYUFBYSxxRUFBcUUsc0JBQXNCLE9BQU8sbVJBQW1SLHdCQUF3QixnQ0FBZ0MsaUhBQWlILHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMseUNBQXlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGFBQWEsNkNBQTZDLHVEQUFDLEVBQUUsc0ZBQUMsOENBQThDLFNBQVMsdURBQXVELEtBQTBCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozeko7QUFDQTtBQUNBO0FBQ0E7QUFDZ0ssY0FBYyxtRkFBbUYsNENBQTRDLGlEQUFpRCxRQUFRLDhFQUFDLE1BQU0sdURBQXVELHdGQUFDLG1HQUE4SDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSm5pQjtBQUNBO0FBQ0E7QUFDQTtBQUMySyxnQkFBZ0Isd0RBQUMsQ0FBQyxjQUFjLHNDQUFzQyxRQUFRLHFCQUFxQix1QkFBdUIsNkNBQTZDLEtBQUssaUZBQUMsUUFBUSxzQkFBc0IsbUJBQW1CLEdBQUcsYUFBYSxzQkFBc0IsV0FBVyxpQkFBaUIsa0NBQWtDLDJCQUEyQixLQUFLLGlGQUFDLEtBQUssc0JBQXNCLG1CQUFtQixHQUFHLFVBQVUsaURBQWlELEtBQUssaUZBQUMsUUFBUSxzQkFBc0IscUJBQXFCLEdBQUcsY0FBYyxXQUFXLGdEQUFnRCx3Q0FBd0MsS0FBSyxpRkFBQyxRQUFRLHNCQUFzQixtQkFBbUIsR0FBRyxVQUFVLHFCQUFxQixRQUFRLE1BQU0sT0FBTywwREFBQyxvQ0FBb0MsV0FBVyw4QkFBc0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ3NwQixvQkFBb0Isd0VBQUMsQ0FBQyxrRUFBQyxDQUFDLHdEQUFDLGNBQWMseURBQUMsS0FBSyxlQUFlLG1DQUFtQyw4RUFBQyxrQ0FBa0MsYUFBYSx1QkFBdUIsc0NBQXNDLDJFQUEyRSx1REFBQyxtRkFBbUYsRUFBRSxVQUFVLEVBQUUsUUFBUSxHQUFHLFVBQVUsc0JBQXNCLDREQUFDLHdCQUF3QixrQkFBa0IsNkRBQTZELGdCQUFnQix3QkFBd0Isa0JBQWtCLDZCQUE2QixvQkFBb0Isc0RBQXNELGVBQWUsOERBQThELHVCQUF1Qix5QkFBeUIsY0FBYywrQkFBK0IsZUFBZSxrQ0FBa0MsWUFBWSx1RkFBdUYsaUJBQWlCLHlEQUF5RCxRQUFRLHFJQUFxSSxhQUFhLFdBQVcsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLHlCQUF5QixnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsdUZBQUMsb0NBQW9DLFVBQStCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9MYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL1JvdXRlTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L3Byb2plY3RFeHRlbnRVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvc3VwcG9ydC9FdmVudGVkU2V0LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3N1cHBvcnRzSGVpZ2h0TW9kZWxJbmZvIGFzIGEscmVqZWN0TGF5ZXJFcnJvciBhcyBsfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvaGVpZ2h0TW9kZWxJbmZvVXRpbHMuanNcIjtjb25zdCBuPW49PntsZXQgYz1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ITEsdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uPSExfXBvc3RzY3JpcHQoZSl7c3VwZXIucG9zdHNjcmlwdChlKSxhKHRoaXMubGF5ZXIpJiZ0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKSl9YXN5bmMgX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCl7Y29uc3QgZT1uZXcgQWJvcnRDb250cm9sbGVyLG89ZS5zaWduYWw7dGhpcy5hZGRIYW5kbGVzKHMoKCgpPT5lLmFib3J0KCkpKSksYXdhaXQgcigoKCk9PnRoaXMudmlldy5kZWZhdWx0c0Zyb21NYXA/LmhlaWdodE1vZGVsSW5mb1JlYWR5KSxvKSx0KG8pO2NvbnN0IGk9bCh0aGlzLmxheWVyLHRoaXMudmlldy5oZWlnaHRNb2RlbEluZm8sdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uKTtpZihpKXRocm93IGl9Y2FuUmVzdW1lKCl7Y29uc3QgZT10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHN1cGVyLmNhblJlc3VtZSgpJiYoIWU/Lm1pblNjYWxlfHwhZS5tYXhTY2FsZXx8ZS5taW5TY2FsZT49ZS5tYXhTY2FsZSl9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXN1cGVyLmdldFN1c3BlbmRJbmZvKCkscz10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHMmJnMubWluU2NhbGUmJnMubWF4U2NhbGUmJnMubWluU2NhbGU8cy5tYXhTY2FsZSYmKGUub3V0c2lkZVNjYWxlUmFuZ2U9ITApLGV9fTtyZXR1cm4gZShbbygpXSxjLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW28oKV0sYy5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksYz1lKFtpKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuTGF5ZXJWaWV3M0RcIildLGMpLGN9O2V4cG9ydHtuIGFzIExheWVyVmlldzNEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb25GbGF0dGVuZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIG8sd2hlbiBhcyBpLHdhdGNoIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBwfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRGlyZWN0aW9uTGluZS5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9EaXJlY3Rpb25Qb2ludC5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9Qb2ludEJhcnJpZXIuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvUG9seWdvbkJhcnJpZXIuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvUG9seWxpbmVCYXJyaWVyLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1JvdXRlSW5mby5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9TdG9wLmpzXCI7aW1wb3J0e0xheWVyVmlldzNEIGFzIGZ9ZnJvbVwiLi9MYXllclZpZXczRC5qc1wiO2ltcG9ydHtHcmFwaGljc1Byb2Nlc3NvciBhcyBnfWZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3NQcm9jZXNzb3IuanNcIjtpbXBvcnR7dG9WaWV3SWZMb2NhbCBhcyBifWZyb21cIi4vc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanNcIjtpbXBvcnR7RXZlbnRlZFNldCBhcyBqfWZyb21cIi4uL3N1cHBvcnQvRXZlbnRlZFNldC5qc1wiO2ltcG9ydHtVcGRhdGVQb2xpY3kgYXMgdn1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL1VwZGF0ZVBvbGljeS5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtmdW5jdGlvbiBfKGUpe3JldHVybiBlIGluc3RhbmNlb2YgbHx8ZSBpbnN0YW5jZW9mIGN8fGUgaW5zdGFuY2VvZiB1fHxlIGluc3RhbmNlb2YgZHx8ZSBpbnN0YW5jZW9mIGh8fGUgaW5zdGFuY2VvZiBtfHxlIGluc3RhbmNlb2YgeX1sZXQgST1jbGFzcyBleHRlbmRzKGYodykpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJyb3V0ZS0zZFwiLHRoaXMubG9hZGVkR3JhcGhpY3M9bmV3IGosdGhpcy5fYnlPYmplY3RJRD1uZXcgTWFwLHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ITEsdGhpcy5mdWxsRXh0ZW50SW5Mb2NhbFZpZXdTcGF0aWFsUmVmZXJlbmNlPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuX3NldChcInByb2Nlc3NvclwiLG5ldyBnKHtvd25lcjp0aGlzLHNjYWxlVmlzaWJpbGl0eUVuYWJsZWQ6ITAsZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkOiEwfSkpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLnByb2Nlc3Nvci5pbml0aWFsaXplUHJvbWlzZSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZE9uQ29sbGVjdGlvbkNoYW5nZSgoKCk9PnRoaXMuX3JvdXRlSXRlbXMpLChlPT50aGlzLl9yb3V0ZUl0ZW1zQ2hhbmdlZChlKSksbyksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKGIodGhpcykudGhlbigoZT0+dGhpcy5mdWxsRXh0ZW50SW5Mb2NhbFZpZXdTcGF0aWFsUmVmZXJlbmNlPWUpKSksdGhpcy5hZGRIYW5kbGVzKGkoKCgpPT50aGlzLnZpZXc/LmJhc2VtYXBUZXJyYWluPy5yZWFkeSksKCgpPT4oKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSkse29uY2U6ITB9KSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5yZW1vdmVBbGwoKSx0aGlzLl9zZXQoXCJwcm9jZXNzb3JcIixzKHRoaXMucHJvY2Vzc29yKSksdGhpcy5fZ2V0KFwiX3JvdXRlSXRlbXNcIik/LmRlc3Ryb3koKX1nZXQgX3JvdXRlSXRlbXMoKXtyZXR1cm4gbmV3IHIoe2dldENvbGxlY3Rpb25zOigpPT5bdGhpcy5sYXllci5wb2ludEJhcnJpZXJzLHRoaXMubGF5ZXIucG9seWdvbkJhcnJpZXJzLHRoaXMubGF5ZXIucG9seWxpbmVCYXJyaWVycyx0aGlzLmxheWVyLnN0b3BzLHRoaXMubGF5ZXIuZGlyZWN0aW9uTGluZXMsdGhpcy5sYXllci5kaXJlY3Rpb25Qb2ludHMsbnVsbCE9dGhpcy5sYXllci5yb3V0ZUluZm8/bmV3IHQoW3RoaXMubGF5ZXIucm91dGVJbmZvXSk6bnVsbF19KX1fcm91dGVJdGVtc0NoYW5nZWQoZSl7aWYoZS5yZW1vdmVkLmxlbmd0aCl7dGhpcy5sb2FkZWRHcmFwaGljcy5yZW1vdmVNYW55KGUucmVtb3ZlZC5tYXAoKGU9Pntjb25zdCB0PXRoaXMuX2J5T2JqZWN0SUQuZ2V0KGUpO3JldHVybiB0aGlzLl9ieU9iamVjdElELmRlbGV0ZShlKSx0fSkpKTtmb3IoY29uc3QgdCBvZiBlLnJlbW92ZWQpdGhpcy5yZW1vdmVIYW5kbGVzKHQpfWlmKGUuYWRkZWQubGVuZ3RoKXt0aGlzLmxvYWRlZEdyYXBoaWNzLmFkZE1hbnkoZS5hZGRlZC5tYXAoKGU9Pntjb25zdCB0PWUudG9HcmFwaGljKCk7cmV0dXJuIHRoaXMuX2J5T2JqZWN0SUQuc2V0KGUsdCksdH0pKSk7Zm9yKGNvbnN0IHQgb2YgZS5hZGRlZCl0aGlzLmFkZEhhbmRsZXMoW24oKCgpPT50Lmdlb21ldHJ5KSwoKGUscik9Pnt0aGlzLl91cGRhdGVHcmFwaGljKHQsXCJnZW9tZXRyeVwiLGUscil9KSksbigoKCk9PnQuc3ltYm9sKSwoKGUscik9Pnt0aGlzLl91cGRhdGVHcmFwaGljKHQsXCJzeW1ib2xcIixlLHIpfSkpXSx0KX19Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5jYW5SZXN1bWUoKSYmIXRoaXMucHJvY2Vzc29yPy5mcnVzdHVtVmlzaWJpbGl0eVN1c3BlbmRlZH1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9c3VwZXIuZ2V0U3VzcGVuZEluZm8oKTtyZXR1cm4gZS5vdXRzaWRlU2NhbGVSYW5nZT10aGlzLnByb2Nlc3Nvcj8uc2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkPz8hMSxlLm91dHNpZGVPZlZpZXc9dGhpcy5wcm9jZXNzb3I/LmZydXN0dW1WaXNpYmlsaXR5U3VzcGVuZGVkPz8hMSxlfWFzeW5jIGZldGNoUG9wdXBGZWF0dXJlcyhlLHQpe3JldHVybiB0Py5jbGllbnRHcmFwaGljcz8/W119Z2V0SGl0KGUpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5nZXRIaXQoZSl9d2hlbkdyYXBoaWNCb3VuZHMoZSx0KXtyZXR1cm4gdGhpcy5wcm9jZXNzb3Iud2hlbkdyYXBoaWNCb3VuZHMoZSx0KX1jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8uY29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oZSx0KX1nZXRTeW1ib2xMYXllclNpemUoZSx0KXtyZXR1cm4gdGhpcy5wcm9jZXNzb3IuZ2V0U3ltYm9sTGF5ZXJTaXplKGUsdCl9YXN5bmMgcXVlcnlHcmFwaGljcygpe3JldHVybiBuZXcgdCh0aGlzLmxvYWRlZEdyYXBoaWNzLnRvQXJyYXkoKSl9bWFza09jY2x1ZGVlKGUpe3JldHVybiB0aGlzLnByb2Nlc3Nvci5tYXNrT2NjbHVkZWUoZSl9aGlnaGxpZ2h0KGUpe3JldHVybiBfKGUpJiYoZT10aGlzLl9ieU9iamVjdElELmdldChlKSksdGhpcy5wcm9jZXNzb3IuaGlnaGxpZ2h0KGUpfWdldCB1cGRhdGVQb2xpY3koKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3I/LmdyYXBoaWNzQ29yZS5lZmZlY3RpdmVVcGRhdGVQb2xpY3l8fHYuU1lOQ31jYW5SZXN1bWUoKXtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJiF0aGlzLnByb2Nlc3Nvcj8uc2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkfWlzVXBkYXRpbmcoKXtyZXR1cm4hKCF0aGlzLnByb2Nlc3Nvcj8udXBkYXRpbmcmJnRoaXMudmlldz8uYmFzZW1hcFRlcnJhaW4/LnJlYWR5KX1nZXQgcGVyZm9ybWFuY2VJbmZvKCl7cmV0dXJue2Rpc3BsYXllZE51bWJlck9mRmVhdHVyZXM6dGhpcy5sb2FkZWRHcmFwaGljcy5sZW5ndGgsbWF4aW11bU51bWJlck9mRmVhdHVyZXM6LTEsdG90YWxOdW1iZXJPZkZlYXR1cmVzOi0xLG5vZGVzOjAsY29yZTpudWxsLHVwZGF0aW5nOnRoaXMudXBkYXRpbmcsZWxldmF0aW9uVXBkYXRpbmc6dGhpcy5wcm9jZXNzb3I/LmVsZXZhdGlvbkFsaWdubWVudC51cGRhdGluZz8/ITEsdmlzaWJpbGl0eUZydXN0dW06IXRoaXMucHJvY2Vzc29yPy5mcnVzdHVtVmlzaWJpbGl0eVN1c3BlbmRlZH19X3VwZGF0ZUdyYXBoaWMoZSx0LHIscyl7Y29uc3Qgbz10aGlzLl9ieU9iamVjdElELmdldChlKTtvW3RdPXIsUy5ncmFwaGljPW8sUy5wcm9wZXJ0eT10LFMub2xkVmFsdWU9cyxTLm5ld1ZhbHVlPXIsdGhpcy5wcm9jZXNzb3I/LmdyYXBoaWNzQ29yZS5ncmFwaGljVXBkYXRlSGFuZGxlcihTKX19O2UoW2EoKV0sSS5wcm90b3R5cGUsXCJfcm91dGVJdGVtc1wiLG51bGwpLGUoW2EoKV0sSS5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0sSS5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbYSgpXSxJLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxJLnByb3RvdHlwZSxcInByb2Nlc3NvclwiLHZvaWQgMCksZShbYSh7dHlwZTpCb29sZWFufSldLEkucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLEk9ZShbcChcImVzcmkudmlld3MuM2QubGF5ZXJzLlJvdXRlTGF5ZXJWaWV3M0RcIildLEkpO2NvbnN0IFM9e2dyYXBoaWM6bnVsbCxwcm9wZXJ0eTpudWxsLG9sZFZhbHVlOm51bGwsbmV3VmFsdWU6bnVsbH0sTz1JO2V4cG9ydHtPIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwcm9qZWN0IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3RHZW9tZXRyeSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL3BvcnRhbC9zdXBwb3J0L2dlb21ldHJ5U2VydmljZVV0aWxzLmpzXCI7ZnVuY3Rpb24gbChsKXtjb25zdCB0PWwudmlldy5zcGF0aWFsUmVmZXJlbmNlLG89bC5sYXllci5mdWxsRXh0ZW50LHM9bnVsbCE9byYmby5zcGF0aWFsUmVmZXJlbmNlO2lmKG51bGw9PW98fCFzKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7aWYocy5lcXVhbHModCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZShvLmNsb25lKCkpO2NvbnN0IG49ZShvLHQpO3JldHVybiBudWxsIT1uP1Byb21pc2UucmVzb2x2ZShuKTpsLnZpZXcuc3RhdGUuaXNMb2NhbD9yKG8sdCxsLmxheWVyLnBvcnRhbEl0ZW0pLnRoZW4oKGU9PiFsLmRlc3Ryb3llZCYmZT9lOm51bGwpKS5jYXRjaCgoKCk9Pm51bGwpKTpQcm9taXNlLnJlc29sdmUobnVsbCl9ZXhwb3J0e2wgYXMgdG9WaWV3SWZMb2NhbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e09ic2VydmFibGVDaGFuZ2VzVHlwZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvT2JzZXJ2YWJsZUNoYW5nZXNUeXBlLmpzXCI7aW1wb3J0e3NvbWVTZXQgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL1NldFV0aWxzLmpzXCI7Y2xhc3MgciBleHRlbmRzIGV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3NldD1uZXcgU2V0fWNsZWFyKCl7aWYodGhpcy5fc2V0LnNpemU+MCl7Y29uc3QgZT10aGlzLnRvQXJyYXkoKTt0aGlzLl9zZXQuY2xlYXIoKSx0aGlzLmVtaXQoXCJhZnRlci1jaGFuZ2VzXCIse3R5cGU6dC5SRU1PVkV9KSx0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDplfSl9fWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fc2V0LnNpemV9YWRkTWFueShlKXtpZigwIT09ZS5sZW5ndGgpe2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fc2V0LmFkZCh0KTt0aGlzLmVtaXQoXCJhZnRlci1jaGFuZ2VzXCIse3R5cGU6dC5BRER9KSx0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6ZSxyZW1vdmVkOltdfSl9fXJlbW92ZShlKXt0aGlzLl9zZXQuZGVsZXRlKGUpJiYodGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuUkVNT1ZFfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6W2VdfSkpfXJlbW92ZU1hbnkoZSl7Y29uc3Qgcz1bXTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3NldC5kZWxldGUodCkmJnMucHVzaCh0KTtzLmxlbmd0aD4wJiYodGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuUkVNT1ZFfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6c30pKX10b0FycmF5KCl7cmV0dXJuWy4uLnRoaXMuX3NldF19ZmluZChlKXtsZXQgdDtyZXR1cm4gcyh0aGlzLl9zZXQsKHM9PiEhZShzKSYmKHQ9cywhMCkpKSx0fWZvckVhY2goZSl7dGhpcy5fc2V0LmZvckVhY2goKHQ9PmUodCkpKX19ZXhwb3J0e3IgYXMgRXZlbnRlZFNldH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBzfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMocyhuKHIuRXZlbnRlZE1peGluKHQpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgcCx0aGlzLmxheWVyPW51bGwsdGhpcy5wYXJlbnQ9bnVsbH1pbml0aWFsaXplKCl7dGhpcy53aGVuKCkuY2F0Y2goKGU9PntpZihcImxheWVydmlldzpjcmVhdGUtZXJyb3JcIiE9PWUubmFtZSl7Y29uc3QgdD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmlkfHxcIm5vIGlkXCIscj10aGlzLmxheWVyPy50aXRsZXx8XCJubyB0aXRsZVwiO2kuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI3Jlc29sdmUoKVwiLGBGYWlsZWQgdG8gcmVzb2x2ZSBsYXllciB2aWV3IChsYXllciB0aXRsZTogJyR7cn0nLCBpZDogJyR7dH0nKWAsZSl9fSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXM9byh0aGlzLl91cGRhdGluZ0hhbmRsZXMpfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybih0aGlzLmxheWVyPy5vcGFjaXR5Pz8xKSoodGhpcy5wYXJlbnQ/LmZ1bGxPcGFjaXR5Pz8xKX1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHZpc2libGUoKXtyZXR1cm4hMD09PXRoaXMubGF5ZXI/LnZpc2libGV9c2V0IHZpc2libGUoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ2aXNpYmxlXCIsZSl9Y2FuUmVzdW1lKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiYhdGhpcy5wYXJlbnQ/LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeXx8ITF9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXRoaXMucGFyZW50Py5zdXNwZW5kZWQ/dGhpcy5wYXJlbnQuc3VzcGVuZEluZm86e30sdD10aGlzO3JldHVybiB0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCksdGhpcy52aXNpYmxlfHwoZS5sYXllckludmlzaWJsZT0hMCksZX1pc1VwZGF0aW5nKCl7cmV0dXJuITF9fTtlKFthKCldLGQucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2Eoe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZD1lKFtsKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=