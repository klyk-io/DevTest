"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_VoxelLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./VoxelWasm.js */ "./node_modules/@arcgis/core/views/3d/layers/VoxelWasm.js");
/* harmony import */ var _support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/PopupSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var S;!function(e){e[e.API=1]="API",e[e.VerboseAPI=2]="VerboseAPI",e[e.Error=3]="Error"}(S||(S={}));const v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),W=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)();let T=class extends((0,_support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_17__.PopupSceneLayerView)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_18__["default"]))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type="voxel-3d",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??""}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(S.Error),"local"!==this.view.viewingMode)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("voxel:unsupported-viewingMode","Voxel layers support local viewingMode only.",{});if(!!!this.view._stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("voxel:missing-color-buffer-float","Voxel layers require the WebGL2 extension EXT_color_buffer_float",{});const e=this.layer.spatialReference;if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(e,this.view.spatialReference))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});const t=this.layer.currentVariableId,a=this.layer.getVolume(t),o=this.layer.getVariable(t);if(null!=a&&null!=o){const e=a.dimensions[0],s=a.dimensions[1],t=a.zDimension;if(t>1){const i=a.dimensions[t],r=e.size*s.size*i.size;let l=1;switch(o.renderingFormat.type){case"Int16":case"UInt16":l=2;break;case"Int32":case"UInt32":case"Float32":l=4}this._futureMemory=l*r}}const l=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.addLayerViewToWasm)(this).then((e=>{this._wasmLayerId=e,this._suspendedHandle=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.suspended),(e=>{const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);s&&s.setEnabled(this,!e)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.renderMode),(e=>this._pushRenderModeToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.currentVariableId),(e=>this._pushCurrentVariableIdToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.getSections()),(e=>this._pushSectionsToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.getVariableStyles()),(e=>this._pushVariableStylesToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.getVolumeStyles()),(e=>this._pushVolumeStylesToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.enableDynamicSections),(e=>this._pushEnableDynamicSectionsToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.enableIsosurfaces),(e=>this._pushEnableIsosurfacesToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.enableSections),(e=>this._pushEnableSectionsToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.enableSlices),(e=>this._pushEnableSlicesToWasm(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.slicePlaneEnabled),(e=>this._pushAnalysisSliceToWasm(e,this.view.slicePlane))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.view.slicePlane),(e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e)))])})).catch((e=>{if((0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.removeLayerViewFromWasm)(this),this._wasmLayerId=-1,-1===e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("voxel:addLayer-failure","The voxel layer description was invalid.",{});if(-2===e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("voxel:addLayer-failure","The voxel layer web assembly module failed to download.",{})}));this.addResolvingPromise(l)}destroy(){(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.removeLayerViewFromWasm)(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange("updating")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return{nodes:0,displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null}}whenGraphicBounds(e,s){const t=e.attributes["Voxel.WorldPosition"];if(t){const e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.empty)(),s=JSON.parse(t);if((0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_12__.projectVectorToVector)(s,this.view.renderSpatialReference,W,this.view.spatialReference||_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84))return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.expandWithVec3)(e,W),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);return e?.getCurrentLayerTimeIndex(this)??0}_pushRenderModeToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushRenderModeToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s?.setRenderMode(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushRenderModeToWasm() failed!")}_pushSectionsToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushSectionsToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s?.setStaticSections(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushSectionsToWasm() failed!")}_pushCurrentVariableIdToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, "+(s?"have WASM":"don't have WASM!!!")),s?.setCurrentVariable(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!")}_pushVariableStylesToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushVariableStylesToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s?.setVariableStyles(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushVariableStylesToWasm() failed!")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushVolumeStylesToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushVolumeStylesToWasm() failed!"))}_pushAnalysisSliceToWasm(e,s){const t=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushAnalysisSliceToWasm() called, "+(t?"have WASM":"don't have WASM!!!"));let i=!1;if(t){if(s){const r=s.origin;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__.b)(v,s.basis1,s.basis2),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__.n)(v,v),i=t.setAnalysisSlice(this,e,r,v)}else (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__.s)(v,0,0,1),i=t.setAnalysisSlice(this,!1,v,v);i||this._dbg(S.Error,"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!")}}_pushEnableDynamicSectionsToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s?.setEnableDynamicSections(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!")}_pushEnableSlicesToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);if(this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushEnableSlicesToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(S.Error,"VoxelLayerView3D._pushEnableSlicesToWasm() failed!")}}_pushEnableIsosurfacesToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s?.setEnableIsosurfaces(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!")}_pushEnableSectionsToWasm(e){const s=(0,_VoxelWasm_js__WEBPACK_IMPORTED_MODULE_16__.getVoxelWasm)(this.view);this._dbg(S.VerboseAPI,"VoxelLayerView3D._pushEnableSectionsToWasm() called, "+(s?"have WASM":"don't have WASM!!!")),s?.setEnableSections(this,e)||this._dbg(S.Error,"VoxelLayerView3D._pushEnableSectionsToWasm() failed!")}async whenGraphicAttributes(e,s){return e}_dbg(e,s){this._dbgFlags.has(e)&&(e===S.Error?_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(s):_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warn(s))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],T.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],T.prototype,"baseUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean})],T.prototype,"slicePlaneEnabled",void 0),T=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.layers.VoxelLayerView3D")],T);const E=T;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PopupSceneLayerView: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:s});if(!(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFetchPopupTemplate)(s,e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){this._validateFetchPopupFeatures(r);const s=null!=r?r.clientGraphics:null;if(!s||0===s.length)return[];const i="scene"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let c=[];"fieldsIndex"in this.layer&&(c=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.unpackFieldNames)(this.layer.fieldsIndex,await (0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getRequiredFields)(i,(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFetchPopupTemplate)(this.layer,r)))),await this.prepareFetchPopupFeatures(c);const l=new Set,n=[],u=[];for(const t of s)(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.populateMissingFields)(c,t,l)?u.push(t):n.push(t);return 0===u.length?n:this.whenGraphicAttributes(u,[...l]).catch((()=>u)).then((e=>n.concat(e)))}};return c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.support.PopupSceneLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19Wb3hlbExheWVyVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzJtQixZQUFZLHNCQUFzQixjQUFjLG1GQUFtRixjQUFjLG9CQUFvQixrR0FBQyx3RUFBd0UsaUNBQWlDLHVDQUF1QyxnQkFBZ0IsZ0VBQUMseUJBQXlCLGdFQUFDLDBEQUEwRCxxRUFBQyxJQUFJLFFBQVEsMkZBQUMseUVBQXlFLGFBQWEsWUFBWSwyRkFBMkYsOEVBQThFLGlCQUFpQixvSEFBb0gsc0ZBQXNGLE9BQU8sdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyw0Q0FBcUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi9wRDtBQUNBO0FBQ0E7QUFDQTtBQUMyb0MsTUFBTSxhQUFhLHFFQUFxRSxTQUFTLEdBQUcsUUFBUSxzREFBQyxLQUFLLHNEQUFDLEdBQUcsb0JBQW9CLHFGQUFDLENBQUMsNkRBQUMsQ0FBQyw2REFBQyxJQUFJLGNBQWMsOE1BQThNLGNBQWMsc0NBQXNDLGtCQUFrQix5QkFBeUIsYUFBYSx5RUFBeUUsc0RBQUMsa0ZBQWtGLEVBQUUseUdBQXlHLHNEQUFDLHlHQUF5RyxFQUFFLG9DQUFvQyxJQUFJLG1GQUFDLHlDQUF5QyxzREFBQyxpSkFBaUosRUFBRSwyRkFBMkYscUJBQXFCLHlEQUF5RCxRQUFRLCtDQUErQyxRQUFRLCtCQUErQiw2QkFBNkIsTUFBTSwyQ0FBMkMsd0JBQXdCLFFBQVEsa0VBQUMsaUJBQWlCLDBDQUEwQyw2REFBQywyQkFBMkIsUUFBUSw0REFBQyxZQUFZLHlCQUF5QixFQUFFLDJEQUFDLG1CQUFtQiw2REFBQyxpRUFBaUUsNkRBQUMsK0VBQStFLDZEQUFDLGtFQUFrRSw2REFBQyw4RUFBOEUsNkRBQUMsMEVBQTBFLDZEQUFDLHVGQUF1Riw2REFBQywrRUFBK0UsNkRBQUMseUVBQXlFLDZEQUFDLHFFQUFxRSw2REFBQywwRkFBMEYsNkRBQUMsNEZBQTRGLGNBQWMsR0FBRyx1RUFBQyw2Q0FBNkMsc0RBQUMsdUVBQXVFLEVBQUUsb0JBQW9CLHNEQUFDLHNGQUFzRixFQUFFLEdBQUcsNEJBQTRCLFVBQVUsdUVBQUMsMEZBQTBGLGFBQWEsUUFBUSw0REFBQyxZQUFZLHVFQUF1RSxzQkFBc0IsOEJBQThCLGlCQUFpQix3QkFBd0IscUJBQXFCLDBCQUEwQixzQkFBc0IsT0FBTyxpR0FBaUcsdUJBQXVCLDRDQUE0QyxNQUFNLFFBQVEsMEVBQUMsbUJBQW1CLEdBQUcscUdBQUMsa0VBQWtFLHNFQUFDLGVBQWUsbUZBQUMsdUJBQXVCLG9DQUFvQyxFQUFFLHdCQUF3QixpQkFBaUIsd0NBQXdDLGlCQUFpQixRQUFRLDREQUFDLFlBQVksb0JBQW9CLDZCQUE2QixRQUFRLDREQUFDLFlBQVksb0NBQW9DLGdCQUFnQixRQUFRLDREQUFDLFlBQVksa0NBQWtDLDJCQUEyQixRQUFRLDREQUFDLFlBQVksNENBQTRDLHlCQUF5QixRQUFRLDREQUFDLFlBQVksaU5BQWlOLHVCQUF1QixRQUFRLDREQUFDLFlBQVksaU5BQWlOLGdDQUFnQyxRQUFRLDREQUFDLFlBQVkscU9BQXFPLDZCQUE2QixRQUFRLDREQUFDLFlBQVksNk5BQTZOLDZCQUE2QiwwQ0FBMEMsWUFBWSxXQUFXLEtBQUssYUFBYSxnREFBZ0QsMkJBQTJCLFFBQVEsNERBQUMsWUFBWSxnUUFBZ1EsOEJBQThCLFFBQVEsNERBQUMsWUFBWSxvSEFBb0gsU0FBUyxNQUFNLE1BQU0saUJBQWlCLG1EQUFDLHNCQUFzQixtREFBQyx1Q0FBdUMsS0FBSyxtREFBQyw0Q0FBNEMsNkVBQTZFLG9DQUFvQyxRQUFRLDREQUFDLFlBQVksa1BBQWtQLDJCQUEyQixRQUFRLDREQUFDLFlBQVkseUhBQXlILHFDQUFxQyxzSUFBc0ksZ0NBQWdDLFFBQVEsNERBQUMsWUFBWSxzT0FBc08sNkJBQTZCLFFBQVEsNERBQUMsWUFBWSw2TkFBNk4saUNBQWlDLFNBQVMsVUFBVSxvQ0FBb0MsdURBQUMsMEJBQTBCLHVEQUFDLDRCQUE0Qix1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsYUFBYSw2Q0FBNkMsdURBQUMsRUFBRSxzRkFBQyw4Q0FBOEMsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ozeVE7QUFDQTtBQUNBO0FBQ0E7QUFDNmhCLFlBQVksc0JBQXNCLCtCQUErQixNQUFNLFFBQVEsT0FBTyxlQUFlLEdBQUcsZ0JBQWdCLHNEQUFDLDhEQUE4RCxRQUFRLEVBQUUsSUFBSSxvRkFBQyxnQkFBZ0Isc0RBQUMsaUZBQWlGLFFBQVEsRUFBRSxvQ0FBb0MsOEJBQThCLG9DQUFvQyxzQ0FBc0MsNkJBQTZCLDBHQUEwRyxTQUFTLCtCQUErQiwrRUFBQyw4QkFBOEIsZ0ZBQUMsR0FBRyxvRkFBQywwREFBMEQsMEJBQTBCLGlCQUFpQixvRkFBQyw0QkFBNEIsbUdBQW1HLFNBQVMsdURBQUMsRUFBRSxzRkFBQyw0REFBNkY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ3NwQixvQkFBb0Isd0VBQUMsQ0FBQyxrRUFBQyxDQUFDLHdEQUFDLGNBQWMseURBQUMsS0FBSyxlQUFlLG1DQUFtQyw4RUFBQyxrQ0FBa0MsYUFBYSx1QkFBdUIsc0NBQXNDLDJFQUEyRSx1REFBQyxtRkFBbUYsRUFBRSxVQUFVLEVBQUUsUUFBUSxHQUFHLFVBQVUsc0JBQXNCLDREQUFDLHdCQUF3QixrQkFBa0IsNkRBQTZELGdCQUFnQix3QkFBd0Isa0JBQWtCLDZCQUE2QixvQkFBb0Isc0RBQXNELGVBQWUsOERBQThELHVCQUF1Qix5QkFBeUIsY0FBYywrQkFBK0IsZUFBZSxrQ0FBa0MsWUFBWSx1RkFBdUYsaUJBQWlCLHlEQUF5RCxRQUFRLHFJQUFxSSxhQUFhLFdBQVcsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLHlCQUF5QixnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsdUZBQUMsb0NBQW9DLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKejRFO0FBQ0E7QUFDQTtBQUNBO0FBQzRGLHNDQUFzQyxvQkFBb0Isa0RBQWtELHNCQUFzQixJQUFJLDhEQUE4RCxHQUFHLCtCQUErQixVQUFVLG1GQUFDLFNBQVMsd0VBQUMsNEJBQTRCLG9KQUFvSixNQUFNLFdBQVcsR0FBRyx1REFBdUQsS0FBSyxnQkFBZ0Isd0lBQXdJLGdCQUFnQixrQkFBa0IsOEJBQThCLEVBQWtGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9MYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL1ZveGVsTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L1BvcHVwU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9MYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7c3VwcG9ydHNIZWlnaHRNb2RlbEluZm8gYXMgYSxyZWplY3RMYXllckVycm9yIGFzIGx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9oZWlnaHRNb2RlbEluZm9VdGlscy5qc1wiO2NvbnN0IG49bj0+e2xldCBjPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb249ITF9cG9zdHNjcmlwdChlKXtzdXBlci5wb3N0c2NyaXB0KGUpLGEodGhpcy5sYXllcikmJnRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpKX1hc3luYyBfdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIsbz1lLnNpZ25hbDt0aGlzLmFkZEhhbmRsZXMocygoKCk9PmUuYWJvcnQoKSkpKSxhd2FpdCByKCgoKT0+dGhpcy52aWV3LmRlZmF1bHRzRnJvbU1hcD8uaGVpZ2h0TW9kZWxJbmZvUmVhZHkpLG8pLHQobyk7Y29uc3QgaT1sKHRoaXMubGF5ZXIsdGhpcy52aWV3LmhlaWdodE1vZGVsSW5mbyx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb24pO2lmKGkpdGhyb3cgaX1jYW5SZXN1bWUoKXtjb25zdCBlPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJighZT8ubWluU2NhbGV8fCFlLm1heFNjYWxlfHxlLm1pblNjYWxlPj1lLm1heFNjYWxlKX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9c3VwZXIuZ2V0U3VzcGVuZEluZm8oKSxzPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gcyYmcy5taW5TY2FsZSYmcy5tYXhTY2FsZSYmcy5taW5TY2FsZTxzLm1heFNjYWxlJiYoZS5vdXRzaWRlU2NhbGVSYW5nZT0hMCksZX19O3JldHVybiBlKFtvKCldLGMucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbygpXSxjLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxjPWUoW2koXCJlc3JpLnZpZXdzLjNkLmxheWVycy5MYXllclZpZXczRFwiKV0sYyksY307ZXhwb3J0e24gYXMgTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaSxpbml0aWFsIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YiBhcyBsLG4scyBhcyBofWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2N9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7cHJvamVjdFZlY3RvclRvVmVjdG9yIGFzIGR9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0VmVjdG9yVG9WZWN0b3IuanNcIjtpbXBvcnR7ZW1wdHkgYXMgdSxleHBhbmRXaXRoVmVjMyBhcyBtfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgcH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtMYXllclZpZXczRCBhcyB5fWZyb21cIi4vTGF5ZXJWaWV3M0QuanNcIjtpbXBvcnR7YWRkTGF5ZXJWaWV3VG9XYXNtIGFzIGIscmVtb3ZlTGF5ZXJWaWV3RnJvbVdhc20gYXMgXyxnZXRWb3hlbFdhc20gYXMgVn1mcm9tXCIuL1ZveGVsV2FzbS5qc1wiO2ltcG9ydHtQb3B1cFNjZW5lTGF5ZXJWaWV3IGFzIGZ9ZnJvbVwiLi9zdXBwb3J0L1BvcHVwU2NlbmVMYXllclZpZXcuanNcIjtpbXBvcnQgdyBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO3ZhciBTOyFmdW5jdGlvbihlKXtlW2UuQVBJPTFdPVwiQVBJXCIsZVtlLlZlcmJvc2VBUEk9Ml09XCJWZXJib3NlQVBJXCIsZVtlLkVycm9yPTNdPVwiRXJyb3JcIn0oU3x8KFM9e30pKTtjb25zdCB2PWMoKSxXPWMoKTtsZXQgVD1jbGFzcyBleHRlbmRzKGYoeSh3KSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zdXNwZW5kZWRIYW5kbGU9bnVsbCx0aGlzLl91c2VkTWVtb3J5PTAsdGhpcy5fZnV0dXJlTWVtb3J5PTAsdGhpcy50eXBlPVwidm94ZWwtM2RcIix0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuX3dhc21MYXllcklkPS0xLHRoaXMuaWdub3Jlc01lbW9yeUZhY3Rvcj0hMCx0aGlzLl9kYmdGbGFncz1uZXcgU2V0fWdldCBiYXNlVXJsKCl7cmV0dXJuIHRoaXMubGF5ZXIucGFyc2VkVXJsPy5wYXRoPz9cIlwifWdldCB3YXNtTGF5ZXJJZCgpe3JldHVybiB0aGlzLl93YXNtTGF5ZXJJZH1pbml0aWFsaXplKCl7aWYodGhpcy5fZGJnRmxhZ3MuYWRkKFMuRXJyb3IpLFwibG9jYWxcIiE9PXRoaXMudmlldy52aWV3aW5nTW9kZSl0aHJvdyBuZXcgcyhcInZveGVsOnVuc3VwcG9ydGVkLXZpZXdpbmdNb2RlXCIsXCJWb3hlbCBsYXllcnMgc3VwcG9ydCBsb2NhbCB2aWV3aW5nTW9kZSBvbmx5LlwiLHt9KTtpZighISF0aGlzLnZpZXcuX3N0YWdlLnJlbmRlclZpZXcucmVuZGVyaW5nQ29udGV4dC5jYXBhYmlsaXRpZXMuY29sb3JCdWZmZXJGbG9hdD8udGV4dHVyZUZsb2F0KXRocm93IG5ldyBzKFwidm94ZWw6bWlzc2luZy1jb2xvci1idWZmZXItZmxvYXRcIixcIlZveGVsIGxheWVycyByZXF1aXJlIHRoZSBXZWJHTDIgZXh0ZW5zaW9uIEVYVF9jb2xvcl9idWZmZXJfZmxvYXRcIix7fSk7Y29uc3QgZT10aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2U7aWYoIXAoZSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSkpdGhyb3cgbmV3IHMoXCJsYXllcnZpZXc6c3BhdGlhbC1yZWZlcmVuY2UtaW5jb21wYXRpYmxlXCIsXCJUaGUgc3BhdGlhbCByZWZlcmVuY2Ugb2YgdGhpcyBzY2VuZSBsYXllciBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgc3BhdGlhbCByZWZlcmVuY2Ugb2YgdGhlIHZpZXdcIix7fSk7Y29uc3QgdD10aGlzLmxheWVyLmN1cnJlbnRWYXJpYWJsZUlkLGE9dGhpcy5sYXllci5nZXRWb2x1bWUodCksbz10aGlzLmxheWVyLmdldFZhcmlhYmxlKHQpO2lmKG51bGwhPWEmJm51bGwhPW8pe2NvbnN0IGU9YS5kaW1lbnNpb25zWzBdLHM9YS5kaW1lbnNpb25zWzFdLHQ9YS56RGltZW5zaW9uO2lmKHQ+MSl7Y29uc3QgaT1hLmRpbWVuc2lvbnNbdF0scj1lLnNpemUqcy5zaXplKmkuc2l6ZTtsZXQgbD0xO3N3aXRjaChvLnJlbmRlcmluZ0Zvcm1hdC50eXBlKXtjYXNlXCJJbnQxNlwiOmNhc2VcIlVJbnQxNlwiOmw9MjticmVhaztjYXNlXCJJbnQzMlwiOmNhc2VcIlVJbnQzMlwiOmNhc2VcIkZsb2F0MzJcIjpsPTR9dGhpcy5fZnV0dXJlTWVtb3J5PWwqcn19Y29uc3QgbD1iKHRoaXMpLnRoZW4oKGU9Pnt0aGlzLl93YXNtTGF5ZXJJZD1lLHRoaXMuX3N1c3BlbmRlZEhhbmRsZT1pKCgoKT0+dGhpcy5zdXNwZW5kZWQpLChlPT57Y29uc3Qgcz1WKHRoaXMudmlldyk7cyYmcy5zZXRFbmFibGVkKHRoaXMsIWUpfSksciksdGhpcy5hZGRIYW5kbGVzKFtpKCgoKT0+dGhpcy5sYXllci5yZW5kZXJNb2RlKSwoZT0+dGhpcy5fcHVzaFJlbmRlck1vZGVUb1dhc20oZSkpKSxpKCgoKT0+dGhpcy5sYXllci5jdXJyZW50VmFyaWFibGVJZCksKGU9PnRoaXMuX3B1c2hDdXJyZW50VmFyaWFibGVJZFRvV2FzbShlKSkpLGkoKCgpPT50aGlzLmxheWVyLmdldFNlY3Rpb25zKCkpLChlPT50aGlzLl9wdXNoU2VjdGlvbnNUb1dhc20oZSkpKSxpKCgoKT0+dGhpcy5sYXllci5nZXRWYXJpYWJsZVN0eWxlcygpKSwoZT0+dGhpcy5fcHVzaFZhcmlhYmxlU3R5bGVzVG9XYXNtKGUpKSksaSgoKCk9PnRoaXMubGF5ZXIuZ2V0Vm9sdW1lU3R5bGVzKCkpLChlPT50aGlzLl9wdXNoVm9sdW1lU3R5bGVzVG9XYXNtKGUpKSksaSgoKCk9PnRoaXMubGF5ZXIuZW5hYmxlRHluYW1pY1NlY3Rpb25zKSwoZT0+dGhpcy5fcHVzaEVuYWJsZUR5bmFtaWNTZWN0aW9uc1RvV2FzbShlKSkpLGkoKCgpPT50aGlzLmxheWVyLmVuYWJsZUlzb3N1cmZhY2VzKSwoZT0+dGhpcy5fcHVzaEVuYWJsZUlzb3N1cmZhY2VzVG9XYXNtKGUpKSksaSgoKCk9PnRoaXMubGF5ZXIuZW5hYmxlU2VjdGlvbnMpLChlPT50aGlzLl9wdXNoRW5hYmxlU2VjdGlvbnNUb1dhc20oZSkpKSxpKCgoKT0+dGhpcy5sYXllci5lbmFibGVTbGljZXMpLChlPT50aGlzLl9wdXNoRW5hYmxlU2xpY2VzVG9XYXNtKGUpKSksaSgoKCk9PnRoaXMuc2xpY2VQbGFuZUVuYWJsZWQpLChlPT50aGlzLl9wdXNoQW5hbHlzaXNTbGljZVRvV2FzbShlLHRoaXMudmlldy5zbGljZVBsYW5lKSkpLGkoKCgpPT50aGlzLnZpZXcuc2xpY2VQbGFuZSksKGU9PnRoaXMuX3B1c2hBbmFseXNpc1NsaWNlVG9XYXNtKHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQsZSkpKV0pfSkpLmNhdGNoKChlPT57aWYoXyh0aGlzKSx0aGlzLl93YXNtTGF5ZXJJZD0tMSwtMT09PWUpdGhyb3cgbmV3IHMoXCJ2b3hlbDphZGRMYXllci1mYWlsdXJlXCIsXCJUaGUgdm94ZWwgbGF5ZXIgZGVzY3JpcHRpb24gd2FzIGludmFsaWQuXCIse30pO2lmKC0yPT09ZSl0aHJvdyBuZXcgcyhcInZveGVsOmFkZExheWVyLWZhaWx1cmVcIixcIlRoZSB2b3hlbCBsYXllciB3ZWIgYXNzZW1ibHkgbW9kdWxlIGZhaWxlZCB0byBkb3dubG9hZC5cIix7fSl9KSk7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKGwpfWRlc3Ryb3koKXtfKHRoaXMpLHRoaXMuX3N1c3BlbmRlZEhhbmRsZSYmKHRoaXMuX3N1c3BlbmRlZEhhbmRsZS5yZW1vdmUoKSx0aGlzLl9zdXNwZW5kZWRIYW5kbGU9bnVsbCl9aXNVcGRhdGluZygpe2NvbnN0IGU9Vih0aGlzLnZpZXcpO3JldHVybiEodGhpcy5fd2FzbUxheWVySWQ8MHx8bnVsbD09ZSkmJmUuaXNVcGRhdGluZyh0aGlzLl93YXNtTGF5ZXJJZCl9dXBkYXRpbmdGbGFnQ2hhbmdlZCgpe3RoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5fdXNlZE1lbW9yeX1nZXQgdW5sb2FkZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5fZnV0dXJlTWVtb3J5fWdldCBwZXJmb3JtYW5jZUluZm8oKXtyZXR1cm57bm9kZXM6MCxkaXNwbGF5ZWROdW1iZXJPZkZlYXR1cmVzOjAsbWF4aW11bU51bWJlck9mRmVhdHVyZXM6MCx0b3RhbE51bWJlck9mRmVhdHVyZXM6MCxjb3JlOm51bGx9fXdoZW5HcmFwaGljQm91bmRzKGUscyl7Y29uc3QgdD1lLmF0dHJpYnV0ZXNbXCJWb3hlbC5Xb3JsZFBvc2l0aW9uXCJdO2lmKHQpe2NvbnN0IGU9dSgpLHM9SlNPTi5wYXJzZSh0KTtpZihkKHMsdGhpcy52aWV3LnJlbmRlclNwYXRpYWxSZWZlcmVuY2UsVyx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZXx8Zy5XR1M4NCkpcmV0dXJuIG0oZSxXKSxQcm9taXNlLnJlc29sdmUoe2JvdW5kaW5nQm94OmUsc2NyZWVuU3BhY2VPYmplY3RzOltdfSl9cmV0dXJuIFByb21pc2UucmVqZWN0KCl9c2V0VXNlZE1lbW9yeShlKXt0aGlzLl91c2VkTWVtb3J5PWUsdGhpcy5fZnV0dXJlTWVtb3J5PTB9Y2FwdHVyZUZydXN0dW0oKXtjb25zdCBlPVYodGhpcy52aWV3KTtlPy5jYXB0dXJlRnJ1c3R1bSgpfXRvZ2dsZUZ1bGxWb2x1bWVFeHRlbnREcmF3KCl7Y29uc3QgZT1WKHRoaXMudmlldyk7ZT8udG9nZ2xlRnVsbFZvbHVtZUV4dGVudERyYXcodGhpcyl9Z2V0TGF5ZXJUaW1lcygpe2NvbnN0IGU9Vih0aGlzLnZpZXcpO3JldHVybiBlPy5nZXRMYXllclRpbWVzKHRoaXMpPz9bXX1nZXRDdXJyZW50TGF5ZXJUaW1lSW5kZXgoKXtjb25zdCBlPVYodGhpcy52aWV3KTtyZXR1cm4gZT8uZ2V0Q3VycmVudExheWVyVGltZUluZGV4KHRoaXMpPz8wfV9wdXNoUmVuZGVyTW9kZVRvV2FzbShlKXtjb25zdCBzPVYodGhpcy52aWV3KTt0aGlzLl9kYmcoUy5WZXJib3NlQVBJLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaFJlbmRlck1vZGVUb1dhc20oKSBjYWxsZWQsIFwiKyhzP1wiaGF2ZSBXQVNNXCI6XCJkb24ndCBoYXZlIFdBU00hISFcIikpLHM/LnNldFJlbmRlck1vZGUodGhpcyxlKXx8dGhpcy5fZGJnKFMuRXJyb3IsXCJWb3hlbExheWVyVmlldzNELl9wdXNoUmVuZGVyTW9kZVRvV2FzbSgpIGZhaWxlZCFcIil9X3B1c2hTZWN0aW9uc1RvV2FzbShlKXtjb25zdCBzPVYodGhpcy52aWV3KTt0aGlzLl9kYmcoUy5WZXJib3NlQVBJLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaFNlY3Rpb25zVG9XYXNtKCkgY2FsbGVkLCBcIisocz9cImhhdmUgV0FTTVwiOlwiZG9uJ3QgaGF2ZSBXQVNNISEhXCIpKSxzPy5zZXRTdGF0aWNTZWN0aW9ucyh0aGlzLGUpfHx0aGlzLl9kYmcoUy5FcnJvcixcIlZveGVsTGF5ZXJWaWV3M0QuX3B1c2hTZWN0aW9uc1RvV2FzbSgpIGZhaWxlZCFcIil9X3B1c2hDdXJyZW50VmFyaWFibGVJZFRvV2FzbShlKXtjb25zdCBzPVYodGhpcy52aWV3KTt0aGlzLl9kYmcoUy5WZXJib3NlQVBJLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaEN1cnJlbnRWYXJpYWJsZUlkVG9XYXNtKCkgY2FsbGVkISwgXCIrKHM/XCJoYXZlIFdBU01cIjpcImRvbid0IGhhdmUgV0FTTSEhIVwiKSkscz8uc2V0Q3VycmVudFZhcmlhYmxlKHRoaXMsZSl8fHRoaXMuX2RiZyhTLkVycm9yLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaEN1cnJlbnRWYXJpYWJsZUlkVG9XYXNtKCkgZmFpbGVkIVwiKX1fcHVzaFZhcmlhYmxlU3R5bGVzVG9XYXNtKGUpe2NvbnN0IHM9Vih0aGlzLnZpZXcpO3RoaXMuX2RiZyhTLlZlcmJvc2VBUEksXCJWb3hlbExheWVyVmlldzNELl9wdXNoVmFyaWFibGVTdHlsZXNUb1dhc20oKSBjYWxsZWQsIFwiKyhzP1wiaGF2ZSBXQVNNXCI6XCJkb24ndCBoYXZlIFdBU00hISFcIikpLHM/LnNldFZhcmlhYmxlU3R5bGVzKHRoaXMsZSl8fHRoaXMuX2RiZyhTLkVycm9yLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaFZhcmlhYmxlU3R5bGVzVG9XYXNtKCkgZmFpbGVkIVwiKX1fYWNjb3VudEZvckVuYWJsZVNsaWNlcyhlLHMpe2NvbnN0IHQ9bnVsbCE9cz9zOnRoaXMubGF5ZXIuZW5hYmxlU2xpY2VzO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXtjb25zdCBzPWVbaV07Zm9yKGNvbnN0IGUgb2Ygcy5zbGljZXMpZS5lbmFibGVkPWUuZW5hYmxlZCYmdH19X3B1c2hWb2x1bWVTdHlsZXNUb1dhc20oZSl7Y29uc3Qgcz1WKHRoaXMudmlldyk7dGhpcy5fZGJnKFMuVmVyYm9zZUFQSSxcIlZveGVsTGF5ZXJWaWV3M0QuX3B1c2hWb2x1bWVTdHlsZXNUb1dhc20oKSBjYWxsZWQsIFwiKyhzP1wiaGF2ZSBXQVNNXCI6XCJkb24ndCBoYXZlIFdBU00hISFcIikpLHMmJih0aGlzLl9hY2NvdW50Rm9yRW5hYmxlU2xpY2VzKGUsbnVsbCkscy5zZXRWb2x1bWVTdHlsZXModGhpcyxlKXx8dGhpcy5fZGJnKFMuRXJyb3IsXCJWb3hlbExheWVyVmlldzNELl9wdXNoVm9sdW1lU3R5bGVzVG9XYXNtKCkgZmFpbGVkIVwiKSl9X3B1c2hBbmFseXNpc1NsaWNlVG9XYXNtKGUscyl7Y29uc3QgdD1WKHRoaXMudmlldyk7dGhpcy5fZGJnKFMuVmVyYm9zZUFQSSxcIlZveGVsTGF5ZXJWaWV3M0QuX3B1c2hBbmFseXNpc1NsaWNlVG9XYXNtKCkgY2FsbGVkLCBcIisodD9cImhhdmUgV0FTTVwiOlwiZG9uJ3QgaGF2ZSBXQVNNISEhXCIpKTtsZXQgaT0hMTtpZih0KXtpZihzKXtjb25zdCByPXMub3JpZ2luO2wodixzLmJhc2lzMSxzLmJhc2lzMiksbih2LHYpLGk9dC5zZXRBbmFseXNpc1NsaWNlKHRoaXMsZSxyLHYpfWVsc2UgaCh2LDAsMCwxKSxpPXQuc2V0QW5hbHlzaXNTbGljZSh0aGlzLCExLHYsdik7aXx8dGhpcy5fZGJnKFMuRXJyb3IsXCJWb3hlbExheWVyVmlldzNELl9wdXNoQW5hbHlzaXNTbGljZVRvV2FzbSgpIGZhaWxlZCFcIil9fV9wdXNoRW5hYmxlRHluYW1pY1NlY3Rpb25zVG9XYXNtKGUpe2NvbnN0IHM9Vih0aGlzLnZpZXcpO3RoaXMuX2RiZyhTLlZlcmJvc2VBUEksXCJWb3hlbExheWVyVmlldzNELl9wdXNoRW5hYmxlRHluYW1pY1NlY3Rpb25zVG9XYXNtKCkgY2FsbGVkLCBcIisocz9cImhhdmUgV0FTTVwiOlwiZG9uJ3QgaGF2ZSBXQVNNISEhXCIpKSxzPy5zZXRFbmFibGVEeW5hbWljU2VjdGlvbnModGhpcyxlKXx8dGhpcy5fZGJnKFMuRXJyb3IsXCJWb3hlbExheWVyVmlldzNELl9wdXNoRW5hYmxlRHluYW1pY1NlY3Rpb25zVG9XYXNtKCkgZmFpbGVkIVwiKX1fcHVzaEVuYWJsZVNsaWNlc1RvV2FzbShlKXtjb25zdCBzPVYodGhpcy52aWV3KTtpZih0aGlzLl9kYmcoUy5WZXJib3NlQVBJLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaEVuYWJsZVNsaWNlc1RvV2FzbSgpIGNhbGxlZCwgXCIrKHM/XCJoYXZlIFdBU01cIjpcImRvbid0IGhhdmUgV0FTTSEhIVwiKSkscyl7Y29uc3QgdD10aGlzLmxheWVyLmdldFZvbHVtZVN0eWxlcygpO3RoaXMuX2FjY291bnRGb3JFbmFibGVTbGljZXModCxlKSxzLnNldFZvbHVtZVN0eWxlcyh0aGlzLHQpfHx0aGlzLl9kYmcoUy5FcnJvcixcIlZveGVsTGF5ZXJWaWV3M0QuX3B1c2hFbmFibGVTbGljZXNUb1dhc20oKSBmYWlsZWQhXCIpfX1fcHVzaEVuYWJsZUlzb3N1cmZhY2VzVG9XYXNtKGUpe2NvbnN0IHM9Vih0aGlzLnZpZXcpO3RoaXMuX2RiZyhTLlZlcmJvc2VBUEksXCJWb3hlbExheWVyVmlldzNELl9wdXNoRW5hYmxlSXNvc3VyZmFjZXNUb1dhc20oKSBjYWxsZWQsIFwiKyhzP1wiaGF2ZSBXQVNNXCI6XCJkb24ndCBoYXZlIFdBU00hISFcIikpLHM/LnNldEVuYWJsZUlzb3N1cmZhY2VzKHRoaXMsZSl8fHRoaXMuX2RiZyhTLkVycm9yLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaEVuYWJsZUlzb3N1cmZhY2VzVG9XYXNtKCkgZmFpbGVkIVwiKX1fcHVzaEVuYWJsZVNlY3Rpb25zVG9XYXNtKGUpe2NvbnN0IHM9Vih0aGlzLnZpZXcpO3RoaXMuX2RiZyhTLlZlcmJvc2VBUEksXCJWb3hlbExheWVyVmlldzNELl9wdXNoRW5hYmxlU2VjdGlvbnNUb1dhc20oKSBjYWxsZWQsIFwiKyhzP1wiaGF2ZSBXQVNNXCI6XCJkb24ndCBoYXZlIFdBU00hISFcIikpLHM/LnNldEVuYWJsZVNlY3Rpb25zKHRoaXMsZSl8fHRoaXMuX2RiZyhTLkVycm9yLFwiVm94ZWxMYXllclZpZXczRC5fcHVzaEVuYWJsZVNlY3Rpb25zVG9XYXNtKCkgZmFpbGVkIVwiKX1hc3luYyB3aGVuR3JhcGhpY0F0dHJpYnV0ZXMoZSxzKXtyZXR1cm4gZX1fZGJnKGUscyl7dGhpcy5fZGJnRmxhZ3MuaGFzKGUpJiYoZT09PVMuRXJyb3I/dC5nZXRMb2dnZXIodGhpcykuZXJyb3Iocyk6dC5nZXRMb2dnZXIodGhpcykud2FybihzKSl9fTtlKFthKCldLFQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2EoKV0sVC5wcm90b3R5cGUsXCJiYXNlVXJsXCIsbnVsbCksZShbYSh7dHlwZTpCb29sZWFufSldLFQucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLFQ9ZShbbyhcImVzcmkudmlld3MuM2QubGF5ZXJzLlZveGVsTGF5ZXJWaWV3M0RcIildLFQpO2NvbnN0IEU9VDtleHBvcnR7RSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7dW5wYWNrRmllbGROYW1lcyBhcyB0LHBvcHVsYXRlTWlzc2luZ0ZpZWxkcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0RmV0Y2hQb3B1cFRlbXBsYXRlIGFzIG8sZ2V0UmVxdWlyZWRGaWVsZHMgYXMgcH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7Y29uc3QgaT1pPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBpe192YWxpZGF0ZUZldGNoUG9wdXBGZWF0dXJlcyhlKXtjb25zdHtsYXllcjpzfT10aGlzLHtwb3B1cEVuYWJsZWQ6dH09cztpZighdCl0aHJvdyBuZXcgcihcInNjZW5lbGF5ZXJ2aWV3M2Q6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJQb3B1cHMgYXJlIGRpc2FibGVkXCIse2xheWVyOnN9KTtpZighbyhzLGUpKXRocm93IG5ldyByKFwic2NlbmVsYXllcnZpZXczZDpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIkxheWVyIGRvZXMgbm90IGRlZmluZSBhIHBvcHVwIHRlbXBsYXRlXCIse2xheWVyOnN9KX1hc3luYyBwcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGUpe31hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSxyKXt0aGlzLl92YWxpZGF0ZUZldGNoUG9wdXBGZWF0dXJlcyhyKTtjb25zdCBzPW51bGwhPXI/ci5jbGllbnRHcmFwaGljczpudWxsO2lmKCFzfHwwPT09cy5sZW5ndGgpcmV0dXJuW107Y29uc3QgaT1cInNjZW5lXCI9PT10aGlzLmxheWVyLnR5cGUmJm51bGwhPXRoaXMubGF5ZXIuYXNzb2NpYXRlZExheWVyP3RoaXMubGF5ZXIuYXNzb2NpYXRlZExheWVyOnRoaXMubGF5ZXI7bGV0IGM9W107XCJmaWVsZHNJbmRleFwiaW4gdGhpcy5sYXllciYmKGM9dCh0aGlzLmxheWVyLmZpZWxkc0luZGV4LGF3YWl0IHAoaSxvKHRoaXMubGF5ZXIscikpKSksYXdhaXQgdGhpcy5wcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGMpO2NvbnN0IGw9bmV3IFNldCxuPVtdLHU9W107Zm9yKGNvbnN0IHQgb2YgcylhKGMsdCxsKT91LnB1c2godCk6bi5wdXNoKHQpO3JldHVybiAwPT09dS5sZW5ndGg/bjp0aGlzLndoZW5HcmFwaGljQXR0cmlidXRlcyh1LFsuLi5sXSkuY2F0Y2goKCgpPT51KSkudGhlbigoZT0+bi5jb25jYXQoZSkpKX19O3JldHVybiBjPWUoW3MoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LlBvcHVwU2NlbmVMYXllclZpZXdcIildLGMpLGN9O2V4cG9ydHtpIGFzIFBvcHVwU2NlbmVMYXllclZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgc31mcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RXNyaVByb21pc2VNaXhpbiBhcyBufWZyb21cIi4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtsZXQgZD1jbGFzcyBleHRlbmRzKHMobihyLkV2ZW50ZWRNaXhpbih0KSkpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHAsdGhpcy5sYXllcj1udWxsLHRoaXMucGFyZW50PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMud2hlbigpLmNhdGNoKChlPT57aWYoXCJsYXllcnZpZXc6Y3JlYXRlLWVycm9yXCIhPT1lLm5hbWUpe2NvbnN0IHQ9dGhpcy5sYXllciYmdGhpcy5sYXllci5pZHx8XCJubyBpZFwiLHI9dGhpcy5sYXllcj8udGl0bGV8fFwibm8gdGl0bGVcIjtpLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNyZXNvbHZlKClcIixgRmFpbGVkIHRvIHJlc29sdmUgbGF5ZXIgdmlldyAobGF5ZXIgdGl0bGU6ICcke3J9JywgaWQ6ICcke3R9JylgLGUpfX0pKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzPW8odGhpcy5fdXBkYXRpbmdIYW5kbGVzKX1nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4odGhpcy5sYXllcj8ub3BhY2l0eT8/MSkqKHRoaXMucGFyZW50Py5mdWxsT3BhY2l0eT8/MSl9Z2V0IHN1c3BlbmRlZCgpe3JldHVybiF0aGlzLmNhblJlc3VtZSgpfWdldCBzdXNwZW5kSW5mbygpe3JldHVybiB0aGlzLmdldFN1c3BlbmRJbmZvKCl9Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4hdGhpcy5zdXNwZW5kZWQmJiEwPT09dGhpcy5sYXllcj8ubGVnZW5kRW5hYmxlZH1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hKCF0aGlzLl91cGRhdGluZ0hhbmRsZXM/LnVwZGF0aW5nJiYhdGhpcy5pc1VwZGF0aW5nKCkpfWdldCB1cGRhdGluZ1Byb2dyZXNzKCl7cmV0dXJuIHRoaXMudXBkYXRpbmc/MDoxfWdldCB2aXNpYmxlKCl7cmV0dXJuITA9PT10aGlzLmxheWVyPy52aXNpYmxlfXNldCB2aXNpYmxlKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwidmlzaWJsZVwiLGUpfWNhblJlc3VtZSgpe3JldHVybiB0aGlzLnZpc2libGUmJnRoaXMubGF5ZXI/LmxvYWRlZCYmIXRoaXMucGFyZW50Py5zdXNwZW5kZWQmJnRoaXMudmlldz8ucmVhZHl8fCExfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT10aGlzLnBhcmVudD8uc3VzcGVuZGVkP3RoaXMucGFyZW50LnN1c3BlbmRJbmZvOnt9LHQ9dGhpcztyZXR1cm4gdC52aWV3Py5yZWFkeXx8KGUudmlld05vdFJlYWR5PSEwKSx0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmxvYWRlZHx8KGUubGF5ZXJOb3RMb2FkZWQ9ITApLHRoaXMudmlzaWJsZXx8KGUubGF5ZXJJbnZpc2libGU9ITApLGV9aXNVcGRhdGluZygpe3JldHVybiExfX07ZShbYSgpXSxkLnByb3RvdHlwZSxcImZ1bGxPcGFjaXR5XCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFthKCldLGQucHJvdG90eXBlLFwicGFyZW50XCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZEluZm9cIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIixudWxsKSxlKFthKHt0eXBlOkJvb2xlYW4scmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGQ9ZShbbChcImVzcmkudmlld3MubGF5ZXJzLkxheWVyVmlld1wiKV0sZCk7Y29uc3QgdT1kO2V4cG9ydHt1IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRGZWF0dXJlRWRpdEZpZWxkcyBhcyBlLGZpeEZpZWxkcyBhcyBsfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBuKG4scD1uLnBvcHVwVGVtcGxhdGUpe2lmKG51bGw9PXApcmV0dXJuW107Y29uc3QgdT1hd2FpdCBwLmdldFJlcXVpcmVkRmllbGRzKG4uZmllbGRzSW5kZXgpLHtsYXN0RWRpdEluZm9FbmFibGVkOnR9PXAse29iamVjdElkRmllbGQ6ZCx0eXBlSWRGaWVsZDpzLGdsb2JhbElkRmllbGQ6aSxyZWxhdGlvbnNoaXBzOmF9PW47aWYodS5pbmNsdWRlcyhcIipcIikpcmV0dXJuW1wiKlwiXTtjb25zdCBvPXQ/ZShuKTpbXSxmPWwobi5maWVsZHNJbmRleCxbLi4udSwuLi5vXSk7cmV0dXJuIHMmJmYucHVzaChzKSxmJiZkJiZuLmZpZWxkc0luZGV4Py5oYXMoZCkmJiFmLmluY2x1ZGVzKGQpJiZmLnB1c2goZCksZiYmaSYmbi5maWVsZHNJbmRleD8uaGFzKGkpJiYhZi5pbmNsdWRlcyhpKSYmZi5wdXNoKGkpLGEmJmEuZm9yRWFjaCgoZT0+e2NvbnN0e2tleUZpZWxkOmx9PWU7ZiYmbCYmbi5maWVsZHNJbmRleD8uaGFzKGwpJiYhZi5pbmNsdWRlcyhsKSYmZi5wdXNoKGwpfSkpLGZ9ZnVuY3Rpb24gcChlLGwpe3JldHVybiBlLnBvcHVwVGVtcGxhdGU/ZS5wb3B1cFRlbXBsYXRlOm51bGwhPWwmJmwuZGVmYXVsdFBvcHVwVGVtcGxhdGVFbmFibGVkJiZudWxsIT1lLmRlZmF1bHRQb3B1cFRlbXBsYXRlP2UuZGVmYXVsdFBvcHVwVGVtcGxhdGU6bnVsbH1mdW5jdGlvbiB1KGUsbCl7cmV0dXJuIG51bGwhPXAoZSx7ZGVmYXVsdFBvcHVwVGVtcGxhdGVFbmFibGVkOmx9KX1leHBvcnR7cCBhcyBnZXRGZXRjaFBvcHVwVGVtcGxhdGUsbiBhcyBnZXRSZXF1aXJlZEZpZWxkcyx1IGFzIGhhc1BvcHVwVGVtcGxhdGV9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9