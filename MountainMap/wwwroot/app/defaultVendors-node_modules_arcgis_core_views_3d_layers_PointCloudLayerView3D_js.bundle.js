"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_PointCloudLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   P: () => (/* binding */ y),
/* harmony export */   a: () => (/* binding */ O),
/* harmony export */   b: () => (/* binding */ C),
/* harmony export */   c: () => (/* binding */ R),
/* harmony export */   g: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4DrawUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class y extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.NoParameters{constructor(){super(...arguments),this.clipBox=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.positiveInfinity),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class O extends _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_10__.SlicePlaneParameters{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function R(r){const a=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__.ShaderBuilder,n=r.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Color,c=r.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Depth,l=r.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Highlight,{vertex:f,fragment:x}=a;return a.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_10__.SliceDraw,r),a.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.POSITION,"vec3"),a.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.COLOR,"vec3"),f.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4DrawUniform_js__WEBPACK_IMPORTED_MODULE_17__.Matrix4DrawUniform("modelView",((e,r)=>(0,_mat4_js__WEBPACK_IMPORTED_MODULE_1__.m)(B,r.camera.viewMatrix,(0,_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(B,e.origin)))),new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Matrix4PassUniform("proj",((e,i)=>i.camera.projectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float2DrawUniform("screenMinMaxSize",((e,i,o)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_3__.s)(L,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,F(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float2PassUniform("pointScale",((e,i)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_3__.s)(L,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float2DrawUniform("pointScale",((e,i,o)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_3__.s)(L,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?f.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float3DrawUniform("clipMin",((e,i,o)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(_,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float3DrawUniform("clipMax",((e,i,o)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(_,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(f.constants.add("clipMin","vec3",[-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32]),f.constants.add("clipMax","vec3",[_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32])),c?((0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addNearFar)(a),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addCalculateLinearDepth)(a),a.varyings.add("depth","float")):r.output!==_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Highlight&&a.varyings.add("vColor","vec3"),f.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
    void main(void) {
      // Move clipped points outside of clipspace
      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||
        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {
        gl_Position = vec4(0.0,0.0,0.0,2.0);
        gl_PointSize = 0.0;
        return;
      }

      if (rejectBySlice(position)) {
        gl_Position = vec4(0.0,0.0,0.0,2.0);
        gl_PointSize = 0.0;
        return;
      }

      // Position in camera space
      vec4 camera = modelView * vec4(position, 1.0);

      float pointSize = pointScale.x;
      vec4 position = proj * camera;
     ${r.drawScreenSize?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
      float clampedScreenSize = pointSize;`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
      float pointRadius = 0.5 * pointSize;
      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);
      vec4 positionOffset = proj * cameraOffset;
      float radius = abs(positionOffset.y - position.y);
      float viewHeight = pointScale.y;
      // screen diameter = (2 * r / w) * (h / 2)
      float screenPointSize = (radius / position.w) * viewHeight;
      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);
      // Shift towards camera, to move rendered point out of terrain i.e. to
      // the camera-facing end of the virtual point when considering it as a
      // 3D sphere.
      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;
      position = proj * camera;`}

     gl_PointSize = clampedScreenSize;
     gl_Position = position;

     ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`depth = calculateLinearDepth(nearFar, camera.z);`:""}
     ${n?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`vColor = color;`:""}
    }
  `),x.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_12__.RgbaFloatEncoding,r),l&&a.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__.OutputHighlight,r),x.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
    void main(void) {
      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);
      float r2 = dot(vOffset, vOffset);

      if (r2 > 0.25) {
        discard;
      }
      ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`fragColor = float2rgba(depth);`:""}
      ${l?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`outputHighlight();`:""}
      ${n?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`fragColor = vec4(vColor, 1.0);`:""}
    }
  `),a}function F(e){return e?256:64}const B=(0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),_=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),L=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.a)(),C=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:O,PointRendererPassParameters:y,build:R,getMaxPointSizeScreenspace:F},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ye)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../chunks/vec3f32.js */ "./node_modules/@arcgis/core/chunks/vec3f32.js");
/* harmony import */ var _geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/projection/projectBoundingRect.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingRect.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../layers/support/CodedValue.js */ "./node_modules/@arcgis/core/layers/support/CodedValue.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../layers/support/CodedValueDomain.js */ "./node_modules/@arcgis/core/layers/support/CodedValueDomain.js");
/* harmony import */ var _layers_support_Domain_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../layers/support/Domain.js */ "./node_modules/@arcgis/core/layers/support/Domain.js");
/* harmony import */ var _layers_support_InheritedDomain_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../layers/support/InheritedDomain.js */ "./node_modules/@arcgis/core/layers/support/InheritedDomain.js");
/* harmony import */ var _layers_support_RangeDomain_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../layers/support/RangeDomain.js */ "./node_modules/@arcgis/core/layers/support/RangeDomain.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../layers/support/PromiseQueue.js */ "./node_modules/@arcgis/core/layers/support/PromiseQueue.js");
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _PointCloudWorkerHandle_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./PointCloudWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./i3s/LoDUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js");
/* harmony import */ var _i3s_PagedNodeIndex_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./i3s/PagedNodeIndex.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js");
/* harmony import */ var _i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./i3s/PointCloudRendererUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js");
/* harmony import */ var _i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./i3s/PointCloudWorkerUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js");
/* harmony import */ var _i3s_PointGraphic_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./i3s/PointGraphic.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js");
/* harmony import */ var _i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./i3s/PointRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js");
/* harmony import */ var _support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./support/PopupSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js");
/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../support/extentUtils.js */ "./node_modules/@arcgis/core/views/3d/support/extentUtils.js");
/* harmony import */ var _support_index_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../support/index.js */ "./node_modules/@arcgis/core/views/3d/support/index.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const me=8,ge=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.create)();let fe=class extends((0,_support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_40__.PopupSceneLayerView)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_31__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_46__["default"]))){constructor(){super(...arguments),this.type="point-cloud-3d",this.slots=[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_45__.RenderSlot.OPAQUE_MATERIAL],this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_29__.PromiseQueue,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getSplatSizeAlgorithm)(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFixedSizeAlgorithm)(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFixedSizeAlgorithm)(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getRendererInfo)(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFilterInfo)(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_28__.unpackFieldNames)(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_18__.create)(),t=this.view.renderSpatialReference;return (0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_41__.projectToBoundingBox)(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&"absolute-height"===e.mode){const t=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__.getMetersPerVerticalUnitForSR)(this.layer.spatialReference),i=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_30__.getMetersPerUnit)(e.unit);return(e.offset??0)*i/t}return 0}initialize(){const e=this.view.resourceController,t=Pe(e);this._worker=new _PointCloudWorkerHandle_js__WEBPACK_IMPORTED_MODULE_32__.PointCloudWorkerHandle(t),this.addResolvingPromise(this._worker.promise),this._tmpPoint=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_21__.makeDehydratedPoint)(0,0,0,this.layer.spatialReference),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_33__.checkPointCloudLayerValid)(this.layer),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_33__.checkPointCloudLayerCompatibleWithView)(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(_support_index_js__WEBPACK_IMPORTED_MODULE_42__.ClientType.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(_support_index_js__WEBPACK_IMPORTED_MODULE_42__.ClientType.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([this.view.basemapTerrain.on("scale-change",(e=>this._scaleUpdateHandler(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.sync)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_48__.TaskPriority.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._worker),this._destroyRenderer(),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._memCache),this._codedDomainPopulationAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.abortMaybe)(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new _i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__.PointRenderer({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.pt2px)(e);this._renderer.size=e,this._renderer.sizePx=t}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new _i3s_PointGraphic_js__WEBPACK_IMPORTED_MODULE_38__.PointGraphic({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if("UInt8"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.rendererUsesFixedSizes)(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__.isScaleRangeActive)(t.minScale,t.maxScale)?(0,_geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__.projectBoundingRect)(e.extent,e.spatialReference,we,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__.containsPoint)(we,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__.nodeDiff)([...this._renderedNodes],e,this._index),(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__.sortFrontToBack)(this._workQueue,this.view.state.contentCamera.viewForward,this._index),(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__.splitWorkEntries)(this._workQueue,me,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange("suspended")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange("suspended")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r="CLASS_CODE",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"CLASS_CODE",codedValues:n.map((e=>new _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_22__.CodedValue({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getAttributeInfo)(o,e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome),a=async(e,t)=>{const i=this._index.getNode(t);await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.forEach)(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof _i3s_PointGraphic_js__WEBPACK_IMPORTED_MODULE_38__.PointGraphic&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__.getAttributeValues)({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__.readGeometry)(t,await this._loadGeometry(e,null));return (0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__.elevationFromPositions)(i,i.length/3)}highlight(e){if(!e)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)();const t=_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange("updating"),this.notifyChange("updatingProgressValue")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new _i3s_PagedNodeIndex_js__WEBPACK_IMPORTED_MODULE_35__["default"](this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange("suspended"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,obbInRenderSR:(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__.create)(),firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__.j)(s,t.eye),n=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.fromNormalAndOffset)(s,-o,ge),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__.extractSafeScaleBounds)(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__.scaleBoundsPredicate)(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__.minimumDistancePlane)(e,r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isAbortError)(i)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_28__.unpackFieldNames)(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getAttributeInfo)(a,t);e&&d.push(i(e))}const l=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.allSettledValues)(d);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAborted)(r),l.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getRendererInfo)(this.layer),s=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFilterInfo)(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),c=p.map((e=>n(e))),_=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAborted)(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:"json",token:this.layer.apiKey};return this._indexRequester.request(e,"json",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,"binary",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,be(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if((0,_i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__.isInstanceOfNode)(t))return t.splatSize=r,t.obb=s,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__.c)(t.origin,t.obb.center),t;const o=.01*Math.max(s.halfSize[0],s.halfSize[1],s.halfSize[2]);if(t.obb.halfSize[0]>s.halfSize[0]+o||t.obb.halfSize[1]>s.halfSize[1]+o||t.obb.halfSize[2]>s.halfSize[2]+o){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn("  Too many bounding box errors, stopping reporting for this layer.")}this._index.setRenderObb(e,t.obb)}return new _i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__.PointRendererNode(e,r,(0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_16__.a)(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=Ne,e+=(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__.estimateSize)(t.coordinates);for(const i of t.attributes){const t=i.values;(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__.isArrayBuffer)(t.buffer)&&(e+=(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__.estimateSize)(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*Ne)/t)+i*Ne}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,"Loading Nodes":this._loadingNodes.size,"Index Queue":this._indexQueue.length,"Work Queue":this._workQueue.length,"Idle Queue":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"baseUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"pointScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"useRealWorldSymbolSizes",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"pointSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"inverseDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"maximumPointCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"_clippingBox",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"_elevationOffset",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({type:Boolean})],fe.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__.updatingProgress)],fe.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"updatingProgressValue",null),fe=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.views.3d.layers.PointCloudLayerView3D")],fe);const ye=fe;function be(e){return 5*e.coordinates.length+128}const we=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__.create)(),Ne=160;function Pe(e){return t=>e.immediate.schedule(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudWorkerHandle: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle{constructor(t){super("PointCloudWorker","transform",{transform:t=>this._getTransferList(t)},t)}_getTransferList(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const e of t.filterAttributesData)null!=e&&e.buffer&&r.push(e.buffer);for(const e of t.userAttributesData)e.buffer&&r.push(e.buffer);return r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   nodeDiff: () => (/* binding */ t),
/* harmony export */   sortFrontToBack: () => (/* binding */ g),
/* harmony export */   splitWorkEntries: () => (/* binding */ u),
/* harmony export */   splitWorkEntry: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(o,n)-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(o,n)-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(o,n)-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class p{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);a(t,this._nodeSR,this._renderSR,s),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},g(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[u(e,t)].nodes[l(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[u(e,t)].nodes[l(e,t)].obbInRenderSR}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.set)(t,this._pages[u(e,s)].nodes[l(e,s)].obbInRenderSR)}getParentId(e){const t=this.pageSize;return this._pages[u(e,t)].parents[l(e,t)]}hasNodes(e,t){const s=u(e,this.pageSize),n=u(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.create)()};return(e,s)=>h(t,e,s)}}function h(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let l=a.pop();const d=p.getNode(g),c=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(l&i)){const r=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.toAaBoundingBox)(c,e.tempAabb);(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.contains)(n.clippingBox,r)?l|=i:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.intersects)(n.clippingBox,r)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(l&t)){const s=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.intersectPlane)(c,n.frustum[e]);s>0?f=!1:s<0&&(l|=t)}}if(i.predicate(g,d,f)){const e=d.firstChild,t=d.childCount;let s=!1;const n=u(e,p.pageSize),o=u(e+t-1,p.pageSize);for(let r=n;r<=o;r++)if(!p.hasPage(r)){i.pageMiss(g,r),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(l)}}}function a(e,t,s,i){for(let o=0;o<e.length;o++){const r=e[o];(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__.transformObb)(r.obb,t,r.obbInRenderSR,s,i)}}function g(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[u(n,t)].nodes[l(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[u(r,t)]&&(e[u(r,t)].parents[l(r,t)]=n,s.push(r))}}}function u(e,t){return e/t|0}function l(e,t){return e%t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAttributeInfo: () => (/* binding */ u),
/* harmony export */   getFilterInfo: () => (/* binding */ e),
/* harmony export */   getFixedSizeAlgorithm: () => (/* binding */ o),
/* harmony export */   getRendererInfo: () => (/* binding */ t),
/* harmony export */   getSplatSizeAlgorithm: () => (/* binding */ n),
/* harmony export */   rendererUsesFixedSizes: () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;"point-cloud-unique-value"===n||"point-cloud-stretch"===n||"point-cloud-class-breaks"===n?l=u(a,e.field):"point-cloud-rgb"===n?(l=r(a,e.field),i=null!=l):(l=r(a,"RGB"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&"splat"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&"fixed-size"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&"fixed-size"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&"UInt8"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t="embedded-elevation"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return"elevation"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elevationFromPositions: () => (/* binding */ a),
/* harmony export */   evaluateRenderer: () => (/* binding */ i),
/* harmony export */   filterInPlace: () => (/* binding */ f),
/* harmony export */   getAttributeValues: () => (/* binding */ c),
/* harmony export */   readGeometry: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/PointCloudClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js");
/* harmony import */ var _renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/PointCloudStretchRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js");
/* harmony import */ var _renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/PointCloudUniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _LEPCC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LEPCC.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&"pointCloudUniqueValueRenderer"===i?.type){a=_renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+"";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&"pointCloudStretchRenderer"===i?.type){a=_renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&"pointCloudClassBreaksRenderer"===i?.type){a=_renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a?.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||""===e.encoding){const o=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createGeometryIndexFromSchema)(r,e);if(null==o.vertexAttributes.position)return;const l=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createTypedView)(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if("lepcc-xyz"===e.encoding)return (0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_5__.decodeXYZ)(r).result}function c(e,r,o){return e?.attributeInfo.useElevation?r?a(r,o):null:e?.attributeInfo.storageInfo?(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.readBinaryAttribute)(e.attributeInfo.storageInfo,e.buffer,o):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case"pointCloudValueFilter":{const e="exclude"===r.mode;r.values.includes(o)===e&&(l=!1);break}case"pointCloudBitfieldFilter":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);(o&e)===e&&0==(o&t)||(l=!1);break}case"pointCloudReturnFilter":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if("last"===o&&i||"firstOfMany"===o&&s&&n||"lastOfMany"===o&&i&&n||"single"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case"none":return e=>e;case"low-four-bit":return e=>15&e;case"high-four-bit":return e=>(240&e)>>4;case"absolute-value":return e=>Math.abs(e);case"modulo-ten":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointGraphic: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let e=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r),this.pointCloudMetadata=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0,clonable:"reference"})],e.prototype,"pointCloudMetadata",void 0),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.i3s.PointGraphic")],e);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointHighlights: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3DStateID.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_2__.Object3DStateID(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.Object3DState.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRenderer: () => (/* binding */ Y),
/* harmony export */   PointRendererNode: () => (/* binding */ J),
/* harmony export */   isInstanceOfNode: () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Intersector.js");
/* harmony import */ var _PointHighlights_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PointHighlights.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/* harmony import */ var _webgl_engine_shaders_PointRendererTechnique_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl-engine/shaders/PointRendererTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js");
/* harmony import */ var _webgl_engine_shaders_PointRendererTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const Q={positions:[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__.VertexElementDescriptor(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.DataType.FLOAT,0,12)],colors:[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__.VertexElementDescriptor(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.COLOR,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.DataType.UNSIGNED_BYTE,0,3,!0)]};let Y=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_18__.SyncPrepareRenderPlugin{constructor(e){super(e),this.type=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.PCL,this.isGround=!1,this._passParameters=new _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.P,this._highlights=new _PointHighlights_js__WEBPACK_IMPORTED_MODULE_15__.PointHighlights({forEachNode:e=>this.forEachNode(e),addHighlight:(e,s,t)=>this._addHighlight(e,s,t),removeHighlight:(e,s)=>this._removeHighlight(e,s)}),this.produces=new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OPAQUE_MATERIAL,e=>e!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight||!this._highlights.empty]]),this.layerUid="",this._slicePlaneEnabled=!1,this._techniqueConfig=new _webgl_engine_shaders_PointRendererTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_27__.PointRendererTechniqueConfiguration,this._nodes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__["default"]}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,s,t,i){const r=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),f=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),P=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),w=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__.create)(),A=e.camera.perScreenPixelRatio/2,I=e.camera.near;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.f)(f,i,t);const v=1/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.l)(f);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(f,f,v),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.E)(P,f),(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__.s)(w,f[0],f[1],f[2],-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.j)(f,t));const F=new ie,C=new ie,N=new Array,T=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)(),L=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)(this._passParameters.clipBox);(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.offset)(L,-t[0],-t[1],-t[2],L),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.minimumDistancePlane)(o.obb,w),u=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.maximumDistancePlane)(o.obb,w);l-=Z(a,l+I,this._passParameters,A,o.isLeaf),u-=Z(a,u+I,this._passParameters,A,o.isLeaf);const d=u<0,p=null!=F.dist&&null!=C.dist&&F.dist<l*v&&C.dist>u*v;if(d||p)return;const S=X(a,u+I,this._passParameters,A,o.isLeaf);if(!(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.intersectLine)(o.obb,t,f,S))return;const x=S*S;(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.toAaBoundingBox)(o.obb,T),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.offset)(T,-t[0],-t[1],-t[2],T);const z=!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.contains)(L,T);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.f)(b,o.origin,t);const E=o.coordinates.length/3;for(let n=0;n<E;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.containsPoint)(L,r))continue;const l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.j)(r,f),u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.m)(r)-l*l;if(u>x)continue;let d=l+I;const p=Z(a,d,this._passParameters,A,o.isLeaf);if(l-p<0)continue;d-=p;const m=X(a,d,this._passParameters,A,o.isLeaf);if(u>m*m)continue;const g=(l-p)*v,S=e=>(e.point=$(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==F.dist||g<F.dist)&&(null==s||s(t,i,g))&&S(F),e.options.store!==_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.MIN&&(null==C.dist||g>C.dist)&&(null==s||s(t,i,g))&&S(C),e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.ALL&&(null==s||s(t,i,g))){const e=new ie;N.push(S(e))}}}));const H=e=>{const{layerUid:s,node:t,pointId:i}=e;return new _Intersector_js__WEBPACK_IMPORTED_MODULE_14__.PclTarget(e.point,s,i,(()=>this.createGraphic(t,i,e.point)))},M=(e,s)=>{const t=H(s);e.set(this.type,t,s.dist,s.normal)};if(re(F)){const s=e.results.min;(null==s.dist||F.dist<s.dist)&&M(s,F)}if(re(C)&&e.options.store!==_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.MIN){const s=e.results.max;(null==s.dist||C.dist>s.dist)&&M(s,C)}if(e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.ALL){const s=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_13__.fromPoints)(t,i);for(const t of N){const i=(0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_20__.newIntersectorResult)(s);M(i,t),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Color&&e.output!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Depth&&e.output!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight?null:(this._nodes.forAll((s=>{null==s.vao&&this._initNode(e,s)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output,this._context.techniqueRepository.releaseAndAcquire(_webgl_engine_shaders_PointRendererTechnique_js__WEBPACK_IMPORTED_MODULE_26__.PointRendererTechnique,this._techniqueConfig,this._technique))}renderNode(e,s){const t=e.rctx,i=t.bindTechnique(s,this._passParameters,e.bindParameters),r=e.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight;this._nodes.forAll((s=>{0===s.coordinates.length||r&&!s.highlights||(i.bindDraw(s,e.bindParameters,this._passParameters),t.bindVAO(s.vao),r?this._renderHighlightFragments(t,s):t.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,0,s.coordinates.length/3))}))}_renderHighlightFragments(e,s){const t=s.highlights;if(null==t)return;let i=t[0].component,r=i+1;for(let o=1;o<t.length;o++){const s=t[o].component;if(s!==r){const t=r-i;t>0&&e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,i,t),i=s}r=s+1}const n=r-i;n>0&&e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.set)(this._passParameters.clipBox,e||_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.positiveInfinity)}get _clippingEnabled(){return!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.equals)(this._passParameters.clipBox,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.positiveInfinity,((e,s)=>e===s))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,s,t){e.highlights=se(e.highlights,s,t),this._requestRender()}_removeHighlight(e,s){e.highlights=te(e.highlights,s),this._requestRender()}_initNode(e,s){const t=e.rctx;s.vao=new _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_23__.VertexArrayObject(t,_webgl_engine_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_19__.Default3D,Q,{positions:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.Usage.STATIC_DRAW,s.coordinates),colors:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.Usage.STATIC_DRAW,s.rgb)})}_requestRender(){this._context&&this._context.requestRender()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],Y.prototype,"createGraphic",void 0),Y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.i3s.PointRenderer")],Y);class J extends _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.a{constructor(e,s,t,i,r,n,o,a,l=null,h=null){super(t,r,s),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=l,this.highlights=h}}function K(e){return e.hasOwnProperty("splatSize")}function X(e,s,t,i,r){if(t.drawScreenSpace)return t.fixedSize*s*i;const n=(0,_chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.g)(r)*s*i;return t.useFixedSizes?Math.min(t.fixedSize/2,n):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*s*i,e/2),n):Math.min(e/2,n)}function Z(e,s,t,i,r){return t.drawScreenSpace?0:X(e,s,t,i,r)}function $(e,s,t){return null==t&&(t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)()),t[0]=e.origin[0]+e.coordinates[3*s],t[1]=e.origin[1]+e.coordinates[3*s+1],t[2]=e.origin[2]+e.coordinates[3*s+2],t}function ee(e){return null!=e.component?e.component:-1}function se(e,s,t){null==e&&(e=[]);const i={component:s,id:t};e.push(i);const r=ee(i);let n=e.length-1;for(;n>0&&r<ee(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function te(e,s){if(null==e)return e;const t=e.filter((e=>e.id!==s));return 0===t.length?null:t}class ie{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=""}}function re(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PopupSceneLayerView: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:s});if(!(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFetchPopupTemplate)(s,e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){this._validateFetchPopupFeatures(r);const s=null!=r?r.clientGraphics:null;if(!s||0===s.length)return[];const i="scene"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let c=[];"fieldsIndex"in this.layer&&(c=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.unpackFieldNames)(this.layer.fieldsIndex,await (0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getRequiredFields)(i,(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFetchPopupTemplate)(this.layer,r)))),await this.prepareFetchPopupFeatures(c);const l=new Set,n=[],u=[];for(const t of s)(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.populateMissingFields)(c,t,l)?u.push(t):n.push(t);return 0===u.length?n:this.whenGraphicAttributes(u,[...l]).catch((()=>u)).then((e=>n.concat(e)))}};return c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.support.PopupSceneLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRendererTechnique: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class m extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__.Program(e.rctx,m.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.makePipelineState)({depthTest:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.LESS},depthWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultDepthWriteParams,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultColorWriteParams,stencilWrite:this.configuration.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_4__.stencilWriteMaskOn:null,stencilTest:this.configuration.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_4__.stencilBaseAllZerosParams:null})}}m.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_5__.b,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_PointRenderer_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./PointRenderer.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRenderer.glsl.js"))));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRendererTechniqueConfiguration: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT})],r.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"drawScreenSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"useFixedSizes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"clippingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({constValue:!0})],r.prototype,"hasSliceInVertexProgram",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19Qb2ludENsb3VkTGF5ZXJWaWV3M0RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDNm5ELGdCQUFnQixrR0FBQyxDQUFDLGNBQWMsaUNBQWlDLDBFQUFDLENBQUMsZ0ZBQUMsc0hBQXNILGdCQUFnQixrREFBa0Qsb0JBQW9CLDJDQUEyQyxzQkFBc0IsMERBQTBELGdCQUFnQiwwR0FBQyxDQUFDLG1CQUFtQix1REFBdUQsY0FBYyxZQUFZLHNHQUFDLGNBQWMsbUdBQUMsb0JBQW9CLG1HQUFDLG9CQUFvQixtR0FBQyxZQUFZLG9CQUFvQixHQUFHLGlCQUFpQiwrRkFBQyxxQkFBcUIsMkZBQUMsbUNBQW1DLDJGQUFDLGtDQUFrQyxnSEFBQyxxQkFBcUIsMkNBQUMsdUJBQXVCLDJDQUFDLG9CQUFvQixnSEFBQyxnREFBZ0QsOEdBQUMsOEJBQThCLDJDQUFDLDRHQUE0Ryw4R0FBQyxzQkFBc0IsMkNBQUMsOERBQThELDhHQUFDLHdCQUF3QiwyQ0FBQyxrSUFBa0ksOEdBQUMscUJBQXFCLDJDQUFDLHFGQUFxRiw4R0FBQyxxQkFBcUIsMkNBQUMsc0hBQXNILGdFQUFDLEVBQUUsZ0VBQUMsRUFBRSxnRUFBQyxxQ0FBcUMsZ0VBQUMsQ0FBQyxnRUFBQyxDQUFDLGdFQUFDLE9BQU8sZ0hBQUMsSUFBSSw2SEFBQyxnREFBZ0QsbUdBQUMsdURBQXVELDhGQUFDO0FBQzN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTyxpQkFBaUIsOEZBQUM7QUFDekIsMENBQTBDLEVBQUUsOEZBQUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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RSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUseUJBQXlCLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSx1RkFBQyxvQ0FBb0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p6NEU7QUFDQTtBQUNBO0FBQ0E7QUFDNEYsc0NBQXNDLG9CQUFvQixrREFBa0Qsc0JBQXNCLElBQUksOERBQThELEdBQUcsK0JBQStCLFVBQVUsbUZBQUMsU0FBUyx3RUFBQyw0QkFBNEIsb0pBQW9KLE1BQU0sV0FBVyxHQUFHLHVEQUF1RCxLQUFLLGdCQUFnQix3SUFBd0ksZ0JBQWdCLGtCQUFrQiw4QkFBOEIsRUFBa0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL1BvaW50UmVuZGVyZXIuZ2xzbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0xheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvUG9pbnRDbG91ZExheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvUG9pbnRDbG91ZFdvcmtlckhhbmRsZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Mb0RVdGlsLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL1BhZ2VkTm9kZUluZGV4LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL1BvaW50Q2xvdWRSZW5kZXJlclV0aWwuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvUG9pbnRDbG91ZFdvcmtlclV0aWwuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvUG9pbnRHcmFwaGljLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL1BvaW50SGlnaGxpZ2h0cy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludFJlbmRlcmVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9Qb3B1cFNjZW5lTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9Qb2ludFJlbmRlcmVyVGVjaG5pcXVlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9Qb2ludFJlbmRlcmVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0xheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL3N1cHBvcnQvcG9wdXBVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e251bWJlck1heEZsb2F0MzIgYXMgZX1mcm9tXCIuLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHttIGFzIGksZCBhcyBvfWZyb21cIi4vbWF0NC5qc1wiO2ltcG9ydHthIGFzIHJ9ZnJvbVwiLi9tYXQ0ZjY0LmpzXCI7aW1wb3J0e3MgYXMgdH1mcm9tXCIuL3ZlYzIuanNcIjtpbXBvcnR7YX1mcm9tXCIuL3ZlYzJmNjQuanNcIjtpbXBvcnR7c31mcm9tXCIuL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBufWZyb21cIi4vdmVjM2Y2NC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgYyxwb3NpdGl2ZUluZmluaXR5IGFzIGx9ZnJvbVwiLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2FkZE5lYXJGYXIgYXMgcCxhZGRDYWxjdWxhdGVMaW5lYXJEZXB0aCBhcyBkfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvRm9yd2FyZExpbmVhckRlcHRoLmdsc2wuanNcIjtpbXBvcnR7U2hhZGVyT3V0cHV0IGFzIG19ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7U2xpY2VQbGFuZVBhcmFtZXRlcnMgYXMgZixTbGljZURyYXcgYXMgZ31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L1NsaWNlLmdsc2wuanNcIjtpbXBvcnR7T3V0cHV0SGlnaGxpZ2h0IGFzIHV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9vdXRwdXQvT3V0cHV0SGlnaGxpZ2h0Lmdsc2wuanNcIjtpbXBvcnR7UmdiYUZsb2F0RW5jb2RpbmcgYXMgU31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvUmdiYUZsb2F0RW5jb2RpbmcuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdDJEcmF3VW5pZm9ybSBhcyBofWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQyRHJhd1VuaWZvcm0uanNcIjtpbXBvcnR7RmxvYXQyUGFzc1VuaWZvcm0gYXMgdn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0MlBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0M0RyYXdVbmlmb3JtIGFzIHd9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDNEcmF3VW5pZm9ybS5qc1wiO2ltcG9ydHtOb1BhcmFtZXRlcnMgYXMgeCxnbHNsIGFzIHp9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e01hdHJpeDREcmF3VW5pZm9ybSBhcyBifWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvTWF0cml4NERyYXdVbmlmb3JtLmpzXCI7aW1wb3J0e01hdHJpeDRQYXNzVW5pZm9ybSBhcyBNfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvTWF0cml4NFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e1NoYWRlckJ1aWxkZXIgYXMgan1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL1NoYWRlckJ1aWxkZXIuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIFB9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtjbGFzcyB5IGV4dGVuZHMgeHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5jbGlwQm94PWMobCksdGhpcy51c2VGaXhlZFNpemVzPSExLHRoaXMudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXM9ITEsdGhpcy5zY2FsZUZhY3Rvcj0xLHRoaXMubWluU2l6ZVB4PTAsdGhpcy5zaXplPTAsdGhpcy5zaXplUHg9MH1nZXQgZml4ZWRTaXplKCl7cmV0dXJuIHRoaXMuZHJhd1NjcmVlblNwYWNlP3RoaXMuc2l6ZVB4OnRoaXMuc2l6ZX1nZXQgc2NyZWVuTWluU2l6ZSgpe3JldHVybiB0aGlzLnVzZUZpeGVkU2l6ZXM/MDp0aGlzLm1pblNpemVQeH1nZXQgZHJhd1NjcmVlblNwYWNlKCl7cmV0dXJuIHRoaXMudXNlRml4ZWRTaXplcyYmIXRoaXMudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXN9fWNsYXNzIE8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsaSxvKXtzdXBlcihlKSx0aGlzLm9yaWdpbj1lLHRoaXMuaXNMZWFmPWksdGhpcy5zcGxhdFNpemU9b319ZnVuY3Rpb24gUihyKXtjb25zdCBhPW5ldyBqLG49ci5vdXRwdXQ9PT1tLkNvbG9yLGM9ci5vdXRwdXQ9PT1tLkRlcHRoLGw9ci5vdXRwdXQ9PT1tLkhpZ2hsaWdodCx7dmVydGV4OmYsZnJhZ21lbnQ6eH09YTtyZXR1cm4gYS5pbmNsdWRlKGcsciksYS5hdHRyaWJ1dGVzLmFkZChQLlBPU0lUSU9OLFwidmVjM1wiKSxhLmF0dHJpYnV0ZXMuYWRkKFAuQ09MT1IsXCJ2ZWMzXCIpLGYudW5pZm9ybXMuYWRkKG5ldyBiKFwibW9kZWxWaWV3XCIsKChlLHIpPT5pKEIsci5jYW1lcmEudmlld01hdHJpeCxvKEIsZS5vcmlnaW4pKSkpLG5ldyBNKFwicHJvalwiLCgoZSxpKT0+aS5jYW1lcmEucHJvamVjdGlvbk1hdHJpeCkpLG5ldyBoKFwic2NyZWVuTWluTWF4U2l6ZVwiLCgoZSxpLG8pPT50KEwsby51c2VGaXhlZFNpemVzPzA6by5taW5TaXplUHgqaS5jYW1lcmEucGl4ZWxSYXRpbyxGKGUuaXNMZWFmKSppLmNhbWVyYS5waXhlbFJhdGlvKSkpLHIudXNlRml4ZWRTaXplcz9uZXcgdihcInBvaW50U2NhbGVcIiwoKGUsaSk9PnQoTCxlLmZpeGVkU2l6ZSppLmNhbWVyYS5waXhlbFJhdGlvLGkuY2FtZXJhLmZ1bGxIZWlnaHQpKSk6bmV3IGgoXCJwb2ludFNjYWxlXCIsKChlLGksbyk9PnQoTCxlLnNwbGF0U2l6ZSpvLnNjYWxlRmFjdG9yKmkuY2FtZXJhLnBpeGVsUmF0aW8saS5jYW1lcmEuZnVsbEhlaWdodC9pLmNhbWVyYS5waXhlbFJhdGlvKSkpKSxyLmNsaXBwaW5nRW5hYmxlZD9mLnVuaWZvcm1zLmFkZChuZXcgdyhcImNsaXBNaW5cIiwoKGUsaSxvKT0+cyhfLG8uY2xpcEJveFswXS1lLm9yaWdpblswXSxvLmNsaXBCb3hbMV0tZS5vcmlnaW5bMV0sby5jbGlwQm94WzJdLWUub3JpZ2luWzJdKSkpLG5ldyB3KFwiY2xpcE1heFwiLCgoZSxpLG8pPT5zKF8sby5jbGlwQm94WzNdLWUub3JpZ2luWzBdLG8uY2xpcEJveFs0XS1lLm9yaWdpblsxXSxvLmNsaXBCb3hbNV0tZS5vcmlnaW5bMl0pKSkpOihmLmNvbnN0YW50cy5hZGQoXCJjbGlwTWluXCIsXCJ2ZWMzXCIsWy1lLC1lLC1lXSksZi5jb25zdGFudHMuYWRkKFwiY2xpcE1heFwiLFwidmVjM1wiLFtlLGUsZV0pKSxjPyhwKGEpLGQoYSksYS52YXJ5aW5ncy5hZGQoXCJkZXB0aFwiLFwiZmxvYXRcIikpOnIub3V0cHV0IT09bS5IaWdobGlnaHQmJmEudmFyeWluZ3MuYWRkKFwidkNvbG9yXCIsXCJ2ZWMzXCIpLGYuY29kZS5hZGQoemBcbiAgICB2b2lkIG1haW4odm9pZCkge1xuICAgICAgLy8gTW92ZSBjbGlwcGVkIHBvaW50cyBvdXRzaWRlIG9mIGNsaXBzcGFjZVxuICAgICAgaWYgKHBvc2l0aW9uLnggPCBjbGlwTWluLnggfHwgcG9zaXRpb24ueSA8IGNsaXBNaW4ueSB8fCBwb3NpdGlvbi56IDwgY2xpcE1pbi56IHx8XG4gICAgICAgIHBvc2l0aW9uLnggPiBjbGlwTWF4LnggfHwgcG9zaXRpb24ueSA+IGNsaXBNYXgueSB8fCBwb3NpdGlvbi56ID4gY2xpcE1heC56KSB7XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgwLjAsMC4wLDAuMCwyLjApO1xuICAgICAgICBnbF9Qb2ludFNpemUgPSAwLjA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlamVjdEJ5U2xpY2UocG9zaXRpb24pKSB7XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgwLjAsMC4wLDAuMCwyLjApO1xuICAgICAgICBnbF9Qb2ludFNpemUgPSAwLjA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUG9zaXRpb24gaW4gY2FtZXJhIHNwYWNlXG4gICAgICB2ZWM0IGNhbWVyYSA9IG1vZGVsVmlldyAqIHZlYzQocG9zaXRpb24sIDEuMCk7XG5cbiAgICAgIGZsb2F0IHBvaW50U2l6ZSA9IHBvaW50U2NhbGUueDtcbiAgICAgIHZlYzQgcG9zaXRpb24gPSBwcm9qICogY2FtZXJhO1xuICAgICAke3IuZHJhd1NjcmVlblNpemU/emBcbiAgICAgIGZsb2F0IGNsYW1wZWRTY3JlZW5TaXplID0gcG9pbnRTaXplO2A6emBcbiAgICAgIGZsb2F0IHBvaW50UmFkaXVzID0gMC41ICogcG9pbnRTaXplO1xuICAgICAgdmVjNCBjYW1lcmFPZmZzZXQgPSBjYW1lcmEgKyB2ZWM0KDAuMCwgcG9pbnRSYWRpdXMsIDAuMCwgMC4wKTtcbiAgICAgIHZlYzQgcG9zaXRpb25PZmZzZXQgPSBwcm9qICogY2FtZXJhT2Zmc2V0O1xuICAgICAgZmxvYXQgcmFkaXVzID0gYWJzKHBvc2l0aW9uT2Zmc2V0LnkgLSBwb3NpdGlvbi55KTtcbiAgICAgIGZsb2F0IHZpZXdIZWlnaHQgPSBwb2ludFNjYWxlLnk7XG4gICAgICAvLyBzY3JlZW4gZGlhbWV0ZXIgPSAoMiAqIHIgLyB3KSAqIChoIC8gMilcbiAgICAgIGZsb2F0IHNjcmVlblBvaW50U2l6ZSA9IChyYWRpdXMgLyBwb3NpdGlvbi53KSAqIHZpZXdIZWlnaHQ7XG4gICAgICBmbG9hdCBjbGFtcGVkU2NyZWVuU2l6ZSA9IGNsYW1wKHNjcmVlblBvaW50U2l6ZSwgc2NyZWVuTWluTWF4U2l6ZS54LCBzY3JlZW5NaW5NYXhTaXplLnkpO1xuICAgICAgLy8gU2hpZnQgdG93YXJkcyBjYW1lcmEsIHRvIG1vdmUgcmVuZGVyZWQgcG9pbnQgb3V0IG9mIHRlcnJhaW4gaS5lLiB0b1xuICAgICAgLy8gdGhlIGNhbWVyYS1mYWNpbmcgZW5kIG9mIHRoZSB2aXJ0dWFsIHBvaW50IHdoZW4gY29uc2lkZXJpbmcgaXQgYXMgYVxuICAgICAgLy8gM0Qgc3BoZXJlLlxuICAgICAgY2FtZXJhLnh5eiAtPSBub3JtYWxpemUoY2FtZXJhLnh5eikgKiBwb2ludFJhZGl1cyAqIGNsYW1wZWRTY3JlZW5TaXplIC8gc2NyZWVuUG9pbnRTaXplO1xuICAgICAgcG9zaXRpb24gPSBwcm9qICogY2FtZXJhO2B9XG5cbiAgICAgZ2xfUG9pbnRTaXplID0gY2xhbXBlZFNjcmVlblNpemU7XG4gICAgIGdsX1Bvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICAgJHtjP3pgZGVwdGggPSBjYWxjdWxhdGVMaW5lYXJEZXB0aChuZWFyRmFyLCBjYW1lcmEueik7YDpcIlwifVxuICAgICAke24/emB2Q29sb3IgPSBjb2xvcjtgOlwiXCJ9XG4gICAgfVxuICBgKSx4LmluY2x1ZGUoUyxyKSxsJiZhLmluY2x1ZGUodSxyKSx4LmNvZGUuYWRkKHpgXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgIHZlYzIgdk9mZnNldCA9IGdsX1BvaW50Q29vcmQgLSB2ZWMyKDAuNSwgMC41KTtcbiAgICAgIGZsb2F0IHIyID0gZG90KHZPZmZzZXQsIHZPZmZzZXQpO1xuXG4gICAgICBpZiAocjIgPiAwLjI1KSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG4gICAgICAke2M/emBmcmFnQ29sb3IgPSBmbG9hdDJyZ2JhKGRlcHRoKTtgOlwiXCJ9XG4gICAgICAke2w/emBvdXRwdXRIaWdobGlnaHQoKTtgOlwiXCJ9XG4gICAgICAke24/emBmcmFnQ29sb3IgPSB2ZWM0KHZDb2xvciwgMS4wKTtgOlwiXCJ9XG4gICAgfVxuICBgKSxhfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGU/MjU2OjY0fWNvbnN0IEI9cigpLF89bigpLEw9YSgpLEM9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLFBvaW50UmVuZGVyZXJEcmF3UGFyYW1ldGVyczpPLFBvaW50UmVuZGVyZXJQYXNzUGFyYW1ldGVyczp5LGJ1aWxkOlIsZ2V0TWF4UG9pbnRTaXplU2NyZWVuc3BhY2U6Rn0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHt5IGFzIFAsTyBhcyBhLEMgYXMgYixSIGFzIGMsRiBhcyBnfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3N1cHBvcnRzSGVpZ2h0TW9kZWxJbmZvIGFzIGEscmVqZWN0TGF5ZXJFcnJvciBhcyBsfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvaGVpZ2h0TW9kZWxJbmZvVXRpbHMuanNcIjtjb25zdCBuPW49PntsZXQgYz1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ITEsdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uPSExfXBvc3RzY3JpcHQoZSl7c3VwZXIucG9zdHNjcmlwdChlKSxhKHRoaXMubGF5ZXIpJiZ0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKSl9YXN5bmMgX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCl7Y29uc3QgZT1uZXcgQWJvcnRDb250cm9sbGVyLG89ZS5zaWduYWw7dGhpcy5hZGRIYW5kbGVzKHMoKCgpPT5lLmFib3J0KCkpKSksYXdhaXQgcigoKCk9PnRoaXMudmlldy5kZWZhdWx0c0Zyb21NYXA/LmhlaWdodE1vZGVsSW5mb1JlYWR5KSxvKSx0KG8pO2NvbnN0IGk9bCh0aGlzLmxheWVyLHRoaXMudmlldy5oZWlnaHRNb2RlbEluZm8sdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uKTtpZihpKXRocm93IGl9Y2FuUmVzdW1lKCl7Y29uc3QgZT10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHN1cGVyLmNhblJlc3VtZSgpJiYoIWU/Lm1pblNjYWxlfHwhZS5tYXhTY2FsZXx8ZS5taW5TY2FsZT49ZS5tYXhTY2FsZSl9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXN1cGVyLmdldFN1c3BlbmRJbmZvKCkscz10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHMmJnMubWluU2NhbGUmJnMubWF4U2NhbGUmJnMubWluU2NhbGU8cy5tYXhTY2FsZSYmKGUub3V0c2lkZVNjYWxlUmFuZ2U9ITApLGV9fTtyZXR1cm4gZShbbygpXSxjLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW28oKV0sYy5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksYz1lKFtpKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuTGF5ZXJWaWV3M0RcIildLGMpLGN9O2V4cG9ydHtuIGFzIExheWVyVmlldzNEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7aXNTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3Jlc3VsdCBhcyBpLGZvckVhY2ggYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgYSxhYm9ydE1heWJlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgbCxhbGxTZXR0bGVkVmFsdWVzIGFzIGgsdGhyb3dJZkFib3J0ZWQgYXMgdX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIHAsd2F0Y2ggYXMgYyxzeW5jIGFzIF99ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3B0MnB4IGFzIG19ZnJvbVwiLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVNpemUgYXMgZyxpc0FycmF5QnVmZmVyIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJWZXJ0aWNhbFVuaXRGb3JTUiBhcyB5fWZyb21cIi4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB3fWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7aiBhcyBOLGMgYXMgUH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHthIGFzIHh9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzNmMzIuanNcIjtpbXBvcnR7cHJvamVjdEJvdW5kaW5nUmVjdCBhcyB2fWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdEJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgU31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7Y29udGFpbnNQb2ludCBhcyBDLGNyZWF0ZSBhcyBBfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIEksZnJvbU5vcm1hbEFuZE9mZnNldCBhcyBrfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcGxhbmUuanNcIjtpbXBvcnR7bWFrZURlaHlkcmF0ZWRQb2ludCBhcyBSfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkUG9pbnQuanNcIjtpbXBvcnR7Q29kZWRWYWx1ZSBhcyBWfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0NvZGVkVmFsdWUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvQ29kZWRWYWx1ZURvbWFpbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRG9tYWluLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Jbmhlcml0ZWREb21haW4uanNcIjtpbXBvcnRcIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1JhbmdlRG9tYWluLmpzXCI7aW1wb3J0e3VucGFja0ZpZWxkTmFtZXMgYXMgTH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0e1Byb21pc2VRdWV1ZSBhcyBRfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1Byb21pc2VRdWV1ZS5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0IGFzIFV9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3VuaXRDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7TGF5ZXJWaWV3M0QgYXMgRH1mcm9tXCIuL0xheWVyVmlldzNELmpzXCI7aW1wb3J0e1BvaW50Q2xvdWRXb3JrZXJIYW5kbGUgYXMgen1mcm9tXCIuL1BvaW50Q2xvdWRXb3JrZXJIYW5kbGUuanNcIjtpbXBvcnR7Y2hlY2tQb2ludENsb3VkTGF5ZXJWYWxpZCBhcyBXLGNoZWNrUG9pbnRDbG91ZExheWVyQ29tcGF0aWJsZVdpdGhWaWV3IGFzIEZ9ZnJvbVwiLi9pM3MvSTNTVXRpbC5qc1wiO2ltcG9ydHtub2RlRGlmZiBhcyBFLHNvcnRGcm9udFRvQmFjayBhcyBNLHNwbGl0V29ya0VudHJpZXMgYXMgT31mcm9tXCIuL2kzcy9Mb0RVdGlsLmpzXCI7aW1wb3J0IEggZnJvbVwiLi9pM3MvUGFnZWROb2RlSW5kZXguanNcIjtpbXBvcnR7Z2V0U3BsYXRTaXplQWxnb3JpdGhtIGFzIEIsZ2V0Rml4ZWRTaXplQWxnb3JpdGhtIGFzIHEsZ2V0UmVuZGVyZXJJbmZvIGFzIEcsZ2V0RmlsdGVySW5mbyBhcyBULHJlbmRlcmVyVXNlc0ZpeGVkU2l6ZXMgYXMgJCxnZXRBdHRyaWJ1dGVJbmZvIGFzIEp9ZnJvbVwiLi9pM3MvUG9pbnRDbG91ZFJlbmRlcmVyVXRpbC5qc1wiO2ltcG9ydHtnZXRBdHRyaWJ1dGVWYWx1ZXMgYXMgSyxyZWFkR2VvbWV0cnkgYXMgWCxlbGV2YXRpb25Gcm9tUG9zaXRpb25zIGFzIFl9ZnJvbVwiLi9pM3MvUG9pbnRDbG91ZFdvcmtlclV0aWwuanNcIjtpbXBvcnR7UG9pbnRHcmFwaGljIGFzIFp9ZnJvbVwiLi9pM3MvUG9pbnRHcmFwaGljLmpzXCI7aW1wb3J0e1BvaW50UmVuZGVyZXIgYXMgZWUsaXNJbnN0YW5jZU9mTm9kZSBhcyB0ZSxQb2ludFJlbmRlcmVyTm9kZSBhcyBpZX1mcm9tXCIuL2kzcy9Qb2ludFJlbmRlcmVyLmpzXCI7aW1wb3J0e1BvcHVwU2NlbmVMYXllclZpZXcgYXMgcmV9ZnJvbVwiLi9zdXBwb3J0L1BvcHVwU2NlbmVMYXllclZpZXcuanNcIjtpbXBvcnR7cHJvamVjdFRvQm91bmRpbmdCb3ggYXMgc2V9ZnJvbVwiLi4vc3VwcG9ydC9leHRlbnRVdGlscy5qc1wiO2ltcG9ydHtDbGllbnRUeXBlIGFzIG9lfWZyb21cIi4uL3N1cHBvcnQvaW5kZXguanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG5lLG1pbmltdW1EaXN0YW5jZVBsYW5lIGFzIGFlfWZyb21cIi4uL3N1cHBvcnQvb3JpZW50ZWRCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHt1cGRhdGluZ1Byb2dyZXNzIGFzIGRlfWZyb21cIi4uL3N1cHBvcnQvdXBkYXRpbmdQcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e1JlbmRlclNsb3QgYXMgbGV9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9SZW5kZXJTbG90LmpzXCI7aW1wb3J0IGhlIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnR7aXNTY2FsZVJhbmdlQWN0aXZlIGFzIHVlLGV4dHJhY3RTYWZlU2NhbGVCb3VuZHMgYXMgcGUsc2NhbGVCb3VuZHNQcmVkaWNhdGUgYXMgY2V9ZnJvbVwiLi4vLi4vc3VwcG9ydC9sYXllclZpZXdVdGlscy5qc1wiO2ltcG9ydHtUYXNrUHJpb3JpdHkgYXMgX2V9ZnJvbVwiLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtjb25zdCBtZT04LGdlPUkoKTtsZXQgZmU9Y2xhc3MgZXh0ZW5kcyhyZShEKGhlKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJwb2ludC1jbG91ZC0zZFwiLHRoaXMuc2xvdHM9W2xlLk9QQVFVRV9NQVRFUklBTF0sdGhpcy5tYXhpbXVtUG9pbnRDb3VudD00ZTYsdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl9yZW5kZXJlcj1udWxsLHRoaXMuX3JlbmRlcmVyQWRkZWQ9ITEsdGhpcy5fcmVuZGVyZWROb2Rlcz1uZXcgU2V0LHRoaXMuX25vZGVTY2FsZXM9bmV3IE1hcCx0aGlzLl91cGRhdGVWaWV3TmVlZGVkPSEwLHRoaXMuX2xvZEZhY3Rvcj0xLHRoaXMuX21heExvZ2dlZEJveFdhcm5pbmdzPTUsdGhpcy5fcGFnZU11bHRpcGxpZXI9MSx0aGlzLl9ub2RlTG9hZEVwb2NoPTAsdGhpcy5faW5kZXhRdWV1ZT1bXSx0aGlzLl93b3JrUXVldWU9bmV3IEFycmF5LHRoaXMuX2lkbGVRdWV1ZT1uZXcgUSx0aGlzLl9pbmRleFBhZ2VzTG9hZGluZz1uZXcgTWFwLHRoaXMuX2xvYWRpbmdOb2Rlcz1uZXcgTWFwLHRoaXMuX3JlY2FsY1dvcms9ITAsdGhpcy5fbGF5ZXJJc1Zpc2libGU9ITEsdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uUHJvbWlzZT1udWxsLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvbkFib3J0Q29udHJvbGxlcj1udWxsLHRoaXMuX3RvdGFsV29yaz0wLHRoaXMuX2luZGV4PW51bGwsdGhpcy5fbG9hZGluZ0luaXROb2RlUGFnZT0hMSx0aGlzLl9ub2RlSWRBcnJheT1bXSx0aGlzLmlnbm9yZXNNZW1vcnlGYWN0b3I9ITF9Z2V0IGJhc2VVcmwoKXtyZXR1cm4gdGhpcy5sYXllci5wYXJzZWRVcmwucGF0aH1nZXQgcG9pbnRTY2FsZSgpe2NvbnN0IGU9Qih0aGlzLmxheWVyPy5yZW5kZXJlciksdD0xO3JldHVybiBudWxsIT1lPy5zY2FsZUZhY3Rvcj9lLnNjYWxlRmFjdG9yOnR9Z2V0IHVzZVJlYWxXb3JsZFN5bWJvbFNpemVzKCl7Y29uc3QgZT1xKHRoaXMubGF5ZXI/LnJlbmRlcmVyKSx0PSExO3JldHVybiBudWxsIT1lPy51c2VSZWFsV29ybGRTeW1ib2xTaXplcz9lLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzOnR9Z2V0IHBvaW50U2l6ZSgpe2NvbnN0IGU9cSh0aGlzLmxheWVyPy5yZW5kZXJlciksdD0wO3JldHVybiBudWxsIT1lPy5zaXplP2Uuc2l6ZTp0fWdldCBpbnZlcnNlRGVuc2l0eSgpe2NvbnN0IGU9OTY7cmV0dXJuIHRoaXMubGF5ZXI/LnJlbmRlcmVyPzEqZS90aGlzLmxheWVyLnJlbmRlcmVyLnBvaW50c1BlckluY2g6NX1nZXQgYXZhaWxhYmxlRmllbGRzKCl7Y29uc3QgZT1HKHRoaXMubGF5ZXIpLHQ9bmV3IFNldDtlLnByaW1hcnlBdHRyaWJ1dGUmJnQuYWRkKGUucHJpbWFyeUF0dHJpYnV0ZS5uYW1lKSxlLm1vZHVsYXRpb25BdHRyaWJ1dGUmJnQuYWRkKGUubW9kdWxhdGlvbkF0dHJpYnV0ZS5uYW1lKTtjb25zdCBpPVQodGhpcy5sYXllcik7aWYoaSlmb3IoY29uc3QgciBvZiBpKXIuYXR0cmlidXRlSW5mbyYmdC5hZGQoci5hdHRyaWJ1dGVJbmZvLm5hbWUpO2lmKHRoaXMubGF5ZXIub3V0RmllbGRzKWZvcihjb25zdCByIG9mIEwodGhpcy5sYXllci5maWVsZHNJbmRleCx0aGlzLmxheWVyLm91dEZpZWxkcykpdC5hZGQocik7cmV0dXJuIEFycmF5LmZyb20odCl9Z2V0IF9jbGlwcGluZ0JveCgpe2lmKCF0aGlzLnZpZXd8fCF0aGlzLnZpZXcuY2xpcHBpbmdBcmVhKXJldHVybiBudWxsO2NvbnN0IGU9UygpLHQ9dGhpcy52aWV3LnJlbmRlclNwYXRpYWxSZWZlcmVuY2U7cmV0dXJuIHNlKHRoaXMudmlldy5jbGlwcGluZ0FyZWEsZSx0KT9lOm51bGx9Z2V0IF9lbGV2YXRpb25PZmZzZXQoKXtjb25zdCBlPXRoaXMubGF5ZXImJnRoaXMubGF5ZXIuZWxldmF0aW9uSW5mbztpZihlJiZcImFic29sdXRlLWhlaWdodFwiPT09ZS5tb2RlKXtjb25zdCB0PXkodGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlKSxpPVUoZS51bml0KTtyZXR1cm4oZS5vZmZzZXQ/PzApKmkvdH1yZXR1cm4gMH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLHQ9UGUoZSk7dGhpcy5fd29ya2VyPW5ldyB6KHQpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl93b3JrZXIucHJvbWlzZSksdGhpcy5fdG1wUG9pbnQ9UigwLDAsMCx0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UpLFcodGhpcy5sYXllciksRih0aGlzLmxheWVyLHRoaXMudmlldyksdGhpcy5faW5kZXhSZXF1ZXN0ZXI9ZS5jcmVhdGVTdHJlYW1EYXRhUmVxdWVzdGVyKG9lLkkzU19JTkRFWCksdGhpcy5fZGF0YVJlcXVlc3Rlcj1lLmNyZWF0ZVN0cmVhbURhdGFSZXF1ZXN0ZXIob2UuSTNTX0RBVEEpLHRoaXMuX2luaXRSZW5kZXJlcigpO2NvbnN0IGk9dGhpcy5faW5pdE5vZGVQYWdlcygpLHI9dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlci5tZW1vcnlDb250cm9sbGVyO3RoaXMuX21lbUNhY2hlPXIubmV3Q2FjaGUoYHBjbC0ke3RoaXMubGF5ZXIudWlkfWApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9jbGlwcGluZ0JveCksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9lbGV2YXRpb25PZmZzZXQpLCgoKT0+dGhpcy5fZWxldmF0aW9uT2Zmc2V0Q2hhbmdlZCgpKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5yZW5kZXJlciksKCgpPT50aGlzLl9yZW5kZXJlckNoYW5nZWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIuZmlsdGVycyksKCgpPT50aGlzLl9yZWxvYWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIub3V0RmllbGRzKSwoKCk9PnRoaXMuX3JlbG9hZCgpKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlKSwoKCk9PnRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnZpZXcuc3RhdGUuY29udGVudENhbWVyYSksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpKSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vbihcInNjYWxlLWNoYW5nZVwiLChlPT50aGlzLl9zY2FsZVVwZGF0ZUhhbmRsZXIoZSkpKSxjKCgoKT0+dGhpcy52aWV3LnF1YWxpdHkpLCgoKT0+dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpKSxfKV0pLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShpKSx0aGlzLndoZW4oKCgpPT57dGhpcy5hZGRIYW5kbGVzKFtlLnNjaGVkdWxlci5yZWdpc3RlclRhc2soX2UuUE9JTlRfQ0xPVURfTEFZRVIsdGhpcyksZS5zY2hlZHVsZXIucmVnaXN0ZXJJZGxlU3RhdGVDYWxsYmFja3MoKCgpPT50aGlzLl9pZGxlQmVnaW4oKSksKCgpPT50aGlzLl9pZGxlRW5kKCkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5zdXNwZW5kZWQpLChlPT57ZT90aGlzLl9jbGVhck5vZGVTdGF0ZSgpOnRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKX0pLHApXSl9KSwoKCk9Pnt0aGlzLl91cGRhdGluZ0hhbmRsZXMucmVtb3ZlQWxsKCksdGhpcy5yZW1vdmVBbGxIYW5kbGVzKCl9KSl9X3NldFVwZGF0ZVZpZXdOZWVkZWQoKXt0aGlzLl91cGRhdGVWaWV3TmVlZGVkPSEwLHRoaXMuX3VwZGF0ZUxvYWRpbmcoKX1kZXN0cm95KCl7dGhpcy5jYW5jZWxMb2FkaW5nKCksdGhpcy5fd29ya2VyPWEodGhpcy5fd29ya2VyKSx0aGlzLl9kZXN0cm95UmVuZGVyZXIoKSx0aGlzLl9tZW1DYWNoZT1hKHRoaXMuX21lbUNhY2hlKSx0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25BYm9ydENvbnRyb2xsZXI9ZCh0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25BYm9ydENvbnRyb2xsZXIpLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvblByb21pc2U9bnVsbH1faW5pdFJlbmRlcmVyKCl7dGhpcy5fcmVuZGVyZXI9bmV3IGVlKHtjcmVhdGVHcmFwaGljOihlLHQsaSk9PnRoaXMuX2NyZWF0ZUdyYXBoaWMoZSx0LGkpfSksdGhpcy5fcmVuZGVyZXIubGF5ZXJVaWQ9dGhpcy5sYXllci51aWQsdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX2NsaXBwaW5nQm94KSwoZT0+dGhpcy5fcmVuZGVyZXIuY2xpcHBpbmdCb3g9ZSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuc3VzcGVuZGVkKSwoZT0+dGhpcy5fc2V0UG9pbnRzVmlzaWJsZSghZSkpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnBvaW50U2NhbGUpLChlPT50aGlzLl9yZW5kZXJlci5zY2FsZUZhY3Rvcj1lKSxwKSx0aGlzLl9yZW5kZXJlci5taW5TaXplUHg9TWF0aC5zcXJ0KDIpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzKSwoZT0+dGhpcy5fcmVuZGVyZXIudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXM9ZSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMucG9pbnRTaXplKSwoZT0+e2NvbnN0IHQ9bShlKTt0aGlzLl9yZW5kZXJlci5zaXplPWUsdGhpcy5fcmVuZGVyZXIuc2l6ZVB4PXR9KSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5zbGljZVBsYW5lRW5hYmxlZCksKGU9PnRoaXMuX3JlbmRlcmVyLnNsaWNlUGxhbmVFbmFibGVkPWUpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmludmVyc2VEZW5zaXR5KSwoKCk9PnRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubWF4aW11bVBvaW50Q291bnQpLCgoKT0+dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy52aWV3LnF1YWxpdHlTZXR0aW5ncy5zY2VuZVNlcnZpY2UucG9pbnRDbG91ZC5sb2RGYWN0b3IpLChlPT57dGhpcy5fbG9kRmFjdG9yPWUsdGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfSkscCl9X2Rlc3Ryb3lSZW5kZXJlcigpe3RoaXMuX3JlbmRlcmVyLnJlbW92ZUFsbCgpLHRoaXMuX3NldFBvaW50c1Zpc2libGUoITEpfV9jcmVhdGVHcmFwaGljKGUsdCxpKXtjb25zdCByPW51bGwhPWUucG9pbnRJZEZpbHRlck1hcD9lLnBvaW50SWRGaWx0ZXJNYXBbdF06dCxzPXRoaXMudmlldy5jb21wdXRlTWFwUG9pbnRGcm9tVmVjM2QoaSksbz10aGlzLl9jcmVhdGVHcmFwaGljQXR0cmlidXRlcyhlLHIpO3JldHVybiBuZXcgWih7cG9pbnRDbG91ZE1ldGFkYXRhOntub2RlSWQ6ZS5pZCxwb2ludEluZGV4SW5Ob2RlOnQsYXR0cmlidXRlUG9pbnRJbmRleEluTm9kZTpyLGVwb2NoOnRoaXMuX25vZGVMb2FkRXBvY2h9LGdlb21ldHJ5OnMsYXR0cmlidXRlczpvLGxheWVyOnRoaXMubGF5ZXIsc291cmNlTGF5ZXI6dGhpcy5sYXllcn0pfV9jcmVhdGVHcmFwaGljQXR0cmlidXRlcyhlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IHIgb2YgZS5hdHRyaWJ1dGVzKXRoaXMuX2VuY29kZUdyYXBoaWNBdHRyaWJ1dGUoci5hdHRyaWJ1dGVJbmZvLHIudmFsdWVzLHQsaSk7cmV0dXJuIGl9X2VuY29kZUdyYXBoaWNBdHRyaWJ1dGUoZSx0LGkscil7Y29uc3Qgcz1lLnN0b3JhZ2VJbmZvPy5hdHRyaWJ1dGVWYWx1ZXMsbz1zPy52YWx1ZXNQZXJFbGVtZW50Pz8xO2lmKDE9PT1vKXJbZS5uYW1lXT10W2ldO2Vsc2UgaWYoXCJVSW50OFwiPT09cz8udmFsdWVUeXBlJiZvPD00KXtsZXQgcz0wO2NvbnN0IG49aSpvO2ZvcihsZXQgZT1uO2U8bitvO2UrKylzPShzPDw4KSt0W2VdO3JbZS5uYW1lXT1zfWVsc2UgcltlLm5hbWVdPXZvaWQgMH1fc2V0UG9pbnRzVmlzaWJsZShlKXtlJiYhdGhpcy5fcmVuZGVyZXJBZGRlZD8odGhpcy52aWV3Ll9zdGFnZS5hZGRSZW5kZXJQbHVnaW4odGhpcy5fcmVuZGVyZXIpLHRoaXMuX3JlbmRlcmVyQWRkZWQ9ITApOiFlJiZ0aGlzLl9yZW5kZXJlckFkZGVkJiYodGhpcy52aWV3Ll9zdGFnZS5yZW1vdmVSZW5kZXJQbHVnaW4odGhpcy5fcmVuZGVyZXIpLHRoaXMuX3JlbmRlcmVyQWRkZWQ9ITEpfV9yZW5kZXJlckNoYW5nZWQoKXt0aGlzLl9yZW5kZXJlci51c2VGaXhlZFNpemVzPSQodGhpcy5sYXllci5yZW5kZXJlciksdGhpcy5fcmVsb2FkKCl9X3JlbG9hZCgpe3RoaXMuX2NsZWFyTm9kZVN0YXRlKCksdGhpcy5fbWVtQ2FjaGUuY2xlYXIoKSx0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCl9X2VsZXZhdGlvbk9mZnNldENoYW5nZWQoKXt0aGlzLl9jbGVhck5vZGVTdGF0ZSgpLHRoaXMuX21lbUNhY2hlLmNsZWFyKCksdGhpcy5faW5pdE5vZGVQYWdlcygpfV9zY2FsZVVwZGF0ZUhhbmRsZXIoZSl7Y29uc3QgdD10aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U7dWUodC5taW5TY2FsZSx0Lm1heFNjYWxlKT92KGUuZXh0ZW50LGUuc3BhdGlhbFJlZmVyZW5jZSx3ZSx0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UpJiYodGhpcy5fbm9kZVNjYWxlcy5mb3JFYWNoKCgodCxpKT0+e2lmKCF0aGlzLl9yZW5kZXJlZE5vZGVzLmhhcyhpKSlyZXR1cm4gdm9pZCB0aGlzLl9ub2RlU2NhbGVzLmRlbGV0ZShpKTtjb25zdCByPXRoaXMuX2luZGV4LmdldE5vZGUoaSk7Qyh3ZSxyLm9iYi5jZW50ZXIpJiZ0aGlzLl9ub2RlU2NhbGVzLnNldChpLGUuc2NhbGUpfSkpLHRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSk6dGhpcy5fbm9kZVNjYWxlcy5jbGVhcigpfV9kaXNwbGF5Tm9kZXMoZSl7dGhpcy5fd29ya1F1ZXVlPUUoWy4uLnRoaXMuX3JlbmRlcmVkTm9kZXNdLGUsdGhpcy5faW5kZXgpLE0odGhpcy5fd29ya1F1ZXVlLHRoaXMudmlldy5zdGF0ZS5jb250ZW50Q2FtZXJhLnZpZXdGb3J3YXJkLHRoaXMuX2luZGV4KSxPKHRoaXMuX3dvcmtRdWV1ZSxtZSx0aGlzLl9pbmRleCksdGhpcy5fdXBkYXRlUXVldWVzKCksdGhpcy5fdG90YWxXb3JrPXRoaXMuX2NvbXB1dGVXb3JrKCksdGhpcy5fdXBkYXRlTG9hZGluZygpLHRoaXMuX2xheWVySXNWaXNpYmxlPWUubGVuZ3RoPjB8fHRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2UsdGhpcy5ub3RpZnlDaGFuZ2UoXCJzdXNwZW5kZWRcIil9Y2FuY2VsTG9hZGluZygpe3RoaXMuX2NhbmNlbE5vZGVMb2FkaW5nKCksdGhpcy5fY2FuY2VsSW5kZXhMb2FkaW5nKCl9X2NhbmNlbE5vZGVMb2FkaW5nKCl7Y29uc3QgZT1uZXcgQXJyYXk7dGhpcy5fbG9hZGluZ05vZGVzLmZvckVhY2goKCh7YWJvcnRDb250cm9sbGVyOnR9KT0+ZS5wdXNoKHQpKSksdGhpcy5fbG9hZGluZ05vZGVzLmNsZWFyKCk7Zm9yKGNvbnN0IHQgb2YgZSl0LmFib3J0KCk7dGhpcy5fd29ya1F1ZXVlPVtdLHRoaXMuX2lkbGVRdWV1ZS5jYW5jZWxBbGwoKSx0aGlzLl90b3RhbFdvcms9dGhpcy5fY29tcHV0ZVdvcmsoKSx0aGlzLl91cGRhdGVMb2FkaW5nKCl9X3VwZGF0ZVF1ZXVlcygpe2NvbnN0IGU9bmV3IFNldDt0aGlzLl93b3JrUXVldWUuZm9yRWFjaCgodD0+dC5sb2FkLmZvckVhY2goKHQ9PmUuYWRkKHQpKSkpKTtjb25zdCB0PW5ldyBBcnJheSxpPW5ldyBNYXA7dGhpcy5fbG9hZGluZ05vZGVzLmZvckVhY2goKChyLHMpPT57ZS5oYXMocyk/aS5zZXQocyxyKTp0LnB1c2gocil9KSksdGhpcy5fbG9hZGluZ05vZGVzPWk7Zm9yKGNvbnN0e2Fib3J0Q29udHJvbGxlcjpyfW9mIHQpci5hYm9ydCgpO3RoaXMuX3dvcmtRdWV1ZT10aGlzLl93b3JrUXVldWUuZmlsdGVyKChlPT57Zm9yKGNvbnN0IHQgb2YgZS5sb2FkKWlmKHRoaXMuX2xvYWRpbmdOb2Rlcy5oYXModCkpcmV0dXJuIHRoaXMuX3JlY2FsY1dvcms9ITAsITE7cmV0dXJuITB9KSksdGhpcy5fdG90YWxXb3JrPXRoaXMuX2NvbXB1dGVXb3JrKCksdGhpcy5fdXBkYXRlTG9hZGluZygpfV9jYW5jZWxJbmRleExvYWRpbmcoKXt0aGlzLl9pbmRleFF1ZXVlPVtdLHRoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmZvckVhY2goKCh7YWJvcnRDb250cm9sbGVyOmV9KT0+ZS5hYm9ydCgpKSksdGhpcy5faW5kZXhQYWdlc0xvYWRpbmcuY2xlYXIoKSx0aGlzLl90b3RhbFdvcms9dGhpcy5fY29tcHV0ZVdvcmsoKSx0aGlzLl91cGRhdGVMb2FkaW5nKCl9X2NsZWFyTm9kZVN0YXRlKCl7dGhpcy5fbm9kZUxvYWRFcG9jaCsrLHRoaXMuX3JlbmRlcmVkTm9kZXMuZm9yRWFjaCgoZT0+dGhpcy5fcmVtb3ZlRnJvbVJlbmRlcmVyKGUpKSksdGhpcy5fY2FuY2VsTm9kZUxvYWRpbmcoKX1faWRsZUJlZ2luKCl7dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfV9pZGxlRW5kKCl7dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfWdldCBydW5uaW5nKCl7cmV0dXJuIHRoaXMuc3VzcGVuZGVkP3RoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ6dGhpcy5fdXBkYXRlVmlld05lZWRlZHx8dGhpcy5faW5kZXhRdWV1ZS5sZW5ndGg+MHx8dGhpcy5fd29ya1F1ZXVlLmxlbmd0aD4wfHx0aGlzLl9pZGxlUXVldWUucnVubmluZ31ydW5UYXNrKGUpe2lmKHRoaXMuc3VzcGVuZGVkKXtpZih0aGlzLl91cGRhdGVWaWV3TmVlZGVkKXt0aGlzLl91cGRhdGVWaWV3TmVlZGVkPSExO2NvbnN0IGU9dGhpcy5faXNSb290Tm9kZVZpc2libGUoKTtlIT09dGhpcy5fbGF5ZXJJc1Zpc2libGUmJih0aGlzLl9sYXllcklzVmlzaWJsZT1lLHRoaXMubm90aWZ5Q2hhbmdlKFwic3VzcGVuZGVkXCIpKSx0aGlzLl91cGRhdGVMb2FkaW5nKCl9fWVsc2V7Zm9yKGUucnVuKCgoKT0+dGhpcy5fdXBkYXRlV29ya1F1ZXVlcygpKSk7dGhpcy5faW5kZXhRdWV1ZS5sZW5ndGg+MCYmZS5ydW4oKCgpPT50aGlzLl9wcm9jZXNzSW5kZXhRdWV1ZSgpKSk7KTt0aGlzLl9wcm9jZXNzV29ya1F1ZXVlKGUpLHRoaXMuX2lkbGVRdWV1ZS5ydW5UYXNrKGUpfX1fcHJvY2Vzc0luZGV4UXVldWUoKXtjb25zdCBlPXRoaXMuX2luZGV4UXVldWUuc2hpZnQoKSx0PXRoaXMuX2xvYWROb2RlUGFnZShlKTtyZXR1cm4gdGhpcy5faW5kZXhQYWdlc0xvYWRpbmcuc2V0KGUsdCksdC5wcm9taXNlLnRoZW4oKHQ9Pnt0aGlzLl9pbmRleC5hZGRQYWdlKGUsdCx0aGlzLl9lbGV2YXRpb25PZmZzZXQpLHRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKX0pKS50aGVuKCgoKT0+e3RoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmRlbGV0ZShlKX0pLCgoKT0+e3RoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmRlbGV0ZShlKX0pKSwhMH1fcHJvY2Vzc1dvcmtRdWV1ZShlKXtmb3IoOyFlLmRvbmU7KXtjb25zdCB0PXRoaXMuX3NjaGVkdWxlV29ya0VudHJ5KCk7aWYobnVsbD09dClyZXR1cm4gdm9pZCBlLm1hZGVQcm9ncmVzcygpO3RoaXMuX3Byb2Nlc3NXb3JrRW50cnkodCksZS5tYWRlUHJvZ3Jlc3MoKX19X3NjaGVkdWxlV29ya0VudHJ5KCl7bGV0IGU9dGhpcy5fd29ya1F1ZXVlLmxlbmd0aDtmb3IoO2UtLTspe2NvbnN0IGU9dGhpcy5fd29ya1F1ZXVlLnNoaWZ0KCk7aWYoIWUucmVtb3ZlLmZpbmQoKGU9PiF0aGlzLl9yZW5kZXJlZE5vZGVzLmhhcyhlKSkpKXJldHVybiBlO3RoaXMuX3dvcmtRdWV1ZS5wdXNoKGUpfXJldHVybiBudWxsfV9wcm9jZXNzV29ya0VudHJ5KGUpe2lmKDAhPT1lLmxvYWQubGVuZ3RoKVByb21pc2UuYWxsKGUubG9hZC5tYXAoKGU9Pntjb25zdCB0PW5ldyBBYm9ydENvbnRyb2xsZXIsaT10aGlzLl9tZW1DYWNoZS5wb3AoZS50b1N0cmluZygpKTtyZXR1cm4gbnVsbCE9aT90aGlzLl9sb2FkaW5nTm9kZXMuc2V0KGUse2Fib3J0Q29udHJvbGxlcjp0LHByb21pc2U6UHJvbWlzZS5yZXNvbHZlKGkpfSk6dGhpcy5fbG9hZGluZ05vZGVzLmhhcyhlKXx8dGhpcy5fbG9hZGluZ05vZGVzLnNldChlLHthYm9ydENvbnRyb2xsZXI6dCxwcm9taXNlOnRoaXMuX2xvYWROb2RlKGUsdC5zaWduYWwpfSksdGhpcy5fbG9hZGluZ05vZGVzLmdldChlKS5wcm9taXNlfSkpKS50aGVuKCh0PT57Zm9yKGxldCBpPTA7aTxlLmxvYWQubGVuZ3RoO2krKylpZih0W2ldKXtjb25zdCByPXRoaXMuX3NldHVwUmVuZGVyZXJEYXRhKGUubG9hZFtpXSx0W2ldKTt0aGlzLl9hZGRUb1JlbmRlcmVyKHIpfWZvcihjb25zdCBpIG9mIGUucmVtb3ZlKXRoaXMuX3JlbW92ZUZyb21SZW5kZXJlcihpKX0pKS5jYXRjaCgoKCk9Pnt9KSkudGhlbigoKCk9Pntmb3IoY29uc3QgdCBvZiBlLmxvYWQpdGhpcy5fbG9hZGluZ05vZGVzLmRlbGV0ZSh0KTt0aGlzLl91cGRhdGVMb2FkaW5nKCksdGhpcy5fcmVjYWxjV29yayYmIXRoaXMuX2lkbGVRdWV1ZS5ydW5uaW5nJiYwPT09dGhpcy5faW5kZXhRdWV1ZS5sZW5ndGgmJjA9PT10aGlzLl9sb2FkaW5nTm9kZXMuc2l6ZSYmKHRoaXMuX3JlY2FsY1dvcms9ITEsdGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpKX0pKSx0aGlzLl91cGRhdGVMb2FkaW5nKCk7ZWxzZSBmb3IoY29uc3QgdCBvZiBlLnJlbW92ZSl0aGlzLl9yZW1vdmVGcm9tUmVuZGVyZXIodCl9YXN5bmMgX3BvcHVsYXRlQ2xhc3NDb2RlQ29kZWREb21haW4oZSx0KXtjb25zdCByPVwiQ0xBU1NfQ09ERVwiLHM9dGhpcy5sYXllci5maWVsZHNJbmRleC5nZXQocik7aWYoIXN8fHMuZG9tYWluKXJldHVybjtpZighZS5pbmNsdWRlcyhzLm5hbWUpKXJldHVybjtjb25zdCBvPWF3YWl0IGkodGhpcy5sYXllci5xdWVyeUNhY2hlZFN0YXRpc3RpY3Mocix7c2lnbmFsOnR9KSk7aWYoITE9PT1vLm9rKXJldHVybjtjb25zdCBuPW8udmFsdWU/LnN0YXRzPy5sYWJlbHM/LmxhYmVscztuJiZBcnJheS5pc0FycmF5KG4pJiYocy5kb21haW49bmV3IGooe25hbWU6XCJDTEFTU19DT0RFXCIsY29kZWRWYWx1ZXM6bi5tYXAoKGU9Pm5ldyBWKHtjb2RlOmUudmFsdWUsbmFtZTplLmxhYmVsfSkpKX0pKX1hc3luYyBwcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGUpe3JldHVybiB0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25Qcm9taXNlfHwodGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uUHJvbWlzZT10aGlzLl9wb3B1bGF0ZUNsYXNzQ29kZUNvZGVkRG9tYWluKGUsdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyLnNpZ25hbCkudGhlbigoKCk9Pnt0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25BYm9ydENvbnRyb2xsZXI9bnVsbH0pKSksdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uUHJvbWlzZX1hc3luYyB3aGVuR3JhcGhpY0F0dHJpYnV0ZXMoZSxpKXtjb25zdCBzPXRoaXMuX3NwbGl0R3JhcGhpY3NQZXJOb2RlKGUpLG89dGhpcy5sYXllci5hdHRyaWJ1dGVTdG9yYWdlSW5mbyxuPWkubWFwKChlPT5KKG8sZSkpKS5maWx0ZXIodCksYT1hc3luYyhlLHQpPT57Y29uc3QgaT10aGlzLl9pbmRleC5nZXROb2RlKHQpO2F3YWl0IHIobiwoYXN5bmMgdD0+e2NvbnN0IHI9dC51c2VFbGV2YXRpb24/YXdhaXQgdGhpcy5fbG9hZEVsZXZhdGlvbkF0dHJpYnV0ZUZyb21HZW9tZXRyeShpLnJlc291cmNlSWQpOmF3YWl0IHRoaXMuX2xvYWRBbmRQYXJzZUF0dHJpYnV0ZShpLHQpO2lmKHIpZm9yKGNvbnN0IGkgb2YgZSlpZih0aGlzLl9pc1ZhbGlkUG9pbnRHcmFwaGljKGkpKXtjb25zdCBlPWkucG9pbnRDbG91ZE1ldGFkYXRhLmF0dHJpYnV0ZVBvaW50SW5kZXhJbk5vZGU7dGhpcy5fZW5jb2RlR3JhcGhpY0F0dHJpYnV0ZSh0LHIsZSxpLmF0dHJpYnV0ZXMpfX0pKX0sZD1bXTtyZXR1cm4gcy5mb3JFYWNoKCgoZSx0KT0+e2QucHVzaChhKGUsdCkpfSkpLGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChkKSxlfV9pc1ZhbGlkUG9pbnRHcmFwaGljKGUpe3JldHVybiBlIGluc3RhbmNlb2YgWiYmZS5wb2ludENsb3VkTWV0YWRhdGE/LmVwb2NoPT09dGhpcy5fbm9kZUxvYWRFcG9jaH1fc3BsaXRHcmFwaGljc1Blck5vZGUoZSl7Y29uc3QgdD1uZXcgTWFwO2Zvcihjb25zdCBpIG9mIGUpe2lmKCF0aGlzLl9pc1ZhbGlkUG9pbnRHcmFwaGljKGkpKWNvbnRpbnVlO2NvbnN0IGU9aS5wb2ludENsb3VkTWV0YWRhdGEscj10LmdldChlLm5vZGVJZCk7cj9yLnB1c2goaSk6dC5zZXQoZS5ub2RlSWQsW2ldKX1yZXR1cm4gdH1hc3luYyBfbG9hZEFuZFBhcnNlQXR0cmlidXRlKGUsdCl7Y29uc3QgaT1hd2FpdCB0aGlzLl9sb2FkQXR0cmlidXRlKGUucmVzb3VyY2VJZCx0LG51bGwpO3JldHVybiBudWxsIT1pP0soe2F0dHJpYnV0ZUluZm86dCxidWZmZXI6aX0sbnVsbCxlLnZlcnRleENvdW50KTpudWxsfWFzeW5jIF9sb2FkRWxldmF0aW9uQXR0cmlidXRlRnJvbUdlb21ldHJ5KGUpe2NvbnN0IHQ9dGhpcy5sYXllci5zdG9yZS5kZWZhdWx0R2VvbWV0cnlTY2hlbWEsaT1YKHQsYXdhaXQgdGhpcy5fbG9hZEdlb21ldHJ5KGUsbnVsbCkpO3JldHVybiBZKGksaS5sZW5ndGgvMyl9aGlnaGxpZ2h0KGUpe2lmKCFlKXJldHVybiBvKCk7Y29uc3QgdD1zLmlzQ29sbGVjdGlvbihlKT9lLnRvQXJyYXkoKTpBcnJheS5pc0FycmF5KGUpP2U6W2VdO3JldHVybiB0aGlzLl9yZW5kZXJlci5oaWdobGlnaHQodC5tYXAoKGU9PnRoaXMuX2dyYXBoaWNUb1BvaW50RGVmaW5pdGlvbihlKSkpKX1fZ3JhcGhpY1RvUG9pbnREZWZpbml0aW9uKGUpe2lmKCF0aGlzLl9pc1ZhbGlkUG9pbnRHcmFwaGljKGUpKXJldHVybiBudWxsO2NvbnN0e25vZGVJZDp0LHBvaW50SW5kZXhJbk5vZGU6aX09ZS5wb2ludENsb3VkTWV0YWRhdGE7cmV0dXJuIG51bGwhPXQmJm51bGwhPWk/e25vZGVJZDp0LHBvaW50SWQ6aX06bnVsbH1fY29tcHV0ZVdvcmsoKXtsZXQgZT0wO2Zvcihjb25zdCB0IG9mIHRoaXMuX3dvcmtRdWV1ZSllKz10LmxvYWQubGVuZ3RoK3QucmVtb3ZlLmxlbmd0aDtyZXR1cm4gZSs9dGhpcy5fbG9hZGluZ05vZGVzLnNpemUsZSs9KHRoaXMuX2luZGV4UXVldWUubGVuZ3RoK3RoaXMuX2luZGV4UGFnZXNMb2FkaW5nLnNpemUpKnRoaXMuX2luZGV4LnBhZ2VTaXplLGUrPXRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2U/MTAwOjAsZSs9dGhpcy5fdXBkYXRlVmlld05lZWRlZD8xMDA6MCxlfWdldCB1cGRhdGluZ1Byb2dyZXNzVmFsdWUoKXtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm4gdGhpcy5fdXBkYXRlVmlld05lZWRlZD8wOjE7Y29uc3QgZT10aGlzLl9jb21wdXRlV29yaygpO3JldHVybiAxLU1hdGgubWluKHRoaXMuX3RvdGFsV29yayxlKS90aGlzLl90b3RhbFdvcmt9X3VwZGF0ZUxvYWRpbmcoKXt0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdQcm9ncmVzc1ZhbHVlXCIpfWNhblJlc3VtZSgpe3JldHVybiBzdXBlci5jYW5SZXN1bWUoKSYmdGhpcy5fbGF5ZXJJc1Zpc2libGV9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLnN1c3BlbmRlZD90aGlzLl91cGRhdGVWaWV3TmVlZGVkOnRoaXMuX2NvbXB1dGVXb3JrKCk+MH1faW5pdE5vZGVQYWdlcygpe2NvbnN0IGU9dGhpcy5sYXllci5zdG9yZS5pbmRleCx0PWUubm9kZXNQZXJQYWdlfHxlLm5vZGVQZXJJbmRleEJsb2NrO3JldHVybiB0aGlzLl9pbmRleD1uZXcgSCh0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5zcGF0aWFsUmVmZXJlbmNlLHQpLHRoaXMuX2NhbmNlbEluZGV4TG9hZGluZygpLHRoaXMuX3RyYXZlcnNlVmlzaWJsZT10aGlzLl9pbmRleC5jcmVhdGVWaXNpYmlsaXR5VHJhdmVyc2UoKSx0aGlzLl9sb2FkaW5nSW5pdE5vZGVQYWdlPSEwLHRoaXMuX2xheWVySXNWaXNpYmxlPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwic3VzcGVuZGVkXCIpLHRoaXMuX3VwZGF0ZUxvYWRpbmcoKSx0aGlzLl9wYWdlTXVsdGlwbGllcj1udWxsIT1lLm5vZGVzUGVyUGFnZT8xOmUubm9kZVBlckluZGV4QmxvY2ssdGhpcy5fbG9hZE5vZGVQYWdlKDApLnByb21pc2UudGhlbigoZT0+e3RoaXMuX2luZGV4LmFkZFBhZ2UoMCxlLHRoaXMuX2VsZXZhdGlvbk9mZnNldCksdGhpcy5fbG9hZGluZ0luaXROb2RlUGFnZT0hMSx0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCl9KSl9X2xvYWROb2RlUGFnZShlKXtjb25zdCB0PW5ldyBBYm9ydENvbnRyb2xsZXIsaT1gJHt0aGlzLmJhc2VVcmx9L25vZGVwYWdlcy8ke2UqdGhpcy5fcGFnZU11bHRpcGxpZXJ9YDtyZXR1cm57cHJvbWlzZTp0aGlzLl9yZXF1ZXN0Tm9kZVBhZ2UoaSx0LnNpZ25hbCkudGhlbigodD0+dC5ub2Rlcy5tYXAoKCh0LGkpPT4oe3Jlc291cmNlSWQ6bnVsbCE9dC5yZXNvdXJjZUlkP3QucmVzb3VyY2VJZDplKnRoaXMuX2luZGV4LnBhZ2VTaXplK2ksb2JiOnQub2JiLG9iYkluUmVuZGVyU1I6bmUoKSxmaXJzdENoaWxkOnQuZmlyc3RDaGlsZCxjaGlsZENvdW50OnQuY2hpbGRDb3VudCx2ZXJ0ZXhDb3VudDp0LnZlcnRleENvdW50Pz90LnBvaW50Q291bnQsbG9kVGhyZXNob2xkOnQubG9kVGhyZXNob2xkPz90LmVmZmVjdGl2ZUFyZWF9KSkpKSksYWJvcnRDb250cm9sbGVyOnR9fV91cGRhdGVXb3JrUXVldWVzKCl7aWYoIXRoaXMuX3VwZGF0ZVZpZXdOZWVkZWQpcmV0dXJuITE7Y29uc3QgZT10aGlzLnZpZXcucXVhbGl0eTtsZXQgdD10aGlzLmludmVyc2VEZW5zaXR5L3RoaXMuX2xvZEZhY3RvciplO2NvbnN0IGk9dGhpcy5tYXhpbXVtUG9pbnRDb3VudCp0aGlzLl9sb2RGYWN0b3IqZTtsZXQgcj10aGlzLl9jb21wdXRlTm9kZXNGb3JNaW5pbXVtRGVuc2l0eSh0KSxzPXRoaXMuX2NvbXB1dGVQb2ludENvdW50KHIpLG89TWF0aC5zcXJ0KHMvKC43NSppKSk7Zm9yKDtzPmk7KXQqPW8scj10aGlzLl9jb21wdXRlTm9kZXNGb3JNaW5pbXVtRGVuc2l0eSh0KSxzPXRoaXMuX2NvbXB1dGVQb2ludENvdW50KHIpLG89TWF0aC5zcXJ0KDIpO3JldHVybiB0aGlzLl9kaXNwbGF5Tm9kZXMociksdGhpcy5fdXBkYXRlVmlld05lZWRlZD0hMSx0aGlzLl91cGRhdGVMb2FkaW5nKCksITB9X2NvbXB1dGVQb2ludENvdW50KGUpe2xldCB0PTA7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHI9dGhpcy5faW5kZXguZ2V0Tm9kZShlW2ldKTtyJiYodCs9ci52ZXJ0ZXhDb3VudCl9cmV0dXJuIHR9X2lzUm9vdE5vZGVWaXNpYmxlKCl7bGV0IGU9ITE7cmV0dXJuIHRoaXMuX3RyYXZlcnNlVmlzaWJsZSh7ZnJ1c3R1bTp0aGlzLnZpZXcuc3RhdGUuY29udGVudENhbWVyYS5mcnVzdHVtLGNsaXBwaW5nQm94OnRoaXMuX2NsaXBwaW5nQm94fSx7cHJlZGljYXRlOih0LGkscik9PihlPXIsITEpLHBhZ2VNaXNzOigpPT57fX0pLGV9X2NvbXB1dGVOb2Rlc0Zvck1pbmltdW1EZW5zaXR5KGUpe2NvbnN0IHQ9dGhpcy52aWV3LnN0YXRlLmNvbnRlbnRDYW1lcmEsaT10LmZydXN0dW0scj10aGlzLl9jbGlwcGluZ0JveCxzPXQudmlld0ZvcndhcmQsbz1OKHMsdC5leWUpLG49ayhzLC1vLGdlKSxhPXQucGVyU2NyZWVuUGl4ZWxSYXRpby8yLGQ9ZSplLGw9dGhpcy5fbm9kZUlkQXJyYXk7bC5sZW5ndGg9MDtjb25zdHttaW5TY2FsZTpoLG1heFNjYWxlOnV9PXBlKHRoaXMubGF5ZXIpLHA9MD09PWgmJjA9PT11P2U9PmwucHVzaChlKTplPT57Y29uc3QgdD10aGlzLl9nZXRTY2FsZShlKTtjZSh0LGgsdSkmJmwucHVzaChlKX07cmV0dXJuIHRoaXMuX3RyYXZlcnNlVmlzaWJsZSh7ZnJ1c3R1bTppLGNsaXBwaW5nQm94OnJ9LHtwcmVkaWNhdGU6KGUsdCxpKT0+e2lmKCFpKXJldHVybiExO2lmKDA9PT10LmNoaWxkQ291bnQpcmV0dXJuIHAoZSksITE7Y29uc3Qgcj10aGlzLl9pbmRleC5nZXRSZW5kZXJPYmIoZSk7cmV0dXJuISh0aGlzLl9jb21wdXRlQXZlcmFnZVBpeGVsQXJlYShyLHQubG9kVGhyZXNob2xkLHQudmVydGV4Q291bnQsbixhKTw9ZCl8fChwKGUpLCExKX0scGFnZU1pc3M6KGUsdCk9PntwKGUpLHRoaXMuX2luZGV4UXVldWUuaW5jbHVkZXModCl8fHRoaXMuX2luZGV4UXVldWUucHVzaCh0KX19KSxsfV9nZXRTY2FsZShlKXtsZXQgdD10aGlzLl9ub2RlU2NhbGVzLmdldChlKTtpZihudWxsPT10KXtjb25zdCBpPXRoaXMuX2luZGV4LmdldE5vZGUoZSkub2JiLmNlbnRlcjt0aGlzLl90bXBQb2ludC54PWlbMF0sdGhpcy5fdG1wUG9pbnQueT1pWzFdLHRoaXMuX3RtcFBvaW50Lno9aVsyXSx0PXRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5nZXRTY2FsZSh0aGlzLl90bXBQb2ludCksdGhpcy5fbm9kZVNjYWxlcy5zZXQoZSx0KX1yZXR1cm4gdH1fY29tcHV0ZUF2ZXJhZ2VQaXhlbEFyZWEoZSx0LGkscixzKXtjb25zdCBvPTFlLTcsbj1NYXRoLm1heChvLGFlKGUscikpO3JldHVybiB0LyhuKm4pLyg0KnMqcykvaX1fbG9hZE5vZGUoZSx0KXt0cnl7cmV0dXJuIHRoaXMuX2xvYWROb2RlQXN5bmMoZSx0KX1jYXRjaChpKXt0aHJvdyBsKGkpfHxuLmdldExvZ2dlcih0aGlzKS5lcnJvcihpKSxpfX1hc3luYyBfbG9hZEFkZGl0aW9uYWxVc2VyQXR0cmlidXRlcyhlLGkscil7Y29uc3Qgcz10aGlzLmxheWVyLm91dEZpZWxkcztpZighcylyZXR1cm5bXTtjb25zdCBvPUwodGhpcy5sYXllci5maWVsZHNJbmRleCxzKSxuPW5ldyBTZXQoZS5tYXAoKGU9Pm51bGwhPWU/ZS5uYW1lOm51bGwpKSksYT10aGlzLmxheWVyLmF0dHJpYnV0ZVN0b3JhZ2VJbmZvLGQ9W107Zm9yKGNvbnN0IHQgb2Ygbyl7aWYobi5oYXModCkpY29udGludWU7Y29uc3QgZT1KKGEsdCk7ZSYmZC5wdXNoKGkoZSkpfWNvbnN0IGw9YXdhaXQgaChkKTtyZXR1cm4gdShyKSxsLmZpbHRlcih0KX1hc3luYyBfbG9hZE5vZGVBc3luYyhlLHQpe2NvbnN0IGk9dGhpcy5faW5kZXguZ2V0Tm9kZShlKSxyPUcodGhpcy5sYXllcikscz1UKHRoaXMubGF5ZXIpLG89aS5yZXNvdXJjZUlkLG49YXN5bmMgZT0+e2lmKCFlKXJldHVybiBudWxsO2lmKGUudXNlRWxldmF0aW9uKXJldHVybnthdHRyaWJ1dGVJbmZvOmUsYnVmZmVyOm51bGx9O2NvbnN0IGk9YXdhaXQgdGhpcy5fbG9hZEF0dHJpYnV0ZShvLGUsdCk7cmV0dXJuIG51bGwhPWk/e2F0dHJpYnV0ZUluZm86ZSxidWZmZXI6aX06bnVsbH07cmV0dXJuIHRoaXMuX2lkbGVRdWV1ZS5wdXNoKChhc3luYygpPT57Y29uc3QgaT10aGlzLl9sb2FkR2VvbWV0cnkobyx0KSx7cHJpbWFyeUF0dHJpYnV0ZTphLG1vZHVsYXRpb25BdHRyaWJ1dGU6ZH09cixsPW4oYSksaD1uKGQpLHA9cy5tYXAoKGU9PmUuYXR0cmlidXRlSW5mbykpLGM9cC5tYXAoKGU9Pm4oZSkpKSxfPXRoaXMuX2xvYWRBZGRpdGlvbmFsVXNlckF0dHJpYnV0ZXMoW2EsZCwuLi5wXSxuLHQpLFttLGcsZix5LGJdPWF3YWl0IFByb21pc2UuYWxsKFtpLGwsaCxQcm9taXNlLmFsbChjKSxfXSk7dSh0KTtjb25zdCB3PXtnZW9tZXRyeUJ1ZmZlcjptLHByaW1hcnlBdHRyaWJ1dGVEYXRhOmcsbW9kdWxhdGlvbkF0dHJpYnV0ZURhdGE6ZixmaWx0ZXJBdHRyaWJ1dGVzRGF0YTp5LHVzZXJBdHRyaWJ1dGVzRGF0YTpiLHNjaGVtYTp0aGlzLmxheWVyLnN0b3JlLmRlZmF1bHRHZW9tZXRyeVNjaGVtYSxyZW5kZXJlckluZm86cixmaWx0ZXJJbmZvOnMsb2JiOnRoaXMuX2luZGV4LmdldFJlbmRlck9iYihlKSxlbGV2YXRpb25PZmZzZXQ6dGhpcy5fZWxldmF0aW9uT2Zmc2V0LGluU1I6dGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLG91dFNSOnRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKX07cmV0dXJuIHRoaXMuX3dvcmtlci5pbnZva2Uodyx0KX0pLHQpfWFzeW5jIF9sb2FkR2VvbWV0cnkoZSx0KXtyZXR1cm4gdGhpcy5fcmVxdWVzdERhdGEoYCR7dGhpcy5iYXNlVXJsfS9ub2Rlcy8ke2V9L2dlb21ldHJpZXMvMGAsdCl9YXN5bmMgX2xvYWRBdHRyaWJ1dGUoZSx0LGkpe2lmKCF0Py5zdG9yYWdlSW5mbylyZXR1cm4gbnVsbDtjb25zdCByPXQuc3RvcmFnZUluZm8ua2V5O3JldHVybiB0aGlzLl9yZXF1ZXN0RGF0YShgJHt0aGlzLmJhc2VVcmx9L25vZGVzLyR7ZX0vYXR0cmlidXRlcy8ke3J9YCxpKX1fcmVxdWVzdE5vZGVQYWdlKGUsdCl7Y29uc3QgaT17ZjpcImpzb25cIix0b2tlbjp0aGlzLmxheWVyLmFwaUtleX07cmV0dXJuIHRoaXMuX2luZGV4UmVxdWVzdGVyLnJlcXVlc3QoZSxcImpzb25cIix7cXVlcnk6aSxzaWduYWw6dH0pfV9yZXF1ZXN0RGF0YShlLHQpe3JldHVybiB0aGlzLl9kYXRhUmVxdWVzdGVyLnJlcXVlc3QoZSxcImJpbmFyeVwiLHtxdWVyeTp7dG9rZW46dGhpcy5sYXllci5hcGlLZXl9LHNpZ25hbDp0fSl9X3JlbW92ZUZyb21SZW5kZXJlcihlKXtpZih0aGlzLl9yZW5kZXJlZE5vZGVzLmhhcyhlKSl7Y29uc3QgdD10aGlzLl9yZW5kZXJlci5yZW1vdmVOb2RlKGUpO3RoaXMuX3JlbmRlcmVkTm9kZXMuZGVsZXRlKGUpLHRoaXMuX25vZGVTY2FsZXMuZGVsZXRlKGUpLHRoaXMuX21lbUNhY2hlLnB1dCh0LmlkLnRvU3RyaW5nKCksdCxiZSh0KSl9fV9hZGRUb1JlbmRlcmVyKGUpe3RoaXMuX3JlbmRlcmVkTm9kZXMuaGFzKGUuaWQpfHwodGhpcy5fcmVuZGVyZWROb2Rlcy5hZGQoZS5pZCksdGhpcy5fcmVuZGVyZXIuYWRkTm9kZShlKSl9X3NldHVwUmVuZGVyZXJEYXRhKGUsdCl7Y29uc3QgaT10aGlzLl9pbmRleC5nZXROb2RlKGUpLHI9TWF0aC5zcXJ0KGkubG9kVGhyZXNob2xkL2kudmVydGV4Q291bnQpLHM9dGhpcy5faW5kZXguZ2V0UmVuZGVyT2JiKGUpO2lmKHRlKHQpKXJldHVybiB0LnNwbGF0U2l6ZT1yLHQub2JiPXMsUCh0Lm9yaWdpbix0Lm9iYi5jZW50ZXIpLHQ7Y29uc3Qgbz0uMDEqTWF0aC5tYXgocy5oYWxmU2l6ZVswXSxzLmhhbGZTaXplWzFdLHMuaGFsZlNpemVbMl0pO2lmKHQub2JiLmhhbGZTaXplWzBdPnMuaGFsZlNpemVbMF0rb3x8dC5vYmIuaGFsZlNpemVbMV0+cy5oYWxmU2l6ZVsxXStvfHx0Lm9iYi5oYWxmU2l6ZVsyXT5zLmhhbGZTaXplWzJdK28pe2lmKHRoaXMuX21heExvZ2dlZEJveFdhcm5pbmdzPjApe2NvbnN0IGk9ZT0+YFske2UuaGFsZlNpemVbMF19LCAke2UuaGFsZlNpemVbMV19LCAke2UuaGFsZlNpemVbMl19XWA7bi5nZXRMb2dnZXIodGhpcykud2FybihgTm9kZSAke2V9IHJlcG9ydGVkIGJvdW5kaW5nIGJveCB0b28gc21hbGwuIGdvdCAke2kocyl9IGJ1dCBwb2ludHMgY292ZXIgJHtpKHQub2JiKX1gKSwwPT0tLXRoaXMuX21heExvZ2dlZEJveFdhcm5pbmdzJiZuLmdldExvZ2dlcih0aGlzKS53YXJuKFwiICBUb28gbWFueSBib3VuZGluZyBib3ggZXJyb3JzLCBzdG9wcGluZyByZXBvcnRpbmcgZm9yIHRoaXMgbGF5ZXIuXCIpfXRoaXMuX2luZGV4LnNldFJlbmRlck9iYihlLHQub2JiKX1yZXR1cm4gbmV3IGllKGUscix4KHMuY2VudGVyKSxzLDA9PT1pLmNoaWxkQ291bnQsdC5wb2ludHMsdC5yZ2IsdC5hdHRyaWJ1dGVzLHQucG9pbnRJZEZpbHRlck1hcCl9Z2V0IHVzZWRNZW1vcnkoKXtsZXQgZT0wO3JldHVybiB0aGlzLl9yZW5kZXJlci5mb3JFYWNoTm9kZSgodD0+e2UrPU5lLGUrPWcodC5jb29yZGluYXRlcyk7Zm9yKGNvbnN0IGkgb2YgdC5hdHRyaWJ1dGVzKXtjb25zdCB0PWkudmFsdWVzO2YodC5idWZmZXIpJiYoZSs9Zyh0KSl9fSkpLGV9Z2V0IHVubG9hZGVkTWVtb3J5KCl7Y29uc3QgZT10aGlzLl9yZW5kZXJlZE5vZGVzLnNpemU7aWYoZTw0KXJldHVybiAwO2NvbnN0IHQ9Wy4uLnRoaXMuX3JlbmRlcmVkTm9kZXNdLnJlZHVjZSgoKGUsdCk9PmUrdGhpcy5faW5kZXguZ2V0Tm9kZSh0KS52ZXJ0ZXhDb3VudCkpO2xldCBpPXRoaXMuX2xvYWRpbmdOb2Rlcy5zaXplO2ZvcihsZXQgcj0wO3I8dGhpcy5fd29ya1F1ZXVlLmxlbmd0aDtyKyspaSs9dGhpcy5fd29ya1F1ZXVlW3JdLmxvYWQubGVuZ3RoLGktPXRoaXMuX3dvcmtRdWV1ZVtyXS5yZW1vdmUubGVuZ3RoO2lmKGk8MClyZXR1cm4gMDtyZXR1cm4gaSp0L2UqKCh0aGlzLnVzZWRNZW1vcnktZSpOZSkvdCkraSpOZX1nZXQgcGVyZm9ybWFuY2VJbmZvKCl7cmV0dXJue25vZGVzOnRoaXMuX3JlbmRlcmVkTm9kZXMuc2l6ZSxkaXNwbGF5ZWROdW1iZXJPZkZlYXR1cmVzOlsuLi50aGlzLl9yZW5kZXJlZE5vZGVzXS5yZWR1Y2UoKChlLHQpPT5lK3RoaXMuX2luZGV4LmdldE5vZGUodCkudmVydGV4Q291bnQpLDApLG1heGltdW1OdW1iZXJPZkZlYXR1cmVzOnRoaXMubWF4aW11bVBvaW50Q291bnQsdG90YWxOdW1iZXJPZkZlYXR1cmVzOi0xLGNvcmU6bnVsbCxcIkxvYWRpbmcgTm9kZXNcIjp0aGlzLl9sb2FkaW5nTm9kZXMuc2l6ZSxcIkluZGV4IFF1ZXVlXCI6dGhpcy5faW5kZXhRdWV1ZS5sZW5ndGgsXCJXb3JrIFF1ZXVlXCI6dGhpcy5fd29ya1F1ZXVlLmxlbmd0aCxcIklkbGUgUXVldWVcIjp0aGlzLl9pZGxlUXVldWUubGVuZ3RofX1nZXQgdGVzdCgpe3JldHVybntpbmRleDp0aGlzLl9pbmRleCx2aXNpYmxlTm9kZXM6dGhpcy5fcmVuZGVyZWROb2Rlc319fTtlKFtiKCldLGZlLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtiKCldLGZlLnByb3RvdHlwZSxcImJhc2VVcmxcIixudWxsKSxlKFtiKCldLGZlLnByb3RvdHlwZSxcInBvaW50U2NhbGVcIixudWxsKSxlKFtiKCldLGZlLnByb3RvdHlwZSxcInVzZVJlYWxXb3JsZFN5bWJvbFNpemVzXCIsbnVsbCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJwb2ludFNpemVcIixudWxsKSxlKFtiKCldLGZlLnByb3RvdHlwZSxcImludmVyc2VEZW5zaXR5XCIsbnVsbCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJtYXhpbXVtUG9pbnRDb3VudFwiLHZvaWQgMCksZShbYih7cmVhZE9ubHk6ITB9KV0sZmUucHJvdG90eXBlLFwiYXZhaWxhYmxlRmllbGRzXCIsbnVsbCksZShbYih7cmVhZE9ubHk6ITB9KV0sZmUucHJvdG90eXBlLFwiX2NsaXBwaW5nQm94XCIsbnVsbCksZShbYih7cmVhZE9ubHk6ITB9KV0sZmUucHJvdG90eXBlLFwiX2VsZXZhdGlvbk9mZnNldFwiLG51bGwpLGUoW2Ioe3R5cGU6Qm9vbGVhbn0pXSxmZS5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksZShbYihkZSldLGZlLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIix2b2lkIDApLGUoW2Ioe3JlYWRPbmx5OiEwfSldLGZlLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NWYWx1ZVwiLG51bGwpLGZlPWUoW3coXCJlc3JpLnZpZXdzLjNkLmxheWVycy5Qb2ludENsb3VkTGF5ZXJWaWV3M0RcIildLGZlKTtjb25zdCB5ZT1mZTtmdW5jdGlvbiBiZShlKXtyZXR1cm4gNSplLmNvb3JkaW5hdGVzLmxlbmd0aCsxMjh9Y29uc3Qgd2U9QSgpLE5lPTE2MDtmdW5jdGlvbiBQZShlKXtyZXR1cm4gdD0+ZS5pbW1lZGlhdGUuc2NoZWR1bGUodCl9ZXhwb3J0e3llIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtXb3JrZXJIYW5kbGUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3dvcmtlcnMvV29ya2VySGFuZGxlLmpzXCI7Y2xhc3MgciBleHRlbmRzIHR7Y29uc3RydWN0b3IodCl7c3VwZXIoXCJQb2ludENsb3VkV29ya2VyXCIsXCJ0cmFuc2Zvcm1cIix7dHJhbnNmb3JtOnQ9PnRoaXMuX2dldFRyYW5zZmVyTGlzdCh0KX0sdCl9X2dldFRyYW5zZmVyTGlzdCh0KXtjb25zdCByPVt0Lmdlb21ldHJ5QnVmZmVyXTtpZihudWxsIT10LnByaW1hcnlBdHRyaWJ1dGVEYXRhJiZ0LnByaW1hcnlBdHRyaWJ1dGVEYXRhLmJ1ZmZlciYmci5wdXNoKHQucHJpbWFyeUF0dHJpYnV0ZURhdGEuYnVmZmVyKSxudWxsIT10Lm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhJiZ0Lm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhLmJ1ZmZlciYmci5wdXNoKHQubW9kdWxhdGlvbkF0dHJpYnV0ZURhdGEuYnVmZmVyKSxudWxsIT10LmZpbHRlckF0dHJpYnV0ZXNEYXRhKWZvcihjb25zdCBlIG9mIHQuZmlsdGVyQXR0cmlidXRlc0RhdGEpbnVsbCE9ZSYmZS5idWZmZXImJnIucHVzaChlLmJ1ZmZlcik7Zm9yKGNvbnN0IGUgb2YgdC51c2VyQXR0cmlidXRlc0RhdGEpZS5idWZmZXImJnIucHVzaChlLmJ1ZmZlcik7cmV0dXJuIHJ9fWV4cG9ydHtyIGFzIFBvaW50Q2xvdWRXb3JrZXJIYW5kbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtqIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtmdW5jdGlvbiB0KGUsdCxnKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylyW25dPSExLG9bbl09bnVsbDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyluW3JdPSExLGxbcl09bnVsbDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz1oKHRbbl0sZSxnKTtvPj0wJiYocltuXT0hMCxudWxsIT1sW29dP2xbb10ucHVzaCh0W25dKTpsW29dPVt0W25dXSl9Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDtsKyspe2NvbnN0IHI9aChlW2xdLHQsZyk7cj49MCYmKG5bbF09ITAsbnVsbCE9b1tyXT9vW3JdLnB1c2goZVtsXSk6b1tyXT1bZVtsXV0pfWNvbnN0IHU9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbnVsbCE9bFtyXXx8bltyXXx8dS5wdXNoKHtsb2FkOltdLHJlbW92ZTpbZVtyXV19KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyludWxsIT1vW25dfHxyW25dfHx1LnB1c2goe2xvYWQ6W3Rbbl1dLHJlbW92ZTpbXX0pO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKW51bGwhPW9bbl0mJihvW25dLmxlbmd0aD4xfHxvW25dWzBdIT09dFtuXSkmJnUucHVzaCh7bG9hZDpbdFtuXV0scmVtb3ZlOm9bbl19KTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyludWxsIT1sW25dJiYobFtuXS5sZW5ndGg+MXx8bFtuXVswXSE9PWVbbl0pJiZ1LnB1c2goe2xvYWQ6bFtuXSxyZW1vdmU6W2Vbbl1dfSk7cmV0dXJuIHV9Y29uc3Qgbj1bITFdLGw9W251bGxdLHI9WyExXSxvPVtudWxsXTtmdW5jdGlvbiBoKGUsdCxuKXtsZXQgbD1lO2Zvcig7bD4wOyl7Y29uc3QgZT10LmluZGV4T2YobCk7aWYoZT49MClyZXR1cm4gZTtsPW4uZ2V0UGFyZW50SWQobCl9cmV0dXJuIHQuaW5kZXhPZihsKX1mdW5jdGlvbiBnKHQsbixsKXtyZXR1cm4gdC5zb3J0KCgodCxyKT0+e2lmKDA9PT10LmxvYWQubGVuZ3RoJiYwPT09ci5sb2FkLmxlbmd0aClyZXR1cm4gMDtpZigwPT09dC5sb2FkLmxlbmd0aClyZXR1cm4tMTtpZigwPT09ci5sb2FkLmxlbmd0aClyZXR1cm4gMTtpZigwPT09dC5yZW1vdmUubGVuZ3RoJiYwPT09ci5yZW1vdmUubGVuZ3RoKXtjb25zdCBvPWwuZ2V0UmVuZGVyQ2VudGVyKHQubG9hZFswXSksaD1sLmdldFJlbmRlckNlbnRlcihyLmxvYWRbMF0pO3JldHVybiBlKG8sbiktZShoLG4pfWlmKDA9PT10LnJlbW92ZS5sZW5ndGgpcmV0dXJuLTE7aWYoMD09PXIucmVtb3ZlLmxlbmd0aClyZXR1cm4gMTtpZigxPT09dC5sb2FkLmxlbmd0aCYmMT09PXIubG9hZC5sZW5ndGgpe2NvbnN0IG89bC5nZXRSZW5kZXJDZW50ZXIodC5sb2FkWzBdKSxoPWwuZ2V0UmVuZGVyQ2VudGVyKHIubG9hZFswXSk7cmV0dXJuIGUobyxuKS1lKGgsbil9aWYoMT09PXQubG9hZC5sZW5ndGgpcmV0dXJuLTE7aWYoMT09PXIubG9hZC5sZW5ndGgpcmV0dXJuIDE7e2NvbnN0IG89bC5nZXRSZW5kZXJDZW50ZXIodC5yZW1vdmVbMF0pLGg9bC5nZXRSZW5kZXJDZW50ZXIoci5yZW1vdmVbMF0pO3JldHVybiBlKG8sbiktZShoLG4pfX0pKX1mdW5jdGlvbiB1KGUsdCxuKXtmb3IobGV0IGw9MDtsPGUubGVuZ3RoOysrbCl7Y29uc3Qgcj1lW2xdO3IubG9hZC5sZW5ndGg+dCYmMT09PXIucmVtb3ZlLmxlbmd0aCYmZChlLHIsbil9fWZ1bmN0aW9uIGQoZSx0LG4pe2NvbnN0IGw9W3QucmVtb3ZlWzBdXSxyPVtdO2Zvcig7MT09PWwubGVuZ3RoOyl7Y29uc3QgZT1sLnBvcCgpO3IubGVuZ3RoPTA7Zm9yKGxldCBvPTA7bzx0LmxvYWQubGVuZ3RoO28rKyl7bGV0IGg9dC5sb2FkW29dLGc9bi5nZXRQYXJlbnRJZChoKTtmb3IoO2chPT1lOyloPWcsZz1uLmdldFBhcmVudElkKGgpO2xldCB1PWwuaW5kZXhPZihoKTt1PDAmJih1PWwubGVuZ3RoLGwucHVzaChoKSxyLnB1c2goW10pKSxyW3VdLnB1c2godC5sb2FkW29dKX19dC5sb2FkPWw7Zm9yKGxldCBvPTA7bzxsLmxlbmd0aDtvKyspcltvXS5sZW5ndGg+MT9lLnB1c2goe3JlbW92ZTpbbFtvXV0sbG9hZDpyW29dfSk6bFtvXT1yW29dWzBdfWV4cG9ydHt0IGFzIG5vZGVEaWZmLGcgYXMgc29ydEZyb250VG9CYWNrLHUgYXMgc3BsaXRXb3JrRW50cmllcyxkIGFzIHNwbGl0V29ya0VudHJ5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlIGFzIGUsY29udGFpbnMgYXMgdCxpbnRlcnNlY3RzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e3RyYW5zZm9ybU9iYiBhcyBufWZyb21cIi4vSTNTVXRpbC5qc1wiO2ltcG9ydHtzZXQgYXMgaSx0b0FhQm91bmRpbmdCb3ggYXMgbyxpbnRlcnNlY3RQbGFuZSBhcyByfWZyb21cIi4uLy4uL3N1cHBvcnQvb3JpZW50ZWRCb3VuZGluZ0JveC5qc1wiO2NsYXNzIHB7Y29uc3RydWN0b3IoZSx0LHMpe3RoaXMuX3BhZ2VzPVtdLHRoaXMucGFnZVNpemU9MCx0aGlzLl9ub2RlU1I9bnVsbCx0aGlzLl9yZW5kZXJTUj1udWxsLHRoaXMuX25vZGVTUj1lLHRoaXMuX3JlbmRlclNSPXQsdGhpcy5wYWdlU2l6ZT1zfWFkZFBhZ2UoZSx0LHM9MCl7Zm9yKDt0aGlzLl9wYWdlcy5sZW5ndGg8ZTspdGhpcy5fcGFnZXMucHVzaChudWxsKTthKHQsdGhpcy5fbm9kZVNSLHRoaXMuX3JlbmRlclNSLHMpLHRoaXMuX3BhZ2VzW2VdPXtub2Rlczp0LHBhcmVudHM6bmV3IFVpbnQzMkFycmF5KHRoaXMucGFnZVNpemUpfSxnKHRoaXMuX3BhZ2VzLHRoaXMucGFnZVNpemUpfWhhc1BhZ2UoZSl7cmV0dXJuISF0aGlzLl9wYWdlc1tlXX1nZXROb2RlKGUpe2NvbnN0IHQ9dGhpcy5wYWdlU2l6ZTtyZXR1cm4gdGhpcy5fcGFnZXNbdShlLHQpXS5ub2Rlc1tsKGUsdCldfWdldFJlbmRlck9iYihlKXtjb25zdCB0PXRoaXMucGFnZVNpemU7cmV0dXJuIHRoaXMuX3BhZ2VzW3UoZSx0KV0ubm9kZXNbbChlLHQpXS5vYmJJblJlbmRlclNSfWdldFJlbmRlckNlbnRlcihlKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJPYmIoZSkuY2VudGVyfXNldFJlbmRlck9iYihlLHQpe2NvbnN0IHM9dGhpcy5wYWdlU2l6ZTtpKHQsdGhpcy5fcGFnZXNbdShlLHMpXS5ub2Rlc1tsKGUscyldLm9iYkluUmVuZGVyU1IpfWdldFBhcmVudElkKGUpe2NvbnN0IHQ9dGhpcy5wYWdlU2l6ZTtyZXR1cm4gdGhpcy5fcGFnZXNbdShlLHQpXS5wYXJlbnRzW2woZSx0KV19aGFzTm9kZXMoZSx0KXtjb25zdCBzPXUoZSx0aGlzLnBhZ2VTaXplKSxuPXUoZSt0LTEsdGhpcy5wYWdlU2l6ZSk7Zm9yKGxldCBpPXM7aTw9bjtpKyspaWYobnVsbD09dGhpcy5fcGFnZXNbaV0pcmV0dXJuITE7cmV0dXJuITB9Zm9yRWFjaE5vZGVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuX3BhZ2VzLmxlbmd0aDt0Kyspe2NvbnN0IHM9dGhpcy5fcGFnZXNbdF07aWYocylmb3IobGV0IG49MDtuPHMubm9kZXMubGVuZ3RoO24rKyllKHQqdGhpcy5wYWdlU2l6ZStuKX19Y3JlYXRlVmlzaWJpbGl0eVRyYXZlcnNlKCl7Y29uc3QgdD17aW5kZXg6dGhpcyxxdWV1ZTpbXSxtYXNrczpbXSx0ZW1wQWFiYjplKCl9O3JldHVybihlLHMpPT5oKHQsZSxzKX19ZnVuY3Rpb24gaChlLG4saSl7Y29uc3QgcD1lLmluZGV4O2lmKCFwLmhhc05vZGVzKDAsMSkpcmV0dXJuO2NvbnN0IGg9ZS5xdWV1ZTtoLmxlbmd0aD0wLGgucHVzaCgwKTtjb25zdCBhPWUubWFza3M7Zm9yKGEubGVuZ3RoPTAsYS5wdXNoKDApO2gubGVuZ3RoPjA7KXtjb25zdCBnPWgucG9wKCk7bGV0IGw9YS5wb3AoKTtjb25zdCBkPXAuZ2V0Tm9kZShnKSxjPXAuZ2V0UmVuZGVyT2JiKGcpO2xldCBmPSEwO2lmKG51bGwhPW4uY2xpcHBpbmdCb3gpe2NvbnN0IGk9MTw8bi5mcnVzdHVtLmxlbmd0aDtpZigwPT0obCZpKSl7Y29uc3Qgcj1vKGMsZS50ZW1wQWFiYik7dChuLmNsaXBwaW5nQm94LHIpP2x8PWk6cyhuLmNsaXBwaW5nQm94LHIpfHwoZj0hMSl9fWZvcihsZXQgZT0wO2U8bi5mcnVzdHVtLmxlbmd0aCYmZjtlKyspe2NvbnN0IHQ9MTw8ZTtpZigwPT0obCZ0KSl7Y29uc3Qgcz1yKGMsbi5mcnVzdHVtW2VdKTtzPjA/Zj0hMTpzPDAmJihsfD10KX19aWYoaS5wcmVkaWNhdGUoZyxkLGYpKXtjb25zdCBlPWQuZmlyc3RDaGlsZCx0PWQuY2hpbGRDb3VudDtsZXQgcz0hMTtjb25zdCBuPXUoZSxwLnBhZ2VTaXplKSxvPXUoZSt0LTEscC5wYWdlU2l6ZSk7Zm9yKGxldCByPW47cjw9bztyKyspaWYoIXAuaGFzUGFnZShyKSl7aS5wYWdlTWlzcyhnLHIpLHM9ITA7YnJlYWt9aWYoIXMpZm9yKGxldCBpPTA7aTx0O2krKyloLnB1c2goZStpKSxhLnB1c2gobCl9fX1mdW5jdGlvbiBhKGUsdCxzLGkpe2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCByPWVbb107bihyLm9iYix0LHIub2JiSW5SZW5kZXJTUixzLGkpfX1mdW5jdGlvbiBnKGUsdCl7Y29uc3Qgcz1bMF07Zm9yKDtzLmxlbmd0aDspe2NvbnN0IG49cy5wb3AoKSxpPWVbdShuLHQpXS5ub2Rlc1tsKG4sdCldO2ZvcihsZXQgbz0wO288aS5jaGlsZENvdW50O28rKyl7Y29uc3Qgcj1pLmZpcnN0Q2hpbGQrbztudWxsIT1lW3Uocix0KV0mJihlW3Uocix0KV0ucGFyZW50c1tsKHIsdCldPW4scy5wdXNoKHIpKX19fWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZS90fDB9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlJXR9ZXhwb3J0e3AgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCh0KXtjb25zdCBlPXQucmVuZGVyZXIsbj1lPy50eXBlLG89ZT8udG9KU09OKCk/P251bGw7bGV0IGw9bnVsbCxpPSExO2NvbnN0IGE9dC5hdHRyaWJ1dGVTdG9yYWdlSW5mbztcInBvaW50LWNsb3VkLXVuaXF1ZS12YWx1ZVwiPT09bnx8XCJwb2ludC1jbG91ZC1zdHJldGNoXCI9PT1ufHxcInBvaW50LWNsb3VkLWNsYXNzLWJyZWFrc1wiPT09bj9sPXUoYSxlLmZpZWxkKTpcInBvaW50LWNsb3VkLXJnYlwiPT09bj8obD1yKGEsZS5maWVsZCksaT1udWxsIT1sKToobD1yKGEsXCJSR0JcIiksaT1udWxsIT1sKTtsZXQgcz1udWxsO3JldHVybiBlPy5jb2xvck1vZHVsYXRpb24mJihzPXUoYSxlLmNvbG9yTW9kdWxhdGlvbi5maWVsZCkpLHtyZW5kZXJlckpTT046byxpc1JHQlJlbmRlcmVyOmkscHJpbWFyeUF0dHJpYnV0ZTpsLG1vZHVsYXRpb25BdHRyaWJ1dGU6c319ZnVuY3Rpb24gZSh0KXtjb25zdCBlPXQuZmlsdGVycztyZXR1cm4gZT9lLm1hcCgoZT0+KHtmaWx0ZXJKU09OOmUudG9KU09OKCksYXR0cmlidXRlSW5mbzp1KHQuYXR0cmlidXRlU3RvcmFnZUluZm8sZS5maWVsZCl9KSkpOltdfWZ1bmN0aW9uIG4odCl7Y29uc3QgZT10Py5wb2ludFNpemVBbGdvcml0aG07cmV0dXJuIGUmJlwic3BsYXRcIj09PWUudHlwZT9lOm51bGx9ZnVuY3Rpb24gbyh0KXtjb25zdCBlPXQ/LnBvaW50U2l6ZUFsZ29yaXRobTtyZXR1cm4gZSYmXCJmaXhlZC1zaXplXCI9PT1lLnR5cGU/ZTpudWxsfWZ1bmN0aW9uIGwodCl7Y29uc3QgZT10Py5wb2ludFNpemVBbGdvcml0aG07cmV0dXJuISFlPy50eXBlJiZcImZpeGVkLXNpemVcIj09PWUudHlwZX1mdW5jdGlvbiByKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdD8/W10paWYobi5uYW1lPT09ZSYmbnVsbCE9bi5hdHRyaWJ1dGVWYWx1ZXMmJlwiVUludDhcIj09PW4uYXR0cmlidXRlVmFsdWVzLnZhbHVlVHlwZSYmMz09PW4uYXR0cmlidXRlVmFsdWVzLnZhbHVlc1BlckVsZW1lbnQpcmV0dXJue25hbWU6ZSxzdG9yYWdlSW5mbzpuLHVzZUVsZXZhdGlvbjohMX07cmV0dXJuIG51bGx9ZnVuY3Rpb24gdSh0LGUpe2Zvcihjb25zdCBuIG9mIHQ/P1tdKWlmKG4ubmFtZT09PWUpe2NvbnN0IHQ9XCJlbWJlZGRlZC1lbGV2YXRpb25cIj09PW4uZW5jb2Rpbmc7cmV0dXJuIHQ/e25hbWU6ZSxzdG9yYWdlSW5mbzpudWxsLHVzZUVsZXZhdGlvbjp0fTp7bmFtZTplLHN0b3JhZ2VJbmZvOm4sdXNlRWxldmF0aW9uOnR9fXJldHVyblwiZWxldmF0aW9uXCI9PT1lPy50b0xvd2VyQ2FzZSgpP3tuYW1lOmUsc3RvcmFnZUluZm86bnVsbCx1c2VFbGV2YXRpb246ITB9Om51bGx9ZXhwb3J0e3UgYXMgZ2V0QXR0cmlidXRlSW5mbyxlIGFzIGdldEZpbHRlckluZm8sbyBhcyBnZXRGaXhlZFNpemVBbGdvcml0aG0sdCBhcyBnZXRSZW5kZXJlckluZm8sbiBhcyBnZXRTcGxhdFNpemVBbGdvcml0aG0sbCBhcyByZW5kZXJlclVzZXNGaXhlZFNpemVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL1BvaW50Q2xvdWRDbGFzc0JyZWFrc1JlbmRlcmVyLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL1BvaW50Q2xvdWRTdHJldGNoUmVuZGVyZXIuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvUG9pbnRDbG91ZFVuaXF1ZVZhbHVlUmVuZGVyZXIuanNcIjtpbXBvcnR7Y3JlYXRlR2VvbWV0cnlJbmRleEZyb21TY2hlbWEgYXMgdCxjcmVhdGVUeXBlZFZpZXcgYXMgbixyZWFkQmluYXJ5QXR0cmlidXRlIGFzIGx9ZnJvbVwiLi9JM1NCaW5hcnlSZWFkZXIuanNcIjtpbXBvcnR7ZGVjb2RlWFlaIGFzIHN9ZnJvbVwiLi9MRVBDQy5qc1wiO2Z1bmN0aW9uIGkodCxuLGwscyl7Y29uc3R7cmVuZGVyZXJKU09OOmksaXNSR0JSZW5kZXJlcjp1fT10O2xldCBjPW51bGwsYT1udWxsO2lmKG4mJnUpYz1uO2Vsc2UgaWYobiYmXCJwb2ludENsb3VkVW5pcXVlVmFsdWVSZW5kZXJlclwiPT09aT8udHlwZSl7YT1vLmZyb21KU09OKGkpO2NvbnN0IGU9YS5jb2xvclVuaXF1ZVZhbHVlSW5mb3M7Yz1uZXcgVWludDhBcnJheSgzKnMpO2NvbnN0IHI9ZChhLmZpZWxkVHJhbnNmb3JtVHlwZSk7Zm9yKGxldCBvPTA7bzxzO28rKyl7Y29uc3QgdD0ocj9yKG5bb10pOm5bb10pK1wiXCI7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS52YWx1ZXMuaW5jbHVkZXModCkpe2NbMypvXT1lW3JdLmNvbG9yLnIsY1szKm8rMV09ZVtyXS5jb2xvci5nLGNbMypvKzJdPWVbcl0uY29sb3IuYjticmVha319fWVsc2UgaWYobiYmXCJwb2ludENsb3VkU3RyZXRjaFJlbmRlcmVyXCI9PT1pPy50eXBlKXthPXIuZnJvbUpTT04oaSk7Y29uc3QgZT1hLnN0b3BzO2M9bmV3IFVpbnQ4QXJyYXkoMypzKTtjb25zdCBvPWQoYS5maWVsZFRyYW5zZm9ybVR5cGUpO2ZvcihsZXQgcj0wO3I8cztyKyspe2NvbnN0IHQ9bz9vKG5bcl0pOm5bcl0sbD1lLmxlbmd0aC0xO2lmKHQ8ZVswXS52YWx1ZSljWzMqcl09ZVswXS5jb2xvci5yLGNbMypyKzFdPWVbMF0uY29sb3IuZyxjWzMqcisyXT1lWzBdLmNvbG9yLmI7ZWxzZSBpZih0Pj1lW2xdLnZhbHVlKWNbMypyXT1lW2xdLmNvbG9yLnIsY1szKnIrMV09ZVtsXS5jb2xvci5nLGNbMypyKzJdPWVbbF0uY29sb3IuYjtlbHNlIGZvcihsZXQgbz0xO288ZS5sZW5ndGg7bysrKWlmKHQ8ZVtvXS52YWx1ZSl7Y29uc3Qgbj0odC1lW28tMV0udmFsdWUpLyhlW29dLnZhbHVlLWVbby0xXS52YWx1ZSk7Y1szKnJdPWVbb10uY29sb3IucipuK2Vbby0xXS5jb2xvci5yKigxLW4pLGNbMypyKzFdPWVbb10uY29sb3IuZypuK2Vbby0xXS5jb2xvci5nKigxLW4pLGNbMypyKzJdPWVbb10uY29sb3IuYipuK2Vbby0xXS5jb2xvci5iKigxLW4pO2JyZWFrfX19ZWxzZSBpZihuJiZcInBvaW50Q2xvdWRDbGFzc0JyZWFrc1JlbmRlcmVyXCI9PT1pPy50eXBlKXthPWUuZnJvbUpTT04oaSk7Y29uc3Qgcj1hLmNvbG9yQ2xhc3NCcmVha0luZm9zO2M9bmV3IFVpbnQ4QXJyYXkoMypzKTtjb25zdCBvPWQoYS5maWVsZFRyYW5zZm9ybVR5cGUpO2ZvcihsZXQgZT0wO2U8cztlKyspe2NvbnN0IHQ9bz9vKG5bZV0pOm5bZV07Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspaWYodD49cltvXS5taW5WYWx1ZSYmdDw9cltvXS5tYXhWYWx1ZSl7Y1szKmVdPXJbb10uY29sb3IucixjWzMqZSsxXT1yW29dLmNvbG9yLmcsY1szKmUrMl09cltvXS5jb2xvci5iO2JyZWFrfX19ZWxzZSBjPW5ldyBVaW50OEFycmF5KDMqcykuZmlsbCgyNTUpO2lmKGwmJmE/LmNvbG9yTW9kdWxhdGlvbil7Y29uc3QgZT1hLmNvbG9yTW9kdWxhdGlvbi5taW5WYWx1ZSxyPWEuY29sb3JNb2R1bGF0aW9uLm1heFZhbHVlLG89LjM7Zm9yKGxldCB0PTA7dDxzO3QrKyl7Y29uc3Qgbj1sW3RdLHM9bj49cj8xOm48PWU/bzpvKygxLW8pKihuLWUpLyhyLWUpO2NbMyp0XT1zKmNbMyp0XSxjWzMqdCsxXT1zKmNbMyp0KzFdLGNbMyp0KzJdPXMqY1szKnQrMl19fXJldHVybiBjfWZ1bmN0aW9uIHUoZSxyKXtpZihudWxsPT1lLmVuY29kaW5nfHxcIlwiPT09ZS5lbmNvZGluZyl7Y29uc3Qgbz10KHIsZSk7aWYobnVsbD09by52ZXJ0ZXhBdHRyaWJ1dGVzLnBvc2l0aW9uKXJldHVybjtjb25zdCBsPW4ocixvLnZlcnRleEF0dHJpYnV0ZXMucG9zaXRpb24pLHM9by5oZWFkZXIuZmllbGRzLGk9W3Mub2Zmc2V0WCxzLm9mZnNldFkscy5vZmZzZXRaXSx1PVtzLnNjYWxlWCxzLnNjYWxlWSxzLnNjYWxlWl0sYz1sLmxlbmd0aC8zLGE9bmV3IEZsb2F0NjRBcnJheSgzKmMpO2ZvcihsZXQgZT0wO2U8YztlKyspYVszKmVdPWxbMyplXSp1WzBdK2lbMF0sYVszKmUrMV09bFszKmUrMV0qdVsxXStpWzFdLGFbMyplKzJdPWxbMyplKzJdKnVbMl0raVsyXTtyZXR1cm4gYX1pZihcImxlcGNjLXh5elwiPT09ZS5lbmNvZGluZylyZXR1cm4gcyhyKS5yZXN1bHR9ZnVuY3Rpb24gYyhlLHIsbyl7cmV0dXJuIGU/LmF0dHJpYnV0ZUluZm8udXNlRWxldmF0aW9uP3I/YShyLG8pOm51bGw6ZT8uYXR0cmlidXRlSW5mby5zdG9yYWdlSW5mbz9sKGUuYXR0cmlidXRlSW5mby5zdG9yYWdlSW5mbyxlLmJ1ZmZlcixvKTpudWxsfWZ1bmN0aW9uIGEoZSxyKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkocik7Zm9yKGxldCB0PTA7dDxyO3QrKylvW3RdPWVbMyp0KzJdO3JldHVybiBvfWZ1bmN0aW9uIGYoZSxyLG8sdCxuKXtjb25zdCBsPWUubGVuZ3RoLzM7bGV0IHM9MDtmb3IobGV0IGk9MDtpPGw7aSsrKXtsZXQgbD0hMDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoJiZsO2UrKyl7Y29uc3R7ZmlsdGVySlNPTjpyfT10W2VdLG89bltlXS52YWx1ZXNbaV07c3dpdGNoKHIudHlwZSl7Y2FzZVwicG9pbnRDbG91ZFZhbHVlRmlsdGVyXCI6e2NvbnN0IGU9XCJleGNsdWRlXCI9PT1yLm1vZGU7ci52YWx1ZXMuaW5jbHVkZXMobyk9PT1lJiYobD0hMSk7YnJlYWt9Y2FzZVwicG9pbnRDbG91ZEJpdGZpZWxkRmlsdGVyXCI6e2NvbnN0IGU9cChyLnJlcXVpcmVkU2V0Qml0cyksdD1wKHIucmVxdWlyZWRDbGVhckJpdHMpOyhvJmUpPT09ZSYmMD09KG8mdCl8fChsPSExKTticmVha31jYXNlXCJwb2ludENsb3VkUmV0dXJuRmlsdGVyXCI6e2NvbnN0IGU9MTUmbyx0PW8+Pj40JjE1LG49dD4xLHM9MT09PWUsaT1lPT09dDtsZXQgdT0hMTtmb3IoY29uc3QgbyBvZiByLmluY2x1ZGVkUmV0dXJucylpZihcImxhc3RcIj09PW8mJml8fFwiZmlyc3RPZk1hbnlcIj09PW8mJnMmJm58fFwibGFzdE9mTWFueVwiPT09byYmaSYmbnx8XCJzaW5nbGVcIj09PW8mJiFuKXt1PSEwO2JyZWFrfXV8fChsPSExKTticmVha319fWwmJihvW3NdPWksZVszKnNdPWVbMyppXSxlWzMqcysxXT1lWzMqaSsxXSxlWzMqcysyXT1lWzMqaSsyXSxyWzMqc109clszKmldLHJbMypzKzFdPXJbMyppKzFdLHJbMypzKzJdPXJbMyppKzJdLHMrKyl9cmV0dXJuIHN9ZnVuY3Rpb24gZChlKXtzd2l0Y2goZSl7ZGVmYXVsdDpjYXNlIG51bGw6Y2FzZVwibm9uZVwiOnJldHVybiBlPT5lO2Nhc2VcImxvdy1mb3VyLWJpdFwiOnJldHVybiBlPT4xNSZlO2Nhc2VcImhpZ2gtZm91ci1iaXRcIjpyZXR1cm4gZT0+KDI0MCZlKT4+NDtjYXNlXCJhYnNvbHV0ZS12YWx1ZVwiOnJldHVybiBlPT5NYXRoLmFicyhlKTtjYXNlXCJtb2R1bG8tdGVuXCI6cmV0dXJuIGU9PmUlMTB9fWZ1bmN0aW9uIHAoZSl7bGV0IHI9MDtmb3IoY29uc3QgbyBvZiBlfHxbXSlyfD0xPDxvO3JldHVybiByfWV4cG9ydHthIGFzIGVsZXZhdGlvbkZyb21Qb3NpdGlvbnMsaSBhcyBldmFsdWF0ZVJlbmRlcmVyLGYgYXMgZmlsdGVySW5QbGFjZSxjIGFzIGdldEF0dHJpYnV0ZVZhbHVlcyx1IGFzIHJlYWRHZW9tZXRyeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IGU9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpLHRoaXMucG9pbnRDbG91ZE1ldGFkYXRhPW51bGx9fTtyKFtzKHtjb25zdHJ1Y3RPbmx5OiEwLGNsb25hYmxlOlwicmVmZXJlbmNlXCJ9KV0sZS5wcm90b3R5cGUsXCJwb2ludENsb3VkTWV0YWRhdGFcIix2b2lkIDApLGU9cihbdChcImVzcmkudmlld3MuM2QubGF5ZXJzLmkzcy5Qb2ludEdyYXBoaWNcIildLGUpO2V4cG9ydHtlIGFzIFBvaW50R3JhcGhpY307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21ha2VIYW5kbGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e09iamVjdDNEU3RhdGUgYXMgdH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL2Jhc2ljSW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtPYmplY3QzRFN0YXRlSUQgYXMgaX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL09iamVjdDNEU3RhdGVJRC5qc1wiO2NsYXNzIGh7Y29uc3RydWN0b3IoZSl7dGhpcy5fY29udGV4dD1lLHRoaXMuX2hpZ2hsaWdodHM9bmV3IFNldH1nZXQgZW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX2hpZ2hsaWdodHMuc2l6ZX1kZXN0cm95KCl7dGhpcy5faGlnaGxpZ2h0cz1udWxsfWFkZCh0KXtjb25zdCBpPW5ldyBzKHQpO3JldHVybiB0aGlzLl9oaWdobGlnaHRzLmFkZChpKSx0aGlzLl9lbmFibGVTZXQoaSksZSgoKCk9PnRoaXMuX3JlbW92ZVNldChpKSkpfV9yZW1vdmVTZXQoZSl7dGhpcy5fZGlzYWJsZVNldChlKSx0aGlzLl9oaWdobGlnaHRzLmRlbGV0ZShlKX1fZW5hYmxlU2V0KGUpe2UuZW5hYmxlZHx8KGUuZW5hYmxlZD0hMCx0aGlzLl9jb250ZXh0LmZvckVhY2hOb2RlKCh0PT50aGlzLl9lbmFibGVTZXRGb3JOb2RlKGUsdCkpKSl9X2VuYWJsZVNldEZvck5vZGUoZSx0KXtpZighZS5lbmFibGVkKXJldHVybjtjb25zdCBpPWUuaWRzLmdldCh0LmlkKTtpJiZpLmZvckVhY2goKGk9PnRoaXMuX2NvbnRleHQuYWRkSGlnaGxpZ2h0KHQsaSxlLmlkKSkpfV9kaXNhYmxlU2V0KGUpe2UuZW5hYmxlZCYmKGUuZW5hYmxlZD0hMSx0aGlzLl9jb250ZXh0LmZvckVhY2hOb2RlKCh0PT50aGlzLl9kaXNhYmxlU2V0Rm9yTm9kZShlLHQpKSkpfV9kaXNhYmxlU2V0Rm9yTm9kZShlLHQpe2UuZW5hYmxlZHx8dGhpcy5fY29udGV4dC5yZW1vdmVIaWdobGlnaHQodCxlLmlkKX1ub2RlQWRkZWQoZSl7dGhpcy5faGlnaGxpZ2h0cy5mb3JFYWNoKCh0PT50aGlzLl9lbmFibGVTZXRGb3JOb2RlKHQsZSkpKX1ub2RlUmVtb3ZlZChlKXt0aGlzLl9oaWdobGlnaHRzLmZvckVhY2goKHQ9PnRoaXMuX2Rpc2FibGVTZXRGb3JOb2RlKHQsZSkpKX1yZW1vdmVBbGwoKXt0aGlzLl9oaWdobGlnaHRzLmZvckVhY2goKGU9PnRoaXMuX2Rpc2FibGVTZXQoZSkpKX19Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmlkPW5ldyBpKHQuSGlnaGxpZ2h0KSx0aGlzLmlkcz1uZXcgTWFwLHRoaXMuZW5hYmxlZD0hMTtmb3IoY29uc3QgdCBvZiBlKW51bGwhPXQmJnRoaXMuX2FkZCh0Lm5vZGVJZCx0LnBvaW50SWQpfV9hZGQoZSx0KXtjb25zdCBpPXRoaXMuaWRzLmdldChlKTtpP2kuYWRkKHQpOnRoaXMuaWRzLnNldChlLG5ldyBTZXQoW3RdKSl9fWV4cG9ydHtoIGFzIFBvaW50SGlnaGxpZ2h0c307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL1Bvb2xlZEFycmF5LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZiBhcyBuLGwgYXMgbyxpIGFzIGEsRSBhcyBsLGogYXMgaCxtIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3MgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjNC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgcCxvZmZzZXQgYXMgbSxjb250YWlucyBhcyBnLGNvbnRhaW5zUG9pbnQgYXMgXyxzZXQgYXMgZixwb3NpdGl2ZUluZmluaXR5IGFzIFAsZXF1YWxzIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBTfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcGxhbmUuanNcIjtpbXBvcnR7ZnJvbVBvaW50cyBhcyB4fWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcmF5LmpzXCI7aW1wb3J0e1BjbFRhcmdldCBhcyB6fWZyb21cIi4vSW50ZXJzZWN0b3IuanNcIjtpbXBvcnR7UG9pbnRIaWdobGlnaHRzIGFzIHd9ZnJvbVwiLi9Qb2ludEhpZ2hsaWdodHMuanNcIjtpbXBvcnR7bWluaW11bURpc3RhbmNlUGxhbmUgYXMgUixtYXhpbXVtRGlzdGFuY2VQbGFuZSBhcyBqLGludGVyc2VjdExpbmUgYXMgeSx0b0FhQm91bmRpbmdCb3ggYXMgcX1mcm9tXCIuLi8uLi9zdXBwb3J0L29yaWVudGVkQm91bmRpbmdCb3guanNcIjtpbXBvcnR7U2hhZGVyT3V0cHV0IGFzIEF9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7U3luY1ByZXBhcmVSZW5kZXJQbHVnaW4gYXMgSX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvZWZmZWN0cy9SZW5kZXJQbHVnaW4uanNcIjtpbXBvcnR7RGVmYXVsdDNEIGFzIHZ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9EZWZhdWx0VmVydGV4QXR0cmlidXRlTG9jYXRpb25zLmpzXCI7aW1wb3J0e25ld0ludGVyc2VjdG9yUmVzdWx0IGFzIEV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtJbnRlcnNlY3RvclR5cGUgYXMgRixTdG9yZVJlc3VsdHMgYXMgT31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9ySW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIEN9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9SZW5kZXJTbG90LmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIE59ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgVH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtQIGFzIEwsYSBhcyBILGcgYXMgTX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvUG9pbnRSZW5kZXJlci5nbHNsLmpzXCI7aW1wb3J0e1BvaW50UmVuZGVyZXJUZWNobmlxdWUgYXMgQn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvc2hhZGVycy9Qb2ludFJlbmRlcmVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e1BvaW50UmVuZGVyZXJUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIFV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL3NoYWRlcnMvUG9pbnRSZW5kZXJlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7QnVmZmVyT2JqZWN0IGFzIER9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvQnVmZmVyT2JqZWN0LmpzXCI7aW1wb3J0e0RhdGFUeXBlIGFzIFYsUHJpbWl0aXZlVHlwZSBhcyBXLFVzYWdlIGFzIGt9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgR31mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhFbGVtZW50RGVzY3JpcHRvci5qc1wiO2NvbnN0IFE9e3Bvc2l0aW9uczpbbmV3IEcoVC5QT1NJVElPTiwzLFYuRkxPQVQsMCwxMildLGNvbG9yczpbbmV3IEcoVC5DT0xPUiwzLFYuVU5TSUdORURfQllURSwwLDMsITApXX07bGV0IFk9Y2xhc3MgZXh0ZW5kcyBJe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1GLlBDTCx0aGlzLmlzR3JvdW5kPSExLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzPW5ldyBMLHRoaXMuX2hpZ2hsaWdodHM9bmV3IHcoe2ZvckVhY2hOb2RlOmU9PnRoaXMuZm9yRWFjaE5vZGUoZSksYWRkSGlnaGxpZ2h0OihlLHMsdCk9PnRoaXMuX2FkZEhpZ2hsaWdodChlLHMsdCkscmVtb3ZlSGlnaGxpZ2h0OihlLHMpPT50aGlzLl9yZW1vdmVIaWdobGlnaHQoZSxzKX0pLHRoaXMucHJvZHVjZXM9bmV3IE1hcChbW0MuT1BBUVVFX01BVEVSSUFMLGU9PmUhPT1BLkhpZ2hsaWdodHx8IXRoaXMuX2hpZ2hsaWdodHMuZW1wdHldXSksdGhpcy5sYXllclVpZD1cIlwiLHRoaXMuX3NsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuX3RlY2huaXF1ZUNvbmZpZz1uZXcgVSx0aGlzLl9ub2Rlcz1uZXcgdH1pbml0aWFsaXplUmVuZGVyQ29udGV4dChlKXt0aGlzLl9jb250ZXh0PWUsZS5yZXF1ZXN0UmVuZGVyKCl9dW5pbml0aWFsaXplUmVuZGVyQ29udGV4dCgpe31pbnRlcnNlY3QoZSxzLHQsaSl7Y29uc3Qgcj11KCksZj11KCksUD11KCksYj11KCksdz1TKCksQT1lLmNhbWVyYS5wZXJTY3JlZW5QaXhlbFJhdGlvLzIsST1lLmNhbWVyYS5uZWFyO24oZixpLHQpO2NvbnN0IHY9MS9vKGYpO2EoZixmLHYpLGwoUCxmKSxkKHcsZlswXSxmWzFdLGZbMl0sLWgoZix0KSk7Y29uc3QgRj1uZXcgaWUsQz1uZXcgaWUsTj1uZXcgQXJyYXksVD1wKCksTD1wKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmNsaXBCb3gpO20oTCwtdFswXSwtdFsxXSwtdFsyXSxMKSx0aGlzLl9ub2Rlcy5mb3JBbGwoKG89Pntjb25zdCBhPW8uc3BsYXRTaXplKnRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNjYWxlRmFjdG9yO2xldCBsPVIoby5vYmIsdyksdT1qKG8ub2JiLHcpO2wtPVooYSxsK0ksdGhpcy5fcGFzc1BhcmFtZXRlcnMsQSxvLmlzTGVhZiksdS09WihhLHUrSSx0aGlzLl9wYXNzUGFyYW1ldGVycyxBLG8uaXNMZWFmKTtjb25zdCBkPXU8MCxwPW51bGwhPUYuZGlzdCYmbnVsbCE9Qy5kaXN0JiZGLmRpc3Q8bCp2JiZDLmRpc3Q+dSp2O2lmKGR8fHApcmV0dXJuO2NvbnN0IFM9WChhLHUrSSx0aGlzLl9wYXNzUGFyYW1ldGVycyxBLG8uaXNMZWFmKTtpZigheShvLm9iYix0LGYsUykpcmV0dXJuO2NvbnN0IHg9UypTO3Eoby5vYmIsVCksbShULC10WzBdLC10WzFdLC10WzJdLFQpO2NvbnN0IHo9IWcoTCxUKTtuKGIsby5vcmlnaW4sdCk7Y29uc3QgRT1vLmNvb3JkaW5hdGVzLmxlbmd0aC8zO2ZvcihsZXQgbj0wO248RTtuKyspe2lmKHJbMF09YlswXStvLmNvb3JkaW5hdGVzWzMqbl0sclsxXT1iWzFdK28uY29vcmRpbmF0ZXNbMypuKzFdLHJbMl09YlsyXStvLmNvb3JkaW5hdGVzWzMqbisyXSx6JiYhXyhMLHIpKWNvbnRpbnVlO2NvbnN0IGw9aChyLGYpLHU9YyhyKS1sKmw7aWYodT54KWNvbnRpbnVlO2xldCBkPWwrSTtjb25zdCBwPVooYSxkLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLEEsby5pc0xlYWYpO2lmKGwtcDwwKWNvbnRpbnVlO2QtPXA7Y29uc3QgbT1YKGEsZCx0aGlzLl9wYXNzUGFyYW1ldGVycyxBLG8uaXNMZWFmKTtpZih1Pm0qbSljb250aW51ZTtjb25zdCBnPShsLXApKnYsUz1lPT4oZS5wb2ludD0kKG8sbixlLnBvaW50KSxlLmRpc3Q9ZyxlLm5vcm1hbD1QLGUubm9kZT1vLGUucG9pbnRJZD1uLGUubGF5ZXJVaWQ9dGhpcy5sYXllclVpZCxlKTtpZigobnVsbD09Ri5kaXN0fHxnPEYuZGlzdCkmJihudWxsPT1zfHxzKHQsaSxnKSkmJlMoRiksZS5vcHRpb25zLnN0b3JlIT09Ty5NSU4mJihudWxsPT1DLmRpc3R8fGc+Qy5kaXN0KSYmKG51bGw9PXN8fHModCxpLGcpKSYmUyhDKSxlLm9wdGlvbnMuc3RvcmU9PT1PLkFMTCYmKG51bGw9PXN8fHModCxpLGcpKSl7Y29uc3QgZT1uZXcgaWU7Ti5wdXNoKFMoZSkpfX19KSk7Y29uc3QgSD1lPT57Y29uc3R7bGF5ZXJVaWQ6cyxub2RlOnQscG9pbnRJZDppfT1lO3JldHVybiBuZXcgeihlLnBvaW50LHMsaSwoKCk9PnRoaXMuY3JlYXRlR3JhcGhpYyh0LGksZS5wb2ludCkpKX0sTT0oZSxzKT0+e2NvbnN0IHQ9SChzKTtlLnNldCh0aGlzLnR5cGUsdCxzLmRpc3Qscy5ub3JtYWwpfTtpZihyZShGKSl7Y29uc3Qgcz1lLnJlc3VsdHMubWluOyhudWxsPT1zLmRpc3R8fEYuZGlzdDxzLmRpc3QpJiZNKHMsRil9aWYocmUoQykmJmUub3B0aW9ucy5zdG9yZSE9PU8uTUlOKXtjb25zdCBzPWUucmVzdWx0cy5tYXg7KG51bGw9PXMuZGlzdHx8Qy5kaXN0PnMuZGlzdCkmJk0ocyxDKX1pZihlLm9wdGlvbnMuc3RvcmU9PT1PLkFMTCl7Y29uc3Qgcz14KHQsaSk7Zm9yKGNvbnN0IHQgb2YgTil7Y29uc3QgaT1FKHMpO00oaSx0KSxlLnJlc3VsdHMuYWxsLnB1c2goaSl9fX1wcmVwYXJlVGVjaG5pcXVlKGUpe3JldHVybiAwPT09dGhpcy5fbm9kZXMubGVuZ3RofHxlLm91dHB1dCE9PUEuQ29sb3ImJmUub3V0cHV0IT09QS5EZXB0aCYmZS5vdXRwdXQhPT1BLkhpZ2hsaWdodD9udWxsOih0aGlzLl9ub2Rlcy5mb3JBbGwoKHM9PntudWxsPT1zLnZhbyYmdGhpcy5faW5pdE5vZGUoZSxzKX0pKSx0aGlzLl90ZWNobmlxdWVDb25maWcuZHJhd1NjcmVlblNpemU9dGhpcy5fcGFzc1BhcmFtZXRlcnMuZHJhd1NjcmVlblNwYWNlLHRoaXMuX3RlY2huaXF1ZUNvbmZpZy51c2VGaXhlZFNpemVzPXRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZUZpeGVkU2l6ZXMsdGhpcy5fdGVjaG5pcXVlQ29uZmlnLmhhc1NsaWNlUGxhbmU9dGhpcy5fc2xpY2VQbGFuZUVuYWJsZWQsdGhpcy5fdGVjaG5pcXVlQ29uZmlnLmhhc09jY2x1ZGVlcz1lLmJpbmRQYXJhbWV0ZXJzLmhhc09jY2x1ZGVlcyx0aGlzLl90ZWNobmlxdWVDb25maWcuY2xpcHBpbmdFbmFibGVkPXRoaXMuX2NsaXBwaW5nRW5hYmxlZCx0aGlzLl90ZWNobmlxdWVDb25maWcub3V0cHV0PWUub3V0cHV0LHRoaXMuX2NvbnRleHQudGVjaG5pcXVlUmVwb3NpdG9yeS5yZWxlYXNlQW5kQWNxdWlyZShCLHRoaXMuX3RlY2huaXF1ZUNvbmZpZyx0aGlzLl90ZWNobmlxdWUpKX1yZW5kZXJOb2RlKGUscyl7Y29uc3QgdD1lLnJjdHgsaT10LmJpbmRUZWNobmlxdWUocyx0aGlzLl9wYXNzUGFyYW1ldGVycyxlLmJpbmRQYXJhbWV0ZXJzKSxyPWUub3V0cHV0PT09QS5IaWdobGlnaHQ7dGhpcy5fbm9kZXMuZm9yQWxsKChzPT57MD09PXMuY29vcmRpbmF0ZXMubGVuZ3RofHxyJiYhcy5oaWdobGlnaHRzfHwoaS5iaW5kRHJhdyhzLGUuYmluZFBhcmFtZXRlcnMsdGhpcy5fcGFzc1BhcmFtZXRlcnMpLHQuYmluZFZBTyhzLnZhbykscj90aGlzLl9yZW5kZXJIaWdobGlnaHRGcmFnbWVudHModCxzKTp0LmRyYXdBcnJheXMoVy5QT0lOVFMsMCxzLmNvb3JkaW5hdGVzLmxlbmd0aC8zKSl9KSl9X3JlbmRlckhpZ2hsaWdodEZyYWdtZW50cyhlLHMpe2NvbnN0IHQ9cy5oaWdobGlnaHRzO2lmKG51bGw9PXQpcmV0dXJuO2xldCBpPXRbMF0uY29tcG9uZW50LHI9aSsxO2ZvcihsZXQgbz0xO288dC5sZW5ndGg7bysrKXtjb25zdCBzPXRbb10uY29tcG9uZW50O2lmKHMhPT1yKXtjb25zdCB0PXItaTt0PjAmJmUuZHJhd0FycmF5cyhXLlBPSU5UUyxpLHQpLGk9c31yPXMrMX1jb25zdCBuPXItaTtuPjAmJmUuZHJhd0FycmF5cyhXLlBPSU5UUyxpLG4pfXNldCB1c2VGaXhlZFNpemVzKGUpe3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZUZpeGVkU2l6ZXMhPT1lJiYodGhpcy5fcGFzc1BhcmFtZXRlcnMudXNlRml4ZWRTaXplcz1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IHVzZUZpeGVkU2l6ZXMoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMudXNlRml4ZWRTaXplc31zZXQgc2NhbGVGYWN0b3IoZSl7dGhpcy5fcGFzc1BhcmFtZXRlcnMuc2NhbGVGYWN0b3IhPT1lJiYodGhpcy5fcGFzc1BhcmFtZXRlcnMuc2NhbGVGYWN0b3I9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBzY2FsZUZhY3Rvcigpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy5zY2FsZUZhY3Rvcn1zZXQgbWluU2l6ZVB4KGUpe3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLm1pblNpemVQeCE9PWUmJih0aGlzLl9wYXNzUGFyYW1ldGVycy5taW5TaXplUHg9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBtaW5TaXplUHgoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMubWluU2l6ZVB4fXNldCB1c2VSZWFsV29ybGRTeW1ib2xTaXplcyhlKXt0aGlzLl9wYXNzUGFyYW1ldGVycy51c2VSZWFsV29ybGRTeW1ib2xTaXplcyE9PWUmJih0aGlzLl9wYXNzUGFyYW1ldGVycy51c2VSZWFsV29ybGRTeW1ib2xTaXplcz1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IHVzZVJlYWxXb3JsZFN5bWJvbFNpemVzKCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzfXNldCBzaXplKGUpe3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNpemUhPT1lJiYodGhpcy5fcGFzc1BhcmFtZXRlcnMuc2l6ZT1lLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMuc2l6ZX1zZXQgc2l6ZVB4KGUpe3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNpemVQeCE9PWUmJih0aGlzLl9wYXNzUGFyYW1ldGVycy5zaXplUHg9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBzaXplUHgoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMuc2l6ZVB4fXNldCBjbGlwcGluZ0JveChlKXtmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmNsaXBCb3gsZXx8UCl9Z2V0IF9jbGlwcGluZ0VuYWJsZWQoKXtyZXR1cm4hYih0aGlzLl9wYXNzUGFyYW1ldGVycy5jbGlwQm94LFAsKChlLHMpPT5lPT09cykpfWdldCBzbGljZVBsYW5lRW5hYmxlZCgpe3JldHVybiB0aGlzLl9zbGljZVBsYW5lRW5hYmxlZH1zZXQgc2xpY2VQbGFuZUVuYWJsZWQoZSl7dGhpcy5fc2xpY2VQbGFuZUVuYWJsZWQhPT1lJiYodGhpcy5fc2xpY2VQbGFuZUVuYWJsZWQ9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWFkZE5vZGUoZSl7dGhpcy5fbm9kZXMucHVzaChlKSx0aGlzLl9oaWdobGlnaHRzLm5vZGVBZGRlZChlKSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9cmVtb3ZlTm9kZShlKXtsZXQgdD1udWxsO3JldHVybiB0aGlzLl9ub2Rlcy5maWx0ZXJJblBsYWNlKChpPT5pLmlkIT09ZXx8KHQ9aSxpLnZhbz1zKGkudmFvKSx0aGlzLl9oaWdobGlnaHRzLm5vZGVSZW1vdmVkKGkpLCExKSkpLHRoaXMuX3JlcXVlc3RSZW5kZXIoKSx0fWZvckVhY2hOb2RlKGUpe3RoaXMuX25vZGVzLmZvckFsbChlKX1yZW1vdmVBbGwoKXt0aGlzLl9ub2Rlcy5mb3JBbGwoKGU9PmUudmFvPXMoZS52YW8pKSksdGhpcy5faGlnaGxpZ2h0cy5yZW1vdmVBbGwoKSx0aGlzLl9ub2Rlcy5jbGVhcigpLHRoaXMuX3JlcXVlc3RSZW5kZXIoKX1oaWdobGlnaHQoZSl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHMuYWRkKGUpfV9hZGRIaWdobGlnaHQoZSxzLHQpe2UuaGlnaGxpZ2h0cz1zZShlLmhpZ2hsaWdodHMscyx0KSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9X3JlbW92ZUhpZ2hsaWdodChlLHMpe2UuaGlnaGxpZ2h0cz10ZShlLmhpZ2hsaWdodHMscyksdGhpcy5fcmVxdWVzdFJlbmRlcigpfV9pbml0Tm9kZShlLHMpe2NvbnN0IHQ9ZS5yY3R4O3MudmFvPW5ldyBOKHQsdixRLHtwb3NpdGlvbnM6RC5jcmVhdGVWZXJ0ZXgodCxrLlNUQVRJQ19EUkFXLHMuY29vcmRpbmF0ZXMpLGNvbG9yczpELmNyZWF0ZVZlcnRleCh0LGsuU1RBVElDX0RSQVcscy5yZ2IpfSl9X3JlcXVlc3RSZW5kZXIoKXt0aGlzLl9jb250ZXh0JiZ0aGlzLl9jb250ZXh0LnJlcXVlc3RSZW5kZXIoKX19O2UoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0sWS5wcm90b3R5cGUsXCJjcmVhdGVHcmFwaGljXCIsdm9pZCAwKSxZPWUoW3IoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5pM3MuUG9pbnRSZW5kZXJlclwiKV0sWSk7Y2xhc3MgSiBleHRlbmRzIEh7Y29uc3RydWN0b3IoZSxzLHQsaSxyLG4sbyxhLGw9bnVsbCxoPW51bGwpe3N1cGVyKHQscixzKSx0aGlzLmlkPWUsdGhpcy5vYmI9aSx0aGlzLmNvb3JkaW5hdGVzPW4sdGhpcy5yZ2I9byx0aGlzLmF0dHJpYnV0ZXM9YSx0aGlzLnBvaW50SWRGaWx0ZXJNYXA9bCx0aGlzLmhpZ2hsaWdodHM9aH19ZnVuY3Rpb24gSyhlKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eShcInNwbGF0U2l6ZVwiKX1mdW5jdGlvbiBYKGUscyx0LGkscil7aWYodC5kcmF3U2NyZWVuU3BhY2UpcmV0dXJuIHQuZml4ZWRTaXplKnMqaTtjb25zdCBuPU0ocikqcyppO3JldHVybiB0LnVzZUZpeGVkU2l6ZXM/TWF0aC5taW4odC5maXhlZFNpemUvMixuKTp0LnNjcmVlbk1pblNpemU+MD9NYXRoLm1pbihNYXRoLm1heCh0LnNjcmVlbk1pblNpemUqcyppLGUvMiksbik6TWF0aC5taW4oZS8yLG4pfWZ1bmN0aW9uIFooZSxzLHQsaSxyKXtyZXR1cm4gdC5kcmF3U2NyZWVuU3BhY2U/MDpYKGUscyx0LGkscil9ZnVuY3Rpb24gJChlLHMsdCl7cmV0dXJuIG51bGw9PXQmJih0PXUoKSksdFswXT1lLm9yaWdpblswXStlLmNvb3JkaW5hdGVzWzMqc10sdFsxXT1lLm9yaWdpblsxXStlLmNvb3JkaW5hdGVzWzMqcysxXSx0WzJdPWUub3JpZ2luWzJdK2UuY29vcmRpbmF0ZXNbMypzKzJdLHR9ZnVuY3Rpb24gZWUoZSl7cmV0dXJuIG51bGwhPWUuY29tcG9uZW50P2UuY29tcG9uZW50Oi0xfWZ1bmN0aW9uIHNlKGUscyx0KXtudWxsPT1lJiYoZT1bXSk7Y29uc3QgaT17Y29tcG9uZW50OnMsaWQ6dH07ZS5wdXNoKGkpO2NvbnN0IHI9ZWUoaSk7bGV0IG49ZS5sZW5ndGgtMTtmb3IoO24+MCYmcjxlZShlW24tMV0pOylbZVtuLTFdLGVbbl1dPVtlW25dLGVbbi0xXV0sLS1uO3JldHVybiBlfWZ1bmN0aW9uIHRlKGUscyl7aWYobnVsbD09ZSlyZXR1cm4gZTtjb25zdCB0PWUuZmlsdGVyKChlPT5lLmlkIT09cykpO3JldHVybiAwPT09dC5sZW5ndGg/bnVsbDp0fWNsYXNzIGlle2NvbnN0cnVjdG9yKCl7dGhpcy5ub2RlPW51bGwsdGhpcy5wb2ludElkPW51bGwsdGhpcy5wb2ludD1udWxsLHRoaXMuZGlzdD1udWxsLHRoaXMubm9ybWFsPW51bGwsdGhpcy5sYXllclVpZD1cIlwifX1mdW5jdGlvbiByZShlKXtyZXR1cm4gbnVsbCE9ZS5kaXN0JiZudWxsIT1lLnBvaW50JiZudWxsIT1lLnBvaW50SWQmJm51bGwhPWUubm9kZX1leHBvcnR7WSBhcyBQb2ludFJlbmRlcmVyLEogYXMgUG9pbnRSZW5kZXJlck5vZGUsSyBhcyBpc0luc3RhbmNlT2ZOb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7dW5wYWNrRmllbGROYW1lcyBhcyB0LHBvcHVsYXRlTWlzc2luZ0ZpZWxkcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0RmV0Y2hQb3B1cFRlbXBsYXRlIGFzIG8sZ2V0UmVxdWlyZWRGaWVsZHMgYXMgcH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7Y29uc3QgaT1pPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBpe192YWxpZGF0ZUZldGNoUG9wdXBGZWF0dXJlcyhlKXtjb25zdHtsYXllcjpzfT10aGlzLHtwb3B1cEVuYWJsZWQ6dH09cztpZighdCl0aHJvdyBuZXcgcihcInNjZW5lbGF5ZXJ2aWV3M2Q6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJQb3B1cHMgYXJlIGRpc2FibGVkXCIse2xheWVyOnN9KTtpZighbyhzLGUpKXRocm93IG5ldyByKFwic2NlbmVsYXllcnZpZXczZDpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIkxheWVyIGRvZXMgbm90IGRlZmluZSBhIHBvcHVwIHRlbXBsYXRlXCIse2xheWVyOnN9KX1hc3luYyBwcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGUpe31hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSxyKXt0aGlzLl92YWxpZGF0ZUZldGNoUG9wdXBGZWF0dXJlcyhyKTtjb25zdCBzPW51bGwhPXI/ci5jbGllbnRHcmFwaGljczpudWxsO2lmKCFzfHwwPT09cy5sZW5ndGgpcmV0dXJuW107Y29uc3QgaT1cInNjZW5lXCI9PT10aGlzLmxheWVyLnR5cGUmJm51bGwhPXRoaXMubGF5ZXIuYXNzb2NpYXRlZExheWVyP3RoaXMubGF5ZXIuYXNzb2NpYXRlZExheWVyOnRoaXMubGF5ZXI7bGV0IGM9W107XCJmaWVsZHNJbmRleFwiaW4gdGhpcy5sYXllciYmKGM9dCh0aGlzLmxheWVyLmZpZWxkc0luZGV4LGF3YWl0IHAoaSxvKHRoaXMubGF5ZXIscikpKSksYXdhaXQgdGhpcy5wcmVwYXJlRmV0Y2hQb3B1cEZlYXR1cmVzKGMpO2NvbnN0IGw9bmV3IFNldCxuPVtdLHU9W107Zm9yKGNvbnN0IHQgb2YgcylhKGMsdCxsKT91LnB1c2godCk6bi5wdXNoKHQpO3JldHVybiAwPT09dS5sZW5ndGg/bjp0aGlzLndoZW5HcmFwaGljQXR0cmlidXRlcyh1LFsuLi5sXSkuY2F0Y2goKCgpPT51KSkudGhlbigoZT0+bi5jb25jYXQoZSkpKX19O3JldHVybiBjPWUoW3MoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LlBvcHVwU2NlbmVMYXllclZpZXdcIildLGMpLGN9O2V4cG9ydHtpIGFzIFBvcHVwU2NlbmVMYXllclZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIGV9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7RGVmYXVsdDNEIGFzIGl9ZnJvbVwiLi4vbGliL0RlZmF1bHRWZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnMuanNcIjtpbXBvcnR7UHJvZ3JhbSBhcyB0fWZyb21cIi4uL2xpYi9Qcm9ncmFtLmpzXCI7aW1wb3J0e3N0ZW5jaWxXcml0ZU1hc2tPbiBhcyBvLHN0ZW5jaWxCYXNlQWxsWmVyb3NQYXJhbXMgYXMgc31mcm9tXCIuLi9saWIvU3RlbmNpbFV0aWxzLmpzXCI7aW1wb3J0e2IgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvUG9pbnRSZW5kZXJlci5nbHNsLmpzXCI7aW1wb3J0e0NvbXBhcmVGdW5jdGlvbiBhcyBsfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIGMsZGVmYXVsdERlcHRoV3JpdGVQYXJhbXMgYXMgYSxkZWZhdWx0Q29sb3JXcml0ZVBhcmFtcyBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgbSBleHRlbmRzIHJ7Y29uc3RydWN0b3IoZSxyLGkpe3N1cGVyKGUscixpKX1pbml0aWFsaXplUHJvZ3JhbShlKXtyZXR1cm4gbmV3IHQoZS5yY3R4LG0uc2hhZGVyLmdldCgpLmJ1aWxkKHRoaXMuY29uZmlndXJhdGlvbiksaSl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIGMoe2RlcHRoVGVzdDp7ZnVuYzpsLkxFU1N9LGRlcHRoV3JpdGU6YSxjb2xvcldyaXRlOnUsc3RlbmNpbFdyaXRlOnRoaXMuY29uZmlndXJhdGlvbi5oYXNPY2NsdWRlZXM/bzpudWxsLHN0ZW5jaWxUZXN0OnRoaXMuY29uZmlndXJhdGlvbi5oYXNPY2NsdWRlZXM/czpudWxsfSl9fW0uc2hhZGVyPW5ldyBlKG4sKCgpPT5pbXBvcnQoXCIuL1BvaW50UmVuZGVyZXIuZ2xzbC5qc1wiKSkpO2V4cG9ydHttIGFzIFBvaW50UmVuZGVyZXJUZWNobmlxdWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtTaGFkZXJPdXRwdXQgYXMgb31mcm9tXCIuLi9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e3BhcmFtZXRlciBhcyB0fWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7RGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgaX1mcm9tXCIuLi9tYXRlcmlhbHMvRGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtjbGFzcyByIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5vdXRwdXQ9by5Db2xvcix0aGlzLmhhc1NsaWNlUGxhbmU9ITEsdGhpcy5kcmF3U2NyZWVuU2l6ZT0hMSx0aGlzLnVzZUZpeGVkU2l6ZXM9ITEsdGhpcy5oYXNPY2NsdWRlZXM9ITEsdGhpcy5jbGlwcGluZ0VuYWJsZWQ9ITF9fWUoW3Qoe2NvdW50Om8uQ09VTlR9KV0sci5wcm90b3R5cGUsXCJvdXRwdXRcIix2b2lkIDApLGUoW3QoKV0sci5wcm90b3R5cGUsXCJoYXNTbGljZVBsYW5lXCIsdm9pZCAwKSxlKFt0KCldLHIucHJvdG90eXBlLFwiZHJhd1NjcmVlblNpemVcIix2b2lkIDApLGUoW3QoKV0sci5wcm90b3R5cGUsXCJ1c2VGaXhlZFNpemVzXCIsdm9pZCAwKSxlKFt0KCldLHIucHJvdG90eXBlLFwiaGFzT2NjbHVkZWVzXCIsdm9pZCAwKSxlKFt0KCldLHIucHJvdG90eXBlLFwiY2xpcHBpbmdFbmFibGVkXCIsdm9pZCAwKSxlKFt0KHtjb25zdFZhbHVlOiEwfSldLHIucHJvdG90eXBlLFwiaGFzU2xpY2VJblZlcnRleFByb2dyYW1cIix2b2lkIDApO2V4cG9ydHtyIGFzIFBvaW50UmVuZGVyZXJUZWNobmlxdWVDb25maWd1cmF0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e0lkZW50aWZpYWJsZU1peGluIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e0VzcmlQcm9taXNlTWl4aW4gYXMgbn1mcm9tXCIuLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgcH1mcm9tXCIuLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7bGV0IGQ9Y2xhc3MgZXh0ZW5kcyhzKG4oci5FdmVudGVkTWl4aW4odCkpKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBwLHRoaXMubGF5ZXI9bnVsbCx0aGlzLnBhcmVudD1udWxsfWluaXRpYWxpemUoKXt0aGlzLndoZW4oKS5jYXRjaCgoZT0+e2lmKFwibGF5ZXJ2aWV3OmNyZWF0ZS1lcnJvclwiIT09ZS5uYW1lKXtjb25zdCB0PXRoaXMubGF5ZXImJnRoaXMubGF5ZXIuaWR8fFwibm8gaWRcIixyPXRoaXMubGF5ZXI/LnRpdGxlfHxcIm5vIHRpdGxlXCI7aS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCIjcmVzb2x2ZSgpXCIsYEZhaWxlZCB0byByZXNvbHZlIGxheWVyIHZpZXcgKGxheWVyIHRpdGxlOiAnJHtyfScsIGlkOiAnJHt0fScpYCxlKX19KSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcz1vKHRoaXMuX3VwZGF0aW5nSGFuZGxlcyl9Z2V0IGZ1bGxPcGFjaXR5KCl7cmV0dXJuKHRoaXMubGF5ZXI/Lm9wYWNpdHk/PzEpKih0aGlzLnBhcmVudD8uZnVsbE9wYWNpdHk/PzEpfWdldCBzdXNwZW5kZWQoKXtyZXR1cm4hdGhpcy5jYW5SZXN1bWUoKX1nZXQgc3VzcGVuZEluZm8oKXtyZXR1cm4gdGhpcy5nZXRTdXNwZW5kSW5mbygpfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiYhMD09PXRoaXMubGF5ZXI/LmxlZ2VuZEVuYWJsZWR9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5fdXBkYXRpbmdIYW5kbGVzPy51cGRhdGluZyYmIXRoaXMuaXNVcGRhdGluZygpKX1nZXQgdXBkYXRpbmdQcm9ncmVzcygpe3JldHVybiB0aGlzLnVwZGF0aW5nPzA6MX1nZXQgdmlzaWJsZSgpe3JldHVybiEwPT09dGhpcy5sYXllcj8udmlzaWJsZX1zZXQgdmlzaWJsZShlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInZpc2libGVcIixlKX1jYW5SZXN1bWUoKXtyZXR1cm4gdGhpcy52aXNpYmxlJiZ0aGlzLmxheWVyPy5sb2FkZWQmJiF0aGlzLnBhcmVudD8uc3VzcGVuZGVkJiZ0aGlzLnZpZXc/LnJlYWR5fHwhMX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9dGhpcy5wYXJlbnQ/LnN1c3BlbmRlZD90aGlzLnBhcmVudC5zdXNwZW5kSW5mbzp7fSx0PXRoaXM7cmV0dXJuIHQudmlldz8ucmVhZHl8fChlLnZpZXdOb3RSZWFkeT0hMCksdGhpcy5sYXllciYmdGhpcy5sYXllci5sb2FkZWR8fChlLmxheWVyTm90TG9hZGVkPSEwKSx0aGlzLnZpc2libGV8fChlLmxheWVySW52aXNpYmxlPSEwKSxlfWlzVXBkYXRpbmcoKXtyZXR1cm4hMX19O2UoW2EoKV0sZC5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbYSgpXSxkLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInN1c3BlbmRJbmZvXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbYSh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxkPWUoW2woXCJlc3JpLnZpZXdzLmxheWVycy5MYXllclZpZXdcIildLGQpO2NvbnN0IHU9ZDtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==