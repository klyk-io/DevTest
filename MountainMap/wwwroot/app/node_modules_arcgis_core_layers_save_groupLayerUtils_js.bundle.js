"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_layers_save_groupLayerUtils_js"],{

/***/ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/originUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateOrigins: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../multiOriginJSONSupportUtils.js */ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{(0,_multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultiOriginJSONMixin)(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMultiOriginJSONMixin: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/save/groupLayerUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/save/groupLayerUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   save: () => (/* binding */ v),
/* harmony export */   saveAs: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/layers/save/utils.js");
/* harmony import */ var _portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../portal/support/jsonContext.js */ "./node_modules/@arcgis/core/portal/support/jsonContext.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/* harmony import */ var _webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webdoc/support/saveUtils.js */ "./node_modules/@arcgis/core/webdoc/support/saveUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i="Group Layer",u="group-layer-save",c="group-layer-save-as",l=_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_2__.TypeKeyword.GROUP_LAYER_MAP;function p(e){return{isValid:"group"===e.type,errorMessage:"Layer.type should be 'group'"}}function m(e){return{isValid:(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_2__.hasTypeKeyword)(e,l),errorMessage:`Layer.portalItem.typeKeywords should have '${l}'`}}function y(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function f(e,r){r.title||=e.title,(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_2__.addTypeKeyword)(r,l)}async function v(r,s){return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.save)({layer:r,itemType:i,validateLayer:p,validateItem:m,createJSONContext:e=>(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_1__.createForGroupLayerItemWrite)(e,r),createItemData:y,errorNamePrefix:u,saveResources:async(e,t)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),(0,_webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_3__.saveResources)(r.resourceReferences,t))},s)}async function d(e,s,a){return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.saveAs)({layer:e,itemType:i,validateLayer:p,createJSONContext:r=>(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_1__.createForGroupLayerItemWrite)(r,e),createItemData:y,errorNamePrefix:c,newItem:s,setItemProperties:f,saveResources:(r,t)=>(0,_webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_3__.saveResources)(e.resourceReferences,t)},a)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/save/utils.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/save/utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addItem: () => (/* binding */ v),
/* harmony export */   createErrorMessage: () => (/* binding */ m),
/* harmony export */   ensureItemConfig: () => (/* binding */ d),
/* harmony export */   ensureLayerConfig: () => (/* binding */ l),
/* harmony export */   getLayerJSON: () => (/* binding */ y),
/* harmony export */   getPortalItem: () => (/* binding */ u),
/* harmony export */   save: () => (/* binding */ I),
/* harmony export */   saveAs: () => (/* binding */ b),
/* harmony export */   setCommonItemProperties: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/originUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../portal/support/jsonContext.js */ "./node_modules/@arcgis/core/portal/support/jsonContext.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/* harmony import */ var _webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webdoc/saveAPIKeyUtils.js */ "./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(t,r,o){const a=o(t);if(!a.isValid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${r}:invalid-parameters`,a.errorMessage,{layer:t})}async function p(e){const{layer:t,errorNamePrefix:r,validateLayer:o}=e;await t.load(),l(t,r,o)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,itemType:o,errorNamePrefix:a,layer:i,validateItem:n}=t;if((0,_webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_6__.validateSaveAPIKey)(r),r.type!==o)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${a}:portal-item-wrong-type`,`Portal item type should be "${o}"`,{item:r,layer:i});if(n){const t=n(r);if(!t.isValid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${a}:invalid-parameters`,t.errorMessage,{layer:i})}}function d(t){const{layer:r,errorNamePrefix:o}=t,{portalItem:a}=r;if(!a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${o}:portal-item-not-set`,m(r,"requires the portalItem property to be set"));if(!a.loaded)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${o}:portal-item-not-loaded`,m(r,"cannot be saved to a portal item that does not exist or is inaccessible"));c({...t,item:a})}function u(e){const{newItem:t,itemType:a}=e;let i=_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_3__["default"].from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=a,i.portal??=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_2__["default"].getDefault(),c({...e,item:i}),i}function f(t,r){let o=(t.messages??[]).filter((({type:e})=>"error"===e)).map((({name:t,message:r,details:o})=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,r,o)));if(t.blockedRelativeUrls&&(o=o.concat(t.blockedRelativeUrls.map((t=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("url:unsupported",`Relative url '${t}' is not supported`))))),r?.ignoreUnsupported&&(o=o.filter((({name:e})=>"layer:unsupported"!==e&&"symbol:unsupported"!==e&&"symbol-layer:unsupported"!==e&&"property:unsupported"!==e&&"url:unsupported"!==e))),o.length>0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("layer-write:unsupported","Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:o})}async function y(e,t,r){"beforeSave"in e&&"function"==typeof e.beforeSave&&await e.beforeSave();const o=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),f(t,r),o}function w(e){(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.addTypeKeyword)(e,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.TypeKeyword.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const o=e.portal;await o.signIn(),await(o.user?.addItem({item:e,data:t,folder:r?.folder}))}async function I(e,r){const{layer:o,createItemData:i,createJSONContext:n,saveResources:s}=e;await p(e),d(e);const l=o.portalItem,m=n?n(l):(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_4__.createForItemWrite)(l),c=await y(o,m,r),u=await i({layer:o,layerJSON:c},l);return w(l),await l.update({data:u}),(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_1__.updateOrigins)(m),await(s?.(l,m)),l}async function b(e,r){const{layer:o,createItemData:i,createJSONContext:n,setItemProperties:s,saveResources:l}=e;await p(e);const m=u(e),c=n?n(m):(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_4__.createForItemWrite)(m),d=await y(o,c,r),f=await i({layer:o,layerJSON:d},m);return await s(o,m),w(m),await v(m,f,r),o.portalItem=m,(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_1__.updateOrigins)(c),await(l?.(m,c)),m}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/jsonContext.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/jsonContext.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createForGroupLayerItemRead: () => (/* binding */ l),
/* harmony export */   createForGroupLayerItemWrite: () => (/* binding */ a),
/* harmony export */   createForItemRead: () => (/* binding */ e),
/* harmony export */   createForItemWrite: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _Portal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){return{origin:"portal-item",url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl),portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl);return{origin:"portal-item",messages:[],writtenProperties:[],url:o,portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:"web-map",url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl),portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,readResourcePaths:[]}}function a(e,o){const l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl);return{origin:"web-map",messages:[],writtenProperties:[],url:l,portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,initiator:o,verifyItemRelativeUrls:l?{rootPath:l.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validateSaveAPIKey: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/apiKeyUtils.js */ "./node_modules/@arcgis/core/support/apiKeyUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){if(_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].apiKey&&(0,_support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_2__.supportsApiKey)(i.portal.url))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("save-api-key-utils:api-key-not-supported",`Saving is not supported on ${i.portal.url} when using an api key`)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19zYXZlX2dyb3VwTGF5ZXJVdGlsc19qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMyRSxjQUFjLHFEQUFxRCxnQ0FBZ0MsSUFBSSx1RkFBQywrQ0FBK0MsR0FBOEI7Ozs7Ozs7Ozs7Ozs7OztBQ0poUTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQWdGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o5RjtBQUNBO0FBQ0E7QUFDQTtBQUNpVCxxRUFBcUUsMkVBQUMsaUJBQWlCLGNBQWMsT0FBTyxzRUFBc0UsY0FBYyxPQUFPLFFBQVEsa0ZBQUMsaUVBQWlFLEVBQUUsSUFBSSxjQUFjLG9CQUFvQix3REFBd0Qsc0JBQXNCLGtCQUFrQixrRkFBQyxNQUFNLHNCQUFzQixPQUFPLCtDQUFDLEVBQUUsdUVBQXVFLDRGQUFDLG9JQUFvSSxHQUFHLDJFQUFDLDBCQUEwQixJQUFJLHdCQUF3QixPQUFPLGlEQUFDLEVBQUUsd0RBQXdELDRGQUFDLDRGQUE0RiwyRUFBQyx5QkFBeUIsSUFBa0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0psdEM7QUFDQTtBQUNBO0FBQ0E7QUFDcWEsa0JBQWtCLGFBQWEsd0JBQXdCLHNEQUFDLElBQUksRUFBRSxxQ0FBcUMsUUFBUSxFQUFFLG9CQUFvQixNQUFNLDBDQUEwQyxHQUFHLHdCQUF3QixnQkFBZ0IsdUJBQXVCLFFBQVEsUUFBUSxLQUFLLGFBQWEsZ0JBQWdCLElBQUksRUFBRSxFQUFFLGNBQWMsTUFBTSwyREFBMkQsR0FBRyxHQUFHLDhFQUFDLHlCQUF5QixzREFBQyxJQUFJLEVBQUUsd0RBQXdELEVBQUUsSUFBSSxlQUFlLEVBQUUsTUFBTSxhQUFhLHdCQUF3QixzREFBQyxJQUFJLEVBQUUscUNBQXFDLFFBQVEsR0FBRyxjQUFjLE1BQU0sMEJBQTBCLElBQUksYUFBYSxHQUFHLGdCQUFnQixzREFBQyxJQUFJLEVBQUUseUVBQXlFLHVCQUF1QixzREFBQyxJQUFJLEVBQUUseUdBQXlHLEdBQUcsWUFBWSxFQUFFLGNBQWMsTUFBTSxxQkFBcUIsR0FBRyxNQUFNLDZEQUFDLFNBQVMsMkRBQTJELHlEQUFDLGlCQUFpQixZQUFZLElBQUksZ0JBQWdCLGlDQUFpQyxPQUFPLHdCQUF3QiwyQkFBMkIsT0FBTyxzREFBQyxVQUFVLHdFQUF3RSxzREFBQyxvQ0FBb0MsRUFBRSw4REFBOEQsT0FBTyxnS0FBZ0ssc0RBQUMsNklBQTZJLFNBQVMsRUFBRSx3QkFBd0Isd0VBQXdFLGtCQUFrQixJQUFJLHNFQUFzRSxjQUFjLGtGQUFDLEdBQUcsMkVBQUMsNEZBQTRGLHdCQUF3QixpQkFBaUIsd0NBQXdDLCtCQUErQixHQUFHLHNCQUFzQixNQUFNLDZEQUE2RCxHQUFHLGdCQUFnQiw4QkFBOEIsa0ZBQUMsZ0NBQWdDLG9CQUFvQixJQUFJLDRCQUE0QixPQUFPLEVBQUUsbUZBQUMsc0JBQXNCLHNCQUFzQixNQUFNLGlGQUFpRixHQUFHLFdBQVcsc0JBQXNCLGtGQUFDLGdDQUFnQyxvQkFBb0IsSUFBSSx1REFBdUQsbUZBQUMsc0JBQXdNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3cEc7QUFDQTtBQUNBO0FBQ0E7QUFDaUYsY0FBYyxPQUFPLHlCQUF5Qiw4REFBQyw2QkFBNkIsa0RBQUMsaURBQWlELGNBQWMsUUFBUSw4REFBQyxZQUFZLE9BQU8sNkVBQTZFLGtEQUFDLHFEQUFxRCwrQkFBK0IsOEJBQThCLGNBQWMsT0FBTyxxQkFBcUIsOERBQUMsNkJBQTZCLGtEQUFDLGlEQUFpRCxnQkFBZ0IsUUFBUSw4REFBQyxZQUFZLE9BQU8seUVBQXlFLGtEQUFDLGlFQUFpRSwrQkFBK0Isd0NBQXdDLHNEQUFnTDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmorQjtBQUNBO0FBQ0E7QUFDQTtBQUN1SCxjQUFjLEdBQUcsa0RBQUMsU0FBUyx1RUFBQyx5QkFBeUIsc0RBQUMsMEVBQTBFLGNBQWMsd0JBQXdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvYWNjZXNzb3JTdXBwb3J0L29yaWdpblV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL211bHRpT3JpZ2luSlNPTlN1cHBvcnRVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3NhdmUvZ3JvdXBMYXllclV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc2F2ZS91dGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcG9ydGFsL3N1cHBvcnQvanNvbkNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYmRvYy9zYXZlQVBJS2V5VXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc011bHRpT3JpZ2luSlNPTk1peGluIGFzIHJ9ZnJvbVwiLi4vbXVsdGlPcmlnaW5KU09OU3VwcG9ydFV0aWxzLmpzXCI7ZnVuY3Rpb24gaShpKXtpPy53cml0dGVuUHJvcGVydGllcyYmaS53cml0dGVuUHJvcGVydGllcy5mb3JFYWNoKCgoe3RhcmdldDppLHByb3BOYW1lOnQsbmV3T3JpZ2luOmV9KT0+e3IoaSkmJmUmJmkub3JpZ2luT2YodCkhPT1lJiZpLnVwZGF0ZU9yaWdpbih0LGUpfSkpfWV4cG9ydHtpIGFzIHVwZGF0ZU9yaWdpbnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGkoaSl7cmV0dXJuIGkmJlwiZ2V0QXRPcmlnaW5cImluIGkmJlwib3JpZ2luT2ZcImluIGl9ZXhwb3J0e2kgYXMgaXNNdWx0aU9yaWdpbkpTT05NaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3NhdmUgYXMgZSxzYXZlQXMgYXMgcn1mcm9tXCIuL3V0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZUZvckdyb3VwTGF5ZXJJdGVtV3JpdGUgYXMgdH1mcm9tXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9qc29uQ29udGV4dC5qc1wiO2ltcG9ydHtUeXBlS2V5d29yZCBhcyBzLGhhc1R5cGVLZXl3b3JkIGFzIGEsYWRkVHlwZUtleXdvcmQgYXMgb31mcm9tXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9wb3J0YWxJdGVtVXRpbHMuanNcIjtpbXBvcnR7c2F2ZVJlc291cmNlcyBhcyBufWZyb21cIi4uLy4uL3dlYmRvYy9zdXBwb3J0L3NhdmVVdGlscy5qc1wiO2NvbnN0IGk9XCJHcm91cCBMYXllclwiLHU9XCJncm91cC1sYXllci1zYXZlXCIsYz1cImdyb3VwLWxheWVyLXNhdmUtYXNcIixsPXMuR1JPVVBfTEFZRVJfTUFQO2Z1bmN0aW9uIHAoZSl7cmV0dXJue2lzVmFsaWQ6XCJncm91cFwiPT09ZS50eXBlLGVycm9yTWVzc2FnZTpcIkxheWVyLnR5cGUgc2hvdWxkIGJlICdncm91cCdcIn19ZnVuY3Rpb24gbShlKXtyZXR1cm57aXNWYWxpZDphKGUsbCksZXJyb3JNZXNzYWdlOmBMYXllci5wb3J0YWxJdGVtLnR5cGVLZXl3b3JkcyBzaG91bGQgaGF2ZSAnJHtsfSdgfX1mdW5jdGlvbiB5KGUpe2NvbnN0IHI9ZS5sYXllckpTT047cmV0dXJuIFByb21pc2UucmVzb2x2ZShyJiZPYmplY3Qua2V5cyhyKS5sZW5ndGg/cjpudWxsKX1hc3luYyBmdW5jdGlvbiBmKGUscil7ci50aXRsZXx8PWUudGl0bGUsbyhyLGwpfWFzeW5jIGZ1bmN0aW9uIHYocixzKXtyZXR1cm4gZSh7bGF5ZXI6cixpdGVtVHlwZTppLHZhbGlkYXRlTGF5ZXI6cCx2YWxpZGF0ZUl0ZW06bSxjcmVhdGVKU09OQ29udGV4dDplPT50KGUsciksY3JlYXRlSXRlbURhdGE6eSxlcnJvck5hbWVQcmVmaXg6dSxzYXZlUmVzb3VyY2VzOmFzeW5jKGUsdCk9PihyLnNvdXJjZUlzUG9ydGFsSXRlbXx8YXdhaXQgZS5yZW1vdmVBbGxSZXNvdXJjZXMoKS5jYXRjaCgoKCk9Pnt9KSksbihyLnJlc291cmNlUmVmZXJlbmNlcyx0KSl9LHMpfWFzeW5jIGZ1bmN0aW9uIGQoZSxzLGEpe3JldHVybiByKHtsYXllcjplLGl0ZW1UeXBlOmksdmFsaWRhdGVMYXllcjpwLGNyZWF0ZUpTT05Db250ZXh0OnI9PnQocixlKSxjcmVhdGVJdGVtRGF0YTp5LGVycm9yTmFtZVByZWZpeDpjLG5ld0l0ZW06cyxzZXRJdGVtUHJvcGVydGllczpmLHNhdmVSZXNvdXJjZXM6KHIsdCk9Pm4oZS5yZXNvdXJjZVJlZmVyZW5jZXMsdCl9LGEpfWV4cG9ydHt2IGFzIHNhdmUsZCBhcyBzYXZlQXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7dXBkYXRlT3JpZ2lucyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L29yaWdpblV0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vcG9ydGFsL1BvcnRhbC5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL3BvcnRhbC9Qb3J0YWxJdGVtLmpzXCI7aW1wb3J0e2NyZWF0ZUZvckl0ZW1Xcml0ZSBhcyBhfWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L2pzb25Db250ZXh0LmpzXCI7aW1wb3J0e2FkZFR5cGVLZXl3b3JkIGFzIGksVHlwZUtleXdvcmQgYXMgbn1mcm9tXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9wb3J0YWxJdGVtVXRpbHMuanNcIjtpbXBvcnR7dmFsaWRhdGVTYXZlQVBJS2V5IGFzIHN9ZnJvbVwiLi4vLi4vd2ViZG9jL3NhdmVBUElLZXlVdGlscy5qc1wiO2Z1bmN0aW9uIGwodCxyLG8pe2NvbnN0IGE9byh0KTtpZighYS5pc1ZhbGlkKXRocm93IG5ldyBlKGAke3J9OmludmFsaWQtcGFyYW1ldGVyc2AsYS5lcnJvck1lc3NhZ2Use2xheWVyOnR9KX1hc3luYyBmdW5jdGlvbiBwKGUpe2NvbnN0e2xheWVyOnQsZXJyb3JOYW1lUHJlZml4OnIsdmFsaWRhdGVMYXllcjpvfT1lO2F3YWl0IHQubG9hZCgpLGwodCxyLG8pfWZ1bmN0aW9uIG0oZSx0KXtyZXR1cm5gTGF5ZXIgKHRpdGxlOiAke2UudGl0bGV9LCBpZDogJHtlLmlkfSkgb2YgdHlwZSAnJHtlLmRlY2xhcmVkQ2xhc3N9JyAke3R9YH1mdW5jdGlvbiBjKHQpe2NvbnN0e2l0ZW06cixpdGVtVHlwZTpvLGVycm9yTmFtZVByZWZpeDphLGxheWVyOmksdmFsaWRhdGVJdGVtOm59PXQ7aWYocyhyKSxyLnR5cGUhPT1vKXRocm93IG5ldyBlKGAke2F9OnBvcnRhbC1pdGVtLXdyb25nLXR5cGVgLGBQb3J0YWwgaXRlbSB0eXBlIHNob3VsZCBiZSBcIiR7b31cImAse2l0ZW06cixsYXllcjppfSk7aWYobil7Y29uc3QgdD1uKHIpO2lmKCF0LmlzVmFsaWQpdGhyb3cgbmV3IGUoYCR7YX06aW52YWxpZC1wYXJhbWV0ZXJzYCx0LmVycm9yTWVzc2FnZSx7bGF5ZXI6aX0pfX1mdW5jdGlvbiBkKHQpe2NvbnN0e2xheWVyOnIsZXJyb3JOYW1lUHJlZml4Om99PXQse3BvcnRhbEl0ZW06YX09cjtpZighYSl0aHJvdyBuZXcgZShgJHtvfTpwb3J0YWwtaXRlbS1ub3Qtc2V0YCxtKHIsXCJyZXF1aXJlcyB0aGUgcG9ydGFsSXRlbSBwcm9wZXJ0eSB0byBiZSBzZXRcIikpO2lmKCFhLmxvYWRlZCl0aHJvdyBuZXcgZShgJHtvfTpwb3J0YWwtaXRlbS1ub3QtbG9hZGVkYCxtKHIsXCJjYW5ub3QgYmUgc2F2ZWQgdG8gYSBwb3J0YWwgaXRlbSB0aGF0IGRvZXMgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZVwiKSk7Yyh7Li4udCxpdGVtOmF9KX1mdW5jdGlvbiB1KGUpe2NvbnN0e25ld0l0ZW06dCxpdGVtVHlwZTphfT1lO2xldCBpPW8uZnJvbSh0KTtyZXR1cm4gaS5pZCYmKGk9aS5jbG9uZSgpLGkuaWQ9bnVsbCksaS50eXBlPz89YSxpLnBvcnRhbD8/PXIuZ2V0RGVmYXVsdCgpLGMoey4uLmUsaXRlbTppfSksaX1mdW5jdGlvbiBmKHQscil7bGV0IG89KHQubWVzc2FnZXM/P1tdKS5maWx0ZXIoKCh7dHlwZTplfSk9PlwiZXJyb3JcIj09PWUpKS5tYXAoKCh7bmFtZTp0LG1lc3NhZ2U6cixkZXRhaWxzOm99KT0+bmV3IGUodCxyLG8pKSk7aWYodC5ibG9ja2VkUmVsYXRpdmVVcmxzJiYobz1vLmNvbmNhdCh0LmJsb2NrZWRSZWxhdGl2ZVVybHMubWFwKCh0PT5uZXcgZShcInVybDp1bnN1cHBvcnRlZFwiLGBSZWxhdGl2ZSB1cmwgJyR7dH0nIGlzIG5vdCBzdXBwb3J0ZWRgKSkpKSkscj8uaWdub3JlVW5zdXBwb3J0ZWQmJihvPW8uZmlsdGVyKCgoe25hbWU6ZX0pPT5cImxheWVyOnVuc3VwcG9ydGVkXCIhPT1lJiZcInN5bWJvbDp1bnN1cHBvcnRlZFwiIT09ZSYmXCJzeW1ib2wtbGF5ZXI6dW5zdXBwb3J0ZWRcIiE9PWUmJlwicHJvcGVydHk6dW5zdXBwb3J0ZWRcIiE9PWUmJlwidXJsOnVuc3VwcG9ydGVkXCIhPT1lKSkpLG8ubGVuZ3RoPjApdGhyb3cgbmV3IGUoXCJsYXllci13cml0ZTp1bnN1cHBvcnRlZFwiLFwiRmFpbGVkIHRvIHNhdmUgbGF5ZXIgZHVlIHRvIHVuc3VwcG9ydGVkIG9yIGludmFsaWQgY29udGVudC4gU2VlICdkZXRhaWxzLmVycm9ycycgZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb25cIix7ZXJyb3JzOm99KX1hc3luYyBmdW5jdGlvbiB5KGUsdCxyKXtcImJlZm9yZVNhdmVcImluIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYmVmb3JlU2F2ZSYmYXdhaXQgZS5iZWZvcmVTYXZlKCk7Y29uc3Qgbz1lLndyaXRlKHt9LHQpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbCh0LnJlc291cmNlcz8ucGVuZGluZ09wZXJhdGlvbnM/P1tdKSxmKHQsciksb31mdW5jdGlvbiB3KGUpe2koZSxuLkpTQVBJKSxlLnR5cGVLZXl3b3JkcyYmKGUudHlwZUtleXdvcmRzPWUudHlwZUtleXdvcmRzLmZpbHRlcigoKGUsdCxyKT0+ci5pbmRleE9mKGUpPT09dCkpKX1hc3luYyBmdW5jdGlvbiB2KGUsdCxyKXtjb25zdCBvPWUucG9ydGFsO2F3YWl0IG8uc2lnbkluKCksYXdhaXQoby51c2VyPy5hZGRJdGVtKHtpdGVtOmUsZGF0YTp0LGZvbGRlcjpyPy5mb2xkZXJ9KSl9YXN5bmMgZnVuY3Rpb24gSShlLHIpe2NvbnN0e2xheWVyOm8sY3JlYXRlSXRlbURhdGE6aSxjcmVhdGVKU09OQ29udGV4dDpuLHNhdmVSZXNvdXJjZXM6c309ZTthd2FpdCBwKGUpLGQoZSk7Y29uc3QgbD1vLnBvcnRhbEl0ZW0sbT1uP24obCk6YShsKSxjPWF3YWl0IHkobyxtLHIpLHU9YXdhaXQgaSh7bGF5ZXI6byxsYXllckpTT046Y30sbCk7cmV0dXJuIHcobCksYXdhaXQgbC51cGRhdGUoe2RhdGE6dX0pLHQobSksYXdhaXQocz8uKGwsbSkpLGx9YXN5bmMgZnVuY3Rpb24gYihlLHIpe2NvbnN0e2xheWVyOm8sY3JlYXRlSXRlbURhdGE6aSxjcmVhdGVKU09OQ29udGV4dDpuLHNldEl0ZW1Qcm9wZXJ0aWVzOnMsc2F2ZVJlc291cmNlczpsfT1lO2F3YWl0IHAoZSk7Y29uc3QgbT11KGUpLGM9bj9uKG0pOmEobSksZD1hd2FpdCB5KG8sYyxyKSxmPWF3YWl0IGkoe2xheWVyOm8sbGF5ZXJKU09OOmR9LG0pO3JldHVybiBhd2FpdCBzKG8sbSksdyhtKSxhd2FpdCB2KG0sZixyKSxvLnBvcnRhbEl0ZW09bSx0KGMpLGF3YWl0KGw/LihtLGMpKSxtfWV4cG9ydHt2IGFzIGFkZEl0ZW0sbSBhcyBjcmVhdGVFcnJvck1lc3NhZ2UsZCBhcyBlbnN1cmVJdGVtQ29uZmlnLGwgYXMgZW5zdXJlTGF5ZXJDb25maWcseSBhcyBnZXRMYXllckpTT04sdSBhcyBnZXRQb3J0YWxJdGVtLEkgYXMgc2F2ZSxiIGFzIHNhdmVBcyx3IGFzIHNldENvbW1vbkl0ZW1Qcm9wZXJ0aWVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dXJsVG9PYmplY3QgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vUG9ydGFsLmpzXCI7ZnVuY3Rpb24gZShlKXtyZXR1cm57b3JpZ2luOlwicG9ydGFsLWl0ZW1cIix1cmw6dChlLml0ZW1VcmwpLHBvcnRhbDplLnBvcnRhbHx8ci5nZXREZWZhdWx0KCkscG9ydGFsSXRlbTplLHJlYWRSZXNvdXJjZVBhdGhzOltdfX1mdW5jdGlvbiBvKGUpe2NvbnN0IG89dChlLml0ZW1VcmwpO3JldHVybntvcmlnaW46XCJwb3J0YWwtaXRlbVwiLG1lc3NhZ2VzOltdLHdyaXR0ZW5Qcm9wZXJ0aWVzOltdLHVybDpvLHBvcnRhbDplLnBvcnRhbHx8ci5nZXREZWZhdWx0KCkscG9ydGFsSXRlbTplLHZlcmlmeUl0ZW1SZWxhdGl2ZVVybHM6bz97cm9vdFBhdGg6by5wYXRoLHdyaXR0ZW5VcmxzOltdfTpudWxsLGJsb2NrZWRSZWxhdGl2ZVVybHM6W119fWZ1bmN0aW9uIGwoZSl7cmV0dXJue29yaWdpbjpcIndlYi1tYXBcIix1cmw6dChlLml0ZW1VcmwpLHBvcnRhbDplLnBvcnRhbHx8ci5nZXREZWZhdWx0KCkscG9ydGFsSXRlbTplLHJlYWRSZXNvdXJjZVBhdGhzOltdfX1mdW5jdGlvbiBhKGUsbyl7Y29uc3QgbD10KGUuaXRlbVVybCk7cmV0dXJue29yaWdpbjpcIndlYi1tYXBcIixtZXNzYWdlczpbXSx3cml0dGVuUHJvcGVydGllczpbXSx1cmw6bCxwb3J0YWw6ZS5wb3J0YWx8fHIuZ2V0RGVmYXVsdCgpLHBvcnRhbEl0ZW06ZSxpbml0aWF0b3I6byx2ZXJpZnlJdGVtUmVsYXRpdmVVcmxzOmw/e3Jvb3RQYXRoOmwucGF0aCx3cml0dGVuVXJsczpbXX06bnVsbCxibG9ja2VkUmVsYXRpdmVVcmxzOltdLHJlc291cmNlczp7dG9BZGQ6W10sdG9VcGRhdGU6W10sdG9LZWVwOltdLHBlbmRpbmdPcGVyYXRpb25zOltdfX19ZXhwb3J0e2wgYXMgY3JlYXRlRm9yR3JvdXBMYXllckl0ZW1SZWFkLGEgYXMgY3JlYXRlRm9yR3JvdXBMYXllckl0ZW1Xcml0ZSxlIGFzIGNyZWF0ZUZvckl0ZW1SZWFkLG8gYXMgY3JlYXRlRm9ySXRlbVdyaXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgbyBmcm9tXCIuLi9jb25maWcuanNcIjtpbXBvcnQgciBmcm9tXCIuLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3N1cHBvcnRzQXBpS2V5IGFzIHB9ZnJvbVwiLi4vc3VwcG9ydC9hcGlLZXlVdGlscy5qc1wiO2Z1bmN0aW9uIGkoaSl7aWYoby5hcGlLZXkmJnAoaS5wb3J0YWwudXJsKSl0aHJvdyBuZXcgcihcInNhdmUtYXBpLWtleS11dGlsczphcGkta2V5LW5vdC1zdXBwb3J0ZWRcIixgU2F2aW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gJHtpLnBvcnRhbC51cmx9IHdoZW4gdXNpbmcgYW4gYXBpIGtleWApfWV4cG9ydHtpIGFzIHZhbGlkYXRlU2F2ZUFQSUtleX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=