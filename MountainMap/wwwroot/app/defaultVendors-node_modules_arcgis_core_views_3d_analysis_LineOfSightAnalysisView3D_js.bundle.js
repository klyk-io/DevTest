"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_analysis_LineOfSightAnalysisView3D_js"],{

/***/ "./node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./featureReferenceUtils.js */ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/persistable.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../symbols/support/ElevationInfo.js */ "./node_modules/@arcgis/core/symbols/support/ElevationInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let f=class extends((0,_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.JSONSupportMixin)((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_3__.ClonableMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.equalsMaybe)(this.position,o.position)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.equalsMaybe)(this.elevationInfo,o.elevationInfo)&&(0,_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.featureReferenceEquals)(this.feature,o.feature)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{write:{isRequired:!0}}})],f.prototype,"position",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"]}),(0,_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_11__.persistable)()],f.prototype,"elevationInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.featureReferenceProperty)],f.prototype,"feature",void 0),f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.analysis.LineOfSightAnalysisObserver")],f);const u=f;


/***/ }),

/***/ "./node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./featureReferenceUtils.js */ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/decorators/persistable.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../symbols/support/ElevationInfo.js */ "./node_modules/@arcgis/core/symbols/support/ElevationInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let l=class extends((0,_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupportMixin)(_core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__.Clonable)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.equalsMaybe)(this.position,o.position)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.equalsMaybe)(this.elevationInfo,o.elevationInfo)&&(0,_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.featureReferenceEquals)(this.feature,o.feature)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]}),(0,_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_10__.persistable)()],l.prototype,"position",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"]}),(0,_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_10__.persistable)()],l.prototype,"elevationInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)(_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.featureReferenceProperty)],l.prototype,"feature",void 0),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.analysis.LineOfSightAnalysisTarget")],l);const f=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/analysis/featureReferenceUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   featureReferenceEquals: () => (/* binding */ e),
/* harmony export */   featureReferenceProperty: () => (/* binding */ l),
/* harmony export */   getFeatureId: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,l){return t(e)===t(l)}function t(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let l=null;return l=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==l?null:`o-${t}-${l}`}const l={json:{write:{writer:r,target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:n}}}};function r(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function n(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   persistable: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _MD5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MD5.js */ "./node_modules/@arcgis/core/core/MD5.js");
/* harmony import */ var _multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../multiOriginJSONSupportUtils.js */ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js");
/* harmony import */ var _urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _uuid_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../metadata.js */ "./node_modules/@arcgis/core/core/accessorSupport/metadata.js");
/* harmony import */ var _PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../portal/support/resourceExtension.js */ "./node_modules/@arcgis/core/portal/support/resourceExtension.js");
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../chunks/persistableUrlUtils.js */ "./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function j(t){const r=t?.origins??[void 0];return(e,o)=>{const s=U(t,e,o);for(const t of r){const r=(0,_property_js__WEBPACK_IMPORTED_MODULE_7__.propertyJSONMeta)(e,t,o);for(const t in s)r[t]=s[t]}}}function U(t,r,e){if("resource"===t?.type)return w(t,r,e);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:r}=_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.a;return{read:t,write:r}}}}function w(t,r,n){const i=(0,_metadata_js__WEBPACK_IMPORTED_MODULE_5__.getPropertyMetadata)(r,n);return{type:String,read:(t,r,e)=>{const o=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.r)(t,r,e);return i.type===String?o:"function"==typeof i.type?new i.type({url:o}):void 0},write:{writer(r,p,c,u){if(!u?.resources)return"string"==typeof r?void(p[c]=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.t)(r,u)):void(p[c]=r.write({},u));const l=x(r),m=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.t)(l,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.M.NO),d=i.type!==String&&(!(0,_multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_2__.isMultiOriginJSONMixin)(this)||u?.origin&&this.originIdOf(n)>(0,_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_6__.nameToId)(u.origin)),h={object:this,propertyName:n,value:r,targetUrl:m,dest:p,targetPropertyName:c,context:u,params:t};u?.portalItem&&m&&!(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbsolute)(m)?d&&t?.contentAddressed?I(h):d?N(h):P(h):u?.portalItem&&(null==m||null!=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.i)(m)||(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isBlobProtocol)(m)||d)?I(h):p[c]=m}}}}function I(e){const{targetUrl:o,params:p,value:u,context:a,dest:l,targetPropertyName:d}=e;if(!a.portalItem)return;const f=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.p)(o),y=b(u,o,a);if(p?.contentAddressed&&"json"!==y.type)return void a.messages?.push(new _Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("persistable:contentAddressingUnsupported",`Property "${d}" is trying to serializing a resource with content of type ${y.type} with content addressing. Content addressing is only supported for json resources.`,{content:y}));const g=p?.contentAddressed&&"json"===y.type?(0,_MD5_js__WEBPACK_IMPORTED_MODULE_1__.createMD5Hash)(y.jsonString):f?.filename??(0,_uuid_js__WEBPACK_IMPORTED_MODULE_4__.generateUUID)(),v=(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(p?.prefix??f?.prefix,g),j=`${v}.${(0,_portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__.getResourceContentExtension)(y)}`;if(p?.contentAddressed&&a.resources&&"json"===y.type){const t=a.resources.toKeep.find((t=>t.resource.path===j))??a.resources.toAdd.find((t=>t.resource.path===j));if(t)return void(l[d]=t.resource.itemRelativeUrl)}const U=a.portalItem.resourceFromPath(j);(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isBlobProtocol)(o)&&a.resources&&a.resources.pendingOperations.push((0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.blobUrlToBlob)(o).then((t=>{U.path=`${v}.${(0,_portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__.getResourceContentExtension)({type:"blob",blob:t})}`,l[d]=U.itemRelativeUrl})).catch((()=>{})));const w=p?.compress??!1;a.resources&&S({...e,resource:U,content:y,compress:w,updates:a.resources.toAdd}),l[d]=U.itemRelativeUrl}function N(t){const{context:r,targetUrl:e,params:o,value:s,dest:n,targetPropertyName:i}=t;if(!r.portalItem)return;const c=r.portalItem.resourceFromPath(e),u=b(s,e,r),a=(0,_portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__.getResourceContentExtension)(u),l=(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.getPathExtension)(c.path),d=o?.compress??!1;a===l?(r.resources&&S({...t,resource:c,content:u,compress:d,updates:r.resources.toUpdate}),n[i]=e):I(t)}function P({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function S({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){e.push({resource:o,content:s,compress:n,finish:e=>{O(t,r,e)}})}function b(t,r,e){return"string"==typeof t?{type:"url",url:r}:{type:"json",jsonString:JSON.stringify(t.toJSON(e))}}function x(t){return null==t?null:"string"==typeof t?t:t.url}function O(t,r,e){"string"==typeof t[r]?t[r]=e.url:t[r].url=e.url}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMultiOriginJSONMixin: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/resourceExtension.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceExtension.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getResourceContentExtension: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(i){return o[t(i)]||e}function t(i){return"json"===i.type?"application/json":"blob"===i.type?i.blob.type:n(i.url)}function n(p){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.getPathExtension)(p);return g[t]||a}const o={},a="text/plain",e=o[a],g={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const l in g)o[g[l]]=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightAnalysisResult: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"target",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"intersectedGraphic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"intersectedLocation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"elevationAlignedTargetLocation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Boolean})],s.prototype,"visible",void 0),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.analysis.LineOfSightAnalysisResult")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AnalysisView3D.js */ "./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js");
/* harmony import */ var _LineOfSight_LineOfSightController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LineOfSight/LineOfSightController.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js");
/* harmony import */ var _LineOfSight_LineOfSightTool_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LineOfSight/LineOfSightTool.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js");
/* harmony import */ var _LineOfSight_LineOfSightVisualization_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./LineOfSight/LineOfSightVisualization.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js");
/* harmony import */ var _analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../analysis/analysisViewUtils.js */ "./node_modules/@arcgis/core/views/analysis/analysisViewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let m=class extends((0,_AnalysisView3D_js__WEBPACK_IMPORTED_MODULE_11__.AnalysisView3D)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_3__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]))){constructor(t){super(t),this.type="line-of-sight-view-3d",this.analysis=null,this.tool=null,this.computations=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.elevationAlignedObserver=null,this.observerEngineLocation=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new _LineOfSight_LineOfSightController_js__WEBPACK_IMPORTED_MODULE_12__.LineOfSightController({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new _LineOfSight_LineOfSightVisualization_js__WEBPACK_IMPORTED_MODULE_14__.LineOfSightVisualization({analysis:i,analysisViewData:this,view:t,isDecoration:!this.parent}),this.addHandles([this._analysisController.on("result-changed",(t=>{t.target!==this.cursorTarget&&this.emit("result-changed",t)})),(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_15__.connectAnalysisViewToTool)(this,_LineOfSight_LineOfSightTool_js__WEBPACK_IMPORTED_MODULE_13__.LineOfSightTool)])}destroy(){(0,_analysis_analysisViewUtils_js__WEBPACK_IMPORTED_MODULE_15__.removeAnalysisViewTool)(this),this._analysisController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._analysisController),this._analysisVisualization=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return null!=this._analysisController&&this._analysisController.updating||null!=this._analysisVisualization&&this._analysisVisualization.updating}getResultForTarget(t){return this.computations.find((i=>i.target===t))?.result}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0,nonNullable:!0})],m.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"tool",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"results",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"priority",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"computations",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"elevationAlignedObserver",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"observerEngineLocation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"cursorTarget",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"editable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"_analysisController",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"_analysisVisualization",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.analysis.LineOfSightAnalysisView3D")],m);const d=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightComputation: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),observerSurfaceNormal:null,observerFeatureId:null,target:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),targetAdjusted:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)()},this.computationResult={start:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),end:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),intersection:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange("computationResult")}notifyInputPointsChanged(){this.notifyChange("inputPoints")}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"target",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"elevationAlignedTargetLocation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"inputPoints",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"computationResult",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"result",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.analysis.LineOfSight.LineOfSightComputation")],i);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getLaserLineColors: () => (/* binding */ s),
/* harmony export */   getObserverRGBA: () => (/* binding */ l),
/* harmony export */   laserLineConfiguration: () => (/* binding */ r),
/* harmony export */   lineOfSightConfiguration: () => (/* binding */ w),
/* harmony export */   observerConfiguration: () => (/* binding */ c),
/* harmony export */   targetConfiguration: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(){this.glowWidth=8,this.innerWidth=.75}}const r=new e;function s(o){const t=o.accentColor;return{glowColor:t,innerColor:(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.getContrast)(t),globalAlpha:.75*t.a}}class i{constructor(){this.size=.5}}const c=new i;function l(o){return (0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.multiplyOpacityToUnitRGBA)(o.accentColor,.75)}class h{constructor(){this.size=.5,this.visibleColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([3,252,111,.75]),this.occludedColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([252,3,69,.75]),this.undefinedColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([127,127,127,.75])}}const u=new h;class d{constructor(){this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([3,252,111,1]),this.visibleOuterColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([3,252,111,.15]),this.occludedInnerColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([252,3,69,1]),this.occludedOuterColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([252,3,69,.1]),this.undefinedInnerColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([255,255,255,1]),this.undefinedOuterColor=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([127,127,127,.2])}}const w=new d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightController: () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../analysis/featureReferenceUtils.js */ "./node_modules/@arcgis/core/analysis/featureReferenceUtils.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../geometry/projection/projectBoundingRect.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingRect.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _LineOfSightAnalysisResult_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../LineOfSightAnalysisResult.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js");
/* harmony import */ var _LineOfSightComputation_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./LineOfSightComputation.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js");
/* harmony import */ var _LineOfSightRayIntersector_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./LineOfSightRayIntersector.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js");
/* harmony import */ var _support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../support/projectionUtils.js */ "./node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/intersectorUtilsConversions.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtilsConversions.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const M="esri.views.3d.analysis.LineOfSight.LineOfSightController",Z=_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger(M);let B=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_5__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__["default"])){constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode="absolute-height",this._observerFeatureId=null,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_19__.UpdatingHandles,this._frameTask=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__.ImmediateTask,this._computationHandles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_6__["default"],this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__.TaskPriority.LINE_OF_SIGHT_TOOL):_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__.ImmediateTask,this._intersector=new _LineOfSightRayIntersector_js__WEBPACK_IMPORTED_MODULE_27__.LineOfSightRayIntersector({view:this.view}),this.addHandles([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:n,computationResult:o}=t,{observerAdjusted:i,targetAdjusted:r}=n,{start:s,end:a}=o;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(s,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(a,r);this._canCompute(t)?this._computeIntersection(e):this._interpolateIntersection(e),t.notifyResultChanged(),this.emit("result-changed",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const n=this.view,{sceneIntersectionHelper:o}=n,{inputPoints:i}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:l}=i;if(null==s&&null==a)return;const u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.o)(r,l),c=this._intersector.intersector,d=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_23__.fromPoints)(i.observer,i.target,K);c.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_29__.StoreResults.ALL,o.intersectToolIntersectorRay(d,c);let p=null,g=null,h=null,v=null;for(const m of c.results.all){const e=(0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_30__.toGraphic)(m,this.view);if(null==e||null==m.distanceInRenderSpace)continue;const o=(0,_analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.getFeatureId)(e);null!=o&&(null!=s&&o===s&&(null==p&&(p=this._getFeatureDistanceThreshold(m,n,u)),m.distanceInRenderSpace<p&&(h=m)),null!=a&&o===a&&(null==g&&(g=this._getFeatureDistanceThreshold(m,n,u)),null==v&&m.distanceInRenderSpace<u&&u-m.distanceInRenderSpace<g&&(v=m)))}null!=h&&h.getIntersectionPoint(r)&&(i.observerSurfaceNormal=h.getTransformedNormal((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)())),null!=v&&v.getIntersectionPoint(l)&&(i.targetSurfaceNormal=v.getTransformedNormal((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)()))}_getFeatureDistanceThreshold(e,t,n){if((0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_30__.hasLod)(e)){const o=(0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_30__.getIntersectedFeatureBSRadius)(e,t);if(null!=o)return Math.min(o*W,n)}return 1e-5*n}_adjustStartEndPositions(e){const t=this._screenPixelSize,n=this.view,{inputPoints:o}=e,{observer:i,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:l,targetAdjusted:u}=o,c=J;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(l,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(u,s),this._updateAdjustedPointsFromFeatures(e),null!=r?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(c,r):(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.f)(c,u,l);const d=t;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.n)(c,c),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.i)(c,c,Math.min(d,1)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.g)(l,l,c),null!=a?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(c,a):(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.f)(c,l,u);const p=n.state.camera.computeScreenPixelSizeAt(u);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.n)(c,c),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.i)(c,c,Math.min(p,1)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.g)(u,u,c)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:n}=this,{sceneIntersectionHelper:o,renderCoordsHelper:i}=n;if(null==o)return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:c,end:d}=s,p=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_23__.fromPoints)(c,d,K);r.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_29__.StoreResults.MIN,o.intersectToolIntersectorRay(p,r);const g=r.results.min,m=s.intersection,v=J;let f=!0;if(null!=g&&g.getIntersectionPoint(m)){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(t.originalIntersection,m),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(t.originalObserver,c),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(t.originalTarget,d),i.fromRenderCoords(m,v,n.spatialReference);const e=1-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.r)(d,u)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.r)(c,u);f=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.r)(l,m)>=e*(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.r)(l,u)}const _=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__["default"](v,n.spatialReference);{const{result:t,target:o}=e;null!=t?(t.target=o,t.intersectedGraphic=f?null:(0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_30__.toGraphic)(g,n),t.intersectedLocation=f?null:_,t.visible=f):e.result=new _LineOfSightAnalysisResult_js__WEBPACK_IMPORTED_MODULE_25__.LineOfSightAnalysisResult({target:o,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:f?null:(0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_30__.toGraphic)(g,n),intersectedLocation:f?null:_,visible:f})}s.isValid=a.isValid=!0,s.isTargetVisible=f}_interpolateIntersection({computation:e,interpolationInfo:t}){const{computationResult:n,inputPoints:o}=e,{start:i,end:r,intersection:s}=n,{originalIntersection:a,originalObserver:l,originalTarget:u}=t;if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(s,a),o.isValid){const e=J,t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.r)(l,a)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.r)(l,u);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.u)(e,i,l),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.i)(e,e,1-t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.g)(s,s,e),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.u)(e,r,u),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.i)(e,e,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.g)(s,s,e),n.isValid=!0}else e.result=null,n.isValid=!1,n.isTargetVisible=!1}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,n=this.view.frustum;if(null==t||null==e.elevationAlignedTargetLocation||null==n)return!1;const{observerAdjusted:o,targetAdjusted:i}=e.inputPoints,r=n.intersectsPoint(o),s=n.intersectsPoint(i);return r&&s}_onObserverPositionChange(e,n,o,i,r){if(this._externalObserverUpdate=r,null==e)return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(null==n)return (0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_28__.logFailedGeometryProjectionError)(this.analysis,e.spatialReference,Z),void(this.analysisViewData.elevationAlignedObserver=null);const s=this._getEffectiveElevationInfo(n,o),{absoluteZ:a,elevation:l}=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_24__.zValueInAbsoluteHeightMode)(n.x,n.y,n.z,this.view.spatialReference,this.view,s),u=n.clone();u.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=u;const c=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)();this.view.renderCoordsHelper.toRenderCoords(u,c),this._elevationAlignedObserverPositionRenderSpace=c,this._observerGroundOffsetRenderSpace=a-l,this._observerFeatureId=(0,_analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.getFeatureId)(i),this.priority=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,n,o,i){const{inputPoints:r}=e;switch((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__.c)(r.observer,t),r.observerFeatureId=i,r.observerSurfaceNormal=null,o){case"on-the-ground":case"relative-to-ground":{const e=this._intersector.updateFromGroundIntersection(r.observer,n,r.observer);null==r.observerFeatureId&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,n,o,i,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),null==o)return null!=n&&(0,_support_projectionUtils_js__WEBPACK_IMPORTED_MODULE_28__.logFailedGeometryProjectionError)(this.analysis,n.spatialReference,Z),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const l=this._getEffectiveElevationInfo(o,i),{absoluteZ:u,elevation:c}=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_24__.zValueInAbsoluteHeightMode)(o.x,o.y,o.z,this.view.spatialReference,this.view,l),d=o.clone();switch(d.z=u,e.elevationAlignedTargetLocation=d,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=(0,_analysis_featureReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.getFeatureId)(r),a.targetSurfaceNormal=null,l.mode){case"on-the-ground":case"relative-to-ground":{const e=this._intersector.updateFromGroundIntersection(a.target,u-c,a.target);null==a.targetFeatureId&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_31__.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.handlesGroup)([this._updatingHandles.add((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_20__.projectOrLoad)(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:n,targetFeatureInfo:o,projectedTargetPosition:i})=>{null==i.pending?this._onTargetPositionChange(e,t,i.geometry,n,o):this._updatingHandles.addPromise(i.pending)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial)])}_connectComputationToObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:n,observerElevationMode:o,observerFeatureId:i})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,n,o,i)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial)}_connectComputationToCamera(e){return this._updatingHandles.add((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}))}_connectComputationToSlicePlane(e){return this._updatingHandles.add((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(n,o)=>{const i=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,c=null,d=null;if(null!=i?.position){const e=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_20__.projectOrLoad)(i.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(n,o)));s=e.geometry,a=i.elevationInfo,l=i.feature}if(null!=r.position){const e=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_20__.projectOrLoad)(r.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(n,o)));u=e.geometry,c=r.elevationInfo,d=r.feature}null==s&&null==u||((0,_geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_21__.projectBoundingRect)(n,o,Q,this.view.spatialReference),null!=s&&(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_22__.containsPointObject)(Q,s)&&this._onObserverPositionChange(null!=i?i.position:null,s,a,l,!1),null!=u&&(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_22__.containsPointObject)(Q,u)&&this._onTargetPositionChange(e,r.position,u,c,d,!1),null!=s&&null!=u&&(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_22__.intersectsSegment)(Q,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on("elevation-change",(e=>t(e.extent,e.spatialReference)))}_connectComputationToTask(e){let t=null;const n={computation:e,interpolationInfo:{originalIntersection:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),originalObserver:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),originalTarget:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)()}};return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.handlesGroup)([this._updatingHandles.add((()=>e.inputPoints),(()=>{t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.abortMaybe)(t),t=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__.createTask)((async e=>{await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.ignoreAbortErrors)(this._frameTask.schedule((()=>this._computeResult(n)),e))}))}),{initial:!0,equals:()=>!1}),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.makeHandle)((()=>t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__.abortMaybe)(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const n of t)this._disconnectComputation(n);for(const n of e)this._connectComputation(n)}_onTargetCollectionChange({added:e,removed:t}){for(const n of t)this._removeTarget(n);for(const n of e)this._addTarget(n)}_onCursorTargetChange(e,t){null!=t&&this._removeTarget(t),null!=e&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new _LineOfSightComputation_js__WEBPACK_IMPORTED_MODULE_26__.LineOfSightComputation({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.handlesGroup)([this._updatingHandles.add((()=>({observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,projectedObserverPosition:(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_20__.projectOrLoad)(null!=this.analysis.observer?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:null!=this.analysis.observer?this.analysis.observer.elevationInfo:null,observerFeatureInfo:null!=this.analysis.observer?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:n,observerFeatureInfo:o})=>{null==t.pending?this._onObserverPositionChange(e,t.geometry,n,o,!0):this._updatingHandles.addPromise(t.pending)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this._computations),(e=>this._onComputationCollectionChange(e)),{initial:!0,final:!0})}_connectTargets(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.handlesGroup)([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),this._updatingHandles.add((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:n}=t;if(null==e||null==n)return!1;const o=J;n.toRenderCoords(e,o);const i=t.state.camera.computeScreenPixelSizeAt(o);return Math.abs((i-this._screenPixelSize)/this._screenPixelSize)>q}_getEffectiveElevationInfo(e,t){return e.hasZ?t??{mode:"absolute-height",offset:0}:{mode:"on-the-ground",offset:0}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],B.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],B.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],B.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"priority",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"updateOnCameraChange",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_computations",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_elevationAlignedObserverPositionRenderSpace",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_observerGroundOffsetRenderSpace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_effectiveObserverElevationMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_observerFeatureId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_screenPixelSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],B.prototype,"_updatingHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_frameTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],B.prototype,"_isCameraDirty",null),B=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)(M)],B);const q=.1,J=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__.c)(),K=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_23__.create)(),Q=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_22__.empty)(),W=.05;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightIntersectionResult: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var m;let y=m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r)}clone(){return new m({type:this.type,id:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this.id),mapPoint:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this.mapPoint),renderPoint:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(this.renderPoint),normal:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this.normal),ray:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.equalsMaybe)(this.mapPoint,r.mapPoint)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.G)(this.renderPoint,r.renderPoint)&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.equals)(this.normal,r.normal)&&(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__.equals)(this.ray,r.ray)&&this.graphic===r.graphic}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"mapPoint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"renderPoint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"normal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"graphic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"ray",void 0),y=m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult")],y);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightObserverManipulator: () => (/* binding */ f),
/* harmony export */   LineOfSightTargetManipulator: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LineOfSightConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js");
/* harmony import */ var _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../interactive/Manipulator3D.js */ "./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js");
/* harmony import */ var _interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../interactive/manipulatorUtils.js */ "./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js");
/* harmony import */ var _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../interactive/RenderObject.js */ "./node_modules/@arcgis/core/views/3d/interactive/RenderObject.js");
/* harmony import */ var _interactive_editingTools_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../interactive/editingTools/manipulatorUtils.js */ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../interactive/interfaces.js */ "./node_modules/@arcgis/core/views/interactive/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class f extends _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_3__.Manipulator3D{constructor(e,i){const s=(0,_interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_4__.createManipulatorMaterial)((0,_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.getObserverRGBA)(e.effectiveTheme)),l=(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_7__.createSphereGeometry)(s,_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.observerConfiguration.size,32,32),f=new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_5__.RenderObject(l);super({view:e,renderObjects:[f],metadata:i,elevationInfo:{mode:"absolute-height",offset:0}}),(0,_interactive_editingTools_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_6__.disableDisplayOnGrab)(this),this.themeHandle=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>({color:(0,_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.getObserverRGBA)(e.effectiveTheme)})),(e=>{s.setParameters(e)}))}destroy(){this.themeHandle.remove(),super.destroy()}}class d extends _interactive_Manipulator3D_js__WEBPACK_IMPORTED_MODULE_3__.Manipulator3D{constructor(e,t){const{size:o,visibleColor:r,occludedColor:s,undefinedColor:n}=_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.targetConfiguration;super({view:e,renderObjects:[u(o,r,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.ManipulatorStateCustomFlags.Custom1),u(o,s,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.ManipulatorStateCustomFlags.Custom2),u(o,n,_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.ManipulatorStateCustomFlags.Custom3)],metadata:t,elevationInfo:{mode:"absolute-height",offset:0}}),(0,_interactive_editingTools_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_6__.disableDisplayOnGrab)(this)}}function u(t,o,r){return new _interactive_RenderObject_js__WEBPACK_IMPORTED_MODULE_5__.RenderObject((0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_7__.createSphereGeometry)((0,_interactive_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_4__.createManipulatorMaterial)(_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(o)),t,32,32),r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightRayIntersector: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _LineOfSightIntersectionResult_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LineOfSightIntersectionResult.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js");
/* harmony import */ var _layers_i3s_Intersector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/i3s/Intersector.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Intersector.js");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/geometryUtils/ray.js */ "./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js");
/* harmony import */ var _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../terrain/Intersector.js */ "./node_modules/@arcgis/core/views/3d/terrain/Intersector.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/intersectorUtilsConversions.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtilsConversions.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let S=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set(["terrain"])}initialize(){this.intersector=(0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_17__.newIntersector)(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_18__.StoreResults.MIN}getScreenPointIntersection(e){const r=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.screenPointObjectToArray)(e,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_11__.sv2d.get()),s=(0,_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_15__.fromScreen)(this.view.state.camera,r,L);return this._getRayIntersection(s)}_getRayIntersection(e,r){if(null==e||null==this.view.sceneIntersectionHelper)return null;const{intersector:t}=this;t.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_18__.StoreResults.MIN,this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,t,r);const s=t.results.min,o=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)();if(!s.getIntersectionPoint(o))return null;if(null!=r?.maxDistance&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.a)(o,e.origin)>r.maxDistance**2)return null;const n=this.view.renderCoordsHelper.fromRenderCoords(o,this.view.spatialReference),a=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(s.normal);if((0,_layers_i3s_Intersector_js__WEBPACK_IMPORTED_MODULE_14__.isI3sIntersectorResult)(s))return new _LineOfSightIntersectionResult_js__WEBPACK_IMPORTED_MODULE_13__.LineOfSightIntersectionResult({type:_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_18__.IntersectorType.OBJECT,id:`${s.target.layerUid}/${s.target.nodeIndex}/${s.target.componentIndex}`,mapPoint:n,renderPoint:o,normal:a,ray:(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e),graphic:null});if((0,_terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_16__.isTerrainIntersectorResult)(s))return new _LineOfSightIntersectionResult_js__WEBPACK_IMPORTED_MODULE_13__.LineOfSightIntersectionResult({type:_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_18__.IntersectorType.TERRAIN,id:s.target.lij.slice(),mapPoint:n,renderPoint:o,normal:a,ray:(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e),graphic:null});const c=(0,_webgl_engine_lib_intersectorUtilsConversions_js__WEBPACK_IMPORTED_MODULE_19__.toGraphic)(s,this.view);if(null!=c){const r=c.layer,t=c.sourceLayer;let s;if(t)if("scene"===t.type)s=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__.getObjectId)(c,t.objectIdField);else s=c.uid;else s=c.uid;return new _LineOfSightIntersectionResult_js__WEBPACK_IMPORTED_MODULE_13__.LineOfSightIntersectionResult({type:_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_18__.IntersectorType.OBJECT,id:`${r?.uid}/${s}`,mapPoint:n,renderPoint:o,normal:a,ray:(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__.copy)(e),graphic:c})}return null}updateFromGroundIntersection(e,r,t){const s=x,o=U,i=O,m=C;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(o,e),this.view.renderCoordsHelper.worldUpAtPosition(o,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.n)(i,i);const u=this.view.basemapTerrain.visibleElevationBounds,d=(r>=0?1:-1)*((u?Math.abs(u.max-u.min):100)+Math.abs(r));(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(m,i,d),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(s,o,m),(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__.fromPoints)(s,o,L);const h=this._getRayIntersection(L,{include:this._terrainIntersectionOptionsLayerUids,maxDistance:d});if(null!=h){const e=C;return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(e,i,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(t,h.renderPoint,e),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(h.normal)}return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.c)(t,e),null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],S.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],S.prototype,"intersector",void 0),S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector")],S);const x=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),U=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),O=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),L=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightTool: () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _analysis_LineOfSightAnalysisObserver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../analysis/LineOfSightAnalysisObserver.js */ "./node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js");
/* harmony import */ var _analysis_LineOfSightAnalysisTarget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../analysis/LineOfSightAnalysisTarget.js */ "./node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../symbols/support/ElevationInfo.js */ "./node_modules/@arcgis/core/symbols/support/ElevationInfo.js");
/* harmony import */ var _LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./LineOfSightConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js");
/* harmony import */ var _LineOfSightManipulators_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./LineOfSightManipulators.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js");
/* harmony import */ var _LineOfSightRayIntersector_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./LineOfSightRayIntersector.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js");
/* harmony import */ var _interactive_visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../interactive/visualElements/LaserlineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _input_ViewEvents_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../input/ViewEvents.js */ "./node_modules/@arcgis/core/views/input/ViewEvents.js");
/* harmony import */ var _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../interactive/AnalysisToolBase.js */ "./node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/* harmony import */ var _interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../interactive/interfaces.js */ "./node_modules/@arcgis/core/views/interactive/interfaces.js");
/* harmony import */ var _support_screenUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../support/screenUtils.js */ "./node_modules/@arcgis/core/views/support/screenUtils.js");
/* harmony import */ var _input_IViewEvents_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../input/IViewEvents.js */ "./node_modules/@arcgis/core/views/input/IViewEvents.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var D;!function(e){e.Ready="ready",e.Creating="creating",e.Created="created"}(D||(D={}));let O=class extends _interactive_AnalysisToolBase_js__WEBPACK_IMPORTED_MODULE_23__.AnalysisToolBase{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__["default"],this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_13__.UpdatingHandles,this._manipulatorHandles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__["default"],this._targetTrackerManipulator=null}initialize(){this._intersector=new _LineOfSightRayIntersector_js__WEBPACK_IMPORTED_MODULE_19__.LineOfSightRayIntersector({view:this.view}),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.state),(e=>{e===D.Created&&this.finishToolCreation()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.syncAndInitial)),this._observerManipulator=this._createObserverManipulator(),this._createLaserLine(),this.addHandles([this._updatingHandles.add((()=>this.analysisViewData?.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this._updatingHandles.add((()=>(0,_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.getLaserLineColors)(this.view.effectiveTheme)),(({glowColor:e,innerColor:t,globalAlpha:i})=>this._updateLaserLineStyle(e,t,i)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this._updatingHandles.add((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations(),this._updatingHandles.addWhen((()=>!this._shouldRenderTracker),(()=>this._clearCursorTracker()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial)])}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._updatingHandles),this._manipulatorHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._manipulatorHandles),this._analysisHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeLaserLine(),this._intersector=null,this._set("analysis",null)}get state(){return this.active?this.hasGrabbedManipulators?D.Created:D.Creating:null!=this.analysis.observer?.position?D.Created:D.Ready}get cursor(){return this.active&&this._showTracker?"crosshair":null}get updating(){return null!=this.analysisViewData&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&"mouse"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&null!=this.analysis.observer?.position&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case"immediate-double-click":this._doubleClickHandler(e);break;case"key-down":this._keyDownHandler(e);break;case"pointer-move":this._pointerMoveHandler(e)}}onInputEventAfter(e){if("immediate-click"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn("Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);null==this._targetTrackerManipulator&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add((()=>this._getLineOfSightManipulatorStateDependencies(e)),(()=>this._updateManipulatorState(i,e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),this._updatingHandles.add((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial)],e)}_disconnectComputation(e){if(this.destroyed)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn("Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);null!=t&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),null!=this._targetTrackerManipulator&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.analysisViewData.cursorTarget)}_createTargetManipulator(e){const t={target:e,type:"target"},i=new _LineOfSightManipulators_js__WEBPACK_IMPORTED_MODULE_18__.LineOfSightTargetManipulator(this.view,t);return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i),i.events.on("grab-changed",(e=>this._manipulatorGrabChanged(i,e))),i.events.on("immediate-click",(e=>this._manipulatorClick(i,e)))],i),this.manipulators.add(i),null!=e.position?i.elevationAlignedLocation=e.position:i.available=!1,i}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const a=i.manipulator;null==t&&"target"===a.metadata.type&&a.metadata.target===e&&(t=a)})),t}_createObserverManipulator(){const e=new _LineOfSightManipulators_js__WEBPACK_IMPORTED_MODULE_18__.LineOfSightObserverManipulator(this.view,{type:"observer",intersection:null});return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e),e.events.on("grab-changed",(t=>this._manipulatorGrabChanged(e,t))),e.events.on("immediate-click",(t=>this._manipulatorClick(e,t)))],e),this.manipulators.add(e),e}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return null==t?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__.createManipulatorDragEventPipeline)(e,((t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),a.next(this._cancelTargetDragStep(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return (0,_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_24__.createManipulatorDragEventPipeline)(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(null!=e.intersection.mapPoint?(null==this.analysis.observer&&(this.analysis.observer=new _analysis_LineOfSightAnalysisObserver_js__WEBPACK_IMPORTED_MODULE_2__["default"]),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=null!=this.analysis.observer?.position?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return null!=i&&(e.elevationAlignedLocation=i),t}}_cancelTargetDragStep(e){const t=e.position?.clone();return i=>(e.position=t,i)}_manipulatorGrabChanged(e,t){switch(t.action){case"start":this._grabbedManipulator=e;break;case"end":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_updateManipulatorState(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_25__.ManipulatorStateCustomFlags.Custom1:_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_25__.ManipulatorStateCustomFlags.Custom2:_interactive_interfaces_js__WEBPACK_IMPORTED_MODULE_25__.ManipulatorStateCustomFlags.Custom3}_getLineOfSightManipulatorStateDependencies(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:n,visible:r}=e;if(null==t)return;const s=null!=i?i:a&&null!=n?this._targetTrackerManipulator:null;null!=s&&r?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_14__.fromPoints)(this._observerManipulator.renderLocation,s.renderLocation,I):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createLaserLine(){this._removeLaserLine();const{glowWidth:e,innerWidth:t}=_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_17__.laserLineConfiguration;this._laserlineVisualElement=new _interactive_visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_20__.LaserlineVisualElement({view:this.view,attached:!0,visible:this.visible,style:{glowWidth:e,innerWidth:t},isDecoration:!0})}_removeLaserLine(){null!=this._laserlineVisualElement&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_updateLaserLineStyle(e,i,a){const n=this._laserlineVisualElement;if(null==n)return;const r=n.style;n.style={...r,glowColor:_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGB(e),innerColor:_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGB(i),globalAlpha:a}}_onObserverLocationChange(e){null!=e?(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e):this._observerManipulator.available=!1}_onTargetLocationChange(e,t){null!=e?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(null!=t?.mapPoint)if(null!=this.analysis.observer?.position){this._clearCursorTracker();const e=new _analysis_LineOfSightAnalysisTarget_js__WEBPACK_IMPORTED_MODULE_3__["default"];this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new _analysis_LineOfSightAnalysisObserver_js__WEBPACK_IMPORTED_MODULE_2__["default"];this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==_input_IViewEvents_js__WEBPACK_IMPORTED_MODULE_27__.MouseButton.Right&&(this._addPointFromClickEvent((0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_26__.createScreenPointFromEvent)(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==_input_IViewEvents_js__WEBPACK_IMPORTED_MODULE_27__.MouseButton.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&"Escape"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||null==this.analysis.observer?.position)return;const t=(0,_support_screenUtils_js__WEBPACK_IMPORTED_MODULE_26__.createScreenPointFromEvent)(e),i=this._intersector.getScreenPointIntersection(t);null!=i?.mapPoint&&(null==this.analysisViewData.cursorTarget&&(this.analysisViewData.cursorTarget=new _analysis_LineOfSightAnalysisTarget_js__WEBPACK_IMPORTED_MODULE_3__["default"]),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(null==t.mapPoint)return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.OBJECT:if(null!=t.graphic){const i=t.graphic,a=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_15__.getGraphicEffectiveElevationInfo)(i);"on-the-ground"===a.mode&&(a.mode="relative-to-ground",a.offset=0),e.elevationInfo=new _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__["default"](a),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.TERRAIN:case _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.I3S:e.elevationInfo=new _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__["default"]({mode:"on-the-ground"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_15__.getConvertedElevation)(this.view,i,{mode:"absolute-height",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if("observer"===e.metadata.type||e.grabbing||e.dragging||t.button!==_input_IViewEvents_js__WEBPACK_IMPORTED_MODULE_27__.MouseButton.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){return{laserLineVisualElement:this._laserlineVisualElement,getTargetManipulator:e=>this._getTargetManipulator(e)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],O.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],O.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"cursor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"removeIncompleteOnCancel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],O.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],O.prototype,"_showTracker",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_latestPointerMovePointerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_shouldRenderTracker",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_laserlineVisualElement",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],O.prototype,"_grabbedManipulator",void 0),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool")],O);const I=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_14__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightVisualElement: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineOfSightVisualization: () => (/* binding */ O)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Handles.js */ "./node_modules/@arcgis/core/core/Handles.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LineOfSightConfiguration.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js");
/* harmony import */ var _LineOfSightVisualElement_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./LineOfSightVisualElement.js */ "./node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js");
/* harmony import */ var _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../interactive/visualElements/LineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js");
/* harmony import */ var _interactive_visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../interactive/visualElements/PointVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let O=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._lineOfSightVisualElements=new Array,this._computationHandles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles),this._computationHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._computationHandles),this._observerVisualElement=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){return{disablePartialOcclusion:()=>{for(const e of this._lineOfSightVisualElements)e.visibleLineVisualElement.renderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.Occlude,e.occludedLineVisualElement.renderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.Occlude,e.undefinedLineVisualElement.renderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_20__.RenderOccludedFlag.Occlude},visualizations:this._lineOfSightVisualElements}}_createLineOfSightVisualization(){const e=_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_16__.lineOfSightConfiguration,t=this.view,o=this.isDecoration,n={view:t,attached:!0,width:e.outerWidth,innerWidth:e.innerWidth,isDecoration:o},s=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(e.visibleOuterColor),r=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(e.visibleInnerColor),l=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(e.occludedOuterColor),a=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(e.occludedInnerColor),c=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(e.undefinedOuterColor),d=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(e.undefinedInnerColor),u=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_18__.LineVisualElement({...n,color:s,innerColor:r}),m=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_18__.LineVisualElement({...n,color:l,innerColor:a}),p=new _interactive_visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_18__.LineVisualElement({...n,color:c,innerColor:d}),b=new _interactive_visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_19__.PointVisualElement({view:t,attached:!0,..._,size:8,isDecoration:o}),O=new _LineOfSightVisualElement_js__WEBPACK_IMPORTED_MODULE_17__.LineOfSightVisualElement(u,m,p,b);return this._lineOfSightVisualElements.push(O),O}_destroyLineOfSightVisualization(e){e.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(e),1)}_updateLineOfSightVisualization(e,t,o){const n=_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_16__.lineOfSightConfiguration,{computationResult:s,inputPoints:r}=e,{start:l,end:a,intersection:c,isValid:m,isTargetVisible:p}=s,{observer:v}=r,f=E;f[12]=v[0],f[13]=v[1],f[14]=v[2];const g=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.f)(y,l,v),b=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.f)(V,a,v),O=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.f)(C,c,v),{visibleLineVisualElement:_,occludedLineVisualElement:A,undefinedLineVisualElement:w,targetVisualElement:S}=t,j=null==this.analysisViewData.elevationAlignedObserver||null==e.elevationAlignedTargetLocation,L=this.visible&&!j;_.visible=L,A.visible=L,w.visible=L,S.visible=L,S.attached=!o.interactiveAndEditable,L&&(_.geometry=null,A.geometry=null,w.geometry=null,S.geometry=e.elevationAlignedTargetLocation,m?p?(_.geometry=[[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(g),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(b)]],_.transform=f,_.color=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(n.visibleOuterColor),S.color=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(n.visibleInnerColor)):(_.geometry=[[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(g),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(O)]],_.transform=f,_.color=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(n.occludedOuterColor),A.geometry=[[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(O),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(b)]],A.transform=f,S.color=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(n.occludedInnerColor)):(w.geometry=[[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(g),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.e)(b)]],w.transform=f,S.color=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(e){const{computationResult:i}=e,{occludedOuterColor:t,visibleOuterColor:o}=_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_16__.lineOfSightConfiguration;return{computationResult:i,occludedOuterColor:t,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(e){const i=this._computationHandles;if(i.has(e))return;const t=this._createLineOfSightVisualization();i.add([this._updatingHandles.add((()=>this._getLineOfSightVisualizationDependencies(e)),(i=>this._updateLineOfSightVisualization(e,t,i)),{initial:!0,equals:()=>!1}),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)((()=>this._destroyLineOfSightVisualization(t)))],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:i}){for(const t of i)this._disconnectComputation(t);for(const t of e)this._connectComputation(t)}_createObserverVisualization(){const e=_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"].toUnitRGBA(_LineOfSightConfiguration_js__WEBPACK_IMPORTED_MODULE_16__.lineOfSightConfiguration.visibleInnerColor),t=new _interactive_visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_19__.PointVisualElement({view:this.view,color:e,..._,isDecoration:this.isDecoration});this._observerVisualElement=t,this.addHandles(this._updatingHandles.add((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:e,interactiveAndEditable:i,visible:o})=>{null!=e&&!i&&o?(t.geometry=e,this._observerVisualElement.attached=!0):t.attached=!1}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"analysis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"analysisViewData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],O.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],O.prototype,"isDecoration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"interactiveAndEditable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],O.prototype,"test",null),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.analysis.LineOfSight.LineOfSightVisualization")],O);const _={size:6,pixelSnappingEnabled:!1,primitive:"circle",elevationInfo:{mode:"absolute-height",offset:0},outlineSize:0},y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.c)(),V=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.c)(),E=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.a)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   canMoveZ: () => (/* binding */ n),
/* harmony export */   disableDisplayOnGrab: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,n=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.getGraphicEffectiveElevationInfo)(e)){return"on-the-ground"!==n.mode&&!(null==e.geometry||!e.geometry.hasZ)}function t(o,n){let t=null;const r=o.events.on("grab-changed",(e=>{null!=t&&(t.remove(),t=null),"start"===e.action?(t=o.disableDisplay(),n&&n(e)):n&&n(e)}));return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>{t?.remove(),r.remove()}))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2FuYWx5c2lzX0xpbmVPZlNpZ2h0QW5hbHlzaXNWaWV3M0RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzJ1QixvQkFBb0Isc0VBQUMsQ0FBQyxnRUFBQyxDQUFDLHlEQUFDLElBQUksZUFBZSxzRUFBc0UsVUFBVSxPQUFPLDJEQUFDLDRCQUE0QiwyREFBQyxzQ0FBc0MsaUZBQUMsMkJBQTJCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLDJEQUFDLE9BQU8sT0FBTyxnQkFBZ0Isa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLDBFQUFDLENBQUMsRUFBRSw2RkFBQyx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxDQUFDLCtFQUFDLG1DQUFtQyx1REFBQyxFQUFFLHVGQUFDLGtEQUFrRCxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0podEM7QUFDQTtBQUNBO0FBQ0E7QUFDbXNCLG9CQUFvQixzRUFBQyxDQUFDLHVEQUFDLEdBQUcsZUFBZSxzRUFBc0UsVUFBVSxPQUFPLDJEQUFDLDRCQUE0QiwyREFBQyxzQ0FBc0MsaUZBQUMsMkJBQTJCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLDJEQUFDLENBQUMsRUFBRSw2RkFBQyxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLEtBQUssMEVBQUMsQ0FBQyxFQUFFLDZGQUFDLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLENBQUMsK0VBQUMsbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsZ0RBQWdELFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxb0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQW1CLGNBQWMsdUJBQXVCLG9DQUFvQyxXQUFXLDJMQUEyTCxFQUFFLEdBQUcsRUFBRSxFQUFFLFNBQVMs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LHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLCtCQUErQix1REFBQyxFQUFFLHVGQUFDLG9FQUFvRSxTQUFTLGlFQUFpRSxnQ0FBZ0MsZUFBZSxHQUFHLHNEQUFDLEtBQUssc0RBQUMsS0FBSyxzREFBQyxLQUFLLHNEQUFDLEdBQXlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdCtMO0FBQ0E7QUFDQTtBQUNBO0FBQzBKLGVBQWUsZ0dBQUMsS0FBSyxzRUFBc0UsZ0JBQWdCLFdBQVcsd0NBQXdDLHVGQUF1RixHQUFHLE9BQU8sZ0VBQUMsT0FBTyx1QkFBdUIsR0FBbUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYW5hbHlzaXMvTGluZU9mU2lnaHRBbmFseXNpc09ic2VydmVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hbmFseXNpcy9MaW5lT2ZTaWdodEFuYWx5c2lzVGFyZ2V0LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hbmFseXNpcy9mZWF0dXJlUmVmZXJlbmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcGVyc2lzdGFibGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbXVsdGlPcmlnaW5KU09OU3VwcG9ydFV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9wb3J0YWwvc3VwcG9ydC9yZXNvdXJjZUV4dGVuc2lvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvTGluZU9mU2lnaHRBbmFseXNpc1Jlc3VsdC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvTGluZU9mU2lnaHRBbmFseXNpc1ZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvTGluZU9mU2lnaHQvTGluZU9mU2lnaHRDb21wdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvTGluZU9mU2lnaHQvTGluZU9mU2lnaHRDb25maWd1cmF0aW9uLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9MaW5lT2ZTaWdodC9MaW5lT2ZTaWdodENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL0xpbmVPZlNpZ2h0L0xpbmVPZlNpZ2h0SW50ZXJzZWN0aW9uUmVzdWx0LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9MaW5lT2ZTaWdodC9MaW5lT2ZTaWdodE1hbmlwdWxhdG9ycy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvTGluZU9mU2lnaHQvTGluZU9mU2lnaHRSYXlJbnRlcnNlY3Rvci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvYW5hbHlzaXMvTGluZU9mU2lnaHQvTGluZU9mU2lnaHRUb29sLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9hbmFseXNpcy9MaW5lT2ZTaWdodC9MaW5lT2ZTaWdodFZpc3VhbEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2FuYWx5c2lzL0xpbmVPZlNpZ2h0L0xpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvZWRpdGluZ1Rvb2xzL21hbmlwdWxhdG9yVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIG99ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtmZWF0dXJlUmVmZXJlbmNlRXF1YWxzIGFzIHIsZmVhdHVyZVJlZmVyZW5jZVByb3BlcnR5IGFzIGV9ZnJvbVwiLi9mZWF0dXJlUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e0Nsb25hYmxlTWl4aW4gYXMgdH1mcm9tXCIuLi9jb3JlL0Nsb25hYmxlLmpzXCI7aW1wb3J0e0pTT05TdXBwb3J0TWl4aW4gYXMgaX1mcm9tXCIuLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e2VxdWFsc01heWJlIGFzIHB9ZnJvbVwiLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3BlcnNpc3RhYmxlIGFzIG59ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wZXJzaXN0YWJsZS5qc1wiO2ltcG9ydCBtIGZyb21cIi4uL2dlb21ldHJ5L1BvaW50LmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vc3ltYm9scy9zdXBwb3J0L0VsZXZhdGlvbkluZm8uanNcIjtsZXQgZj1jbGFzcyBleHRlbmRzKGkodChzKSkpe2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLHRoaXMucG9zaXRpb249bnVsbCx0aGlzLmVsZXZhdGlvbkluZm89bnVsbCx0aGlzLmZlYXR1cmU9bnVsbH1lcXVhbHMobyl7cmV0dXJuIHAodGhpcy5wb3NpdGlvbixvLnBvc2l0aW9uKSYmcCh0aGlzLmVsZXZhdGlvbkluZm8sby5lbGV2YXRpb25JbmZvKSYmcih0aGlzLmZlYXR1cmUsby5mZWF0dXJlKX19O28oW2Eoe3R5cGU6bSxqc29uOnt3cml0ZTp7aXNSZXF1aXJlZDohMH19fSldLGYucHJvdG90eXBlLFwicG9zaXRpb25cIix2b2lkIDApLG8oW2Eoe3R5cGU6bH0pLG4oKV0sZi5wcm90b3R5cGUsXCJlbGV2YXRpb25JbmZvXCIsdm9pZCAwKSxvKFthKGUpXSxmLnByb3RvdHlwZSxcImZlYXR1cmVcIix2b2lkIDApLGY9byhbYyhcImVzcmkuYW5hbHlzaXMuTGluZU9mU2lnaHRBbmFseXNpc09ic2VydmVyXCIpXSxmKTtjb25zdCB1PWY7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e2ZlYXR1cmVSZWZlcmVuY2VFcXVhbHMgYXMgcixmZWF0dXJlUmVmZXJlbmNlUHJvcGVydHkgYXMgdH1mcm9tXCIuL2ZlYXR1cmVSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtDbG9uYWJsZSBhcyBlfWZyb21cIi4uL2NvcmUvQ2xvbmFibGUuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnRNaXhpbiBhcyBzfWZyb21cIi4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7ZXF1YWxzTWF5YmUgYXMgaX1mcm9tXCIuLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7cGVyc2lzdGFibGUgYXMgbn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3BlcnNpc3RhYmxlLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi9zeW1ib2xzL3N1cHBvcnQvRWxldmF0aW9uSW5mby5qc1wiO2xldCBsPWNsYXNzIGV4dGVuZHMocyhlKSl7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5wb3NpdGlvbj1udWxsLHRoaXMuZWxldmF0aW9uSW5mbz1udWxsLHRoaXMuZmVhdHVyZT1udWxsfWVxdWFscyhvKXtyZXR1cm4gaSh0aGlzLnBvc2l0aW9uLG8ucG9zaXRpb24pJiZpKHRoaXMuZWxldmF0aW9uSW5mbyxvLmVsZXZhdGlvbkluZm8pJiZyKHRoaXMuZmVhdHVyZSxvLmZlYXR1cmUpfX07byhbcCh7dHlwZTpjfSksbigpXSxsLnByb3RvdHlwZSxcInBvc2l0aW9uXCIsdm9pZCAwKSxvKFtwKHt0eXBlOm19KSxuKCldLGwucHJvdG90eXBlLFwiZWxldmF0aW9uSW5mb1wiLHZvaWQgMCksbyhbcCh0KV0sbC5wcm90b3R5cGUsXCJmZWF0dXJlXCIsdm9pZCAwKSxsPW8oW2EoXCJlc3JpLmFuYWx5c2lzLkxpbmVPZlNpZ2h0QW5hbHlzaXNUYXJnZXRcIildLGwpO2NvbnN0IGY9bDtleHBvcnR7ZiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlKGUsbCl7cmV0dXJuIHQoZSk9PT10KGwpfWZ1bmN0aW9uIHQoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCB0PW51bGwhPWUubGF5ZXI/ZS5sYXllci5pZDpcIlwiO2xldCBsPW51bGw7cmV0dXJuIGw9bnVsbCE9ZS5vYmplY3RJZD9lLm9iamVjdElkOm51bGwhPWUubGF5ZXImJlwib2JqZWN0SWRGaWVsZFwiaW4gZS5sYXllciYmbnVsbCE9ZS5sYXllci5vYmplY3RJZEZpZWxkJiZudWxsIT1lLmF0dHJpYnV0ZXM/ZS5hdHRyaWJ1dGVzW2UubGF5ZXIub2JqZWN0SWRGaWVsZF06ZS51aWQsbnVsbD09bD9udWxsOmBvLSR7dH0tJHtsfWB9Y29uc3QgbD17anNvbjp7d3JpdGU6e3dyaXRlcjpyLHRhcmdldDp7XCJmZWF0dXJlLmxheWVySWRcIjp7dHlwZTpbTnVtYmVyLFN0cmluZ119LFwiZmVhdHVyZS5vYmplY3RJZFwiOnt0eXBlOltOdW1iZXIsU3RyaW5nXX19fSxvcmlnaW5zOntcIndlYi1zY2VuZVwiOntyZWFkOm59fX19O2Z1bmN0aW9uIHIoZSx0KXtudWxsIT1lPy5sYXllcj8ub2JqZWN0SWRGaWVsZCYmbnVsbCE9ZS5hdHRyaWJ1dGVzJiYodC5mZWF0dXJlPXtsYXllcklkOmUubGF5ZXIuaWQsb2JqZWN0SWQ6ZS5hdHRyaWJ1dGVzW2UubGF5ZXIub2JqZWN0SWRGaWVsZF19KX1mdW5jdGlvbiBuKGUpe2lmKG51bGwhPWUubGF5ZXJJZCYmbnVsbCE9ZS5vYmplY3RJZClyZXR1cm57dWlkOm51bGwsbGF5ZXI6e2lkOmUubGF5ZXJJZCxvYmplY3RJZEZpZWxkOlwiT2JqZWN0SWRcIn0sYXR0cmlidXRlczp7T2JqZWN0SWQ6ZS5vYmplY3RJZH19fWV4cG9ydHtlIGFzIGZlYXR1cmVSZWZlcmVuY2VFcXVhbHMsbCBhcyBmZWF0dXJlUmVmZXJlbmNlUHJvcGVydHksdCBhcyBnZXRGZWF0dXJlSWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uL0Vycm9yLmpzXCI7aW1wb3J0e2NyZWF0ZU1ENUhhc2ggYXMgcn1mcm9tXCIuLi8uLi9NRDUuanNcIjtpbXBvcnR7aXNNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBlfWZyb21cIi4uLy4uL211bHRpT3JpZ2luSlNPTlN1cHBvcnRVdGlscy5qc1wiO2ltcG9ydHtpc0Fic29sdXRlIGFzIG8saXNCbG9iUHJvdG9jb2wgYXMgcyxqb2luIGFzIG4sYmxvYlVybFRvQmxvYiBhcyBpLGdldFBhdGhFeHRlbnNpb24gYXMgcH1mcm9tXCIuLi8uLi91cmxVdGlscy5qc1wiO2ltcG9ydHtnZW5lcmF0ZVVVSUQgYXMgY31mcm9tXCIuLi8uLi91dWlkLmpzXCI7aW1wb3J0e2dldFByb3BlcnR5TWV0YWRhdGEgYXMgdX1mcm9tXCIuLi9tZXRhZGF0YS5qc1wiO2ltcG9ydHtuYW1lVG9JZCBhcyBhfWZyb21cIi4uL1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0e3Byb3BlcnR5SlNPTk1ldGEgYXMgbH1mcm9tXCIuL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2dldFJlc291cmNlQ29udGVudEV4dGVuc2lvbiBhcyBtfWZyb21cIi4uLy4uLy4uL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlRXh0ZW5zaW9uLmpzXCI7aW1wb3J0e3IgYXMgZCx0IGFzIGYsTSBhcyB5LGkgYXMgZyxwIGFzIGgsYSBhcyB2fWZyb21cIi4uLy4uLy4uL2NodW5rcy9wZXJzaXN0YWJsZVVybFV0aWxzLmpzXCI7ZnVuY3Rpb24gaih0KXtjb25zdCByPXQ/Lm9yaWdpbnM/P1t2b2lkIDBdO3JldHVybihlLG8pPT57Y29uc3Qgcz1VKHQsZSxvKTtmb3IoY29uc3QgdCBvZiByKXtjb25zdCByPWwoZSx0LG8pO2Zvcihjb25zdCB0IGluIHMpclt0XT1zW3RdfX19ZnVuY3Rpb24gVSh0LHIsZSl7aWYoXCJyZXNvdXJjZVwiPT09dD8udHlwZSlyZXR1cm4gdyh0LHIsZSk7c3dpdGNoKHQ/LnR5cGU/P1wib3RoZXJcIil7Y2FzZVwib3RoZXJcIjpyZXR1cm57cmVhZDohMCx3cml0ZTohMH07Y2FzZVwidXJsXCI6e2NvbnN0e3JlYWQ6dCx3cml0ZTpyfT12O3JldHVybntyZWFkOnQsd3JpdGU6cn19fX1mdW5jdGlvbiB3KHQscixuKXtjb25zdCBpPXUocixuKTtyZXR1cm57dHlwZTpTdHJpbmcscmVhZDoodCxyLGUpPT57Y29uc3Qgbz1kKHQscixlKTtyZXR1cm4gaS50eXBlPT09U3RyaW5nP286XCJmdW5jdGlvblwiPT10eXBlb2YgaS50eXBlP25ldyBpLnR5cGUoe3VybDpvfSk6dm9pZCAwfSx3cml0ZTp7d3JpdGVyKHIscCxjLHUpe2lmKCF1Py5yZXNvdXJjZXMpcmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/dm9pZChwW2NdPWYocix1KSk6dm9pZChwW2NdPXIud3JpdGUoe30sdSkpO2NvbnN0IGw9eChyKSxtPWYobCx7Li4udSx2ZXJpZnlJdGVtUmVsYXRpdmVVcmxzOnU/LnZlcmlmeUl0ZW1SZWxhdGl2ZVVybHM/e3dyaXR0ZW5VcmxzOnUudmVyaWZ5SXRlbVJlbGF0aXZlVXJscy53cml0dGVuVXJscyxyb290UGF0aDp2b2lkIDB9OnZvaWQgMH0seS5OTyksZD1pLnR5cGUhPT1TdHJpbmcmJighZSh0aGlzKXx8dT8ub3JpZ2luJiZ0aGlzLm9yaWdpbklkT2Yobik+YSh1Lm9yaWdpbikpLGg9e29iamVjdDp0aGlzLHByb3BlcnR5TmFtZTpuLHZhbHVlOnIsdGFyZ2V0VXJsOm0sZGVzdDpwLHRhcmdldFByb3BlcnR5TmFtZTpjLGNvbnRleHQ6dSxwYXJhbXM6dH07dT8ucG9ydGFsSXRlbSYmbSYmIW8obSk/ZCYmdD8uY29udGVudEFkZHJlc3NlZD9JKGgpOmQ/TihoKTpQKGgpOnU/LnBvcnRhbEl0ZW0mJihudWxsPT1tfHxudWxsIT1nKG0pfHxzKG0pfHxkKT9JKGgpOnBbY109bX19fX1mdW5jdGlvbiBJKGUpe2NvbnN0e3RhcmdldFVybDpvLHBhcmFtczpwLHZhbHVlOnUsY29udGV4dDphLGRlc3Q6bCx0YXJnZXRQcm9wZXJ0eU5hbWU6ZH09ZTtpZighYS5wb3J0YWxJdGVtKXJldHVybjtjb25zdCBmPWgobykseT1iKHUsbyxhKTtpZihwPy5jb250ZW50QWRkcmVzc2VkJiZcImpzb25cIiE9PXkudHlwZSlyZXR1cm4gdm9pZCBhLm1lc3NhZ2VzPy5wdXNoKG5ldyB0KFwicGVyc2lzdGFibGU6Y29udGVudEFkZHJlc3NpbmdVbnN1cHBvcnRlZFwiLGBQcm9wZXJ0eSBcIiR7ZH1cIiBpcyB0cnlpbmcgdG8gc2VyaWFsaXppbmcgYSByZXNvdXJjZSB3aXRoIGNvbnRlbnQgb2YgdHlwZSAke3kudHlwZX0gd2l0aCBjb250ZW50IGFkZHJlc3NpbmcuIENvbnRlbnQgYWRkcmVzc2luZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IganNvbiByZXNvdXJjZXMuYCx7Y29udGVudDp5fSkpO2NvbnN0IGc9cD8uY29udGVudEFkZHJlc3NlZCYmXCJqc29uXCI9PT15LnR5cGU/cih5Lmpzb25TdHJpbmcpOmY/LmZpbGVuYW1lPz9jKCksdj1uKHA/LnByZWZpeD8/Zj8ucHJlZml4LGcpLGo9YCR7dn0uJHttKHkpfWA7aWYocD8uY29udGVudEFkZHJlc3NlZCYmYS5yZXNvdXJjZXMmJlwianNvblwiPT09eS50eXBlKXtjb25zdCB0PWEucmVzb3VyY2VzLnRvS2VlcC5maW5kKCh0PT50LnJlc291cmNlLnBhdGg9PT1qKSk/P2EucmVzb3VyY2VzLnRvQWRkLmZpbmQoKHQ9PnQucmVzb3VyY2UucGF0aD09PWopKTtpZih0KXJldHVybiB2b2lkKGxbZF09dC5yZXNvdXJjZS5pdGVtUmVsYXRpdmVVcmwpfWNvbnN0IFU9YS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgoaik7cyhvKSYmYS5yZXNvdXJjZXMmJmEucmVzb3VyY2VzLnBlbmRpbmdPcGVyYXRpb25zLnB1c2goaShvKS50aGVuKCh0PT57VS5wYXRoPWAke3Z9LiR7bSh7dHlwZTpcImJsb2JcIixibG9iOnR9KX1gLGxbZF09VS5pdGVtUmVsYXRpdmVVcmx9KSkuY2F0Y2goKCgpPT57fSkpKTtjb25zdCB3PXA/LmNvbXByZXNzPz8hMTthLnJlc291cmNlcyYmUyh7Li4uZSxyZXNvdXJjZTpVLGNvbnRlbnQ6eSxjb21wcmVzczp3LHVwZGF0ZXM6YS5yZXNvdXJjZXMudG9BZGR9KSxsW2RdPVUuaXRlbVJlbGF0aXZlVXJsfWZ1bmN0aW9uIE4odCl7Y29uc3R7Y29udGV4dDpyLHRhcmdldFVybDplLHBhcmFtczpvLHZhbHVlOnMsZGVzdDpuLHRhcmdldFByb3BlcnR5TmFtZTppfT10O2lmKCFyLnBvcnRhbEl0ZW0pcmV0dXJuO2NvbnN0IGM9ci5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgoZSksdT1iKHMsZSxyKSxhPW0odSksbD1wKGMucGF0aCksZD1vPy5jb21wcmVzcz8/ITE7YT09PWw/KHIucmVzb3VyY2VzJiZTKHsuLi50LHJlc291cmNlOmMsY29udGVudDp1LGNvbXByZXNzOmQsdXBkYXRlczpyLnJlc291cmNlcy50b1VwZGF0ZX0pLG5baV09ZSk6SSh0KX1mdW5jdGlvbiBQKHtjb250ZXh0OnQsdGFyZ2V0VXJsOnIsZGVzdDplLHRhcmdldFByb3BlcnR5TmFtZTpvfSl7dC5wb3J0YWxJdGVtJiZ0LnJlc291cmNlcyYmKHQucmVzb3VyY2VzLnRvS2VlcC5wdXNoKHtyZXNvdXJjZTp0LnBvcnRhbEl0ZW0ucmVzb3VyY2VGcm9tUGF0aChyKSxjb21wcmVzczohMX0pLGVbb109cil9ZnVuY3Rpb24gUyh7b2JqZWN0OnQscHJvcGVydHlOYW1lOnIsdXBkYXRlczplLHJlc291cmNlOm8sY29udGVudDpzLGNvbXByZXNzOm59KXtlLnB1c2goe3Jlc291cmNlOm8sY29udGVudDpzLGNvbXByZXNzOm4sZmluaXNoOmU9PntPKHQscixlKX19KX1mdW5jdGlvbiBiKHQscixlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD97dHlwZTpcInVybFwiLHVybDpyfTp7dHlwZTpcImpzb25cIixqc29uU3RyaW5nOkpTT04uc3RyaW5naWZ5KHQudG9KU09OKGUpKX19ZnVuY3Rpb24geCh0KXtyZXR1cm4gbnVsbD09dD9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC51cmx9ZnVuY3Rpb24gTyh0LHIsZSl7XCJzdHJpbmdcIj09dHlwZW9mIHRbcl0/dFtyXT1lLnVybDp0W3JdLnVybD1lLnVybH1leHBvcnR7aiBhcyBwZXJzaXN0YWJsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gaShpKXtyZXR1cm4gaSYmXCJnZXRBdE9yaWdpblwiaW4gaSYmXCJvcmlnaW5PZlwiaW4gaX1leHBvcnR7aSBhcyBpc011bHRpT3JpZ2luSlNPTk1peGlufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0UGF0aEV4dGVuc2lvbiBhcyBpfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtmdW5jdGlvbiBwKGkpe3JldHVybiBvW3QoaSldfHxlfWZ1bmN0aW9uIHQoaSl7cmV0dXJuXCJqc29uXCI9PT1pLnR5cGU/XCJhcHBsaWNhdGlvbi9qc29uXCI6XCJibG9iXCI9PT1pLnR5cGU/aS5ibG9iLnR5cGU6bihpLnVybCl9ZnVuY3Rpb24gbihwKXtjb25zdCB0PWkocCk7cmV0dXJuIGdbdF18fGF9Y29uc3Qgbz17fSxhPVwidGV4dC9wbGFpblwiLGU9b1thXSxnPXtwbmc6XCJpbWFnZS9wbmdcIixqcGVnOlwiaW1hZ2UvanBlZ1wiLGpwZzpcImltYWdlL2pwZ1wiLGJtcDpcImltYWdlL2JtcFwiLGdpZjpcImltYWdlL2dpZlwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uXCIsdHh0OlwidGV4dC9wbGFpblwiLHhtbDpcImFwcGxpY2F0aW9uL3htbFwiLHN2ZzpcImltYWdlL3N2Zyt4bWxcIix6aXA6XCJhcHBsaWNhdGlvbi96aXBcIixwYmY6XCJhcHBsaWNhdGlvbi92bmQubWFwYm94LXZlY3Rvci10aWxlXCIsZ3o6XCJhcHBsaWNhdGlvbi9nemlwXCIsXCJiaW4uZ3pcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifTtmb3IoY29uc3QgbCBpbiBnKW9bZ1tsXV09bDtleHBvcnR7cCBhcyBnZXRSZXNvdXJjZUNvbnRlbnRFeHRlbnNpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIG99ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBzPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihvKXtzdXBlcihvKSx0aGlzLnRhcmdldD1udWxsLHRoaXMuaW50ZXJzZWN0ZWRHcmFwaGljPW51bGwsdGhpcy5pbnRlcnNlY3RlZExvY2F0aW9uPW51bGwsdGhpcy5lbGV2YXRpb25BbGlnbmVkVGFyZ2V0TG9jYXRpb249bnVsbCx0aGlzLnZpc2libGU9dm9pZCAwfX07byhbZSgpXSxzLnByb3RvdHlwZSxcInRhcmdldFwiLHZvaWQgMCksbyhbZSgpXSxzLnByb3RvdHlwZSxcImludGVyc2VjdGVkR3JhcGhpY1wiLHZvaWQgMCksbyhbZSgpXSxzLnByb3RvdHlwZSxcImludGVyc2VjdGVkTG9jYXRpb25cIix2b2lkIDApLG8oW2UoKV0scy5wcm90b3R5cGUsXCJlbGV2YXRpb25BbGlnbmVkVGFyZ2V0TG9jYXRpb25cIix2b2lkIDApLG8oW2Uoe3R5cGU6Qm9vbGVhbn0pXSxzLnByb3RvdHlwZSxcInZpc2libGVcIix2b2lkIDApLHM9byhbcihcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuTGluZU9mU2lnaHRBbmFseXNpc1Jlc3VsdFwiKV0scyk7ZXhwb3J0e3MgYXMgTGluZU9mU2lnaHRBbmFseXNpc1Jlc3VsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YyBhcyBufWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e0FuYWx5c2lzVmlldzNEIGFzIGx9ZnJvbVwiLi9BbmFseXNpc1ZpZXczRC5qc1wiO2ltcG9ydHtMaW5lT2ZTaWdodENvbnRyb2xsZXIgYXMgcH1mcm9tXCIuL0xpbmVPZlNpZ2h0L0xpbmVPZlNpZ2h0Q29udHJvbGxlci5qc1wiO2ltcG9ydHtMaW5lT2ZTaWdodFRvb2wgYXMgeX1mcm9tXCIuL0xpbmVPZlNpZ2h0L0xpbmVPZlNpZ2h0VG9vbC5qc1wiO2ltcG9ydHtMaW5lT2ZTaWdodFZpc3VhbGl6YXRpb24gYXMgdX1mcm9tXCIuL0xpbmVPZlNpZ2h0L0xpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbi5qc1wiO2ltcG9ydHtjb25uZWN0QW5hbHlzaXNWaWV3VG9Ub29sIGFzIGgscmVtb3ZlQW5hbHlzaXNWaWV3VG9vbCBhcyBjfWZyb21cIi4uLy4uL2FuYWx5c2lzL2FuYWx5c2lzVmlld1V0aWxzLmpzXCI7bGV0IG09Y2xhc3MgZXh0ZW5kcyhsKG8uRXZlbnRlZE1peGluKGkpKSl7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy50eXBlPVwibGluZS1vZi1zaWdodC12aWV3LTNkXCIsdGhpcy5hbmFseXNpcz1udWxsLHRoaXMudG9vbD1udWxsLHRoaXMuY29tcHV0YXRpb25zPW5ldyBzLHRoaXMuZWxldmF0aW9uQWxpZ25lZE9ic2VydmVyPW51bGwsdGhpcy5vYnNlcnZlckVuZ2luZUxvY2F0aW9uPW4oKSx0aGlzLmN1cnNvclRhcmdldD1udWxsLHRoaXMuZWRpdGFibGU9ITB9aW5pdGlhbGl6ZSgpe2NvbnN0IHQ9dGhpcy52aWV3LGk9dGhpcy5hbmFseXNpczt0aGlzLl9hbmFseXNpc0NvbnRyb2xsZXI9bmV3IHAoe2FuYWx5c2lzOmksYW5hbHlzaXNWaWV3RGF0YTp0aGlzLHZpZXc6dH0pLHRoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbj1uZXcgdSh7YW5hbHlzaXM6aSxhbmFseXNpc1ZpZXdEYXRhOnRoaXMsdmlldzp0LGlzRGVjb3JhdGlvbjohdGhpcy5wYXJlbnR9KSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMuX2FuYWx5c2lzQ29udHJvbGxlci5vbihcInJlc3VsdC1jaGFuZ2VkXCIsKHQ9Pnt0LnRhcmdldCE9PXRoaXMuY3Vyc29yVGFyZ2V0JiZ0aGlzLmVtaXQoXCJyZXN1bHQtY2hhbmdlZFwiLHQpfSkpLGgodGhpcyx5KV0pfWRlc3Ryb3koKXtjKHRoaXMpLHRoaXMuX2FuYWx5c2lzQ29udHJvbGxlcj1yKHRoaXMuX2FuYWx5c2lzQ29udHJvbGxlciksdGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uPXIodGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uKX1nZXQgcmVzdWx0cygpe3JldHVybiB0aGlzLmNvbXB1dGF0aW9ucy5tYXAoKHQ9PnQucmVzdWx0KSl9Z2V0IHByaW9yaXR5KCl7cmV0dXJuIHRoaXMuX2FuYWx5c2lzQ29udHJvbGxlci5wcmlvcml0eX1zZXQgcHJpb3JpdHkodCl7dGhpcy5fYW5hbHlzaXNDb250cm9sbGVyLnByaW9yaXR5PXR9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIG51bGwhPXRoaXMuX2FuYWx5c2lzQ29udHJvbGxlciYmdGhpcy5fYW5hbHlzaXNDb250cm9sbGVyLnVwZGF0aW5nfHxudWxsIT10aGlzLl9hbmFseXNpc1Zpc3VhbGl6YXRpb24mJnRoaXMuX2FuYWx5c2lzVmlzdWFsaXphdGlvbi51cGRhdGluZ31nZXRSZXN1bHRGb3JUYXJnZXQodCl7cmV0dXJuIHRoaXMuY29tcHV0YXRpb25zLmZpbmQoKGk9PmkudGFyZ2V0PT09dCkpPy5yZXN1bHR9Z2V0IHRlc3RJbmZvKCl7cmV0dXJue3Zpc3VhbGl6YXRpb246dGhpcy5fYW5hbHlzaXNWaXN1YWxpemF0aW9uLGNvbnRyb2xsZXI6dGhpcy5fYW5hbHlzaXNDb250cm9sbGVyfX19O3QoW2Uoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksdChbZSh7Y29uc3RydWN0T25seTohMCxub25OdWxsYWJsZTohMH0pXSxtLnByb3RvdHlwZSxcImFuYWx5c2lzXCIsdm9pZCAwKSx0KFtlKCldLG0ucHJvdG90eXBlLFwidG9vbFwiLHZvaWQgMCksdChbZSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJyZXN1bHRzXCIsbnVsbCksdChbZSgpXSxtLnByb3RvdHlwZSxcInByaW9yaXR5XCIsbnVsbCksdChbZSgpXSxtLnByb3RvdHlwZSxcImNvbXB1dGF0aW9uc1wiLHZvaWQgMCksdChbZSgpXSxtLnByb3RvdHlwZSxcImVsZXZhdGlvbkFsaWduZWRPYnNlcnZlclwiLHZvaWQgMCksdChbZSgpXSxtLnByb3RvdHlwZSxcIm9ic2VydmVyRW5naW5lTG9jYXRpb25cIix2b2lkIDApLHQoW2UoKV0sbS5wcm90b3R5cGUsXCJjdXJzb3JUYXJnZXRcIix2b2lkIDApLHQoW2UoKV0sbS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHQoW2UoKV0sbS5wcm90b3R5cGUsXCJlZGl0YWJsZVwiLHZvaWQgMCksdChbZSgpXSxtLnByb3RvdHlwZSxcIl9hbmFseXNpc0NvbnRyb2xsZXJcIix2b2lkIDApLHQoW2UoKV0sbS5wcm90b3R5cGUsXCJfYW5hbHlzaXNWaXN1YWxpemF0aW9uXCIsdm9pZCAwKSxtPXQoW2EoXCJlc3JpLnZpZXdzLjNkLmFuYWx5c2lzLkxpbmVPZlNpZ2h0QW5hbHlzaXNWaWV3M0RcIildLG0pO2NvbnN0IGQ9bTtleHBvcnR7ZCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7bGV0IGk9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZWxldmF0aW9uQWxpZ25lZFRhcmdldExvY2F0aW9uPW51bGwsdGhpcy5pbnB1dFBvaW50cz17aXNWYWxpZDohMSxvYnNlcnZlcjpzKCksb2JzZXJ2ZXJTdXJmYWNlTm9ybWFsOm51bGwsb2JzZXJ2ZXJGZWF0dXJlSWQ6bnVsbCx0YXJnZXQ6cygpLHRhcmdldFN1cmZhY2VOb3JtYWw6bnVsbCx0YXJnZXRGZWF0dXJlSWQ6bnVsbCxvYnNlcnZlckFkanVzdGVkOnMoKSx0YXJnZXRBZGp1c3RlZDpzKCl9LHRoaXMuY29tcHV0YXRpb25SZXN1bHQ9e3N0YXJ0OnMoKSxlbmQ6cygpLGludGVyc2VjdGlvbjpzKCksaXNWYWxpZDohMSxpc1RhcmdldFZpc2libGU6ITF9LHRoaXMucmVzdWx0PW51bGx9bm90aWZ5UmVzdWx0Q2hhbmdlZCgpe3RoaXMubm90aWZ5Q2hhbmdlKFwiY29tcHV0YXRpb25SZXN1bHRcIil9bm90aWZ5SW5wdXRQb2ludHNDaGFuZ2VkKCl7dGhpcy5ub3RpZnlDaGFuZ2UoXCJpbnB1dFBvaW50c1wiKX19O3QoW2UoKV0saS5wcm90b3R5cGUsXCJ0YXJnZXRcIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJlbGV2YXRpb25BbGlnbmVkVGFyZ2V0TG9jYXRpb25cIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJpbnB1dFBvaW50c1wiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcImNvbXB1dGF0aW9uUmVzdWx0XCIsdm9pZCAwKSx0KFtlKCldLGkucHJvdG90eXBlLFwicmVzdWx0XCIsdm9pZCAwKSxpPXQoW3IoXCJlc3JpLnZpZXdzLjNkLmFuYWx5c2lzLkxpbmVPZlNpZ2h0LkxpbmVPZlNpZ2h0Q29tcHV0YXRpb25cIildLGkpO2V4cG9ydHtpIGFzIExpbmVPZlNpZ2h0Q29tcHV0YXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0e2dldENvbnRyYXN0IGFzIG4sbXVsdGlwbHlPcGFjaXR5VG9Vbml0UkdCQSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvY29sb3JVdGlscy5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmdsb3dXaWR0aD04LHRoaXMuaW5uZXJXaWR0aD0uNzV9fWNvbnN0IHI9bmV3IGU7ZnVuY3Rpb24gcyhvKXtjb25zdCB0PW8uYWNjZW50Q29sb3I7cmV0dXJue2dsb3dDb2xvcjp0LGlubmVyQ29sb3I6bih0KSxnbG9iYWxBbHBoYTouNzUqdC5hfX1jbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5zaXplPS41fX1jb25zdCBjPW5ldyBpO2Z1bmN0aW9uIGwobyl7cmV0dXJuIHQoby5hY2NlbnRDb2xvciwuNzUpfWNsYXNzIGh7Y29uc3RydWN0b3IoKXt0aGlzLnNpemU9LjUsdGhpcy52aXNpYmxlQ29sb3I9bmV3IG8oWzMsMjUyLDExMSwuNzVdKSx0aGlzLm9jY2x1ZGVkQ29sb3I9bmV3IG8oWzI1MiwzLDY5LC43NV0pLHRoaXMudW5kZWZpbmVkQ29sb3I9bmV3IG8oWzEyNywxMjcsMTI3LC43NV0pfX1jb25zdCB1PW5ldyBoO2NsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLmlubmVyV2lkdGg9Mix0aGlzLm91dGVyV2lkdGg9OCx0aGlzLnZpc2libGVJbm5lckNvbG9yPW5ldyBvKFszLDI1MiwxMTEsMV0pLHRoaXMudmlzaWJsZU91dGVyQ29sb3I9bmV3IG8oWzMsMjUyLDExMSwuMTVdKSx0aGlzLm9jY2x1ZGVkSW5uZXJDb2xvcj1uZXcgbyhbMjUyLDMsNjksMV0pLHRoaXMub2NjbHVkZWRPdXRlckNvbG9yPW5ldyBvKFsyNTIsMyw2OSwuMV0pLHRoaXMudW5kZWZpbmVkSW5uZXJDb2xvcj1uZXcgbyhbMjU1LDI1NSwyNTUsMV0pLHRoaXMudW5kZWZpbmVkT3V0ZXJDb2xvcj1uZXcgbyhbMTI3LDEyNywxMjcsLjJdKX19Y29uc3Qgdz1uZXcgZDtleHBvcnR7cyBhcyBnZXRMYXNlckxpbmVDb2xvcnMsbCBhcyBnZXRPYnNlcnZlclJHQkEsciBhcyBsYXNlckxpbmVDb25maWd1cmF0aW9uLHcgYXMgbGluZU9mU2lnaHRDb25maWd1cmF0aW9uLGMgYXMgb2JzZXJ2ZXJDb25maWd1cmF0aW9uLHUgYXMgdGFyZ2V0Q29uZmlndXJhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtnZXRGZWF0dXJlSWQgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9hbmFseXNpcy9mZWF0dXJlUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2NyZWF0ZVRhc2sgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZXMuanNcIjtpbXBvcnR7aGFuZGxlc0dyb3VwIGFzIHMsbWFrZUhhbmRsZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthYm9ydE1heWJlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpZ25vcmVBYm9ydEVycm9ycyBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2luaXRpYWwgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjIGFzIGgsbyBhcyBtLGYgYXMgdixuIGFzIGYsaSBhcyBfLGcgYXMgYixyIGFzIHksdSBhcyBDfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgSX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgVH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e3Byb2plY3RPckxvYWQgYXMgUH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uLmpzXCI7aW1wb3J0e3Byb2plY3RCb3VuZGluZ1JlY3QgYXMgT31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7ZW1wdHkgYXMgUyxjb250YWluc1BvaW50T2JqZWN0IGFzIGosaW50ZXJzZWN0c1NlZ21lbnQgYXMgUn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2Zyb21Qb2ludHMgYXMgdyxjcmVhdGUgYXMgQX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHt6VmFsdWVJbkFic29sdXRlSGVpZ2h0TW9kZSBhcyBFfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e0xpbmVPZlNpZ2h0QW5hbHlzaXNSZXN1bHQgYXMgSH1mcm9tXCIuLi9MaW5lT2ZTaWdodEFuYWx5c2lzUmVzdWx0LmpzXCI7aW1wb3J0e0xpbmVPZlNpZ2h0Q29tcHV0YXRpb24gYXMgRn1mcm9tXCIuL0xpbmVPZlNpZ2h0Q29tcHV0YXRpb24uanNcIjtpbXBvcnR7TGluZU9mU2lnaHRSYXlJbnRlcnNlY3RvciBhcyBMfWZyb21cIi4vTGluZU9mU2lnaHRSYXlJbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtsb2dGYWlsZWRHZW9tZXRyeVByb2plY3Rpb25FcnJvciBhcyBWfWZyb21cIi4uL3N1cHBvcnQvcHJvamVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e1N0b3JlUmVzdWx0cyBhcyBEfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e3RvR3JhcGhpYyBhcyB4LGhhc0xvZCBhcyBOLGdldEludGVyc2VjdGVkRmVhdHVyZUJTUmFkaXVzIGFzIEd9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9pbnRlcnNlY3RvclV0aWxzQ29udmVyc2lvbnMuanNcIjtpbXBvcnR7SW1tZWRpYXRlVGFzayBhcyBrLFRhc2tQcmlvcml0eSBhcyB6fWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7aW1wb3J0IFUgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBNPVwiZXNyaS52aWV3cy4zZC5hbmFseXNpcy5MaW5lT2ZTaWdodC5MaW5lT2ZTaWdodENvbnRyb2xsZXJcIixaPWwuZ2V0TG9nZ2VyKE0pO2xldCBCPWNsYXNzIGV4dGVuZHMoaS5FdmVudGVkTWl4aW4obikpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudXBkYXRlT25DYW1lcmFDaGFuZ2U9ITAsdGhpcy5fb2JzZXJ2ZXJHcm91bmRPZmZzZXRSZW5kZXJTcGFjZT0wLHRoaXMuX2VmZmVjdGl2ZU9ic2VydmVyRWxldmF0aW9uTW9kZT1cImFic29sdXRlLWhlaWdodFwiLHRoaXMuX29ic2VydmVyRmVhdHVyZUlkPW51bGwsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBULHRoaXMuX2ZyYW1lVGFzaz1rLHRoaXMuX2NvbXB1dGF0aW9uSGFuZGxlcz1uZXcgcix0aGlzLl9leHRlcm5hbE9ic2VydmVyVXBkYXRlPSEwfWluaXRpYWxpemUoKXtjb25zdCBlPXRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXI/LnNjaGVkdWxlcjt0aGlzLl9mcmFtZVRhc2s9ZT9lLnJlZ2lzdGVyVGFzayh6LkxJTkVfT0ZfU0lHSFRfVE9PTCk6ayx0aGlzLl9pbnRlcnNlY3Rvcj1uZXcgTCh7dmlldzp0aGlzLnZpZXd9KSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMuX2Nvbm5lY3RPYnNlcnZlcigpLHRoaXMuX2Nvbm5lY3RDb21wdXRhdGlvbnMoKSx0aGlzLl9jb25uZWN0VGFyZ2V0cygpXSl9ZGVzdHJveSgpe3RoaXMuX2NvbXB1dGF0aW9uSGFuZGxlcy5kZXN0cm95KCksdGhpcy5fY29tcHV0YXRpb25zLnJlbW92ZUFsbCgpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCl9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX2ZyYW1lVGFzay51cGRhdGluZ3x8dGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfWdldCBwcmlvcml0eSgpe3JldHVybiB0aGlzLl9mcmFtZVRhc2sucHJpb3JpdHl9c2V0IHByaW9yaXR5KGUpe3RoaXMuX2ZyYW1lVGFzay5wcmlvcml0eT1lfWdldCBfY29tcHV0YXRpb25zKCl7cmV0dXJuIHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5jb21wdXRhdGlvbnN9Z2V0IF9lbGV2YXRpb25BbGlnbmVkT2JzZXJ2ZXJQb3NpdGlvblJlbmRlclNwYWNlKCl7cmV0dXJuIHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5vYnNlcnZlckVuZ2luZUxvY2F0aW9ufXNldCBfZWxldmF0aW9uQWxpZ25lZE9ic2VydmVyUG9zaXRpb25SZW5kZXJTcGFjZShlKXt0aGlzLmFuYWx5c2lzVmlld0RhdGEub2JzZXJ2ZXJFbmdpbmVMb2NhdGlvbj1lfWdldCBfc2NyZWVuUGl4ZWxTaXplKCl7cmV0dXJuIHRoaXMudmlldy5zdGF0ZS5jYW1lcmEuY29tcHV0ZVNjcmVlblBpeGVsU2l6ZUF0KHRoaXMuX2VsZXZhdGlvbkFsaWduZWRPYnNlcnZlclBvc2l0aW9uUmVuZGVyU3BhY2UpfV9jb21wdXRlUmVzdWx0KGUpe2NvbnN0IHQ9ZS5jb21wdXRhdGlvbix7aW5wdXRQb2ludHM6bixjb21wdXRhdGlvblJlc3VsdDpvfT10LHtvYnNlcnZlckFkanVzdGVkOmksdGFyZ2V0QWRqdXN0ZWQ6cn09bix7c3RhcnQ6cyxlbmQ6YX09bztoKHMsaSksaChhLHIpO3RoaXMuX2NhbkNvbXB1dGUodCk/dGhpcy5fY29tcHV0ZUludGVyc2VjdGlvbihlKTp0aGlzLl9pbnRlcnBvbGF0ZUludGVyc2VjdGlvbihlKSx0Lm5vdGlmeVJlc3VsdENoYW5nZWQoKSx0aGlzLmVtaXQoXCJyZXN1bHQtY2hhbmdlZFwiLHt0YXJnZXQ6ZS5jb21wdXRhdGlvbi50YXJnZXQscmVzdWx0OnQucmVzdWx0fSl9X3VwZGF0ZUFkanVzdGVkUG9pbnRzRnJvbUZlYXR1cmVzKGUpe2NvbnN0IG49dGhpcy52aWV3LHtzY2VuZUludGVyc2VjdGlvbkhlbHBlcjpvfT1uLHtpbnB1dFBvaW50czppfT1lLHtvYnNlcnZlckFkanVzdGVkOnIsb2JzZXJ2ZXJGZWF0dXJlSWQ6cyx0YXJnZXRGZWF0dXJlSWQ6YSx0YXJnZXRBZGp1c3RlZDpsfT1pO2lmKG51bGw9PXMmJm51bGw9PWEpcmV0dXJuO2NvbnN0IHU9bShyLGwpLGM9dGhpcy5faW50ZXJzZWN0b3IuaW50ZXJzZWN0b3IsZD13KGkub2JzZXJ2ZXIsaS50YXJnZXQsSyk7Yy5vcHRpb25zLnN0b3JlPUQuQUxMLG8uaW50ZXJzZWN0VG9vbEludGVyc2VjdG9yUmF5KGQsYyk7bGV0IHA9bnVsbCxnPW51bGwsaD1udWxsLHY9bnVsbDtmb3IoY29uc3QgbSBvZiBjLnJlc3VsdHMuYWxsKXtjb25zdCBlPXgobSx0aGlzLnZpZXcpO2lmKG51bGw9PWV8fG51bGw9PW0uZGlzdGFuY2VJblJlbmRlclNwYWNlKWNvbnRpbnVlO2NvbnN0IG89dChlKTtudWxsIT1vJiYobnVsbCE9cyYmbz09PXMmJihudWxsPT1wJiYocD10aGlzLl9nZXRGZWF0dXJlRGlzdGFuY2VUaHJlc2hvbGQobSxuLHUpKSxtLmRpc3RhbmNlSW5SZW5kZXJTcGFjZTxwJiYoaD1tKSksbnVsbCE9YSYmbz09PWEmJihudWxsPT1nJiYoZz10aGlzLl9nZXRGZWF0dXJlRGlzdGFuY2VUaHJlc2hvbGQobSxuLHUpKSxudWxsPT12JiZtLmRpc3RhbmNlSW5SZW5kZXJTcGFjZTx1JiZ1LW0uZGlzdGFuY2VJblJlbmRlclNwYWNlPGcmJih2PW0pKSl9bnVsbCE9aCYmaC5nZXRJbnRlcnNlY3Rpb25Qb2ludChyKSYmKGkub2JzZXJ2ZXJTdXJmYWNlTm9ybWFsPWguZ2V0VHJhbnNmb3JtZWROb3JtYWwoSSgpKSksbnVsbCE9diYmdi5nZXRJbnRlcnNlY3Rpb25Qb2ludChsKSYmKGkudGFyZ2V0U3VyZmFjZU5vcm1hbD12LmdldFRyYW5zZm9ybWVkTm9ybWFsKEkoKSkpfV9nZXRGZWF0dXJlRGlzdGFuY2VUaHJlc2hvbGQoZSx0LG4pe2lmKE4oZSkpe2NvbnN0IG89RyhlLHQpO2lmKG51bGwhPW8pcmV0dXJuIE1hdGgubWluKG8qVyxuKX1yZXR1cm4gMWUtNSpufV9hZGp1c3RTdGFydEVuZFBvc2l0aW9ucyhlKXtjb25zdCB0PXRoaXMuX3NjcmVlblBpeGVsU2l6ZSxuPXRoaXMudmlldyx7aW5wdXRQb2ludHM6b309ZSx7b2JzZXJ2ZXI6aSxvYnNlcnZlclN1cmZhY2VOb3JtYWw6cix0YXJnZXQ6cyx0YXJnZXRTdXJmYWNlTm9ybWFsOmEsb2JzZXJ2ZXJBZGp1c3RlZDpsLHRhcmdldEFkanVzdGVkOnV9PW8sYz1KO2gobCxpKSxoKHUscyksdGhpcy5fdXBkYXRlQWRqdXN0ZWRQb2ludHNGcm9tRmVhdHVyZXMoZSksbnVsbCE9cj9oKGMscik6dihjLHUsbCk7Y29uc3QgZD10O2YoYyxjKSxfKGMsYyxNYXRoLm1pbihkLDEpKSxiKGwsbCxjKSxudWxsIT1hP2goYyxhKTp2KGMsbCx1KTtjb25zdCBwPW4uc3RhdGUuY2FtZXJhLmNvbXB1dGVTY3JlZW5QaXhlbFNpemVBdCh1KTtmKGMsYyksXyhjLGMsTWF0aC5taW4ocCwxKSksYih1LHUsYyl9X2NvbXB1dGVJbnRlcnNlY3Rpb24oe2NvbXB1dGF0aW9uOmUsaW50ZXJwb2xhdGlvbkluZm86dH0pe2NvbnN0e3ZpZXc6bn09dGhpcyx7c2NlbmVJbnRlcnNlY3Rpb25IZWxwZXI6byxyZW5kZXJDb29yZHNIZWxwZXI6aX09bjtpZihudWxsPT1vKXJldHVybjtjb25zdCByPXRoaXMuX2ludGVyc2VjdG9yLmludGVyc2VjdG9yLHtjb21wdXRhdGlvblJlc3VsdDpzLGlucHV0UG9pbnRzOmF9PWUse29ic2VydmVyOmwsdGFyZ2V0OnV9PWEse3N0YXJ0OmMsZW5kOmR9PXMscD13KGMsZCxLKTtyLm9wdGlvbnMuc3RvcmU9RC5NSU4sby5pbnRlcnNlY3RUb29sSW50ZXJzZWN0b3JSYXkocCxyKTtjb25zdCBnPXIucmVzdWx0cy5taW4sbT1zLmludGVyc2VjdGlvbix2PUo7bGV0IGY9ITA7aWYobnVsbCE9ZyYmZy5nZXRJbnRlcnNlY3Rpb25Qb2ludChtKSl7aCh0Lm9yaWdpbmFsSW50ZXJzZWN0aW9uLG0pLGgodC5vcmlnaW5hbE9ic2VydmVyLGMpLGgodC5vcmlnaW5hbFRhcmdldCxkKSxpLmZyb21SZW5kZXJDb29yZHMobSx2LG4uc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3QgZT0xLXkoZCx1KS95KGMsdSk7Zj15KGwsbSk+PWUqeShsLHUpfWNvbnN0IF89bmV3IFUodixuLnNwYXRpYWxSZWZlcmVuY2UpO3tjb25zdHtyZXN1bHQ6dCx0YXJnZXQ6b309ZTtudWxsIT10Pyh0LnRhcmdldD1vLHQuaW50ZXJzZWN0ZWRHcmFwaGljPWY/bnVsbDp4KGcsbiksdC5pbnRlcnNlY3RlZExvY2F0aW9uPWY/bnVsbDpfLHQudmlzaWJsZT1mKTplLnJlc3VsdD1uZXcgSCh7dGFyZ2V0Om8sZWxldmF0aW9uQWxpZ25lZFRhcmdldExvY2F0aW9uOmUuZWxldmF0aW9uQWxpZ25lZFRhcmdldExvY2F0aW9uLGludGVyc2VjdGVkR3JhcGhpYzpmP251bGw6eChnLG4pLGludGVyc2VjdGVkTG9jYXRpb246Zj9udWxsOl8sdmlzaWJsZTpmfSl9cy5pc1ZhbGlkPWEuaXNWYWxpZD0hMCxzLmlzVGFyZ2V0VmlzaWJsZT1mfV9pbnRlcnBvbGF0ZUludGVyc2VjdGlvbih7Y29tcHV0YXRpb246ZSxpbnRlcnBvbGF0aW9uSW5mbzp0fSl7Y29uc3R7Y29tcHV0YXRpb25SZXN1bHQ6bixpbnB1dFBvaW50czpvfT1lLHtzdGFydDppLGVuZDpyLGludGVyc2VjdGlvbjpzfT1uLHtvcmlnaW5hbEludGVyc2VjdGlvbjphLG9yaWdpbmFsT2JzZXJ2ZXI6bCxvcmlnaW5hbFRhcmdldDp1fT10O2lmKGgocyxhKSxvLmlzVmFsaWQpe2NvbnN0IGU9Six0PXkobCxhKS95KGwsdSk7QyhlLGksbCksXyhlLGUsMS10KSxiKHMscyxlKSxDKGUscix1KSxfKGUsZSx0KSxiKHMscyxlKSxuLmlzVmFsaWQ9ITB9ZWxzZSBlLnJlc3VsdD1udWxsLG4uaXNWYWxpZD0hMSxuLmlzVGFyZ2V0VmlzaWJsZT0hMX1fY2FuQ29tcHV0ZShlKXtjb25zdCB0PXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5lbGV2YXRpb25BbGlnbmVkT2JzZXJ2ZXIsbj10aGlzLnZpZXcuZnJ1c3R1bTtpZihudWxsPT10fHxudWxsPT1lLmVsZXZhdGlvbkFsaWduZWRUYXJnZXRMb2NhdGlvbnx8bnVsbD09bilyZXR1cm4hMTtjb25zdHtvYnNlcnZlckFkanVzdGVkOm8sdGFyZ2V0QWRqdXN0ZWQ6aX09ZS5pbnB1dFBvaW50cyxyPW4uaW50ZXJzZWN0c1BvaW50KG8pLHM9bi5pbnRlcnNlY3RzUG9pbnQoaSk7cmV0dXJuIHImJnN9X29uT2JzZXJ2ZXJQb3NpdGlvbkNoYW5nZShlLG4sbyxpLHIpe2lmKHRoaXMuX2V4dGVybmFsT2JzZXJ2ZXJVcGRhdGU9cixudWxsPT1lKXJldHVybiB0aGlzLmFuYWx5c2lzVmlld0RhdGEuZWxldmF0aW9uQWxpZ25lZE9ic2VydmVyPW51bGwsdm9pZCh0aGlzLl9vYnNlcnZlckZlYXR1cmVJZD1udWxsKTtpZihudWxsPT1uKXJldHVybiBWKHRoaXMuYW5hbHlzaXMsZS5zcGF0aWFsUmVmZXJlbmNlLFopLHZvaWQodGhpcy5hbmFseXNpc1ZpZXdEYXRhLmVsZXZhdGlvbkFsaWduZWRPYnNlcnZlcj1udWxsKTtjb25zdCBzPXRoaXMuX2dldEVmZmVjdGl2ZUVsZXZhdGlvbkluZm8obixvKSx7YWJzb2x1dGVaOmEsZWxldmF0aW9uOmx9PUUobi54LG4ueSxuLnosdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LHMpLHU9bi5jbG9uZSgpO3Uuej1hLHRoaXMuX2VmZmVjdGl2ZU9ic2VydmVyRWxldmF0aW9uTW9kZT1zLm1vZGUsdGhpcy5hbmFseXNpc1ZpZXdEYXRhLmVsZXZhdGlvbkFsaWduZWRPYnNlcnZlcj11O2NvbnN0IGM9SSgpO3RoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHModSxjKSx0aGlzLl9lbGV2YXRpb25BbGlnbmVkT2JzZXJ2ZXJQb3NpdGlvblJlbmRlclNwYWNlPWMsdGhpcy5fb2JzZXJ2ZXJHcm91bmRPZmZzZXRSZW5kZXJTcGFjZT1hLWwsdGhpcy5fb2JzZXJ2ZXJGZWF0dXJlSWQ9dChpKSx0aGlzLnByaW9yaXR5PXouTElORV9PRl9TSUdIVF9UT09MX0lOVEVSQUNUSVZFfV9vbk9ic2VydmVyUmVuZGVyU3BhY2VQb3NpdGlvbkNoYW5nZUZvckNvbXB1dGF0aW9uKGUsdCxuLG8saSl7Y29uc3R7aW5wdXRQb2ludHM6cn09ZTtzd2l0Y2goaChyLm9ic2VydmVyLHQpLHIub2JzZXJ2ZXJGZWF0dXJlSWQ9aSxyLm9ic2VydmVyU3VyZmFjZU5vcm1hbD1udWxsLG8pe2Nhc2VcIm9uLXRoZS1ncm91bmRcIjpjYXNlXCJyZWxhdGl2ZS10by1ncm91bmRcIjp7Y29uc3QgZT10aGlzLl9pbnRlcnNlY3Rvci51cGRhdGVGcm9tR3JvdW5kSW50ZXJzZWN0aW9uKHIub2JzZXJ2ZXIsbixyLm9ic2VydmVyKTtudWxsPT1yLm9ic2VydmVyRmVhdHVyZUlkJiYoci5vYnNlcnZlclN1cmZhY2VOb3JtYWw9ZSl9fXRoaXMuX2FkanVzdFN0YXJ0RW5kUG9zaXRpb25zKGUpLGUubm90aWZ5SW5wdXRQb2ludHNDaGFuZ2VkKCksdGhpcy5wcmlvcml0eT16LkxJTkVfT0ZfU0lHSFRfVE9PTF9JTlRFUkFDVElWRX1fb25UYXJnZXRQb3NpdGlvbkNoYW5nZShlLG4sbyxpLHIscz0hMCl7Y29uc3QgYT1lLmlucHV0UG9pbnRzO2lmKHMmJihhLmlzVmFsaWQ9ITEpLG51bGw9PW8pcmV0dXJuIG51bGwhPW4mJlYodGhpcy5hbmFseXNpcyxuLnNwYXRpYWxSZWZlcmVuY2UsWiksZS5lbGV2YXRpb25BbGlnbmVkVGFyZ2V0TG9jYXRpb249bnVsbCx2b2lkIGUubm90aWZ5SW5wdXRQb2ludHNDaGFuZ2VkKCk7Y29uc3QgbD10aGlzLl9nZXRFZmZlY3RpdmVFbGV2YXRpb25JbmZvKG8saSkse2Fic29sdXRlWjp1LGVsZXZhdGlvbjpjfT1FKG8ueCxvLnksby56LHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldyxsKSxkPW8uY2xvbmUoKTtzd2l0Y2goZC56PXUsZS5lbGV2YXRpb25BbGlnbmVkVGFyZ2V0TG9jYXRpb249ZCx0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLnRvUmVuZGVyQ29vcmRzKGUuZWxldmF0aW9uQWxpZ25lZFRhcmdldExvY2F0aW9uLGEudGFyZ2V0KSxhLnRhcmdldEZlYXR1cmVJZD10KHIpLGEudGFyZ2V0U3VyZmFjZU5vcm1hbD1udWxsLGwubW9kZSl7Y2FzZVwib24tdGhlLWdyb3VuZFwiOmNhc2VcInJlbGF0aXZlLXRvLWdyb3VuZFwiOntjb25zdCBlPXRoaXMuX2ludGVyc2VjdG9yLnVwZGF0ZUZyb21Hcm91bmRJbnRlcnNlY3Rpb24oYS50YXJnZXQsdS1jLGEudGFyZ2V0KTtudWxsPT1hLnRhcmdldEZlYXR1cmVJZCYmKGEudGFyZ2V0U3VyZmFjZU5vcm1hbD1lKX19dGhpcy5fYWRqdXN0U3RhcnRFbmRQb3NpdGlvbnMoZSksZS5ub3RpZnlJbnB1dFBvaW50c0NoYW5nZWQoKSx0aGlzLnByaW9yaXR5PXouTElORV9PRl9TSUdIVF9UT09MX0lOVEVSQUNUSVZFfV9jb25uZWN0Q29tcHV0YXRpb25Ub1RhcmdldChlKXtyZXR1cm4gcyhbdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Pih7Y29tcHV0YXRpb246ZSx0YXJnZXRQb3NpdGlvbjplLnRhcmdldC5wb3NpdGlvbix0YXJnZXRFbGV2YXRpb25JbmZvOmUudGFyZ2V0LmVsZXZhdGlvbkluZm8sdGFyZ2V0RmVhdHVyZUluZm86ZS50YXJnZXQuZmVhdHVyZSxwcm9qZWN0ZWRUYXJnZXRQb3NpdGlvbjpQKGUudGFyZ2V0LnBvc2l0aW9uLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKX0pKSwoKHtjb21wdXRhdGlvbjplLHRhcmdldFBvc2l0aW9uOnQsdGFyZ2V0RWxldmF0aW9uSW5mbzpuLHRhcmdldEZlYXR1cmVJbmZvOm8scHJvamVjdGVkVGFyZ2V0UG9zaXRpb246aX0pPT57bnVsbD09aS5wZW5kaW5nP3RoaXMuX29uVGFyZ2V0UG9zaXRpb25DaGFuZ2UoZSx0LGkuZ2VvbWV0cnksbixvKTp0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShpLnBlbmRpbmcpfSksZCldKX1fY29ubmVjdENvbXB1dGF0aW9uVG9PYnNlcnZlcihlKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Pih7Y29tcHV0YXRpb246ZSxvYnNlcnZlcjp0aGlzLmFuYWx5c2lzVmlld0RhdGEuZWxldmF0aW9uQWxpZ25lZE9ic2VydmVyfSkpLCgoe2NvbXB1dGF0aW9uOmV9KT0+e3RoaXMuX2V4dGVybmFsT2JzZXJ2ZXJVcGRhdGUmJihlLmlucHV0UG9pbnRzLmlzVmFsaWQ9ITEsZS5ub3RpZnlJbnB1dFBvaW50c0NoYW5nZWQoKSl9KSxkKX1fY29ubmVjdENvbXB1dGF0aW9uVG9SZW5kZXJTcGFjZU9ic2VydmVyKGUpe3JldHVybiB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+KHtjb21wdXRhdGlvbjplLG9ic2VydmVyOnRoaXMuX2VsZXZhdGlvbkFsaWduZWRPYnNlcnZlclBvc2l0aW9uUmVuZGVyU3BhY2Usb2JzZXJ2ZXJHcm91bmRPZmZzZXQ6dGhpcy5fb2JzZXJ2ZXJHcm91bmRPZmZzZXRSZW5kZXJTcGFjZSxvYnNlcnZlckVsZXZhdGlvbk1vZGU6dGhpcy5fZWZmZWN0aXZlT2JzZXJ2ZXJFbGV2YXRpb25Nb2RlLG9ic2VydmVyRmVhdHVyZUlkOnRoaXMuX29ic2VydmVyRmVhdHVyZUlkfSkpLCgoe2NvbXB1dGF0aW9uOmUsb2JzZXJ2ZXI6dCxvYnNlcnZlckdyb3VuZE9mZnNldDpuLG9ic2VydmVyRWxldmF0aW9uTW9kZTpvLG9ic2VydmVyRmVhdHVyZUlkOml9KT0+e3RoaXMuX29uT2JzZXJ2ZXJSZW5kZXJTcGFjZVBvc2l0aW9uQ2hhbmdlRm9yQ29tcHV0YXRpb24oZSx0LG4sbyxpKX0pLGQpfV9jb25uZWN0Q29tcHV0YXRpb25Ub0NhbWVyYShlKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9Pih7Y2FtZXJhOnRoaXMudmlldy5zdGF0ZS5jYW1lcmEsaXNEaXJ0eTp0aGlzLl9pc0NhbWVyYURpcnR5fSkpLCgoe2lzRGlydHk6dH0pPT57IXRoaXMudXBkYXRlT25DYW1lcmFDaGFuZ2V8fGUuaW5wdXRQb2ludHMuaXNWYWxpZCYmIXR8fGUubm90aWZ5SW5wdXRQb2ludHNDaGFuZ2VkKCl9KSl9X2Nvbm5lY3RDb21wdXRhdGlvblRvU2xpY2VQbGFuZShlKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudmlldy5zbGljZVBsYW5lKSwoKCk9PntlLmlucHV0UG9pbnRzLmlzVmFsaWQ9ITEsZS5ub3RpZnlJbnB1dFBvaW50c0NoYW5nZWQoKX0pKX1fY29ubmVjdENvbXB1dGF0aW9uVG9FbGV2YXRpb24oZSl7Y29uc3QgdD0obixvKT0+e2NvbnN0IGk9dGhpcy5hbmFseXNpcy5vYnNlcnZlcixyPWUudGFyZ2V0O2xldCBzPW51bGwsYT1udWxsLGw9bnVsbCx1PW51bGwsYz1udWxsLGQ9bnVsbDtpZihudWxsIT1pPy5wb3NpdGlvbil7Y29uc3QgZT1QKGkucG9zaXRpb24sdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpO2lmKG51bGwhPWUucGVuZGluZylyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UoZS5wZW5kaW5nKSx2b2lkIGUucGVuZGluZy5maW5hbGx5KCgoKT0+dChuLG8pKSk7cz1lLmdlb21ldHJ5LGE9aS5lbGV2YXRpb25JbmZvLGw9aS5mZWF0dXJlfWlmKG51bGwhPXIucG9zaXRpb24pe2NvbnN0IGU9UChyLnBvc2l0aW9uLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKTtpZihudWxsIT1lLnBlbmRpbmcpcmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKGUucGVuZGluZyksdm9pZCBlLnBlbmRpbmcuZmluYWxseSgoKCk9PnQobixvKSkpO3U9ZS5nZW9tZXRyeSxjPXIuZWxldmF0aW9uSW5mbyxkPXIuZmVhdHVyZX1udWxsPT1zJiZudWxsPT11fHwoTyhuLG8sUSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSksbnVsbCE9cyYmaihRLHMpJiZ0aGlzLl9vbk9ic2VydmVyUG9zaXRpb25DaGFuZ2UobnVsbCE9aT9pLnBvc2l0aW9uOm51bGwscyxhLGwsITEpLG51bGwhPXUmJmooUSx1KSYmdGhpcy5fb25UYXJnZXRQb3NpdGlvbkNoYW5nZShlLHIucG9zaXRpb24sdSxjLGQsITEpLG51bGwhPXMmJm51bGwhPXUmJlIoUSxzLHUpJiZlLm5vdGlmeUlucHV0UG9pbnRzQ2hhbmdlZCgpKX07cmV0dXJuIHRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlci5vbihcImVsZXZhdGlvbi1jaGFuZ2VcIiwoZT0+dChlLmV4dGVudCxlLnNwYXRpYWxSZWZlcmVuY2UpKSl9X2Nvbm5lY3RDb21wdXRhdGlvblRvVGFzayhlKXtsZXQgdD1udWxsO2NvbnN0IG49e2NvbXB1dGF0aW9uOmUsaW50ZXJwb2xhdGlvbkluZm86e29yaWdpbmFsSW50ZXJzZWN0aW9uOkkoKSxvcmlnaW5hbE9ic2VydmVyOkkoKSxvcmlnaW5hbFRhcmdldDpJKCl9fTtyZXR1cm4gcyhbdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PmUuaW5wdXRQb2ludHMpLCgoKT0+e3Q9dSh0KSx0PW8oKGFzeW5jIGU9Pnthd2FpdCBjKHRoaXMuX2ZyYW1lVGFzay5zY2hlZHVsZSgoKCk9PnRoaXMuX2NvbXB1dGVSZXN1bHQobikpLGUpKX0pKX0pLHtpbml0aWFsOiEwLGVxdWFsczooKT0+ITF9KSxhKCgoKT0+dD11KHQpKSldKX1fY29ubmVjdENvbXB1dGF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fY29tcHV0YXRpb25IYW5kbGVzO3QuaGFzKGUpfHx0LmFkZChbdGhpcy5fY29ubmVjdENvbXB1dGF0aW9uVG9UYXJnZXQoZSksdGhpcy5fY29ubmVjdENvbXB1dGF0aW9uVG9PYnNlcnZlcihlKSx0aGlzLl9jb25uZWN0Q29tcHV0YXRpb25Ub1JlbmRlclNwYWNlT2JzZXJ2ZXIoZSksdGhpcy5fY29ubmVjdENvbXB1dGF0aW9uVG9DYW1lcmEoZSksdGhpcy5fY29ubmVjdENvbXB1dGF0aW9uVG9TbGljZVBsYW5lKGUpLHRoaXMuX2Nvbm5lY3RDb21wdXRhdGlvblRvRWxldmF0aW9uKGUpLHRoaXMuX2Nvbm5lY3RDb21wdXRhdGlvblRvVGFzayhlKV0sZSl9X2Rpc2Nvbm5lY3RDb21wdXRhdGlvbihlKXt0aGlzLl9jb21wdXRhdGlvbkhhbmRsZXMucmVtb3ZlKGUpfV9vbkNvbXB1dGF0aW9uQ29sbGVjdGlvbkNoYW5nZSh7YWRkZWQ6ZSxyZW1vdmVkOnR9KXtmb3IoY29uc3QgbiBvZiB0KXRoaXMuX2Rpc2Nvbm5lY3RDb21wdXRhdGlvbihuKTtmb3IoY29uc3QgbiBvZiBlKXRoaXMuX2Nvbm5lY3RDb21wdXRhdGlvbihuKX1fb25UYXJnZXRDb2xsZWN0aW9uQ2hhbmdlKHthZGRlZDplLHJlbW92ZWQ6dH0pe2Zvcihjb25zdCBuIG9mIHQpdGhpcy5fcmVtb3ZlVGFyZ2V0KG4pO2Zvcihjb25zdCBuIG9mIGUpdGhpcy5fYWRkVGFyZ2V0KG4pfV9vbkN1cnNvclRhcmdldENoYW5nZShlLHQpe251bGwhPXQmJnRoaXMuX3JlbW92ZVRhcmdldCh0KSxudWxsIT1lJiZ0aGlzLl9hZGRUYXJnZXQoZSl9X2FkZFRhcmdldChlKXt0aGlzLl9jb21wdXRhdGlvbnMuc29tZSgodD0+dC50YXJnZXQ9PT1lKSl8fHRoaXMuX2NvbXB1dGF0aW9ucy5hZGQobmV3IEYoe3RhcmdldDplfSkpfV9yZW1vdmVUYXJnZXQoZSl7Y29uc3QgdD10aGlzLl9jb21wdXRhdGlvbnMuZmluZEluZGV4KCh0PT50LnRhcmdldD09PWUpKTt0aGlzLl9jb21wdXRhdGlvbnMucmVtb3ZlQXQodCl9X2Nvbm5lY3RPYnNlcnZlcigpe3JldHVybiBzKFt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+KHtvYnNlcnZlclBvc2l0aW9uOm51bGwhPXRoaXMuYW5hbHlzaXMub2JzZXJ2ZXI/dGhpcy5hbmFseXNpcy5vYnNlcnZlci5wb3NpdGlvbjpudWxsLHByb2plY3RlZE9ic2VydmVyUG9zaXRpb246UChudWxsIT10aGlzLmFuYWx5c2lzLm9ic2VydmVyP3RoaXMuYW5hbHlzaXMub2JzZXJ2ZXIucG9zaXRpb246bnVsbCx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSksb2JzZXJ2ZXJFbGV2YXRpb25JbmZvOm51bGwhPXRoaXMuYW5hbHlzaXMub2JzZXJ2ZXI/dGhpcy5hbmFseXNpcy5vYnNlcnZlci5lbGV2YXRpb25JbmZvOm51bGwsb2JzZXJ2ZXJGZWF0dXJlSW5mbzpudWxsIT10aGlzLmFuYWx5c2lzLm9ic2VydmVyP3RoaXMuYW5hbHlzaXMub2JzZXJ2ZXIuZmVhdHVyZTpudWxsfSkpLCgoe29ic2VydmVyUG9zaXRpb246ZSxwcm9qZWN0ZWRPYnNlcnZlclBvc2l0aW9uOnQsb2JzZXJ2ZXJFbGV2YXRpb25JbmZvOm4sb2JzZXJ2ZXJGZWF0dXJlSW5mbzpvfSk9PntudWxsPT10LnBlbmRpbmc/dGhpcy5fb25PYnNlcnZlclBvc2l0aW9uQ2hhbmdlKGUsdC5nZW9tZXRyeSxuLG8sITApOnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHQucGVuZGluZyl9KSxkKV0pfV9jb25uZWN0Q29tcHV0YXRpb25zKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRPbkNvbGxlY3Rpb25DaGFuZ2UoKCgpPT50aGlzLl9jb21wdXRhdGlvbnMpLChlPT50aGlzLl9vbkNvbXB1dGF0aW9uQ29sbGVjdGlvbkNoYW5nZShlKSkse2luaXRpYWw6ITAsZmluYWw6ITB9KX1fY29ubmVjdFRhcmdldHMoKXtyZXR1cm4gcyhbdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZE9uQ29sbGVjdGlvbkNoYW5nZSgoKCk9PnRoaXMuYW5hbHlzaXMudGFyZ2V0cyksKGU9PnRoaXMuX29uVGFyZ2V0Q29sbGVjdGlvbkNoYW5nZShlKSkse2luaXRpYWw6ITAsZmluYWw6ITB9KSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5hbmFseXNpc1ZpZXdEYXRhLmN1cnNvclRhcmdldCksKChlLHQpPT57dGhpcy5fb25DdXJzb3JUYXJnZXRDaGFuZ2UoZSx0KX0pKV0pfWdldCBfaXNDYW1lcmFEaXJ0eSgpe2NvbnN0IGU9dGhpcy5hbmFseXNpc1ZpZXdEYXRhLmVsZXZhdGlvbkFsaWduZWRPYnNlcnZlcix7dmlldzp0fT10aGlzLHtyZW5kZXJDb29yZHNIZWxwZXI6bn09dDtpZihudWxsPT1lfHxudWxsPT1uKXJldHVybiExO2NvbnN0IG89SjtuLnRvUmVuZGVyQ29vcmRzKGUsbyk7Y29uc3QgaT10LnN0YXRlLmNhbWVyYS5jb21wdXRlU2NyZWVuUGl4ZWxTaXplQXQobyk7cmV0dXJuIE1hdGguYWJzKChpLXRoaXMuX3NjcmVlblBpeGVsU2l6ZSkvdGhpcy5fc2NyZWVuUGl4ZWxTaXplKT5xfV9nZXRFZmZlY3RpdmVFbGV2YXRpb25JbmZvKGUsdCl7cmV0dXJuIGUuaGFzWj90Pz97bW9kZTpcImFic29sdXRlLWhlaWdodFwiLG9mZnNldDowfTp7bW9kZTpcIm9uLXRoZS1ncm91bmRcIixvZmZzZXQ6MH19fTtlKFtwKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEIucHJvdG90eXBlLFwiYW5hbHlzaXNcIix2b2lkIDApLGUoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0sQi5wcm90b3R5cGUsXCJhbmFseXNpc1ZpZXdEYXRhXCIsdm9pZCAwKSxlKFtwKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEIucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbcCgpXSxCLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbcCgpXSxCLnByb3RvdHlwZSxcInByaW9yaXR5XCIsbnVsbCksZShbcCgpXSxCLnByb3RvdHlwZSxcInVwZGF0ZU9uQ2FtZXJhQ2hhbmdlXCIsdm9pZCAwKSxlKFtwKCldLEIucHJvdG90eXBlLFwiX2NvbXB1dGF0aW9uc1wiLG51bGwpLGUoW3AoKV0sQi5wcm90b3R5cGUsXCJfZWxldmF0aW9uQWxpZ25lZE9ic2VydmVyUG9zaXRpb25SZW5kZXJTcGFjZVwiLG51bGwpLGUoW3AoKV0sQi5wcm90b3R5cGUsXCJfb2JzZXJ2ZXJHcm91bmRPZmZzZXRSZW5kZXJTcGFjZVwiLHZvaWQgMCksZShbcCgpXSxCLnByb3RvdHlwZSxcIl9lZmZlY3RpdmVPYnNlcnZlckVsZXZhdGlvbk1vZGVcIix2b2lkIDApLGUoW3AoKV0sQi5wcm90b3R5cGUsXCJfb2JzZXJ2ZXJGZWF0dXJlSWRcIix2b2lkIDApLGUoW3AoKV0sQi5wcm90b3R5cGUsXCJfc2NyZWVuUGl4ZWxTaXplXCIsbnVsbCksZShbcCh7cmVhZE9ubHk6ITB9KV0sQi5wcm90b3R5cGUsXCJfdXBkYXRpbmdIYW5kbGVzXCIsdm9pZCAwKSxlKFtwKCldLEIucHJvdG90eXBlLFwiX2ZyYW1lVGFza1wiLHZvaWQgMCksZShbcCgpXSxCLnByb3RvdHlwZSxcIl9pc0NhbWVyYURpcnR5XCIsbnVsbCksQj1lKFtnKE0pXSxCKTtjb25zdCBxPS4xLEo9SSgpLEs9QSgpLFE9UygpLFc9LjA1O2V4cG9ydHtCIGFzIExpbmVPZlNpZ2h0Q29udHJvbGxlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7Y2xvbmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7ZXF1YWxzTWF5YmUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7RyBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2cgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO3ZhciBtO2xldCB5PW09Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpfWNsb25lKCl7cmV0dXJuIG5ldyBtKHt0eXBlOnRoaXMudHlwZSxpZDpzKHRoaXMuaWQpLG1hcFBvaW50OnModGhpcy5tYXBQb2ludCkscmVuZGVyUG9pbnQ6Yyh0aGlzLnJlbmRlclBvaW50KSxub3JtYWw6cyh0aGlzLm5vcm1hbCkscmF5OnModGhpcy5yYXkpLGdyYXBoaWM6dGhpcy5ncmFwaGljfSl9ZXF1YWxzKHIpe3JldHVybiB0aGlzLnR5cGU9PT1yLnR5cGUmJnRoaXMuaWQ9PT1yLmlkJiZlKHRoaXMubWFwUG9pbnQsci5tYXBQb2ludCkmJm4odGhpcy5yZW5kZXJQb2ludCxyLnJlbmRlclBvaW50KSYmdCh0aGlzLm5vcm1hbCxyLm5vcm1hbCkmJmEodGhpcy5yYXksci5yYXkpJiZ0aGlzLmdyYXBoaWM9PT1yLmdyYXBoaWN9fTtyKFtpKCldLHkucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCkscihbaSh7Y29uc3RydWN0T25seTohMH0pXSx5LnByb3RvdHlwZSxcImlkXCIsdm9pZCAwKSxyKFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHkucHJvdG90eXBlLFwibWFwUG9pbnRcIix2b2lkIDApLHIoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJyZW5kZXJQb2ludFwiLHZvaWQgMCkscihbaSh7Y29uc3RydWN0T25seTohMH0pXSx5LnByb3RvdHlwZSxcIm5vcm1hbFwiLHZvaWQgMCkscihbaSh7Y29uc3RydWN0T25seTohMH0pXSx5LnByb3RvdHlwZSxcImdyYXBoaWNcIix2b2lkIDApLHIoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJyYXlcIix2b2lkIDApLHk9bT1yKFtwKFwiZXNyaS52aWV3cy4zZC5hbmFseXNpcy5MaW5lT2ZTaWdodC5MaW5lT2ZTaWdodEludGVyc2VjdGlvblJlc3VsdFwiKV0seSk7ZXhwb3J0e3kgYXMgTGluZU9mU2lnaHRJbnRlcnNlY3Rpb25SZXN1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2dldE9ic2VydmVyUkdCQSBhcyBvLG9ic2VydmVyQ29uZmlndXJhdGlvbiBhcyByLHRhcmdldENvbmZpZ3VyYXRpb24gYXMgaX1mcm9tXCIuL0xpbmVPZlNpZ2h0Q29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtNYW5pcHVsYXRvcjNEIGFzIHN9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvTWFuaXB1bGF0b3IzRC5qc1wiO2ltcG9ydHtjcmVhdGVNYW5pcHVsYXRvck1hdGVyaWFsIGFzIG59ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvbWFuaXB1bGF0b3JVdGlscy5qc1wiO2ltcG9ydHtSZW5kZXJPYmplY3QgYXMgbX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9SZW5kZXJPYmplY3QuanNcIjtpbXBvcnR7ZGlzYWJsZURpc3BsYXlPbkdyYWIgYXMgYX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9lZGl0aW5nVG9vbHMvbWFuaXB1bGF0b3JVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVTcGhlcmVHZW9tZXRyeSBhcyBjfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnlVdGlsLmpzXCI7aW1wb3J0e01hbmlwdWxhdG9yU3RhdGVDdXN0b21GbGFncyBhcyBsfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL2ludGVyZmFjZXMuanNcIjtjbGFzcyBmIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLGkpe2NvbnN0IHM9bihvKGUuZWZmZWN0aXZlVGhlbWUpKSxsPWMocyxyLnNpemUsMzIsMzIpLGY9bmV3IG0obCk7c3VwZXIoe3ZpZXc6ZSxyZW5kZXJPYmplY3RzOltmXSxtZXRhZGF0YTppLGVsZXZhdGlvbkluZm86e21vZGU6XCJhYnNvbHV0ZS1oZWlnaHRcIixvZmZzZXQ6MH19KSxhKHRoaXMpLHRoaXMudGhlbWVIYW5kbGU9dCgoKCk9Pih7Y29sb3I6byhlLmVmZmVjdGl2ZVRoZW1lKX0pKSwoZT0+e3Muc2V0UGFyYW1ldGVycyhlKX0pKX1kZXN0cm95KCl7dGhpcy50aGVtZUhhbmRsZS5yZW1vdmUoKSxzdXBlci5kZXN0cm95KCl9fWNsYXNzIGQgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUsdCl7Y29uc3R7c2l6ZTpvLHZpc2libGVDb2xvcjpyLG9jY2x1ZGVkQ29sb3I6cyx1bmRlZmluZWRDb2xvcjpufT1pO3N1cGVyKHt2aWV3OmUscmVuZGVyT2JqZWN0czpbdShvLHIsbC5DdXN0b20xKSx1KG8scyxsLkN1c3RvbTIpLHUobyxuLGwuQ3VzdG9tMyldLG1ldGFkYXRhOnQsZWxldmF0aW9uSW5mbzp7bW9kZTpcImFic29sdXRlLWhlaWdodFwiLG9mZnNldDowfX0pLGEodGhpcyl9fWZ1bmN0aW9uIHUodCxvLHIpe3JldHVybiBuZXcgbShjKG4oZS50b1VuaXRSR0JBKG8pKSx0LDMyLDMyKSxyKX1leHBvcnR7ZiBhcyBMaW5lT2ZTaWdodE9ic2VydmVyTWFuaXB1bGF0b3IsZCBhcyBMaW5lT2ZTaWdodFRhcmdldE1hbmlwdWxhdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3NjcmVlblBvaW50T2JqZWN0VG9BcnJheSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHthIGFzIGksYyBhcyBuLG4gYXMgYSxpIGFzIGMsZyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2cgYXMgcCxjIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHUsY29weSBhcyBkLGZyb21Qb2ludHMgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHtzdjJkIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC92ZWN0b3JTdGFja3MuanNcIjtpbXBvcnR7Z2V0T2JqZWN0SWQgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e0xpbmVPZlNpZ2h0SW50ZXJzZWN0aW9uUmVzdWx0IGFzIGd9ZnJvbVwiLi9MaW5lT2ZTaWdodEludGVyc2VjdGlvblJlc3VsdC5qc1wiO2ltcG9ydHtpc0kzc0ludGVyc2VjdG9yUmVzdWx0IGFzIEl9ZnJvbVwiLi4vLi4vbGF5ZXJzL2kzcy9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtmcm9tU2NyZWVuIGFzIGp9ZnJvbVwiLi4vLi4vc3VwcG9ydC9nZW9tZXRyeVV0aWxzL3JheS5qc1wiO2ltcG9ydHtpc1RlcnJhaW5JbnRlcnNlY3RvclJlc3VsdCBhcyB2fWZyb21cIi4uLy4uL3RlcnJhaW4vSW50ZXJzZWN0b3IuanNcIjtpbXBvcnR7bmV3SW50ZXJzZWN0b3IgYXMgd31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9yLmpzXCI7aW1wb3J0e1N0b3JlUmVzdWx0cyBhcyBiLEludGVyc2VjdG9yVHlwZSBhcyBQfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e3RvR3JhcGhpYyBhcyBSfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvaW50ZXJzZWN0b3JVdGlsc0NvbnZlcnNpb25zLmpzXCI7bGV0IFM9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3RlcnJhaW5JbnRlcnNlY3Rpb25PcHRpb25zTGF5ZXJVaWRzPW5ldyBTZXQoW1widGVycmFpblwiXSl9aW5pdGlhbGl6ZSgpe3RoaXMuaW50ZXJzZWN0b3I9dyh0aGlzLnZpZXcuc3RhdGUudmlld2luZ01vZGUpLHRoaXMuaW50ZXJzZWN0b3Iub3B0aW9ucy5odWQ9ITEsdGhpcy5pbnRlcnNlY3Rvci5vcHRpb25zLnN0b3JlPWIuTUlOfWdldFNjcmVlblBvaW50SW50ZXJzZWN0aW9uKGUpe2NvbnN0IHI9dChlLGguZ2V0KCkpLHM9aih0aGlzLnZpZXcuc3RhdGUuY2FtZXJhLHIsTCk7cmV0dXJuIHRoaXMuX2dldFJheUludGVyc2VjdGlvbihzKX1fZ2V0UmF5SW50ZXJzZWN0aW9uKGUscil7aWYobnVsbD09ZXx8bnVsbD09dGhpcy52aWV3LnNjZW5lSW50ZXJzZWN0aW9uSGVscGVyKXJldHVybiBudWxsO2NvbnN0e2ludGVyc2VjdG9yOnR9PXRoaXM7dC5vcHRpb25zLnN0b3JlPWIuTUlOLHRoaXMudmlldy5zY2VuZUludGVyc2VjdGlvbkhlbHBlci5pbnRlcnNlY3RUb29sSW50ZXJzZWN0b3JSYXkoZSx0LHIpO2NvbnN0IHM9dC5yZXN1bHRzLm1pbixvPW0oKTtpZighcy5nZXRJbnRlcnNlY3Rpb25Qb2ludChvKSlyZXR1cm4gbnVsbDtpZihudWxsIT1yPy5tYXhEaXN0YW5jZSYmaShvLGUub3JpZ2luKT5yLm1heERpc3RhbmNlKioyKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci5mcm9tUmVuZGVyQ29vcmRzKG8sdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLGE9cChzLm5vcm1hbCk7aWYoSShzKSlyZXR1cm4gbmV3IGcoe3R5cGU6UC5PQkpFQ1QsaWQ6YCR7cy50YXJnZXQubGF5ZXJVaWR9LyR7cy50YXJnZXQubm9kZUluZGV4fS8ke3MudGFyZ2V0LmNvbXBvbmVudEluZGV4fWAsbWFwUG9pbnQ6bixyZW5kZXJQb2ludDpvLG5vcm1hbDphLHJheTpkKGUpLGdyYXBoaWM6bnVsbH0pO2lmKHYocykpcmV0dXJuIG5ldyBnKHt0eXBlOlAuVEVSUkFJTixpZDpzLnRhcmdldC5saWouc2xpY2UoKSxtYXBQb2ludDpuLHJlbmRlclBvaW50Om8sbm9ybWFsOmEscmF5OmQoZSksZ3JhcGhpYzpudWxsfSk7Y29uc3QgYz1SKHMsdGhpcy52aWV3KTtpZihudWxsIT1jKXtjb25zdCByPWMubGF5ZXIsdD1jLnNvdXJjZUxheWVyO2xldCBzO2lmKHQpaWYoXCJzY2VuZVwiPT09dC50eXBlKXM9eShjLHQub2JqZWN0SWRGaWVsZCk7ZWxzZSBzPWMudWlkO2Vsc2Ugcz1jLnVpZDtyZXR1cm4gbmV3IGcoe3R5cGU6UC5PQkpFQ1QsaWQ6YCR7cj8udWlkfS8ke3N9YCxtYXBQb2ludDpuLHJlbmRlclBvaW50Om8sbm9ybWFsOmEscmF5OmQoZSksZ3JhcGhpYzpjfSl9cmV0dXJuIG51bGx9dXBkYXRlRnJvbUdyb3VuZEludGVyc2VjdGlvbihlLHIsdCl7Y29uc3Qgcz14LG89VSxpPU8sbT1DO24obyxlKSx0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKG8saSksYShpLGkpO2NvbnN0IHU9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnZpc2libGVFbGV2YXRpb25Cb3VuZHMsZD0ocj49MD8xOi0xKSooKHU/TWF0aC5hYnModS5tYXgtdS5taW4pOjEwMCkrTWF0aC5hYnMocikpO2MobSxpLGQpLGwocyxvLG0pLGYocyxvLEwpO2NvbnN0IGg9dGhpcy5fZ2V0UmF5SW50ZXJzZWN0aW9uKEwse2luY2x1ZGU6dGhpcy5fdGVycmFpbkludGVyc2VjdGlvbk9wdGlvbnNMYXllclVpZHMsbWF4RGlzdGFuY2U6ZH0pO2lmKG51bGwhPWgpe2NvbnN0IGU9QztyZXR1cm4gYyhlLGksciksbCh0LGgucmVuZGVyUG9pbnQsZSkscChoLm5vcm1hbCl9cmV0dXJuIG4odCxlKSxudWxsfX07ZShbcygpXSxTLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW3MoKV0sUy5wcm90b3R5cGUsXCJpbnRlcnNlY3RvclwiLHZvaWQgMCksUz1lKFtvKFwiZXNyaS52aWV3cy4zZC5hbmFseXNpcy5MaW5lT2ZTaWdodC5MaW5lT2ZTaWdodFJheUludGVyc2VjdG9yXCIpXSxTKTtjb25zdCB4PW0oKSxVPW0oKSxPPW0oKSxDPW0oKSxMPXUoKTtleHBvcnR7UyBhcyBMaW5lT2ZTaWdodFJheUludGVyc2VjdG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL2FuYWx5c2lzL0xpbmVPZlNpZ2h0QW5hbHlzaXNPYnNlcnZlci5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uLy4uL2FuYWx5c2lzL0xpbmVPZlNpZ2h0QW5hbHlzaXNUYXJnZXQuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZXMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIG8sc3luY0FuZEluaXRpYWwgYXMgbCxpbml0aWFsIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZCxmcm9tUG9pbnRzIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9saW5lU2VnbWVudC5qc1wiO2ltcG9ydHtnZXRHcmFwaGljRWZmZWN0aXZlRWxldmF0aW9uSW5mbyBhcyBfLGdldENvbnZlcnRlZEVsZXZhdGlvbiBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L0VsZXZhdGlvbkluZm8uanNcIjtpbXBvcnR7Z2V0TGFzZXJMaW5lQ29sb3JzIGFzIGIsbGFzZXJMaW5lQ29uZmlndXJhdGlvbiBhcyB5fWZyb21cIi4vTGluZU9mU2lnaHRDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0xpbmVPZlNpZ2h0VGFyZ2V0TWFuaXB1bGF0b3IgYXMgZixMaW5lT2ZTaWdodE9ic2VydmVyTWFuaXB1bGF0b3IgYXMgVH1mcm9tXCIuL0xpbmVPZlNpZ2h0TWFuaXB1bGF0b3JzLmpzXCI7aW1wb3J0e0xpbmVPZlNpZ2h0UmF5SW50ZXJzZWN0b3IgYXMgTH1mcm9tXCIuL0xpbmVPZlNpZ2h0UmF5SW50ZXJzZWN0b3IuanNcIjtpbXBvcnR7TGFzZXJsaW5lVmlzdWFsRWxlbWVudCBhcyB3fWZyb21cIi4uLy4uL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL0xhc2VybGluZVZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7SW50ZXJzZWN0b3JUeXBlIGFzIE19ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3RvckludGVyZmFjZXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2lucHV0L1ZpZXdFdmVudHMuanNcIjtpbXBvcnR7QW5hbHlzaXNUb29sQmFzZSBhcyBDfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL0FuYWx5c2lzVG9vbEJhc2UuanNcIjtpbXBvcnR7Y3JlYXRlTWFuaXB1bGF0b3JEcmFnRXZlbnRQaXBlbGluZSBhcyBrfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL2RyYWdFdmVudFBpcGVsaW5lLmpzXCI7aW1wb3J0e01hbmlwdWxhdG9yU3RhdGVDdXN0b21GbGFncyBhcyBTfWZyb21cIi4uLy4uLy4uL2ludGVyYWN0aXZlL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7Y3JlYXRlU2NyZWVuUG9pbnRGcm9tRXZlbnQgYXMgVn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e01vdXNlQnV0dG9uIGFzIEh9ZnJvbVwiLi4vLi4vLi4vaW5wdXQvSVZpZXdFdmVudHMuanNcIjt2YXIgRDshZnVuY3Rpb24oZSl7ZS5SZWFkeT1cInJlYWR5XCIsZS5DcmVhdGluZz1cImNyZWF0aW5nXCIsZS5DcmVhdGVkPVwiY3JlYXRlZFwifShEfHwoRD17fSkpO2xldCBPPWNsYXNzIGV4dGVuZHMgQ3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJlbW92ZUluY29tcGxldGVPbkNhbmNlbD0hMSx0aGlzLmFuYWx5c2lzVmlld0RhdGE9bnVsbCx0aGlzLl9sYXRlc3RQb2ludGVyTW92ZVBvaW50ZXJUeXBlPW51bGwsdGhpcy5fbGFzZXJsaW5lVmlzdWFsRWxlbWVudD1udWxsLHRoaXMuX2dyYWJiZWRNYW5pcHVsYXRvcj1udWxsLHRoaXMuX2FuYWx5c2lzSGFuZGxlcz1uZXcgbix0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGgsdGhpcy5fbWFuaXB1bGF0b3JIYW5kbGVzPW5ldyBuLHRoaXMuX3RhcmdldFRyYWNrZXJNYW5pcHVsYXRvcj1udWxsfWluaXRpYWxpemUoKXt0aGlzLl9pbnRlcnNlY3Rvcj1uZXcgTCh7dmlldzp0aGlzLnZpZXd9KSx0aGlzLmFkZEhhbmRsZXMobygoKCk9PnRoaXMuc3RhdGUpLChlPT57ZT09PUQuQ3JlYXRlZCYmdGhpcy5maW5pc2hUb29sQ3JlYXRpb24oKX0pLGwpKSx0aGlzLl9vYnNlcnZlck1hbmlwdWxhdG9yPXRoaXMuX2NyZWF0ZU9ic2VydmVyTWFuaXB1bGF0b3IoKSx0aGlzLl9jcmVhdGVMYXNlckxpbmUoKSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmFuYWx5c2lzVmlld0RhdGE/LmVsZXZhdGlvbkFsaWduZWRPYnNlcnZlciksKGU9PnRoaXMuX29uT2JzZXJ2ZXJMb2NhdGlvbkNoYW5nZShlKSksdSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PmIodGhpcy52aWV3LmVmZmVjdGl2ZVRoZW1lKSksKCh7Z2xvd0NvbG9yOmUsaW5uZXJDb2xvcjp0LGdsb2JhbEFscGhhOml9KT0+dGhpcy5fdXBkYXRlTGFzZXJMaW5lU3R5bGUoZSx0LGkpKSx1KSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5fbGFzZXJMaW5lUmVuZGVyZXJEZXBlbmRlbmNpZXMoKSksKGU9PnRoaXMuX3VwZGF0ZUxhc2VyTGluZVJlbmRlcmVyKGUpKSksdGhpcy5fY29ubmVjdENvbXB1dGF0aW9ucygpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRXaGVuKCgoKT0+IXRoaXMuX3Nob3VsZFJlbmRlclRyYWNrZXIpLCgoKT0+dGhpcy5fY2xlYXJDdXJzb3JUcmFja2VyKCkpLHUpXSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcz1zKHRoaXMuX3VwZGF0aW5nSGFuZGxlcyksdGhpcy5fbWFuaXB1bGF0b3JIYW5kbGVzPXModGhpcy5fbWFuaXB1bGF0b3JIYW5kbGVzKSx0aGlzLl9hbmFseXNpc0hhbmRsZXM9cyh0aGlzLl9hbmFseXNpc0hhbmRsZXMpLHRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3I9bnVsbCx0aGlzLl9jbGVhckN1cnNvclRyYWNrZXIoKSx0aGlzLl9yZW1vdmVMYXNlckxpbmUoKSx0aGlzLl9pbnRlcnNlY3Rvcj1udWxsLHRoaXMuX3NldChcImFuYWx5c2lzXCIsbnVsbCl9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuYWN0aXZlP3RoaXMuaGFzR3JhYmJlZE1hbmlwdWxhdG9ycz9ELkNyZWF0ZWQ6RC5DcmVhdGluZzpudWxsIT10aGlzLmFuYWx5c2lzLm9ic2VydmVyPy5wb3NpdGlvbj9ELkNyZWF0ZWQ6RC5SZWFkeX1nZXQgY3Vyc29yKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiZ0aGlzLl9zaG93VHJhY2tlcj9cImNyb3NzaGFpclwiOm51bGx9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIG51bGwhPXRoaXMuYW5hbHlzaXNWaWV3RGF0YSYmdGhpcy5hbmFseXNpc1ZpZXdEYXRhLnVwZGF0aW5nfHx0aGlzLl91cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd9Z2V0IF9zaG93VHJhY2tlcigpe3JldHVybiB0aGlzLmFjdGl2ZSYmXCJtb3VzZVwiPT09dGhpcy5fbGF0ZXN0UG9pbnRlck1vdmVQb2ludGVyVHlwZX1nZXQgX3Nob3VsZFJlbmRlclRyYWNrZXIoKXtyZXR1cm4gdGhpcy5fc2hvd1RyYWNrZXImJm51bGwhPXRoaXMuYW5hbHlzaXMub2JzZXJ2ZXI/LnBvc2l0aW9uJiYhdGhpcy5oYXNHcmFiYmVkTWFuaXB1bGF0b3JzfWNvbnRpbnVlKCl7dGhpcy52aWV3LmFjdGl2ZVRvb2w9dGhpc31zdG9wKCl7dGhpcy52aWV3LmFjdGl2ZVRvb2w9bnVsbH1vbkVkaXRhYmxlQ2hhbmdlKCl7dGhpcy5hbmFseXNpc1ZpZXdEYXRhLmVkaXRhYmxlPXRoaXMuaW50ZXJuYWxseUVkaXRhYmxlfW9uSW5wdXRFdmVudChlKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJpbW1lZGlhdGUtZG91YmxlLWNsaWNrXCI6dGhpcy5fZG91YmxlQ2xpY2tIYW5kbGVyKGUpO2JyZWFrO2Nhc2VcImtleS1kb3duXCI6dGhpcy5fa2V5RG93bkhhbmRsZXIoZSk7YnJlYWs7Y2FzZVwicG9pbnRlci1tb3ZlXCI6dGhpcy5fcG9pbnRlck1vdmVIYW5kbGVyKGUpfX1vbklucHV0RXZlbnRBZnRlcihlKXtpZihcImltbWVkaWF0ZS1jbGlja1wiPT09ZS50eXBlKXRoaXMuX2NsaWNrSGFuZGxlcihlKX1vblNob3coKXt9b25IaWRlKCl7fW9uRGVhY3RpdmF0ZSgpe3RoaXMuX2NsZWFyQ3Vyc29yVHJhY2tlcigpfV9jb25uZWN0Q29tcHV0YXRpb25zKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRPbkNvbGxlY3Rpb25DaGFuZ2UoKCgpPT50aGlzLmFuYWx5c2lzVmlld0RhdGEuY29tcHV0YXRpb25zKSwoZT0+dGhpcy5fb25Db21wdXRhdGlvbnNDb2xsZWN0aW9uQ2hhbmdlKGUpKSx7aW5pdGlhbDohMCxmaW5hbDohMH0pfV9vbkNvbXB1dGF0aW9uc0NvbGxlY3Rpb25DaGFuZ2Uoe2FkZGVkOmUscmVtb3ZlZDp0fSl7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLl9kaXNjb25uZWN0Q29tcHV0YXRpb24oaSk7Zm9yKGNvbnN0IGkgb2YgZSl0aGlzLl9jb25uZWN0Q29tcHV0YXRpb24oaSl9X2Nvbm5lY3RDb21wdXRhdGlvbihlKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm4gdm9pZCByLmdldExvZ2dlcih0aGlzKS53YXJuKFwiQXR0ZW1wdGluZyB0byBjb25uZWN0IGFuIGFuYWx5c2lzIHRvIGEgZGVzdHJveWVkIExpbmVPZlNpZ2h0IHRvb2wuIElnbm9yaW5nLlwiKTtjb25zdCB0PXRoaXMuX2FuYWx5c2lzSGFuZGxlcztpZih0LmhhcyhlKSlyZXR1cm47Y29uc3QgaT10aGlzLl9jcmVhdGVUYXJnZXRNYW5pcHVsYXRvcihlLnRhcmdldCk7bnVsbD09dGhpcy5fdGFyZ2V0VHJhY2tlck1hbmlwdWxhdG9yJiZpLm1ldGFkYXRhLnRhcmdldD09PXRoaXMuYW5hbHlzaXNWaWV3RGF0YS5jdXJzb3JUYXJnZXQmJih0aGlzLl90YXJnZXRUcmFja2VyTWFuaXB1bGF0b3I9aSx0aGlzLl90YXJnZXRUcmFja2VyTWFuaXB1bGF0b3IuYXZhaWxhYmxlPSExLHRoaXMuX3RhcmdldFRyYWNrZXJNYW5pcHVsYXRvci5pbnRlcmFjdGl2ZT0hMSx0aGlzLl91cGRhdGVMYXNlckxpbmVSZW5kZXJlcigpKSx0LmFkZChbdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX2dldExpbmVPZlNpZ2h0TWFuaXB1bGF0b3JTdGF0ZURlcGVuZGVuY2llcyhlKSksKCgpPT50aGlzLl91cGRhdGVNYW5pcHVsYXRvclN0YXRlKGksZSkpLHUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLmVsZXZhdGlvbkFsaWduZWRUYXJnZXRMb2NhdGlvbiksKGU9PnRoaXMuX29uVGFyZ2V0TG9jYXRpb25DaGFuZ2UoZSxpKSksdSldLGUpfV9kaXNjb25uZWN0Q29tcHV0YXRpb24oZSl7aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuIHZvaWQgci5nZXRMb2dnZXIodGhpcykud2FybihcIkF0dGVtcHRpbmcgdG8gZGlzY29ubmVjdCBhbiBhbmFseXNpcyBmcm9tIGEgZGVzdHJveWVkIExpbmVPZlNpZ2h0IHRvb2wuIElnbm9yaW5nLlwiKTt0aGlzLl9hbmFseXNpc0hhbmRsZXMucmVtb3ZlKGUpO2NvbnN0IHQ9dGhpcy5fZ2V0VGFyZ2V0TWFuaXB1bGF0b3IoZS50YXJnZXQpO251bGwhPXQmJih0aGlzLm1hbmlwdWxhdG9ycy5yZW1vdmUodCksdGhpcy5fbWFuaXB1bGF0b3JIYW5kbGVzLnJlbW92ZSh0KSxudWxsIT10aGlzLl90YXJnZXRUcmFja2VyTWFuaXB1bGF0b3ImJnRoaXMuX3RhcmdldFRyYWNrZXJNYW5pcHVsYXRvcj09PXQmJih0aGlzLl90YXJnZXRUcmFja2VyTWFuaXB1bGF0b3I9bnVsbCkpfV9jbGVhckN1cnNvclRyYWNrZXIoKXt0aGlzLmFuYWx5c2lzVmlld0RhdGEuY3Vyc29yVGFyZ2V0PXModGhpcy5hbmFseXNpc1ZpZXdEYXRhLmN1cnNvclRhcmdldCl9X2NyZWF0ZVRhcmdldE1hbmlwdWxhdG9yKGUpe2NvbnN0IHQ9e3RhcmdldDplLHR5cGU6XCJ0YXJnZXRcIn0saT1uZXcgZih0aGlzLnZpZXcsdCk7cmV0dXJuIHRoaXMuX21hbmlwdWxhdG9ySGFuZGxlcy5hZGQoW3RoaXMuX2NyZWF0ZVRhcmdldE1hbmlwdWxhdG9yRHJhZ1BpcGVsaW5lKGkpLGkuZXZlbnRzLm9uKFwiZ3JhYi1jaGFuZ2VkXCIsKGU9PnRoaXMuX21hbmlwdWxhdG9yR3JhYkNoYW5nZWQoaSxlKSkpLGkuZXZlbnRzLm9uKFwiaW1tZWRpYXRlLWNsaWNrXCIsKGU9PnRoaXMuX21hbmlwdWxhdG9yQ2xpY2soaSxlKSkpXSxpKSx0aGlzLm1hbmlwdWxhdG9ycy5hZGQoaSksbnVsbCE9ZS5wb3NpdGlvbj9pLmVsZXZhdGlvbkFsaWduZWRMb2NhdGlvbj1lLnBvc2l0aW9uOmkuYXZhaWxhYmxlPSExLGl9X2dldFRhcmdldE1hbmlwdWxhdG9yKGUpe2xldCB0PW51bGw7cmV0dXJuIHRoaXMubWFuaXB1bGF0b3JzLmZvckVhY2goKGk9Pntjb25zdCBhPWkubWFuaXB1bGF0b3I7bnVsbD09dCYmXCJ0YXJnZXRcIj09PWEubWV0YWRhdGEudHlwZSYmYS5tZXRhZGF0YS50YXJnZXQ9PT1lJiYodD1hKX0pKSx0fV9jcmVhdGVPYnNlcnZlck1hbmlwdWxhdG9yKCl7Y29uc3QgZT1uZXcgVCh0aGlzLnZpZXcse3R5cGU6XCJvYnNlcnZlclwiLGludGVyc2VjdGlvbjpudWxsfSk7cmV0dXJuIHRoaXMuX21hbmlwdWxhdG9ySGFuZGxlcy5hZGQoW3RoaXMuX2NyZWF0ZU9ic2VydmVyTWFuaXB1bGF0b3JEcmFnUGlwZWxpbmUoZSksZS5ldmVudHMub24oXCJncmFiLWNoYW5nZWRcIiwodD0+dGhpcy5fbWFuaXB1bGF0b3JHcmFiQ2hhbmdlZChlLHQpKSksZS5ldmVudHMub24oXCJpbW1lZGlhdGUtY2xpY2tcIiwodD0+dGhpcy5fbWFuaXB1bGF0b3JDbGljayhlLHQpKSldLGUpLHRoaXMubWFuaXB1bGF0b3JzLmFkZChlKSxlfV9zY3JlZW5Ub0ludGVyc2VjdGlvbigpe3JldHVybiBlPT57Y29uc3QgdD10aGlzLl9pbnRlcnNlY3Rvci5nZXRTY3JlZW5Qb2ludEludGVyc2VjdGlvbihlLnNjcmVlbkVuZCk7cmV0dXJuIG51bGw9PXQ/bnVsbDp7Li4uZSxpbnRlcnNlY3Rpb246dH19fV9jcmVhdGVUYXJnZXRNYW5pcHVsYXRvckRyYWdQaXBlbGluZShlKXtyZXR1cm4gayhlLCgodCxpLGEpPT57aS5uZXh0KHRoaXMuX3NjcmVlblRvSW50ZXJzZWN0aW9uKCkpLm5leHQodGhpcy5fdXBkYXRlVGFyZ2V0RHJhZ1N0ZXAoZSkpLm5leHQoKCgpPT50aGlzLl91cGRhdGVMYXNlckxpbmVSZW5kZXJlcigpKSksYS5uZXh0KHRoaXMuX2NhbmNlbFRhcmdldERyYWdTdGVwKGUubWV0YWRhdGEudGFyZ2V0KSkubmV4dCgoKCk9PnRoaXMuX3VwZGF0ZUxhc2VyTGluZVJlbmRlcmVyKCkpKX0pKX1fY3JlYXRlT2JzZXJ2ZXJNYW5pcHVsYXRvckRyYWdQaXBlbGluZShlKXtyZXR1cm4gayhlLCgoZSx0LGkpPT57dC5uZXh0KHRoaXMuX3NjcmVlblRvSW50ZXJzZWN0aW9uKCkpLm5leHQodGhpcy5fdXBkYXRlT2JzZXJ2ZXJEcmFnU3RlcCgpKS5uZXh0KCgoKT0+dGhpcy5fdXBkYXRlTGFzZXJMaW5lUmVuZGVyZXIoKSkpLGkubmV4dCh0aGlzLl9jYW5jZWxPYnNlcnZlckRyYWdTdGVwKCkpLm5leHQoKCgpPT50aGlzLl91cGRhdGVMYXNlckxpbmVSZW5kZXJlcigpKSl9KSl9X3VwZGF0ZU9ic2VydmVyRHJhZ1N0ZXAoKXtyZXR1cm4gZT0+KG51bGwhPWUuaW50ZXJzZWN0aW9uLm1hcFBvaW50PyhudWxsPT10aGlzLmFuYWx5c2lzLm9ic2VydmVyJiYodGhpcy5hbmFseXNpcy5vYnNlcnZlcj1uZXcgaSksdGhpcy5fdXBkYXRlRnJvbUludGVyc2VjdGlvbih0aGlzLmFuYWx5c2lzLm9ic2VydmVyLGUuaW50ZXJzZWN0aW9uKSk6dGhpcy5hbmFseXNpcy5vYnNlcnZlcj1udWxsLGUpfV9jYW5jZWxPYnNlcnZlckRyYWdTdGVwKCl7Y29uc3QgZT1udWxsIT10aGlzLmFuYWx5c2lzLm9ic2VydmVyPy5wb3NpdGlvbj90aGlzLmFuYWx5c2lzLm9ic2VydmVyLmNsb25lKCk6bnVsbDtyZXR1cm4gdD0+KHRoaXMuYW5hbHlzaXMub2JzZXJ2ZXI9ZSx0KX1fdXBkYXRlVGFyZ2V0RHJhZ1N0ZXAoZSl7cmV0dXJuIHQ9Pnt0aGlzLl91cGRhdGVGcm9tSW50ZXJzZWN0aW9uKGUubWV0YWRhdGEudGFyZ2V0LHQuaW50ZXJzZWN0aW9uKTtjb25zdCBpPXQuaW50ZXJzZWN0aW9uLm1hcFBvaW50O3JldHVybiBudWxsIT1pJiYoZS5lbGV2YXRpb25BbGlnbmVkTG9jYXRpb249aSksdH19X2NhbmNlbFRhcmdldERyYWdTdGVwKGUpe2NvbnN0IHQ9ZS5wb3NpdGlvbj8uY2xvbmUoKTtyZXR1cm4gaT0+KGUucG9zaXRpb249dCxpKX1fbWFuaXB1bGF0b3JHcmFiQ2hhbmdlZChlLHQpe3N3aXRjaCh0LmFjdGlvbil7Y2FzZVwic3RhcnRcIjp0aGlzLl9ncmFiYmVkTWFuaXB1bGF0b3I9ZTticmVhaztjYXNlXCJlbmRcIjp0aGlzLl9ncmFiYmVkTWFuaXB1bGF0b3I9PT1lJiYodGhpcy5fZ3JhYmJlZE1hbmlwdWxhdG9yPW51bGwpfX1fdXBkYXRlTWFuaXB1bGF0b3JTdGF0ZShlLHQpe2NvbnN0e2lzVmFsaWQ6aSxpc1RhcmdldFZpc2libGU6YX09dC5jb21wdXRhdGlvblJlc3VsdDtlLnN0YXRlPWk/YT9TLkN1c3RvbTE6Uy5DdXN0b20yOlMuQ3VzdG9tM31fZ2V0TGluZU9mU2lnaHRNYW5pcHVsYXRvclN0YXRlRGVwZW5kZW5jaWVzKGUpe2NvbnN0e2lzVmFsaWQ6dCxpc1RhcmdldFZpc2libGU6aX09ZS5jb21wdXRhdGlvblJlc3VsdDtyZXR1cm57aXNWYWxpZDp0LGlzVGFyZ2V0VmlzaWJsZTppfX1fbGFzZXJMaW5lUmVuZGVyZXJEZXBlbmRlbmNpZXMoKXtyZXR1cm57bGFzZXJsaW5lVmlzdWFsRWxlbWVudDp0aGlzLl9sYXNlcmxpbmVWaXN1YWxFbGVtZW50LGdyYWJiZWRNYW5pcHVsYXRvcjp0aGlzLl9ncmFiYmVkTWFuaXB1bGF0b3Isc2hvdWxkUmVuZGVyVHJhY2tlcjp0aGlzLl9zaG91bGRSZW5kZXJUcmFja2VyLG9ic2VydmVyUG9zaXRpb246bnVsbCE9dGhpcy5hbmFseXNpcy5vYnNlcnZlcj90aGlzLmFuYWx5c2lzLm9ic2VydmVyLnBvc2l0aW9uOm51bGwsdmlzaWJsZTp0aGlzLnZpc2libGV9fV91cGRhdGVMYXNlckxpbmVSZW5kZXJlcihlPXRoaXMuX2xhc2VyTGluZVJlbmRlcmVyRGVwZW5kZW5jaWVzKCkpe2NvbnN0e2xhc2VybGluZVZpc3VhbEVsZW1lbnQ6dCxncmFiYmVkTWFuaXB1bGF0b3I6aSxzaG91bGRSZW5kZXJUcmFja2VyOmEsb2JzZXJ2ZXJQb3NpdGlvbjpuLHZpc2libGU6cn09ZTtpZihudWxsPT10KXJldHVybjtjb25zdCBzPW51bGwhPWk/aTphJiZudWxsIT1uP3RoaXMuX3RhcmdldFRyYWNrZXJNYW5pcHVsYXRvcjpudWxsO251bGwhPXMmJnI/KHQudmlzaWJsZT0hMCx0LmhlaWdodE1hbmlmb2xkVGFyZ2V0PXMucmVuZGVyTG9jYXRpb24scyE9PXRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3I/dC5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9Zyh0aGlzLl9vYnNlcnZlck1hbmlwdWxhdG9yLnJlbmRlckxvY2F0aW9uLHMucmVuZGVyTG9jYXRpb24sSSk6dC5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9bnVsbCk6KHQudmlzaWJsZT0hMSx0LmhlaWdodE1hbmlmb2xkVGFyZ2V0PW51bGwsdC5saW5lVmVydGljYWxQbGFuZVNlZ21lbnQ9bnVsbCl9X2NyZWF0ZUxhc2VyTGluZSgpe3RoaXMuX3JlbW92ZUxhc2VyTGluZSgpO2NvbnN0e2dsb3dXaWR0aDplLGlubmVyV2lkdGg6dH09eTt0aGlzLl9sYXNlcmxpbmVWaXN1YWxFbGVtZW50PW5ldyB3KHt2aWV3OnRoaXMudmlldyxhdHRhY2hlZDohMCx2aXNpYmxlOnRoaXMudmlzaWJsZSxzdHlsZTp7Z2xvd1dpZHRoOmUsaW5uZXJXaWR0aDp0fSxpc0RlY29yYXRpb246ITB9KX1fcmVtb3ZlTGFzZXJMaW5lKCl7bnVsbCE9dGhpcy5fbGFzZXJsaW5lVmlzdWFsRWxlbWVudCYmKHRoaXMuX2xhc2VybGluZVZpc3VhbEVsZW1lbnQuZGVzdHJveSgpLHRoaXMuX2xhc2VybGluZVZpc3VhbEVsZW1lbnQ9bnVsbCl9X3VwZGF0ZUxhc2VyTGluZVN0eWxlKGUsaSxhKXtjb25zdCBuPXRoaXMuX2xhc2VybGluZVZpc3VhbEVsZW1lbnQ7aWYobnVsbD09bilyZXR1cm47Y29uc3Qgcj1uLnN0eWxlO24uc3R5bGU9ey4uLnIsZ2xvd0NvbG9yOnQudG9Vbml0UkdCKGUpLGlubmVyQ29sb3I6dC50b1VuaXRSR0IoaSksZ2xvYmFsQWxwaGE6YX19X29uT2JzZXJ2ZXJMb2NhdGlvbkNoYW5nZShlKXtudWxsIT1lPyh0aGlzLl9vYnNlcnZlck1hbmlwdWxhdG9yLm1ldGFkYXRhLmludGVyc2VjdGlvbj1udWxsLHRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3IuYXZhaWxhYmxlPSEwLHRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3IuZWxldmF0aW9uQWxpZ25lZExvY2F0aW9uPWUpOnRoaXMuX29ic2VydmVyTWFuaXB1bGF0b3IuYXZhaWxhYmxlPSExfV9vblRhcmdldExvY2F0aW9uQ2hhbmdlKGUsdCl7bnVsbCE9ZT8odC5lbGV2YXRpb25BbGlnbmVkTG9jYXRpb249ZSx0IT09dGhpcy5fdGFyZ2V0VHJhY2tlck1hbmlwdWxhdG9yJiYodC5hdmFpbGFibGU9ITApKTp0LmF2YWlsYWJsZT0hMX1fYWRkUG9pbnRGcm9tQ2xpY2tFdmVudChlKXtjb25zdCB0PXRoaXMuX2ludGVyc2VjdG9yLmdldFNjcmVlblBvaW50SW50ZXJzZWN0aW9uKGUpO2lmKG51bGwhPXQ/Lm1hcFBvaW50KWlmKG51bGwhPXRoaXMuYW5hbHlzaXMub2JzZXJ2ZXI/LnBvc2l0aW9uKXt0aGlzLl9jbGVhckN1cnNvclRyYWNrZXIoKTtjb25zdCBlPW5ldyBhO3RoaXMuX3VwZGF0ZUZyb21JbnRlcnNlY3Rpb24oZSx0KSx0aGlzLmFuYWx5c2lzLnRhcmdldHMuYWRkKGUpfWVsc2V7Y29uc3QgZT1uZXcgaTt0aGlzLl91cGRhdGVGcm9tSW50ZXJzZWN0aW9uKGUsdCksdGhpcy5hbmFseXNpcy5vYnNlcnZlcj1lfX1fY2xpY2tIYW5kbGVyKGUpe3RoaXMuYWN0aXZlJiZlLmJ1dHRvbiE9PUguUmlnaHQmJih0aGlzLl9hZGRQb2ludEZyb21DbGlja0V2ZW50KFYoZSkpLGUuc3RvcFByb3BhZ2F0aW9uKCkpfV9kb3VibGVDbGlja0hhbmRsZXIoZSl7dGhpcy5hY3RpdmUmJmUuYnV0dG9uIT09SC5SaWdodCYmKHRoaXMuc3RvcCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpfV9rZXlEb3duSGFuZGxlcihlKXt0aGlzLmFjdGl2ZSYmXCJFc2NhcGVcIj09PWUua2V5JiYodGhpcy5zdG9wKCksZS5zdG9wUHJvcGFnYXRpb24oKSl9X3BvaW50ZXJNb3ZlSGFuZGxlcihlKXtpZih0aGlzLmhhc0dyYWJiZWRNYW5pcHVsYXRvcnMpcmV0dXJuO2lmKHRoaXMuX2xhdGVzdFBvaW50ZXJNb3ZlUG9pbnRlclR5cGU9ZS5wb2ludGVyVHlwZSx0aGlzLl91cGRhdGVMYXNlckxpbmVSZW5kZXJlcigpLCF0aGlzLl9zaG93VHJhY2tlcnx8bnVsbD09dGhpcy5hbmFseXNpcy5vYnNlcnZlcj8ucG9zaXRpb24pcmV0dXJuO2NvbnN0IHQ9VihlKSxpPXRoaXMuX2ludGVyc2VjdG9yLmdldFNjcmVlblBvaW50SW50ZXJzZWN0aW9uKHQpO251bGwhPWk/Lm1hcFBvaW50JiYobnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLmN1cnNvclRhcmdldCYmKHRoaXMuYW5hbHlzaXNWaWV3RGF0YS5jdXJzb3JUYXJnZXQ9bmV3IGEpLHRoaXMuX3VwZGF0ZUZyb21JbnRlcnNlY3Rpb24odGhpcy5hbmFseXNpc1ZpZXdEYXRhLmN1cnNvclRhcmdldCxpKSx0aGlzLl91cGRhdGVMYXNlckxpbmVSZW5kZXJlcigpKX1fdXBkYXRlRnJvbUludGVyc2VjdGlvbihlLHQpe2lmKG51bGw9PXQubWFwUG9pbnQpcmV0dXJuIGUucG9zaXRpb249bnVsbCxlLmVsZXZhdGlvbkluZm89bnVsbCx2b2lkKGUuZmVhdHVyZT1udWxsKTtzd2l0Y2godC50eXBlKXtjYXNlIE0uT0JKRUNUOmlmKG51bGwhPXQuZ3JhcGhpYyl7Y29uc3QgaT10LmdyYXBoaWMsYT1fKGkpO1wib24tdGhlLWdyb3VuZFwiPT09YS5tb2RlJiYoYS5tb2RlPVwicmVsYXRpdmUtdG8tZ3JvdW5kXCIsYS5vZmZzZXQ9MCksZS5lbGV2YXRpb25JbmZvPW5ldyB2KGEpLGUuZmVhdHVyZT1pfWVsc2UgZS5lbGV2YXRpb25JbmZvPW51bGwsZS5mZWF0dXJlPW51bGw7YnJlYWs7Y2FzZSBNLlRFUlJBSU46Y2FzZSBNLkkzUzplLmVsZXZhdGlvbkluZm89bmV3IHYoe21vZGU6XCJvbi10aGUtZ3JvdW5kXCJ9KSxlLmZlYXR1cmU9bnVsbDticmVhaztkZWZhdWx0OmUuZWxldmF0aW9uSW5mbz1udWxsLGUuZmVhdHVyZT1udWxsfWNvbnN0IGk9dC5tYXBQb2ludC5jbG9uZSgpO2kuej1tKHRoaXMudmlldyxpLHttb2RlOlwiYWJzb2x1dGUtaGVpZ2h0XCIsb2Zmc2V0OjB9LGUuZWxldmF0aW9uSW5mbyksZS5wb3NpdGlvbj1pfV9tYW5pcHVsYXRvckNsaWNrKGUsdCl7aWYoXCJvYnNlcnZlclwiPT09ZS5tZXRhZGF0YS50eXBlfHxlLmdyYWJiaW5nfHxlLmRyYWdnaW5nfHx0LmJ1dHRvbiE9PUguUmlnaHR8fHRoaXMuYW5hbHlzaXMudGFyZ2V0cy5sZW5ndGg8PTEpcmV0dXJuO2NvbnN0e3RhcmdldDppfT1lLm1ldGFkYXRhO3RoaXMuYW5hbHlzaXMudGFyZ2V0cy5yZW1vdmUoaSksdC5zdG9wUHJvcGFnYXRpb24oKX1nZXQgdGVzdEluZm8oKXtyZXR1cm57bGFzZXJMaW5lVmlzdWFsRWxlbWVudDp0aGlzLl9sYXNlcmxpbmVWaXN1YWxFbGVtZW50LGdldFRhcmdldE1hbmlwdWxhdG9yOmU9PnRoaXMuX2dldFRhcmdldE1hbmlwdWxhdG9yKGUpfX19O2UoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtwKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiYW5hbHlzaXNcIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwic3RhdGVcIixudWxsKSxlKFtwKHtyZWFkT25seTohMH0pXSxPLnByb3RvdHlwZSxcImN1cnNvclwiLG51bGwpLGUoW3AoKV0sTy5wcm90b3R5cGUsXCJyZW1vdmVJbmNvbXBsZXRlT25DYW5jZWxcIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtwKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiYW5hbHlzaXNWaWV3RGF0YVwiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJfc2hvd1RyYWNrZXJcIixudWxsKSxlKFtwKCldLE8ucHJvdG90eXBlLFwiX2xhdGVzdFBvaW50ZXJNb3ZlUG9pbnRlclR5cGVcIix2b2lkIDApLGUoW3AoKV0sTy5wcm90b3R5cGUsXCJfc2hvdWxkUmVuZGVyVHJhY2tlclwiLG51bGwpLGUoW3AoKV0sTy5wcm90b3R5cGUsXCJfbGFzZXJsaW5lVmlzdWFsRWxlbWVudFwiLHZvaWQgMCksZShbcCgpXSxPLnByb3RvdHlwZSxcIl9ncmFiYmVkTWFuaXB1bGF0b3JcIix2b2lkIDApLE89ZShbYyhcImVzcmkudmlld3MuM2QuaW50ZXJhY3RpdmUuYW5hbHlzaXNUb29scy5saW5lT2ZTaWdodC5MaW5lT2ZTaWdodFRvb2xcIildLE8pO2NvbnN0IEk9ZCgpO2V4cG9ydHtPIGFzIExpbmVPZlNpZ2h0VG9vbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgZXtjb25zdHJ1Y3RvcihlLGksdCxzKXt0aGlzLnZpc2libGVMaW5lVmlzdWFsRWxlbWVudD1lLHRoaXMub2NjbHVkZWRMaW5lVmlzdWFsRWxlbWVudD1pLHRoaXMudW5kZWZpbmVkTGluZVZpc3VhbEVsZW1lbnQ9dCx0aGlzLnRhcmdldFZpc3VhbEVsZW1lbnQ9c31kZXN0cm95KCl7dGhpcy52aXNpYmxlTGluZVZpc3VhbEVsZW1lbnQuZGVzdHJveSgpLHRoaXMub2NjbHVkZWRMaW5lVmlzdWFsRWxlbWVudC5kZXN0cm95KCksdGhpcy51bmRlZmluZWRMaW5lVmlzdWFsRWxlbWVudC5kZXN0cm95KCksdGhpcy50YXJnZXRWaXN1YWxFbGVtZW50LmRlc3Ryb3koKX19ZXhwb3J0e2UgYXMgTGluZU9mU2lnaHRWaXN1YWxFbGVtZW50fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZXMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9tYXQ0ZjY0LmpzXCI7aW1wb3J0e2YgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtlIGFzIHUsYyBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7bGluZU9mU2lnaHRDb25maWd1cmF0aW9uIGFzIGh9ZnJvbVwiLi9MaW5lT2ZTaWdodENvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7TGluZU9mU2lnaHRWaXN1YWxFbGVtZW50IGFzIHZ9ZnJvbVwiLi9MaW5lT2ZTaWdodFZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7TGluZVZpc3VhbEVsZW1lbnQgYXMgZn1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9MaW5lVmlzdWFsRWxlbWVudC5qc1wiO2ltcG9ydHtQb2ludFZpc3VhbEVsZW1lbnQgYXMgZ31mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9Qb2ludFZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7UmVuZGVyT2NjbHVkZWRGbGFnIGFzIGJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9NYXRlcmlhbC5qc1wiO2xldCBPPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9saW5lT2ZTaWdodFZpc3VhbEVsZW1lbnRzPW5ldyBBcnJheSx0aGlzLl9jb21wdXRhdGlvbkhhbmRsZXM9bmV3IG8sdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBwfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXModGhpcy5fY29ubmVjdENvbXB1dGF0aW9ucygpKSx0aGlzLl9jcmVhdGVPYnNlcnZlclZpc3VhbGl6YXRpb24oKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzPXModGhpcy5fdXBkYXRpbmdIYW5kbGVzKSx0aGlzLl9jb21wdXRhdGlvbkhhbmRsZXM9cyh0aGlzLl9jb21wdXRhdGlvbkhhbmRsZXMpLHRoaXMuX29ic2VydmVyVmlzdWFsRWxlbWVudD1zKHRoaXMuX29ic2VydmVyVmlzdWFsRWxlbWVudCl9Z2V0IHZpc2libGUoKXtyZXR1cm4gdGhpcy5hbmFseXNpc1ZpZXdEYXRhLnZpc2libGV9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ31nZXQgaW50ZXJhY3RpdmVBbmRFZGl0YWJsZSgpe3JldHVybiB0aGlzLmFuYWx5c2lzVmlld0RhdGEuaW50ZXJhY3RpdmUmJnRoaXMuYW5hbHlzaXNWaWV3RGF0YS5lZGl0YWJsZX1nZXQgdGVzdCgpe3JldHVybntkaXNhYmxlUGFydGlhbE9jY2x1c2lvbjooKT0+e2Zvcihjb25zdCBlIG9mIHRoaXMuX2xpbmVPZlNpZ2h0VmlzdWFsRWxlbWVudHMpZS52aXNpYmxlTGluZVZpc3VhbEVsZW1lbnQucmVuZGVyT2NjbHVkZWQ9Yi5PY2NsdWRlLGUub2NjbHVkZWRMaW5lVmlzdWFsRWxlbWVudC5yZW5kZXJPY2NsdWRlZD1iLk9jY2x1ZGUsZS51bmRlZmluZWRMaW5lVmlzdWFsRWxlbWVudC5yZW5kZXJPY2NsdWRlZD1iLk9jY2x1ZGV9LHZpc3VhbGl6YXRpb25zOnRoaXMuX2xpbmVPZlNpZ2h0VmlzdWFsRWxlbWVudHN9fV9jcmVhdGVMaW5lT2ZTaWdodFZpc3VhbGl6YXRpb24oKXtjb25zdCBlPWgsdD10aGlzLnZpZXcsbz10aGlzLmlzRGVjb3JhdGlvbixuPXt2aWV3OnQsYXR0YWNoZWQ6ITAsd2lkdGg6ZS5vdXRlcldpZHRoLGlubmVyV2lkdGg6ZS5pbm5lcldpZHRoLGlzRGVjb3JhdGlvbjpvfSxzPWkudG9Vbml0UkdCQShlLnZpc2libGVPdXRlckNvbG9yKSxyPWkudG9Vbml0UkdCQShlLnZpc2libGVJbm5lckNvbG9yKSxsPWkudG9Vbml0UkdCQShlLm9jY2x1ZGVkT3V0ZXJDb2xvciksYT1pLnRvVW5pdFJHQkEoZS5vY2NsdWRlZElubmVyQ29sb3IpLGM9aS50b1VuaXRSR0JBKGUudW5kZWZpbmVkT3V0ZXJDb2xvciksZD1pLnRvVW5pdFJHQkEoZS51bmRlZmluZWRJbm5lckNvbG9yKSx1PW5ldyBmKHsuLi5uLGNvbG9yOnMsaW5uZXJDb2xvcjpyfSksbT1uZXcgZih7Li4ubixjb2xvcjpsLGlubmVyQ29sb3I6YX0pLHA9bmV3IGYoey4uLm4sY29sb3I6Yyxpbm5lckNvbG9yOmR9KSxiPW5ldyBnKHt2aWV3OnQsYXR0YWNoZWQ6ITAsLi4uXyxzaXplOjgsaXNEZWNvcmF0aW9uOm99KSxPPW5ldyB2KHUsbSxwLGIpO3JldHVybiB0aGlzLl9saW5lT2ZTaWdodFZpc3VhbEVsZW1lbnRzLnB1c2goTyksT31fZGVzdHJveUxpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbihlKXtlLmRlc3Ryb3koKSx0aGlzLl9saW5lT2ZTaWdodFZpc3VhbEVsZW1lbnRzLnNwbGljZSh0aGlzLl9saW5lT2ZTaWdodFZpc3VhbEVsZW1lbnRzLmluZGV4T2YoZSksMSl9X3VwZGF0ZUxpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbihlLHQsbyl7Y29uc3Qgbj1oLHtjb21wdXRhdGlvblJlc3VsdDpzLGlucHV0UG9pbnRzOnJ9PWUse3N0YXJ0OmwsZW5kOmEsaW50ZXJzZWN0aW9uOmMsaXNWYWxpZDptLGlzVGFyZ2V0VmlzaWJsZTpwfT1zLHtvYnNlcnZlcjp2fT1yLGY9RTtmWzEyXT12WzBdLGZbMTNdPXZbMV0sZlsxNF09dlsyXTtjb25zdCBnPWQoeSxsLHYpLGI9ZChWLGEsdiksTz1kKEMsYyx2KSx7dmlzaWJsZUxpbmVWaXN1YWxFbGVtZW50Ol8sb2NjbHVkZWRMaW5lVmlzdWFsRWxlbWVudDpBLHVuZGVmaW5lZExpbmVWaXN1YWxFbGVtZW50OncsdGFyZ2V0VmlzdWFsRWxlbWVudDpTfT10LGo9bnVsbD09dGhpcy5hbmFseXNpc1ZpZXdEYXRhLmVsZXZhdGlvbkFsaWduZWRPYnNlcnZlcnx8bnVsbD09ZS5lbGV2YXRpb25BbGlnbmVkVGFyZ2V0TG9jYXRpb24sTD10aGlzLnZpc2libGUmJiFqO18udmlzaWJsZT1MLEEudmlzaWJsZT1MLHcudmlzaWJsZT1MLFMudmlzaWJsZT1MLFMuYXR0YWNoZWQ9IW8uaW50ZXJhY3RpdmVBbmRFZGl0YWJsZSxMJiYoXy5nZW9tZXRyeT1udWxsLEEuZ2VvbWV0cnk9bnVsbCx3Lmdlb21ldHJ5PW51bGwsUy5nZW9tZXRyeT1lLmVsZXZhdGlvbkFsaWduZWRUYXJnZXRMb2NhdGlvbixtP3A/KF8uZ2VvbWV0cnk9W1t1KGcpLHUoYildXSxfLnRyYW5zZm9ybT1mLF8uY29sb3I9aS50b1VuaXRSR0JBKG4udmlzaWJsZU91dGVyQ29sb3IpLFMuY29sb3I9aS50b1VuaXRSR0JBKG4udmlzaWJsZUlubmVyQ29sb3IpKTooXy5nZW9tZXRyeT1bW3UoZyksdShPKV1dLF8udHJhbnNmb3JtPWYsXy5jb2xvcj1pLnRvVW5pdFJHQkEobi5vY2NsdWRlZE91dGVyQ29sb3IpLEEuZ2VvbWV0cnk9W1t1KE8pLHUoYildXSxBLnRyYW5zZm9ybT1mLFMuY29sb3I9aS50b1VuaXRSR0JBKG4ub2NjbHVkZWRJbm5lckNvbG9yKSk6KHcuZ2VvbWV0cnk9W1t1KGcpLHUoYildXSx3LnRyYW5zZm9ybT1mLFMuY29sb3I9aS50b1VuaXRSR0JBKG4udW5kZWZpbmVkSW5uZXJDb2xvcikpKX1fZ2V0TGluZU9mU2lnaHRWaXN1YWxpemF0aW9uRGVwZW5kZW5jaWVzKGUpe2NvbnN0e2NvbXB1dGF0aW9uUmVzdWx0Oml9PWUse29jY2x1ZGVkT3V0ZXJDb2xvcjp0LHZpc2libGVPdXRlckNvbG9yOm99PWg7cmV0dXJue2NvbXB1dGF0aW9uUmVzdWx0Omksb2NjbHVkZWRPdXRlckNvbG9yOnQsdmlzaWJsZU91dGVyQ29sb3I6byx2aXNpYmxlOnRoaXMudmlzaWJsZSxpbnRlcmFjdGl2ZUFuZEVkaXRhYmxlOnRoaXMuaW50ZXJhY3RpdmVBbmRFZGl0YWJsZX19X2Nvbm5lY3RDb21wdXRhdGlvbihlKXtjb25zdCBpPXRoaXMuX2NvbXB1dGF0aW9uSGFuZGxlcztpZihpLmhhcyhlKSlyZXR1cm47Y29uc3QgdD10aGlzLl9jcmVhdGVMaW5lT2ZTaWdodFZpc3VhbGl6YXRpb24oKTtpLmFkZChbdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX2dldExpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbkRlcGVuZGVuY2llcyhlKSksKGk9PnRoaXMuX3VwZGF0ZUxpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbihlLHQsaSkpLHtpbml0aWFsOiEwLGVxdWFsczooKT0+ITF9KSxuKCgoKT0+dGhpcy5fZGVzdHJveUxpbmVPZlNpZ2h0VmlzdWFsaXphdGlvbih0KSkpXSxlKX1fZGlzY29ubmVjdENvbXB1dGF0aW9uKGUpe3RoaXMuX2NvbXB1dGF0aW9uSGFuZGxlcy5yZW1vdmUoZSl9X2Nvbm5lY3RDb21wdXRhdGlvbnMoKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZE9uQ29sbGVjdGlvbkNoYW5nZSgoKCk9PnRoaXMuYW5hbHlzaXNWaWV3RGF0YS5jb21wdXRhdGlvbnMpLChlPT50aGlzLl9vbkNvbXB1dGF0aW9uc0NvbGxlY3Rpb25DaGFuZ2UoZSkpLHtpbml0aWFsOiEwLGZpbmFsOiEwfSl9X29uQ29tcHV0YXRpb25zQ29sbGVjdGlvbkNoYW5nZSh7YWRkZWQ6ZSxyZW1vdmVkOml9KXtmb3IoY29uc3QgdCBvZiBpKXRoaXMuX2Rpc2Nvbm5lY3RDb21wdXRhdGlvbih0KTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2Nvbm5lY3RDb21wdXRhdGlvbih0KX1fY3JlYXRlT2JzZXJ2ZXJWaXN1YWxpemF0aW9uKCl7Y29uc3QgZT1pLnRvVW5pdFJHQkEoaC52aXNpYmxlSW5uZXJDb2xvciksdD1uZXcgZyh7dmlldzp0aGlzLnZpZXcsY29sb3I6ZSwuLi5fLGlzRGVjb3JhdGlvbjp0aGlzLmlzRGVjb3JhdGlvbn0pO3RoaXMuX29ic2VydmVyVmlzdWFsRWxlbWVudD10LHRoaXMuYWRkSGFuZGxlcyh0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+KHtvYnNlcnZlcjp0aGlzLmFuYWx5c2lzVmlld0RhdGEuZWxldmF0aW9uQWxpZ25lZE9ic2VydmVyLGludGVyYWN0aXZlQW5kRWRpdGFibGU6dGhpcy5pbnRlcmFjdGl2ZUFuZEVkaXRhYmxlLHZpc2libGU6dGhpcy52aXNpYmxlfSkpLCgoe29ic2VydmVyOmUsaW50ZXJhY3RpdmVBbmRFZGl0YWJsZTppLHZpc2libGU6b30pPT57bnVsbCE9ZSYmIWkmJm8/KHQuZ2VvbWV0cnk9ZSx0aGlzLl9vYnNlcnZlclZpc3VhbEVsZW1lbnQuYXR0YWNoZWQ9ITApOnQuYXR0YWNoZWQ9ITF9KSxyKSl9fTtlKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiYW5hbHlzaXNcIix2b2lkIDApLGUoW2woe2NvbnN0cnVjdE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJhbmFseXNpc1ZpZXdEYXRhXCIsdm9pZCAwKSxlKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbCh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbbCh7Y29uc3RydWN0T25seTohMH0pXSxPLnByb3RvdHlwZSxcImlzRGVjb3JhdGlvblwiLHZvaWQgMCksZShbbCgpXSxPLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbbCgpXSxPLnByb3RvdHlwZSxcImludGVyYWN0aXZlQW5kRWRpdGFibGVcIixudWxsKSxlKFtsKCldLE8ucHJvdG90eXBlLFwidGVzdFwiLG51bGwpLE89ZShbYShcImVzcmkudmlld3MuM2QuYW5hbHlzaXMuTGluZU9mU2lnaHQuTGluZU9mU2lnaHRWaXN1YWxpemF0aW9uXCIpXSxPKTtjb25zdCBfPXtzaXplOjYscGl4ZWxTbmFwcGluZ0VuYWJsZWQ6ITEscHJpbWl0aXZlOlwiY2lyY2xlXCIsZWxldmF0aW9uSW5mbzp7bW9kZTpcImFic29sdXRlLWhlaWdodFwiLG9mZnNldDowfSxvdXRsaW5lU2l6ZTowfSx5PW0oKSxWPW0oKSxDPW0oKSxFPWMoKTtleHBvcnR7TyBhcyBMaW5lT2ZTaWdodFZpc3VhbGl6YXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHttYWtlSGFuZGxlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtnZXRHcmFwaGljRWZmZWN0aXZlRWxldmF0aW9uSW5mbyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7ZnVuY3Rpb24gbihlLG49byhlKSl7cmV0dXJuXCJvbi10aGUtZ3JvdW5kXCIhPT1uLm1vZGUmJiEobnVsbD09ZS5nZW9tZXRyeXx8IWUuZ2VvbWV0cnkuaGFzWil9ZnVuY3Rpb24gdChvLG4pe2xldCB0PW51bGw7Y29uc3Qgcj1vLmV2ZW50cy5vbihcImdyYWItY2hhbmdlZFwiLChlPT57bnVsbCE9dCYmKHQucmVtb3ZlKCksdD1udWxsKSxcInN0YXJ0XCI9PT1lLmFjdGlvbj8odD1vLmRpc2FibGVEaXNwbGF5KCksbiYmbihlKSk6biYmbihlKX0pKTtyZXR1cm4gZSgoKCk9Pnt0Py5yZW1vdmUoKSxyLnJlbW92ZSgpfSkpfWV4cG9ydHtuIGFzIGNhbk1vdmVaLHQgYXMgZGlzYWJsZURpc3BsYXlPbkdyYWJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9