"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_2d_engine_webgl_util_debug_js-node_modules_arcg-3bfa06"],{

/***/ "./node_modules/@arcgis/core/geohash/GeohashTree.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/GeohashTree.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeohashNode: () => (/* binding */ c),
/* harmony export */   GeohashTree: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/2d/layers/features/support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(e=[],s,i=8096){this.onRelease=t=>{},this._nodes=0,this._root=new c(this,0,0,0),this._statisticFields=e,this._pool=i?new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](8096):null,this._serviceInfo=s}destroy(){this.clear()}_acquire(t,e,s){this._nodes++;let i=null;return null!=this._pool&&(i=this._pool.dequeue()),null!=i?i.realloc(t,e,s):i=new c(this,t,e,s),i}_release(t){this.onRelease(t),this._nodes--,null!=this._pool&&this._pool.enqueue(t)}get count(){return this._root.count}get size(){return this._nodes}get poolSize(){return this._pool?.size??0}get depth(){let t=0;return this.forEach((e=>t=Math.max(t,e.depth))),t}dropLevels(t){this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++){const s=e.children[t];s&&this._release(s)}})),this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++)e.children[t]=null}))}clear(){this.forEach((t=>this._release(t))),this._root=new c(this,0,0,0)}insert(t,e,s=0){const i=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();i.next();const n=i.readGeometry();if(!n)return;const[o,a]=n.coords,r=t.geohashX,h=t.geohashY;this.insertCursor(i,t.displayId,o,a,r,h,e,s)}insertCursor(t,e,s,i,n,o,a,r=0){let l=this._root,h=0,c=0,u=0;for(;null!==l;){if(l.depth>=r&&(l.count+=1,l.xTotal+=s,l.yTotal+=i,l.xGeohashTotal+=n,l.yGeohashTotal+=o,l.referenceId=e,this._updateStatisticsCursor(t,l,1)),h>=a)return void l.add(e);const d=Math.ceil((h+1)/2),f=Math.floor((h+1)/2),x=1-h%2,m=30-(3*d+2*f),g=30-(2*d+3*f),y=(n&7*x+3*(1-x)<<m)>>m,p=(o&3*x+7*(1-x)<<g)>>g,_=y+p*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|y,u=u<<2*x+3*(1-x)|p,null==l.children[_]&&(l.children[_]=this._acquire(c,u,h+1)),h+=1,l=l.children[_]}}remove(t,e){const s=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();s.next();const i=s.readGeometry();if(!i)return;const[n,o]=i.coords,a=t.geohashX,r=t.geohashY;this.removeCursor(s,n,o,a,r,e)}removeCursor(t,e,s,i,n,o){let a=this._root,r=0;for(;null!==a;){if(a.count-=1,a.xTotal-=e,a.yTotal-=s,a.xGeohashTotal-=i,a.yGeohashTotal-=n,this._updateStatisticsCursor(t,a,-1),r>=o)return void a.remove(t.getDisplayId());const l=Math.ceil((r+1)/2),h=Math.floor((r+1)/2),c=1-r%2,u=30-(3*l+2*h),d=30-(2*l+3*h),f=((i&7*c+3*(1-c)<<u)>>u)+((n&3*c+7*(1-c)<<d)>>d)*(8*c+4*(1-c)),x=a.children[f];1===x?.count&&(this._release(x),a.children[f]=null),r+=1,a=x}}forEach(t){let e=this._root;for(;null!==e;){const s=this._linkChildren(e)||e.next;t(e),e=s}}find(t,e,s){return this._root.find(t,e,s,0,0,0)}findIf(t){let e=null;return this.forEach((s=>{t(s)&&(e=s)})),e}findAllIf(t){const e=[];return this.forEach((s=>{t(s)&&e.push(s)})),e}findSingleOccupancyNode(t,e,s,i,n){let o=this._root;for(;null!==o;){const a=o.depth,r=o.xNode,l=o.yNode,h=1-a%2,c=o.xGeohashTotal/o.count,u=o.yGeohashTotal/o.count;if(1===o.count&&t<c&&c<=s&&e<u&&u<=i)return o;if(a>=n){o=o.next;continue}const d=Math.ceil((a+1)/2),f=Math.floor((a+1)/2),x=30-(3*d+2*f),m=30-(2*d+3*f),g=~((1<<x)-1),y=~((1<<m)-1),p=(t&g)>>x,_=(e&y)>>m,v=(s&g)>>x,M=(i&y)>>m,T=r<<3*h+2*(1-h),b=l<<2*h+3*(1-h),k=T+8*h+4*(1-h),N=b+4*h+8*(1-h),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let t=C;t<=L;t++)for(let e=I;e<=G;e++){const s=e-T+(t-b)*(8*h+4*(1-h)),i=o.children[s];i&&(S||(S=i,S.next=o.next),w&&(w.next=i),w=i,i.next=o.next)}o=S||o.next}return null}getRegionDisplayIds(t){let e=this._root;const{bounds:s,geohashBounds:i,level:n}=t,[o,a,r,l]=s,h=[];for(;null!==e;){const t=e.depth,s=e.xNode,c=e.yNode;if(t>=n){const t=e.xTotal/e.count,s=e.yTotal/e.count;t>=o&&t<=r&&s>=a&&s<=l&&e.displayIds.forEach((t=>h.push(t))),e=e.next;continue}const u=Math.ceil((t+1)/2),d=Math.floor((t+1)/2),f=1-t%2,x=30-(3*u+2*d),m=30-(2*u+3*d),g=~((1<<x)-1),y=~((1<<m)-1),p=(i.xLL&g)>>x,_=(i.yLL&y)>>m,v=(i.xTR&g)>>x,M=(i.yTR&y)>>m,T=s<<3*f+2*(1-f),b=c<<2*f+3*(1-f),k=T+8*f+4*(1-f),N=b+4*f+8*(1-f),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let i=C;i<=L;i++)for(let t=I;t<=G;t++){const s=t-T+(i-b)*(8*f+4*(1-f)),n=e.children[s];n&&(S||(S=n,S.next=e.next),w&&(w.next=n),w=n,n.next=e.next)}e=S||e.next}return h}getRegionStatistics(t){let e=this._root,s=0,i=0,n=0;const o={},{bounds:a,geohashBounds:r,level:l}=t,[h,c,u,d]=a;let f=0;for(;null!==e;){const t=e.depth,a=e.xNode,x=e.yNode;if(t>=l){const t=e.xTotal/e.count,a=e.yTotal/e.count;t>h&&t<=u&&a>c&&a<=d&&(s+=e.count,i+=e.xTotal,n+=e.yTotal,1===e.count&&(f=e.referenceId),this._aggregateStatistics(o,e.statistics)),e=e.next;continue}const m=Math.ceil((t+1)/2),g=Math.floor((t+1)/2),y=1-t%2,p=30-(3*m+2*g),_=30-(2*m+3*g),v=~((1<<p)-1),M=~((1<<_)-1),T=(r.xLL&v)>>p,b=(r.yLL&M)>>_,k=(r.xTR&v)>>p,N=(r.yTR&M)>>_,I=a<<3*y+2*(1-y),C=x<<2*y+3*(1-y),G=I+8*y+4*(1-y),L=C+4*y+8*(1-y),S=Math.max(I,T),w=Math.max(C,b),R=Math.min(G,k),F=Math.min(L,N);let z=null,j=null;for(let r=w;r<=F;r++)for(let t=S;t<=R;t++){const a=t-I+(r-C)*(8*y+4*(1-y)),l=e.children[a];if(l){if(r!==w&&r!==F&&t!==S&&t!==R){const t=l.xTotal/l.count,e=l.yTotal/l.count;t>h&&t<=u&&e>c&&e<=d&&(s+=l.count,i+=l.xTotal,n+=l.yTotal,1===l.count&&(f=l.referenceId),this._aggregateStatistics(o,l.statistics));continue}z||(z=l,z.next=e.next),j&&(j.next=l),j=l,l.next=e.next}}e=z||e.next}return{count:s,attributes:this.normalizeStatistics(o,s),xTotal:i,yTotal:n,referenceId:f}}getBins(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,a=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),h=1-t%2,c=30-(3*r+2*l),u=30-(2*r+3*l),d=~((1<<c)-1),f=~((1<<u)-1),x=(s.xLL&d)>>c,m=(s.yLL&f)>>u,g=(s.xTR&d)>>c,y=(s.yTR&f)>>u,p=o<<3*h+2*(1-h),_=a<<2*h+3*(1-h),v=p+8*h+4*(1-h),M=_+4*h+8*(1-h),T=Math.max(p,x),b=Math.max(_,m),k=Math.min(v,g),N=Math.min(M,y);let I=null,C=null;for(let e=b;e<=N;e++)for(let t=T;t<=k;t++){const s=t-p+(e-_)*(8*h+4*(1-h)),i=n.children[s];i&&(I||(I=i,I.next=n.next),C&&(C.next=i),C=i,i.next=n.next)}n=I||n.next}return e}_linkChildren(t){let e=null,s=null;for(let i=0;i<=t.children.length;i++){const n=t.children[i];n&&(e||(e=n,e.next=t.next),s&&(s.next=n),s=n,n.next=t.next)}return e}_updateStatisticsCursor(t,e,s){for(const i of this._statisticFields){const n=i.name,o=i.inField?t.readAttribute(i.inField):t.getComputedNumericAtIndex(i.inFieldIndex);switch(i.statisticType){case"min":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.min(t,o);break}case"max":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.max(t,o);break}case"count":break;case"sum":case"avg":{e.statistics[n]||(e.statistics[n]={value:0,nanCount:0});const t=e.statistics[n].value,i=e.statistics[n].nanCount??0;null==o||isNaN(o)?e.statistics[n].nanCount=i+s:e.statistics[n].value=t+s*o;break}case"avg_angle":{e.statistics[n]||(e.statistics[n]={x:0,y:0,nanCount:0});const t=e.statistics[n].x,i=e.statistics[n].y,a=e.statistics[n].nanCount??0,r=Math.PI/180;null==o||isNaN(o)?e.statistics[n].nanCount=a+s:(e.statistics[n].x=t+s*Math.cos(o*r),e.statistics[n].y=i+s*Math.sin(o*r));break}case"mode":{e.statistics[n]||(e.statistics[n]={});const t=e.statistics[n][o]||0;e.statistics[n][o]=t+s;break}}}}_aggregateStatistics(t,e){for(const s of this._statisticFields){const i=s.name;switch(s.statisticType){case"min":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.min(s,e[i].value);break}case"max":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.max(s,e[i].value);break}case"count":break;case"sum":case"avg":case"avg_angle":case"mode":t[i]||(t[i]={});for(const s in e[i]){const n=t[i][s]||0;t[i][s]=n+e[i][s]}}}}normalizeStatistics(t,e){const s={};for(const i of this._statisticFields){const n=i.name;switch(i.statisticType){case"min":case"max":{const i=t[n];if(!e||!i)break;s[n]=i.value;break}case"count":if(!e)break;s[n]=e;break;case"sum":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i;break}case"avg":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i/(e-o);break}case"avg_angle":{if(!e)break;const{x:i,y:o,nanCount:a}=t[n];if(!(e-a))break;const r=i/(e-a),l=o/(e-a),h=180/Math.PI,c=Math.atan2(l,r)*h;s[n]=c;break}case"mode":{const e=t[n];let i=0,o=0,a=null;for(const t in e){const s=e[t];s===i?o+=1:s>i&&(i=s,o=1,a=t)}s[n]="null"===a||o>1?null:a;break}}}return s}}class c{constructor(t,e,s,i){this.count=0,this.xTotal=0,this.yTotal=0,this.statistics={},this.displayId=0,this.referenceId=0,this.displayIds=new Set,this.next=null,this.depth=0,this.xNode=0,this.yNode=0,this.xGeohashTotal=0,this.yGeohashTotal=0,this._tree=t,this.children=new Array(32);for(let n=0;n<this.children.length;n++)this.children[n]=null;this.xNode=e,this.yNode=s,this.depth=i}realloc(t,e,s){for(let i=0;i<this.children.length;i++)this.children[i]=null;return this.xNode=t,this.yNode=e,this.depth=s,this.next=null,this.xGeohashTotal=0,this.yGeohashTotal=0,this.displayId=0,this.referenceId=0,this.xTotal=0,this.yTotal=0,this.count=0,this.statistics={},this.displayIds.clear(),this}get id(){return`${this.xNode}.${this.yNode}`}add(t){this.displayIds.add(t)}remove(t){this.displayIds.delete(t)}getAttributes(){const t=this._tree.normalizeStatistics(this.statistics,this.count);return t.referenceId=null,t.aggregateId=this.id,t.aggregateCount=this.count,t}getGeometry(t,e){const o=this.getLngLatBounds(),[l,h,c,u]=o,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({rings:[[[l,h],[l,u],[c,u],[c,h],[l,h]]]},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d,!1,!1);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPolygon",e,!1,!1)}return f}getGeometryCentroid(t,e){const i=this.getLngLatBounds(),[l,h,c,u]=i,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({x:(l+c)/2,y:(h+u)/2},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPoint",e,!1,!1)}return f}getLngLatBounds(){const t=this.depth,s=Math.ceil(t/2),i=Math.floor(t/2),n=30-(3*s+2*i),o=30-(2*s+3*i),a=this.xNode<<n,r=this.yNode<<o;return (0,_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__.decodeGeohashXY)({geohashX:a,geohashY:r},this.depth)}find(t,e,s,i,n,o){if(i>=s)return this;const a=1-i%2,r=3*a+2*(1-a),l=2*a+3*(1-a),h=30-n-r,c=30-o-l,u=((t&7*a+3*(1-a)<<h)>>h)+((e&3*a+7*(1-a)<<c)>>c)*(8*a+4*(1-a)),d=this.children[u];return null==d?null:d.find(t,e,s,i+1,n+r,o+l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/geohashUtils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/geohashUtils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertGeohash32ToXY: () => (/* binding */ C),
/* harmony export */   decodeBase32Char: () => (/* binding */ a),
/* harmony export */   decodeGeohash: () => (/* binding */ y),
/* harmony export */   decodeGeohashXY: () => (/* binding */ X),
/* harmony export */   encodeBase32Char: () => (/* binding */ g),
/* harmony export */   encodeGeohash: () => (/* binding */ p),
/* harmony export */   getRelativeGeohash: () => (/* binding */ k),
/* harmony export */   setGeohashBuf: () => (/* binding */ b),
/* harmony export */   setGeohashXY: () => (/* binding */ Y),
/* harmony export */   unpackXBits: () => (/* binding */ F),
/* harmony export */   unpackYBits: () => (/* binding */ j)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=16,n=8,o=4,e=2,r=1,c=new Float64Array(2),f=new Float64Array(2),l=-90,u=90,h=-180,s=180,i="0123456789bcdefghjkmnpqrstuvwxyz";function a(t){return t<=57?t-48:t<=104?t-88:t<=107?t-89:t<=110?t-90:t-91}function g(t){return i[t]}function A(t){return(t[0]+t[1])/2}function d(t,n,o){return t[0]=n,t[1]=o,t}function M(t,n){const o=A(t),e=n,r=!n;t[0]=r*t[0]+e*o,t[1]=r*o+e*t[1]}function w(t,n){const o=n>A(t);return M(t,o),o}function y(i,g){const w=d(c,l,u),y=d(f,h,s);for(let c=0;c<g.length;c++){const f=a(g.charCodeAt(c));c%2==0?(M(y,!!(t&f)),M(y,!!(o&f)),M(y,!!(r&f)),M(w,!!(n&f)),M(w,!!(e&f))):(M(w,!!(t&f)),M(w,!!(o&f)),M(w,!!(r&f)),M(y,!!(n&f)),M(y,!!(e&f)))}return i[0]=A(w),i[1]=A(y),i}function C(t,n){let o=0,e=0,r=30,c=30;for(let f=0;f<n.length;f++){const t=a(n.charCodeAt(f)),l=f%2==0;r-=l?3:2,c-=l?2:3,o|=F(t,l)<<r,e|=j(t,l)<<c}return{geohashX:o,geohashY:e}}function X(t,n){let o=-90,e=90,r=-180,c=180;for(let f=0;f<n;f++){const n=Math.ceil((f+1)/2),l=Math.floor((f+1)/2),u=1-f%2,h=30-(3*n+2*l),s=30-(2*n+3*l),i=3*u+2*(1-u),a=2*u+3*(1-u),g=3*u+7*(1-u)<<s,A=(7*u+3*(1-u)<<h&t.geohashX)>>h,d=(g&t.geohashY)>>s;for(let t=i-1;t>=0;t--){const n=(r+c)/2,o=A&1<<t?1:0;r=(1-o)*r+o*n,c=(1-o)*n+o*c}for(let t=a-1;t>=0;t--){const n=(o+e)/2,r=d&1<<t?1:0;o=(1-r)*o+r*n,e=(1-r)*n+r*e}}return[r,o,c,e]}function Y(t,n,o,e){e%2&&(e+=1);let r=0,c=0,f=-90,l=90,u=-180,h=180;for(let s=0;s<e/2;s++){for(let t=0;t<5;t++){const n=(u+h)/2,e=o>n?1:0;r|=e<<29-(t+5*s),u=(1-e)*u+e*n,h=(1-e)*n+e*h}for(let t=0;t<5;t++){const o=(f+l)/2,e=n>o?1:0;c|=e<<29-(t+5*s),f=(1-e)*f+e*o,l=(1-e)*o+e*l}}t.geohashX=r,t.geohashY=c}function b(t,n,o,e,r){r%2&&(r+=1);let c=0,f=0,l=-90,u=90,h=-180,s=180;for(let i=0;i<r/2;i++){for(let t=0;t<5;t++){const n=(h+s)/2,o=e>n?1:0;c|=o<<29-(t+5*i),h=(1-o)*h+o*n,s=(1-o)*n+o*s}for(let t=0;t<5;t++){const n=(l+u)/2,e=o>n?1:0;f|=e<<29-(t+5*i),l=(1-e)*l+e*n,u=(1-e)*n+e*u}}t[2*n]=c,t[2*n+1]=f}function p(t,n,o){let e="";const r=d(c,-90,90),l=d(f,-180,180);for(let c=0;c<o;c++){let o=0;!(c%2)?(o|=w(l,n)<<4,o|=w(r,t)<<3,o|=w(l,n)<<2,o|=w(r,t)<<1,o|=w(l,n)<<0):(o|=w(r,t)<<4,o|=w(l,n)<<3,o|=w(r,t)<<2,o|=w(l,n)<<1,o|=w(r,t)<<0),e+=g(o)}return e}function x(t,n,c){return c?t&r|(n&r)<<1|(t&e)<<1|(n&e)<<2|(t&o)<<2:n&r|(t&r)<<1|(n&e)<<1|(t&e)<<2|(n&o)<<2}function F(c,f){return f?r&c|(o&c)>>1|(t&c)>>2:(e&c)>>1|(n&c)>>2}function j(c,f){return f?(e&c)>>1|(n&c)>>2:r&c|(o&c)>>1|(t&c)>>2}function k(c,f,l){const u=!((c.length-1)%2),h=c.substring(0,c.length-1),s=a(c.charCodeAt(c.length-1));let i=0,A=0,d=0,M=0;u?(i=8,A=4,d=r&s|(o&s)>>1|(t&s)>>2,M=(e&s)>>1|(n&s)>>2):(i=4,A=8,M=r&s|(o&s)>>1|(t&s)>>2,d=(e&s)>>1|(n&s)>>2);const w=d+f,y=M+l,C=Math.floor(w/i),X=Math.floor(y/A),Y=g(x(w-C*i,y-X*A,u));return c.length>1&&(C||X)?k(h,C,X)+Y:h+Y}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamFeatureManager: () => (/* binding */ o),
/* harmony export */   defaultStreamIdField: () => (/* binding */ s),
/* harmony export */   esriTimestamp: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="__esri_stream_id__",i="__esri_timestamp__",r=1e3;class o{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](1e5)),void this._trackIdLessObservations.enqueue(i);const o=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:r,i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(s,0,r);this._trackIdToObservations.set(o,new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](i))}const d=this._trackIdToObservations.get(o),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&r.push(t)}const o=[];if(null!=t){const r=new Set(e??[]);for(const e of t)r.has(e.objectId)||(e.attributes[i]=s,this.store.add(e),o.push(e))}(o.length||r?.length)&&this.store.update(o,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/operations/urlUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/urlUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapParameters: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n){const o={};for(const e in n){if("declaredClass"===e)continue;const r=n[e];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else"object"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/operations/query.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/operations/query.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeGeometry: () => (/* binding */ m),
/* harmony export */   executeQuery: () => (/* binding */ c),
/* harmony export */   executeQueryForCount: () => (/* binding */ S),
/* harmony export */   executeQueryForExtent: () => (/* binding */ x),
/* harmony export */   executeQueryForIds: () => (/* binding */ p),
/* harmony export */   executeQueryPBF: () => (/* binding */ f),
/* harmony export */   executeQueryPBFBuffer: () => (/* binding */ d),
/* harmony export */   queryToQueryStringParameters: () => (/* binding */ y),
/* harmony export */   runQuery: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../operations/urlUtils.js */ "./node_modules/@arcgis/core/rest/operations/urlUtils.js");
/* harmony import */ var _pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pbfQueryUtils.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js");
/* harmony import */ var _queryZScale_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./queryZScale.js */ "./node_modules/@arcgis/core/rest/query/operations/queryZScale.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="Layer does not support extent calculation.";function m(t,e){if(e&&"extent"===t.type)return`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;if(e&&"point"===t.type)return`${t.x},${t.y}`;const n=t.toJSON();return delete n.spatialReference,JSON.stringify(n)}function y(t,e){const n=t.geometry,i=t.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const o=i;let u,l,s;if(null!=n&&(l=n.spatialReference,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(l),o.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(n),o.geometry=m(n,t.compactGeometryEnabled),o.inSR=s),i.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(o.objectIds=i.objectIds.join(",")),i.orderByFields&&(o.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&(e?.returnCountOnly||e?.returnExtentOnly||e?.returnIdsOnly)?delete o.outFields:i.outFields.includes("*")?o.outFields="*":o.outFields=i.outFields.join(","),i.outSR?(o.outSR=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.srToRESTValue)(i.outSR),u=t.outSpatialReference):n&&(i.returnGeometry||i.returnCentroid)&&(o.outSR=o.inSR,u=l),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(o.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(o.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(o.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(t.defaultSpatialReferenceEnabled&&null!=l&&null!=t.quantizationParameters?.extent&&l.equals(t.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,o.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(o.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(o.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(o.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(o.time=e===n?e:`${e??"null"},${n??"null"}`),delete i.timeExtent}return t.defaultSpatialReferenceEnabled&&null!=l&&null!=u&&l.equals(u)&&(o.defaultSR=o.inSR,delete o.inSR,delete o.outSR),o}async function c(t,e,n,r){const i=null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await E(t,e,"json",r);return (0,_queryZScale_js__WEBPACK_IMPORTED_MODULE_7__.applyFeatureSetZUnitScaling)(e,n,i.data),i}async function f(t,e,n,r){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:n.createFeatureResult()};const i=await d(t,e,r),a=i;return a.data=(0,_pbfQueryUtils_js__WEBPACK_IMPORTED_MODULE_6__.parsePBFFeatureQuery)(i.data,n),a}function d(t,e,n){return E(t,e,"pbf",n)}function p(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):E(t,e,"json",n,{returnIdsOnly:!0})}function S(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):E(t,e,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}async function x(t,e,n){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await E(t,e,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty("extent"))return r;if(i.features)throw new Error(s);if(i.hasOwnProperty("count"))throw new Error(s);return r}async function E(r,a,u,l={},s={}){const m="string"==typeof r?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.urlToObject)(r):r,c=a.geometry?[a.geometry]:[],f=await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeCentralMeridian)(c,null,{signal:l.signal}),d=f?.[0];null!=d&&((a=a.clone()).geometry=d);const p=(0,_operations_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.mapParameters)({...m.query,f:u,...s,...y(a,s)});return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_1__.join)(m.path,g(a,s)?"query3d":"query"),{...l,responseType:"pbf"===u?"array-buffer":"json",query:{...p,...l.query}})}function g(t,e){return null!=t.formatOf3DObjects&&!(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   aggregateValidFiltersMask: () => (/* binding */ r),
/* harmony export */   createDisplayId: () => (/* binding */ s),
/* harmony export */   displayIdTexelMask: () => (/* binding */ n),
/* harmony export */   displayIdTypeAggregate: () => (/* binding */ c),
/* harmony export */   displayIdTypeFeature: () => (/* binding */ u),
/* harmony export */   displayIdTypeMask: () => (/* binding */ t),
/* harmony export */   getDisplayIdFilterMask: () => (/* binding */ i),
/* harmony export */   getDisplayIdTexel: () => (/* binding */ f),
/* harmony export */   getDisplayIdType: () => (/* binding */ e),
/* harmony export */   isAggregateId: () => (/* binding */ p),
/* harmony export */   nonAggregateValidFiltersMask: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=8388607,t=8388608,r=254,o=255,u=0,c=1,e=n=>(n&t)>>>23,f=t=>t&n,i=n=>e(n)===c?r:o;function p(n){return e(n)===c}function s(n,r){return((r?t:0)|n)>>>0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   allocateTypedArrayBuffer: () => (/* binding */ P),
/* harmony export */   allocateTypedArrayBufferwithData: () => (/* binding */ x),
/* harmony export */   cVboInfo: () => (/* binding */ Y),
/* harmony export */   charCodes: () => (/* binding */ de),
/* harmony export */   copyMeshData: () => (/* binding */ j),
/* harmony export */   createGeometryData: () => (/* binding */ H),
/* harmony export */   createProgramDescriptor: () => (/* binding */ ee),
/* harmony export */   forEachGeometryType: () => (/* binding */ te),
/* harmony export */   getBytes: () => (/* binding */ q),
/* harmony export */   getCapType: () => (/* binding */ k),
/* harmony export */   getJoinType: () => (/* binding */ G),
/* harmony export */   getNamedBuffers: () => (/* binding */ b),
/* harmony export */   getPMSResourceSize: () => (/* binding */ me),
/* harmony export */   getPixelArrayCtor: () => (/* binding */ W),
/* harmony export */   getPixelBytes: () => (/* binding */ K),
/* harmony export */   getStrides: () => (/* binding */ R),
/* harmony export */   getUrl: () => (/* binding */ se),
/* harmony export */   getVVType: () => (/* binding */ V),
/* harmony export */   is3D: () => (/* binding */ ue),
/* harmony export */   isDefined: () => (/* binding */ z),
/* harmony export */   isGIF: () => (/* binding */ ie),
/* harmony export */   isGIFDataUri: () => (/* binding */ ae),
/* harmony export */   isImageResource: () => (/* binding */ re),
/* harmony export */   isMarkerPlacementInsidePolygon: () => (/* binding */ ye),
/* harmony export */   isNumber: () => (/* binding */ $),
/* harmony export */   isPNG: () => (/* binding */ oe),
/* harmony export */   isPNGDataUri: () => (/* binding */ ce),
/* harmony export */   isSVGResource: () => (/* binding */ ne),
/* harmony export */   isSimple: () => (/* binding */ le),
/* harmony export */   isValidSVG: () => (/* binding */ pe),
/* harmony export */   shouldRepeat: () => (/* binding */ fe),
/* harmony export */   strideToPackingFactor: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../symbols/cim/enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const f=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl.Utils"),m="geometry",d=[{name:m,strideInBytes:12}],p=[{name:m,strideInBytes:36}],y=[{name:m,strideInBytes:24}],I=[{name:m,strideInBytes:12}],S=[{name:m,strideInBytes:40}],T=[{name:m,strideInBytes:36}],g=[{name:m,strideInBytes:36}];function w(e){const t={};for(const n of e)t[n.name]=n.strideInBytes;return t}const E=w([{name:m,strideInBytes:36}]),h=w(d),L=w(p),N=w(y),D=w(I),A=w(S),M=w(T),U=w(g);function R(e,t){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return t===_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.HEATMAP?h:E;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.DOT_DENSITY:return D;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.SIMPLE:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.OUTLINE_FILL_SIMPLE:return N;default:return L}case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return A;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return M;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return U}}const _=[m],B=[m],O=[m],v=[m],C=[m];function b(e){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return _;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:return B;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return O;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return v;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return C}}function F(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function P(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function x(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function z(e){return null!=e}function $(e){return"number"==typeof e}function k(t){switch(t){case"butt":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.BUTT;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND;case"square":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.SQUARE;default:return f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND}}function G(t){switch(t){case"miter":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.MITER;case"bevel":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.BEVEL;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND;default:return f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND}}function V(e){switch(e){case"opacity":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.OPACITY;case"color":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.COLOR;case"rotation":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.ROTATION;case"size":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.SIZE;default:return f.error(`Cannot interpret unknown vv: ${e}`),null}}function j(e,t,n,r,s,a,i){for(const c in a){const t=a[c].stride,r=F(t),i=a[c].data,o=n[c].data;if(null==i||null==o)continue;const u=t*s.vertexCount/r,l=t*e/r,f=t*s.vertexFrom/r;for(let e=0;e<u;++e)o[e+l]=i[e+f]}if(null!=i&&null!=r){const n=s.indexCount;for(let a=0;a<n;++a)r[a+t]=i[a+s.indexFrom]-s.vertexFrom+e}}const Y={[m]:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW};function H(e,t){const n=[];for(let r=0;r<5;++r){const s=b(r),a={};for(const e of s)a[e]={data:t(r,e)};n.push({data:e(r),buffers:a})}return n}function q(e){switch(e){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.BYTE:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.SHORT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_SHORT:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.FLOAT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.INT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_INT:return 4}}function K(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return 4;default:return void f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function W(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return Uint8Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return Float32Array;default:return void f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function X(e){const t={};for(const n in e){const r=e[n];let s=0;t[n]=r.map((e=>{const t=new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.VertexElementDescriptor(e.name,e.count,e.type,s,0,e.normalized||!1);return s+=e.count*q(e.type),t})),t[n]?.forEach((e=>e.stride=s))}return t}const J=e=>{const t=new Map;for(const n in e)for(const r of e[n])t.set(r.name,r.location);return t},Q=e=>{const t={};for(const n in e){const r=e[n];t[n]=r?.length?r[0].stride:0}return t},Z=new Map,ee=(e,t)=>{if(!Z.has(e)){const n=X(t),r={strides:Q(n),bufferLayouts:n,attributes:J(t)};Z.set(e,r)}return Z.get(e)};function te(e){e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL)}const ne=e=>"path"in e&&pe(e.path),re=e=>!(!("url"in e)||!e.url)||!(!("imageData"in e)||!e.imageData),se=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,ae=e=>null!=e&&e.startsWith("data:image/gif"),ie=e=>"url"in e&&e.url&&(e.url.includes(".gif")||ae(e.url))||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&ae(e.imageData),ce=e=>null!=e&&e.startsWith("data:image/png"),oe=e=>"url"in e&&e.url&&(e.url.includes(".png")||ce(e.url))||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&ce(e.imageData),ue=e=>e.type&&e.type.toLowerCase().includes("3d");function le(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}function fe(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return ye(e);default:return!0}}function me(e){const t="maxVVSize"in e&&e.maxVVSize,n="width"in e&&e.width||"size"in e&&e.size||0;return t||n}function de(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}const pe=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4)),ye=e=>"fill"===e.type&&"CIMMarkerPlacementInsidePolygon"===e?.cim?.markerPlacement?.type;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/color.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   premultiplyAlpha: () => (/* binding */ r),
/* harmony export */   premultiplyAlphaRGBA: () => (/* binding */ t),
/* harmony export */   premultiplyAlphaRGBAArray: () => (/* binding */ o),
/* harmony export */   writeColor: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   angleFactor256: () => (/* binding */ f),
/* harmony export */   attributeDataAnimation: () => (/* binding */ Q),
/* harmony export */   attributeDataDd0: () => (/* binding */ T),
/* harmony export */   attributeDataDd1: () => (/* binding */ U),
/* harmony export */   attributeDataFilterFlags: () => (/* binding */ P),
/* harmony export */   attributeDataGpgpu: () => (/* binding */ R),
/* harmony export */   attributeDataVv: () => (/* binding */ S),
/* harmony export */   attributeStoreTextureSize: () => (/* binding */ A),
/* harmony export */   averageGlyphMosaicItem: () => (/* binding */ z),
/* harmony export */   bitsetFillHasPatternHeightPrecisionFactor: () => (/* binding */ ye),
/* harmony export */   bitsetFillHasPatternWidthPrecisionFactor: () => (/* binding */ be),
/* harmony export */   bitsetFillHasUnresolvedReplacementColor: () => (/* binding */ ve),
/* harmony export */   bitsetFillRandomPatternOffset: () => (/* binding */ ue),
/* harmony export */   bitsetGenericConsiderAlphaOnly: () => (/* binding */ ge),
/* harmony export */   bitsetGenericLockColor: () => (/* binding */ pe),
/* harmony export */   bitsetLineScaleDash: () => (/* binding */ je),
/* harmony export */   bitsetMarkerAlignmentMap: () => (/* binding */ ne),
/* harmony export */   bitsetMarkerAlignmentScreen: () => (/* binding */ le),
/* harmony export */   bitsetMarkerOutlineAllowColorOverride: () => (/* binding */ we),
/* harmony export */   bitsetMarkerScaleSymbolsProportionally: () => (/* binding */ xe),
/* harmony export */   bitsetTypeFillOutline: () => (/* binding */ ke),
/* harmony export */   bufferDataMinimumSize: () => (/* binding */ ie),
/* harmony export */   bufferDataPoolSize: () => (/* binding */ he),
/* harmony export */   chartMaxFields: () => (/* binding */ n),
/* harmony export */   collisionBoxPadding: () => (/* binding */ j),
/* harmony export */   collisionBucketSize: () => (/* binding */ p),
/* harmony export */   collisionEarlyRejectBucketSize: () => (/* binding */ g),
/* harmony export */   collisionMaxZoomDelta: () => (/* binding */ x),
/* harmony export */   collisionPlacementPadding: () => (/* binding */ u),
/* harmony export */   collisionTileBoxSize: () => (/* binding */ k),
/* harmony export */   compressionFactorForU16: () => (/* binding */ h),
/* harmony export */   debugLabels: () => (/* binding */ s),
/* harmony export */   displayRecordIntPerElement: () => (/* binding */ de),
/* harmony export */   dotDensityMaxFields: () => (/* binding */ l),
/* harmony export */   effectFlag0: () => (/* binding */ Y),
/* harmony export */   enableEarlyLabelDiscard: () => (/* binding */ Z),
/* harmony export */   extrudeScale: () => (/* binding */ o),
/* harmony export */   filterFlag0: () => (/* binding */ X),
/* harmony export */   glyphSize: () => (/* binding */ b),
/* harmony export */   heuristicGlyphsPerFeature: () => (/* binding */ y),
/* harmony export */   heuristicGlyphsPerLine: () => (/* binding */ v),
/* harmony export */   highlightFlag: () => (/* binding */ W),
/* harmony export */   hittestRadius: () => (/* binding */ _),
/* harmony export */   magicLabelLineHeight: () => (/* binding */ w),
/* harmony export */   maxFilters: () => (/* binding */ V),
/* harmony export */   maxGpuUploadsPerFrame: () => (/* binding */ oe),
/* harmony export */   maxRepresentableInt: () => (/* binding */ m),
/* harmony export */   maxSizeForU16Compression: () => (/* binding */ i),
/* harmony export */   minMaxZoomPrecisionFactor: () => (/* binding */ me),
/* harmony export */   nanMagicNumber: () => (/* binding */ t),
/* harmony export */   patchPixelBufferAllocSize: () => (/* binding */ fe),
/* harmony export */   patternFillRasterizationScale: () => (/* binding */ Ae),
/* harmony export */   pictureFillColor: () => (/* binding */ a),
/* harmony export */   randomInsidePolygonTextureSize: () => (/* binding */ se),
/* harmony export */   rasterTileSize: () => (/* binding */ d),
/* harmony export */   sdfTextureSize: () => (/* binding */ ce),
/* harmony export */   spritePadding: () => (/* binding */ ae),
/* harmony export */   textPlacementPadding: () => (/* binding */ q),
/* harmony export */   textureBindingAttributeData0: () => (/* binding */ E),
/* harmony export */   textureBindingAttributeData1: () => (/* binding */ F),
/* harmony export */   textureBindingAttributeData2: () => (/* binding */ G),
/* harmony export */   textureBindingAttributeData3: () => (/* binding */ H),
/* harmony export */   textureBindingAttributeData4: () => (/* binding */ I),
/* harmony export */   textureBindingAttributeData5: () => (/* binding */ J),
/* harmony export */   textureBindingBitmap: () => (/* binding */ D),
/* harmony export */   textureBindingGlyphAtlas: () => (/* binding */ C),
/* harmony export */   textureBindingGpgpu: () => (/* binding */ K),
/* harmony export */   textureBindingHighlight0: () => (/* binding */ L),
/* harmony export */   textureBindingHighlight1: () => (/* binding */ M),
/* harmony export */   textureBindingRenderer0: () => (/* binding */ N),
/* harmony export */   textureBindingRenderer1: () => (/* binding */ O),
/* harmony export */   textureBindingSpriteAtlas: () => (/* binding */ B),
/* harmony export */   textureUploadManagerBudget: () => (/* binding */ ze),
/* harmony export */   textureUploadManagerChunkSize: () => (/* binding */ qe),
/* harmony export */   thinLineHalfWidthThreshold: () => (/* binding */ $),
/* harmony export */   tileSize: () => (/* binding */ c),
/* harmony export */   vtlHighResCutoff: () => (/* binding */ te),
/* harmony export */   vtlTextureBindingUnitGlyphs: () => (/* binding */ re),
/* harmony export */   vtlTextureBindingUnitSprites: () => (/* binding */ ee),
/* harmony export */   webglMaxInnerStops: () => (/* binding */ r),
/* harmony export */   webglMaxStops: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e=8,r=e-2,t=1e-30,o=64,a=4294967295,c=512,d=256,f=256/360,h=128,i=511,m=16777216,s=!1,p=128,l=8,n=10,w=29,x=1,g=16,j=16,k=c/p,u=8,v=50,y=10,b=24,q=8,z={metrics:{width:15,height:17,left:0,top:-7,advance:14}},A=1024,B=0,C=0,D=0,E=1,F=2,G=3,H=4,I=5,J=6,K=12,L=5,M=6,N=5,O=6,P=0,Q=1,R=2,S=3,T=3,U=4,V=2,W=1,X=2,Y=4,Z=!1,$=1.05,_=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-force-marker-text-draw-order")?.5:3,ee=5,re=6,te=1.15,oe=2,ae=2,ce=128-2*ae,de=8,fe=500,he=4,ie=128,me=10,se=1024,pe=2,le=0,ne=1,we=4,xe=8,ge=16,je=4,ke=1,ue=4,ve=8,ye=32,be=64,qe=128,ze=4,Ae=2;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MosaicType: () => (/* binding */ _),
/* harmony export */   VVType: () => (/* binding */ I),
/* harmony export */   WGLDrawPhase: () => (/* binding */ T),
/* harmony export */   WGLGeometryType: () => (/* binding */ E),
/* harmony export */   WGLSymbologyType: () => (/* binding */ S),
/* harmony export */   WGLVVFlag: () => (/* binding */ L),
/* harmony export */   WGLVVTarget: () => (/* binding */ A)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E,T,I,L,A,_,S;!function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(T||(T={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION"}(I||(I={})),function(E){E[E.NONE=0]="NONE",E[E.OPACITY=1]="OPACITY",E[E.COLOR=2]="COLOR",E[E.ROTATION=4]="ROTATION",E[E.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",E[E.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",E[E.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",E[E.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(L||(L={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(A||(A={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH"}(_||(_={})),function(E){E[E.DEFAULT=0]="DEFAULT",E[E.SIMPLE=1]="SIMPLE",E[E.DOT_DENSITY=2]="DOT_DENSITY",E[E.OUTLINE_FILL=3]="OUTLINE_FILL",E[E.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",E[E.HEATMAP=5]="HEATMAP",E[E.PIE_CHART=6]="PIE_CHART"}(S||(S={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/number.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i16: () => (/* binding */ e),
/* harmony export */   i1616to32: () => (/* binding */ w),
/* harmony export */   i32: () => (/* binding */ o),
/* harmony export */   i8: () => (/* binding */ u),
/* harmony export */   i8816to32: () => (/* binding */ y),
/* harmony export */   i8888to32: () => (/* binding */ x),
/* harmony export */   numTo32: () => (/* binding */ A),
/* harmony export */   toFloat32: () => (/* binding */ h),
/* harmony export */   toUint32: () => (/* binding */ a),
/* harmony export */   u16: () => (/* binding */ i),
/* harmony export */   u32: () => (/* binding */ c),
/* harmony export */   u32to4Xu8: () => (/* binding */ M),
/* harmony export */   u4u4to8: () => (/* binding */ m),
/* harmony export */   u8: () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createDebugLogger: () => (/* binding */ n),
/* harmony export */   debugAttrUpdates: () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=(n,l)=>n&&((...n)=>l.warn("DEBUG:",...n))||(()=>null),l=!1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTypeOfSizeVisualVariable: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l){return (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(l.minDataValue)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(l.maxDataValue)&&null!=l.minSize&&null!=l.maxSize?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_MINMAX_VALUE:(l.expression&&"view.scale"===l.expression||l.valueExpression&&"$view.scale"===l.valueExpression)&&Array.isArray(l.stops)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_SCALE_STOPS:(null!=l.field||l.expression&&"view.scale"!==l.expression||l.valueExpression&&"$view.scale"!==l.valueExpression)&&(Array.isArray(l.stops)||"levels"in l&&l.levels)?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_FIELD_STOPS:(null!=l.field||l.expression&&"view.scale"!==l.expression||l.valueExpression&&"$view.scale"!==l.valueExpression)&&null!=l.valueUnit?_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.SIZE_UNIT_VALUE:(_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-bad-type","Found invalid size VisualVariable",l)),_enums_js__WEBPACK_IMPORTED_MODULE_2__.WGLVVFlag.NONE)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _processors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./processors.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js");
/* harmony import */ var _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controllers/FeatureController2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js");
/* harmony import */ var _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/TileStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.controller=null,this.processor=null,this.remoteClient=null,this.tileStore=null,this.service=null,this.viewState=null,this._paused=!1,this._pendingTileUpdates=[]}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.updating),(e=>{this.remoteClient.invoke("setUpdating",e).catch((e=>{}))}))])}destroy(){this.stop(),this.controller?.destroy(),this.processor?.destroy(),this.controller=this.processor=this.tileStore=this.remoteClient=null}get updating(){return!this.controller||this.controller.updating}stop(){this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=null,this._pendingTileUpdates.length=0}async startup({service:e,config:t,tileInfo:r,tiles:s}){if(this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.service=e,!this.tileStore||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.equals)(this.tileStore.tileScheme.spatialReference,r.spatialReference)){const e=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__["default"](_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(r));s.added.length=s.removed.length=0,this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=new _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__["default"](e),this._pendingTileUpdates.length=0}for(await this._createProcessorAndController(t),await this.update({config:t}),this.controller.resume(),this.tileStore.clear(),this.tileStore.updateTiles(s),this._paused=!1;this._pendingTileUpdates.length;)this.tileStore.updateTiles(this._pendingTileUpdates.pop())}async updateTiles(e){this._paused?this._pendingTileUpdates.push(e):this.tileStore?.updateTiles(e)}async update({config:e}){const t=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.empty();return await Promise.all([this.processor.update(t,e),this.controller.update(t,e)]),t.toJSON()}async applyUpdate(e){return this.controller.applyUpdate(_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.create(e))}async _createProcessorAndController(e){await Promise.all([this._handleControllerConfig(e),this._handleProcessorConfig(e)]),this.controller.processor=this.processor}async _handleControllerConfig(e){return this._createController(this.service,e)}async _handleProcessorConfig(e){return this._createProcessor(this.service,e)}async _createController(e,t){this.controller&&(this.controller.destroy(),this.removeHandles("controller"));const{tileStore:s,remoteClient:o}=this,i=new _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__["default"]({service:e,tileStore:s,remoteClient:o}),l=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>i.dataUpdating),(e=>{this.remoteClient.invoke("setDataUpdating",e).catch((e=>{}))}));return this.addHandles(l,"controller"),this.controller=i,i}async _createProcessor(e,t){const r=t.schema.processors[0].type,s=(await (0,_processors_js__WEBPACK_IMPORTED_MODULE_10__.loadProcessorModule)(r)).default,{remoteClient:o,tileStore:i}=this,l=new s({service:e,config:t,tileStore:i,remoteClient:o});return this.processor&&this.processor.destroy(),this.processor=l,l}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"viewState",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.features.Pipeline")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../time/timeZoneUtils.js */ "./node_modules/@arcgis/core/time/timeZoneUtils.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _sources_createSource_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../sources/createSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js");
/* harmony import */ var _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _support_BinStore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/BinStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js");
/* harmony import */ var _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/ClusterStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const w=5e3,x="tileRenderer.featuresView.attributeView.initialize",T="tileRenderer.featuresView.attributeView.requestUpdate",A="tileRenderer.featuresView.requestRender";function j(e){return"worker:port-closed"===e.name}function k(e){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e)&&!j(e))throw e}function U(e){return"feature"===e.type&&"snapshot"===e.mode}let R=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this._storage=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_19__.ComputedAttributeStorage,this._markedIdsBufId=this._storage.createBitset(),this._lastCleanup=performance.now(),this._cleanupNeeded=!1,this._invalidated=!1,this._tileToResolver=new Map,this._didEdit=!1,this._updateVersion=1,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__.UpdatingHandles,this.tileStore=null,this.config=null,this.processor=null,this.remoteClient=null,this.service=null}initialize(){this._initStores(),this._initSource(),this._updateQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_22__.QueueProcessor({concurrency:"stream"===this._source.type?1:4,process:(e,t)=>this._onTileMessage(e,{signal:t})}),this.addHandles([this.tileStore.on("update",this.onTileUpdate.bind(this)),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.when)((()=>!this.updating),(()=>this.onIdle()))])}_initSource(){const e=this.tileStore.tileScheme,t=()=>this._updateQueue&&this._updateQueue.length<50,r=(e,t)=>(this._invalidated=!0,this._patchTile(e,t));this._source=(0,_sources_createSource_js__WEBPACK_IMPORTED_MODULE_15__.createSource)(this.service,{...this.service,fieldsIndex:this.fieldsIndex},this.spatialReference,e,r,t,this.featureStore),this._proxyEvents()}_setStreamClientProperty(e,t){this.remoteClient.invoke("setProperty",{propertyName:e,value:t}).catch(k)}_proxyEvents(){if("stream"===this._source.type){const e=this._source.events,t=this._source;this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>t.connectionStatus),(e=>this._setStreamClientProperty("pipelineConnectionStatus",e)),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>t.errorString),(e=>this._setStreamClientProperty("pipelineErrorString",e)),{initial:!0}),e.on("data-received",(e=>this.remoteClient.invoke("emitEvent",{name:"data-received",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}}).catch(k))),e.on("message-received",(e=>this.remoteClient.invoke("emitEvent",{name:"message-received",event:e}).catch(k))),e.on("updateRate",(e=>this.remoteClient.invoke("emitEvent",{name:"update-rate",event:{...e}}).catch(k)))])}}_initAttributeStore(e){this.attributeStore||(this.attributeStore=new _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_16__["default"]({type:"remote",initialize:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this.remoteClient.invoke(x,e,{signal:t}).catch(k)),update:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this.remoteClient.invoke(T,e,{signal:t}).catch(k)),render:e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this.remoteClient.invoke(A,void 0,{signal:e}).catch(k))},e))}_initStores(){const e="snapshot"===this.service.type?"snapshot":"on-demand",t={geometryInfo:{geometryType:this.service.geometryType,hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex};this.featureStore=new _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_14__.FeatureStore2D(t,this._storage,e)}_initQueryEngine(e){const t=this;this.featureQueryEngine?.destroy(),this.featureQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({availableFields:e.availableFields,definitionExpression:e.schema.source.definitionExpression??void 0,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(this.service.fieldsIndex),geometryType:this.service.geometryType,objectIdField:this.service.objectIdField,hasM:!1,hasZ:!1,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!0,featureStore:this.featureStore,aggregateAdapter:{getFeatureObjectIds(e){if(null==t.aggregateStore)return[];return t.aggregateStore.getFeatureDisplayIdsForAggregate(e).map((e=>t.getObjectId(e)))}},timeInfo:this.service.timeInfo})}_initAggregateQueryEngine(e,t){if(this.aggregateQueryEngine?.destroy(),null==e)return;const r=t.targets.aggregate.params.fields.slice();this.aggregateQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({definitionExpression:void 0,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromLayerJSON({fields:r,dateFieldsTimeReference:{timeZoneIANA:_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__.utc}}),geometryType:e.geometryInfo.geometryType,objectIdField:e.objectIdField,hasM:e.geometryInfo.hasM,hasZ:e.geometryInfo.hasZ,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!1,featureStore:e,aggregateAdapter:{getFeatureObjectIds:e=>[]}})}destroy(){this._updateQueue.destroy(),this._source.destroy(),this.featureQueryEngine?.destroy(),this.aggregateQueryEngine?.destroy(),this.attributeStore?.destroy();for(const e of this.tileStore.tiles)this._source.unsubscribe(e);clearInterval(this._checkUpdating),this._updatingHandles.destroy()}get fieldsIndex(){return _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(this.service.fieldsIndex)}get spatialReference(){return this.tileStore.tileScheme.spatialReference}get dataUpdating(){return this._source.updatingHandles.updating}get updating(){return this.isUpdating()}isUpdating(){const e=this._source.updatingHandles.updating,t=!this.attributeStore||this.attributeStore.updatingHandles.updating,r=e||t||this._updatingHandles.updating;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-log-updating")){let s=`Updating FeatureController2D: ${r}\n`;s+=`  -> updatingSource ${e}\n`;for(const e of this._source.subscriptions)s+=`     ${e.tile.id} ${e.isDone}\n`;s+=`  -> updatingAttributeStore ${t}\n`,s+=`  -> updatingHandles ${this._updatingHandles.updating} (queue: ${this._updateQueue.length})\n`,console.log(s)}return r}updateCustomParameters(e){"stream"===this._source.type&&this._source.updateCustomParameters(e)}enableEvent(e){this._source.enableEvent(e.name,e.value)}pause(){this._updateQueue.pause(),this._updateQueue.clear()}resume(){this._updateQueue.resume()}pauseStream(){"stream"===this._source.type&&this._source.pauseStream()}resumeStream(){"stream"===this._source.type&&this._source.resumeStream()}sendMessageToSocket(e){"stream"===this._source.type&&this._source.sendMessageToSocket(e)}sendMessageToClient(e){"stream"===this._source.type&&this._source.sendMessageToClient(e)}_initAggregateStore(e){const t=e.schema.targets?.aggregate?.type??null;if((this.config?.schema.targets?.aggregate?.type??null)!==t&&(null!=this.aggregateStore&&(this.removeHandles("valueRangesChanged"),this.aggregateStore.destroy(),this.aggregateStore=null),t)){switch(t){case"cluster":{const e={geometryInfo:{geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_18__.ClusterStore(e,this.spatialReference,this._storage,{...this.service,fieldsIndex:this.fieldsIndex}),this.addHandles(this.aggregateStore.events.on("valueRangesChanged",(e=>{this.remoteClient.invoke("emitEvent",{name:"valueRangesChanged",event:{valueRanges:e.valueRanges}}).catch(k)})),"valueRangesChanged");break}case"bin":{const e={geometryInfo:{geometryType:"esriGeometryPolygon",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_BinStore_js__WEBPACK_IMPORTED_MODULE_17__.BinStore(e,this.spatialReference,this._storage,{...this.service,fieldsIndex:this.fieldsIndex});break}}this.aggregateStore.onTileUpdate({added:this.tileStore.tiles,removed:[]})}}async update(e,t){this._updateVersion++,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::update: Token version ${this._updateVersion}`),this._initQueryEngine(t),this._initAttributeStore(t),this.pause(),this.config?.timeZone!==t.timeZone&&(e.mesh=!0,e.storage.data=!0,e.storage.filters=!0,e.targets.aggregate=!0,e.targets.feature=!0,this.featureStore.invalidate()),await Promise.all([this._source.update(e,t.schema.source),this.featureStore.updateSchema(e,t.schema.targets.feature),this.attributeStore.update(e,t),this.attributeStore.updateFilters(e,t,this)]),this._initAggregateStore(t),null!=this.aggregateStore&&await this.aggregateStore.updateSchema(e,t.schema.targets.aggregate),this._initAggregateQueryEngine(this.aggregateStore,t.schema),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&e.describe(),this._set("config",t)}async applyUpdate(e){e.version=this._updateVersion,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::applyUpdate: Token version ${e.version}`),e.mesh&&this.clearTiles(),this._updateQueue.resume(),await this._source.applyUpdate(e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for source update to finish"),this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Source update finsihed"),null!=this.aggregateStore&&(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.after)(10),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for aggregate idle call"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Aggregate idle called")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Update finished")}async onEdits({edits:e}){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("Applying Edit:",e),this._didEdit=!0;try{const t=e.removed.map((e=>e.objectId&&-1!==e.objectId?e.objectId:this._lookupObjectIdByGlobalId(e.globalId))),r=e.addOrModified.map((({objectId:e})=>e));this.featureStore.invalidate(),await this._source.edit(r,t),this.clearTiles(),this.notifyChange("updating"),null!=this.aggregateStore&&this.aggregateStore.clear(),await this._source.resend(),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating))}catch(t){}}async refresh(e){if(!e.dataChanged){const e=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_21__.UpdateToken.empty();return e.storage.filters=!0,this.applyUpdate(e)}this.featureStore.invalidate(),this.clearTiles(),this._source.refresh(this._updateVersion,e),this._cleanupNeeded=!0,this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating))}clearTiles(){for(const e of this.tileStore.tiles)this.processor.onTileClear(e,!1)}onTileUpdate(e){null!=this.aggregateStore&&this.aggregateStore.onTileUpdate(e);for(const t of e.added){const e=this._source.subscribe(t,this._updateVersion);"stream"!==this._source.type&&this._updatingHandles.addPromise(e.done),this._level=t.level}for(const t of e.removed)this._source.unsubscribe(t),this._cleanupNeeded=!0,this._tileToResolver.has(t.id)&&(this._tileToResolver.get(t.id).resolve(),this._tileToResolver.delete(t.id));this.notifyChange("updating")}async onIdle(){this._invalidated&&(this._invalidated=!1,null==this.aggregateStore&&"heatmap"!==this.processor.type||await this._repushCurrentLevelTiles()),this._markAndSweep()}async querySummaryStatistics({query:e,params:t}){return this.featureQueryEngine.executeQueryForSummaryStatistics(e,t)}async queryAggregateSummaryStatistics({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForSummaryStatistics(this._normalizeAggregateQuery(e),t)}async queryUniqueValues({query:e,params:t}){return this.featureQueryEngine.executeQueryForUniqueValues(e,t)}async queryAggregateUniqueValues({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForUniqueValues(this._normalizeAggregateQuery(e),t)}async queryClassBreaks({query:e,params:t}){return this.featureQueryEngine.executeQueryForClassBreaks(e,t)}async queryAggregateClassBreaks({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForClassBreaks(this._normalizeAggregateQuery(e),t)}async queryHistogram({query:e,params:t}){return this.featureQueryEngine.executeQueryForHistogram(e,t)}async queryAggregateHistogram({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForHistogram(this._normalizeAggregateQuery(e),t)}queryExtent(e){return this.featureQueryEngine.executeQueryForExtent(e)}queryAggregates(e){return this.aggregateQueryEngine.executeQuery(this._normalizeAggregateQuery(e))}queryAggregateCount(e){return this.aggregateQueryEngine.executeQueryForCount(this._normalizeAggregateQuery(e))}queryAggregateIds(e){return this.aggregateQueryEngine.executeQueryForIds(this._normalizeAggregateQuery(e))}queryFeatures(e){return this.featureQueryEngine.executeQuery(e)}async queryVisibleFeatures(e){const t=await this.featureQueryEngine.executeQuery(e),r=t.objectIdFieldName;return t.features=t.features.filter((e=>{const t=e.attributes[r],s=this.getDisplayId(t);return null!=s&&this.attributeStore.isVisible(s)})),t}queryFeatureCount(e){return this.featureQueryEngine.executeQueryForCount(e)}queryLatestObservations(e){return this.featureQueryEngine.executeQueryForLatestObservations(e)}queryObjectIds(e){return this.featureQueryEngine.executeQueryForIds(e)}async queryStatistics(){return this.featureStore.storeStatistics}getObjectId(e){return this.featureStore.lookupObjectId(e,this._storage)}getDisplayId(e){if(null!=this.aggregateStore){const t=this.aggregateStore.getDisplayId(e);if(null==t){const t=this.featureStore.lookupDisplayId(e);return this.aggregateStore.getDisplayIdForReferenceId(t)}return t}return this.featureStore.lookupDisplayId(e)}getFeatures(e){const t=[],r=[];for(const s of e){const e=null!=this.aggregateStore?this.getAggregate(s):null;if(null!=e)if(null!=e.attributes.referenceId){const r=this.getFeature(e.attributes.referenceId);null!=r&&t.push(r)}else r.push(e);else{const e=this.getFeature(s);null!=e&&t.push(e)}}return{features:t,aggregates:r}}getFeature(e){const t=this.featureStore.lookupFeatureByDisplayId(e,this._storage);if(null==t)return null;const r=t.readHydratedGeometry(),s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(r,t.geometryType,t.hasZ,t.hasM);return{attributes:t.readAttributes(),geometry:s}}getAggregate(e){return null==this.aggregateStore?null:this.aggregateStore.getAggregate(e)}getAggregates(){return null==this.aggregateStore?[]:this.aggregateStore.getAggregates()}async setHighlight(e){const t=e.map((e=>this.getDisplayId(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome);return this.attributeStore.setHighlight(e,t)}_normalizeAggregateQuery(e){const t=e.objectIds??[];for(const r of e.aggregateIds??[])t.push(r);return e.objectIds=t,e.aggregateIds=[],e}_lookupObjectIdByGlobalId(e){const t=this.service.globalIdField;if(null==t)throw new Error("Expected globalIdField to be defined");let r=null;if(this.featureStore.forEach((s=>{e===s.readAttribute(t)&&(r=s.getObjectId())})),null==r)throw new Error(`Expected to find a feature with globalId ${e}`);return r}async _repushCurrentLevelTiles(){const e=this.tileStore.tiles.filter((e=>e.level===this._level));e.map((async e=>this._patchTile({type:"append",id:e.key.id,clear:!0,addOrUpdate:null,end:!1})));const t=e.map((async e=>this._patchTile({type:"append",id:e.key.id,addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_20__.FeatureSetReaderJSON.fromOptimizedFeatures([],{...this.service,fieldsIndex:this.fieldsIndex}),remove:[],end:!0,isRepush:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_21__.UpdateToken.empty()})));await Promise.all(t)}_maybeForceCleanup(){performance.now()-this._lastCleanup>w&&this._markAndSweep()}_patchTile(e,t){const r=this._updateQueue.push(e,t).catch((e=>{}));return this._updatingHandles.addPromise(r)}async _onTileMessage(e,t){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")){const t=e.addOrUpdate?.hasFeatures;console.debug(e.id,`FeatureController:onTileMessage: [clear:${e.clear}, end:${e.end}, features: ${t}]`)}const r=this.tileStore.get(e.id);if(!r)return;if(e.clear)return this.processor.onTileClear(r,e.end);const s=e.status;this._cleanupNeeded=!0;const i=[];for(const a of e.remove??[]){const e=this.featureStore.lookupDisplayId(a);e&&i.push(e)}e.remove=i;try{if(null==e.addOrUpdate)return void this.processor.onTileMessage(r,{...e,addOrUpdate:null},null!=this.aggregateStore,t).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfNotAbortError);if(e.addOrUpdate.setArcadeSpatialReference(this.spatialReference),this.featureStore.hasInstance(e.addOrUpdate.instance)&&s.targets.feature||(s.targets.feature=!0,this.featureStore.onTileData(r,e,this.config?.timeZone)),!s.storage.data||!s.storage.filters){s.storage.data=!0,s.storage.filters=!0,this.attributeStore.onTileData(r,e);"stream"===this._source.type||this._didEdit?(await this.attributeStore.sendUpdates(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t)):this.attributeStore.sendUpdates()}if(null!=this.aggregateStore&&!s.targets.aggregate){s.targets.aggregate=!0;const t=U(this._source)&&this._source.loading,i=!U(this._source)||t||e.end;if(this.aggregateStore.onTileData(r,e,this._storage,this.attributeStore,this.config?.timeZone,i),!i)return;s.mesh||(this.attributeStore.onTileData(r,e),await this.attributeStore.sendUpdates())}if(!s.mesh){s.mesh=!0;const i=null!=this.aggregateStore&&"cluster"===this.aggregateStore.type;await this.processor.onTileMessage(r,e,i,t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t)}this._maybeForceCleanup()}catch(n){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfNotAbortError)(n)}}_mark(e,t,r){const s=(4294901760&this._storage.getInstanceId(e))>>>16;e&&(t.add(s),r.set(e))}_markAndSweep(){this._lastCleanup=performance.now();if(!(!("feature"===this._source.type&&"snapshot"===this._source.mode)&&("stream"===this._source.type||this._cleanupNeeded)))return;this._cleanupNeeded=!1;const e=this._storage.getBitset(this._markedIdsBufId),t=new Set;e.clear();for(const r of this.tileStore.tiles)for(const s of this._source.readers(r.id)){const r=s.getCursor();for(;r.next();){let s=r.getDisplayId();if(!s){const e=r.getObjectId();s=this.featureStore.lookupDisplayId(e)}this._mark(s,t,e)}}"symbol"===this.processor.type&&this.processor.forEachBufferId((r=>{this._mark(r,t,e)})),this._updateQueue.forEach((r=>{for(const s of r.remove??[]){const r=this.featureStore.lookupDisplayId(s);this._mark(r,t,e)}})),null!=this.aggregateStore&&(this.aggregateStore.sweepFeatures(e,this.featureStore),"sweepAggregates"in this.aggregateStore&&this.aggregateStore.sweepAggregates(this._storage,this.attributeStore,this._level)),this.featureStore.sweepFeatures(e,this._storage,this.attributeStore),this.featureStore.sweepFeatureSets(t)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],R.prototype,"tileStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"config",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],R.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],R.prototype,"remoteClient",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],R.prototype,"service",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"updating",null),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.features.controllers.FeatureController2D")],R);const q=R;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SourceAdapter: () => (/* binding */ m),
/* harmony export */   createSourceAdapter: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/workers/Connection.js */ "./node_modules/@arcgis/core/core/workers/Connection.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../layers/ogc/ogcFeatureUtils.js */ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../support/FeatureSetReaderPBF.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class m{constructor(e){this.service=e,this._arcadeLayerSchema={...e,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_5__["default"].fromJSON(e.fieldsIndex)}}destroy(){}}function p(e){return Array.isArray(e.source)}function l(e){return"ogc-source"===e?.type}function y(e){const{capabilities:t}=e;return l(e.source)?new F(e):p(e)?new h(e):t.query.supportsFormatPBF&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-pbf")?new d(e):new S(e)}async function f(t){const r=new _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__["default"];return await r.open(t,{}),r}class h extends m{constructor(e){super(e),this._portsOpen=f(e.source).then((e=>this.client=e))}destroy(){this.client.close(),this.client=null}async executeQuery(e,t){await this._portsOpen;const r=await this.client.invoke("queryFeatures",e.toJSON(),t);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromFeatureSet(r,this._arcadeLayerSchema)}}class d extends m{async executeQuery(e,t){const{data:r}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQueryPBFBuffer)(this.service.source,e,t),a=!e.quantizationParameters;return _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReaderPBF.fromBuffer(r,this._arcadeLayerSchema,a)}}class S extends m{async executeQuery(e,s){const{source:i,capabilities:o,spatialReference:u,objectIdField:m,geometryType:p}=this.service;if(null!=e.quantizationParameters&&!o.query.supportsQuantization){const o=e.clone(),p=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(o.quantizationParameters);o.quantizationParameters=null;const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQuery)(i,o,u,s),y=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeatureSet)(l,m);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(p,y),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromOptimizedFeatureSet(y,this._arcadeLayerSchema)}const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQuery)(i,e,this.service.spatialReference,s);return"esriGeometryPoint"===p&&(l.features=l.features?.filter((e=>{if(null!=e.geometry){const t=e.geometry;return Number.isFinite(t.x)&&Number.isFinite(t.y)}return!0}))),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromFeatureSet(l,this._arcadeLayerSchema)}}class F extends m{async executeQuery(e,r){const{capabilities:i}=this.service;if(e.quantizationParameters&&!i.query.supportsQuantization){const i=e.clone(),o=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(i.quantizationParameters);i.quantizationParameters=null;const n=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(o,n),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromOptimizedFeatureSet(n,this._arcadeLayerSchema)}const o=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromOptimizedFeatureSet(o,this._arcadeLayerSchema)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processors.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadProcessorModule: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){return"heatmap"===o?__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_processors_HeatmapProcessor_js").then(__webpack_require__.bind(__webpack_require__, /*! ./processors/HeatmapProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/HeatmapProcessor.js")):Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_geometry_support_TileClipper_js-node_modules_arcgis_c-2051e8"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_core_BidiEngine_js-node_modules_arcgis_core_views_2d_-563d02"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_symbols_cim_cimAnalyzer_js"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_views_2d_engine_webgl_mesh_MeshData_js-node_modules_a-aece8f"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_views_2d_engine_webgl_GeometryUtils_js-node_modules_a-c92c7a")]).then(__webpack_require__.bind(__webpack_require__, /*! ./processors/SymbolProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js"))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseFeatureSource: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/support/sourceAdapters.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=4;class c extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__.DataTileSource{constructor(e){super(e),this.type="feature",this.mode="on-demand",this._adapter=(0,_controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__.createSourceAdapter)(e.serviceInfo),this._queue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}}),this._patchQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}})}destroy(){super.destroy(),this._adapter.destroy(),this._queue.destroy(),this._patchQueue.destroy()}enqueueQuery(e,t){return this.updatingHandles.addPromise(this._queue.push(e,t))}enqueuePatchQuery(e,t){return this.updatingHandles.addPromise(this._patchQueue.push(e,t))}get maxRecordCountFactor(){const{query:e}=this._serviceInfo.capabilities;return e.supportsMaxRecordCountFactor?u:null}get maxPageSize(){const{query:e}=this._serviceInfo.capabilities;return(e.maxRecordCount??8e3)*(this.maxRecordCountFactor??1)}get pageSize(){return Math.min(8e3,this.maxPageSize)}enableEvent(e,t){}subscribe(e,s){const a=super.subscribe(e,s);return this._fetchDataTile(e).catch((s=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.views.2d.layers.features.sources.BaseFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:e,error:s}))})),a}unsubscribe(e){super.unsubscribe(e)}readers(e){return this._subscriptions.get(e).readers()}async query(e,t={}){const r=t.query??{};return this._adapter.executeQuery(e,{...t,query:{...r,...this._schema?.customParameters}})}async queryLastEditDate(){const t=this._serviceInfo.source,r={...t.query,f:"json"};return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.path,{query:r,responseType:"json"})).data.editingInfo.lastEditDate}createTileQuery(e,t={}){const r=this._serviceInfo.geometryType,s=this.createQuery(t);s.quantizationParameters=t.quantizationParameters??e.getQuantizationParameters(),s.resultType="tile",s.geometry=e.extent,this._serviceInfo.capabilities.query.supportsQuantization?"esriGeometryPolyline"===r&&(s.maxAllowableOffset=e.resolution*(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")):"esriGeometryPolyline"!==r&&"esriGeometryPolygon"!==r||(s.maxAllowableOffset=e.resolution,"esriGeometryPolyline"===r&&(s.maxAllowableOffset*=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")));const i=this._serviceInfo.capabilities.query;return s.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference,s.compactGeometryEnabled=i.supportsCompactGeometry,s}async _executePatchQuery(e,t,r,s){const i=t.clone();i.outFields=[this._serviceInfo.objectIdField,...r],i.returnCentroid=!1,i.returnGeometry=!1;const a=null!=i.start?i.start/8e3:0,o=s.signal;return await this.enqueuePatchQuery({tile:e,query:i,signal:o,depth:a})}async _resend(e,t){const{query:r,message:i}=e,a=null!=r.outFields?r.outFields:[],o=this._queryInfo.outFields,n=o.filter((e=>!a.includes(e)));if(null!=i.addOrUpdate)if(n.length)try{const e=this._subscriptions.get(i.id).tile,a=await this._executePatchQuery(e,r,n,t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),r.outFields=o,i.addOrUpdate.joinAttributes(a),this._onMessage({...i,end:i.end,type:"append"})}catch(u){}else this._onMessage({...i,type:"append"});else this._onMessage({...i,type:"append"})}async _resendSubscription(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(e.tile.id,"Resend Subscription"),e.empty)return this._onMessage({id:e.tile.id,addOrUpdate:null,end:!1,type:"append"});const t=e.signal;for(const r of e.requests.done)await this._resend(r,{signal:t});return null!=e.edits?this._onMessage(e.edits):void 0}async resend(){const e=Array.from(this._subscriptions.values());await Promise.all(e.map((e=>this._resendSubscription(e))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataTileSource: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DataTileSubscription.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(e,s){const t=new Set;return e&&e.forEach((e=>t.add(e))),s&&s.forEach((e=>t.add(e))),t.has("*")?["*"]:Array.from(t)}class m{constructor(e){this.updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_5__.UpdatingHandles,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._didEdit=!1,this._subscriptions=new Map,this._outSR=e.outSR,this._serviceInfo=e.serviceInfo,this._onTileUpdateMessage=e.onMessage,this._arcadeLayerSchema=e.arcadeLayerSchema}destroy(){for(const e of this._subscriptions.values())e.abort();this.updatingHandles.destroy()}get subscriptions(){return this._subscriptions.values()}async _onMessage(e){const s=this._subscriptions.get(e.id);if(!s)return;const t={...e,remove:e.remove??[],status:e.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.ignoreAbortErrors)(this._onTileUpdateMessage(t,s.options))}update(s,t){const i=t.fields.length;t.outFields=p(this._schema?.outFields,t.outFields),t.outFields=t.outFields.length>=.75*i?["*"]:t.outFields,t.outFields.sort();const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(this._schema,t);if(!r)return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - Source:",r);const a="orderByFields"in this._serviceInfo&&this._serviceInfo.orderByFields?this._serviceInfo.orderByFields:this._serviceInfo.objectIdField+" ASC",d=this._serviceInfo.source,h={returnCentroid:!(null!==d&&"object"==typeof d&&"path"in d&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__.isHostedAgolService)(d.path))&&"esriGeometryPolygon"===this._serviceInfo.geometryType,returnGeometry:!0,timeReferenceUnknownClient:"stream"!==this._serviceInfo.type&&this._serviceInfo.timeReferenceUnknownClient,outFields:t.outFields,outSpatialReference:this._outSR,orderByFields:[a],where:t.definitionExpression||"1=1",gdbVersion:t.gdbVersion,historicMoment:t.historicMoment,timeExtent:t.timeExtent?_TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(t.timeExtent):null},l=this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(r,"outFields");this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiffAny)(r,["timeExtent","definitionExpression","gdbVersion","historicMoment","customParameters"])&&(s.why.mesh.push("Layer filter and/or custom parameters changed"),s.why.source.push("Layer filter and/or custom parameters changed"),s.mesh=!0,s.source=!0,s.queryFilter=!0),l&&(s.why.source.push("Layer required fields changed"),s.source=!0),(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(h,this._queryInfo)&&(this._queryInfo=h),this._schema=t,this._resolver.resolve()}whenInitialized(){return this._resolver.promise}async applyUpdate(e){if(e.queryFilter||e.source&&this._didEdit)return this.refresh(e.version),void(this._didEdit=!1);this._subscriptions.forEach((s=>s.applyUpdate(e))),await this.resend()}refresh(e,s){for(const t of this._tiles())this.unsubscribe(t),this.subscribe(t,e)}subscribe(e,s){const t=new _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_8__.DataTileSubscription(e,s);return this._subscriptions.set(e.id,t),t}unsubscribe(e){const s=this.getSubscription(e.id);null!=s&&s.abort(),this._subscriptions.delete(e.id)}createQuery(e={}){const s=this._queryInfo.historicMoment?new Date(this._queryInfo.historicMoment):null;return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_7__["default"]({...this._queryInfo,historicMoment:s,...e})}getSubscription(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null}async queryLastEditDate(){throw new Error("Service does not support query type")}async query(e,s){throw new Error("Service does not support query")}*_tiles(){const e=Array.from(this._subscriptions.values());for(const s of e)yield s.tile}async edit(e,s){return this.updatingHandles.addPromise(this._edit(e,s))}async _edit(e,s){const t=Array.from(this._subscriptions.values()),i=t.map((({tile:e})=>e));for(const r of t)r.removeIds(s);if(e.length){const t=i.map((s=>{const t=this.createTileQuery(s);return t.objectIds=e,{tile:s,query:t}})).map((async({tile:e,query:s})=>({tile:e,result:await this.query(s,{query:{tile:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?e.id.replaceAll("/","."):void 0}}),query:s}))),o=(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlwaysValues)(t)).map((async({tile:t,result:i})=>{if(!i.hasFeatures&&!s.length&&!e.length)return;const r=this._subscriptions.get(t.key.id);r&&r.edit(i,e)}));await Promise.allSettled(o)}this._didEdit=!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataTileSubscription: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a{constructor(e,i){this.requests={done:new Array,stream:new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__["default"](10)},this._edits=null,this._abortController=new AbortController,this._version=0,this._isDone=!1,this.didSend=!1,this.tile=e,this._version=i,this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._resolver.promise.catch((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfNotAbortError)(e)))}get signal(){return this._abortController.signal}get options(){return{signal:this._abortController.signal}}get empty(){return!this.requests.done.length&&null==this.edits}get edits(){return this._edits}get done(){return this._resolver.promise}get isDone(){return this._isDone}resolve(){this._isDone=!0,this._resolver.resolve()}clear(){this.requests.done=[]}applyUpdate(e){this.requests.done.forEach((s=>s.message.status.unset(e))),this._version=e.version,null!=this._edits&&this._edits.status.unset(e)}add(e){e.message.status=e.message.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),e.message.status.version=this._version,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(this.tile.id,"DataTileSubscription:add",this._version),e.message.end&&(this.requests.done.forEach((e=>{null!=e.message&&e.message.end&&(e.message.end=!1)})),this._resolver.resolve(),this._isDone=!0),this.requests.done.push(e)}edit(s,t){const r=s.getQuantizationTransform(),i=s.fullSchema(),a=Array.from(s.features()).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),n=[...t,...a.map((e=>e.objectId))];if(this.removeIds(n),this._invalidate(),null==this._edits)return void(this._edits={type:"append",addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__.FeatureSetReaderJSON.fromOptimizedFeatures(a,i,r),id:this.tile.id,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),end:!0});this.requests.done.forEach((e=>e.message.end=!1));this._edits.addOrUpdate.append(s.features())}*readers(){for(const{message:e}of this.requests.done)null!=e.addOrUpdate&&(yield e.addOrUpdate);null!=this._edits?.addOrUpdate&&(yield this._edits.addOrUpdate)}_invalidate(){for(const e of this.requests.done)e.message.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty();null!=this._edits&&(this._edits.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty())}removeIds(e){this._invalidate();for(const{message:s}of this.requests.done){const t=s.addOrUpdate;null!=t&&(t.removeIds(e),t.isEmpty&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Removing FeatureSetReader"),s.addOrUpdate=null))}null!=this._edits?.addOrUpdate&&this._edits.addOrUpdate.removeIds(e),this.requests.done=this.requests.done.filter((e=>e.message.addOrUpdate||e.message.end))}abort(){this._abortController.abort(),this._resolver.reject((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createAbortError)())}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrillDownFeatureSource: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile"),i={maxDrillLevel:s?1:4,maxRecordCountFactor:s?1:3};class a extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(r){const s=this._serviceInfo.capabilities.query.supportsMaxRecordCountFactor,a=this._subscriptions.get(r.key.id),o=a.signal,n=r.getQuantizationParameters();let c=0;const d=async(u,l)=>{const m=this._queryInfo,p=this.createTileQuery(u,{maxRecordCountFactor:s?i.maxRecordCountFactor:void 0,returnExceededLimitFeatures:!1,quantizationParameters:n});c++;try{const t=await this.enqueueQuery({tile:r,query:p,signal:o,depth:l});if(c--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(o),!t)return;if(m!==this._queryInfo)return void d(u,l);if(t.exceededTransferLimit&&l<i.maxDrillLevel){for(const e of u.createChildTiles())d(e,l+1);return}const s={id:r.id,addOrUpdate:t,end:0===c,type:"append"};a.add({query:p,message:s}),this._onMessage(s)}catch(f){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(f)){const e={id:r.id,addOrUpdate:null,end:!0,type:"append"};a.add({query:p,message:e}),this._onMessage(e)}}};d(r,0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PagedFeatureSource: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(s){const i=6,o=20,n=this._subscriptions.get(s.key.id);let d=!1,c=0,u=0;const h=(e,t)=>{u--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n);const r=s.id,i=e.reader,o=e.query;if(!i.exceededTransferLimit){if(d=!0,0!==t&&!i.hasFeatures){const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const c={id:r,addOrUpdate:i,end:d&&0===u,type:"append"};n.add({message:c,query:o}),this._onMessage(c)};let m=0,p=0;for(;!d&&p++<o;){let o;for(let a=0;a<m+1;a++){const a=c++;u++,o=this._fetchDataTilePage(s,a,n).then((e=>e&&h(e,a))).catch((a=>{if(d=!0,!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(a)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.sources.PagedFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:s,error:a}));const r={id:s.id,addOrUpdate:null,end:d,type:"append"},i={start:this.pageSize*c,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:s.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(i.maxRecordCountFactor=this.maxRecordCountFactor);const o=this.createTileQuery(s,i);n.add({message:r,query:o}),this._onMessage(r)}}))}await o,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),m=Math.min(m+2,i)}}async _fetchDataTilePage(e,t,r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=this._queryInfo,o={start:this.pageSize*t,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:e.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(o.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createTileQuery(e,o);try{const s=r.signal,o=await this.enqueueQuery({tile:e,query:n,signal:s,depth:t});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r),o?i!==this._queryInfo?this._fetchDataTilePage(e,t,r):{reader:o,query:n}:null}catch(d){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(d),null}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnapshotFeatureSource: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/* harmony import */ var _support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/FeatureSetReaderPBFIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(e,t,s){const r=e.getXHydrated(),o=e.getYHydrated(),a=t.getColumnForX(r),n=Math.floor(t.normalizeCol(a));return`${s}/${Math.floor(t.getRowForY(o))}/${n}`}function h(e,t){if(null==e)return null;const s=t.transform,r=e.getQuantizationTransform();if(null==r){const[t,r]=s.scale,[o,a]=s.translate,n=-o/t,i=1/t,d=a/r,u=1/-r;return e.transform(n,d,i,u)}const[o,a]=r.scale,[n,i]=r.translate,[d,u]=s.scale,[l,h]=s.translate,c=o/d,g=(n-l)/d,p=a/u,_=(-i+h)/u;return e.transform(g,_,c,p)}let c=class extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__.BaseFeatureSource{constructor(e){super(e),this.mode="snapshot",this._loading=!0,this._controller=new AbortController,this._downloadPromise=null,this._didSendEnd=!1,this._queries=new Array,this._invalidated=!1,this._hasAggregates=!1,this._random=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__["default"](1e3),this._store=e.store,this._markedIdsBufId=this._store.storage.createBitset()}destroy(){super.destroy(),this._controller.abort()}get loading(){return this._loading}get _signal(){return this._controller.signal}update(e,t){super.update(e,t),this._featureCount??=t.initialFeatureCount,null!=t.changedFeatureCount&&(this._featureCount=t.changedFeatureCount),this._hasAggregates=!!e.targets?.aggregate}async resend(e=!1){if(await this._downloadPromise,this._invalidated||e){const e=this._featureCount;return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(e,"Expected featureCount to be defined"),this._invalidated=!1,this._subscriptions.forEach((e=>e.clear())),this._downloadPromise=this._download(e),void await this._downloadPromise}const t=this._queries.map((({query:e,reader:t})=>this._sendPatchQuery(e,t)));await Promise.all(t),this._subscriptions.forEach((e=>{e.requests.done.forEach((e=>this._onMessage(e.message)))}))}async refresh(e,t){t&&(this._featureCount=t.featureCount),await this.resend(!0)}async _sendPatchQuery(e,t){const s=null!=e.outFields?e.outFields:[],o=this._queryInfo.outFields,a=o.filter((e=>!s.includes(e)));if(!a.length)return;const n=e.clone(),i=this._signal;n.returnGeometry=!1,n.returnCentroid=!1,n.outFields=a,e.outFields=o;const d=await this.enqueueQuery({query:n,depth:0,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),t.joinAttributes(d)}async _fetchDataTile(e){this._downloadPromise??=this._download(this._featureCount);const t=this._store.search(e),s=this._subscriptions.get(e.key.id),r=t.length-1;for(let d=0;d<r;d++){const r=h(t[d],e),a={type:"append",id:e.id,addOrUpdate:r,end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};s.add({query:null,message:a}),this._hasAggregates||await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.after)(1),this._onMessage(a)}const a=h(r>=0?t[r]:null,e),n=this._didSendEnd,i={type:"append",id:e.id,addOrUpdate:a,end:n,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};s.add({query:null,message:i}),this._onMessage(i)}async _download(e){try{await this.whenInitialized();const t=this._store.storage.getBitset(this._markedIdsBufId),s=new Set;t.clear();const r=Math.ceil(e/this.pageSize),o=Array.from({length:r},((e,t)=>t)).sort(((e,t)=>this._random.getInt()-this._random.getInt())).map((e=>this._downloadPage(e,t,s)));await Promise.all(o),this._store.sweepFeatures(t,this._store.storage),this._store.sweepFeatureSets(s)}catch(s){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.2d.layers.features.sources.SnapshotFeatureSource").error("mapview-snapshot-source","Encountered and error when downloading feature snapshot",s)}this._sendEnd(),this._loading=!1}async _downloadPage(e,t,s){const o=this.pageSize,a={start:e*o,num:o,cacheHint:!0};null!=this.maxRecordCountFactor&&(a.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createQuery(a),i=this._signal,d=await this.enqueueQuery({query:n,depth:e,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),this._queries.push({query:n,reader:d}),this._store.insert(d),s.add(d.instance);const u=d.getCursor();for(;u.next();)t.set(u.getDisplayId());this._send(d)}_send(e){if(!this._subscriptions.size)return;let t=null;const s=new Map,r=new Set,o=new Map;this._subscriptions.forEach((e=>{const a=e.tile;s.set(a.key.id,null),t=a.tileInfoView,r.add(a.level);const{row:n,col:i}=a.key,d=`${a.level}/${n}/${i}`,u=o.get(d)??[];u.push(e),o.set(d,u)}));for(const a of r){const r=t.getLODInfoAt(a),n=e.getCursor();for(;n.next();){const e=l(n,r,a),t=n.getIndex();if(o.has(e))for(const r of o.get(e)){const e=r.tile.id;let o=s.get(e);null==o&&(o=[],s.set(e,o)),o.push(t)}}}s.forEach(((t,s)=>{if(null!=t){const r=this._subscriptions.get(s),o={type:"append",id:s,addOrUpdate:h(_support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReaderIndirect.from(e,t),r.tile),end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:o}),this._onMessage(o)}}))}_sendEnd(){this._subscriptions.forEach((e=>{const t={type:"append",id:e.tile.id,addOrUpdate:null,end:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};e.add({query:null,message:t}),this._onMessage(t)})),this._didSendEnd=!0}};c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.view.2d.layers.features.sources.SnapshotFeatureSource")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamConnectionState: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"errorString",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.views.2d.layers.features.sources.StreamConnectionState")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamSource: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/data/StreamFeatureManager.js */ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js");
/* harmony import */ var _layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/sources/connections/createConnection.js */ "./node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StreamConnectionState.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=2500;function _(e,t){const s=e.weakClone();if(null!=e.geometry){const i=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeX)(t,e.geometry.coords[0]),o=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeY)(t,e.geometry.coords[1]);s.geometry=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"]([],[i,o])}return s}function m(e){return"esriGeometryPoint"===e?_:(t,s)=>{const n=t.weakClone(),r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],o=!1,d=!1,c=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(r,t.geometry,o,d,e,s,!1,!1);return n.geometry=c,n}}function y(e){return"esriGeometryPoint"===e?e=>null!=e.geometry?{minX:e.geometry.coords[0],minY:e.geometry.coords[1],maxX:e.geometry.coords[0],maxY:e.geometry.coords[1]}:{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}:e=>{let t=1/0,s=1/0,i=-1/0,n=-1/0;return null!=e.geometry&&e.geometry.forEachVertex(((e,r)=>{t=Math.min(t,e),s=Math.min(s,r),i=Math.max(i,e),n=Math.max(n,r)})),{minX:t,minY:s,maxX:i,maxY:n}}}function g(e,s){const i=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,y(s));return i.load(e),i}function f(e,t){return e.search({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]})}class v{constructor(e,t){this.onUpdate=e,this._geometryType=t,this._objectIdToFeature=new Map,this._index=null}get _features(){const e=[];return this._objectIdToFeature.forEach((t=>e.push(t))),e}add(e){this._objectIdToFeature.set(e.objectId,e),this._index=null}get(e){return this._objectIdToFeature.has(e)?this._objectIdToFeature.get(e):null}forEach(e){this._objectIdToFeature.forEach(e)}search(e){return this._index||(this._index=g(this._features,this._geometryType)),f(this._index,e)}clear(){this._index=null,this._objectIdToFeature.clear()}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),this._index=null,t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._objectIdToFeature.size}}class I extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__.DataTileSource{constructor(t){super(t),this.type="stream",this._updateIntervalId=0,this._level=0,this._isPaused=!1,this._updateInfo={websocket:0,client:0},this._inUpdate=!1;const{outSR:s}=t,{geometryType:i,objectIdField:n,timeInfo:r,purgeOptions:a,source:c,spatialReference:u,serviceFilter:l,maxReconnectionAttempts:_,maxReconnectionInterval:y,updateInterval:g,customParameters:f,enabledEventTypes:I}=t.serviceInfo,b=new v(this._onUpdate.bind(this),i),T=new _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__.StreamFeatureManager(b,n,r,a),S=(0,_layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__.createConnection)(c,u,s,i,l,_,y,f??{});this._connectionState=new _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__.StreamConnectionState({connection:S}),this._store=b,this._manager=T,this._connection=S,this._quantize=m(i),this._enabledEventTypes=new Set(I),this._handlesGroup=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)([this._connection.on("data-received",(e=>this._onFeature(e))),this._connection.on("message-received",(e=>this._onWebSocketMessage(e)))]),this._initUpdateInterval=()=>{let e=performance.now();this._updateIntervalId=setInterval((()=>{const s=performance.now(),i=s-e;if(i>p){e=s;const t=Math.round(this._updateInfo.client/(i/1e3)),n=Math.round(this._updateInfo.websocket/(i/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.events.emit("updateRate",{client:t,websocket:n})}t.canAcceptRequest()&&!this._inUpdate&&this._manager.checkForUpdates()}),g)},this._isPaused=t.serviceInfo.isPaused,this._isPaused||this._initUpdateInterval()}destroy(){super.destroy(),this._clearUpdateInterval(),this._connection.destroy(),this._handlesGroup?.remove()}_fetchDataTile(){}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState.errorString}updateCustomParameters(e){this._connection.updateCustomParameters(e)}pauseStream(){this._isPaused||(this._isPaused=!0,this._clearUpdateInterval())}resumeStream(){this._isPaused&&(this._isPaused=!1,this._initUpdateInterval())}sendMessageToSocket(e){this._connection.sendMessageToSocket(e)}sendMessageToClient(e){this._isPaused&&"type"in e&&"clear"===e.type?(this._store.clear(),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!0})}))):this._connection.sendMessageToClient(e)}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}subscribe(e,t){const s=super.subscribe(e,t);this._level=e.level;const i=this._getTileFeatures(e);return this._onMessage({type:"append",id:e.key.id,addOrUpdate:i,end:!0}),s.didSend=!0,s}unsubscribe(e){super.unsubscribe(e)}*readers(e){const t=this._subscriptions.get(e),{tile:s}=t;yield this._getTileFeatures(s)}createTileQuery(e){throw new Error("Service does not support tile  queries")}async resend(){this._subscriptions.forEach((e=>{const{tile:t}=e,s={type:"append",id:t.id,addOrUpdate:this._getTileFeatures(t),end:!0};this._onMessage(s)}))}_getTileFeatures(e){const t=this._store.search(e).map((t=>this._quantize(t,e.transform)));return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__.FeatureSetReaderJSON.fromOptimizedFeatures(t,this._arcadeLayerSchema,e.transform)}_onWebSocketMessage(e){if(this._enabledEventTypes.has("message-received")&&this.events.emit("message-received",e),"type"in e)switch(e.type){case"delete":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case"clear":this._store.forEach((e=>this._manager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++;try{this._enabledEventTypes.has("data-received")&&this.events.emit("data-received",e);const t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeature)(e,this._serviceInfo.geometryType,!1,!1,this._serviceInfo.objectIdField);this._manager.add(t)}catch(t){}}_clearUpdateInterval(){clearInterval(this._updateIntervalId),this._updateIntervalId=0}async _onUpdate(e,t){this._inUpdate=!0;try{null!=e&&(this._updateInfo.client+=e.length),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!1})}));const t=[];this._subscriptions.forEach(((e,s)=>{if(!e.didSend||e.tile.level!==this._level)return;const i=e.tile,n={type:"append",id:s,addOrUpdate:this._getTileFeatures(i),remove:[],end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__.UpdateToken.empty()};e.requests.stream.enqueue(n),t.push(this._onMessage(n))})),await Promise.all(t),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,end:!0})}))}catch{}this._inUpdate=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createSource: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrillDownFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js");
/* harmony import */ var _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PagedFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js");
/* harmony import */ var _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnapshotFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js");
/* harmony import */ var _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function s(e,s,c,u,i,p,m){const f=n(e,s,c,u,i,p,m);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.PagedFeatureSource(f);case"snapshot":return new _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.SnapshotFeatureSource(f);default:return new _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__.DrillDownFeatureSource(f)}case"stream":return new _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__.StreamSource(f)}}function n(r,t,a,o,s,n,c){switch(r.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:r.featureCount??0,serviceInfo:r,onMessage:s,outSR:a,tileInfoView:o,canAcceptRequest:n,store:c,arcadeLayerSchema:t};case"stream":return{type:"stream",serviceInfo:r,onMessage:s,outSR:a,canAcceptRequest:n,arcadeLayerSchema:t};case"memory":case"on-demand":return{type:"feature",serviceInfo:r,onMessage:s,outSR:a,origin:u(r.source),tileInfoView:o,canAcceptRequest:n,arcadeLayerSchema:t}}function u(r){return Array.isArray(r)?"local":"path"in r&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__.isHostedAgolService)(r.path)?"hosted":"unknown"}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinStore: () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const F=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.view.2d.layers.features.support.BinStore"),S=12,G=64,R=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)(),L=5;function T(e){return 57.29577951308232*e}class A extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,i){super(t,r),this.type="bin",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=L,this._geohashBuf=[],this._serviceInfo=i,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree&&this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,t){const o=this._schema;try{await super.updateSchema(e,t),await this._projectionSupportCheck}catch(h){}this._fields=this._schema.params.fields,this._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__["default"](this._fields);const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(o,t);t&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(a,"params.fields")||(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(a,"params")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__.GeohashTree(this._statisticFields,this._serviceInfo),this._tree.onRelease=e=>e.displayId&&this._storage.releaseDisplayId(e.displayId),this._geohashLevel=this._schema.params.fixedBinLevel,this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&F.info("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&F.info("Aggregate mesh needs update due to tree changing"),e.targets[t.name]=!0,e.mesh=!1):o&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){}onTileData(e,t,s,r,i,o=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const a=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!o)return t;const h=new Array;this._getBinsForTile(h,e,a,s),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(h,{fields:this.fields,fieldsIndex:this._fieldsIndex,geometryType:"esriGeometryPolygon",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.end=!0,t.isRepush||(t.clear=!0);{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale,i)}}return t}forEachBin(e){this._tree.forEach(e)}forEach(e){this._tree.forEach((t=>{if(t.depth!==this._geohashLevel)return;const s=this._toFeatureJSON(t),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields,fieldsIndex:this._fieldsIndex}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const i of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.getBoundsOptimizedGeometry)(R,i.readGeometry(),r,s);null!=e&&t(e)}}onTileUpdate(e){}getAggregate(e){const t=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.createDisplayId)(e,!0),s=this._tree.findIf((e=>e.displayId===t));return s?this._toFeatureJSON(s):null}getAggregates(){return this._tree.findAllIf((e=>e.depth===this._geohashLevel)).map(this._toFeatureJSON.bind(this))}getDisplayId(e){return this._tree.findIf((t=>t.id===e))?.displayId}getFeatureDisplayIdsForAggregate(e){const t=this._tree.findIf((t=>t.id===e));return null!=t?Array.from(t.displayIds):[]}getDisplayIdForReferenceId(e){return this._tree.findIf((t=>1===t.displayIds.size&&t.displayIds.has(e)))?.displayId}_toFeatureJSON(e){const t=this._spatialReference;return{displayId:e.displayId,attributes:e.getAttributes(),geometry:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(e.getGeometry(t),"esriGeometryPolygon",!1,!1),centroid:null}}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),i=this._geohashBuf[2*t],o=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,i,o,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,i=t.isVisible(s);if(i===r.has(s))return;if(!i)return void this._remove(e);const o=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,o,a))return;const h=this._geohashBuf[2*s],n=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,o,a,h,n,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const i=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius),a=i-360*Math.floor((i+180)/360),h=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,h,a,S)}else{const i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!i)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,i.y,i.x,S)}return this._bitsets.geohash.set(e),!0}_getBinsForTile(e,t,s,r){try{const i=this._getGeohashBounds(t),o=this._tree.getBins(i);for(const t of o){t.displayId||(t.displayId=r.createDisplayId(!0));let i=null;const o=t.getGeometry(this._spatialReference,s.tile);o||(i=t.getGeometryCentroid(this._spatialReference,s.tile));const a=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(o,t.getAttributes(),i);a.objectId=t.id,a.displayId=t.displayId,e.push(a)}}catch(i){return void F.error("Unable to get bins for tile",t.key.id)}}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e){const t=this._getGeohashLevel(e.key.level),s=[e.extent.xmin,e.extent.ymin,e.extent.xmax,e.extent.ymax],r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(s,this._spatialReference)),i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*G}),o=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"],i,!1,!1),a=o.coords.filter(((e,t)=>!(t%2))),h=o.coords.filter(((e,t)=>t%2)),n=Math.min(...a),d=Math.min(...h),l=Math.max(...a),p=Math.max(...h),f=this._getGeohash(n,d,t),c=this._getGeohash(l,p,t);return{bounds:s,geohashBounds:{xLL:f.geohashX,yLL:f.geohashY,xTR:c.geohashX,yTR:c.geohashY},level:t}}_getGeohashLevel(e){return this._schema.params.fixedBinLevel}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[i,o]=r.valid;return{tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClusterInfo: () => (/* binding */ S),
/* harmony export */   ClusterStore: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const C=12,L=64,w=1,B=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__.create)();class S extends _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_10__.OptimizedFeatureWithGeometry{constructor(e,t,s,r,i){super(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_11__["default"]([],[t,s]),r,null,e),this.geohashBoundsInfo=i}get count(){return this.attributes.cluster_count}static create(e,t,s,r,i,o,a,h){const l=new S(t,s,r,o,a);return l.displayId=e.createDisplayId(!0),l.referenceId=h,l.tileLevel=i,l}update(e,t,s,r,i,o){return this.geometry.coords[0]=e,this.geometry.coords[1]=t,this.tileLevel=s,this.attributes=r,this.geohashBoundsInfo=i,this.referenceId=null,this.referenceId=o,this}toJSON(){return{attributes:{...this.attributes,aggregateId:this.objectId,referenceId:1===this.attributes.cluster_count?this.referenceId:null},geometry:{x:this.geometry.coords[0],y:this.geometry.coords[1]}}}}function T(e){return 57.29577951308232*e}class V extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,i){super(t,r),this.type="cluster",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=0,this._tileLevel=0,this._aggregateValueRanges={},this._aggregateValueRangesChanged=!1,this._geohashBuf=[],this._clusters=new Map,this._tiles=new Map,this._serviceInfo=i,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,i){const o=this._schema;try{await super.updateSchema(e,i),await this._projectionSupportCheck}catch(h){}this._fields=[...this._schema.params.fields,{name:"referenceId",alias:"referenceId",type:"esriFieldTypeInteger"}];!!this._fields.some((e=>"cluster_count"===e.name))||this._fields.push({name:"cluster_count",alias:"cluster_count",type:"esriFieldTypeInteger"}),this._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__["default"](this._fields);const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.diff)(o,i);i&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasDiff)(a,"params.fields")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_4__.GeohashTree(this._statisticFields,this._serviceInfo),this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - ClusterStore:",a),e.targets[i.name]=!0,e.mesh=!1,this._aggregateValueRanges={}):o&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){this._clusters.forEach(((r,i)=>{r&&r.tileLevel!==s&&(e.releaseDisplayId(r.displayId),t.unsetAttributeData(r.displayId),this._clusters.delete(i))}))}onTileData(e,t,s,r,i,o=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const a=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!o)return t;const h=new Array,l=this._schema.params.clusterRadius;this._getClustersForTile(h,e,l,s,a),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(h,{fields:this.fields,fieldsIndex:this._fieldsIndex,geometryType:"esriGeometryPoint",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.clear=!0,t.end=!0;{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale,i)}}return this._aggregateValueRangesChanged&&t.end&&(this.events.emit("valueRangesChanged",{valueRanges:this._aggregateValueRanges}),this._aggregateValueRangesChanged=!1),t}onTileUpdate({added:e,removed:t}){if(e.length){const t=e[0].level;this._tileLevel=t,this._setGeohashLevel(t)}if(!this._schema)return;const s=this._schema.params.clusterRadius;t.forEach((e=>{this._tiles.delete(e.key.id),this._markTileClustersForDeletion(e,s)}))}getAggregate(e){for(const t of this._clusters.values())if((t?.displayId&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.displayIdTexelMask)==(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.displayIdTexelMask))return t.toJSON();return null}getAggregates(){const e=[];for(const t of this._clusters.values())t?.tileLevel===this._tileLevel&&e.push(t.toJSON());return e}getDisplayId(e){const t=this._clusters.get(e);return t?t.displayId:null}getFeatureDisplayIdsForAggregate(e){const t=this._clusters.get(e);return t?this._tree.getRegionDisplayIds(t.geohashBoundsInfo):[]}getDisplayIdForReferenceId(e){for(const t of this._clusters.values())if(t?.referenceId===e)return t.displayId;return null}getAggregateValueRanges(){return this._aggregateValueRanges}forEach(e){this._clusters.forEach((t=>{if(!t)return;const s=t.toJSON(),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields,fieldsIndex:this._fieldsIndex}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const i of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.getBoundsOptimizedGeometry)(B,i.readGeometry(),r,s);null!=e&&t(e)}}size(){let e=0;return this.forEach((t=>e++)),e}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),i=this._geohashBuf[2*t],o=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,i,o,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,i=t.isVisible(s);if(i===r.has(s))return;if(!i)return void this._remove(e);const o=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,o,a))return;const h=this._geohashBuf[2*s],l=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,o,a,h,l,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const o=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius),a=o-360*Math.floor((o+180)/360),l=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashBuf)(r,e,l,a,C)}else{const o=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!o)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashBuf)(r,e,o.y,o.x,C)}return this._bitsets.geohash.set(e),!0}_getClustersForTile(e,t,s,r,i,o=!0){const a=this._schema.params.clusterPixelBuffer,h=2*s,l=Math.ceil(2**t.key.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize/h)+1,n=Math.ceil(a/h)+0,g=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize/h),{row:c,col:p}=t.key,_=p*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,m=c*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,y=Math.floor(_/h)-n,b=Math.floor(m/h)-n,v=y+g+2*n,R=b+g+2*n,x=t.tileInfoView.getLODInfoAt(t.key.level);for(let I=y;I<=v;I++)for(let s=b;s<=R;s++){let a=I;x.wrap&&(a=I<0?I+l:I%l);const h=x.wrap&&I<0,n=x.wrap&&I%l!==I,g=this._lookupCluster(r,x,t.key.level,a,s,t);if(null!=g){let t=null;if(i&&(t=h?i.left:n?i.right:i.tile),o&&null==t)continue;if(!g.count)continue;if(null!=t&&o){const s=g.geometry.clone();let r=g.attributes;s.coords[0]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.quantizeX)(t,s.coords[0]),s.coords[1]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.quantizeY)(t,s.coords[1]),1===g.count&&null!=g.referenceId&&(r={...g.attributes,referenceId:g.referenceId});const i=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_10__.OptimizedFeature(s,r);i.displayId=g.displayId,e.push(i)}}}}_getGeohashLevel(e){return Math.min(Math.ceil(e/2+2),C)}_setGeohashLevel(e){const t=this._getGeohashLevel(e),s=(Math.floor(t/w)+1)*w-1;if(this._geohashLevel!==s)return this._geohashLevel=s,this._rebuildTree(),void this._bitsets.geohash.clear()}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[i,o]=r.valid;return{tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}_getClusterId(e,t,s){return(15&e)<<28|(16383&t)<<14|16383&s}_markForDeletion(e,t,s){const r=this._getClusterId(e,t,s);this._clusters.delete(r)}_getClusterBounds(e,t,s){const r=this._schema.params.clusterRadius,i=2*r;let o=s%2?t*i:t*i-r;const a=s*i;let h=o+i;const l=a-i,n=2**e.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize;e.wrap&&o<0&&(o=0),e.wrap&&h>n&&(h=n);const u=o/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,d=a/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,g=h/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,c=l/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize;return[e.getXForColumn(u),e.getYForRow(d),e.getXForColumn(g),e.getYForRow(c)]}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e,t){const s=this._getGeohashLevel(e.key.level);if(this._spatialReference.isWebMercator){const[e,r,i,a]=t,l={x:e,y:r},n={x:i,y:a};let u=0,d=0,g=0,c=0;{const e=T(l.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius);u=e-360*Math.floor((e+180)/360),d=T(Math.PI/2-2*Math.atan(Math.exp(-l.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius)))}{const e=T(n.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius);g=e-360*Math.floor((e+180)/360),c=T(Math.PI/2-2*Math.atan(Math.exp(-n.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius)))}const f={geohashX:0,geohashY:0},p={geohashX:0,geohashY:0};(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashXY)(f,d,u,s),(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashXY)(p,c,g,s);return{bounds:[e,r,i,a],geohashBounds:{xLL:f.geohashX,yLL:f.geohashY,xTR:p.geohashX,yTR:p.geohashY},level:s}}const r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(t,this._spatialReference)),i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*L});if(!i)return null;const a=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_11__["default"],i,!1,!1),l=a.coords.filter(((e,t)=>!(t%2))),n=a.coords.filter(((e,t)=>t%2)),u=Math.min(...l),d=Math.min(...n),c=Math.max(...l),f=Math.max(...n),_=this._getGeohash(u,d,s),y=this._getGeohash(c,f,s);return{bounds:t,geohashBounds:{xLL:_.geohashX,yLL:_.geohashY,xTR:y.geohashX,yTR:y.geohashY},level:s}}_lookupCluster(e,t,s,r,i,o){const a=this._getClusterId(s,r,i),h=this._clusters.get(a),l=this._getClusterBounds(t,r,i),n=this._getGeohashBounds(o,l);if(null==n)return null;const u=this._tree.getRegionStatistics(n),{count:d,xTotal:g,yTotal:c,referenceId:f}=u,p=d?g/d:0,_=d?c/d:0;if(0===d)return this._clusters.set(a,null),null;const m={cluster_count:d,...u.attributes},y=null!=h?h.update(p,_,s,m,n,f):S.create(e,a,p,_,s,m,n,f);if(0===d){const[e,t,s,r]=l;y.geometry.coords[0]=(e+s)/2,y.geometry.coords[1]=(t+r)/2}return this._clusters.set(a,y),this._updateAggregateValueRangeForCluster(y,y.tileLevel),y}_updateAggregateValueRangeForCluster(e,t){const s=this._aggregateValueRanges[t]||{minValue:1/0,maxValue:0},r=s.minValue,i=s.maxValue;s.minValue=Math.min(r,e.count),s.maxValue=Math.max(i,e.count),this._aggregateValueRanges[t]=s,r===s.minValue&&i===s.maxValue||(this._aggregateValueRangesChanged=!0)}_markTileClustersForDeletion(e,t){const s=2*t,r=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize/s),{row:i,col:o}=e.key,a=o*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,h=i*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,l=Math.floor(a/s),n=Math.floor(h/s);for(let u=l;u<l+r;u++)for(let t=n;t<n+r;t++)this._markForDeletion(e.key.level,u,t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderPBF: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeatureSetReaderPBFHeader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=!0,c=268435455,g=128,l=128e3,_={small:{delta:new Int32Array(g),decoded:new Int32Array(g)},large:{delta:new Int32Array(l),decoded:new Int32Array(l)}};function f(e){return e<=_.small.delta.length?_.small:(e<=_.large.delta.length||(_.large.delta=new Int32Array(Math.round(1.25*e)),_.large.decoded=new Int32Array(Math.round(1.25*e))),_.large)}function y(r){try{const e=2,t=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__["default"](new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return I(t.getMessage());t.skip()}}catch(i){const r=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i});_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.view.2d.layers.features.support.FeatureSetReaderPBF").error(r)}return null}function I(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function p(e){const t=1,r=2,s=3,i=4,n=5,a=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case i:return e.getSInt32();case n:return e.getUInt32();case a:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,i,n){return.5*Math.abs(e*s+r*n+i*t-e*n-r*t-i*s)}function x(e,t,r,s){return 0===e*s-r*t&&e*r+t*s>0}class S extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader{static fromBuffer(e,t,r=!1){const s=t.geometryType,i=y(e),n=(0,_FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__.parseHeader)(i,"esriGeometryPoint"===s,r),a=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader.createInstance();return new S(a,i,n,t)}constructor(e,t,r,s){super(e,s),this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._geometryType=s.geometryType,this._reader=t,this._header=r,this._hasNext=r.hasFeatures,this._isPoints="esriGeometryPoint"===s.geometryType}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get _size(){return this._header.featureCount}get hasZ(){return!1}get hasM(){return!1}get stride(){return 2+(this.hasZ?1:0)+(this.hasM?1:0)}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getQuantizationTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e}getAttributeHash(){let e="";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+".";return e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}getGroupId(){return this._header.groupIds[this._featureIndex]}setGroupId(e){this._header.groupIds[this._featureIndex]=e}readLegacyFeature(){if(void 0===this._cache.legacyFeature){const e=this.readCentroid(),t={attributes:this.readAttributes(),geometry:this._isPoints?this.readLegacyPointGeometry():this.readLegacyGeometry(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null};return this._cache.legacyFeature=t,t}return this._cache.legacyFeature}readOptimizedFeature(){if(void 0===this._cache.optFeature){const e=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__.OptimizedFeature(this.readGeometry(),this.readAttributes(),this.readCentroid());return e.objectId=this.getObjectId(),e.displayId=this.getDisplayId(),this._cache.optFeature=e,e}return this._cache.optFeature}getXHydrated(){const e=this._header.centroid[2*this._featureIndex],t=this.getQuantizationTransform();return null==t?e:e*t.scale[0]+t.translate[0]}getYHydrated(){const e=this._header.centroid[2*this._featureIndex+1],t=this.getQuantizationTransform();return null==t?e:t.translate[1]-e*t.scale[1]}getX(){return this._header.centroid[2*this._featureIndex]*this._sx+this._tx}getY(){return this._header.centroid[2*this._featureIndex+1]*this._sy+this._ty}readLegacyPointGeometry(){return{x:this.getX(),y:this.getY()}}readLegacyGeometry(e){const t=this.readUnquantizedGeometry(e);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertToGeometry)(t,this.geometryType,!1,!1)}readLegacyCentroid(){const e=this.readCentroid();if(!e)return null;const[t,r]=e.coords;return{x:t,y:r}}readGeometryArea(){return this._cache.area||this.readGeometry(!0),this._cache.area}readUnquantizedGeometry(e=!1){if(void 0===this._cache.unquantGeometry){const t=this.readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;const r=f(t.coords.length).decoded,s=t.clone(r),i=s.coords;let n=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(n+t),r=2*(n+t-1);i[e]+=i[r],i[e+1]+=i[r+1]}n+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}readHydratedGeometry(){if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getXHydrated(),t=this.getYHydrated();return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}const e=this.readGeometry();if(!e)return null;const t=e.clone(),r=this.getQuantizationTransform();return null!=r&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.unquantizeOptimizedGeometry)(t,t,this.hasZ,this.hasM,r),t}readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getX(),t=this.getY();r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],i=this._reader;if(0===s){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedGeometry(t,r)}i.move(s);try{if(r=e?this._parseGeometryForDisplay(i):this._parseGeometry(i),!r){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedGeometry(t,r)}}catch(t){return console.error("Failed to parse geometry!",t),null}}return this._cache.geometry=r,r}return this._cache.geometry}readCentroid(){if(void 0===this._cache.centroid){let e;return e=this._computeCentroid(),e||(e=this._readServerCentroid()),this._cache.centroid=e??void 0,e??null}return this._cache.centroid}copy(){const e=this._reader.clone(),t=new S(this.instance,e,this._header,this.fullSchema());return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;let s=this._readAttributeAtIndex(r.index);"esriFieldTypeTimestampOffset"===this.fields.get(e)?.type&&(s=this.parseTimestampOffset(s));const i=this._header.fields.isDateField(r.name);return t?null==s?s:i?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext}_readAttributeAtIndex(e){const t=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],r=this._reader;return r.move(t),p(r)}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex]+this._tx,t=this._header.centroid[2*this._featureIndex+1]+this._ty;return e===c?null:new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),i=s.getLength(),n=s.pos()+i,a=[],o=[];for(;s.pos()<n&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(a.push(s.getSInt32()+this._tx),a.push(s.getSInt32()+this._ty),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();s.pos()<t;)a.push(s.getSInt32()),a.push(s.getSInt32()),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();break}default:s.skip()}return a.length?new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](o,a):null}_parseGeometryForDisplay(e){const t=2,s=3,i=e.asUnsafe(),n=i.getLength(),a=i.pos()+n,o=[],d=[];let c=0,g=0,l=null,_=0;const y="esriGeometryPolygon"===this.geometryType;for(;i.pos()<a&&i.next();)switch(i.tag()){case t:{const e=i.getUInt32(),t=i.pos()+e;for(;i.pos()<t;){const e=i.getUInt32();o.push(e),c+=e}l=f(2*c).delta;break}case s:{i.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of o)if(g+e*t>l.length)for(let e=0;e<t;e++)i.getSInt32(),i.getSInt32(),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();else if(y&&u){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,s=1;const n=!1;let a=i.getSInt32(),h=i.getSInt32();l[g++]=a,l[g++]=h,this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();let o=i.getSInt32(),u=i.getSInt32();for(this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();r<t;){let t=i.getSInt32(),n=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();const d=a+o,c=h+u;m(a,h,d,c,d+t,c+n)>=e?(_+=-.5*(d-a)*(c+h),s>1&&x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u):(l[g++]=o,l[g++]=u,s++),a=d,h=c):(t+=o,n+=u),o=t,u=n,r++}s<3||n?g-=2*s:(_+=-.5*(a+o-a)*(h+u+h),x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u,d.push(s)):(l[g++]=o,l[g++]=u,d.push(++s)))}else{let e=0,r=i.getSInt32(),s=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),l[g++]=r,l[g++]=s,e+=1;for(let n=1;n<t;n++){const t=i.getSInt32(),a=i.getSInt32(),h=r+t,o=s+a;_+=-.5*(h-r)*(o+s),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),n>2&&x(l[g-2],l[g-1],t,a)?(l[g-2]+=t,l[g-1]+=a):(l[g++]=t,l[g++]=a,e+=1),r=h,s=o}d.push(e)}break}default:i.skip()}if(this._cache.area=_,!d.length)return null;if(this._tx||this._ty){let e=0;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of d)l[2*e]+=this._tx,l[2*e+1]+=this._ty,e+=t}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](d,l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetHeader: () => (/* binding */ o),
/* harmony export */   parseHeader: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c=!1){const f=1,d=3,u=9,g=12,l=13,p=15,h=a.asUnsafe(),b=h.pos(),w=new o;let m=0,y=0;const k=1,x=2,I=4,L=3;let A=null,F=null,C=null,S=!1;const j=[];for(;h.next();)switch(h.tag()){case f:A=h.getString();break;case d:F=h.getString();break;case g:C=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseTransform);break;case u:if(w.exceededTransferLimit=h.getBool(),w.exceededTransferLimit){w.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),w.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<w.centroid.length;e++)w.centroid[e]=n}break;case l:{const e=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseField);e.index=m++,j.push(e);break}case p:{const e=h.getLength(),t=h.pos()+e;if(!w.exceededTransferLimit){const e=w.offsets.geometry,t=w.centroid;e.push(0),t.push(n),t.push(n)}!S&&w.exceededTransferLimit&&(S=!0,w.offsets.attributes=c?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=y*m;for(;h.pos()<t&&h.next();)switch(h.tag()){case k:{if(S)w.offsets.attributes[s++]=h.pos();else{w.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case x:if(i){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}}else{w.offsets.geometry[y]=h.pos();const e=h.getLength();w.vertexCount+=e,h.skipLen(e)}break;case I:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}break}default:h.skip()}y++,w.hasFeatures=!0;break}default:h.skip()}const U=A||F;if(!U)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("FeatureSet has no objectId or globalId field name");return w.fields=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](j),w.featureCount=y,w.fieldCount=m,w.objectIdFieldIndex=w.fields.get(U)?.index,w.transform=C,w.displayIds=new Uint32Array(w.featureCount),w.groupIds=new Uint16Array(w.featureCount),h.move(b),w}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpdateToken: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(){this.version=0,this.source=!1,this.targets={feature:!1,aggregate:!1},this.storage={filters:!1,data:!1},this.mesh=!1,this.queryFilter=!1,this.why={mesh:[],source:[]}}static create(e){const s=new t;let r;for(r in e){const t=e[r];if("object"==typeof t)for(const e in t){const a=e,i=t[a];s[r][a]=i}s[r]=t}return s}static empty(){return t.create({})}static all(){return t.create({source:!0,targets:{feature:!0,aggregate:!0},storage:{filters:!0,data:!0},mesh:!0})}unset(t){this.version=t.version,t.source&&(this.source=!1),t.targets.feature&&(this.targets.feature=!1),t.targets.aggregate&&(this.targets.aggregate=!1),t.storage.filters&&(this.storage.filters=!1),t.storage.data&&(this.storage.data=!1),t.mesh&&(this.mesh=!1),t.queryFilter&&(this.queryFilter=!1)}any(){return this.source||this.mesh||this.storage.filters||this.storage.data||this.targets.feature||this.targets.aggregate||this.queryFilter}describe(){let t=0,e="";if(this.mesh){t+=20,e+="-> (20) Mesh needs update\n";for(const t of this.why.mesh)e+=`    + ${t}\n`}if(this.source){t+=10,e+="-> (10) The source needs update\n";for(const t of this.why.source)e+=`    + ${t}\n`}this.targets.feature&&(t+=5,e+="-> (5) Feature target parameters changed\n"),this.storage.filters&&(t+=5,e+="-> (5) Feature filter parameters changed\n"),this.targets.aggregate&&(t+=4,e+="-> (4) Aggregate target parameters changed\n"),this.storage.data&&(t+=1,e+="-> (1) Texture storage parameters changed");const s=t<5?"Fastest":t<10?"Fast":t<15?"Moderate":t<20?"Slow":"Very Slow";console.debug(`Applying ${s} update of cost ${t}/45 `),console.debug(e)}toJSON(){return{queryFilter:this.queryFilter,source:this.source,targets:this.targets,storage:this.storage,mesh:this.mesh}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertColorVariable: () => (/* binding */ m),
/* harmony export */   convertVisualVariables: () => (/* binding */ c),
/* harmony export */   getVisualVariableSizeValueRepresentationRatio: () => (/* binding */ l),
/* harmony export */   normalizeSizeElement: () => (/* binding */ u),
/* harmony export */   normalizeSizeStops: () => (/* binding */ a),
/* harmony export */   stopToSizeStop: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _engine_webgl_color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../engine/webgl/color.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../engine/webgl/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(e,t){if(!e||!t)return e;switch(t){case"radius":case"distance":return 2*e;case"diameter":case"width":return e;case"area":return Math.sqrt(e)}return e}function r(t){return{value:t.value,size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.toPt)(t.size)}}function a(e){return(e??[]).map((e=>r(e)))}function u(t){if("string"==typeof t||"number"==typeof t)return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.toPt)(t);const s=t;return{type:"size",expression:s.expression,stops:a(s.stops)}}const p=e=>{const s=[],o=[],i=a(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];s.push(e.value),o.push(null==e.size?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__.nanMagicNumber:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(e.size))}return{values:new Float32Array(s),sizes:new Float32Array(o)}};function c(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t||!s)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),"size"===n.type){s.size||(s.size={});const e=n;switch((0,_engine_webgl_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_4__.getTypeOfSizeVisualVariable)(e)){case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:u(e.minSize),maxSize:u(e.maxSize)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_SCALE_STOPS:s.size.scaleStops={stops:a(e.stops)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=p(e.levels[s]);s.size.fieldStops={type:"level-dependent",levels:t}}else s.size.fieldStops={type:"static",...p(e.stops)};break;case _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLVVFlag.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation??void 0}}}else if("color"===n.type)s.color=m(n);else if("opacity"===n.type)s.opacity=f(n);else if("rotation"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function f(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if("string"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0?e.stops[0].opacity:0;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function v(e,t,s){e[4*t]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function m(e){if(null==e)return null;if(e.normalizationField)return null;const t={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if("string"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;t.field=e.field;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,v(t.colors,e,n.color)}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].color;for(let e=0;e<8;e++)t.values[e]=1/0,v(t.colors,e,s)}}for(let n=0;n<32;n+=4)(0,_engine_webgl_color_js__WEBPACK_IMPORTED_MODULE_1__.premultiplyAlpha)(t.colors,n,!0);return t}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2VuZ2luZV93ZWJnbF91dGlsX2RlYnVnX2pzLW5vZGVfbW9kdWxlc19hcmNnLTNiZmEwNi5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDbWYsUUFBUSwyQkFBMkIsb0JBQW9CLHFGQUFxRiw4REFBQyxnQ0FBZ0MsVUFBVSxhQUFhLGdCQUFnQixjQUFjLFdBQVcsaUdBQWlHLFlBQVksd0VBQXdFLFlBQVksd0JBQXdCLFdBQVcsbUJBQW1CLGVBQWUsMkJBQTJCLFlBQVksUUFBUSxrREFBa0QsY0FBYyxrQkFBa0IsMEJBQTBCLG9CQUFvQixLQUFLLHNCQUFzQixxQkFBcUIscUJBQXFCLDBCQUEwQixvQkFBb0IsdUJBQXVCLEdBQUcsUUFBUSxpRUFBaUUsZ0JBQWdCLFFBQVEsMkdBQUMsMERBQTBELFNBQVMseUJBQXlCLGFBQWEsOENBQThDLDZDQUE2QyxnQ0FBZ0MsNkJBQTZCLEtBQUssU0FBUyxFQUFFLHdLQUF3SywySkFBMkosd0hBQXdILFlBQVksUUFBUSwyR0FBQywwREFBMEQsU0FBUyx5QkFBeUIsYUFBYSw4Q0FBOEMsK0JBQStCLDBCQUEwQixxQkFBcUIsS0FBSyxTQUFTLEVBQUUsNkpBQTZKLHVLQUF1Syw4REFBOEQsV0FBVyxpQkFBaUIsS0FBSyxTQUFTLEVBQUUsc0NBQXNDLFVBQVUsWUFBWSxvQ0FBb0MsVUFBVSxXQUFXLHlCQUF5QixZQUFZLEtBQUssYUFBYSxXQUFXLHlCQUF5QixnQkFBZ0IsS0FBSyxtQ0FBbUMsaUJBQWlCLEtBQUssU0FBUyxFQUFFLGdHQUFnRyw4Q0FBOEMsU0FBUyxTQUFTLFNBQVMseVJBQXlSLGtCQUFrQixZQUFZLEtBQUssZ0JBQWdCLEtBQUssS0FBSyxnREFBZ0QsNERBQTRELFlBQVksWUFBWSx1QkFBdUIsaUJBQWlCLE1BQU0saUNBQWlDLG9CQUFvQixLQUFLLFNB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VUFBVSxPQUFPLHVEQUF1RCxjQUFjLHdCQUF3QixZQUFZLE1BQU0saUJBQWlCLHVCQUF1QixrRUFBa0Usa0JBQWtCLEVBQUUsVUFBVSxPQUFPLGtHQUFDLEtBQUssS0FBSyw2REFBQyx1Q0FBdUMsbUdBQW1HLE1BQU0sS0FBSyw2REFBQyxxQ0FBcUMsa0JBQWtCLE1BQU0sS0FBSyw2REFBQywrQkFBK0IsV0FBVyw0Q0FBNEMsbUJBQW1CLGlDQUFpQyx3QkFBd0IsNkJBQTZCLE1BQU0sS0FBSyw2REFBQyxtQ0FBbUMscUVBQXFFLHNDQUFzQywwQ0FBMEMsNkJBQTZCLFVBQVUsWUFBWSxxQkFBcUIsT0FBTyx1QkFBdUIsY0FBYyxTQUFTLHNEQUFzRCw2QkFBNkIseUJBQXlCLGdDQUFnQyxnQkFBZ0IsWUFBWSxJQUFJLEtBQUssa0NBQWtDLCtDQUErQyxLQUFLLDhDQUE4Qyx3REFBd0QsWUFBWSxJQUFJLHNDQUFzQyxTQUFTLGtCQUFrQiw4REFBOEQsY0FBYyx1QkFBdUIsb0NBQW9DLFNBQVMsOEdBQThHLDZCQUE2Qix5QkFBeUIsZ0NBQWdDLGdCQUFnQixnQkFBZ0IsWUFBWSxJQUFJLEtBQUssa0NBQWtDLDRDQUE0QyxLQUFLLDhDQUE4QyxxREFBcUQsWUFBWSxJQUFJLHFDQUFxQyxZQUFZLEtBQUssS0FBSyx3RUFBQyxnQkFBZ0IsU0FBZ00iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvaGFzaC9HZW9oYXNoVHJlZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvaGFzaC9nZW9oYXNoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL1N0cmVhbUZlYXR1cmVNYW5hZ2VyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L29wZXJhdGlvbnMvdXJsVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3QvcXVlcnkvb3BlcmF0aW9ucy9xdWVyeS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL1V0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2VudW1zLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbnVtYmVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvdXRpbC9kZWJ1Zy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3Zpc3VhbFZhcmlhYmxlc1V0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvUGlwZWxpbmUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9jb250cm9sbGVycy9GZWF0dXJlQ29udHJvbGxlcjJELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvY29udHJvbGxlcnMvc3VwcG9ydC9zb3VyY2VBZGFwdGVycy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3Byb2Nlc3NvcnMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0Jhc2VGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9EYXRhVGlsZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvRGF0YVRpbGVTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RyaWxsRG93bkZlYXR1cmVTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL1BhZ2VkRmVhdHVyZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvU25hcHNob3RGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9TdHJlYW1Db25uZWN0aW9uU3RhdGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL1N0cmVhbVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvY3JlYXRlU291cmNlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9CaW5TdG9yZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvQ2x1c3RlclN0b3JlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSGVhZGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9VcGRhdGVUb2tlbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZXNVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0e2RlY29kZUdlb2hhc2hYWSBhcyBlfWZyb21cIi4vZ2VvaGFzaFV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbVBvbHlnb24gYXMgaSxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIG4sY29udmVydEZyb21Qb2ludCBhcyBvfWZyb21cIi4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgcn1mcm9tXCIuLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBsfWZyb21cIi4uL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7Y2xhc3MgaHtjb25zdHJ1Y3RvcihlPVtdLHMsaT04MDk2KXt0aGlzLm9uUmVsZWFzZT10PT57fSx0aGlzLl9ub2Rlcz0wLHRoaXMuX3Jvb3Q9bmV3IGModGhpcywwLDAsMCksdGhpcy5fc3RhdGlzdGljRmllbGRzPWUsdGhpcy5fcG9vbD1pP25ldyB0KDgwOTYpOm51bGwsdGhpcy5fc2VydmljZUluZm89c31kZXN0cm95KCl7dGhpcy5jbGVhcigpfV9hY3F1aXJlKHQsZSxzKXt0aGlzLl9ub2RlcysrO2xldCBpPW51bGw7cmV0dXJuIG51bGwhPXRoaXMuX3Bvb2wmJihpPXRoaXMuX3Bvb2wuZGVxdWV1ZSgpKSxudWxsIT1pP2kucmVhbGxvYyh0LGUscyk6aT1uZXcgYyh0aGlzLHQsZSxzKSxpfV9yZWxlYXNlKHQpe3RoaXMub25SZWxlYXNlKHQpLHRoaXMuX25vZGVzLS0sbnVsbCE9dGhpcy5fcG9vbCYmdGhpcy5fcG9vbC5lbnF1ZXVlKHQpfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9yb290LmNvdW50fWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX25vZGVzfWdldCBwb29sU2l6ZSgpe3JldHVybiB0aGlzLl9wb29sPy5zaXplPz8wfWdldCBkZXB0aCgpe2xldCB0PTA7cmV0dXJuIHRoaXMuZm9yRWFjaCgoZT0+dD1NYXRoLm1heCh0LGUuZGVwdGgpKSksdH1kcm9wTGV2ZWxzKHQpe3RoaXMuZm9yRWFjaCgoZT0+e2lmKGUuZGVwdGg+PXQpZm9yKGxldCB0PTA7dDxlLmNoaWxkcmVuLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZS5jaGlsZHJlblt0XTtzJiZ0aGlzLl9yZWxlYXNlKHMpfX0pKSx0aGlzLmZvckVhY2goKGU9PntpZihlLmRlcHRoPj10KWZvcihsZXQgdD0wO3Q8ZS5jaGlsZHJlbi5sZW5ndGg7dCsrKWUuY2hpbGRyZW5bdF09bnVsbH0pKX1jbGVhcigpe3RoaXMuZm9yRWFjaCgodD0+dGhpcy5fcmVsZWFzZSh0KSkpLHRoaXMuX3Jvb3Q9bmV3IGModGhpcywwLDAsMCl9aW5zZXJ0KHQsZSxzPTApe2NvbnN0IGk9bC5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW3RdLHRoaXMuX3NlcnZpY2VJbmZvKS5nZXRDdXJzb3IoKTtpLm5leHQoKTtjb25zdCBuPWkucmVhZEdlb21ldHJ5KCk7aWYoIW4pcmV0dXJuO2NvbnN0W28sYV09bi5jb29yZHMscj10Lmdlb2hhc2hYLGg9dC5nZW9oYXNoWTt0aGlzLmluc2VydEN1cnNvcihpLHQuZGlzcGxheUlkLG8sYSxyLGgsZSxzKX1pbnNlcnRDdXJzb3IodCxlLHMsaSxuLG8sYSxyPTApe2xldCBsPXRoaXMuX3Jvb3QsaD0wLGM9MCx1PTA7Zm9yKDtudWxsIT09bDspe2lmKGwuZGVwdGg+PXImJihsLmNvdW50Kz0xLGwueFRvdGFsKz1zLGwueVRvdGFsKz1pLGwueEdlb2hhc2hUb3RhbCs9bixsLnlHZW9oYXNoVG90YWwrPW8sbC5yZWZlcmVuY2VJZD1lLHRoaXMuX3VwZGF0ZVN0YXRpc3RpY3NDdXJzb3IodCxsLDEpKSxoPj1hKXJldHVybiB2b2lkIGwuYWRkKGUpO2NvbnN0IGQ9TWF0aC5jZWlsKChoKzEpLzIpLGY9TWF0aC5mbG9vcigoaCsxKS8yKSx4PTEtaCUyLG09MzAtKDMqZCsyKmYpLGc9MzAtKDIqZCszKmYpLHk9KG4mNyp4KzMqKDEteCk8PG0pPj5tLHA9KG8mMyp4KzcqKDEteCk8PGcpPj5nLF89eStwKig4KngrNCooMS14KSk7Yz1jPDwzKngrMiooMS14KXx5LHU9dTw8Mip4KzMqKDEteCl8cCxudWxsPT1sLmNoaWxkcmVuW19dJiYobC5jaGlsZHJlbltfXT10aGlzLl9hY3F1aXJlKGMsdSxoKzEpKSxoKz0xLGw9bC5jaGlsZHJlbltfXX19cmVtb3ZlKHQsZSl7Y29uc3Qgcz1sLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhbdF0sdGhpcy5fc2VydmljZUluZm8pLmdldEN1cnNvcigpO3MubmV4dCgpO2NvbnN0IGk9cy5yZWFkR2VvbWV0cnkoKTtpZighaSlyZXR1cm47Y29uc3RbbixvXT1pLmNvb3JkcyxhPXQuZ2VvaGFzaFgscj10Lmdlb2hhc2hZO3RoaXMucmVtb3ZlQ3Vyc29yKHMsbixvLGEscixlKX1yZW1vdmVDdXJzb3IodCxlLHMsaSxuLG8pe2xldCBhPXRoaXMuX3Jvb3Qscj0wO2Zvcig7bnVsbCE9PWE7KXtpZihhLmNvdW50LT0xLGEueFRvdGFsLT1lLGEueVRvdGFsLT1zLGEueEdlb2hhc2hUb3RhbC09aSxhLnlHZW9oYXNoVG90YWwtPW4sdGhpcy5fdXBkYXRlU3RhdGlzdGljc0N1cnNvcih0LGEsLTEpLHI+PW8pcmV0dXJuIHZvaWQgYS5yZW1vdmUodC5nZXREaXNwbGF5SWQoKSk7Y29uc3QgbD1NYXRoLmNlaWwoKHIrMSkvMiksaD1NYXRoLmZsb29yKChyKzEpLzIpLGM9MS1yJTIsdT0zMC0oMypsKzIqaCksZD0zMC0oMipsKzMqaCksZj0oKGkmNypjKzMqKDEtYyk8PHUpPj51KSsoKG4mMypjKzcqKDEtYyk8PGQpPj5kKSooOCpjKzQqKDEtYykpLHg9YS5jaGlsZHJlbltmXTsxPT09eD8uY291bnQmJih0aGlzLl9yZWxlYXNlKHgpLGEuY2hpbGRyZW5bZl09bnVsbCkscis9MSxhPXh9fWZvckVhY2godCl7bGV0IGU9dGhpcy5fcm9vdDtmb3IoO251bGwhPT1lOyl7Y29uc3Qgcz10aGlzLl9saW5rQ2hpbGRyZW4oZSl8fGUubmV4dDt0KGUpLGU9c319ZmluZCh0LGUscyl7cmV0dXJuIHRoaXMuX3Jvb3QuZmluZCh0LGUscywwLDAsMCl9ZmluZElmKHQpe2xldCBlPW51bGw7cmV0dXJuIHRoaXMuZm9yRWFjaCgocz0+e3QocykmJihlPXMpfSkpLGV9ZmluZEFsbElmKHQpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgocz0+e3QocykmJmUucHVzaChzKX0pKSxlfWZpbmRTaW5nbGVPY2N1cGFuY3lOb2RlKHQsZSxzLGksbil7bGV0IG89dGhpcy5fcm9vdDtmb3IoO251bGwhPT1vOyl7Y29uc3QgYT1vLmRlcHRoLHI9by54Tm9kZSxsPW8ueU5vZGUsaD0xLWElMixjPW8ueEdlb2hhc2hUb3RhbC9vLmNvdW50LHU9by55R2VvaGFzaFRvdGFsL28uY291bnQ7aWYoMT09PW8uY291bnQmJnQ8YyYmYzw9cyYmZTx1JiZ1PD1pKXJldHVybiBvO2lmKGE+PW4pe289by5uZXh0O2NvbnRpbnVlfWNvbnN0IGQ9TWF0aC5jZWlsKChhKzEpLzIpLGY9TWF0aC5mbG9vcigoYSsxKS8yKSx4PTMwLSgzKmQrMipmKSxtPTMwLSgyKmQrMypmKSxnPX4oKDE8PHgpLTEpLHk9figoMTw8bSktMSkscD0odCZnKT4+eCxfPShlJnkpPj5tLHY9KHMmZyk+PngsTT0oaSZ5KT4+bSxUPXI8PDMqaCsyKigxLWgpLGI9bDw8MipoKzMqKDEtaCksaz1UKzgqaCs0KigxLWgpLE49Yis0KmgrOCooMS1oKSxJPU1hdGgubWF4KFQscCksQz1NYXRoLm1heChiLF8pLEc9TWF0aC5taW4oayx2KSxMPU1hdGgubWluKE4sTSk7bGV0IFM9bnVsbCx3PW51bGw7Zm9yKGxldCB0PUM7dDw9TDt0KyspZm9yKGxldCBlPUk7ZTw9RztlKyspe2NvbnN0IHM9ZS1UKyh0LWIpKig4KmgrNCooMS1oKSksaT1vLmNoaWxkcmVuW3NdO2kmJihTfHwoUz1pLFMubmV4dD1vLm5leHQpLHcmJih3Lm5leHQ9aSksdz1pLGkubmV4dD1vLm5leHQpfW89U3x8by5uZXh0fXJldHVybiBudWxsfWdldFJlZ2lvbkRpc3BsYXlJZHModCl7bGV0IGU9dGhpcy5fcm9vdDtjb25zdHtib3VuZHM6cyxnZW9oYXNoQm91bmRzOmksbGV2ZWw6bn09dCxbbyxhLHIsbF09cyxoPVtdO2Zvcig7bnVsbCE9PWU7KXtjb25zdCB0PWUuZGVwdGgscz1lLnhOb2RlLGM9ZS55Tm9kZTtpZih0Pj1uKXtjb25zdCB0PWUueFRvdGFsL2UuY291bnQscz1lLnlUb3RhbC9lLmNvdW50O3Q+PW8mJnQ8PXImJnM+PWEmJnM8PWwmJmUuZGlzcGxheUlkcy5mb3JFYWNoKCh0PT5oLnB1c2godCkpKSxlPWUubmV4dDtjb250aW51ZX1jb25zdCB1PU1hdGguY2VpbCgodCsxKS8yKSxkPU1hdGguZmxvb3IoKHQrMSkvMiksZj0xLXQlMix4PTMwLSgzKnUrMipkKSxtPTMwLSgyKnUrMypkKSxnPX4oKDE8PHgpLTEpLHk9figoMTw8bSktMSkscD0oaS54TEwmZyk+PngsXz0oaS55TEwmeSk+Pm0sdj0oaS54VFImZyk+PngsTT0oaS55VFImeSk+Pm0sVD1zPDwzKmYrMiooMS1mKSxiPWM8PDIqZiszKigxLWYpLGs9VCs4KmYrNCooMS1mKSxOPWIrNCpmKzgqKDEtZiksST1NYXRoLm1heChULHApLEM9TWF0aC5tYXgoYixfKSxHPU1hdGgubWluKGssdiksTD1NYXRoLm1pbihOLE0pO2xldCBTPW51bGwsdz1udWxsO2ZvcihsZXQgaT1DO2k8PUw7aSsrKWZvcihsZXQgdD1JO3Q8PUc7dCsrKXtjb25zdCBzPXQtVCsoaS1iKSooOCpmKzQqKDEtZikpLG49ZS5jaGlsZHJlbltzXTtuJiYoU3x8KFM9bixTLm5leHQ9ZS5uZXh0KSx3JiYody5uZXh0PW4pLHc9bixuLm5leHQ9ZS5uZXh0KX1lPVN8fGUubmV4dH1yZXR1cm4gaH1nZXRSZWdpb25TdGF0aXN0aWNzKHQpe2xldCBlPXRoaXMuX3Jvb3Qscz0wLGk9MCxuPTA7Y29uc3Qgbz17fSx7Ym91bmRzOmEsZ2VvaGFzaEJvdW5kczpyLGxldmVsOmx9PXQsW2gsYyx1LGRdPWE7bGV0IGY9MDtmb3IoO251bGwhPT1lOyl7Y29uc3QgdD1lLmRlcHRoLGE9ZS54Tm9kZSx4PWUueU5vZGU7aWYodD49bCl7Y29uc3QgdD1lLnhUb3RhbC9lLmNvdW50LGE9ZS55VG90YWwvZS5jb3VudDt0PmgmJnQ8PXUmJmE+YyYmYTw9ZCYmKHMrPWUuY291bnQsaSs9ZS54VG90YWwsbis9ZS55VG90YWwsMT09PWUuY291bnQmJihmPWUucmVmZXJlbmNlSWQpLHRoaXMuX2FnZ3JlZ2F0ZVN0YXRpc3RpY3MobyxlLnN0YXRpc3RpY3MpKSxlPWUubmV4dDtjb250aW51ZX1jb25zdCBtPU1hdGguY2VpbCgodCsxKS8yKSxnPU1hdGguZmxvb3IoKHQrMSkvMikseT0xLXQlMixwPTMwLSgzKm0rMipnKSxfPTMwLSgyKm0rMypnKSx2PX4oKDE8PHApLTEpLE09figoMTw8XyktMSksVD0oci54TEwmdik+PnAsYj0oci55TEwmTSk+Pl8saz0oci54VFImdik+PnAsTj0oci55VFImTSk+Pl8sST1hPDwzKnkrMiooMS15KSxDPXg8PDIqeSszKigxLXkpLEc9SSs4KnkrNCooMS15KSxMPUMrNCp5KzgqKDEteSksUz1NYXRoLm1heChJLFQpLHc9TWF0aC5tYXgoQyxiKSxSPU1hdGgubWluKEcsayksRj1NYXRoLm1pbihMLE4pO2xldCB6PW51bGwsaj1udWxsO2ZvcihsZXQgcj13O3I8PUY7cisrKWZvcihsZXQgdD1TO3Q8PVI7dCsrKXtjb25zdCBhPXQtSSsoci1DKSooOCp5KzQqKDEteSkpLGw9ZS5jaGlsZHJlblthXTtpZihsKXtpZihyIT09dyYmciE9PUYmJnQhPT1TJiZ0IT09Uil7Y29uc3QgdD1sLnhUb3RhbC9sLmNvdW50LGU9bC55VG90YWwvbC5jb3VudDt0PmgmJnQ8PXUmJmU+YyYmZTw9ZCYmKHMrPWwuY291bnQsaSs9bC54VG90YWwsbis9bC55VG90YWwsMT09PWwuY291bnQmJihmPWwucmVmZXJlbmNlSWQpLHRoaXMuX2FnZ3JlZ2F0ZVN0YXRpc3RpY3MobyxsLnN0YXRpc3RpY3MpKTtjb250aW51ZX16fHwoej1sLHoubmV4dD1lLm5leHQpLGomJihqLm5leHQ9bCksaj1sLGwubmV4dD1lLm5leHR9fWU9enx8ZS5uZXh0fXJldHVybntjb3VudDpzLGF0dHJpYnV0ZXM6dGhpcy5ub3JtYWxpemVTdGF0aXN0aWNzKG8scykseFRvdGFsOmkseVRvdGFsOm4scmVmZXJlbmNlSWQ6Zn19Z2V0Qmlucyh0KXtjb25zdCBlPVtdLHtnZW9oYXNoQm91bmRzOnMsbGV2ZWw6aX09dDtsZXQgbj10aGlzLl9yb290O2Zvcig7bnVsbCE9PW47KXtjb25zdCB0PW4uZGVwdGgsbz1uLnhOb2RlLGE9bi55Tm9kZTtpZih0Pj1pKXtlLnB1c2gobiksbj1uLm5leHQ7Y29udGludWV9Y29uc3Qgcj1NYXRoLmNlaWwoKHQrMSkvMiksbD1NYXRoLmZsb29yKCh0KzEpLzIpLGg9MS10JTIsYz0zMC0oMypyKzIqbCksdT0zMC0oMipyKzMqbCksZD1+KCgxPDxjKS0xKSxmPX4oKDE8PHUpLTEpLHg9KHMueExMJmQpPj5jLG09KHMueUxMJmYpPj51LGc9KHMueFRSJmQpPj5jLHk9KHMueVRSJmYpPj51LHA9bzw8MypoKzIqKDEtaCksXz1hPDwyKmgrMyooMS1oKSx2PXArOCpoKzQqKDEtaCksTT1fKzQqaCs4KigxLWgpLFQ9TWF0aC5tYXgocCx4KSxiPU1hdGgubWF4KF8sbSksaz1NYXRoLm1pbih2LGcpLE49TWF0aC5taW4oTSx5KTtsZXQgST1udWxsLEM9bnVsbDtmb3IobGV0IGU9YjtlPD1OO2UrKylmb3IobGV0IHQ9VDt0PD1rO3QrKyl7Y29uc3Qgcz10LXArKGUtXykqKDgqaCs0KigxLWgpKSxpPW4uY2hpbGRyZW5bc107aSYmKEl8fChJPWksSS5uZXh0PW4ubmV4dCksQyYmKEMubmV4dD1pKSxDPWksaS5uZXh0PW4ubmV4dCl9bj1JfHxuLm5leHR9cmV0dXJuIGV9X2xpbmtDaGlsZHJlbih0KXtsZXQgZT1udWxsLHM9bnVsbDtmb3IobGV0IGk9MDtpPD10LmNoaWxkcmVuLmxlbmd0aDtpKyspe2NvbnN0IG49dC5jaGlsZHJlbltpXTtuJiYoZXx8KGU9bixlLm5leHQ9dC5uZXh0KSxzJiYocy5uZXh0PW4pLHM9bixuLm5leHQ9dC5uZXh0KX1yZXR1cm4gZX1fdXBkYXRlU3RhdGlzdGljc0N1cnNvcih0LGUscyl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBuPWkubmFtZSxvPWkuaW5GaWVsZD90LnJlYWRBdHRyaWJ1dGUoaS5pbkZpZWxkKTp0LmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoaS5pbkZpZWxkSW5kZXgpO3N3aXRjaChpLnN0YXRpc3RpY1R5cGUpe2Nhc2VcIm1pblwiOntpZihpc05hTihvKSlicmVhaztpZighZS5zdGF0aXN0aWNzW25dKXtlLnN0YXRpc3RpY3Nbbl09e3ZhbHVlOm99O2JyZWFrfWNvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLnZhbHVlO2Uuc3RhdGlzdGljc1tuXS52YWx1ZT1NYXRoLm1pbih0LG8pO2JyZWFrfWNhc2VcIm1heFwiOntpZihpc05hTihvKSlicmVhaztpZighZS5zdGF0aXN0aWNzW25dKXtlLnN0YXRpc3RpY3Nbbl09e3ZhbHVlOm99O2JyZWFrfWNvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLnZhbHVlO2Uuc3RhdGlzdGljc1tuXS52YWx1ZT1NYXRoLm1heCh0LG8pO2JyZWFrfWNhc2VcImNvdW50XCI6YnJlYWs7Y2FzZVwic3VtXCI6Y2FzZVwiYXZnXCI6e2Uuc3RhdGlzdGljc1tuXXx8KGUuc3RhdGlzdGljc1tuXT17dmFsdWU6MCxuYW5Db3VudDowfSk7Y29uc3QgdD1lLnN0YXRpc3RpY3Nbbl0udmFsdWUsaT1lLnN0YXRpc3RpY3Nbbl0ubmFuQ291bnQ/PzA7bnVsbD09b3x8aXNOYU4obyk/ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50PWkrczplLnN0YXRpc3RpY3Nbbl0udmFsdWU9dCtzKm87YnJlYWt9Y2FzZVwiYXZnX2FuZ2xlXCI6e2Uuc3RhdGlzdGljc1tuXXx8KGUuc3RhdGlzdGljc1tuXT17eDowLHk6MCxuYW5Db3VudDowfSk7Y29uc3QgdD1lLnN0YXRpc3RpY3Nbbl0ueCxpPWUuc3RhdGlzdGljc1tuXS55LGE9ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50Pz8wLHI9TWF0aC5QSS8xODA7bnVsbD09b3x8aXNOYU4obyk/ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50PWErczooZS5zdGF0aXN0aWNzW25dLng9dCtzKk1hdGguY29zKG8qciksZS5zdGF0aXN0aWNzW25dLnk9aStzKk1hdGguc2luKG8qcikpO2JyZWFrfWNhc2VcIm1vZGVcIjp7ZS5zdGF0aXN0aWNzW25dfHwoZS5zdGF0aXN0aWNzW25dPXt9KTtjb25zdCB0PWUuc3RhdGlzdGljc1tuXVtvXXx8MDtlLnN0YXRpc3RpY3Nbbl1bb109dCtzO2JyZWFrfX19fV9hZ2dyZWdhdGVTdGF0aXN0aWNzKHQsZSl7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBpPXMubmFtZTtzd2l0Y2gocy5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjp7aWYoIXRbaV0pe3RbaV09e3ZhbHVlOmVbaV0udmFsdWV9O2JyZWFrfWNvbnN0IHM9dFtpXS52YWx1ZTt0W2ldLnZhbHVlPU1hdGgubWluKHMsZVtpXS52YWx1ZSk7YnJlYWt9Y2FzZVwibWF4XCI6e2lmKCF0W2ldKXt0W2ldPXt2YWx1ZTplW2ldLnZhbHVlfTticmVha31jb25zdCBzPXRbaV0udmFsdWU7dFtpXS52YWx1ZT1NYXRoLm1heChzLGVbaV0udmFsdWUpO2JyZWFrfWNhc2VcImNvdW50XCI6YnJlYWs7Y2FzZVwic3VtXCI6Y2FzZVwiYXZnXCI6Y2FzZVwiYXZnX2FuZ2xlXCI6Y2FzZVwibW9kZVwiOnRbaV18fCh0W2ldPXt9KTtmb3IoY29uc3QgcyBpbiBlW2ldKXtjb25zdCBuPXRbaV1bc118fDA7dFtpXVtzXT1uK2VbaV1bc119fX19bm9ybWFsaXplU3RhdGlzdGljcyh0LGUpe2NvbnN0IHM9e307Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBuPWkubmFtZTtzd2l0Y2goaS5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjpjYXNlXCJtYXhcIjp7Y29uc3QgaT10W25dO2lmKCFlfHwhaSlicmVhaztzW25dPWkudmFsdWU7YnJlYWt9Y2FzZVwiY291bnRcIjppZighZSlicmVhaztzW25dPWU7YnJlYWs7Y2FzZVwic3VtXCI6e2lmKCFlKWJyZWFrO2NvbnN0e3ZhbHVlOmksbmFuQ291bnQ6b309dFtuXTtpZighKGUtbykpYnJlYWs7c1tuXT1pO2JyZWFrfWNhc2VcImF2Z1wiOntpZighZSlicmVhaztjb25zdHt2YWx1ZTppLG5hbkNvdW50Om99PXRbbl07aWYoIShlLW8pKWJyZWFrO3Nbbl09aS8oZS1vKTticmVha31jYXNlXCJhdmdfYW5nbGVcIjp7aWYoIWUpYnJlYWs7Y29uc3R7eDppLHk6byxuYW5Db3VudDphfT10W25dO2lmKCEoZS1hKSlicmVhaztjb25zdCByPWkvKGUtYSksbD1vLyhlLWEpLGg9MTgwL01hdGguUEksYz1NYXRoLmF0YW4yKGwscikqaDtzW25dPWM7YnJlYWt9Y2FzZVwibW9kZVwiOntjb25zdCBlPXRbbl07bGV0IGk9MCxvPTAsYT1udWxsO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IHM9ZVt0XTtzPT09aT9vKz0xOnM+aSYmKGk9cyxvPTEsYT10KX1zW25dPVwibnVsbFwiPT09YXx8bz4xP251bGw6YTticmVha319fXJldHVybiBzfX1jbGFzcyBje2NvbnN0cnVjdG9yKHQsZSxzLGkpe3RoaXMuY291bnQ9MCx0aGlzLnhUb3RhbD0wLHRoaXMueVRvdGFsPTAsdGhpcy5zdGF0aXN0aWNzPXt9LHRoaXMuZGlzcGxheUlkPTAsdGhpcy5yZWZlcmVuY2VJZD0wLHRoaXMuZGlzcGxheUlkcz1uZXcgU2V0LHRoaXMubmV4dD1udWxsLHRoaXMuZGVwdGg9MCx0aGlzLnhOb2RlPTAsdGhpcy55Tm9kZT0wLHRoaXMueEdlb2hhc2hUb3RhbD0wLHRoaXMueUdlb2hhc2hUb3RhbD0wLHRoaXMuX3RyZWU9dCx0aGlzLmNoaWxkcmVuPW5ldyBBcnJheSgzMik7Zm9yKGxldCBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspdGhpcy5jaGlsZHJlbltuXT1udWxsO3RoaXMueE5vZGU9ZSx0aGlzLnlOb2RlPXMsdGhpcy5kZXB0aD1pfXJlYWxsb2ModCxlLHMpe2ZvcihsZXQgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXRoaXMuY2hpbGRyZW5baV09bnVsbDtyZXR1cm4gdGhpcy54Tm9kZT10LHRoaXMueU5vZGU9ZSx0aGlzLmRlcHRoPXMsdGhpcy5uZXh0PW51bGwsdGhpcy54R2VvaGFzaFRvdGFsPTAsdGhpcy55R2VvaGFzaFRvdGFsPTAsdGhpcy5kaXNwbGF5SWQ9MCx0aGlzLnJlZmVyZW5jZUlkPTAsdGhpcy54VG90YWw9MCx0aGlzLnlUb3RhbD0wLHRoaXMuY291bnQ9MCx0aGlzLnN0YXRpc3RpY3M9e30sdGhpcy5kaXNwbGF5SWRzLmNsZWFyKCksdGhpc31nZXQgaWQoKXtyZXR1cm5gJHt0aGlzLnhOb2RlfS4ke3RoaXMueU5vZGV9YH1hZGQodCl7dGhpcy5kaXNwbGF5SWRzLmFkZCh0KX1yZW1vdmUodCl7dGhpcy5kaXNwbGF5SWRzLmRlbGV0ZSh0KX1nZXRBdHRyaWJ1dGVzKCl7Y29uc3QgdD10aGlzLl90cmVlLm5vcm1hbGl6ZVN0YXRpc3RpY3ModGhpcy5zdGF0aXN0aWNzLHRoaXMuY291bnQpO3JldHVybiB0LnJlZmVyZW5jZUlkPW51bGwsdC5hZ2dyZWdhdGVJZD10aGlzLmlkLHQuYWdncmVnYXRlQ291bnQ9dGhpcy5jb3VudCx0fWdldEdlb21ldHJ5KHQsZSl7Y29uc3Qgbz10aGlzLmdldExuZ0xhdEJvdW5kcygpLFtsLGgsYyx1XT1vLGQ9cih7cmluZ3M6W1tbbCxoXSxbbCx1XSxbYyx1XSxbYyxoXSxbbCxoXV1dfSxzLldHUzg0LHQpLGY9aShuZXcgYSxkLCExLCExKTtpZihudWxsIT1lKXtyZXR1cm4gbihuZXcgYSxmLCExLCExLFwiZXNyaUdlb21ldHJ5UG9seWdvblwiLGUsITEsITEpfXJldHVybiBmfWdldEdlb21ldHJ5Q2VudHJvaWQodCxlKXtjb25zdCBpPXRoaXMuZ2V0TG5nTGF0Qm91bmRzKCksW2wsaCxjLHVdPWksZD1yKHt4OihsK2MpLzIseTooaCt1KS8yfSxzLldHUzg0LHQpLGY9byhuZXcgYSxkKTtpZihudWxsIT1lKXtyZXR1cm4gbihuZXcgYSxmLCExLCExLFwiZXNyaUdlb21ldHJ5UG9pbnRcIixlLCExLCExKX1yZXR1cm4gZn1nZXRMbmdMYXRCb3VuZHMoKXtjb25zdCB0PXRoaXMuZGVwdGgscz1NYXRoLmNlaWwodC8yKSxpPU1hdGguZmxvb3IodC8yKSxuPTMwLSgzKnMrMippKSxvPTMwLSgyKnMrMyppKSxhPXRoaXMueE5vZGU8PG4scj10aGlzLnlOb2RlPDxvO3JldHVybiBlKHtnZW9oYXNoWDphLGdlb2hhc2hZOnJ9LHRoaXMuZGVwdGgpfWZpbmQodCxlLHMsaSxuLG8pe2lmKGk+PXMpcmV0dXJuIHRoaXM7Y29uc3QgYT0xLWklMixyPTMqYSsyKigxLWEpLGw9MiphKzMqKDEtYSksaD0zMC1uLXIsYz0zMC1vLWwsdT0oKHQmNyphKzMqKDEtYSk8PGgpPj5oKSsoKGUmMyphKzcqKDEtYSk8PGMpPj5jKSooOCphKzQqKDEtYSkpLGQ9dGhpcy5jaGlsZHJlblt1XTtyZXR1cm4gbnVsbD09ZD9udWxsOmQuZmluZCh0LGUscyxpKzEsbityLG8rbCl9fWV4cG9ydHtjIGFzIEdlb2hhc2hOb2RlLGggYXMgR2VvaGFzaFRyZWV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHQ9MTYsbj04LG89NCxlPTIscj0xLGM9bmV3IEZsb2F0NjRBcnJheSgyKSxmPW5ldyBGbG9hdDY0QXJyYXkoMiksbD0tOTAsdT05MCxoPS0xODAscz0xODAsaT1cIjAxMjM0NTY3ODliY2RlZmdoamttbnBxcnN0dXZ3eHl6XCI7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdDw9NTc/dC00ODp0PD0xMDQ/dC04ODp0PD0xMDc/dC04OTp0PD0xMTA/dC05MDp0LTkxfWZ1bmN0aW9uIGcodCl7cmV0dXJuIGlbdF19ZnVuY3Rpb24gQSh0KXtyZXR1cm4odFswXSt0WzFdKS8yfWZ1bmN0aW9uIGQodCxuLG8pe3JldHVybiB0WzBdPW4sdFsxXT1vLHR9ZnVuY3Rpb24gTSh0LG4pe2NvbnN0IG89QSh0KSxlPW4scj0hbjt0WzBdPXIqdFswXStlKm8sdFsxXT1yKm8rZSp0WzFdfWZ1bmN0aW9uIHcodCxuKXtjb25zdCBvPW4+QSh0KTtyZXR1cm4gTSh0LG8pLG99ZnVuY3Rpb24geShpLGcpe2NvbnN0IHc9ZChjLGwsdSkseT1kKGYsaCxzKTtmb3IobGV0IGM9MDtjPGcubGVuZ3RoO2MrKyl7Y29uc3QgZj1hKGcuY2hhckNvZGVBdChjKSk7YyUyPT0wPyhNKHksISEodCZmKSksTSh5LCEhKG8mZikpLE0oeSwhIShyJmYpKSxNKHcsISEobiZmKSksTSh3LCEhKGUmZikpKTooTSh3LCEhKHQmZikpLE0odywhIShvJmYpKSxNKHcsISEociZmKSksTSh5LCEhKG4mZikpLE0oeSwhIShlJmYpKSl9cmV0dXJuIGlbMF09QSh3KSxpWzFdPUEoeSksaX1mdW5jdGlvbiBDKHQsbil7bGV0IG89MCxlPTAscj0zMCxjPTMwO2ZvcihsZXQgZj0wO2Y8bi5sZW5ndGg7ZisrKXtjb25zdCB0PWEobi5jaGFyQ29kZUF0KGYpKSxsPWYlMj09MDtyLT1sPzM6MixjLT1sPzI6MyxvfD1GKHQsbCk8PHIsZXw9aih0LGwpPDxjfXJldHVybntnZW9oYXNoWDpvLGdlb2hhc2hZOmV9fWZ1bmN0aW9uIFgodCxuKXtsZXQgbz0tOTAsZT05MCxyPS0xODAsYz0xODA7Zm9yKGxldCBmPTA7ZjxuO2YrKyl7Y29uc3Qgbj1NYXRoLmNlaWwoKGYrMSkvMiksbD1NYXRoLmZsb29yKChmKzEpLzIpLHU9MS1mJTIsaD0zMC0oMypuKzIqbCkscz0zMC0oMipuKzMqbCksaT0zKnUrMiooMS11KSxhPTIqdSszKigxLXUpLGc9Myp1KzcqKDEtdSk8PHMsQT0oNyp1KzMqKDEtdSk8PGgmdC5nZW9oYXNoWCk+PmgsZD0oZyZ0Lmdlb2hhc2hZKT4+cztmb3IobGV0IHQ9aS0xO3Q+PTA7dC0tKXtjb25zdCBuPShyK2MpLzIsbz1BJjE8PHQ/MTowO3I9KDEtbykqcitvKm4sYz0oMS1vKSpuK28qY31mb3IobGV0IHQ9YS0xO3Q+PTA7dC0tKXtjb25zdCBuPShvK2UpLzIscj1kJjE8PHQ/MTowO289KDEtcikqbytyKm4sZT0oMS1yKSpuK3IqZX19cmV0dXJuW3IsbyxjLGVdfWZ1bmN0aW9uIFkodCxuLG8sZSl7ZSUyJiYoZSs9MSk7bGV0IHI9MCxjPTAsZj0tOTAsbD05MCx1PS0xODAsaD0xODA7Zm9yKGxldCBzPTA7czxlLzI7cysrKXtmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPSh1K2gpLzIsZT1vPm4/MTowO3J8PWU8PDI5LSh0KzUqcyksdT0oMS1lKSp1K2UqbixoPSgxLWUpKm4rZSpofWZvcihsZXQgdD0wO3Q8NTt0Kyspe2NvbnN0IG89KGYrbCkvMixlPW4+bz8xOjA7Y3w9ZTw8MjktKHQrNSpzKSxmPSgxLWUpKmYrZSpvLGw9KDEtZSkqbytlKmx9fXQuZ2VvaGFzaFg9cix0Lmdlb2hhc2hZPWN9ZnVuY3Rpb24gYih0LG4sbyxlLHIpe3IlMiYmKHIrPTEpO2xldCBjPTAsZj0wLGw9LTkwLHU9OTAsaD0tMTgwLHM9MTgwO2ZvcihsZXQgaT0wO2k8ci8yO2krKyl7Zm9yKGxldCB0PTA7dDw1O3QrKyl7Y29uc3Qgbj0oaCtzKS8yLG89ZT5uPzE6MDtjfD1vPDwyOS0odCs1KmkpLGg9KDEtbykqaCtvKm4scz0oMS1vKSpuK28qc31mb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPShsK3UpLzIsZT1vPm4/MTowO2Z8PWU8PDI5LSh0KzUqaSksbD0oMS1lKSpsK2Uqbix1PSgxLWUpKm4rZSp1fX10WzIqbl09Yyx0WzIqbisxXT1mfWZ1bmN0aW9uIHAodCxuLG8pe2xldCBlPVwiXCI7Y29uc3Qgcj1kKGMsLTkwLDkwKSxsPWQoZiwtMTgwLDE4MCk7Zm9yKGxldCBjPTA7YzxvO2MrKyl7bGV0IG89MDshKGMlMik/KG98PXcobCxuKTw8NCxvfD13KHIsdCk8PDMsb3w9dyhsLG4pPDwyLG98PXcocix0KTw8MSxvfD13KGwsbik8PDApOihvfD13KHIsdCk8PDQsb3w9dyhsLG4pPDwzLG98PXcocix0KTw8MixvfD13KGwsbik8PDEsb3w9dyhyLHQpPDwwKSxlKz1nKG8pfXJldHVybiBlfWZ1bmN0aW9uIHgodCxuLGMpe3JldHVybiBjP3QmcnwobiZyKTw8MXwodCZlKTw8MXwobiZlKTw8MnwodCZvKTw8MjpuJnJ8KHQmcik8PDF8KG4mZSk8PDF8KHQmZSk8PDJ8KG4mbyk8PDJ9ZnVuY3Rpb24gRihjLGYpe3JldHVybiBmP3ImY3wobyZjKT4+MXwodCZjKT4+MjooZSZjKT4+MXwobiZjKT4+Mn1mdW5jdGlvbiBqKGMsZil7cmV0dXJuIGY/KGUmYyk+PjF8KG4mYyk+PjI6ciZjfChvJmMpPj4xfCh0JmMpPj4yfWZ1bmN0aW9uIGsoYyxmLGwpe2NvbnN0IHU9ISgoYy5sZW5ndGgtMSklMiksaD1jLnN1YnN0cmluZygwLGMubGVuZ3RoLTEpLHM9YShjLmNoYXJDb2RlQXQoYy5sZW5ndGgtMSkpO2xldCBpPTAsQT0wLGQ9MCxNPTA7dT8oaT04LEE9NCxkPXImc3wobyZzKT4+MXwodCZzKT4+MixNPShlJnMpPj4xfChuJnMpPj4yKTooaT00LEE9OCxNPXImc3wobyZzKT4+MXwodCZzKT4+MixkPShlJnMpPj4xfChuJnMpPj4yKTtjb25zdCB3PWQrZix5PU0rbCxDPU1hdGguZmxvb3Iody9pKSxYPU1hdGguZmxvb3IoeS9BKSxZPWcoeCh3LUMqaSx5LVgqQSx1KSk7cmV0dXJuIGMubGVuZ3RoPjEmJihDfHxYKT9rKGgsQyxYKStZOmgrWX1leHBvcnR7QyBhcyBjb252ZXJ0R2VvaGFzaDMyVG9YWSxhIGFzIGRlY29kZUJhc2UzMkNoYXIseSBhcyBkZWNvZGVHZW9oYXNoLFggYXMgZGVjb2RlR2VvaGFzaFhZLGcgYXMgZW5jb2RlQmFzZTMyQ2hhcixwIGFzIGVuY29kZUdlb2hhc2gsayBhcyBnZXRSZWxhdGl2ZUdlb2hhc2gsYiBhcyBzZXRHZW9oYXNoQnVmLFkgYXMgc2V0R2VvaGFzaFhZLEYgYXMgdW5wYWNrWEJpdHMsaiBhcyB1bnBhY2tZQml0c307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9DaXJjdWxhckFycmF5LmpzXCI7aW1wb3J0e2NsYW1wIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtjb25zdCBzPVwiX19lc3JpX3N0cmVhbV9pZF9fXCIsaT1cIl9fZXNyaV90aW1lc3RhbXBfX1wiLHI9MWUzO2NsYXNzIG97Y29uc3RydWN0b3IodCxlLGkscixvPTEyOCl7dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zPW5ldyBNYXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fbGFzdFB1cmdlPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX2FkZE9yVXBkYXRlZD1uZXcgTWFwLHRoaXMuX3JlbW92ZWQ9W10sdGhpcy5fbWF4QWdlPTAsdGhpcy5fdGltZUluZm89aSx0aGlzLl9wdXJnZU9wdGlvbnM9cix0aGlzLnN0b3JlPXQsdGhpcy5vYmplY3RJZEZpZWxkPWUsdGhpcy5wdXJnZUludGVydmFsPW8sdGhpcy5fdXNlR2VuZXJhdGVkSWRzPXRoaXMub2JqZWN0SWRGaWVsZD09PXN9cmVtb3ZlQnlJZCh0KXt0aGlzLl9yZW1vdmVkLnB1c2godCl9cmVtb3ZlQnlUcmFja0lkKHQpe2NvbnN0IGU9dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmdldCh0KTtpZihlKWZvcihjb25zdCBzIG9mIGUuZW50cmllcyl0aGlzLl9yZW1vdmVkLnB1c2gocyl9YWRkKHMpe2lmKHRoaXMuX3VzZUdlbmVyYXRlZElkcyl7Y29uc3QgdD10aGlzLl9uZXh0SWQoKTtzLmF0dHJpYnV0ZXNbdGhpcy5vYmplY3RJZEZpZWxkXT10LHMub2JqZWN0SWQ9dH1lbHNlIHMub2JqZWN0SWQ9cy5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF07Y29uc3QgaT1zLm9iamVjdElkO2lmKHRoaXMuX2FkZE9yVXBkYXRlZC5zZXQoaSxzKSx0aGlzLl9tYXhBZ2U9TWF0aC5tYXgodGhpcy5fbWF4QWdlLHMuYXR0cmlidXRlc1t0aGlzLl90aW1lSW5mby5zdGFydFRpbWVGaWVsZF0pLCF0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGQpcmV0dXJuIG51bGw9PXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zJiYodGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnM9bmV3IHQoMWU1KSksdm9pZCB0aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucy5lbnF1ZXVlKGkpO2NvbnN0IG89cy5hdHRyaWJ1dGVzW3RoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZF07aWYoIXRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5oYXMobykpe2NvbnN0IHM9bnVsbCE9dGhpcy5fcHVyZ2VPcHRpb25zPy5tYXhPYnNlcnZhdGlvbnM/dGhpcy5fcHVyZ2VPcHRpb25zLm1heE9ic2VydmF0aW9uczpyLGk9ZShzLDAscik7dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLnNldChvLG5ldyB0KGkpKX1jb25zdCBkPXRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5nZXQobyksYT1kPy5lbnF1ZXVlKGkpO251bGwhPWEmJih0aGlzLl9hZGRPclVwZGF0ZWQuaGFzKGEpP3RoaXMuX2FkZE9yVXBkYXRlZC5kZWxldGUoYSk6dGhpcy5fcmVtb3ZlZC5wdXNoKGEpKX1jaGVja0ZvclVwZGF0ZXMoKXtjb25zdCB0PXRoaXMuX2dldFRvQWRkKCksZT10aGlzLl9nZXRUb1JlbW92ZSgpLHM9cGVyZm9ybWFuY2Uubm93KCk7cy10aGlzLl9sYXN0UHVyZ2U+PXRoaXMucHVyZ2VJbnRlcnZhbCYmKHRoaXMuX3B1cmdlKHMpLHRoaXMuX2xhc3RQdXJnZT1zKTtjb25zdCByPVtdO2lmKG51bGwhPWUpZm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgdD10aGlzLnN0b3JlLnJlbW92ZUJ5SWQoaSk7bnVsbCE9dCYmci5wdXNoKHQpfWNvbnN0IG89W107aWYobnVsbCE9dCl7Y29uc3Qgcj1uZXcgU2V0KGU/P1tdKTtmb3IoY29uc3QgZSBvZiB0KXIuaGFzKGUub2JqZWN0SWQpfHwoZS5hdHRyaWJ1dGVzW2ldPXMsdGhpcy5zdG9yZS5hZGQoZSksby5wdXNoKGUpKX0oby5sZW5ndGh8fHI/Lmxlbmd0aCkmJnRoaXMuc3RvcmUudXBkYXRlKG8scil9X2dldFRvQWRkKCl7aWYoIXRoaXMuX2FkZE9yVXBkYXRlZC5zaXplKXJldHVybiBudWxsO2NvbnN0IHQ9bmV3IEFycmF5KHRoaXMuX2FkZE9yVXBkYXRlZC5zaXplKTtsZXQgZT0wO3JldHVybiB0aGlzLl9hZGRPclVwZGF0ZWQuZm9yRWFjaCgocz0+dFtlKytdPXMpKSx0aGlzLl9hZGRPclVwZGF0ZWQuY2xlYXIoKSx0fV9nZXRUb1JlbW92ZSgpe2NvbnN0IHQ9dGhpcy5fcmVtb3ZlZDtyZXR1cm4gdGhpcy5fcmVtb3ZlZC5sZW5ndGg/KHRoaXMuX3JlbW92ZWQ9W10sdCk6bnVsbH1fbmV4dElkKCl7Y29uc3QgdD10aGlzLl9pZENvdW50ZXI7cmV0dXJuIHRoaXMuX2lkQ291bnRlcj0odGhpcy5faWRDb3VudGVyKzEpJTQyOTQ5NjcyOTQrMSx0fV9wdXJnZSh0KXtjb25zdCBlPXRoaXMuX3B1cmdlT3B0aW9ucztudWxsIT1lJiYodGhpcy5fcHVyZ2VTb21lQnlEaXNwbGF5Q291bnQoZSksdGhpcy5fcHVyZ2VCeUFnZShlKSx0aGlzLl9wdXJnZUJ5QWdlUmVjZWl2ZWQodCxlKSx0aGlzLl9wdXJnZVRyYWNrcygpKX1fcHVyZ2VTb21lQnlEaXNwbGF5Q291bnQodCl7aWYoIXQuZGlzcGxheUNvdW50KXJldHVybjtsZXQgZT10aGlzLnN0b3JlLnNpemU7aWYoZT50LmRpc3BsYXlDb3VudCl7aWYodGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkKWZvcihjb25zdCBzIG9mIHRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy52YWx1ZXMoKSlpZihlPnQuZGlzcGxheUNvdW50JiZzLnNpemUpe2NvbnN0IHQ9cy5kZXF1ZXVlKCk7dGhpcy5fcmVtb3ZlZC5wdXNoKHQpLGUtLX1pZihudWxsIT10aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucyl7bGV0IHM9ZS10LmRpc3BsYXlDb3VudDtmb3IoO3MtLSA+MDspe2NvbnN0IHQ9dGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMuZGVxdWV1ZSgpO251bGwhPXQmJnRoaXMuX3JlbW92ZWQucHVzaCh0KX19fX1fcHVyZ2VCeUFnZSh0KXtjb25zdCBlPXRoaXMuX3RpbWVJbmZvPy5zdGFydFRpbWVGaWVsZDtpZighdC5hZ2V8fCFlKXJldHVybjtjb25zdCBzPTYwKnQuYWdlKjFlMyxpPXRoaXMuX21heEFnZS1zO3RoaXMuc3RvcmUuZm9yRWFjaCgodD0+e3QuYXR0cmlidXRlc1tlXTxpJiZ0aGlzLl9yZW1vdmVkLnB1c2godC5vYmplY3RJZCl9KSl9X3B1cmdlQnlBZ2VSZWNlaXZlZCh0LGUpe2lmKCFlLmFnZVJlY2VpdmVkKXJldHVybjtjb25zdCBzPXQtNjAqZS5hZ2VSZWNlaXZlZCoxZTM7dGhpcy5zdG9yZS5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzW2ldPHMmJnRoaXMuX3JlbW92ZWQucHVzaCh0Lm9iamVjdElkKX0pKX1fcHVyZ2VUcmFja3MoKXt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZm9yRWFjaCgoKHQsZSk9PnswPT09dC5zaXplJiZ0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZGVsZXRlKGUpfSkpfX1leHBvcnR7byBhcyBTdHJlYW1GZWF0dXJlTWFuYWdlcixzIGFzIGRlZmF1bHRTdHJlYW1JZEZpZWxkLGkgYXMgZXNyaVRpbWVzdGFtcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdChuKXtjb25zdCBvPXt9O2Zvcihjb25zdCBlIGluIG4pe2lmKFwiZGVjbGFyZWRDbGFzc1wiPT09ZSljb250aW51ZTtjb25zdCByPW5bZV07aWYobnVsbCE9ciYmXCJmdW5jdGlvblwiIT10eXBlb2YgcilpZihBcnJheS5pc0FycmF5KHIpKXtvW2VdPVtdO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKW9bZV1bbl09dChyW25dKX1lbHNlXCJvYmplY3RcIj09dHlwZW9mIHI/ci50b0pTT04mJihvW2VdPUpTT04uc3RyaW5naWZ5KHIpKTpvW2VdPXJ9cmV0dXJuIG99ZXhwb3J0e3QgYXMgbWFwUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyBlLGpvaW4gYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuIGFzIGl9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlscy5qc1wiO2ltcG9ydHtzclRvUkVTVFZhbHVlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7bWFwUGFyYW1ldGVycyBhcyBvfWZyb21cIi4uLy4uL29wZXJhdGlvbnMvdXJsVXRpbHMuanNcIjtpbXBvcnR7cGFyc2VQQkZGZWF0dXJlUXVlcnkgYXMgdX1mcm9tXCIuL3BiZlF1ZXJ5VXRpbHMuanNcIjtpbXBvcnR7YXBwbHlGZWF0dXJlU2V0WlVuaXRTY2FsaW5nIGFzIGx9ZnJvbVwiLi9xdWVyeVpTY2FsZS5qc1wiO2NvbnN0IHM9XCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGV4dGVudCBjYWxjdWxhdGlvbi5cIjtmdW5jdGlvbiBtKHQsZSl7aWYoZSYmXCJleHRlbnRcIj09PXQudHlwZSlyZXR1cm5gJHt0LnhtaW59LCR7dC55bWlufSwke3QueG1heH0sJHt0LnltYXh9YDtpZihlJiZcInBvaW50XCI9PT10LnR5cGUpcmV0dXJuYCR7dC54fSwke3QueX1gO2NvbnN0IG49dC50b0pTT04oKTtyZXR1cm4gZGVsZXRlIG4uc3BhdGlhbFJlZmVyZW5jZSxKU09OLnN0cmluZ2lmeShuKX1mdW5jdGlvbiB5KHQsZSl7Y29uc3Qgbj10Lmdlb21ldHJ5LGk9dC50b0pTT04oKTtkZWxldGUgaS5jb21wYWN0R2VvbWV0cnlFbmFibGVkLGRlbGV0ZSBpLmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZDtjb25zdCBvPWk7bGV0IHUsbCxzO2lmKG51bGwhPW4mJihsPW4uc3BhdGlhbFJlZmVyZW5jZSxzPWEobCksby5nZW9tZXRyeVR5cGU9cihuKSxvLmdlb21ldHJ5PW0obix0LmNvbXBhY3RHZW9tZXRyeUVuYWJsZWQpLG8uaW5TUj1zKSxpLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzJiYoby5ncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljcz1pLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzLmpvaW4oXCIsXCIpKSxpLm9iamVjdElkcyYmKG8ub2JqZWN0SWRzPWkub2JqZWN0SWRzLmpvaW4oXCIsXCIpKSxpLm9yZGVyQnlGaWVsZHMmJihvLm9yZGVyQnlGaWVsZHM9aS5vcmRlckJ5RmllbGRzLmpvaW4oXCIsXCIpKSwhaS5vdXRGaWVsZHN8fCFpLnJldHVybkRpc3RpbmN0VmFsdWVzJiYoZT8ucmV0dXJuQ291bnRPbmx5fHxlPy5yZXR1cm5FeHRlbnRPbmx5fHxlPy5yZXR1cm5JZHNPbmx5KT9kZWxldGUgby5vdXRGaWVsZHM6aS5vdXRGaWVsZHMuaW5jbHVkZXMoXCIqXCIpP28ub3V0RmllbGRzPVwiKlwiOm8ub3V0RmllbGRzPWkub3V0RmllbGRzLmpvaW4oXCIsXCIpLGkub3V0U1I/KG8ub3V0U1I9YShpLm91dFNSKSx1PXQub3V0U3BhdGlhbFJlZmVyZW5jZSk6biYmKGkucmV0dXJuR2VvbWV0cnl8fGkucmV0dXJuQ2VudHJvaWQpJiYoby5vdXRTUj1vLmluU1IsdT1sKSxpLnJldHVybkdlb21ldHJ5JiZkZWxldGUgaS5yZXR1cm5HZW9tZXRyeSxpLm91dFN0YXRpc3RpY3MmJihvLm91dFN0YXRpc3RpY3M9SlNPTi5zdHJpbmdpZnkoaS5vdXRTdGF0aXN0aWNzKSksaS5mdWxsVGV4dCYmKG8uZnVsbFRleHQ9SlNPTi5zdHJpbmdpZnkoaS5mdWxsVGV4dCkpLGkucGl4ZWxTaXplJiYoby5waXhlbFNpemU9SlNPTi5zdHJpbmdpZnkoaS5waXhlbFNpemUpKSxpLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJih0LmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZCYmbnVsbCE9bCYmbnVsbCE9dC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPy5leHRlbnQmJmwuZXF1YWxzKHQucXVhbnRpemF0aW9uUGFyYW1ldGVycy5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZSkmJmRlbGV0ZSBpLnF1YW50aXphdGlvblBhcmFtZXRlcnMuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Usby5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPUpTT04uc3RyaW5naWZ5KGkucXVhbnRpemF0aW9uUGFyYW1ldGVycykpLGkucGFyYW1ldGVyVmFsdWVzJiYoby5wYXJhbWV0ZXJWYWx1ZXM9SlNPTi5zdHJpbmdpZnkoaS5wYXJhbWV0ZXJWYWx1ZXMpKSxpLnJhbmdlVmFsdWVzJiYoby5yYW5nZVZhbHVlcz1KU09OLnN0cmluZ2lmeShpLnJhbmdlVmFsdWVzKSksaS5keW5hbWljRGF0YVNvdXJjZSYmKG8ubGF5ZXI9SlNPTi5zdHJpbmdpZnkoe3NvdXJjZTppLmR5bmFtaWNEYXRhU291cmNlfSksZGVsZXRlIGkuZHluYW1pY0RhdGFTb3VyY2UpLGkudGltZUV4dGVudCl7Y29uc3QgdD1pLnRpbWVFeHRlbnQse3N0YXJ0OmUsZW5kOm59PXQ7bnVsbD09ZSYmbnVsbD09bnx8KG8udGltZT1lPT09bj9lOmAke2U/P1wibnVsbFwifSwke24/P1wibnVsbFwifWApLGRlbGV0ZSBpLnRpbWVFeHRlbnR9cmV0dXJuIHQuZGVmYXVsdFNwYXRpYWxSZWZlcmVuY2VFbmFibGVkJiZudWxsIT1sJiZudWxsIT11JiZsLmVxdWFscyh1KSYmKG8uZGVmYXVsdFNSPW8uaW5TUixkZWxldGUgby5pblNSLGRlbGV0ZSBvLm91dFNSKSxvfWFzeW5jIGZ1bmN0aW9uIGModCxlLG4scil7Y29uc3QgaT1udWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5P3tkYXRhOntmZWF0dXJlczpbXX19OmF3YWl0IEUodCxlLFwianNvblwiLHIpO3JldHVybiBsKGUsbixpLmRhdGEpLGl9YXN5bmMgZnVuY3Rpb24gZih0LGUsbixyKXtpZihudWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5KXJldHVybntkYXRhOm4uY3JlYXRlRmVhdHVyZVJlc3VsdCgpfTtjb25zdCBpPWF3YWl0IGQodCxlLHIpLGE9aTtyZXR1cm4gYS5kYXRhPXUoaS5kYXRhLG4pLGF9ZnVuY3Rpb24gZCh0LGUsbil7cmV0dXJuIEUodCxlLFwicGJmXCIsbil9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIG51bGwhPWUudGltZUV4dGVudCYmZS50aW1lRXh0ZW50LmlzRW1wdHk/UHJvbWlzZS5yZXNvbHZlKHtkYXRhOntvYmplY3RJZHM6W119fSk6RSh0LGUsXCJqc29uXCIsbix7cmV0dXJuSWRzT25seTohMH0pfWZ1bmN0aW9uIFModCxlLG4pe3JldHVybiBudWxsIT1lLnRpbWVFeHRlbnQmJmUudGltZUV4dGVudC5pc0VtcHR5P1Byb21pc2UucmVzb2x2ZSh7ZGF0YTp7Y291bnQ6MH19KTpFKHQsZSxcImpzb25cIixuLHtyZXR1cm5JZHNPbmx5OiEwLHJldHVybkNvdW50T25seTohMH0pfWFzeW5jIGZ1bmN0aW9uIHgodCxlLG4pe2lmKG51bGwhPWUudGltZUV4dGVudCYmZS50aW1lRXh0ZW50LmlzRW1wdHkpcmV0dXJue2RhdGE6e2NvdW50OjAsZXh0ZW50Om51bGx9fTtjb25zdCByPWF3YWl0IEUodCxlLFwianNvblwiLG4se3JldHVybkV4dGVudE9ubHk6ITAscmV0dXJuQ291bnRPbmx5OiEwfSksaT1yLmRhdGE7aWYoaS5oYXNPd25Qcm9wZXJ0eShcImV4dGVudFwiKSlyZXR1cm4gcjtpZihpLmZlYXR1cmVzKXRocm93IG5ldyBFcnJvcihzKTtpZihpLmhhc093blByb3BlcnR5KFwiY291bnRcIikpdGhyb3cgbmV3IEVycm9yKHMpO3JldHVybiByfWFzeW5jIGZ1bmN0aW9uIEUocixhLHUsbD17fSxzPXt9KXtjb25zdCBtPVwic3RyaW5nXCI9PXR5cGVvZiByP2Uocik6cixjPWEuZ2VvbWV0cnk/W2EuZ2VvbWV0cnldOltdLGY9YXdhaXQgaShjLG51bGwse3NpZ25hbDpsLnNpZ25hbH0pLGQ9Zj8uWzBdO251bGwhPWQmJigoYT1hLmNsb25lKCkpLmdlb21ldHJ5PWQpO2NvbnN0IHA9byh7Li4ubS5xdWVyeSxmOnUsLi4ucywuLi55KGEscyl9KTtyZXR1cm4gdChuKG0ucGF0aCxnKGEscyk/XCJxdWVyeTNkXCI6XCJxdWVyeVwiKSx7Li4ubCxyZXNwb25zZVR5cGU6XCJwYmZcIj09PXU/XCJhcnJheS1idWZmZXJcIjpcImpzb25cIixxdWVyeTp7Li4ucCwuLi5sLnF1ZXJ5fX0pfWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gbnVsbCE9dC5mb3JtYXRPZjNET2JqZWN0cyYmIShlLnJldHVybkNvdW50T25seXx8ZS5yZXR1cm5FeHRlbnRPbmx5fHxlLnJldHVybklkc09ubHkpfWV4cG9ydHttIGFzIGVuY29kZUdlb21ldHJ5LGMgYXMgZXhlY3V0ZVF1ZXJ5LFMgYXMgZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQseCBhcyBleGVjdXRlUXVlcnlGb3JFeHRlbnQscCBhcyBleGVjdXRlUXVlcnlGb3JJZHMsZiBhcyBleGVjdXRlUXVlcnlQQkYsZCBhcyBleGVjdXRlUXVlcnlQQkZCdWZmZXIseSBhcyBxdWVyeVRvUXVlcnlTdHJpbmdQYXJhbWV0ZXJzLEUgYXMgcnVuUXVlcnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49ODM4ODYwNyx0PTgzODg2MDgscj0yNTQsbz0yNTUsdT0wLGM9MSxlPW49PihuJnQpPj4+MjMsZj10PT50Jm4saT1uPT5lKG4pPT09Yz9yOm87ZnVuY3Rpb24gcChuKXtyZXR1cm4gZShuKT09PWN9ZnVuY3Rpb24gcyhuLHIpe3JldHVybigocj90OjApfG4pPj4+MH1leHBvcnR7ciBhcyBhZ2dyZWdhdGVWYWxpZEZpbHRlcnNNYXNrLHMgYXMgY3JlYXRlRGlzcGxheUlkLG4gYXMgZGlzcGxheUlkVGV4ZWxNYXNrLGMgYXMgZGlzcGxheUlkVHlwZUFnZ3JlZ2F0ZSx1IGFzIGRpc3BsYXlJZFR5cGVGZWF0dXJlLHQgYXMgZGlzcGxheUlkVHlwZU1hc2ssaSBhcyBnZXREaXNwbGF5SWRGaWx0ZXJNYXNrLGYgYXMgZ2V0RGlzcGxheUlkVGV4ZWwsZSBhcyBnZXREaXNwbGF5SWRUeXBlLHAgYXMgaXNBZ2dyZWdhdGVJZCxvIGFzIG5vbkFnZ3JlZ2F0ZVZhbGlkRmlsdGVyc01hc2t9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtDYXBUeXBlIGFzIG4sSm9pblR5cGUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9lbnVtcy5qc1wiO2ltcG9ydHtXR0xHZW9tZXRyeVR5cGUgYXMgcyxXR0xTeW1ib2xvZ3lUeXBlIGFzIGEsVlZUeXBlIGFzIGl9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtVc2FnZSBhcyBjLERhdGFUeXBlIGFzIG8sUGl4ZWxUeXBlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgbH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhFbGVtZW50RGVzY3JpcHRvci5qc1wiO2NvbnN0IGY9dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmVuZ2luZS53ZWJnbC5VdGlsc1wiKSxtPVwiZ2VvbWV0cnlcIixkPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MTJ9XSxwPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MzZ9XSx5PVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MjR9XSxJPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MTJ9XSxTPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6NDB9XSxUPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MzZ9XSxnPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MzZ9XTtmdW5jdGlvbiB3KGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gb2YgZSl0W24ubmFtZV09bi5zdHJpZGVJbkJ5dGVzO3JldHVybiB0fWNvbnN0IEU9dyhbe25hbWU6bSxzdHJpZGVJbkJ5dGVzOjM2fV0pLGg9dyhkKSxMPXcocCksTj13KHkpLEQ9dyhJKSxBPXcoUyksTT13KFQpLFU9dyhnKTtmdW5jdGlvbiBSKGUsdCl7c3dpdGNoKGUpe2Nhc2Ugcy5NQVJLRVI6cmV0dXJuIHQ9PT1hLkhFQVRNQVA/aDpFO2Nhc2Ugcy5GSUxMOnN3aXRjaCh0KXtjYXNlIGEuRE9UX0RFTlNJVFk6cmV0dXJuIEQ7Y2FzZSBhLlNJTVBMRTpjYXNlIGEuT1VUTElORV9GSUxMX1NJTVBMRTpyZXR1cm4gTjtkZWZhdWx0OnJldHVybiBMfWNhc2Ugcy5MSU5FOnJldHVybiBBO2Nhc2Ugcy5URVhUOnJldHVybiBNO2Nhc2Ugcy5MQUJFTDpyZXR1cm4gVX19Y29uc3QgXz1bbV0sQj1bbV0sTz1bbV0sdj1bbV0sQz1bbV07ZnVuY3Rpb24gYihlKXtzd2l0Y2goZSl7Y2FzZSBzLk1BUktFUjpyZXR1cm4gXztjYXNlIHMuRklMTDpyZXR1cm4gQjtjYXNlIHMuTElORTpyZXR1cm4gTztjYXNlIHMuVEVYVDpyZXR1cm4gdjtjYXNlIHMuTEFCRUw6cmV0dXJuIEN9fWZ1bmN0aW9uIEYoZSl7c3dpdGNoKGUlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gNDtjYXNlIDE6Y2FzZSAzOnJldHVybiAxfX1mdW5jdGlvbiBQKGUsdCl7c3dpdGNoKHQlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gbmV3IFVpbnQzMkFycmF5KE1hdGguZmxvb3IoZSp0LzQpKTtjYXNlIDE6Y2FzZSAzOnJldHVybiBuZXcgVWludDhBcnJheShlKnQpfX1mdW5jdGlvbiB4KGUsdCl7c3dpdGNoKHQlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfX1mdW5jdGlvbiB6KGUpe3JldHVybiBudWxsIT1lfWZ1bmN0aW9uICQoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gayh0KXtzd2l0Y2godCl7Y2FzZVwiYnV0dFwiOnJldHVybiBuLkJVVFQ7Y2FzZVwicm91bmRcIjpyZXR1cm4gbi5ST1VORDtjYXNlXCJzcXVhcmVcIjpyZXR1cm4gbi5TUVVBUkU7ZGVmYXVsdDpyZXR1cm4gZi5lcnJvcihuZXcgZShcIm1hcHZpZXctaW52YWxpZC10eXBlXCIsYENhcCB0eXBlICR7dH0gaXMgbm90IGEgdmFsaWQgb3B0aW9uLiBEZWZhdWx0aW5nIHRvIHJvdW5kYCkpLG4uUk9VTkR9fWZ1bmN0aW9uIEcodCl7c3dpdGNoKHQpe2Nhc2VcIm1pdGVyXCI6cmV0dXJuIHIuTUlURVI7Y2FzZVwiYmV2ZWxcIjpyZXR1cm4gci5CRVZFTDtjYXNlXCJyb3VuZFwiOnJldHVybiByLlJPVU5EO2RlZmF1bHQ6cmV0dXJuIGYuZXJyb3IobmV3IGUoXCJtYXB2aWV3LWludmFsaWQtdHlwZVwiLGBKb2luIHR5cGUgJHt0fSBpcyBub3QgYSB2YWxpZCBvcHRpb24uIERlZmF1bHRpbmcgdG8gcm91bmRgKSksci5ST1VORH19ZnVuY3Rpb24gVihlKXtzd2l0Y2goZSl7Y2FzZVwib3BhY2l0eVwiOnJldHVybiBpLk9QQUNJVFk7Y2FzZVwiY29sb3JcIjpyZXR1cm4gaS5DT0xPUjtjYXNlXCJyb3RhdGlvblwiOnJldHVybiBpLlJPVEFUSU9OO2Nhc2VcInNpemVcIjpyZXR1cm4gaS5TSVpFO2RlZmF1bHQ6cmV0dXJuIGYuZXJyb3IoYENhbm5vdCBpbnRlcnByZXQgdW5rbm93biB2djogJHtlfWApLG51bGx9fWZ1bmN0aW9uIGooZSx0LG4scixzLGEsaSl7Zm9yKGNvbnN0IGMgaW4gYSl7Y29uc3QgdD1hW2NdLnN0cmlkZSxyPUYodCksaT1hW2NdLmRhdGEsbz1uW2NdLmRhdGE7aWYobnVsbD09aXx8bnVsbD09byljb250aW51ZTtjb25zdCB1PXQqcy52ZXJ0ZXhDb3VudC9yLGw9dCplL3IsZj10KnMudmVydGV4RnJvbS9yO2ZvcihsZXQgZT0wO2U8dTsrK2Upb1tlK2xdPWlbZStmXX1pZihudWxsIT1pJiZudWxsIT1yKXtjb25zdCBuPXMuaW5kZXhDb3VudDtmb3IobGV0IGE9MDthPG47KythKXJbYSt0XT1pW2Ercy5pbmRleEZyb21dLXMudmVydGV4RnJvbStlfX1jb25zdCBZPXtbbV06Yy5TVEFUSUNfRFJBV307ZnVuY3Rpb24gSChlLHQpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjw1Oysrcil7Y29uc3Qgcz1iKHIpLGE9e307Zm9yKGNvbnN0IGUgb2YgcylhW2VdPXtkYXRhOnQocixlKX07bi5wdXNoKHtkYXRhOmUociksYnVmZmVyczphfSl9cmV0dXJuIG59ZnVuY3Rpb24gcShlKXtzd2l0Y2goZSl7Y2FzZSBvLkJZVEU6Y2FzZSBvLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBvLlNIT1JUOmNhc2Ugby5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIG8uRkxPQVQ6Y2FzZSBvLklOVDpjYXNlIG8uVU5TSUdORURfSU5UOnJldHVybiA0fX1mdW5jdGlvbiBLKHQpe3N3aXRjaCh0KXtjYXNlIHUuVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIHUuVU5TSUdORURfU0hPUlRfNF80XzRfNDpyZXR1cm4gMjtjYXNlIHUuRkxPQVQ6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gdm9pZCBmLmVycm9yKG5ldyBlKFwid2ViZ2wtdXRpbHNcIixgVW5hYmxlIHRvIGhhbmRsZSB0eXBlICR7dH1gKSl9fWZ1bmN0aW9uIFcodCl7c3dpdGNoKHQpe2Nhc2UgdS5VTlNJR05FRF9CWVRFOnJldHVybiBVaW50OEFycmF5O2Nhc2UgdS5VTlNJR05FRF9TSE9SVF80XzRfNF80OnJldHVybiBVaW50MTZBcnJheTtjYXNlIHUuRkxPQVQ6cmV0dXJuIEZsb2F0MzJBcnJheTtkZWZhdWx0OnJldHVybiB2b2lkIGYuZXJyb3IobmV3IGUoXCJ3ZWJnbC11dGlsc1wiLGBVbmFibGUgdG8gaGFuZGxlIHR5cGUgJHt0fWApKX19ZnVuY3Rpb24gWChlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IHI9ZVtuXTtsZXQgcz0wO3Rbbl09ci5tYXAoKGU9Pntjb25zdCB0PW5ldyBsKGUubmFtZSxlLmNvdW50LGUudHlwZSxzLDAsZS5ub3JtYWxpemVkfHwhMSk7cmV0dXJuIHMrPWUuY291bnQqcShlLnR5cGUpLHR9KSksdFtuXT8uZm9yRWFjaCgoZT0+ZS5zdHJpZGU9cykpfXJldHVybiB0fWNvbnN0IEo9ZT0+e2NvbnN0IHQ9bmV3IE1hcDtmb3IoY29uc3QgbiBpbiBlKWZvcihjb25zdCByIG9mIGVbbl0pdC5zZXQoci5uYW1lLHIubG9jYXRpb24pO3JldHVybiB0fSxRPWU9Pntjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IHI9ZVtuXTt0W25dPXI/Lmxlbmd0aD9yWzBdLnN0cmlkZTowfXJldHVybiB0fSxaPW5ldyBNYXAsZWU9KGUsdCk9PntpZighWi5oYXMoZSkpe2NvbnN0IG49WCh0KSxyPXtzdHJpZGVzOlEobiksYnVmZmVyTGF5b3V0czpuLGF0dHJpYnV0ZXM6Sih0KX07Wi5zZXQoZSxyKX1yZXR1cm4gWi5nZXQoZSl9O2Z1bmN0aW9uIHRlKGUpe2Uocy5GSUxMKSxlKHMuTElORSksZShzLk1BUktFUiksZShzLlRFWFQpLGUocy5MQUJFTCl9Y29uc3QgbmU9ZT0+XCJwYXRoXCJpbiBlJiZwZShlLnBhdGgpLHJlPWU9PiEoIShcInVybFwiaW4gZSl8fCFlLnVybCl8fCEoIShcImltYWdlRGF0YVwiaW4gZSl8fCFlLmltYWdlRGF0YSksc2U9ZT0+XCJpbWFnZURhdGFcImluIGUmJmUuaW1hZ2VEYXRhJiZcImNvbnRlbnRUeXBlXCJpbiBlJiZlLmNvbnRlbnRUeXBlP2BkYXRhOiR7ZS5jb250ZW50VHlwZX07YmFzZTY0LCR7ZS5pbWFnZURhdGF9YDpcInVybFwiaW4gZT9lLnVybDpudWxsLGFlPWU9Pm51bGwhPWUmJmUuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2UvZ2lmXCIpLGllPWU9PlwidXJsXCJpbiBlJiZlLnVybCYmKGUudXJsLmluY2x1ZGVzKFwiLmdpZlwiKXx8YWUoZS51cmwpKXx8XCJjb250ZW50VHlwZVwiaW4gZSYmXCJpbWFnZS9naWZcIj09PWUuY29udGVudFR5cGV8fFwiaW1hZ2VEYXRhXCJpbiBlJiZhZShlLmltYWdlRGF0YSksY2U9ZT0+bnVsbCE9ZSYmZS5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9wbmdcIiksb2U9ZT0+XCJ1cmxcImluIGUmJmUudXJsJiYoZS51cmwuaW5jbHVkZXMoXCIucG5nXCIpfHxjZShlLnVybCkpfHxcImNvbnRlbnRUeXBlXCJpbiBlJiZcImltYWdlL3BuZ1wiPT09ZS5jb250ZW50VHlwZXx8XCJpbWFnZURhdGFcImluIGUmJmNlKGUuaW1hZ2VEYXRhKSx1ZT1lPT5lLnR5cGUmJmUudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiM2RcIik7ZnVuY3Rpb24gbGUoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwibGluZVwiOntjb25zdCB0PWU7cmV0dXJuXCJDSU1Tb2xpZFN0cm9rZVwiPT09dC5jaW0udHlwZSYmIXQuZGFzaFRlbXBsYXRlfWNhc2VcImZpbGxcIjpyZXR1cm5cIkNJTVNvbGlkRmlsbFwiPT09ZS5jaW0udHlwZTtjYXNlXCJlc3JpU0ZTXCI6cmV0dXJuXCJlc3JpU0ZTU29saWRcIj09PWUuc3R5bGV8fFwiZXNyaVNGU051bGxcIj09PWUuc3R5bGU7Y2FzZVwiZXNyaVNMU1wiOnJldHVyblwiZXNyaVNMU1NvbGlkXCI9PT1lLnN0eWxlfHxcImVzcmlTTFNOdWxsXCI9PT1lLnN0eWxlO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGZlKGUpe3N3aXRjaChcImNpbVwiaW4gZT9lLmNpbS50eXBlOmUudHlwZSl7Y2FzZVwiZXNyaVNNU1wiOmNhc2VcImVzcmlQTVNcIjpjYXNlXCJDSU1Qb2ludFN5bWJvbFwiOnJldHVybiExO2Nhc2VcIkNJTVZlY3Rvck1hcmtlclwiOmNhc2VcIkNJTUNoYXJhY3Rlck1hcmtlclwiOmNhc2VcIkNJTVBpY3R1cmVNYXJrZXJcIjpyZXR1cm4geWUoZSk7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gbWUoZSl7Y29uc3QgdD1cIm1heFZWU2l6ZVwiaW4gZSYmZS5tYXhWVlNpemUsbj1cIndpZHRoXCJpbiBlJiZlLndpZHRofHxcInNpemVcImluIGUmJmUuc2l6ZXx8MDtyZXR1cm4gdHx8bn1mdW5jdGlvbiBkZShlKXtjb25zdCB0PVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fWNvbnN0IHBlPWU9PiEhZSYmKGU9ZS50cmltKCksISEoL15bbXpsaHZjc3F0YV1cXHMqWy0rLjAtOV1bXm1saHZ6Y3NxdGFdKy9pLnRlc3QoZSkmJi9bXFxkel0kL2kudGVzdChlKSYmZS5sZW5ndGg+NCkpLHllPWU9PlwiZmlsbFwiPT09ZS50eXBlJiZcIkNJTU1hcmtlclBsYWNlbWVudEluc2lkZVBvbHlnb25cIj09PWU/LmNpbT8ubWFya2VyUGxhY2VtZW50Py50eXBlO2V4cG9ydHtQIGFzIGFsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcix4IGFzIGFsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcndpdGhEYXRhLFkgYXMgY1Zib0luZm8sZGUgYXMgY2hhckNvZGVzLGogYXMgY29weU1lc2hEYXRhLEggYXMgY3JlYXRlR2VvbWV0cnlEYXRhLGVlIGFzIGNyZWF0ZVByb2dyYW1EZXNjcmlwdG9yLHRlIGFzIGZvckVhY2hHZW9tZXRyeVR5cGUscSBhcyBnZXRCeXRlcyxrIGFzIGdldENhcFR5cGUsRyBhcyBnZXRKb2luVHlwZSxiIGFzIGdldE5hbWVkQnVmZmVycyxtZSBhcyBnZXRQTVNSZXNvdXJjZVNpemUsVyBhcyBnZXRQaXhlbEFycmF5Q3RvcixLIGFzIGdldFBpeGVsQnl0ZXMsUiBhcyBnZXRTdHJpZGVzLHNlIGFzIGdldFVybCxWIGFzIGdldFZWVHlwZSx1ZSBhcyBpczNELHogYXMgaXNEZWZpbmVkLGllIGFzIGlzR0lGLGFlIGFzIGlzR0lGRGF0YVVyaSxyZSBhcyBpc0ltYWdlUmVzb3VyY2UseWUgYXMgaXNNYXJrZXJQbGFjZW1lbnRJbnNpZGVQb2x5Z29uLCQgYXMgaXNOdW1iZXIsb2UgYXMgaXNQTkcsY2UgYXMgaXNQTkdEYXRhVXJpLG5lIGFzIGlzU1ZHUmVzb3VyY2UsbGUgYXMgaXNTaW1wbGUscGUgYXMgaXNWYWxpZFNWRyxmZSBhcyBzaG91bGRSZXBlYXQsRiBhcyBzdHJpZGVUb1BhY2tpbmdGYWN0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpODg4OHRvMzIgYXMgbn1mcm9tXCIuL251bWJlci5qc1wiO2Z1bmN0aW9uIHIobixyPTAsdD0hMSl7Y29uc3Qgbz1uW3IrM107cmV0dXJuIG5bcl0qPW8sbltyKzFdKj1vLG5bcisyXSo9byx0fHwobltyKzNdKj0yNTUpLG59ZnVuY3Rpb24gdChyKXtpZighcilyZXR1cm4gMDtjb25zdHtyOnQsZzpvLGI6dSxhOml9PXI7cmV0dXJuIG4odCppLG8qaSx1KmksMjU1KmkpfWZ1bmN0aW9uIG8ocil7aWYoIXIpcmV0dXJuIDA7Y29uc3RbdCxvLHUsaV09cjtyZXR1cm4gbih0KihpLzI1NSksbyooaS8yNTUpLHUqKGkvMjU1KSxpKX1mdW5jdGlvbiB1KG4scix0PTApe2lmKG51bGw9PXIpcmV0dXJuIG5bdF09MCxuW3QrMV09MCxuW3QrMl09MCx2b2lkKG5bdCszXT0wKTtjb25zdHtyOm8sZzp1LGI6aSxhOmN9PXI7blt0XT1vKmMvMjU1LG5bdCsxXT11KmMvMjU1LG5bdCsyXT1pKmMvMjU1LG5bdCszXT1jfWV4cG9ydHtyIGFzIHByZW11bHRpcGx5QWxwaGEsdCBhcyBwcmVtdWx0aXBseUFscGhhUkdCQSxvIGFzIHByZW11bHRpcGx5QWxwaGFSR0JBQXJyYXksdSBhcyB3cml0ZUNvbG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7Y29uc3QgZT04LHI9ZS0yLHQ9MWUtMzAsbz02NCxhPTQyOTQ5NjcyOTUsYz01MTIsZD0yNTYsZj0yNTYvMzYwLGg9MTI4LGk9NTExLG09MTY3NzcyMTYscz0hMSxwPTEyOCxsPTgsbj0xMCx3PTI5LHg9MSxnPTE2LGo9MTYsaz1jL3AsdT04LHY9NTAseT0xMCxiPTI0LHE9OCx6PXttZXRyaWNzOnt3aWR0aDoxNSxoZWlnaHQ6MTcsbGVmdDowLHRvcDotNyxhZHZhbmNlOjE0fX0sQT0xMDI0LEI9MCxDPTAsRD0wLEU9MSxGPTIsRz0zLEg9NCxJPTUsSj02LEs9MTIsTD01LE09NixOPTUsTz02LFA9MCxRPTEsUj0yLFM9MyxUPTMsVT00LFY9MixXPTEsWD0yLFk9NCxaPSExLCQ9MS4wNSxfPWhhcyhcImZlYXR1cmVsYXllci1mb3JjZS1tYXJrZXItdGV4dC1kcmF3LW9yZGVyXCIpPy41OjMsZWU9NSxyZT02LHRlPTEuMTUsb2U9MixhZT0yLGNlPTEyOC0yKmFlLGRlPTgsZmU9NTAwLGhlPTQsaWU9MTI4LG1lPTEwLHNlPTEwMjQscGU9MixsZT0wLG5lPTEsd2U9NCx4ZT04LGdlPTE2LGplPTQsa2U9MSx1ZT00LHZlPTgseWU9MzIsYmU9NjQscWU9MTI4LHplPTQsQWU9MjtleHBvcnR7ZiBhcyBhbmdsZUZhY3RvcjI1NixRIGFzIGF0dHJpYnV0ZURhdGFBbmltYXRpb24sVCBhcyBhdHRyaWJ1dGVEYXRhRGQwLFUgYXMgYXR0cmlidXRlRGF0YURkMSxQIGFzIGF0dHJpYnV0ZURhdGFGaWx0ZXJGbGFncyxSIGFzIGF0dHJpYnV0ZURhdGFHcGdwdSxTIGFzIGF0dHJpYnV0ZURhdGFWdixBIGFzIGF0dHJpYnV0ZVN0b3JlVGV4dHVyZVNpemUseiBhcyBhdmVyYWdlR2x5cGhNb3NhaWNJdGVtLHllIGFzIGJpdHNldEZpbGxIYXNQYXR0ZXJuSGVpZ2h0UHJlY2lzaW9uRmFjdG9yLGJlIGFzIGJpdHNldEZpbGxIYXNQYXR0ZXJuV2lkdGhQcmVjaXNpb25GYWN0b3IsdmUgYXMgYml0c2V0RmlsbEhhc1VucmVzb2x2ZWRSZXBsYWNlbWVudENvbG9yLHVlIGFzIGJpdHNldEZpbGxSYW5kb21QYXR0ZXJuT2Zmc2V0LGdlIGFzIGJpdHNldEdlbmVyaWNDb25zaWRlckFscGhhT25seSxwZSBhcyBiaXRzZXRHZW5lcmljTG9ja0NvbG9yLGplIGFzIGJpdHNldExpbmVTY2FsZURhc2gsbmUgYXMgYml0c2V0TWFya2VyQWxpZ25tZW50TWFwLGxlIGFzIGJpdHNldE1hcmtlckFsaWdubWVudFNjcmVlbix3ZSBhcyBiaXRzZXRNYXJrZXJPdXRsaW5lQWxsb3dDb2xvck92ZXJyaWRlLHhlIGFzIGJpdHNldE1hcmtlclNjYWxlU3ltYm9sc1Byb3BvcnRpb25hbGx5LGtlIGFzIGJpdHNldFR5cGVGaWxsT3V0bGluZSxpZSBhcyBidWZmZXJEYXRhTWluaW11bVNpemUsaGUgYXMgYnVmZmVyRGF0YVBvb2xTaXplLG4gYXMgY2hhcnRNYXhGaWVsZHMsaiBhcyBjb2xsaXNpb25Cb3hQYWRkaW5nLHAgYXMgY29sbGlzaW9uQnVja2V0U2l6ZSxnIGFzIGNvbGxpc2lvbkVhcmx5UmVqZWN0QnVja2V0U2l6ZSx4IGFzIGNvbGxpc2lvbk1heFpvb21EZWx0YSx1IGFzIGNvbGxpc2lvblBsYWNlbWVudFBhZGRpbmcsayBhcyBjb2xsaXNpb25UaWxlQm94U2l6ZSxoIGFzIGNvbXByZXNzaW9uRmFjdG9yRm9yVTE2LHMgYXMgZGVidWdMYWJlbHMsZGUgYXMgZGlzcGxheVJlY29yZEludFBlckVsZW1lbnQsbCBhcyBkb3REZW5zaXR5TWF4RmllbGRzLFkgYXMgZWZmZWN0RmxhZzAsWiBhcyBlbmFibGVFYXJseUxhYmVsRGlzY2FyZCxvIGFzIGV4dHJ1ZGVTY2FsZSxYIGFzIGZpbHRlckZsYWcwLGIgYXMgZ2x5cGhTaXplLHkgYXMgaGV1cmlzdGljR2x5cGhzUGVyRmVhdHVyZSx2IGFzIGhldXJpc3RpY0dseXBoc1BlckxpbmUsVyBhcyBoaWdobGlnaHRGbGFnLF8gYXMgaGl0dGVzdFJhZGl1cyx3IGFzIG1hZ2ljTGFiZWxMaW5lSGVpZ2h0LFYgYXMgbWF4RmlsdGVycyxvZSBhcyBtYXhHcHVVcGxvYWRzUGVyRnJhbWUsbSBhcyBtYXhSZXByZXNlbnRhYmxlSW50LGkgYXMgbWF4U2l6ZUZvclUxNkNvbXByZXNzaW9uLG1lIGFzIG1pbk1heFpvb21QcmVjaXNpb25GYWN0b3IsdCBhcyBuYW5NYWdpY051bWJlcixmZSBhcyBwYXRjaFBpeGVsQnVmZmVyQWxsb2NTaXplLEFlIGFzIHBhdHRlcm5GaWxsUmFzdGVyaXphdGlvblNjYWxlLGEgYXMgcGljdHVyZUZpbGxDb2xvcixzZSBhcyByYW5kb21JbnNpZGVQb2x5Z29uVGV4dHVyZVNpemUsZCBhcyByYXN0ZXJUaWxlU2l6ZSxjZSBhcyBzZGZUZXh0dXJlU2l6ZSxhZSBhcyBzcHJpdGVQYWRkaW5nLHEgYXMgdGV4dFBsYWNlbWVudFBhZGRpbmcsRSBhcyB0ZXh0dXJlQmluZGluZ0F0dHJpYnV0ZURhdGEwLEYgYXMgdGV4dHVyZUJpbmRpbmdBdHRyaWJ1dGVEYXRhMSxHIGFzIHRleHR1cmVCaW5kaW5nQXR0cmlidXRlRGF0YTIsSCBhcyB0ZXh0dXJlQmluZGluZ0F0dHJpYnV0ZURhdGEzLEkgYXMgdGV4dHVyZUJpbmRpbmdBdHRyaWJ1dGVEYXRhNCxKIGFzIHRleHR1cmVCaW5kaW5nQXR0cmlidXRlRGF0YTUsRCBhcyB0ZXh0dXJlQmluZGluZ0JpdG1hcCxDIGFzIHRleHR1cmVCaW5kaW5nR2x5cGhBdGxhcyxLIGFzIHRleHR1cmVCaW5kaW5nR3BncHUsTCBhcyB0ZXh0dXJlQmluZGluZ0hpZ2hsaWdodDAsTSBhcyB0ZXh0dXJlQmluZGluZ0hpZ2hsaWdodDEsTiBhcyB0ZXh0dXJlQmluZGluZ1JlbmRlcmVyMCxPIGFzIHRleHR1cmVCaW5kaW5nUmVuZGVyZXIxLEIgYXMgdGV4dHVyZUJpbmRpbmdTcHJpdGVBdGxhcyx6ZSBhcyB0ZXh0dXJlVXBsb2FkTWFuYWdlckJ1ZGdldCxxZSBhcyB0ZXh0dXJlVXBsb2FkTWFuYWdlckNodW5rU2l6ZSwkIGFzIHRoaW5MaW5lSGFsZldpZHRoVGhyZXNob2xkLGMgYXMgdGlsZVNpemUsdGUgYXMgdnRsSGlnaFJlc0N1dG9mZixyZSBhcyB2dGxUZXh0dXJlQmluZGluZ1VuaXRHbHlwaHMsZWUgYXMgdnRsVGV4dHVyZUJpbmRpbmdVbml0U3ByaXRlcyxyIGFzIHdlYmdsTWF4SW5uZXJTdG9wcyxlIGFzIHdlYmdsTWF4U3RvcHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBFLFQsSSxMLEEsXyxTOyFmdW5jdGlvbihFKXtFW0UuRklMTD0wXT1cIkZJTExcIixFW0UuTElORT0xXT1cIkxJTkVcIixFW0UuTUFSS0VSPTJdPVwiTUFSS0VSXCIsRVtFLlRFWFQ9M109XCJURVhUXCIsRVtFLkxBQkVMPTRdPVwiTEFCRUxcIn0oRXx8KEU9e30pKSxmdW5jdGlvbihFKXtFW0UuTk9ORT0wXT1cIk5PTkVcIixFW0UuTUFQPTFdPVwiTUFQXCIsRVtFLkxBQkVMPTJdPVwiTEFCRUxcIixFW0UuTEFCRUxfQUxQSEE9NF09XCJMQUJFTF9BTFBIQVwiLEVbRS5ISVRURVNUPThdPVwiSElUVEVTVFwiLEVbRS5ISUdITElHSFQ9MTZdPVwiSElHSExJR0hUXCIsRVtFLkNMSVA9MzJdPVwiQ0xJUFwiLEVbRS5ERUJVRz02NF09XCJERUJVR1wiLEVbRS5OVU1fRFJBV19QSEFTRVM9OV09XCJOVU1fRFJBV19QSEFTRVNcIn0oVHx8KFQ9e30pKSxmdW5jdGlvbihFKXtFW0UuU0laRT0wXT1cIlNJWkVcIixFW0UuQ09MT1I9MV09XCJDT0xPUlwiLEVbRS5PUEFDSVRZPTJdPVwiT1BBQ0lUWVwiLEVbRS5ST1RBVElPTj0zXT1cIlJPVEFUSU9OXCJ9KEl8fChJPXt9KSksZnVuY3Rpb24oRSl7RVtFLk5PTkU9MF09XCJOT05FXCIsRVtFLk9QQUNJVFk9MV09XCJPUEFDSVRZXCIsRVtFLkNPTE9SPTJdPVwiQ09MT1JcIixFW0UuUk9UQVRJT049NF09XCJST1RBVElPTlwiLEVbRS5TSVpFX01JTk1BWF9WQUxVRT04XT1cIlNJWkVfTUlOTUFYX1ZBTFVFXCIsRVtFLlNJWkVfU0NBTEVfU1RPUFM9MTZdPVwiU0laRV9TQ0FMRV9TVE9QU1wiLEVbRS5TSVpFX0ZJRUxEX1NUT1BTPTMyXT1cIlNJWkVfRklFTERfU1RPUFNcIixFW0UuU0laRV9VTklUX1ZBTFVFPTY0XT1cIlNJWkVfVU5JVF9WQUxVRVwifShMfHwoTD17fSkpLGZ1bmN0aW9uKEUpe0VbRS5NSU5NQVhfVEFSR0VUU19PVVRMSU5FPTEyOF09XCJNSU5NQVhfVEFSR0VUU19PVVRMSU5FXCIsRVtFLlNDQUxFX1RBUkdFVFNfT1VUTElORT0yNTZdPVwiU0NBTEVfVEFSR0VUU19PVVRMSU5FXCIsRVtFLkZJRUxEX1RBUkdFVFNfT1VUTElORT01MTJdPVwiRklFTERfVEFSR0VUU19PVVRMSU5FXCIsRVtFLlVOSVRfVEFSR0VUU19PVVRMSU5FPTEwMjRdPVwiVU5JVF9UQVJHRVRTX09VVExJTkVcIn0oQXx8KEE9e30pKSxmdW5jdGlvbihFKXtFW0UuU1BSSVRFPTBdPVwiU1BSSVRFXCIsRVtFLkdMWVBIPTFdPVwiR0xZUEhcIn0oX3x8KF89e30pKSxmdW5jdGlvbihFKXtFW0UuREVGQVVMVD0wXT1cIkRFRkFVTFRcIixFW0UuU0lNUExFPTFdPVwiU0lNUExFXCIsRVtFLkRPVF9ERU5TSVRZPTJdPVwiRE9UX0RFTlNJVFlcIixFW0UuT1VUTElORV9GSUxMPTNdPVwiT1VUTElORV9GSUxMXCIsRVtFLk9VVExJTkVfRklMTF9TSU1QTEU9NF09XCJPVVRMSU5FX0ZJTExfU0lNUExFXCIsRVtFLkhFQVRNQVA9NV09XCJIRUFUTUFQXCIsRVtFLlBJRV9DSEFSVD02XT1cIlBJRV9DSEFSVFwifShTfHwoUz17fSkpO2V4cG9ydHtfIGFzIE1vc2FpY1R5cGUsSSBhcyBWVlR5cGUsVCBhcyBXR0xEcmF3UGhhc2UsRSBhcyBXR0xHZW9tZXRyeVR5cGUsUyBhcyBXR0xTeW1ib2xvZ3lUeXBlLEwgYXMgV0dMVlZGbGFnLEEgYXMgV0dMVlZUYXJnZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49bmV3IEZsb2F0MzJBcnJheSgxKSxyPW5ldyBVaW50MzJBcnJheShuLmJ1ZmZlcik7ZnVuY3Rpb24gdChuLHIsdCl7cmV0dXJuIE1hdGgucm91bmQoTWF0aC5tYXgoTWF0aC5taW4obix0KSxyKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdChuLC0xMjgsMTI3KX1mdW5jdGlvbiBlKG4pe3JldHVybiB0KG4sLTMyNzY4LDMyNzY3KX1mdW5jdGlvbiBvKG4pe3JldHVybiB0KG4sLTIxNDc0ODM2NDgsMjE0NzQ4MzY0Nyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gdChuLDAsMjU1KX1mdW5jdGlvbiBpKG4pe3JldHVybiB0KG4sMCw2NTUzNSl9ZnVuY3Rpb24gYyhuKXtyZXR1cm4gdChuLDAsNDI5NDk2NzI5NSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gblswXT10LHJbMF19ZnVuY3Rpb24gaCh0KXtyZXR1cm4gclswXT10LG5bMF19ZnVuY3Rpb24gTShuKXtyZXR1cm5bMjU1Jm4sKDY1MjgwJm4pPj4+OCwoMTY3MTE2ODAmbik+Pj4xNiwoNDI3ODE5MDA4MCZuKT4+PjI0XX1mdW5jdGlvbiBtKG4scil7cmV0dXJuIDE1Jm58KDE1JnIpPDw0fWZ1bmN0aW9uIHcobixyKXtyZXR1cm4gNjU1MzUmbnxyPDwxNn1mdW5jdGlvbiB4KG4scix0LHUpe3JldHVybiAyNTUmbnwoMjU1JnIpPDw4fCgyNTUmdCk8PDE2fHU8PDI0fWZ1bmN0aW9uIHkobixyLHQpe3JldHVybiAyNTUmbnwoMjU1JnIpPDw4fHQ8PDE2fWZ1bmN0aW9uIEEobil7cmV0dXJuIDB8bn1leHBvcnR7ZSBhcyBpMTYsdyBhcyBpMTYxNnRvMzIsbyBhcyBpMzIsdSBhcyBpOCx5IGFzIGk4ODE2dG8zMix4IGFzIGk4ODg4dG8zMixBIGFzIG51bVRvMzIsaCBhcyB0b0Zsb2F0MzIsYSBhcyB0b1VpbnQzMixpIGFzIHUxNixjIGFzIHUzMixNIGFzIHUzMnRvNFh1OCxtIGFzIHU0dTR0bzgsZiBhcyB1OH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj0obixsKT0+biYmKCguLi5uKT0+bC53YXJuKFwiREVCVUc6XCIsLi4ubikpfHwoKCk9Pm51bGwpLGw9ITE7ZXhwb3J0e24gYXMgY3JlYXRlRGVidWdMb2dnZXIsbCBhcyBkZWJ1Z0F0dHJVcGRhdGVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7V0dMVlZGbGFnIGFzIGl9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtpc051bWJlciBhcyByfWZyb21cIi4vVXRpbHMuanNcIjtmdW5jdGlvbiBsKGwpe3JldHVybiByKGwubWluRGF0YVZhbHVlKSYmcihsLm1heERhdGFWYWx1ZSkmJm51bGwhPWwubWluU2l6ZSYmbnVsbCE9bC5tYXhTaXplP2kuU0laRV9NSU5NQVhfVkFMVUU6KGwuZXhwcmVzc2lvbiYmXCJ2aWV3LnNjYWxlXCI9PT1sLmV4cHJlc3Npb258fGwudmFsdWVFeHByZXNzaW9uJiZcIiR2aWV3LnNjYWxlXCI9PT1sLnZhbHVlRXhwcmVzc2lvbikmJkFycmF5LmlzQXJyYXkobC5zdG9wcyk/aS5TSVpFX1NDQUxFX1NUT1BTOihudWxsIT1sLmZpZWxkfHxsLmV4cHJlc3Npb24mJlwidmlldy5zY2FsZVwiIT09bC5leHByZXNzaW9ufHxsLnZhbHVlRXhwcmVzc2lvbiYmXCIkdmlldy5zY2FsZVwiIT09bC52YWx1ZUV4cHJlc3Npb24pJiYoQXJyYXkuaXNBcnJheShsLnN0b3BzKXx8XCJsZXZlbHNcImluIGwmJmwubGV2ZWxzKT9pLlNJWkVfRklFTERfU1RPUFM6KG51bGwhPWwuZmllbGR8fGwuZXhwcmVzc2lvbiYmXCJ2aWV3LnNjYWxlXCIhPT1sLmV4cHJlc3Npb258fGwudmFsdWVFeHByZXNzaW9uJiZcIiR2aWV3LnNjYWxlXCIhPT1sLnZhbHVlRXhwcmVzc2lvbikmJm51bGwhPWwudmFsdWVVbml0P2kuU0laRV9VTklUX1ZBTFVFOihzLmdldExvZ2dlcihcImVzcmkudmlld3MuMmQuZW5naW5lLndlYmdsXCIpLmVycm9yKG5ldyBlKFwibWFwdmlldy1iYWQtdHlwZVwiLFwiRm91bmQgaW52YWxpZCBzaXplIFZpc3VhbFZhcmlhYmxlXCIsbCkpLGkuTk9ORSl9ZXhwb3J0e2wgYXMgZ2V0VHlwZU9mU2l6ZVZpc3VhbFZhcmlhYmxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHt3YXRjaCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydHtsb2FkUHJvY2Vzc29yTW9kdWxlIGFzIG59ZnJvbVwiLi9wcm9jZXNzb3JzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9jb250cm9sbGVycy9GZWF0dXJlQ29udHJvbGxlcjJELmpzXCI7aW1wb3J0IGMgZnJvbVwiLi9zdXBwb3J0L1RpbGVTdG9yZS5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBwfWZyb21cIi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlSW5mb1ZpZXcuanNcIjtsZXQgZD1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29udHJvbGxlcj1udWxsLHRoaXMucHJvY2Vzc29yPW51bGwsdGhpcy5yZW1vdGVDbGllbnQ9bnVsbCx0aGlzLnRpbGVTdG9yZT1udWxsLHRoaXMuc2VydmljZT1udWxsLHRoaXMudmlld1N0YXRlPW51bGwsdGhpcy5fcGF1c2VkPSExLHRoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcz1bXX1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFtyKCgoKT0+dGhpcy51cGRhdGluZyksKGU9Pnt0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJzZXRVcGRhdGluZ1wiLGUpLmNhdGNoKChlPT57fSkpfSkpXSl9ZGVzdHJveSgpe3RoaXMuc3RvcCgpLHRoaXMuY29udHJvbGxlcj8uZGVzdHJveSgpLHRoaXMucHJvY2Vzc29yPy5kZXN0cm95KCksdGhpcy5jb250cm9sbGVyPXRoaXMucHJvY2Vzc29yPXRoaXMudGlsZVN0b3JlPXRoaXMucmVtb3RlQ2xpZW50PW51bGx9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIXRoaXMuY29udHJvbGxlcnx8dGhpcy5jb250cm9sbGVyLnVwZGF0aW5nfXN0b3AoKXt0aGlzLl9wYXVzZWQ9ITAsQXJyYXkuaXNBcnJheSh0aGlzLnNlcnZpY2U/LnNvdXJjZSkmJih0aGlzLnNlcnZpY2Uuc291cmNlLmZvckVhY2goKGU9PmUuY2xvc2UoKSkpLHRoaXMuc2VydmljZS5zb3VyY2UubGVuZ3RoPTApLHRoaXMudGlsZVN0b3JlPy51cGRhdGVUaWxlcyh7YWRkZWQ6W10scmVtb3ZlZDp0aGlzLnRpbGVTdG9yZS50aWxlcy5tYXAoKGU9PmUuaWQpKX0pLHRoaXMudGlsZVN0b3JlPy5kZXN0cm95KCksdGhpcy50aWxlU3RvcmU9bnVsbCx0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMubGVuZ3RoPTB9YXN5bmMgc3RhcnR1cCh7c2VydmljZTplLGNvbmZpZzp0LHRpbGVJbmZvOnIsdGlsZXM6c30pe2lmKHRoaXMuX3BhdXNlZD0hMCxBcnJheS5pc0FycmF5KHRoaXMuc2VydmljZT8uc291cmNlKSYmKHRoaXMuc2VydmljZS5zb3VyY2UuZm9yRWFjaCgoZT0+ZS5jbG9zZSgpKSksdGhpcy5zZXJ2aWNlLnNvdXJjZS5sZW5ndGg9MCksdGhpcy5zZXJ2aWNlPWUsIXRoaXMudGlsZVN0b3JlfHwhaSh0aGlzLnRpbGVTdG9yZS50aWxlU2NoZW1lLnNwYXRpYWxSZWZlcmVuY2Usci5zcGF0aWFsUmVmZXJlbmNlKSl7Y29uc3QgZT1uZXcgaChsLmZyb21KU09OKHIpKTtzLmFkZGVkLmxlbmd0aD1zLnJlbW92ZWQubGVuZ3RoPTAsdGhpcy50aWxlU3RvcmU/LnVwZGF0ZVRpbGVzKHthZGRlZDpbXSxyZW1vdmVkOnRoaXMudGlsZVN0b3JlLnRpbGVzLm1hcCgoZT0+ZS5pZCkpfSksdGhpcy50aWxlU3RvcmU/LmRlc3Ryb3koKSx0aGlzLnRpbGVTdG9yZT1uZXcgYyhlKSx0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMubGVuZ3RoPTB9Zm9yKGF3YWl0IHRoaXMuX2NyZWF0ZVByb2Nlc3NvckFuZENvbnRyb2xsZXIodCksYXdhaXQgdGhpcy51cGRhdGUoe2NvbmZpZzp0fSksdGhpcy5jb250cm9sbGVyLnJlc3VtZSgpLHRoaXMudGlsZVN0b3JlLmNsZWFyKCksdGhpcy50aWxlU3RvcmUudXBkYXRlVGlsZXMocyksdGhpcy5fcGF1c2VkPSExO3RoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcy5sZW5ndGg7KXRoaXMudGlsZVN0b3JlLnVwZGF0ZVRpbGVzKHRoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcy5wb3AoKSl9YXN5bmMgdXBkYXRlVGlsZXMoZSl7dGhpcy5fcGF1c2VkP3RoaXMuX3BlbmRpbmdUaWxlVXBkYXRlcy5wdXNoKGUpOnRoaXMudGlsZVN0b3JlPy51cGRhdGVUaWxlcyhlKX1hc3luYyB1cGRhdGUoe2NvbmZpZzplfSl7Y29uc3QgdD1wLmVtcHR5KCk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnByb2Nlc3Nvci51cGRhdGUodCxlKSx0aGlzLmNvbnRyb2xsZXIudXBkYXRlKHQsZSldKSx0LnRvSlNPTigpfWFzeW5jIGFwcGx5VXBkYXRlKGUpe3JldHVybiB0aGlzLmNvbnRyb2xsZXIuYXBwbHlVcGRhdGUocC5jcmVhdGUoZSkpfWFzeW5jIF9jcmVhdGVQcm9jZXNzb3JBbmRDb250cm9sbGVyKGUpe2F3YWl0IFByb21pc2UuYWxsKFt0aGlzLl9oYW5kbGVDb250cm9sbGVyQ29uZmlnKGUpLHRoaXMuX2hhbmRsZVByb2Nlc3NvckNvbmZpZyhlKV0pLHRoaXMuY29udHJvbGxlci5wcm9jZXNzb3I9dGhpcy5wcm9jZXNzb3J9YXN5bmMgX2hhbmRsZUNvbnRyb2xsZXJDb25maWcoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZUNvbnRyb2xsZXIodGhpcy5zZXJ2aWNlLGUpfWFzeW5jIF9oYW5kbGVQcm9jZXNzb3JDb25maWcoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVByb2Nlc3Nvcih0aGlzLnNlcnZpY2UsZSl9YXN5bmMgX2NyZWF0ZUNvbnRyb2xsZXIoZSx0KXt0aGlzLmNvbnRyb2xsZXImJih0aGlzLmNvbnRyb2xsZXIuZGVzdHJveSgpLHRoaXMucmVtb3ZlSGFuZGxlcyhcImNvbnRyb2xsZXJcIikpO2NvbnN0e3RpbGVTdG9yZTpzLHJlbW90ZUNsaWVudDpvfT10aGlzLGk9bmV3IGEoe3NlcnZpY2U6ZSx0aWxlU3RvcmU6cyxyZW1vdGVDbGllbnQ6b30pLGw9cigoKCk9PmkuZGF0YVVwZGF0aW5nKSwoZT0+e3RoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInNldERhdGFVcGRhdGluZ1wiLGUpLmNhdGNoKChlPT57fSkpfSkpO3JldHVybiB0aGlzLmFkZEhhbmRsZXMobCxcImNvbnRyb2xsZXJcIiksdGhpcy5jb250cm9sbGVyPWksaX1hc3luYyBfY3JlYXRlUHJvY2Vzc29yKGUsdCl7Y29uc3Qgcj10LnNjaGVtYS5wcm9jZXNzb3JzWzBdLnR5cGUscz0oYXdhaXQgbihyKSkuZGVmYXVsdCx7cmVtb3RlQ2xpZW50Om8sdGlsZVN0b3JlOml9PXRoaXMsbD1uZXcgcyh7c2VydmljZTplLGNvbmZpZzp0LHRpbGVTdG9yZTppLHJlbW90ZUNsaWVudDpvfSk7cmV0dXJuIHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci5kZXN0cm95KCksdGhpcy5wcm9jZXNzb3I9bCxsfX07ZShbcygpXSxkLnByb3RvdHlwZSxcImNvbnRyb2xsZXJcIix2b2lkIDApLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJwcm9jZXNzb3JcIix2b2lkIDApLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJ2aWV3U3RhdGVcIix2b2lkIDApLGQ9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLlBpcGVsaW5lXCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2lnbm9yZUFib3J0RXJyb3JzIGFzIHMsYWZ0ZXIgYXMgaSx0aHJvd0lmQWJvcnRlZCBhcyBhLHRocm93SWZOb3RBYm9ydEVycm9yIGFzIG8saXNBYm9ydEVycm9yIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbiBhcyB1LHdhdGNoIGFzIGcsd2hlbk9uY2UgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0dlb21ldHJ5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e3V0YyBhcyBtfWZyb21cIi4uLy4uLy4uLy4uLy4uL3RpbWUvdGltZVpvbmVVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU3RvcmUyRCBhcyBTfWZyb21cIi4uL0ZlYXR1cmVTdG9yZTJELmpzXCI7aW1wb3J0e2NyZWF0ZVNvdXJjZSBhcyBffWZyb21cIi4uL3NvdXJjZXMvY3JlYXRlU291cmNlLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vc3VwcG9ydC9BdHRyaWJ1dGVTdG9yZS5qc1wiO2ltcG9ydHtCaW5TdG9yZSBhcyB2fWZyb21cIi4uL3N1cHBvcnQvQmluU3RvcmUuanNcIjtpbXBvcnR7Q2x1c3RlclN0b3JlIGFzIEl9ZnJvbVwiLi4vc3VwcG9ydC9DbHVzdGVyU3RvcmUuanNcIjtpbXBvcnR7Q29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlIGFzIFF9ZnJvbVwiLi4vc3VwcG9ydC9Db21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgQ31mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIEZ9ZnJvbVwiLi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2ltcG9ydHtRdWV1ZVByb2Nlc3NvciBhcyBFfWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvUXVldWVQcm9jZXNzb3IuanNcIjtjb25zdCB3PTVlMyx4PVwidGlsZVJlbmRlcmVyLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3LmluaXRpYWxpemVcIixUPVwidGlsZVJlbmRlcmVyLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3LnJlcXVlc3RVcGRhdGVcIixBPVwidGlsZVJlbmRlcmVyLmZlYXR1cmVzVmlldy5yZXF1ZXN0UmVuZGVyXCI7ZnVuY3Rpb24gaihlKXtyZXR1cm5cIndvcmtlcjpwb3J0LWNsb3NlZFwiPT09ZS5uYW1lfWZ1bmN0aW9uIGsoZSl7aWYoIW4oZSkmJiFqKGUpKXRocm93IGV9ZnVuY3Rpb24gVShlKXtyZXR1cm5cImZlYXR1cmVcIj09PWUudHlwZSYmXCJzbmFwc2hvdFwiPT09ZS5tb2RlfWxldCBSPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fc3RvcmFnZT1uZXcgUSx0aGlzLl9tYXJrZWRJZHNCdWZJZD10aGlzLl9zdG9yYWdlLmNyZWF0ZUJpdHNldCgpLHRoaXMuX2xhc3RDbGVhbnVwPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX2NsZWFudXBOZWVkZWQ9ITEsdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5fdGlsZVRvUmVzb2x2ZXI9bmV3IE1hcCx0aGlzLl9kaWRFZGl0PSExLHRoaXMuX3VwZGF0ZVZlcnNpb249MSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGMsdGhpcy50aWxlU3RvcmU9bnVsbCx0aGlzLmNvbmZpZz1udWxsLHRoaXMucHJvY2Vzc29yPW51bGwsdGhpcy5yZW1vdGVDbGllbnQ9bnVsbCx0aGlzLnNlcnZpY2U9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5faW5pdFN0b3JlcygpLHRoaXMuX2luaXRTb3VyY2UoKSx0aGlzLl91cGRhdGVRdWV1ZT1uZXcgRSh7Y29uY3VycmVuY3k6XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlPzE6NCxwcm9jZXNzOihlLHQpPT50aGlzLl9vblRpbGVNZXNzYWdlKGUse3NpZ25hbDp0fSl9KSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMudGlsZVN0b3JlLm9uKFwidXBkYXRlXCIsdGhpcy5vblRpbGVVcGRhdGUuYmluZCh0aGlzKSksdSgoKCk9PiF0aGlzLnVwZGF0aW5nKSwoKCk9PnRoaXMub25JZGxlKCkpKV0pfV9pbml0U291cmNlKCl7Y29uc3QgZT10aGlzLnRpbGVTdG9yZS50aWxlU2NoZW1lLHQ9KCk9PnRoaXMuX3VwZGF0ZVF1ZXVlJiZ0aGlzLl91cGRhdGVRdWV1ZS5sZW5ndGg8NTAscj0oZSx0KT0+KHRoaXMuX2ludmFsaWRhdGVkPSEwLHRoaXMuX3BhdGNoVGlsZShlLHQpKTt0aGlzLl9zb3VyY2U9Xyh0aGlzLnNlcnZpY2Usey4uLnRoaXMuc2VydmljZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4fSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UsZSxyLHQsdGhpcy5mZWF0dXJlU3RvcmUpLHRoaXMuX3Byb3h5RXZlbnRzKCl9X3NldFN0cmVhbUNsaWVudFByb3BlcnR5KGUsdCl7dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwic2V0UHJvcGVydHlcIix7cHJvcGVydHlOYW1lOmUsdmFsdWU6dH0pLmNhdGNoKGspfV9wcm94eUV2ZW50cygpe2lmKFwic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSl7Y29uc3QgZT10aGlzLl9zb3VyY2UuZXZlbnRzLHQ9dGhpcy5fc291cmNlO3RoaXMuYWRkSGFuZGxlcyhbZygoKCk9PnQuY29ubmVjdGlvblN0YXR1cyksKGU9PnRoaXMuX3NldFN0cmVhbUNsaWVudFByb3BlcnR5KFwicGlwZWxpbmVDb25uZWN0aW9uU3RhdHVzXCIsZSkpLHtpbml0aWFsOiEwfSksZygoKCk9PnQuZXJyb3JTdHJpbmcpLChlPT50aGlzLl9zZXRTdHJlYW1DbGllbnRQcm9wZXJ0eShcInBpcGVsaW5lRXJyb3JTdHJpbmdcIixlKSkse2luaXRpYWw6ITB9KSxlLm9uKFwiZGF0YS1yZWNlaXZlZFwiLChlPT50aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJlbWl0RXZlbnRcIix7bmFtZTpcImRhdGEtcmVjZWl2ZWRcIixldmVudDp7YXR0cmlidXRlczplLmF0dHJpYnV0ZXMsY2VudHJvaWQ6ZS5jZW50cm9pZCxnZW9tZXRyeTplLmdlb21ldHJ5fX0pLmNhdGNoKGspKSksZS5vbihcIm1lc3NhZ2UtcmVjZWl2ZWRcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJtZXNzYWdlLXJlY2VpdmVkXCIsZXZlbnQ6ZX0pLmNhdGNoKGspKSksZS5vbihcInVwZGF0ZVJhdGVcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJ1cGRhdGUtcmF0ZVwiLGV2ZW50OnsuLi5lfX0pLmNhdGNoKGspKSldKX19X2luaXRBdHRyaWJ1dGVTdG9yZShlKXt0aGlzLmF0dHJpYnV0ZVN0b3JlfHwodGhpcy5hdHRyaWJ1dGVTdG9yZT1uZXcgYih7dHlwZTpcInJlbW90ZVwiLGluaXRpYWxpemU6KGUsdCk9PnModGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKHgsZSx7c2lnbmFsOnR9KS5jYXRjaChrKSksdXBkYXRlOihlLHQpPT5zKHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShULGUse3NpZ25hbDp0fSkuY2F0Y2goaykpLHJlbmRlcjplPT5zKHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShBLHZvaWQgMCx7c2lnbmFsOmV9KS5jYXRjaChrKSl9LGUpKX1faW5pdFN0b3Jlcygpe2NvbnN0IGU9XCJzbmFwc2hvdFwiPT09dGhpcy5zZXJ2aWNlLnR5cGU/XCJzbmFwc2hvdFwiOlwib24tZGVtYW5kXCIsdD17Z2VvbWV0cnlJbmZvOntnZW9tZXRyeVR5cGU6dGhpcy5zZXJ2aWNlLmdlb21ldHJ5VHlwZSxoYXNNOiExLGhhc1o6ITF9LHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXh9O3RoaXMuZmVhdHVyZVN0b3JlPW5ldyBTKHQsdGhpcy5fc3RvcmFnZSxlKX1faW5pdFF1ZXJ5RW5naW5lKGUpe2NvbnN0IHQ9dGhpczt0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZT8uZGVzdHJveSgpLHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lPW5ldyB5KHthdmFpbGFibGVGaWVsZHM6ZS5hdmFpbGFibGVGaWVsZHMsZGVmaW5pdGlvbkV4cHJlc3Npb246ZS5zY2hlbWEuc291cmNlLmRlZmluaXRpb25FeHByZXNzaW9uPz92b2lkIDAsZmllbGRzSW5kZXg6Zi5mcm9tSlNPTih0aGlzLnNlcnZpY2UuZmllbGRzSW5kZXgpLGdlb21ldHJ5VHlwZTp0aGlzLnNlcnZpY2UuZ2VvbWV0cnlUeXBlLG9iamVjdElkRmllbGQ6dGhpcy5zZXJ2aWNlLm9iamVjdElkRmllbGQsaGFzTTohMSxoYXNaOiExLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLGNhY2hlU3BhdGlhbFF1ZXJpZXM6ITAsZmVhdHVyZVN0b3JlOnRoaXMuZmVhdHVyZVN0b3JlLGFnZ3JlZ2F0ZUFkYXB0ZXI6e2dldEZlYXR1cmVPYmplY3RJZHMoZSl7aWYobnVsbD09dC5hZ2dyZWdhdGVTdG9yZSlyZXR1cm5bXTtyZXR1cm4gdC5hZ2dyZWdhdGVTdG9yZS5nZXRGZWF0dXJlRGlzcGxheUlkc0ZvckFnZ3JlZ2F0ZShlKS5tYXAoKGU9PnQuZ2V0T2JqZWN0SWQoZSkpKX19LHRpbWVJbmZvOnRoaXMuc2VydmljZS50aW1lSW5mb30pfV9pbml0QWdncmVnYXRlUXVlcnlFbmdpbmUoZSx0KXtpZih0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksbnVsbD09ZSlyZXR1cm47Y29uc3Qgcj10LnRhcmdldHMuYWdncmVnYXRlLnBhcmFtcy5maWVsZHMuc2xpY2UoKTt0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lPW5ldyB5KHtkZWZpbml0aW9uRXhwcmVzc2lvbjp2b2lkIDAsZmllbGRzSW5kZXg6Zi5mcm9tTGF5ZXJKU09OKHtmaWVsZHM6cixkYXRlRmllbGRzVGltZVJlZmVyZW5jZTp7dGltZVpvbmVJQU5BOm19fSksZ2VvbWV0cnlUeXBlOmUuZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZSxvYmplY3RJZEZpZWxkOmUub2JqZWN0SWRGaWVsZCxoYXNNOmUuZ2VvbWV0cnlJbmZvLmhhc00saGFzWjplLmdlb21ldHJ5SW5mby5oYXNaLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLGNhY2hlU3BhdGlhbFF1ZXJpZXM6ITEsZmVhdHVyZVN0b3JlOmUsYWdncmVnYXRlQWRhcHRlcjp7Z2V0RmVhdHVyZU9iamVjdElkczplPT5bXX19KX1kZXN0cm95KCl7dGhpcy5fdXBkYXRlUXVldWUuZGVzdHJveSgpLHRoaXMuX3NvdXJjZS5kZXN0cm95KCksdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmU/LmRlc3Ryb3koKSx0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5hdHRyaWJ1dGVTdG9yZT8uZGVzdHJveSgpO2Zvcihjb25zdCBlIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKXRoaXMuX3NvdXJjZS51bnN1YnNjcmliZShlKTtjbGVhckludGVydmFsKHRoaXMuX2NoZWNrVXBkYXRpbmcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCl9Z2V0IGZpZWxkc0luZGV4KCl7cmV0dXJuIGYuZnJvbUpTT04odGhpcy5zZXJ2aWNlLmZpZWxkc0luZGV4KX1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLnRpbGVTdG9yZS50aWxlU2NoZW1lLnNwYXRpYWxSZWZlcmVuY2V9Z2V0IGRhdGFVcGRhdGluZygpe3JldHVybiB0aGlzLl9zb3VyY2UudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLmlzVXBkYXRpbmcoKX1pc1VwZGF0aW5nKCl7Y29uc3QgZT10aGlzLl9zb3VyY2UudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nLHQ9IXRoaXMuYXR0cmlidXRlU3RvcmV8fHRoaXMuYXR0cmlidXRlU3RvcmUudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nLHI9ZXx8dHx8dGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nO2lmKGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpKXtsZXQgcz1gVXBkYXRpbmcgRmVhdHVyZUNvbnRyb2xsZXIyRDogJHtyfVxcbmA7cys9YCAgLT4gdXBkYXRpbmdTb3VyY2UgJHtlfVxcbmA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc291cmNlLnN1YnNjcmlwdGlvbnMpcys9YCAgICAgJHtlLnRpbGUuaWR9ICR7ZS5pc0RvbmV9XFxuYDtzKz1gICAtPiB1cGRhdGluZ0F0dHJpYnV0ZVN0b3JlICR7dH1cXG5gLHMrPWAgIC0+IHVwZGF0aW5nSGFuZGxlcyAke3RoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ30gKHF1ZXVlOiAke3RoaXMuX3VwZGF0ZVF1ZXVlLmxlbmd0aH0pXFxuYCxjb25zb2xlLmxvZyhzKX1yZXR1cm4gcn11cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl9ZW5hYmxlRXZlbnQoZSl7dGhpcy5fc291cmNlLmVuYWJsZUV2ZW50KGUubmFtZSxlLnZhbHVlKX1wYXVzZSgpe3RoaXMuX3VwZGF0ZVF1ZXVlLnBhdXNlKCksdGhpcy5fdXBkYXRlUXVldWUuY2xlYXIoKX1yZXN1bWUoKXt0aGlzLl91cGRhdGVRdWV1ZS5yZXN1bWUoKX1wYXVzZVN0cmVhbSgpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnBhdXNlU3RyZWFtKCl9cmVzdW1lU3RyZWFtKCl7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLl9zb3VyY2UucmVzdW1lU3RyZWFtKCl9c2VuZE1lc3NhZ2VUb1NvY2tldChlKXtcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3NvdXJjZS5zZW5kTWVzc2FnZVRvU29ja2V0KGUpfXNlbmRNZXNzYWdlVG9DbGllbnQoZSl7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLl9zb3VyY2Uuc2VuZE1lc3NhZ2VUb0NsaWVudChlKX1faW5pdEFnZ3JlZ2F0ZVN0b3JlKGUpe2NvbnN0IHQ9ZS5zY2hlbWEudGFyZ2V0cz8uYWdncmVnYXRlPy50eXBlPz9udWxsO2lmKCh0aGlzLmNvbmZpZz8uc2NoZW1hLnRhcmdldHM/LmFnZ3JlZ2F0ZT8udHlwZT8/bnVsbCkhPT10JiYobnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmKHRoaXMucmVtb3ZlSGFuZGxlcyhcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiKSx0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmRlc3Ryb3koKSx0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW51bGwpLHQpKXtzd2l0Y2godCl7Y2FzZVwiY2x1c3RlclwiOntjb25zdCBlPXtnZW9tZXRyeUluZm86e2dlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvaW50XCIsaGFzTTohMSxoYXNaOiExfSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGZpZWxkczp0aGlzLnNlcnZpY2UuZmllbGRzfTt0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW5ldyBJKGUsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX3N0b3JhZ2Usey4uLnRoaXMuc2VydmljZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4fSksdGhpcy5hZGRIYW5kbGVzKHRoaXMuYWdncmVnYXRlU3RvcmUuZXZlbnRzLm9uKFwidmFsdWVSYW5nZXNDaGFuZ2VkXCIsKGU9Pnt0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJlbWl0RXZlbnRcIix7bmFtZTpcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiLGV2ZW50Ont2YWx1ZVJhbmdlczplLnZhbHVlUmFuZ2VzfX0pLmNhdGNoKGspfSkpLFwidmFsdWVSYW5nZXNDaGFuZ2VkXCIpO2JyZWFrfWNhc2VcImJpblwiOntjb25zdCBlPXtnZW9tZXRyeUluZm86e2dlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvbHlnb25cIixoYXNNOiExLGhhc1o6ITF9LHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXgsZmllbGRzOnRoaXMuc2VydmljZS5maWVsZHN9O3RoaXMuYWdncmVnYXRlU3RvcmU9bmV3IHYoZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5fc3RvcmFnZSx7Li4udGhpcy5zZXJ2aWNlLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXh9KTticmVha319dGhpcy5hZ2dyZWdhdGVTdG9yZS5vblRpbGVVcGRhdGUoe2FkZGVkOnRoaXMudGlsZVN0b3JlLnRpbGVzLHJlbW92ZWQ6W119KX19YXN5bmMgdXBkYXRlKGUsdCl7dGhpcy5fdXBkYXRlVmVyc2lvbisrLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGBGZWF0dXJlQ29udHJvbGxlcjJEOjp1cGRhdGU6IFRva2VuIHZlcnNpb24gJHt0aGlzLl91cGRhdGVWZXJzaW9ufWApLHRoaXMuX2luaXRRdWVyeUVuZ2luZSh0KSx0aGlzLl9pbml0QXR0cmlidXRlU3RvcmUodCksdGhpcy5wYXVzZSgpLHRoaXMuY29uZmlnPy50aW1lWm9uZSE9PXQudGltZVpvbmUmJihlLm1lc2g9ITAsZS5zdG9yYWdlLmRhdGE9ITAsZS5zdG9yYWdlLmZpbHRlcnM9ITAsZS50YXJnZXRzLmFnZ3JlZ2F0ZT0hMCxlLnRhcmdldHMuZmVhdHVyZT0hMCx0aGlzLmZlYXR1cmVTdG9yZS5pbnZhbGlkYXRlKCkpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLl9zb3VyY2UudXBkYXRlKGUsdC5zY2hlbWEuc291cmNlKSx0aGlzLmZlYXR1cmVTdG9yZS51cGRhdGVTY2hlbWEoZSx0LnNjaGVtYS50YXJnZXRzLmZlYXR1cmUpLHRoaXMuYXR0cmlidXRlU3RvcmUudXBkYXRlKGUsdCksdGhpcy5hdHRyaWJ1dGVTdG9yZS51cGRhdGVGaWx0ZXJzKGUsdCx0aGlzKV0pLHRoaXMuX2luaXRBZ2dyZWdhdGVTdG9yZSh0KSxudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZhd2FpdCB0aGlzLmFnZ3JlZ2F0ZVN0b3JlLnVwZGF0ZVNjaGVtYShlLHQuc2NoZW1hLnRhcmdldHMuYWdncmVnYXRlKSx0aGlzLl9pbml0QWdncmVnYXRlUXVlcnlFbmdpbmUodGhpcy5hZ2dyZWdhdGVTdG9yZSx0LnNjaGVtYSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmUuZGVzY3JpYmUoKSx0aGlzLl9zZXQoXCJjb25maWdcIix0KX1hc3luYyBhcHBseVVwZGF0ZShlKXtlLnZlcnNpb249dGhpcy5fdXBkYXRlVmVyc2lvbixoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGU6IFRva2VuIHZlcnNpb24gJHtlLnZlcnNpb259YCksZS5tZXNoJiZ0aGlzLmNsZWFyVGlsZXMoKSx0aGlzLl91cGRhdGVRdWV1ZS5yZXN1bWUoKSxhd2FpdCB0aGlzLl9zb3VyY2UuYXBwbHlVcGRhdGUoZSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlQ29udHJvbGxlcjJEOjphcHBseVVwZGF0ZSBXYWl0aW5nIGZvciBzb3VyY2UgdXBkYXRlIHRvIGZpbmlzaFwiKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLGF3YWl0IGQoKCgpPT4hdGhpcy51cGRhdGluZykpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgU291cmNlIHVwZGF0ZSBmaW5zaWhlZFwiKSxudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiYoYXdhaXQgaSgxMCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlQ29udHJvbGxlcjJEOjphcHBseVVwZGF0ZSBXYWl0aW5nIGZvciBhZ2dyZWdhdGUgaWRsZSBjYWxsXCIpLGF3YWl0IGQoKCgpPT4hdGhpcy51cGRhdGluZykpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgQWdncmVnYXRlIGlkbGUgY2FsbGVkXCIpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlIFVwZGF0ZSBmaW5pc2hlZFwiKX1hc3luYyBvbkVkaXRzKHtlZGl0czplfSl7aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBFZGl0OlwiLGUpLHRoaXMuX2RpZEVkaXQ9ITA7dHJ5e2NvbnN0IHQ9ZS5yZW1vdmVkLm1hcCgoZT0+ZS5vYmplY3RJZCYmLTEhPT1lLm9iamVjdElkP2Uub2JqZWN0SWQ6dGhpcy5fbG9va3VwT2JqZWN0SWRCeUdsb2JhbElkKGUuZ2xvYmFsSWQpKSkscj1lLmFkZE9yTW9kaWZpZWQubWFwKCgoe29iamVjdElkOmV9KT0+ZSkpO3RoaXMuZmVhdHVyZVN0b3JlLmludmFsaWRhdGUoKSxhd2FpdCB0aGlzLl9zb3VyY2UuZWRpdChyLHQpLHRoaXMuY2xlYXJUaWxlcygpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmdGhpcy5hZ2dyZWdhdGVTdG9yZS5jbGVhcigpLGF3YWl0IHRoaXMuX3NvdXJjZS5yZXNlbmQoKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKX1jYXRjaCh0KXt9fWFzeW5jIHJlZnJlc2goZSl7aWYoIWUuZGF0YUNoYW5nZWQpe2NvbnN0IGU9Ri5lbXB0eSgpO3JldHVybiBlLnN0b3JhZ2UuZmlsdGVycz0hMCx0aGlzLmFwcGx5VXBkYXRlKGUpfXRoaXMuZmVhdHVyZVN0b3JlLmludmFsaWRhdGUoKSx0aGlzLmNsZWFyVGlsZXMoKSx0aGlzLl9zb3VyY2UucmVmcmVzaCh0aGlzLl91cGRhdGVWZXJzaW9uLGUpLHRoaXMuX2NsZWFudXBOZWVkZWQ9ITAsdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKX1jbGVhclRpbGVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50aWxlU3RvcmUudGlsZXMpdGhpcy5wcm9jZXNzb3Iub25UaWxlQ2xlYXIoZSwhMSl9b25UaWxlVXBkYXRlKGUpe251bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJnRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlVXBkYXRlKGUpO2Zvcihjb25zdCB0IG9mIGUuYWRkZWQpe2NvbnN0IGU9dGhpcy5fc291cmNlLnN1YnNjcmliZSh0LHRoaXMuX3VwZGF0ZVZlcnNpb24pO1wic3RyZWFtXCIhPT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UoZS5kb25lKSx0aGlzLl9sZXZlbD10LmxldmVsfWZvcihjb25zdCB0IG9mIGUucmVtb3ZlZCl0aGlzLl9zb3VyY2UudW5zdWJzY3JpYmUodCksdGhpcy5fY2xlYW51cE5lZWRlZD0hMCx0aGlzLl90aWxlVG9SZXNvbHZlci5oYXModC5pZCkmJih0aGlzLl90aWxlVG9SZXNvbHZlci5nZXQodC5pZCkucmVzb2x2ZSgpLHRoaXMuX3RpbGVUb1Jlc29sdmVyLmRlbGV0ZSh0LmlkKSk7dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKX1hc3luYyBvbklkbGUoKXt0aGlzLl9pbnZhbGlkYXRlZCYmKHRoaXMuX2ludmFsaWRhdGVkPSExLG51bGw9PXRoaXMuYWdncmVnYXRlU3RvcmUmJlwiaGVhdG1hcFwiIT09dGhpcy5wcm9jZXNzb3IudHlwZXx8YXdhaXQgdGhpcy5fcmVwdXNoQ3VycmVudExldmVsVGlsZXMoKSksdGhpcy5fbWFya0FuZFN3ZWVwKCl9YXN5bmMgcXVlcnlTdW1tYXJ5U3RhdGlzdGljcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JTdW1tYXJ5U3RhdGlzdGljcyhlLHQpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlU3VtbWFyeVN0YXRpc3RpY3Moe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JTdW1tYXJ5U3RhdGlzdGljcyh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSx0KX1hc3luYyBxdWVyeVVuaXF1ZVZhbHVlcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JVbmlxdWVWYWx1ZXMoZSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVVuaXF1ZVZhbHVlcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvclVuaXF1ZVZhbHVlcyh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSx0KX1hc3luYyBxdWVyeUNsYXNzQnJlYWtzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNsYXNzQnJlYWtzKGUsdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNsYXNzQnJlYWtzKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfWFzeW5jIHF1ZXJ5SGlzdG9ncmFtKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckhpc3RvZ3JhbShlLHQpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlSGlzdG9ncmFtKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySGlzdG9ncmFtKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfXF1ZXJ5RXh0ZW50KGUpe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JFeHRlbnQoZSl9cXVlcnlBZ2dyZWdhdGVzKGUpe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeSh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSl9cXVlcnlBZ2dyZWdhdGVDb3VudChlKXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDb3VudCh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSl9cXVlcnlBZ2dyZWdhdGVJZHMoZSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKHRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0ZVF1ZXJ5KGUpKX1xdWVyeUZlYXR1cmVzKGUpe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkoZSl9YXN5bmMgcXVlcnlWaXNpYmxlRmVhdHVyZXMoZSl7Y29uc3QgdD1hd2FpdCB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkoZSkscj10Lm9iamVjdElkRmllbGROYW1lO3JldHVybiB0LmZlYXR1cmVzPXQuZmVhdHVyZXMuZmlsdGVyKChlPT57Y29uc3QgdD1lLmF0dHJpYnV0ZXNbcl0scz10aGlzLmdldERpc3BsYXlJZCh0KTtyZXR1cm4gbnVsbCE9cyYmdGhpcy5hdHRyaWJ1dGVTdG9yZS5pc1Zpc2libGUocyl9KSksdH1xdWVyeUZlYXR1cmVDb3VudChlKXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQoZSl9cXVlcnlMYXRlc3RPYnNlcnZhdGlvbnMoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckxhdGVzdE9ic2VydmF0aW9ucyhlKX1xdWVyeU9iamVjdElkcyhlKXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKGUpfWFzeW5jIHF1ZXJ5U3RhdGlzdGljcygpe3JldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5zdG9yZVN0YXRpc3RpY3N9Z2V0T2JqZWN0SWQoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cE9iamVjdElkKGUsdGhpcy5fc3RvcmFnZSl9Z2V0RGlzcGxheUlkKGUpe2lmKG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUpe2NvbnN0IHQ9dGhpcy5hZ2dyZWdhdGVTdG9yZS5nZXREaXNwbGF5SWQoZSk7aWYobnVsbD09dCl7Y29uc3QgdD10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSk7cmV0dXJuIHRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0RGlzcGxheUlkRm9yUmVmZXJlbmNlSWQodCl9cmV0dXJuIHR9cmV0dXJuIHRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChlKX1nZXRGZWF0dXJlcyhlKXtjb25zdCB0PVtdLHI9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1udWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlP3RoaXMuZ2V0QWdncmVnYXRlKHMpOm51bGw7aWYobnVsbCE9ZSlpZihudWxsIT1lLmF0dHJpYnV0ZXMucmVmZXJlbmNlSWQpe2NvbnN0IHI9dGhpcy5nZXRGZWF0dXJlKGUuYXR0cmlidXRlcy5yZWZlcmVuY2VJZCk7bnVsbCE9ciYmdC5wdXNoKHIpfWVsc2Ugci5wdXNoKGUpO2Vsc2V7Y29uc3QgZT10aGlzLmdldEZlYXR1cmUocyk7bnVsbCE9ZSYmdC5wdXNoKGUpfX1yZXR1cm57ZmVhdHVyZXM6dCxhZ2dyZWdhdGVzOnJ9fWdldEZlYXR1cmUoZSl7Y29uc3QgdD10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBGZWF0dXJlQnlEaXNwbGF5SWQoZSx0aGlzLl9zdG9yYWdlKTtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IHI9dC5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpLHM9cChyLHQuZ2VvbWV0cnlUeXBlLHQuaGFzWix0Lmhhc00pO3JldHVybnthdHRyaWJ1dGVzOnQucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTpzfX1nZXRBZ2dyZWdhdGUoZSl7cmV0dXJuIG51bGw9PXRoaXMuYWdncmVnYXRlU3RvcmU/bnVsbDp0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmdldEFnZ3JlZ2F0ZShlKX1nZXRBZ2dyZWdhdGVzKCl7cmV0dXJuIG51bGw9PXRoaXMuYWdncmVnYXRlU3RvcmU/W106dGhpcy5hZ2dyZWdhdGVTdG9yZS5nZXRBZ2dyZWdhdGVzKCl9YXN5bmMgc2V0SGlnaGxpZ2h0KGUpe2NvbnN0IHQ9ZS5tYXAoKGU9PnRoaXMuZ2V0RGlzcGxheUlkKGUpKSkuZmlsdGVyKHIpO3JldHVybiB0aGlzLmF0dHJpYnV0ZVN0b3JlLnNldEhpZ2hsaWdodChlLHQpfV9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKXtjb25zdCB0PWUub2JqZWN0SWRzPz9bXTtmb3IoY29uc3QgciBvZiBlLmFnZ3JlZ2F0ZUlkcz8/W10pdC5wdXNoKHIpO3JldHVybiBlLm9iamVjdElkcz10LGUuYWdncmVnYXRlSWRzPVtdLGV9X2xvb2t1cE9iamVjdElkQnlHbG9iYWxJZChlKXtjb25zdCB0PXRoaXMuc2VydmljZS5nbG9iYWxJZEZpZWxkO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZ2xvYmFsSWRGaWVsZCB0byBiZSBkZWZpbmVkXCIpO2xldCByPW51bGw7aWYodGhpcy5mZWF0dXJlU3RvcmUuZm9yRWFjaCgocz0+e2U9PT1zLnJlYWRBdHRyaWJ1dGUodCkmJihyPXMuZ2V0T2JqZWN0SWQoKSl9KSksbnVsbD09cil0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIHRvIGZpbmQgYSBmZWF0dXJlIHdpdGggZ2xvYmFsSWQgJHtlfWApO3JldHVybiByfWFzeW5jIF9yZXB1c2hDdXJyZW50TGV2ZWxUaWxlcygpe2NvbnN0IGU9dGhpcy50aWxlU3RvcmUudGlsZXMuZmlsdGVyKChlPT5lLmxldmVsPT09dGhpcy5fbGV2ZWwpKTtlLm1hcCgoYXN5bmMgZT0+dGhpcy5fcGF0Y2hUaWxlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5rZXkuaWQsY2xlYXI6ITAsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITF9KSkpO2NvbnN0IHQ9ZS5tYXAoKGFzeW5jIGU9PnRoaXMuX3BhdGNoVGlsZSh7dHlwZTpcImFwcGVuZFwiLGlkOmUua2V5LmlkLGFkZE9yVXBkYXRlOkMuZnJvbU9wdGltaXplZEZlYXR1cmVzKFtdLHsuLi50aGlzLnNlcnZpY2UsZmllbGRzSW5kZXg6dGhpcy5maWVsZHNJbmRleH0pLHJlbW92ZTpbXSxlbmQ6ITAsaXNSZXB1c2g6ITAsc3RhdHVzOkYuZW1wdHkoKX0pKSk7YXdhaXQgUHJvbWlzZS5hbGwodCl9X21heWJlRm9yY2VDbGVhbnVwKCl7cGVyZm9ybWFuY2Uubm93KCktdGhpcy5fbGFzdENsZWFudXA+dyYmdGhpcy5fbWFya0FuZFN3ZWVwKCl9X3BhdGNoVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5fdXBkYXRlUXVldWUucHVzaChlLHQpLmNhdGNoKChlPT57fSkpO3JldHVybiB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShyKX1hc3luYyBfb25UaWxlTWVzc2FnZShlLHQpe2lmKGEodCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikpe2NvbnN0IHQ9ZS5hZGRPclVwZGF0ZT8uaGFzRmVhdHVyZXM7Y29uc29sZS5kZWJ1ZyhlLmlkLGBGZWF0dXJlQ29udHJvbGxlcjpvblRpbGVNZXNzYWdlOiBbY2xlYXI6JHtlLmNsZWFyfSwgZW5kOiR7ZS5lbmR9LCBmZWF0dXJlczogJHt0fV1gKX1jb25zdCByPXRoaXMudGlsZVN0b3JlLmdldChlLmlkKTtpZighcilyZXR1cm47aWYoZS5jbGVhcilyZXR1cm4gdGhpcy5wcm9jZXNzb3Iub25UaWxlQ2xlYXIocixlLmVuZCk7Y29uc3Qgcz1lLnN0YXR1czt0aGlzLl9jbGVhbnVwTmVlZGVkPSEwO2NvbnN0IGk9W107Zm9yKGNvbnN0IGEgb2YgZS5yZW1vdmU/P1tdKXtjb25zdCBlPXRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChhKTtlJiZpLnB1c2goZSl9ZS5yZW1vdmU9aTt0cnl7aWYobnVsbD09ZS5hZGRPclVwZGF0ZSlyZXR1cm4gdm9pZCB0aGlzLnByb2Nlc3Nvci5vblRpbGVNZXNzYWdlKHIsey4uLmUsYWRkT3JVcGRhdGU6bnVsbH0sbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSx0KS5jYXRjaChvKTtpZihlLmFkZE9yVXBkYXRlLnNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UodGhpcy5zcGF0aWFsUmVmZXJlbmNlKSx0aGlzLmZlYXR1cmVTdG9yZS5oYXNJbnN0YW5jZShlLmFkZE9yVXBkYXRlLmluc3RhbmNlKSYmcy50YXJnZXRzLmZlYXR1cmV8fChzLnRhcmdldHMuZmVhdHVyZT0hMCx0aGlzLmZlYXR1cmVTdG9yZS5vblRpbGVEYXRhKHIsZSx0aGlzLmNvbmZpZz8udGltZVpvbmUpKSwhcy5zdG9yYWdlLmRhdGF8fCFzLnN0b3JhZ2UuZmlsdGVycyl7cy5zdG9yYWdlLmRhdGE9ITAscy5zdG9yYWdlLmZpbHRlcnM9ITAsdGhpcy5hdHRyaWJ1dGVTdG9yZS5vblRpbGVEYXRhKHIsZSk7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHx0aGlzLl9kaWRFZGl0Pyhhd2FpdCB0aGlzLmF0dHJpYnV0ZVN0b3JlLnNlbmRVcGRhdGVzKCksYSh0KSk6dGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpfWlmKG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJiFzLnRhcmdldHMuYWdncmVnYXRlKXtzLnRhcmdldHMuYWdncmVnYXRlPSEwO2NvbnN0IHQ9VSh0aGlzLl9zb3VyY2UpJiZ0aGlzLl9zb3VyY2UubG9hZGluZyxpPSFVKHRoaXMuX3NvdXJjZSl8fHR8fGUuZW5kO2lmKHRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlRGF0YShyLGUsdGhpcy5fc3RvcmFnZSx0aGlzLmF0dHJpYnV0ZVN0b3JlLHRoaXMuY29uZmlnPy50aW1lWm9uZSxpKSwhaSlyZXR1cm47cy5tZXNofHwodGhpcy5hdHRyaWJ1dGVTdG9yZS5vblRpbGVEYXRhKHIsZSksYXdhaXQgdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpKX1pZighcy5tZXNoKXtzLm1lc2g9ITA7Y29uc3QgaT1udWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZcImNsdXN0ZXJcIj09PXRoaXMuYWdncmVnYXRlU3RvcmUudHlwZTthd2FpdCB0aGlzLnByb2Nlc3Nvci5vblRpbGVNZXNzYWdlKHIsZSxpLHQpLGEodCl9dGhpcy5fbWF5YmVGb3JjZUNsZWFudXAoKX1jYXRjaChuKXtvKG4pfX1fbWFyayhlLHQscil7Y29uc3Qgcz0oNDI5NDkwMTc2MCZ0aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoZSkpPj4+MTY7ZSYmKHQuYWRkKHMpLHIuc2V0KGUpKX1fbWFya0FuZFN3ZWVwKCl7dGhpcy5fbGFzdENsZWFudXA9cGVyZm9ybWFuY2Uubm93KCk7aWYoISghKFwiZmVhdHVyZVwiPT09dGhpcy5fc291cmNlLnR5cGUmJlwic25hcHNob3RcIj09PXRoaXMuX3NvdXJjZS5tb2RlKSYmKFwic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8dGhpcy5fY2xlYW51cE5lZWRlZCkpKXJldHVybjt0aGlzLl9jbGVhbnVwTmVlZGVkPSExO2NvbnN0IGU9dGhpcy5fc3RvcmFnZS5nZXRCaXRzZXQodGhpcy5fbWFya2VkSWRzQnVmSWQpLHQ9bmV3IFNldDtlLmNsZWFyKCk7Zm9yKGNvbnN0IHIgb2YgdGhpcy50aWxlU3RvcmUudGlsZXMpZm9yKGNvbnN0IHMgb2YgdGhpcy5fc291cmNlLnJlYWRlcnMoci5pZCkpe2NvbnN0IHI9cy5nZXRDdXJzb3IoKTtmb3IoO3IubmV4dCgpOyl7bGV0IHM9ci5nZXREaXNwbGF5SWQoKTtpZighcyl7Y29uc3QgZT1yLmdldE9iamVjdElkKCk7cz10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSl9dGhpcy5fbWFyayhzLHQsZSl9fVwic3ltYm9sXCI9PT10aGlzLnByb2Nlc3Nvci50eXBlJiZ0aGlzLnByb2Nlc3Nvci5mb3JFYWNoQnVmZmVySWQoKHI9Pnt0aGlzLl9tYXJrKHIsdCxlKX0pKSx0aGlzLl91cGRhdGVRdWV1ZS5mb3JFYWNoKChyPT57Zm9yKGNvbnN0IHMgb2Ygci5yZW1vdmU/P1tdKXtjb25zdCByPXRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChzKTt0aGlzLl9tYXJrKHIsdCxlKX19KSksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmKHRoaXMuYWdncmVnYXRlU3RvcmUuc3dlZXBGZWF0dXJlcyhlLHRoaXMuZmVhdHVyZVN0b3JlKSxcInN3ZWVwQWdncmVnYXRlc1wiaW4gdGhpcy5hZ2dyZWdhdGVTdG9yZSYmdGhpcy5hZ2dyZWdhdGVTdG9yZS5zd2VlcEFnZ3JlZ2F0ZXModGhpcy5fc3RvcmFnZSx0aGlzLmF0dHJpYnV0ZVN0b3JlLHRoaXMuX2xldmVsKSksdGhpcy5mZWF0dXJlU3RvcmUuc3dlZXBGZWF0dXJlcyhlLHRoaXMuX3N0b3JhZ2UsdGhpcy5hdHRyaWJ1dGVTdG9yZSksdGhpcy5mZWF0dXJlU3RvcmUuc3dlZXBGZWF0dXJlU2V0cyh0KX19O2UoW2woe2NvbnN0cnVjdE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJ0aWxlU3RvcmVcIix2b2lkIDApLGUoW2woKV0sUi5wcm90b3R5cGUsXCJjb25maWdcIix2b2lkIDApLGUoW2woe3JlYWRPbmx5OiEwfSldLFIucHJvdG90eXBlLFwiZmllbGRzSW5kZXhcIixudWxsKSxlKFtsKCldLFIucHJvdG90eXBlLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxlKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFIucHJvdG90eXBlLFwicmVtb3RlQ2xpZW50XCIsdm9pZCAwKSxlKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFIucHJvdG90eXBlLFwic2VydmljZVwiLHZvaWQgMCksZShbbCgpXSxSLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlKFtsKCldLFIucHJvdG90eXBlLFwiZGF0YVVwZGF0aW5nXCIsbnVsbCksZShbbCgpXSxSLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksUj1lKFtoKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuY29udHJvbGxlcnMuRmVhdHVyZUNvbnRyb2xsZXIyRFwiKV0sUik7Y29uc3QgcT1SO2V4cG9ydHtxIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL3dvcmtlcnMvQ29ubmVjdGlvbi5qc1wiO2ltcG9ydHt0b1F1YW50aXphdGlvblRyYW5zZm9ybSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanNcIjtpbXBvcnR7Y29udmVydEZyb21GZWF0dXJlU2V0IGFzIHIscXVhbnRpemVPcHRpbWl6ZWRGZWF0dXJlU2V0IGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7cXVlcnlPcHRpbWl6ZWRGZWF0dXJlU2V0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL29nYy9vZ2NGZWF0dXJlVXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtleGVjdXRlUXVlcnlQQkZCdWZmZXIgYXMgbyxleGVjdXRlUXVlcnkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgY31mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJQQkYgYXMgdX1mcm9tXCIuLi8uLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJQQkYuanNcIjtjbGFzcyBte2NvbnN0cnVjdG9yKGUpe3RoaXMuc2VydmljZT1lLHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hPXsuLi5lLGZpZWxkc0luZGV4OmkuZnJvbUpTT04oZS5maWVsZHNJbmRleCl9fWRlc3Ryb3koKXt9fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zb3VyY2UpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuXCJvZ2Mtc291cmNlXCI9PT1lPy50eXBlfWZ1bmN0aW9uIHkoZSl7Y29uc3R7Y2FwYWJpbGl0aWVzOnR9PWU7cmV0dXJuIGwoZS5zb3VyY2UpP25ldyBGKGUpOnAoZSk/bmV3IGgoZSk6dC5xdWVyeS5zdXBwb3J0c0Zvcm1hdFBCRiYmaGFzKFwiZmVhdHVyZWxheWVyLXBiZlwiKT9uZXcgZChlKTpuZXcgUyhlKX1hc3luYyBmdW5jdGlvbiBmKHQpe2NvbnN0IHI9bmV3IGU7cmV0dXJuIGF3YWl0IHIub3Blbih0LHt9KSxyfWNsYXNzIGggZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3BvcnRzT3Blbj1mKGUuc291cmNlKS50aGVuKChlPT50aGlzLmNsaWVudD1lKSl9ZGVzdHJveSgpe3RoaXMuY2xpZW50LmNsb3NlKCksdGhpcy5jbGllbnQ9bnVsbH1hc3luYyBleGVjdXRlUXVlcnkoZSx0KXthd2FpdCB0aGlzLl9wb3J0c09wZW47Y29uc3Qgcj1hd2FpdCB0aGlzLmNsaWVudC5pbnZva2UoXCJxdWVyeUZlYXR1cmVzXCIsZS50b0pTT04oKSx0KTtyZXR1cm4gYy5mcm9tRmVhdHVyZVNldChyLHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hKX19Y2xhc3MgZCBleHRlbmRzIG17YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUsdCl7Y29uc3R7ZGF0YTpyfT1hd2FpdCBvKHRoaXMuc2VydmljZS5zb3VyY2UsZSx0KSxhPSFlLnF1YW50aXphdGlvblBhcmFtZXRlcnM7cmV0dXJuIHUuZnJvbUJ1ZmZlcihyLHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hLGEpfX1jbGFzcyBTIGV4dGVuZHMgbXthc3luYyBleGVjdXRlUXVlcnkoZSxzKXtjb25zdHtzb3VyY2U6aSxjYXBhYmlsaXRpZXM6byxzcGF0aWFsUmVmZXJlbmNlOnUsb2JqZWN0SWRGaWVsZDptLGdlb21ldHJ5VHlwZTpwfT10aGlzLnNlcnZpY2U7aWYobnVsbCE9ZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzJiYhby5xdWVyeS5zdXBwb3J0c1F1YW50aXphdGlvbil7Y29uc3Qgbz1lLmNsb25lKCkscD10KG8ucXVhbnRpemF0aW9uUGFyYW1ldGVycyk7by5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGw7Y29uc3R7ZGF0YTpsfT1hd2FpdCBuKGksbyx1LHMpLHk9cihsLG0pO3JldHVybiBhKHAseSksYy5mcm9tT3B0aW1pemVkRmVhdHVyZVNldCh5LHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hKX1jb25zdHtkYXRhOmx9PWF3YWl0IG4oaSxlLHRoaXMuc2VydmljZS5zcGF0aWFsUmVmZXJlbmNlLHMpO3JldHVyblwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXAmJihsLmZlYXR1cmVzPWwuZmVhdHVyZXM/LmZpbHRlcigoZT0+e2lmKG51bGwhPWUuZ2VvbWV0cnkpe2NvbnN0IHQ9ZS5nZW9tZXRyeTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQueCkmJk51bWJlci5pc0Zpbml0ZSh0LnkpfXJldHVybiEwfSkpKSxjLmZyb21GZWF0dXJlU2V0KGwsdGhpcy5fYXJjYWRlTGF5ZXJTY2hlbWEpfX1jbGFzcyBGIGV4dGVuZHMgbXthc3luYyBleGVjdXRlUXVlcnkoZSxyKXtjb25zdHtjYXBhYmlsaXRpZXM6aX09dGhpcy5zZXJ2aWNlO2lmKGUucXVhbnRpemF0aW9uUGFyYW1ldGVycyYmIWkucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24pe2NvbnN0IGk9ZS5jbG9uZSgpLG89dChpLnF1YW50aXphdGlvblBhcmFtZXRlcnMpO2kucXVhbnRpemF0aW9uUGFyYW1ldGVycz1udWxsO2NvbnN0IG49YXdhaXQgcyh0aGlzLnNlcnZpY2Uuc291cmNlLGUscik7cmV0dXJuIGEobyxuKSxjLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KG4sdGhpcy5fYXJjYWRlTGF5ZXJTY2hlbWEpfWNvbnN0IG89YXdhaXQgcyh0aGlzLnNlcnZpY2Uuc291cmNlLGUscik7cmV0dXJuIGMuZnJvbU9wdGltaXplZEZlYXR1cmVTZXQobyx0aGlzLl9hcmNhZGVMYXllclNjaGVtYSl9fWV4cG9ydHttIGFzIFNvdXJjZUFkYXB0ZXIseSBhcyBjcmVhdGVTb3VyY2VBZGFwdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvKG8pe3JldHVyblwiaGVhdG1hcFwiPT09bz9pbXBvcnQoXCIuL3Byb2Nlc3NvcnMvSGVhdG1hcFByb2Nlc3Nvci5qc1wiKTppbXBvcnQoXCIuL3Byb2Nlc3NvcnMvU3ltYm9sUHJvY2Vzc29yLmpzXCIpfWV4cG9ydHtvIGFzIGxvYWRQcm9jZXNzb3JNb2R1bGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHMsaXNBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlU291cmNlQWRhcHRlciBhcyBhfWZyb21cIi4uL2NvbnRyb2xsZXJzL3N1cHBvcnQvc291cmNlQWRhcHRlcnMuanNcIjtpbXBvcnR7RGF0YVRpbGVTb3VyY2UgYXMgb31mcm9tXCIuL0RhdGFUaWxlU291cmNlLmpzXCI7aW1wb3J0e1F1ZXVlUHJvY2Vzc29yIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9RdWV1ZVByb2Nlc3Nvci5qc1wiO2NvbnN0IHU9NDtjbGFzcyBjIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnR5cGU9XCJmZWF0dXJlXCIsdGhpcy5tb2RlPVwib24tZGVtYW5kXCIsdGhpcy5fYWRhcHRlcj1hKGUuc2VydmljZUluZm8pLHRoaXMuX3F1ZXVlPW5ldyBuKHtjb25jdXJyZW5jeTo4LHByb2Nlc3M6YXN5bmMgZT0+e2lmKHMoZSksbnVsbCE9ZS50aWxlKXtjb25zdCB0PWUudGlsZS5rZXkuaWQse3NpZ25hbDpyfT1lLHM9aGFzKFwiZXNyaS10aWxlcy1kZWJ1Z1wiKT97dGlsZTp0LnJlcGxhY2VBbGwoXCIvXCIsXCIuXCIpLGRlcHRoOmUuZGVwdGh9OnZvaWQgMCxpPWF3YWl0IHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnkse3NpZ25hbDpyLHF1ZXJ5OnsuLi5zLC4uLnRoaXMuX3NjaGVtYT8uY3VzdG9tUGFyYW1ldGVyc319KTtyZXR1cm4gaS5sZXZlbD1lLnRpbGUua2V5LmxldmVsLGl9cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUucXVlcnksey4uLmUscXVlcnk6dGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfSl9fSksdGhpcy5fcGF0Y2hRdWV1ZT1uZXcgbih7Y29uY3VycmVuY3k6OCxwcm9jZXNzOmFzeW5jIGU9PntpZihzKGUpLG51bGwhPWUudGlsZSl7Y29uc3QgdD1lLnRpbGUua2V5LmlkLHtzaWduYWw6cn09ZSxzPWhhcyhcImVzcmktdGlsZXMtZGVidWdcIik/e3RpbGU6dC5yZXBsYWNlQWxsKFwiL1wiLFwiLlwiKSxkZXB0aDplLmRlcHRofTp2b2lkIDAsaT1hd2FpdCB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LHtzaWduYWw6cixxdWVyeTp7Li4ucywuLi50aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9fSk7cmV0dXJuIGkubGV2ZWw9ZS50aWxlLmtleS5sZXZlbCxpfXJldHVybiB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LHsuLi5lLHF1ZXJ5OnRoaXMuX3NjaGVtYT8uY3VzdG9tUGFyYW1ldGVyc30pfX0pfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fYWRhcHRlci5kZXN0cm95KCksdGhpcy5fcXVldWUuZGVzdHJveSgpLHRoaXMuX3BhdGNoUXVldWUuZGVzdHJveSgpfWVucXVldWVRdWVyeShlLHQpe3JldHVybiB0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3F1ZXVlLnB1c2goZSx0KSl9ZW5xdWV1ZVBhdGNoUXVlcnkoZSx0KXtyZXR1cm4gdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9wYXRjaFF1ZXVlLnB1c2goZSx0KSl9Z2V0IG1heFJlY29yZENvdW50RmFjdG9yKCl7Y29uc3R7cXVlcnk6ZX09dGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzO3JldHVybiBlLnN1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3I/dTpudWxsfWdldCBtYXhQYWdlU2l6ZSgpe2NvbnN0e3F1ZXJ5OmV9PXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcztyZXR1cm4oZS5tYXhSZWNvcmRDb3VudD8/OGUzKSoodGhpcy5tYXhSZWNvcmRDb3VudEZhY3Rvcj8/MSl9Z2V0IHBhZ2VTaXplKCl7cmV0dXJuIE1hdGgubWluKDhlMyx0aGlzLm1heFBhZ2VTaXplKX1lbmFibGVFdmVudChlLHQpe31zdWJzY3JpYmUoZSxzKXtjb25zdCBhPXN1cGVyLnN1YnNjcmliZShlLHMpO3JldHVybiB0aGlzLl9mZXRjaERhdGFUaWxlKGUpLmNhdGNoKChzPT57aShzKXx8ci5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLkJhc2VGZWF0dXJlU291cmNlXCIpLmVycm9yKG5ldyB0KFwibWFwdmlldy1xdWVyeS1lcnJvclwiLFwiRW5jb3VudGVyZWQgZXJyb3Igd2hlbiBmZXRjaGluZyB0aWxlXCIse3RpbGU6ZSxlcnJvcjpzfSkpfSkpLGF9dW5zdWJzY3JpYmUoZSl7c3VwZXIudW5zdWJzY3JpYmUoZSl9cmVhZGVycyhlKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZSkucmVhZGVycygpfWFzeW5jIHF1ZXJ5KGUsdD17fSl7Y29uc3Qgcj10LnF1ZXJ5Pz97fTtyZXR1cm4gdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoZSx7Li4udCxxdWVyeTp7Li4uciwuLi50aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9fSl9YXN5bmMgcXVlcnlMYXN0RWRpdERhdGUoKXtjb25zdCB0PXRoaXMuX3NlcnZpY2VJbmZvLnNvdXJjZSxyPXsuLi50LnF1ZXJ5LGY6XCJqc29uXCJ9O3JldHVybihhd2FpdCBlKHQucGF0aCx7cXVlcnk6cixyZXNwb25zZVR5cGU6XCJqc29uXCJ9KSkuZGF0YS5lZGl0aW5nSW5mby5sYXN0RWRpdERhdGV9Y3JlYXRlVGlsZVF1ZXJ5KGUsdD17fSl7Y29uc3Qgcj10aGlzLl9zZXJ2aWNlSW5mby5nZW9tZXRyeVR5cGUscz10aGlzLmNyZWF0ZVF1ZXJ5KHQpO3MucXVhbnRpemF0aW9uUGFyYW1ldGVycz10LnF1YW50aXphdGlvblBhcmFtZXRlcnM/P2UuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpLHMucmVzdWx0VHlwZT1cInRpbGVcIixzLmdlb21ldHJ5PWUuZXh0ZW50LHRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1F1YW50aXphdGlvbj9cImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT1yJiYocy5tYXhBbGxvd2FibGVPZmZzZXQ9ZS5yZXNvbHV0aW9uKmhhcyhcImZlYXR1cmUtcG9seWxpbmUtZ2VuZXJhbGl6YXRpb24tZmFjdG9yXCIpKTpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCIhPT1yJiZcImVzcmlHZW9tZXRyeVBvbHlnb25cIiE9PXJ8fChzLm1heEFsbG93YWJsZU9mZnNldD1lLnJlc29sdXRpb24sXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09ciYmKHMubWF4QWxsb3dhYmxlT2Zmc2V0Kj1oYXMoXCJmZWF0dXJlLXBvbHlsaW5lLWdlbmVyYWxpemF0aW9uLWZhY3RvclwiKSkpO2NvbnN0IGk9dGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLnF1ZXJ5O3JldHVybiBzLmRlZmF1bHRTcGF0aWFsUmVmZXJlbmNlRW5hYmxlZD1pLnN1cHBvcnRzRGVmYXVsdFNwYXRpYWxSZWZlcmVuY2Uscy5jb21wYWN0R2VvbWV0cnlFbmFibGVkPWkuc3VwcG9ydHNDb21wYWN0R2VvbWV0cnksc31hc3luYyBfZXhlY3V0ZVBhdGNoUXVlcnkoZSx0LHIscyl7Y29uc3QgaT10LmNsb25lKCk7aS5vdXRGaWVsZHM9W3RoaXMuX3NlcnZpY2VJbmZvLm9iamVjdElkRmllbGQsLi4ucl0saS5yZXR1cm5DZW50cm9pZD0hMSxpLnJldHVybkdlb21ldHJ5PSExO2NvbnN0IGE9bnVsbCE9aS5zdGFydD9pLnN0YXJ0LzhlMzowLG89cy5zaWduYWw7cmV0dXJuIGF3YWl0IHRoaXMuZW5xdWV1ZVBhdGNoUXVlcnkoe3RpbGU6ZSxxdWVyeTppLHNpZ25hbDpvLGRlcHRoOmF9KX1hc3luYyBfcmVzZW5kKGUsdCl7Y29uc3R7cXVlcnk6cixtZXNzYWdlOml9PWUsYT1udWxsIT1yLm91dEZpZWxkcz9yLm91dEZpZWxkczpbXSxvPXRoaXMuX3F1ZXJ5SW5mby5vdXRGaWVsZHMsbj1vLmZpbHRlcigoZT0+IWEuaW5jbHVkZXMoZSkpKTtpZihudWxsIT1pLmFkZE9yVXBkYXRlKWlmKG4ubGVuZ3RoKXRyeXtjb25zdCBlPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGkuaWQpLnRpbGUsYT1hd2FpdCB0aGlzLl9leGVjdXRlUGF0Y2hRdWVyeShlLHIsbix0KTtzKHQpLHIub3V0RmllbGRzPW8saS5hZGRPclVwZGF0ZS5qb2luQXR0cmlidXRlcyhhKSx0aGlzLl9vbk1lc3NhZ2Uoey4uLmksZW5kOmkuZW5kLHR5cGU6XCJhcHBlbmRcIn0pfWNhdGNoKHUpe31lbHNlIHRoaXMuX29uTWVzc2FnZSh7Li4uaSx0eXBlOlwiYXBwZW5kXCJ9KTtlbHNlIHRoaXMuX29uTWVzc2FnZSh7Li4uaSx0eXBlOlwiYXBwZW5kXCJ9KX1hc3luYyBfcmVzZW5kU3Vic2NyaXB0aW9uKGUpe2lmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKGUudGlsZS5pZCxcIlJlc2VuZCBTdWJzY3JpcHRpb25cIiksZS5lbXB0eSlyZXR1cm4gdGhpcy5fb25NZXNzYWdlKHtpZDplLnRpbGUuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITEsdHlwZTpcImFwcGVuZFwifSk7Y29uc3QgdD1lLnNpZ25hbDtmb3IoY29uc3QgciBvZiBlLnJlcXVlc3RzLmRvbmUpYXdhaXQgdGhpcy5fcmVzZW5kKHIse3NpZ25hbDp0fSk7cmV0dXJuIG51bGwhPWUuZWRpdHM/dGhpcy5fb25NZXNzYWdlKGUuZWRpdHMpOnZvaWQgMH1hc3luYyByZXNlbmQoKXtjb25zdCBlPUFycmF5LmZyb20odGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSk7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PnRoaXMuX3Jlc2VuZFN1YnNjcmlwdGlvbihlKSkpKX19ZXhwb3J0e2MgYXMgQmFzZUZlYXR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL1RpbWVFeHRlbnQuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIHQsaWdub3JlQWJvcnRFcnJvcnMgYXMgaSxlYWNoQWx3YXlzVmFsdWVzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7ZGlmZiBhcyBvLGhhc0RpZmYgYXMgbixoYXNEaWZmQW55IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e0RhdGFUaWxlU3Vic2NyaXB0aW9uIGFzIGh9ZnJvbVwiLi9EYXRhVGlsZVN1YnNjcmlwdGlvbi5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBsfWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtmdW5jdGlvbiBwKGUscyl7Y29uc3QgdD1uZXcgU2V0O3JldHVybiBlJiZlLmZvckVhY2goKGU9PnQuYWRkKGUpKSkscyYmcy5mb3JFYWNoKChlPT50LmFkZChlKSkpLHQuaGFzKFwiKlwiKT9bXCIqXCJdOkFycmF5LmZyb20odCl9Y2xhc3MgbXtjb25zdHJ1Y3RvcihlKXt0aGlzLnVwZGF0aW5nSGFuZGxlcz1uZXcgYSx0aGlzLmV2ZW50cz1uZXcgcyx0aGlzLl9yZXNvbHZlcj10KCksdGhpcy5fZGlkRWRpdD0hMSx0aGlzLl9zdWJzY3JpcHRpb25zPW5ldyBNYXAsdGhpcy5fb3V0U1I9ZS5vdXRTUix0aGlzLl9zZXJ2aWNlSW5mbz1lLnNlcnZpY2VJbmZvLHRoaXMuX29uVGlsZVVwZGF0ZU1lc3NhZ2U9ZS5vbk1lc3NhZ2UsdGhpcy5fYXJjYWRlTGF5ZXJTY2hlbWE9ZS5hcmNhZGVMYXllclNjaGVtYX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSllLmFib3J0KCk7dGhpcy51cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWdldCBzdWJzY3JpcHRpb25zKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCl9YXN5bmMgX29uTWVzc2FnZShlKXtjb25zdCBzPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUuaWQpO2lmKCFzKXJldHVybjtjb25zdCB0PXsuLi5lLHJlbW92ZTplLnJlbW92ZT8/W10sc3RhdHVzOmUuc3RhdHVzPz9sLmVtcHR5KCl9O3JldHVybiBpKHRoaXMuX29uVGlsZVVwZGF0ZU1lc3NhZ2UodCxzLm9wdGlvbnMpKX11cGRhdGUocyx0KXtjb25zdCBpPXQuZmllbGRzLmxlbmd0aDt0Lm91dEZpZWxkcz1wKHRoaXMuX3NjaGVtYT8ub3V0RmllbGRzLHQub3V0RmllbGRzKSx0Lm91dEZpZWxkcz10Lm91dEZpZWxkcy5sZW5ndGg+PS43NSppP1tcIipcIl06dC5vdXRGaWVsZHMsdC5vdXRGaWVsZHMuc29ydCgpO2NvbnN0IHI9byh0aGlzLl9zY2hlbWEsdCk7aWYoIXIpcmV0dXJuO2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gU291cmNlOlwiLHIpO2NvbnN0IGE9XCJvcmRlckJ5RmllbGRzXCJpbiB0aGlzLl9zZXJ2aWNlSW5mbyYmdGhpcy5fc2VydmljZUluZm8ub3JkZXJCeUZpZWxkcz90aGlzLl9zZXJ2aWNlSW5mby5vcmRlckJ5RmllbGRzOnRoaXMuX3NlcnZpY2VJbmZvLm9iamVjdElkRmllbGQrXCIgQVNDXCIsZD10aGlzLl9zZXJ2aWNlSW5mby5zb3VyY2UsaD17cmV0dXJuQ2VudHJvaWQ6IShudWxsIT09ZCYmXCJvYmplY3RcIj09dHlwZW9mIGQmJlwicGF0aFwiaW4gZCYmYyhkLnBhdGgpKSYmXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI9PT10aGlzLl9zZXJ2aWNlSW5mby5nZW9tZXRyeVR5cGUscmV0dXJuR2VvbWV0cnk6ITAsdGltZVJlZmVyZW5jZVVua25vd25DbGllbnQ6XCJzdHJlYW1cIiE9PXRoaXMuX3NlcnZpY2VJbmZvLnR5cGUmJnRoaXMuX3NlcnZpY2VJbmZvLnRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50LG91dEZpZWxkczp0Lm91dEZpZWxkcyxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMuX291dFNSLG9yZGVyQnlGaWVsZHM6W2FdLHdoZXJlOnQuZGVmaW5pdGlvbkV4cHJlc3Npb258fFwiMT0xXCIsZ2RiVmVyc2lvbjp0LmdkYlZlcnNpb24saGlzdG9yaWNNb21lbnQ6dC5oaXN0b3JpY01vbWVudCx0aW1lRXh0ZW50OnQudGltZUV4dGVudD9lLmZyb21KU09OKHQudGltZUV4dGVudCk6bnVsbH0sbD10aGlzLl9zY2hlbWEmJm4ocixcIm91dEZpZWxkc1wiKTt0aGlzLl9zY2hlbWEmJnUocixbXCJ0aW1lRXh0ZW50XCIsXCJkZWZpbml0aW9uRXhwcmVzc2lvblwiLFwiZ2RiVmVyc2lvblwiLFwiaGlzdG9yaWNNb21lbnRcIixcImN1c3RvbVBhcmFtZXRlcnNcIl0pJiYocy53aHkubWVzaC5wdXNoKFwiTGF5ZXIgZmlsdGVyIGFuZC9vciBjdXN0b20gcGFyYW1ldGVycyBjaGFuZ2VkXCIpLHMud2h5LnNvdXJjZS5wdXNoKFwiTGF5ZXIgZmlsdGVyIGFuZC9vciBjdXN0b20gcGFyYW1ldGVycyBjaGFuZ2VkXCIpLHMubWVzaD0hMCxzLnNvdXJjZT0hMCxzLnF1ZXJ5RmlsdGVyPSEwKSxsJiYocy53aHkuc291cmNlLnB1c2goXCJMYXllciByZXF1aXJlZCBmaWVsZHMgY2hhbmdlZFwiKSxzLnNvdXJjZT0hMCksbyhoLHRoaXMuX3F1ZXJ5SW5mbykmJih0aGlzLl9xdWVyeUluZm89aCksdGhpcy5fc2NoZW1hPXQsdGhpcy5fcmVzb2x2ZXIucmVzb2x2ZSgpfXdoZW5Jbml0aWFsaXplZCgpe3JldHVybiB0aGlzLl9yZXNvbHZlci5wcm9taXNlfWFzeW5jIGFwcGx5VXBkYXRlKGUpe2lmKGUucXVlcnlGaWx0ZXJ8fGUuc291cmNlJiZ0aGlzLl9kaWRFZGl0KXJldHVybiB0aGlzLnJlZnJlc2goZS52ZXJzaW9uKSx2b2lkKHRoaXMuX2RpZEVkaXQ9ITEpO3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgocz0+cy5hcHBseVVwZGF0ZShlKSkpLGF3YWl0IHRoaXMucmVzZW5kKCl9cmVmcmVzaChlLHMpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3RpbGVzKCkpdGhpcy51bnN1YnNjcmliZSh0KSx0aGlzLnN1YnNjcmliZSh0LGUpfXN1YnNjcmliZShlLHMpe2NvbnN0IHQ9bmV3IGgoZSxzKTtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy5zZXQoZS5pZCx0KSx0fXVuc3Vic2NyaWJlKGUpe2NvbnN0IHM9dGhpcy5nZXRTdWJzY3JpcHRpb24oZS5pZCk7bnVsbCE9cyYmcy5hYm9ydCgpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZGVsZXRlKGUuaWQpfWNyZWF0ZVF1ZXJ5KGU9e30pe2NvbnN0IHM9dGhpcy5fcXVlcnlJbmZvLmhpc3RvcmljTW9tZW50P25ldyBEYXRlKHRoaXMuX3F1ZXJ5SW5mby5oaXN0b3JpY01vbWVudCk6bnVsbDtyZXR1cm4gbmV3IGQoey4uLnRoaXMuX3F1ZXJ5SW5mbyxoaXN0b3JpY01vbWVudDpzLC4uLmV9KX1nZXRTdWJzY3JpcHRpb24oZSl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMuaGFzKGUpP3RoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUpOm51bGx9YXN5bmMgcXVlcnlMYXN0RWRpdERhdGUoKXt0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2aWNlIGRvZXMgbm90IHN1cHBvcnQgcXVlcnkgdHlwZVwiKX1hc3luYyBxdWVyeShlLHMpe3Rocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgZG9lcyBub3Qgc3VwcG9ydCBxdWVyeVwiKX0qX3RpbGVzKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpO2Zvcihjb25zdCBzIG9mIGUpeWllbGQgcy50aWxlfWFzeW5jIGVkaXQoZSxzKXtyZXR1cm4gdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9lZGl0KGUscykpfWFzeW5jIF9lZGl0KGUscyl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpLGk9dC5tYXAoKCh7dGlsZTplfSk9PmUpKTtmb3IoY29uc3QgciBvZiB0KXIucmVtb3ZlSWRzKHMpO2lmKGUubGVuZ3RoKXtjb25zdCB0PWkubWFwKChzPT57Y29uc3QgdD10aGlzLmNyZWF0ZVRpbGVRdWVyeShzKTtyZXR1cm4gdC5vYmplY3RJZHM9ZSx7dGlsZTpzLHF1ZXJ5OnR9fSkpLm1hcCgoYXN5bmMoe3RpbGU6ZSxxdWVyeTpzfSk9Pih7dGlsZTplLHJlc3VsdDphd2FpdCB0aGlzLnF1ZXJ5KHMse3F1ZXJ5Ont0aWxlOmhhcyhcImVzcmktdGlsZXMtZGVidWdcIik/ZS5pZC5yZXBsYWNlQWxsKFwiL1wiLFwiLlwiKTp2b2lkIDB9fSkscXVlcnk6c30pKSksbz0oYXdhaXQgcih0KSkubWFwKChhc3luYyh7dGlsZTp0LHJlc3VsdDppfSk9PntpZighaS5oYXNGZWF0dXJlcyYmIXMubGVuZ3RoJiYhZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHI9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQodC5rZXkuaWQpO3ImJnIuZWRpdChpLGUpfSkpO2F3YWl0IFByb21pc2UuYWxsU2V0dGxlZChvKX10aGlzLl9kaWRFZGl0PSEwfX1leHBvcnR7bSBhcyBEYXRhVGlsZVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQ2lyY3VsYXJBcnJheS5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y3JlYXRlUmVzb2x2ZXIgYXMgdCx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyByLGNyZWF0ZUFib3J0RXJyb3IgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBvfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgZH1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7Y2xhc3MgYXtjb25zdHJ1Y3RvcihlLGkpe3RoaXMucmVxdWVzdHM9e2RvbmU6bmV3IEFycmF5LHN0cmVhbTpuZXcgcygxMCl9LHRoaXMuX2VkaXRzPW51bGwsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fdmVyc2lvbj0wLHRoaXMuX2lzRG9uZT0hMSx0aGlzLmRpZFNlbmQ9ITEsdGhpcy50aWxlPWUsdGhpcy5fdmVyc2lvbj1pLHRoaXMuX3Jlc29sdmVyPXQoKSx0aGlzLl9yZXNvbHZlci5wcm9taXNlLmNhdGNoKChlPT5yKGUpKSl9Z2V0IHNpZ25hbCgpe3JldHVybiB0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsfWdldCBvcHRpb25zKCl7cmV0dXJue3NpZ25hbDp0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsfX1nZXQgZW1wdHkoKXtyZXR1cm4hdGhpcy5yZXF1ZXN0cy5kb25lLmxlbmd0aCYmbnVsbD09dGhpcy5lZGl0c31nZXQgZWRpdHMoKXtyZXR1cm4gdGhpcy5fZWRpdHN9Z2V0IGRvbmUoKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZXIucHJvbWlzZX1nZXQgaXNEb25lKCl7cmV0dXJuIHRoaXMuX2lzRG9uZX1yZXNvbHZlKCl7dGhpcy5faXNEb25lPSEwLHRoaXMuX3Jlc29sdmVyLnJlc29sdmUoKX1jbGVhcigpe3RoaXMucmVxdWVzdHMuZG9uZT1bXX1hcHBseVVwZGF0ZShlKXt0aGlzLnJlcXVlc3RzLmRvbmUuZm9yRWFjaCgocz0+cy5tZXNzYWdlLnN0YXR1cy51bnNldChlKSkpLHRoaXMuX3ZlcnNpb249ZS52ZXJzaW9uLG51bGwhPXRoaXMuX2VkaXRzJiZ0aGlzLl9lZGl0cy5zdGF0dXMudW5zZXQoZSl9YWRkKGUpe2UubWVzc2FnZS5zdGF0dXM9ZS5tZXNzYWdlLnN0YXR1cz8/ZC5lbXB0eSgpLGUubWVzc2FnZS5zdGF0dXMudmVyc2lvbj10aGlzLl92ZXJzaW9uLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKHRoaXMudGlsZS5pZCxcIkRhdGFUaWxlU3Vic2NyaXB0aW9uOmFkZFwiLHRoaXMuX3ZlcnNpb24pLGUubWVzc2FnZS5lbmQmJih0aGlzLnJlcXVlc3RzLmRvbmUuZm9yRWFjaCgoZT0+e251bGwhPWUubWVzc2FnZSYmZS5tZXNzYWdlLmVuZCYmKGUubWVzc2FnZS5lbmQ9ITEpfSkpLHRoaXMuX3Jlc29sdmVyLnJlc29sdmUoKSx0aGlzLl9pc0RvbmU9ITApLHRoaXMucmVxdWVzdHMuZG9uZS5wdXNoKGUpfWVkaXQocyx0KXtjb25zdCByPXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCksaT1zLmZ1bGxTY2hlbWEoKSxhPUFycmF5LmZyb20ocy5mZWF0dXJlcygpKS5maWx0ZXIoZSksbj1bLi4udCwuLi5hLm1hcCgoZT0+ZS5vYmplY3RJZCkpXTtpZih0aGlzLnJlbW92ZUlkcyhuKSx0aGlzLl9pbnZhbGlkYXRlKCksbnVsbD09dGhpcy5fZWRpdHMpcmV0dXJuIHZvaWQodGhpcy5fZWRpdHM9e3R5cGU6XCJhcHBlbmRcIixhZGRPclVwZGF0ZTpvLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhhLGksciksaWQ6dGhpcy50aWxlLmlkLHN0YXR1czpkLmVtcHR5KCksZW5kOiEwfSk7dGhpcy5yZXF1ZXN0cy5kb25lLmZvckVhY2goKGU9PmUubWVzc2FnZS5lbmQ9ITEpKTt0aGlzLl9lZGl0cy5hZGRPclVwZGF0ZS5hcHBlbmQocy5mZWF0dXJlcygpKX0qcmVhZGVycygpe2Zvcihjb25zdHttZXNzYWdlOmV9b2YgdGhpcy5yZXF1ZXN0cy5kb25lKW51bGwhPWUuYWRkT3JVcGRhdGUmJih5aWVsZCBlLmFkZE9yVXBkYXRlKTtudWxsIT10aGlzLl9lZGl0cz8uYWRkT3JVcGRhdGUmJih5aWVsZCB0aGlzLl9lZGl0cy5hZGRPclVwZGF0ZSl9X2ludmFsaWRhdGUoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnJlcXVlc3RzLmRvbmUpZS5tZXNzYWdlLnN0YXR1cz1kLmVtcHR5KCk7bnVsbCE9dGhpcy5fZWRpdHMmJih0aGlzLl9lZGl0cy5zdGF0dXM9ZC5lbXB0eSgpKX1yZW1vdmVJZHMoZSl7dGhpcy5faW52YWxpZGF0ZSgpO2Zvcihjb25zdHttZXNzYWdlOnN9b2YgdGhpcy5yZXF1ZXN0cy5kb25lKXtjb25zdCB0PXMuYWRkT3JVcGRhdGU7bnVsbCE9dCYmKHQucmVtb3ZlSWRzKGUpLHQuaXNFbXB0eSYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiUmVtb3ZpbmcgRmVhdHVyZVNldFJlYWRlclwiKSxzLmFkZE9yVXBkYXRlPW51bGwpKX1udWxsIT10aGlzLl9lZGl0cz8uYWRkT3JVcGRhdGUmJnRoaXMuX2VkaXRzLmFkZE9yVXBkYXRlLnJlbW92ZUlkcyhlKSx0aGlzLnJlcXVlc3RzLmRvbmU9dGhpcy5yZXF1ZXN0cy5kb25lLmZpbHRlcigoZT0+ZS5tZXNzYWdlLmFkZE9yVXBkYXRlfHxlLm1lc3NhZ2UuZW5kKSl9YWJvcnQoKXt0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQoKSx0aGlzLl9yZXNvbHZlci5yZWplY3QoaSgpKX19ZXhwb3J0e2EgYXMgRGF0YVRpbGVTdWJzY3JpcHRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgZSxpc0Fib3J0RXJyb3IgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtCYXNlRmVhdHVyZVNvdXJjZSBhcyByfWZyb21cIi4vQmFzZUZlYXR1cmVTb3VyY2UuanNcIjtjb25zdCBzPWhhcyhcImVzcmktbW9iaWxlXCIpLGk9e21heERyaWxsTGV2ZWw6cz8xOjQsbWF4UmVjb3JkQ291bnRGYWN0b3I6cz8xOjN9O2NsYXNzIGEgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9mZXRjaERhdGFUaWxlKHIpe2NvbnN0IHM9dGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3IsYT10aGlzLl9zdWJzY3JpcHRpb25zLmdldChyLmtleS5pZCksbz1hLnNpZ25hbCxuPXIuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpO2xldCBjPTA7Y29uc3QgZD1hc3luYyh1LGwpPT57Y29uc3QgbT10aGlzLl9xdWVyeUluZm8scD10aGlzLmNyZWF0ZVRpbGVRdWVyeSh1LHttYXhSZWNvcmRDb3VudEZhY3RvcjpzP2kubWF4UmVjb3JkQ291bnRGYWN0b3I6dm9pZCAwLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMSxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOm59KTtjKys7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5lbnF1ZXVlUXVlcnkoe3RpbGU6cixxdWVyeTpwLHNpZ25hbDpvLGRlcHRoOmx9KTtpZihjLS0sZShvKSwhdClyZXR1cm47aWYobSE9PXRoaXMuX3F1ZXJ5SW5mbylyZXR1cm4gdm9pZCBkKHUsbCk7aWYodC5leGNlZWRlZFRyYW5zZmVyTGltaXQmJmw8aS5tYXhEcmlsbExldmVsKXtmb3IoY29uc3QgZSBvZiB1LmNyZWF0ZUNoaWxkVGlsZXMoKSlkKGUsbCsxKTtyZXR1cm59Y29uc3Qgcz17aWQ6ci5pZCxhZGRPclVwZGF0ZTp0LGVuZDowPT09Yyx0eXBlOlwiYXBwZW5kXCJ9O2EuYWRkKHtxdWVyeTpwLG1lc3NhZ2U6c30pLHRoaXMuX29uTWVzc2FnZShzKX1jYXRjaChmKXtpZighdChmKSl7Y29uc3QgZT17aWQ6ci5pZCxhZGRPclVwZGF0ZTpudWxsLGVuZDohMCx0eXBlOlwiYXBwZW5kXCJ9O2EuYWRkKHtxdWVyeTpwLG1lc3NhZ2U6ZX0pLHRoaXMuX29uTWVzc2FnZShlKX19fTtkKHIsMCl9fWV4cG9ydHthIGFzIERyaWxsRG93bkZlYXR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgcix0aHJvd0lmQWJvcnRlZCBhcyBhLHRocm93SWZOb3RBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7QmFzZUZlYXR1cmVTb3VyY2UgYXMgaX1mcm9tXCIuL0Jhc2VGZWF0dXJlU291cmNlLmpzXCI7Y2xhc3MgbyBleHRlbmRzIGl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2ZldGNoRGF0YVRpbGUocyl7Y29uc3QgaT02LG89MjAsbj10aGlzLl9zdWJzY3JpcHRpb25zLmdldChzLmtleS5pZCk7bGV0IGQ9ITEsYz0wLHU9MDtjb25zdCBoPShlLHQpPT57dS0tLGEobik7Y29uc3Qgcj1zLmlkLGk9ZS5yZWFkZXIsbz1lLnF1ZXJ5O2lmKCFpLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCl7aWYoZD0hMCwwIT09dCYmIWkuaGFzRmVhdHVyZXMpe2NvbnN0IGU9e2lkOnIsYWRkT3JVcGRhdGU6aSxlbmQ6MD09PXUsdHlwZTpcImFwcGVuZFwifTtyZXR1cm4gbi5hZGQoe21lc3NhZ2U6ZSxxdWVyeTpvfSksdm9pZCB0aGlzLl9vbk1lc3NhZ2UoZSl9Y29uc3QgZT17aWQ6cixhZGRPclVwZGF0ZTppLGVuZDowPT09dSx0eXBlOlwiYXBwZW5kXCJ9O3JldHVybiBuLmFkZCh7bWVzc2FnZTplLHF1ZXJ5Om99KSx2b2lkIHRoaXMuX29uTWVzc2FnZShlKX1jb25zdCBjPXtpZDpyLGFkZE9yVXBkYXRlOmksZW5kOmQmJjA9PT11LHR5cGU6XCJhcHBlbmRcIn07bi5hZGQoe21lc3NhZ2U6YyxxdWVyeTpvfSksdGhpcy5fb25NZXNzYWdlKGMpfTtsZXQgbT0wLHA9MDtmb3IoOyFkJiZwKys8bzspe2xldCBvO2ZvcihsZXQgYT0wO2E8bSsxO2ErKyl7Y29uc3QgYT1jKys7dSsrLG89dGhpcy5fZmV0Y2hEYXRhVGlsZVBhZ2UocyxhLG4pLnRoZW4oKGU9PmUmJmgoZSxhKSkpLmNhdGNoKChhPT57aWYoZD0hMCwhcihhKSl7dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlBhZ2VkRmVhdHVyZVNvdXJjZVwiKS5lcnJvcihuZXcgZShcIm1hcHZpZXctcXVlcnktZXJyb3JcIixcIkVuY291bnRlcmVkIGVycm9yIHdoZW4gZmV0Y2hpbmcgdGlsZVwiLHt0aWxlOnMsZXJyb3I6YX0pKTtjb25zdCByPXtpZDpzLmlkLGFkZE9yVXBkYXRlOm51bGwsZW5kOmQsdHlwZTpcImFwcGVuZFwifSxpPXtzdGFydDp0aGlzLnBhZ2VTaXplKmMsbnVtOnRoaXMucGFnZVNpemUscmV0dXJuRXhjZWVkZWRMaW1pdEZlYXR1cmVzOiEwLHF1YW50aXphdGlvblBhcmFtZXRlcnM6cy5nZXRRdWFudGl6YXRpb25QYXJhbWV0ZXJzKCl9O251bGwhPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3ImJihpLm1heFJlY29yZENvdW50RmFjdG9yPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3IpO2NvbnN0IG89dGhpcy5jcmVhdGVUaWxlUXVlcnkocyxpKTtuLmFkZCh7bWVzc2FnZTpyLHF1ZXJ5Om99KSx0aGlzLl9vbk1lc3NhZ2Uocil9fSkpfWF3YWl0IG8sYShuKSxtPU1hdGgubWluKG0rMixpKX19YXN5bmMgX2ZldGNoRGF0YVRpbGVQYWdlKGUsdCxyKXthKHIpO2NvbnN0IGk9dGhpcy5fcXVlcnlJbmZvLG89e3N0YXJ0OnRoaXMucGFnZVNpemUqdCxudW06dGhpcy5wYWdlU2l6ZSxyZXR1cm5FeGNlZWRlZExpbWl0RmVhdHVyZXM6ITAscXVhbnRpemF0aW9uUGFyYW1ldGVyczplLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKX07bnVsbCE9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3RvciYmKG8ubWF4UmVjb3JkQ291bnRGYWN0b3I9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3Rvcik7Y29uc3Qgbj10aGlzLmNyZWF0ZVRpbGVRdWVyeShlLG8pO3RyeXtjb25zdCBzPXIuc2lnbmFsLG89YXdhaXQgdGhpcy5lbnF1ZXVlUXVlcnkoe3RpbGU6ZSxxdWVyeTpuLHNpZ25hbDpzLGRlcHRoOnR9KTtyZXR1cm4gYShyKSxvP2khPT10aGlzLl9xdWVyeUluZm8/dGhpcy5fZmV0Y2hEYXRhVGlsZVBhZ2UoZSx0LHIpOntyZWFkZXI6byxxdWVyeTpufTpudWxsfWNhdGNoKGQpe3JldHVybiBzKGQpLG51bGx9fX1leHBvcnR7byBhcyBQYWdlZEZlYXR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthc3NlcnRJc1NvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHIsYWZ0ZXIgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvUmFuZG9tTENHLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtCYXNlRmVhdHVyZVNvdXJjZSBhcyBpfWZyb21cIi4vQmFzZUZlYXR1cmVTb3VyY2UuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckluZGlyZWN0IGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSW5kaXJlY3QuanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgdX1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7ZnVuY3Rpb24gbChlLHQscyl7Y29uc3Qgcj1lLmdldFhIeWRyYXRlZCgpLG89ZS5nZXRZSHlkcmF0ZWQoKSxhPXQuZ2V0Q29sdW1uRm9yWChyKSxuPU1hdGguZmxvb3IodC5ub3JtYWxpemVDb2woYSkpO3JldHVybmAke3N9LyR7TWF0aC5mbG9vcih0LmdldFJvd0ZvclkobykpfS8ke259YH1mdW5jdGlvbiBoKGUsdCl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCBzPXQudHJhbnNmb3JtLHI9ZS5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtpZihudWxsPT1yKXtjb25zdFt0LHJdPXMuc2NhbGUsW28sYV09cy50cmFuc2xhdGUsbj0tby90LGk9MS90LGQ9YS9yLHU9MS8tcjtyZXR1cm4gZS50cmFuc2Zvcm0obixkLGksdSl9Y29uc3RbbyxhXT1yLnNjYWxlLFtuLGldPXIudHJhbnNsYXRlLFtkLHVdPXMuc2NhbGUsW2wsaF09cy50cmFuc2xhdGUsYz1vL2QsZz0obi1sKS9kLHA9YS91LF89KC1pK2gpL3U7cmV0dXJuIGUudHJhbnNmb3JtKGcsXyxjLHApfWxldCBjPWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm1vZGU9XCJzbmFwc2hvdFwiLHRoaXMuX2xvYWRpbmc9ITAsdGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2Rvd25sb2FkUHJvbWlzZT1udWxsLHRoaXMuX2RpZFNlbmRFbmQ9ITEsdGhpcy5fcXVlcmllcz1uZXcgQXJyYXksdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5faGFzQWdncmVnYXRlcz0hMSx0aGlzLl9yYW5kb209bmV3IGEoMWUzKSx0aGlzLl9zdG9yZT1lLnN0b3JlLHRoaXMuX21hcmtlZElkc0J1ZklkPXRoaXMuX3N0b3JlLnN0b3JhZ2UuY3JlYXRlQml0c2V0KCl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9jb250cm9sbGVyLmFib3J0KCl9Z2V0IGxvYWRpbmcoKXtyZXR1cm4gdGhpcy5fbG9hZGluZ31nZXQgX3NpZ25hbCgpe3JldHVybiB0aGlzLl9jb250cm9sbGVyLnNpZ25hbH11cGRhdGUoZSx0KXtzdXBlci51cGRhdGUoZSx0KSx0aGlzLl9mZWF0dXJlQ291bnQ/Pz10LmluaXRpYWxGZWF0dXJlQ291bnQsbnVsbCE9dC5jaGFuZ2VkRmVhdHVyZUNvdW50JiYodGhpcy5fZmVhdHVyZUNvdW50PXQuY2hhbmdlZEZlYXR1cmVDb3VudCksdGhpcy5faGFzQWdncmVnYXRlcz0hIWUudGFyZ2V0cz8uYWdncmVnYXRlfWFzeW5jIHJlc2VuZChlPSExKXtpZihhd2FpdCB0aGlzLl9kb3dubG9hZFByb21pc2UsdGhpcy5faW52YWxpZGF0ZWR8fGUpe2NvbnN0IGU9dGhpcy5fZmVhdHVyZUNvdW50O3JldHVybiBzKGUsXCJFeHBlY3RlZCBmZWF0dXJlQ291bnQgdG8gYmUgZGVmaW5lZFwiKSx0aGlzLl9pbnZhbGlkYXRlZD0hMSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9PmUuY2xlYXIoKSkpLHRoaXMuX2Rvd25sb2FkUHJvbWlzZT10aGlzLl9kb3dubG9hZChlKSx2b2lkIGF3YWl0IHRoaXMuX2Rvd25sb2FkUHJvbWlzZX1jb25zdCB0PXRoaXMuX3F1ZXJpZXMubWFwKCgoe3F1ZXJ5OmUscmVhZGVyOnR9KT0+dGhpcy5fc2VuZFBhdGNoUXVlcnkoZSx0KSkpO2F3YWl0IFByb21pc2UuYWxsKHQpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2UucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChlPT50aGlzLl9vbk1lc3NhZ2UoZS5tZXNzYWdlKSkpfSkpfWFzeW5jIHJlZnJlc2goZSx0KXt0JiYodGhpcy5fZmVhdHVyZUNvdW50PXQuZmVhdHVyZUNvdW50KSxhd2FpdCB0aGlzLnJlc2VuZCghMCl9YXN5bmMgX3NlbmRQYXRjaFF1ZXJ5KGUsdCl7Y29uc3Qgcz1udWxsIT1lLm91dEZpZWxkcz9lLm91dEZpZWxkczpbXSxvPXRoaXMuX3F1ZXJ5SW5mby5vdXRGaWVsZHMsYT1vLmZpbHRlcigoZT0+IXMuaW5jbHVkZXMoZSkpKTtpZighYS5sZW5ndGgpcmV0dXJuO2NvbnN0IG49ZS5jbG9uZSgpLGk9dGhpcy5fc2lnbmFsO24ucmV0dXJuR2VvbWV0cnk9ITEsbi5yZXR1cm5DZW50cm9pZD0hMSxuLm91dEZpZWxkcz1hLGUub3V0RmllbGRzPW87Y29uc3QgZD1hd2FpdCB0aGlzLmVucXVldWVRdWVyeSh7cXVlcnk6bixkZXB0aDowLHNpZ25hbDppfSk7cih7c2lnbmFsOml9KSx0LmpvaW5BdHRyaWJ1dGVzKGQpfWFzeW5jIF9mZXRjaERhdGFUaWxlKGUpe3RoaXMuX2Rvd25sb2FkUHJvbWlzZT8/PXRoaXMuX2Rvd25sb2FkKHRoaXMuX2ZlYXR1cmVDb3VudCk7Y29uc3QgdD10aGlzLl9zdG9yZS5zZWFyY2goZSkscz10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlLmtleS5pZCkscj10Lmxlbmd0aC0xO2ZvcihsZXQgZD0wO2Q8cjtkKyspe2NvbnN0IHI9aCh0W2RdLGUpLGE9e3R5cGU6XCJhcHBlbmRcIixpZDplLmlkLGFkZE9yVXBkYXRlOnIsZW5kOiExLHN0YXR1czp1LmVtcHR5KCl9O3MuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6YX0pLHRoaXMuX2hhc0FnZ3JlZ2F0ZXN8fGF3YWl0IG8oMSksdGhpcy5fb25NZXNzYWdlKGEpfWNvbnN0IGE9aChyPj0wP3Rbcl06bnVsbCxlKSxuPXRoaXMuX2RpZFNlbmRFbmQsaT17dHlwZTpcImFwcGVuZFwiLGlkOmUuaWQsYWRkT3JVcGRhdGU6YSxlbmQ6bixzdGF0dXM6dS5lbXB0eSgpfTtzLmFkZCh7cXVlcnk6bnVsbCxtZXNzYWdlOml9KSx0aGlzLl9vbk1lc3NhZ2UoaSl9YXN5bmMgX2Rvd25sb2FkKGUpe3RyeXthd2FpdCB0aGlzLndoZW5Jbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5fc3RvcmUuc3RvcmFnZS5nZXRCaXRzZXQodGhpcy5fbWFya2VkSWRzQnVmSWQpLHM9bmV3IFNldDt0LmNsZWFyKCk7Y29uc3Qgcj1NYXRoLmNlaWwoZS90aGlzLnBhZ2VTaXplKSxvPUFycmF5LmZyb20oe2xlbmd0aDpyfSwoKGUsdCk9PnQpKS5zb3J0KCgoZSx0KT0+dGhpcy5fcmFuZG9tLmdldEludCgpLXRoaXMuX3JhbmRvbS5nZXRJbnQoKSkpLm1hcCgoZT0+dGhpcy5fZG93bmxvYWRQYWdlKGUsdCxzKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pLHRoaXMuX3N0b3JlLnN3ZWVwRmVhdHVyZXModCx0aGlzLl9zdG9yZS5zdG9yYWdlKSx0aGlzLl9zdG9yZS5zd2VlcEZlYXR1cmVTZXRzKHMpfWNhdGNoKHMpe3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5TbmFwc2hvdEZlYXR1cmVTb3VyY2VcIikuZXJyb3IoXCJtYXB2aWV3LXNuYXBzaG90LXNvdXJjZVwiLFwiRW5jb3VudGVyZWQgYW5kIGVycm9yIHdoZW4gZG93bmxvYWRpbmcgZmVhdHVyZSBzbmFwc2hvdFwiLHMpfXRoaXMuX3NlbmRFbmQoKSx0aGlzLl9sb2FkaW5nPSExfWFzeW5jIF9kb3dubG9hZFBhZ2UoZSx0LHMpe2NvbnN0IG89dGhpcy5wYWdlU2l6ZSxhPXtzdGFydDplKm8sbnVtOm8sY2FjaGVIaW50OiEwfTtudWxsIT10aGlzLm1heFJlY29yZENvdW50RmFjdG9yJiYoYS5tYXhSZWNvcmRDb3VudEZhY3Rvcj10aGlzLm1heFJlY29yZENvdW50RmFjdG9yKTtjb25zdCBuPXRoaXMuY3JlYXRlUXVlcnkoYSksaT10aGlzLl9zaWduYWwsZD1hd2FpdCB0aGlzLmVucXVldWVRdWVyeSh7cXVlcnk6bixkZXB0aDplLHNpZ25hbDppfSk7cih7c2lnbmFsOml9KSx0aGlzLl9xdWVyaWVzLnB1c2goe3F1ZXJ5Om4scmVhZGVyOmR9KSx0aGlzLl9zdG9yZS5pbnNlcnQoZCkscy5hZGQoZC5pbnN0YW5jZSk7Y29uc3QgdT1kLmdldEN1cnNvcigpO2Zvcig7dS5uZXh0KCk7KXQuc2V0KHUuZ2V0RGlzcGxheUlkKCkpO3RoaXMuX3NlbmQoZCl9X3NlbmQoZSl7aWYoIXRoaXMuX3N1YnNjcmlwdGlvbnMuc2l6ZSlyZXR1cm47bGV0IHQ9bnVsbDtjb25zdCBzPW5ldyBNYXAscj1uZXcgU2V0LG89bmV3IE1hcDt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9Pntjb25zdCBhPWUudGlsZTtzLnNldChhLmtleS5pZCxudWxsKSx0PWEudGlsZUluZm9WaWV3LHIuYWRkKGEubGV2ZWwpO2NvbnN0e3JvdzpuLGNvbDppfT1hLmtleSxkPWAke2EubGV2ZWx9LyR7bn0vJHtpfWAsdT1vLmdldChkKT8/W107dS5wdXNoKGUpLG8uc2V0KGQsdSl9KSk7Zm9yKGNvbnN0IGEgb2Ygcil7Y29uc3Qgcj10LmdldExPREluZm9BdChhKSxuPWUuZ2V0Q3Vyc29yKCk7Zm9yKDtuLm5leHQoKTspe2NvbnN0IGU9bChuLHIsYSksdD1uLmdldEluZGV4KCk7aWYoby5oYXMoZSkpZm9yKGNvbnN0IHIgb2Ygby5nZXQoZSkpe2NvbnN0IGU9ci50aWxlLmlkO2xldCBvPXMuZ2V0KGUpO251bGw9PW8mJihvPVtdLHMuc2V0KGUsbykpLG8ucHVzaCh0KX19fXMuZm9yRWFjaCgoKHQscyk9PntpZihudWxsIT10KXtjb25zdCByPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHMpLG89e3R5cGU6XCJhcHBlbmRcIixpZDpzLGFkZE9yVXBkYXRlOmgoZC5mcm9tKGUsdCksci50aWxlKSxlbmQ6ITEsc3RhdHVzOnUuZW1wdHkoKX07ci5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTpvfSksdGhpcy5fb25NZXNzYWdlKG8pfX0pKX1fc2VuZEVuZCgpe3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9e3R5cGU6XCJhcHBlbmRcIixpZDplLnRpbGUuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITAsc3RhdHVzOnUuZW1wdHkoKX07ZS5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTp0fSksdGhpcy5fb25NZXNzYWdlKHQpfSkpLHRoaXMuX2RpZFNlbmRFbmQ9ITB9fTtjPWUoW24oXCJlc3JpLnZpZXcuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuU25hcHNob3RGZWF0dXJlU291cmNlXCIpXSxjKTtleHBvcnR7YyBhcyBTbmFwc2hvdEZlYXR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBzPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihyKXtzdXBlcihyKX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25TdGF0dXN9Z2V0IGVycm9yU3RyaW5nKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbj8uZXJyb3JTdHJpbmd9fTtyKFt0KCldLHMucHJvdG90eXBlLFwiY29ubmVjdGlvblwiLHZvaWQgMCkscihbdCgpXSxzLnByb3RvdHlwZSxcImNvbm5lY3Rpb25TdGF0dXNcIixudWxsKSxyKFt0KCldLHMucHJvdG90eXBlLFwiZXJyb3JTdHJpbmdcIixudWxsKSxzPXIoW2UoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlN0cmVhbUNvbm5lY3Rpb25TdGF0ZVwiKV0scyk7ZXhwb3J0e3MgYXMgU3RyZWFtQ29ubmVjdGlvblN0YXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aGFuZGxlc0dyb3VwIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9yYnVzaC5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUZlYXR1cmUgYXMgcyxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIGkscXVhbnRpemVYIGFzIG4scXVhbnRpemVZIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7U3RyZWFtRmVhdHVyZU1hbmFnZXIgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9TdHJlYW1GZWF0dXJlTWFuYWdlci5qc1wiO2ltcG9ydHtjcmVhdGVDb25uZWN0aW9uIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvY29ubmVjdGlvbnMvY3JlYXRlQ29ubmVjdGlvbi5qc1wiO2ltcG9ydHtEYXRhVGlsZVNvdXJjZSBhcyBjfWZyb21cIi4vRGF0YVRpbGVTb3VyY2UuanNcIjtpbXBvcnR7U3RyZWFtQ29ubmVjdGlvblN0YXRlIGFzIGh9ZnJvbVwiLi9TdHJlYW1Db25uZWN0aW9uU3RhdGUuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgdX1mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIGx9ZnJvbVwiLi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2NvbnN0IHA9MjUwMDtmdW5jdGlvbiBfKGUsdCl7Y29uc3Qgcz1lLndlYWtDbG9uZSgpO2lmKG51bGwhPWUuZ2VvbWV0cnkpe2NvbnN0IGk9bih0LGUuZ2VvbWV0cnkuY29vcmRzWzBdKSxvPXIodCxlLmdlb21ldHJ5LmNvb3Jkc1sxXSk7cy5nZW9tZXRyeT1uZXcgYShbXSxbaSxvXSl9cmV0dXJuIHN9ZnVuY3Rpb24gbShlKXtyZXR1cm5cImVzcmlHZW9tZXRyeVBvaW50XCI9PT1lP186KHQscyk9Pntjb25zdCBuPXQud2Vha0Nsb25lKCkscj1uZXcgYSxvPSExLGQ9ITEsYz1pKHIsdC5nZW9tZXRyeSxvLGQsZSxzLCExLCExKTtyZXR1cm4gbi5nZW9tZXRyeT1jLG59fWZ1bmN0aW9uIHkoZSl7cmV0dXJuXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09ZT9lPT5udWxsIT1lLmdlb21ldHJ5P3ttaW5YOmUuZ2VvbWV0cnkuY29vcmRzWzBdLG1pblk6ZS5nZW9tZXRyeS5jb29yZHNbMV0sbWF4WDplLmdlb21ldHJ5LmNvb3Jkc1swXSxtYXhZOmUuZ2VvbWV0cnkuY29vcmRzWzFdfTp7bWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH06ZT0+e2xldCB0PTEvMCxzPTEvMCxpPS0xLzAsbj0tMS8wO3JldHVybiBudWxsIT1lLmdlb21ldHJ5JiZlLmdlb21ldHJ5LmZvckVhY2hWZXJ0ZXgoKChlLHIpPT57dD1NYXRoLm1pbih0LGUpLHM9TWF0aC5taW4ocyxyKSxpPU1hdGgubWF4KGksZSksbj1NYXRoLm1heChuLHIpfSkpLHttaW5YOnQsbWluWTpzLG1heFg6aSxtYXhZOm59fX1mdW5jdGlvbiBnKGUscyl7Y29uc3QgaT10KDkseShzKSk7cmV0dXJuIGkubG9hZChlKSxpfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZS5zZWFyY2goe21pblg6dC5ib3VuZHNbMF0sbWluWTp0LmJvdW5kc1sxXSxtYXhYOnQuYm91bmRzWzJdLG1heFk6dC5ib3VuZHNbM119KX1jbGFzcyB2e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5vblVwZGF0ZT1lLHRoaXMuX2dlb21ldHJ5VHlwZT10LHRoaXMuX29iamVjdElkVG9GZWF0dXJlPW5ldyBNYXAsdGhpcy5faW5kZXg9bnVsbH1nZXQgX2ZlYXR1cmVzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZm9yRWFjaCgodD0+ZS5wdXNoKHQpKSksZX1hZGQoZSl7dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuc2V0KGUub2JqZWN0SWQsZSksdGhpcy5faW5kZXg9bnVsbH1nZXQoZSl7cmV0dXJuIHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmhhcyhlKT90aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5nZXQoZSk6bnVsbH1mb3JFYWNoKGUpe3RoaXMuX29iamVjdElkVG9GZWF0dXJlLmZvckVhY2goZSl9c2VhcmNoKGUpe3JldHVybiB0aGlzLl9pbmRleHx8KHRoaXMuX2luZGV4PWcodGhpcy5fZmVhdHVyZXMsdGhpcy5fZ2VvbWV0cnlUeXBlKSksZih0aGlzLl9pbmRleCxlKX1jbGVhcigpe3RoaXMuX2luZGV4PW51bGwsdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuY2xlYXIoKX1yZW1vdmVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZ2V0KGUpO3JldHVybiB0Pyh0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5kZWxldGUoZSksdGhpcy5faW5kZXg9bnVsbCx0KTpudWxsfXVwZGF0ZShlLHQpe3RoaXMub25VcGRhdGUoZSx0KX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5zaXplfX1jbGFzcyBJIGV4dGVuZHMgY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnR5cGU9XCJzdHJlYW1cIix0aGlzLl91cGRhdGVJbnRlcnZhbElkPTAsdGhpcy5fbGV2ZWw9MCx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl91cGRhdGVJbmZvPXt3ZWJzb2NrZXQ6MCxjbGllbnQ6MH0sdGhpcy5faW5VcGRhdGU9ITE7Y29uc3R7b3V0U1I6c309dCx7Z2VvbWV0cnlUeXBlOmksb2JqZWN0SWRGaWVsZDpuLHRpbWVJbmZvOnIscHVyZ2VPcHRpb25zOmEsc291cmNlOmMsc3BhdGlhbFJlZmVyZW5jZTp1LHNlcnZpY2VGaWx0ZXI6bCxtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czpfLG1heFJlY29ubmVjdGlvbkludGVydmFsOnksdXBkYXRlSW50ZXJ2YWw6ZyxjdXN0b21QYXJhbWV0ZXJzOmYsZW5hYmxlZEV2ZW50VHlwZXM6SX09dC5zZXJ2aWNlSW5mbyxiPW5ldyB2KHRoaXMuX29uVXBkYXRlLmJpbmQodGhpcyksaSksVD1uZXcgbyhiLG4scixhKSxTPWQoYyx1LHMsaSxsLF8seSxmPz97fSk7dGhpcy5fY29ubmVjdGlvblN0YXRlPW5ldyBoKHtjb25uZWN0aW9uOlN9KSx0aGlzLl9zdG9yZT1iLHRoaXMuX21hbmFnZXI9VCx0aGlzLl9jb25uZWN0aW9uPVMsdGhpcy5fcXVhbnRpemU9bShpKSx0aGlzLl9lbmFibGVkRXZlbnRUeXBlcz1uZXcgU2V0KEkpLHRoaXMuX2hhbmRsZXNHcm91cD1lKFt0aGlzLl9jb25uZWN0aW9uLm9uKFwiZGF0YS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbkZlYXR1cmUoZSkpKSx0aGlzLl9jb25uZWN0aW9uLm9uKFwibWVzc2FnZS1yZWNlaXZlZFwiLChlPT50aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UoZSkpKV0pLHRoaXMuX2luaXRVcGRhdGVJbnRlcnZhbD0oKT0+e2xldCBlPXBlcmZvcm1hbmNlLm5vdygpO3RoaXMuX3VwZGF0ZUludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3Qgcz1wZXJmb3JtYW5jZS5ub3coKSxpPXMtZTtpZihpPnApe2U9cztjb25zdCB0PU1hdGgucm91bmQodGhpcy5fdXBkYXRlSW5mby5jbGllbnQvKGkvMWUzKSksbj1NYXRoLnJvdW5kKHRoaXMuX3VwZGF0ZUluZm8ud2Vic29ja2V0LyhpLzFlMykpO3RoaXMuX3VwZGF0ZUluZm8uY2xpZW50PTAsdGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQ9MCx0aGlzLmV2ZW50cy5lbWl0KFwidXBkYXRlUmF0ZVwiLHtjbGllbnQ6dCx3ZWJzb2NrZXQ6bn0pfXQuY2FuQWNjZXB0UmVxdWVzdCgpJiYhdGhpcy5faW5VcGRhdGUmJnRoaXMuX21hbmFnZXIuY2hlY2tGb3JVcGRhdGVzKCl9KSxnKX0sdGhpcy5faXNQYXVzZWQ9dC5zZXJ2aWNlSW5mby5pc1BhdXNlZCx0aGlzLl9pc1BhdXNlZHx8dGhpcy5faW5pdFVwZGF0ZUludGVydmFsKCl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9jbGVhclVwZGF0ZUludGVydmFsKCksdGhpcy5fY29ubmVjdGlvbi5kZXN0cm95KCksdGhpcy5faGFuZGxlc0dyb3VwPy5yZW1vdmUoKX1fZmV0Y2hEYXRhVGlsZSgpe31nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGUuY29ubmVjdGlvblN0YXR1c31nZXQgZXJyb3JTdHJpbmcoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlLmVycm9yU3RyaW5nfXVwZGF0ZUN1c3RvbVBhcmFtZXRlcnMoZSl7dGhpcy5fY29ubmVjdGlvbi51cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpfXBhdXNlU3RyZWFtKCl7dGhpcy5faXNQYXVzZWR8fCh0aGlzLl9pc1BhdXNlZD0hMCx0aGlzLl9jbGVhclVwZGF0ZUludGVydmFsKCkpfXJlc3VtZVN0cmVhbSgpe3RoaXMuX2lzUGF1c2VkJiYodGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5faW5pdFVwZGF0ZUludGVydmFsKCkpfXNlbmRNZXNzYWdlVG9Tb2NrZXQoZSl7dGhpcy5fY29ubmVjdGlvbi5zZW5kTWVzc2FnZVRvU29ja2V0KGUpfXNlbmRNZXNzYWdlVG9DbGllbnQoZSl7dGhpcy5faXNQYXVzZWQmJlwidHlwZVwiaW4gZSYmXCJjbGVhclwiPT09ZS50eXBlPyh0aGlzLl9zdG9yZS5jbGVhcigpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntlLmRpZFNlbmQmJmUudGlsZS5sZXZlbD09PXRoaXMuX2xldmVsJiZ0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDp0LGFkZE9yVXBkYXRlOm51bGwsY2xlYXI6ITAsZW5kOiEwfSl9KSkpOnRoaXMuX2Nvbm5lY3Rpb24uc2VuZE1lc3NhZ2VUb0NsaWVudChlKX1lbmFibGVFdmVudChlLHQpe3Q/dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuYWRkKGUpOnRoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmRlbGV0ZShlKX1zdWJzY3JpYmUoZSx0KXtjb25zdCBzPXN1cGVyLnN1YnNjcmliZShlLHQpO3RoaXMuX2xldmVsPWUubGV2ZWw7Y29uc3QgaT10aGlzLl9nZXRUaWxlRmVhdHVyZXMoZSk7cmV0dXJuIHRoaXMuX29uTWVzc2FnZSh7dHlwZTpcImFwcGVuZFwiLGlkOmUua2V5LmlkLGFkZE9yVXBkYXRlOmksZW5kOiEwfSkscy5kaWRTZW5kPSEwLHN9dW5zdWJzY3JpYmUoZSl7c3VwZXIudW5zdWJzY3JpYmUoZSl9KnJlYWRlcnMoZSl7Y29uc3QgdD10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlKSx7dGlsZTpzfT10O3lpZWxkIHRoaXMuX2dldFRpbGVGZWF0dXJlcyhzKX1jcmVhdGVUaWxlUXVlcnkoZSl7dGhyb3cgbmV3IEVycm9yKFwiU2VydmljZSBkb2VzIG5vdCBzdXBwb3J0IHRpbGUgIHF1ZXJpZXNcIil9YXN5bmMgcmVzZW5kKCl7dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT57Y29uc3R7dGlsZTp0fT1lLHM9e3R5cGU6XCJhcHBlbmRcIixpZDp0LmlkLGFkZE9yVXBkYXRlOnRoaXMuX2dldFRpbGVGZWF0dXJlcyh0KSxlbmQ6ITB9O3RoaXMuX29uTWVzc2FnZShzKX0pKX1fZ2V0VGlsZUZlYXR1cmVzKGUpe2NvbnN0IHQ9dGhpcy5fc3RvcmUuc2VhcmNoKGUpLm1hcCgodD0+dGhpcy5fcXVhbnRpemUodCxlLnRyYW5zZm9ybSkpKTtyZXR1cm4gdS5mcm9tT3B0aW1pemVkRmVhdHVyZXModCx0aGlzLl9hcmNhZGVMYXllclNjaGVtYSxlLnRyYW5zZm9ybSl9X29uV2ViU29ja2V0TWVzc2FnZShlKXtpZih0aGlzLl9lbmFibGVkRXZlbnRUeXBlcy5oYXMoXCJtZXNzYWdlLXJlY2VpdmVkXCIpJiZ0aGlzLmV2ZW50cy5lbWl0KFwibWVzc2FnZS1yZWNlaXZlZFwiLGUpLFwidHlwZVwiaW4gZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJkZWxldGVcIjppZihlLm9iamVjdElkcylmb3IoY29uc3QgdCBvZiBlLm9iamVjdElkcyl0aGlzLl9tYW5hZ2VyLnJlbW92ZUJ5SWQodCk7aWYoZS50cmFja0lkcylmb3IoY29uc3QgdCBvZiBlLnRyYWNrSWRzKXRoaXMuX21hbmFnZXIucmVtb3ZlQnlUcmFja0lkKHQpO2JyZWFrO2Nhc2VcImNsZWFyXCI6dGhpcy5fc3RvcmUuZm9yRWFjaCgoZT0+dGhpcy5fbWFuYWdlci5yZW1vdmVCeUlkKGUub2JqZWN0SWQpKSl9fV9vbkZlYXR1cmUoZSl7dGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQrKzt0cnl7dGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuaGFzKFwiZGF0YS1yZWNlaXZlZFwiKSYmdGhpcy5ldmVudHMuZW1pdChcImRhdGEtcmVjZWl2ZWRcIixlKTtjb25zdCB0PXMoZSx0aGlzLl9zZXJ2aWNlSW5mby5nZW9tZXRyeVR5cGUsITEsITEsdGhpcy5fc2VydmljZUluZm8ub2JqZWN0SWRGaWVsZCk7dGhpcy5fbWFuYWdlci5hZGQodCl9Y2F0Y2godCl7fX1fY2xlYXJVcGRhdGVJbnRlcnZhbCgpe2NsZWFySW50ZXJ2YWwodGhpcy5fdXBkYXRlSW50ZXJ2YWxJZCksdGhpcy5fdXBkYXRlSW50ZXJ2YWxJZD0wfWFzeW5jIF9vblVwZGF0ZShlLHQpe3RoaXMuX2luVXBkYXRlPSEwO3RyeXtudWxsIT1lJiYodGhpcy5fdXBkYXRlSW5mby5jbGllbnQrPWUubGVuZ3RoKSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKChlLHQpPT57ZS5kaWRTZW5kJiZlLnRpbGUubGV2ZWw9PT10aGlzLl9sZXZlbCYmdGhpcy5fb25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6dCxhZGRPclVwZGF0ZTpudWxsLGNsZWFyOiEwLGVuZDohMX0pfSkpO2NvbnN0IHQ9W107dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCgoZSxzKT0+e2lmKCFlLmRpZFNlbmR8fGUudGlsZS5sZXZlbCE9PXRoaXMuX2xldmVsKXJldHVybjtjb25zdCBpPWUudGlsZSxuPXt0eXBlOlwiYXBwZW5kXCIsaWQ6cyxhZGRPclVwZGF0ZTp0aGlzLl9nZXRUaWxlRmVhdHVyZXMoaSkscmVtb3ZlOltdLGVuZDohMSxzdGF0dXM6bC5lbXB0eSgpfTtlLnJlcXVlc3RzLnN0cmVhbS5lbnF1ZXVlKG4pLHQucHVzaCh0aGlzLl9vbk1lc3NhZ2UobikpfSkpLGF3YWl0IFByb21pc2UuYWxsKHQpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntlLmRpZFNlbmQmJmUudGlsZS5sZXZlbD09PXRoaXMuX2xldmVsJiZ0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDp0LGFkZE9yVXBkYXRlOm51bGwsZW5kOiEwfSl9KSl9Y2F0Y2h7fXRoaXMuX2luVXBkYXRlPSExfX1leHBvcnR7SSBhcyBTdHJlYW1Tb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc0hvc3RlZEFnb2xTZXJ2aWNlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7RHJpbGxEb3duRmVhdHVyZVNvdXJjZSBhcyByfWZyb21cIi4vRHJpbGxEb3duRmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtQYWdlZEZlYXR1cmVTb3VyY2UgYXMgdH1mcm9tXCIuL1BhZ2VkRmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtTbmFwc2hvdEZlYXR1cmVTb3VyY2UgYXMgYX1mcm9tXCIuL1NuYXBzaG90RmVhdHVyZVNvdXJjZS5qc1wiO2ltcG9ydHtTdHJlYW1Tb3VyY2UgYXMgb31mcm9tXCIuL1N0cmVhbVNvdXJjZS5qc1wiO2Z1bmN0aW9uIHMoZSxzLGMsdSxpLHAsbSl7Y29uc3QgZj1uKGUscyxjLHUsaSxwLG0pO3N3aXRjaChmLnR5cGUpe2Nhc2VcImZlYXR1cmVcIjpzd2l0Y2goZi5vcmlnaW4pe2Nhc2VcImhvc3RlZFwiOmNhc2VcImxvY2FsXCI6cmV0dXJuIG5ldyB0KGYpO2Nhc2VcInNuYXBzaG90XCI6cmV0dXJuIG5ldyBhKGYpO2RlZmF1bHQ6cmV0dXJuIG5ldyByKGYpfWNhc2VcInN0cmVhbVwiOnJldHVybiBuZXcgbyhmKX19ZnVuY3Rpb24gbihyLHQsYSxvLHMsbixjKXtzd2l0Y2goci50eXBlKXtjYXNlXCJzbmFwc2hvdFwiOnJldHVybnt0eXBlOlwiZmVhdHVyZVwiLG9yaWdpbjpcInNuYXBzaG90XCIsZmVhdHVyZUNvdW50OnIuZmVhdHVyZUNvdW50Pz8wLHNlcnZpY2VJbmZvOnIsb25NZXNzYWdlOnMsb3V0U1I6YSx0aWxlSW5mb1ZpZXc6byxjYW5BY2NlcHRSZXF1ZXN0Om4sc3RvcmU6YyxhcmNhZGVMYXllclNjaGVtYTp0fTtjYXNlXCJzdHJlYW1cIjpyZXR1cm57dHlwZTpcInN0cmVhbVwiLHNlcnZpY2VJbmZvOnIsb25NZXNzYWdlOnMsb3V0U1I6YSxjYW5BY2NlcHRSZXF1ZXN0Om4sYXJjYWRlTGF5ZXJTY2hlbWE6dH07Y2FzZVwibWVtb3J5XCI6Y2FzZVwib24tZGVtYW5kXCI6cmV0dXJue3R5cGU6XCJmZWF0dXJlXCIsc2VydmljZUluZm86cixvbk1lc3NhZ2U6cyxvdXRTUjphLG9yaWdpbjp1KHIuc291cmNlKSx0aWxlSW5mb1ZpZXc6byxjYW5BY2NlcHRSZXF1ZXN0Om4sYXJjYWRlTGF5ZXJTY2hlbWE6dH19ZnVuY3Rpb24gdShyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShyKT9cImxvY2FsXCI6XCJwYXRoXCJpbiByJiZlKHIucGF0aCk/XCJob3N0ZWRcIjpcInVua25vd25cIn19ZXhwb3J0e3MgYXMgY3JlYXRlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2RpZmYgYXMgcyxoYXNEaWZmIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e0dlb2hhc2hUcmVlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9HZW9oYXNoVHJlZS5qc1wiO2ltcG9ydHtzZXRHZW9oYXNoQnVmIGFzIG8sc2V0R2VvaGFzaFhZIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9nZW9oYXNoVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2VhcnRoIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9FbGxpcHNvaWQuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2dldEJvdW5kc09wdGltaXplZEdlb21ldHJ5IGFzIGwsY29udmVydFRvR2VvbWV0cnkgYXMgcCxjb252ZXJ0RnJvbVBvbHlnb24gYXMgZ31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBjLHByb2plY3QgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydCBfIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e2NyZWF0ZURpc3BsYXlJZCBhcyB5fWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7ZmVhdHVyZUFkYXB0ZXIgYXMgSX1mcm9tXCIuLi9GZWF0dXJlU3RvcmUyRC5qc1wiO2ltcG9ydHtTdG9yZTJEIGFzIGJ9ZnJvbVwiLi4vU3RvcmUyRC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBqfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnQgeCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydCBCIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2NvbnN0IEY9dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXcuMmQubGF5ZXJzLmZlYXR1cmVzLnN1cHBvcnQuQmluU3RvcmVcIiksUz0xMixHPTY0LFI9aCgpLEw9NTtmdW5jdGlvbiBUKGUpe3JldHVybiA1Ny4yOTU3Nzk1MTMwODIzMiplfWNsYXNzIEEgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKHQscyxyLGkpe3N1cGVyKHQsciksdGhpcy50eXBlPVwiYmluXCIsdGhpcy5ldmVudHM9bmV3IGUsdGhpcy5vYmplY3RJZEZpZWxkPVwiYWdncmVnYXRlSWRcIix0aGlzLmZlYXR1cmVBZGFwdGVyPUksdGhpcy5fZ2VvaGFzaExldmVsPUwsdGhpcy5fZ2VvaGFzaEJ1Zj1bXSx0aGlzLl9zZXJ2aWNlSW5mbz1pLHRoaXMuZ2VvbWV0cnlJbmZvPXQuZ2VvbWV0cnlJbmZvLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2U9cyx0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrPWMocyx4LldHUzg0KSx0aGlzLl9iaXRzZXRzLmdlb2hhc2g9ci5nZXRCaXRzZXQoci5jcmVhdGVCaXRzZXQoKSksdGhpcy5fYml0c2V0cy5pbnNlcnRlZD1yLmdldEJpdHNldChyLmNyZWF0ZUJpdHNldCgpKX1kZXN0cm95KCl7dGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5kZXN0cm95KCl9Z2V0IGZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxSZWZlcmVuY2V9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9maWVsZHN9YXN5bmMgdXBkYXRlU2NoZW1hKGUsdCl7Y29uc3Qgbz10aGlzLl9zY2hlbWE7dHJ5e2F3YWl0IHN1cGVyLnVwZGF0ZVNjaGVtYShlLHQpLGF3YWl0IHRoaXMuX3Byb2plY3Rpb25TdXBwb3J0Q2hlY2t9Y2F0Y2goaCl7fXRoaXMuX2ZpZWxkcz10aGlzLl9zY2hlbWEucGFyYW1zLmZpZWxkcyx0aGlzLl9maWVsZHNJbmRleD1uZXcgXyh0aGlzLl9maWVsZHMpO2NvbnN0IGE9cyhvLHQpO3QmJihudWxsIT1hfHxlLnNvdXJjZXx8ZS5zdG9yYWdlLmZpbHRlcnMpPygocihhLFwicGFyYW1zLmZpZWxkc1wiKXx8cihhLFwicGFyYW1zXCIpfHwhdGhpcy5fdHJlZXx8ZS5zb3VyY2UpJiYodGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5kZXN0cm95KCksdGhpcy5fdHJlZT1uZXcgaSh0aGlzLl9zdGF0aXN0aWNGaWVsZHMsdGhpcy5fc2VydmljZUluZm8pLHRoaXMuX3RyZWUub25SZWxlYXNlPWU9PmUuZGlzcGxheUlkJiZ0aGlzLl9zdG9yYWdlLnJlbGVhc2VEaXNwbGF5SWQoZS5kaXNwbGF5SWQpLHRoaXMuX2dlb2hhc2hMZXZlbD10aGlzLl9zY2hlbWEucGFyYW1zLmZpeGVkQmluTGV2ZWwsdGhpcy5fcmVidWlsZFRyZWUoKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmRi5pbmZvKFwiQWdncmVnYXRlIG1lc2ggbmVlZHMgdXBkYXRlIGR1ZSB0byB0cmVlIGNoYW5naW5nXCIpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmRi5pbmZvKFwiQWdncmVnYXRlIG1lc2ggbmVlZHMgdXBkYXRlIGR1ZSB0byB0cmVlIGNoYW5naW5nXCIpLGUudGFyZ2V0c1t0Lm5hbWVdPSEwLGUubWVzaD0hMSk6byYmKGUubWVzaD0hMCl9Y2xlYXIoKXt0aGlzLl9yZWJ1aWxkVHJlZSgpfXN3ZWVwRmVhdHVyZXMoZSx0KXt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmZvckVhY2hTZXQoKHM9PntpZighZS5oYXMocykpe2NvbnN0IGU9dC5sb29rdXBCeURpc3BsYXlJZFVuc2FmZShzKTt0aGlzLl9yZW1vdmUoZSl9fSkpfXN3ZWVwQWdncmVnYXRlcyhlLHQscyl7fW9uVGlsZURhdGEoZSx0LHMscixpLG89ITApe2lmKCF0aGlzLl9zY2hlbWF8fG51bGw9PXQuYWRkT3JVcGRhdGUpcmV0dXJuIHQ7dGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIik7Y29uc3QgYT10aGlzLl9nZXRUcmFuc2Zvcm1zKGUsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSk7e2NvbnN0IGU9dC5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl0aGlzLl91cGRhdGUoZSxyKX1pZih0LnN0YXR1cy5tZXNofHwhbylyZXR1cm4gdDtjb25zdCBoPW5ldyBBcnJheTt0aGlzLl9nZXRCaW5zRm9yVGlsZShoLGUsYSxzKSx0LmFkZE9yVXBkYXRlPWouZnJvbU9wdGltaXplZEZlYXR1cmVzKGgse2ZpZWxkczp0aGlzLmZpZWxkcyxmaWVsZHNJbmRleDp0aGlzLl9maWVsZHNJbmRleCxnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsb2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGR9KSx0LmFkZE9yVXBkYXRlLmF0dGFjaFN0b3JhZ2UocyksdC5lbmQ9ITAsdC5pc1JlcHVzaHx8KHQuY2xlYXI9ITApO3tjb25zdCByPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe2NvbnN0IHQ9ci5nZXREaXNwbGF5SWQoKTt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLnVuc2V0KHQpLHRoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHMscix0LGUuc2NhbGUsaSl9fXJldHVybiB0fWZvckVhY2hCaW4oZSl7dGhpcy5fdHJlZS5mb3JFYWNoKGUpfWZvckVhY2goZSl7dGhpcy5fdHJlZS5mb3JFYWNoKCh0PT57aWYodC5kZXB0aCE9PXRoaXMuX2dlb2hhc2hMZXZlbClyZXR1cm47Y29uc3Qgcz10aGlzLl90b0ZlYXR1cmVKU09OKHQpLHI9ai5mcm9tRmVhdHVyZXMoW3NdLHtvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZCxnbG9iYWxJZEZpZWxkOm51bGwsZ2VvbWV0cnlUeXBlOnRoaXMuZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZSxmaWVsZHM6dGhpcy5maWVsZHMsZmllbGRzSW5kZXg6dGhpcy5fZmllbGRzSW5kZXh9KS5nZXRDdXJzb3IoKTtyLm5leHQoKSxlKHIpfSkpfWZvckVhY2hJbkJvdW5kcyhlLHQpe31mb3JFYWNoQm91bmRzKGUsdCl7Y29uc3R7aGFzTTpzLGhhc1o6cn09dGhpcy5nZW9tZXRyeUluZm87Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1sKFIsaS5yZWFkR2VvbWV0cnkoKSxyLHMpO251bGwhPWUmJnQoZSl9fW9uVGlsZVVwZGF0ZShlKXt9Z2V0QWdncmVnYXRlKGUpe2NvbnN0IHQ9eShlLCEwKSxzPXRoaXMuX3RyZWUuZmluZElmKChlPT5lLmRpc3BsYXlJZD09PXQpKTtyZXR1cm4gcz90aGlzLl90b0ZlYXR1cmVKU09OKHMpOm51bGx9Z2V0QWdncmVnYXRlcygpe3JldHVybiB0aGlzLl90cmVlLmZpbmRBbGxJZigoZT0+ZS5kZXB0aD09PXRoaXMuX2dlb2hhc2hMZXZlbCkpLm1hcCh0aGlzLl90b0ZlYXR1cmVKU09OLmJpbmQodGhpcykpfWdldERpc3BsYXlJZChlKXtyZXR1cm4gdGhpcy5fdHJlZS5maW5kSWYoKHQ9PnQuaWQ9PT1lKSk/LmRpc3BsYXlJZH1nZXRGZWF0dXJlRGlzcGxheUlkc0ZvckFnZ3JlZ2F0ZShlKXtjb25zdCB0PXRoaXMuX3RyZWUuZmluZElmKCh0PT50LmlkPT09ZSkpO3JldHVybiBudWxsIT10P0FycmF5LmZyb20odC5kaXNwbGF5SWRzKTpbXX1nZXREaXNwbGF5SWRGb3JSZWZlcmVuY2VJZChlKXtyZXR1cm4gdGhpcy5fdHJlZS5maW5kSWYoKHQ9PjE9PT10LmRpc3BsYXlJZHMuc2l6ZSYmdC5kaXNwbGF5SWRzLmhhcyhlKSkpPy5kaXNwbGF5SWR9X3RvRmVhdHVyZUpTT04oZSl7Y29uc3QgdD10aGlzLl9zcGF0aWFsUmVmZXJlbmNlO3JldHVybntkaXNwbGF5SWQ6ZS5kaXNwbGF5SWQsYXR0cmlidXRlczplLmdldEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTpwKGUuZ2V0R2VvbWV0cnkodCksXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsITEsITEpLGNlbnRyb2lkOm51bGx9fV9yZWJ1aWxkVHJlZSgpe3RoaXMuX2JpdHNldHMuY29tcHV0ZWQuY2xlYXIoKSx0aGlzLl9iaXRzZXRzLmluc2VydGVkLmNsZWFyKCksdGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5jbGVhcigpfV9yZW1vdmUoZSl7Y29uc3QgdD1lLmdldERpc3BsYXlJZCgpLHM9ZS5nZXRYSHlkcmF0ZWQoKSxyPWUuZ2V0WUh5ZHJhdGVkKCksaT10aGlzLl9nZW9oYXNoQnVmWzIqdF0sbz10aGlzLl9nZW9oYXNoQnVmWzIqdCsxXTt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmhhcyh0KSYmKHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQudW5zZXQodCksdGhpcy5fdHJlZS5yZW1vdmVDdXJzb3IoZSxzLHIsaSxvLHRoaXMuX2dlb2hhc2hMZXZlbCkpfV91cGRhdGUoZSx0KXtjb25zdCBzPWUuZ2V0RGlzcGxheUlkKCkscj10aGlzLl9iaXRzZXRzLmluc2VydGVkLGk9dC5pc1Zpc2libGUocyk7aWYoaT09PXIuaGFzKHMpKXJldHVybjtpZighaSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmUoZSk7Y29uc3Qgbz1lLmdldFhIeWRyYXRlZCgpLGE9ZS5nZXRZSHlkcmF0ZWQoKTtpZighdGhpcy5fc2V0R2VvaGFzaChzLG8sYSkpcmV0dXJuO2NvbnN0IGg9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnNdLG49dGhpcy5fZ2VvaGFzaEJ1ZlsyKnMrMV07dGhpcy5fdHJlZS5pbnNlcnRDdXJzb3IoZSxzLG8sYSxoLG4sdGhpcy5fZ2VvaGFzaExldmVsKSxyLnNldChzKX1fc2V0R2VvaGFzaChlLHQscyl7aWYodGhpcy5fYml0c2V0cy5nZW9oYXNoLmhhcyhlKSlyZXR1cm4hMDtjb25zdCByPXRoaXMuX2dlb2hhc2hCdWY7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdCBpPVQodC9uLnJhZGl1cyksYT1pLTM2MCpNYXRoLmZsb29yKChpKzE4MCkvMzYwKSxoPVQoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1zL24ucmFkaXVzKSkpO28ocixlLGgsYSxTKX1lbHNle2NvbnN0IGk9bSh7eDp0LHk6c30sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSx4LldHUzg0KTtpZighaSlyZXR1cm4hMTtvKHIsZSxpLnksaS54LFMpfXJldHVybiB0aGlzLl9iaXRzZXRzLmdlb2hhc2guc2V0KGUpLCEwfV9nZXRCaW5zRm9yVGlsZShlLHQscyxyKXt0cnl7Y29uc3QgaT10aGlzLl9nZXRHZW9oYXNoQm91bmRzKHQpLG89dGhpcy5fdHJlZS5nZXRCaW5zKGkpO2Zvcihjb25zdCB0IG9mIG8pe3QuZGlzcGxheUlkfHwodC5kaXNwbGF5SWQ9ci5jcmVhdGVEaXNwbGF5SWQoITApKTtsZXQgaT1udWxsO2NvbnN0IG89dC5nZXRHZW9tZXRyeSh0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHMudGlsZSk7b3x8KGk9dC5nZXRHZW9tZXRyeUNlbnRyb2lkKHRoaXMuX3NwYXRpYWxSZWZlcmVuY2Uscy50aWxlKSk7Y29uc3QgYT1uZXcgZihvLHQuZ2V0QXR0cmlidXRlcygpLGkpO2Eub2JqZWN0SWQ9dC5pZCxhLmRpc3BsYXlJZD10LmRpc3BsYXlJZCxlLnB1c2goYSl9fWNhdGNoKGkpe3JldHVybiB2b2lkIEYuZXJyb3IoXCJVbmFibGUgdG8gZ2V0IGJpbnMgZm9yIHRpbGVcIix0LmtleS5pZCl9fV9nZXRHZW9oYXNoKGUsdCxzKXtjb25zdCByPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9O3JldHVybiBhKHIsdCxlLHMpLHJ9X2dldEdlb2hhc2hCb3VuZHMoZSl7Y29uc3QgdD10aGlzLl9nZXRHZW9oYXNoTGV2ZWwoZS5rZXkubGV2ZWwpLHM9W2UuZXh0ZW50LnhtaW4sZS5leHRlbnQueW1pbixlLmV4dGVudC54bWF4LGUuZXh0ZW50LnltYXhdLHI9di5mcm9tRXh0ZW50KEIuZnJvbUJvdW5kcyhzLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpKSxpPW0ocix0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHguV0dTODQse2RlbnNpZmljYXRpb25TdGVwOmUucmVzb2x1dGlvbipHfSksbz1nKG5ldyB1LGksITEsITEpLGE9by5jb29yZHMuZmlsdGVyKCgoZSx0KT0+ISh0JTIpKSksaD1vLmNvb3Jkcy5maWx0ZXIoKChlLHQpPT50JTIpKSxuPU1hdGgubWluKC4uLmEpLGQ9TWF0aC5taW4oLi4uaCksbD1NYXRoLm1heCguLi5hKSxwPU1hdGgubWF4KC4uLmgpLGY9dGhpcy5fZ2V0R2VvaGFzaChuLGQsdCksYz10aGlzLl9nZXRHZW9oYXNoKGwscCx0KTtyZXR1cm57Ym91bmRzOnMsZ2VvaGFzaEJvdW5kczp7eExMOmYuZ2VvaGFzaFgseUxMOmYuZ2VvaGFzaFkseFRSOmMuZ2VvaGFzaFgseVRSOmMuZ2VvaGFzaFl9LGxldmVsOnR9fV9nZXRHZW9oYXNoTGV2ZWwoZSl7cmV0dXJuIHRoaXMuX3NjaGVtYS5wYXJhbXMuZml4ZWRCaW5MZXZlbH1fZ2V0VHJhbnNmb3JtcyhlLHQpe2NvbnN0IHM9e29yaWdpblBvc2l0aW9uOlwidXBwZXJMZWZ0XCIsc2NhbGU6W2UucmVzb2x1dGlvbixlLnJlc29sdXRpb25dLHRyYW5zbGF0ZTpbZS5ib3VuZHNbMF0sZS5ib3VuZHNbM11dfSxyPWQodCk7aWYoIXIpcmV0dXJue3RpbGU6cyxsZWZ0Om51bGwscmlnaHQ6bnVsbH07Y29uc3RbaSxvXT1yLnZhbGlkO3JldHVybnt0aWxlOnMsbGVmdDp7Li4ucyx0cmFuc2xhdGU6W28sZS5ib3VuZHNbM11dfSxyaWdodDp7Li4ucyx0cmFuc2xhdGU6W2ktbytlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19fX19ZXhwb3J0e0EgYXMgQmluU3RvcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2RpZmYgYXMgdCxoYXNEaWZmIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e0dlb2hhc2hUcmVlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9HZW9oYXNoVHJlZS5qc1wiO2ltcG9ydHtzZXRHZW9oYXNoQnVmIGFzIGksc2V0R2VvaGFzaFhZIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvaGFzaC9nZW9oYXNoVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2VhcnRoIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9FbGxpcHNvaWQuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2dldEJvdW5kc09wdGltaXplZEdlb21ldHJ5IGFzIG4scXVhbnRpemVYIGFzIHUscXVhbnRpemVZIGFzIGQsY29udmVydEZyb21Qb2x5Z29uIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7T3B0aW1pemVkRmVhdHVyZVdpdGhHZW9tZXRyeSBhcyBjLE9wdGltaXplZEZlYXR1cmUgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIF8scHJvamVjdCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7dGlsZVNpemUgYXMgSX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7ZGlzcGxheUlkVGV4ZWxNYXNrIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtmZWF0dXJlQWRhcHRlciBhcyB2fWZyb21cIi4uL0ZlYXR1cmVTdG9yZTJELmpzXCI7aW1wb3J0e1N0b3JlMkQgYXMgUn1mcm9tXCIuLi9TdG9yZTJELmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIHh9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydCBNIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgaiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7aW1wb3J0IEYgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7Y29uc3QgQz0xMixMPTY0LHc9MSxCPWEoKTtjbGFzcyBTIGV4dGVuZHMgY3tjb25zdHJ1Y3RvcihlLHQscyxyLGkpe3N1cGVyKG5ldyBwKFtdLFt0LHNdKSxyLG51bGwsZSksdGhpcy5nZW9oYXNoQm91bmRzSW5mbz1pfWdldCBjb3VudCgpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuY2x1c3Rlcl9jb3VudH1zdGF0aWMgY3JlYXRlKGUsdCxzLHIsaSxvLGEsaCl7Y29uc3QgbD1uZXcgUyh0LHMscixvLGEpO3JldHVybiBsLmRpc3BsYXlJZD1lLmNyZWF0ZURpc3BsYXlJZCghMCksbC5yZWZlcmVuY2VJZD1oLGwudGlsZUxldmVsPWksbH11cGRhdGUoZSx0LHMscixpLG8pe3JldHVybiB0aGlzLmdlb21ldHJ5LmNvb3Jkc1swXT1lLHRoaXMuZ2VvbWV0cnkuY29vcmRzWzFdPXQsdGhpcy50aWxlTGV2ZWw9cyx0aGlzLmF0dHJpYnV0ZXM9cix0aGlzLmdlb2hhc2hCb3VuZHNJbmZvPWksdGhpcy5yZWZlcmVuY2VJZD1udWxsLHRoaXMucmVmZXJlbmNlSWQ9byx0aGlzfXRvSlNPTigpe3JldHVybnthdHRyaWJ1dGVzOnsuLi50aGlzLmF0dHJpYnV0ZXMsYWdncmVnYXRlSWQ6dGhpcy5vYmplY3RJZCxyZWZlcmVuY2VJZDoxPT09dGhpcy5hdHRyaWJ1dGVzLmNsdXN0ZXJfY291bnQ/dGhpcy5yZWZlcmVuY2VJZDpudWxsfSxnZW9tZXRyeTp7eDp0aGlzLmdlb21ldHJ5LmNvb3Jkc1swXSx5OnRoaXMuZ2VvbWV0cnkuY29vcmRzWzFdfX19fWZ1bmN0aW9uIFQoZSl7cmV0dXJuIDU3LjI5NTc3OTUxMzA4MjMyKmV9Y2xhc3MgViBleHRlbmRzIFJ7Y29uc3RydWN0b3IodCxzLHIsaSl7c3VwZXIodCxyKSx0aGlzLnR5cGU9XCJjbHVzdGVyXCIsdGhpcy5ldmVudHM9bmV3IGUsdGhpcy5vYmplY3RJZEZpZWxkPVwiYWdncmVnYXRlSWRcIix0aGlzLmZlYXR1cmVBZGFwdGVyPXYsdGhpcy5fZ2VvaGFzaExldmVsPTAsdGhpcy5fdGlsZUxldmVsPTAsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXM9e30sdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkPSExLHRoaXMuX2dlb2hhc2hCdWY9W10sdGhpcy5fY2x1c3RlcnM9bmV3IE1hcCx0aGlzLl90aWxlcz1uZXcgTWFwLHRoaXMuX3NlcnZpY2VJbmZvPWksdGhpcy5nZW9tZXRyeUluZm89dC5nZW9tZXRyeUluZm8sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZT1zLHRoaXMuX3Byb2plY3Rpb25TdXBwb3J0Q2hlY2s9XyhzLE0uV0dTODQpLHRoaXMuX2JpdHNldHMuZ2VvaGFzaD1yLmdldEJpdHNldChyLmNyZWF0ZUJpdHNldCgpKSx0aGlzLl9iaXRzZXRzLmluc2VydGVkPXIuZ2V0Qml0c2V0KHIuY3JlYXRlQml0c2V0KCkpfWRlc3Ryb3koKXt0aGlzLl90cmVlLmRlc3Ryb3koKX1nZXQgZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fc3BhdGlhbFJlZmVyZW5jZX1nZXQgZmllbGRzKCl7cmV0dXJuIHRoaXMuX2ZpZWxkc31hc3luYyB1cGRhdGVTY2hlbWEoZSxpKXtjb25zdCBvPXRoaXMuX3NjaGVtYTt0cnl7YXdhaXQgc3VwZXIudXBkYXRlU2NoZW1hKGUsaSksYXdhaXQgdGhpcy5fcHJvamVjdGlvblN1cHBvcnRDaGVja31jYXRjaChoKXt9dGhpcy5fZmllbGRzPVsuLi50aGlzLl9zY2hlbWEucGFyYW1zLmZpZWxkcyx7bmFtZTpcInJlZmVyZW5jZUlkXCIsYWxpYXM6XCJyZWZlcmVuY2VJZFwiLHR5cGU6XCJlc3JpRmllbGRUeXBlSW50ZWdlclwifV07ISF0aGlzLl9maWVsZHMuc29tZSgoZT0+XCJjbHVzdGVyX2NvdW50XCI9PT1lLm5hbWUpKXx8dGhpcy5fZmllbGRzLnB1c2goe25hbWU6XCJjbHVzdGVyX2NvdW50XCIsYWxpYXM6XCJjbHVzdGVyX2NvdW50XCIsdHlwZTpcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCJ9KSx0aGlzLl9maWVsZHNJbmRleD1uZXcgeSh0aGlzLl9maWVsZHMpO2NvbnN0IGE9dChvLGkpO2kmJihudWxsIT1hfHxlLnNvdXJjZXx8ZS5zdG9yYWdlLmZpbHRlcnMpPygocyhhLFwicGFyYW1zLmZpZWxkc1wiKXx8IXRoaXMuX3RyZWV8fGUuc291cmNlKSYmKHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuZGVzdHJveSgpLHRoaXMuX3RyZWU9bmV3IHIodGhpcy5fc3RhdGlzdGljRmllbGRzLHRoaXMuX3NlcnZpY2VJbmZvKSx0aGlzLl9yZWJ1aWxkVHJlZSgpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQWdncmVnYXRlIG1lc2ggbmVlZHMgdXBkYXRlIGR1ZSB0byB0cmVlIGNoYW5naW5nXCIpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIENsdXN0ZXJTdG9yZTpcIixhKSxlLnRhcmdldHNbaS5uYW1lXT0hMCxlLm1lc2g9ITEsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXM9e30pOm8mJihlLm1lc2g9ITApfWNsZWFyKCl7dGhpcy5fcmVidWlsZFRyZWUoKX1zd2VlcEZlYXR1cmVzKGUsdCl7dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5mb3JFYWNoU2V0KChzPT57aWYoIWUuaGFzKHMpKXtjb25zdCBlPXQubG9va3VwQnlEaXNwbGF5SWRVbnNhZmUocyk7dGhpcy5fcmVtb3ZlKGUpfX0pKX1zd2VlcEFnZ3JlZ2F0ZXMoZSx0LHMpe3RoaXMuX2NsdXN0ZXJzLmZvckVhY2goKChyLGkpPT57ciYmci50aWxlTGV2ZWwhPT1zJiYoZS5yZWxlYXNlRGlzcGxheUlkKHIuZGlzcGxheUlkKSx0LnVuc2V0QXR0cmlidXRlRGF0YShyLmRpc3BsYXlJZCksdGhpcy5fY2x1c3RlcnMuZGVsZXRlKGkpKX0pKX1vblRpbGVEYXRhKGUsdCxzLHIsaSxvPSEwKXtpZighdGhpcy5fc2NoZW1hfHxudWxsPT10LmFkZE9yVXBkYXRlKXJldHVybiB0O3RoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpO2NvbnN0IGE9dGhpcy5fZ2V0VHJhbnNmb3JtcyhlLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpO3tjb25zdCBlPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspdGhpcy5fdXBkYXRlKGUscil9aWYodC5zdGF0dXMubWVzaHx8IW8pcmV0dXJuIHQ7Y29uc3QgaD1uZXcgQXJyYXksbD10aGlzLl9zY2hlbWEucGFyYW1zLmNsdXN0ZXJSYWRpdXM7dGhpcy5fZ2V0Q2x1c3RlcnNGb3JUaWxlKGgsZSxsLHMsYSksdC5hZGRPclVwZGF0ZT14LmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhoLHtmaWVsZHM6dGhpcy5maWVsZHMsZmllbGRzSW5kZXg6dGhpcy5fZmllbGRzSW5kZXgsZ2VvbWV0cnlUeXBlOlwiZXNyaUdlb21ldHJ5UG9pbnRcIixvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZH0pLHQuYWRkT3JVcGRhdGUuYXR0YWNoU3RvcmFnZShzKSx0LmNsZWFyPSEwLHQuZW5kPSEwO3tjb25zdCByPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe2NvbnN0IHQ9ci5nZXREaXNwbGF5SWQoKTt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLnVuc2V0KHQpLHRoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHMscix0LGUuc2NhbGUsaSl9fXJldHVybiB0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc0NoYW5nZWQmJnQuZW5kJiYodGhpcy5ldmVudHMuZW1pdChcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiLHt2YWx1ZVJhbmdlczp0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc30pLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMSksdH1vblRpbGVVcGRhdGUoe2FkZGVkOmUscmVtb3ZlZDp0fSl7aWYoZS5sZW5ndGgpe2NvbnN0IHQ9ZVswXS5sZXZlbDt0aGlzLl90aWxlTGV2ZWw9dCx0aGlzLl9zZXRHZW9oYXNoTGV2ZWwodCl9aWYoIXRoaXMuX3NjaGVtYSlyZXR1cm47Y29uc3Qgcz10aGlzLl9zY2hlbWEucGFyYW1zLmNsdXN0ZXJSYWRpdXM7dC5mb3JFYWNoKChlPT57dGhpcy5fdGlsZXMuZGVsZXRlKGUua2V5LmlkKSx0aGlzLl9tYXJrVGlsZUNsdXN0ZXJzRm9yRGVsZXRpb24oZSxzKX0pKX1nZXRBZ2dyZWdhdGUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2x1c3RlcnMudmFsdWVzKCkpaWYoKHQ/LmRpc3BsYXlJZCZiKT09KGUmYikpcmV0dXJuIHQudG9KU09OKCk7cmV0dXJuIG51bGx9Z2V0QWdncmVnYXRlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2x1c3RlcnMudmFsdWVzKCkpdD8udGlsZUxldmVsPT09dGhpcy5fdGlsZUxldmVsJiZlLnB1c2godC50b0pTT04oKSk7cmV0dXJuIGV9Z2V0RGlzcGxheUlkKGUpe2NvbnN0IHQ9dGhpcy5fY2x1c3RlcnMuZ2V0KGUpO3JldHVybiB0P3QuZGlzcGxheUlkOm51bGx9Z2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSl7Y29uc3QgdD10aGlzLl9jbHVzdGVycy5nZXQoZSk7cmV0dXJuIHQ/dGhpcy5fdHJlZS5nZXRSZWdpb25EaXNwbGF5SWRzKHQuZ2VvaGFzaEJvdW5kc0luZm8pOltdfWdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKWlmKHQ/LnJlZmVyZW5jZUlkPT09ZSlyZXR1cm4gdC5kaXNwbGF5SWQ7cmV0dXJuIG51bGx9Z2V0QWdncmVnYXRlVmFsdWVSYW5nZXMoKXtyZXR1cm4gdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXN9Zm9yRWFjaChlKXt0aGlzLl9jbHVzdGVycy5mb3JFYWNoKCh0PT57aWYoIXQpcmV0dXJuO2NvbnN0IHM9dC50b0pTT04oKSxyPXguZnJvbUZlYXR1cmVzKFtzXSx7b2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGQsZ2xvYmFsSWRGaWVsZDpudWxsLGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGUsZmllbGRzOnRoaXMuZmllbGRzLGZpZWxkc0luZGV4OnRoaXMuX2ZpZWxkc0luZGV4fSkuZ2V0Q3Vyc29yKCk7ci5uZXh0KCksZShyKX0pKX1mb3JFYWNoSW5Cb3VuZHMoZSx0KXt9Zm9yRWFjaEJvdW5kcyhlLHQpe2NvbnN0e2hhc006cyxoYXNaOnJ9PXRoaXMuZ2VvbWV0cnlJbmZvO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9bihCLGkucmVhZEdlb21ldHJ5KCkscixzKTtudWxsIT1lJiZ0KGUpfX1zaXplKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5mb3JFYWNoKCh0PT5lKyspKSxlfV9yZWJ1aWxkVHJlZSgpe3RoaXMuX2JpdHNldHMuY29tcHV0ZWQuY2xlYXIoKSx0aGlzLl9iaXRzZXRzLmluc2VydGVkLmNsZWFyKCksdGhpcy5fdHJlZSYmdGhpcy5fdHJlZS5jbGVhcigpfV9yZW1vdmUoZSl7Y29uc3QgdD1lLmdldERpc3BsYXlJZCgpLHM9ZS5nZXRYSHlkcmF0ZWQoKSxyPWUuZ2V0WUh5ZHJhdGVkKCksaT10aGlzLl9nZW9oYXNoQnVmWzIqdF0sbz10aGlzLl9nZW9oYXNoQnVmWzIqdCsxXTt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmhhcyh0KSYmKHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQudW5zZXQodCksdGhpcy5fdHJlZS5yZW1vdmVDdXJzb3IoZSxzLHIsaSxvLHRoaXMuX2dlb2hhc2hMZXZlbCkpfV91cGRhdGUoZSx0KXtjb25zdCBzPWUuZ2V0RGlzcGxheUlkKCkscj10aGlzLl9iaXRzZXRzLmluc2VydGVkLGk9dC5pc1Zpc2libGUocyk7aWYoaT09PXIuaGFzKHMpKXJldHVybjtpZighaSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmUoZSk7Y29uc3Qgbz1lLmdldFhIeWRyYXRlZCgpLGE9ZS5nZXRZSHlkcmF0ZWQoKTtpZighdGhpcy5fc2V0R2VvaGFzaChzLG8sYSkpcmV0dXJuO2NvbnN0IGg9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnNdLGw9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnMrMV07dGhpcy5fdHJlZS5pbnNlcnRDdXJzb3IoZSxzLG8sYSxoLGwsdGhpcy5fZ2VvaGFzaExldmVsKSxyLnNldChzKX1fc2V0R2VvaGFzaChlLHQscyl7aWYodGhpcy5fYml0c2V0cy5nZW9oYXNoLmhhcyhlKSlyZXR1cm4hMDtjb25zdCByPXRoaXMuX2dlb2hhc2hCdWY7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdCBvPVQodC9oLnJhZGl1cyksYT1vLTM2MCpNYXRoLmZsb29yKChvKzE4MCkvMzYwKSxsPVQoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1zL2gucmFkaXVzKSkpO2kocixlLGwsYSxDKX1lbHNle2NvbnN0IG89bSh7eDp0LHk6c30sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSxNLldHUzg0KTtpZighbylyZXR1cm4hMTtpKHIsZSxvLnksby54LEMpfXJldHVybiB0aGlzLl9iaXRzZXRzLmdlb2hhc2guc2V0KGUpLCEwfV9nZXRDbHVzdGVyc0ZvclRpbGUoZSx0LHMscixpLG89ITApe2NvbnN0IGE9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUGl4ZWxCdWZmZXIsaD0yKnMsbD1NYXRoLmNlaWwoMioqdC5rZXkubGV2ZWwqSS9oKSsxLG49TWF0aC5jZWlsKGEvaCkrMCxnPU1hdGguY2VpbChJL2gpLHtyb3c6Yyxjb2w6cH09dC5rZXksXz1wKkksbT1jKkkseT1NYXRoLmZsb29yKF8vaCktbixiPU1hdGguZmxvb3IobS9oKS1uLHY9eStnKzIqbixSPWIrZysyKm4seD10LnRpbGVJbmZvVmlldy5nZXRMT0RJbmZvQXQodC5rZXkubGV2ZWwpO2ZvcihsZXQgST15O0k8PXY7SSsrKWZvcihsZXQgcz1iO3M8PVI7cysrKXtsZXQgYT1JO3gud3JhcCYmKGE9STwwP0krbDpJJWwpO2NvbnN0IGg9eC53cmFwJiZJPDAsbj14LndyYXAmJkklbCE9PUksZz10aGlzLl9sb29rdXBDbHVzdGVyKHIseCx0LmtleS5sZXZlbCxhLHMsdCk7aWYobnVsbCE9Zyl7bGV0IHQ9bnVsbDtpZihpJiYodD1oP2kubGVmdDpuP2kucmlnaHQ6aS50aWxlKSxvJiZudWxsPT10KWNvbnRpbnVlO2lmKCFnLmNvdW50KWNvbnRpbnVlO2lmKG51bGwhPXQmJm8pe2NvbnN0IHM9Zy5nZW9tZXRyeS5jbG9uZSgpO2xldCByPWcuYXR0cmlidXRlcztzLmNvb3Jkc1swXT11KHQscy5jb29yZHNbMF0pLHMuY29vcmRzWzFdPWQodCxzLmNvb3Jkc1sxXSksMT09PWcuY291bnQmJm51bGwhPWcucmVmZXJlbmNlSWQmJihyPXsuLi5nLmF0dHJpYnV0ZXMscmVmZXJlbmNlSWQ6Zy5yZWZlcmVuY2VJZH0pO2NvbnN0IGk9bmV3IGYocyxyKTtpLmRpc3BsYXlJZD1nLmRpc3BsYXlJZCxlLnB1c2goaSl9fX19X2dldEdlb2hhc2hMZXZlbChlKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5jZWlsKGUvMisyKSxDKX1fc2V0R2VvaGFzaExldmVsKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0R2VvaGFzaExldmVsKGUpLHM9KE1hdGguZmxvb3IodC93KSsxKSp3LTE7aWYodGhpcy5fZ2VvaGFzaExldmVsIT09cylyZXR1cm4gdGhpcy5fZ2VvaGFzaExldmVsPXMsdGhpcy5fcmVidWlsZFRyZWUoKSx2b2lkIHRoaXMuX2JpdHNldHMuZ2VvaGFzaC5jbGVhcigpfV9nZXRUcmFuc2Zvcm1zKGUsdCl7Y29uc3Qgcz17b3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIixzY2FsZTpbZS5yZXNvbHV0aW9uLGUucmVzb2x1dGlvbl0sdHJhbnNsYXRlOltlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19LHI9bCh0KTtpZighcilyZXR1cm57dGlsZTpzLGxlZnQ6bnVsbCxyaWdodDpudWxsfTtjb25zdFtpLG9dPXIudmFsaWQ7cmV0dXJue3RpbGU6cyxsZWZ0OnsuLi5zLHRyYW5zbGF0ZTpbbyxlLmJvdW5kc1szXV19LHJpZ2h0OnsuLi5zLHRyYW5zbGF0ZTpbaS1vK2UuYm91bmRzWzBdLGUuYm91bmRzWzNdXX19fV9nZXRDbHVzdGVySWQoZSx0LHMpe3JldHVybigxNSZlKTw8Mjh8KDE2MzgzJnQpPDwxNHwxNjM4MyZzfV9tYXJrRm9yRGVsZXRpb24oZSx0LHMpe2NvbnN0IHI9dGhpcy5fZ2V0Q2x1c3RlcklkKGUsdCxzKTt0aGlzLl9jbHVzdGVycy5kZWxldGUocil9X2dldENsdXN0ZXJCb3VuZHMoZSx0LHMpe2NvbnN0IHI9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzLGk9MipyO2xldCBvPXMlMj90Kmk6dCppLXI7Y29uc3QgYT1zKmk7bGV0IGg9bytpO2NvbnN0IGw9YS1pLG49MioqZS5sZXZlbCpJO2Uud3JhcCYmbzwwJiYobz0wKSxlLndyYXAmJmg+biYmKGg9bik7Y29uc3QgdT1vL0ksZD1hL0ksZz1oL0ksYz1sL0k7cmV0dXJuW2UuZ2V0WEZvckNvbHVtbih1KSxlLmdldFlGb3JSb3coZCksZS5nZXRYRm9yQ29sdW1uKGcpLGUuZ2V0WUZvclJvdyhjKV19X2dldEdlb2hhc2goZSx0LHMpe2NvbnN0IHI9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH07cmV0dXJuIG8ocix0LGUscykscn1fZ2V0R2VvaGFzaEJvdW5kcyhlLHQpe2NvbnN0IHM9dGhpcy5fZ2V0R2VvaGFzaExldmVsKGUua2V5LmxldmVsKTtpZih0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3Ipe2NvbnN0W2UscixpLGFdPXQsbD17eDplLHk6cn0sbj17eDppLHk6YX07bGV0IHU9MCxkPTAsZz0wLGM9MDt7Y29uc3QgZT1UKGwueC9oLnJhZGl1cyk7dT1lLTM2MCpNYXRoLmZsb29yKChlKzE4MCkvMzYwKSxkPVQoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1sLnkvaC5yYWRpdXMpKSl9e2NvbnN0IGU9VChuLngvaC5yYWRpdXMpO2c9ZS0zNjAqTWF0aC5mbG9vcigoZSsxODApLzM2MCksYz1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtbi55L2gucmFkaXVzKSkpfWNvbnN0IGY9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH0scD17Z2VvaGFzaFg6MCxnZW9oYXNoWTowfTtvKGYsZCx1LHMpLG8ocCxjLGcscyk7cmV0dXJue2JvdW5kczpbZSxyLGksYV0sZ2VvaGFzaEJvdW5kczp7eExMOmYuZ2VvaGFzaFgseUxMOmYuZ2VvaGFzaFkseFRSOnAuZ2VvaGFzaFgseVRSOnAuZ2VvaGFzaFl9LGxldmVsOnN9fWNvbnN0IHI9ai5mcm9tRXh0ZW50KEYuZnJvbUJvdW5kcyh0LHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpKSxpPW0ocix0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLE0uV0dTODQse2RlbnNpZmljYXRpb25TdGVwOmUucmVzb2x1dGlvbipMfSk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3QgYT1nKG5ldyBwLGksITEsITEpLGw9YS5jb29yZHMuZmlsdGVyKCgoZSx0KT0+ISh0JTIpKSksbj1hLmNvb3Jkcy5maWx0ZXIoKChlLHQpPT50JTIpKSx1PU1hdGgubWluKC4uLmwpLGQ9TWF0aC5taW4oLi4ubiksYz1NYXRoLm1heCguLi5sKSxmPU1hdGgubWF4KC4uLm4pLF89dGhpcy5fZ2V0R2VvaGFzaCh1LGQscykseT10aGlzLl9nZXRHZW9oYXNoKGMsZixzKTtyZXR1cm57Ym91bmRzOnQsZ2VvaGFzaEJvdW5kczp7eExMOl8uZ2VvaGFzaFgseUxMOl8uZ2VvaGFzaFkseFRSOnkuZ2VvaGFzaFgseVRSOnkuZ2VvaGFzaFl9LGxldmVsOnN9fV9sb29rdXBDbHVzdGVyKGUsdCxzLHIsaSxvKXtjb25zdCBhPXRoaXMuX2dldENsdXN0ZXJJZChzLHIsaSksaD10aGlzLl9jbHVzdGVycy5nZXQoYSksbD10aGlzLl9nZXRDbHVzdGVyQm91bmRzKHQscixpKSxuPXRoaXMuX2dldEdlb2hhc2hCb3VuZHMobyxsKTtpZihudWxsPT1uKXJldHVybiBudWxsO2NvbnN0IHU9dGhpcy5fdHJlZS5nZXRSZWdpb25TdGF0aXN0aWNzKG4pLHtjb3VudDpkLHhUb3RhbDpnLHlUb3RhbDpjLHJlZmVyZW5jZUlkOmZ9PXUscD1kP2cvZDowLF89ZD9jL2Q6MDtpZigwPT09ZClyZXR1cm4gdGhpcy5fY2x1c3RlcnMuc2V0KGEsbnVsbCksbnVsbDtjb25zdCBtPXtjbHVzdGVyX2NvdW50OmQsLi4udS5hdHRyaWJ1dGVzfSx5PW51bGwhPWg/aC51cGRhdGUocCxfLHMsbSxuLGYpOlMuY3JlYXRlKGUsYSxwLF8scyxtLG4sZik7aWYoMD09PWQpe2NvbnN0W2UsdCxzLHJdPWw7eS5nZW9tZXRyeS5jb29yZHNbMF09KGUrcykvMix5Lmdlb21ldHJ5LmNvb3Jkc1sxXT0odCtyKS8yfXJldHVybiB0aGlzLl9jbHVzdGVycy5zZXQoYSx5KSx0aGlzLl91cGRhdGVBZ2dyZWdhdGVWYWx1ZVJhbmdlRm9yQ2x1c3Rlcih5LHkudGlsZUxldmVsKSx5fV91cGRhdGVBZ2dyZWdhdGVWYWx1ZVJhbmdlRm9yQ2x1c3RlcihlLHQpe2NvbnN0IHM9dGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNbdF18fHttaW5WYWx1ZToxLzAsbWF4VmFsdWU6MH0scj1zLm1pblZhbHVlLGk9cy5tYXhWYWx1ZTtzLm1pblZhbHVlPU1hdGgubWluKHIsZS5jb3VudCkscy5tYXhWYWx1ZT1NYXRoLm1heChpLGUuY291bnQpLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzW3RdPXMscj09PXMubWluVmFsdWUmJmk9PT1zLm1heFZhbHVlfHwodGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkPSEwKX1fbWFya1RpbGVDbHVzdGVyc0ZvckRlbGV0aW9uKGUsdCl7Y29uc3Qgcz0yKnQscj1NYXRoLmNlaWwoSS9zKSx7cm93OmksY29sOm99PWUua2V5LGE9bypJLGg9aSpJLGw9TWF0aC5mbG9vcihhL3MpLG49TWF0aC5mbG9vcihoL3MpO2ZvcihsZXQgdT1sO3U8bCtyO3UrKylmb3IobGV0IHQ9bjt0PG4rcjt0KyspdGhpcy5fbWFya0ZvckRlbGV0aW9uKGUua2V5LmxldmVsLHUsdCl9fWV4cG9ydHtTIGFzIENsdXN0ZXJJbmZvLFYgYXMgQ2x1c3RlclN0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcGJmLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0dlb21ldHJ5IGFzIGksdW5xdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgb31mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtpbXBvcnR7cGFyc2VIZWFkZXIgYXMgZH1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXJQQkZIZWFkZXIuanNcIjtjb25zdCB1PSEwLGM9MjY4NDM1NDU1LGc9MTI4LGw9MTI4ZTMsXz17c21hbGw6e2RlbHRhOm5ldyBJbnQzMkFycmF5KGcpLGRlY29kZWQ6bmV3IEludDMyQXJyYXkoZyl9LGxhcmdlOntkZWx0YTpuZXcgSW50MzJBcnJheShsKSxkZWNvZGVkOm5ldyBJbnQzMkFycmF5KGwpfX07ZnVuY3Rpb24gZihlKXtyZXR1cm4gZTw9Xy5zbWFsbC5kZWx0YS5sZW5ndGg/Xy5zbWFsbDooZTw9Xy5sYXJnZS5kZWx0YS5sZW5ndGh8fChfLmxhcmdlLmRlbHRhPW5ldyBJbnQzMkFycmF5KE1hdGgucm91bmQoMS4yNSplKSksXy5sYXJnZS5kZWNvZGVkPW5ldyBJbnQzMkFycmF5KE1hdGgucm91bmQoMS4yNSplKSkpLF8ubGFyZ2UpfWZ1bmN0aW9uIHkocil7dHJ5e2NvbnN0IGU9Mix0PW5ldyBzKG5ldyBVaW50OEFycmF5KHIpLG5ldyBEYXRhVmlldyhyKSk7Zm9yKDt0Lm5leHQoKTspe2lmKHQudGFnKCk9PT1lKXJldHVybiBJKHQuZ2V0TWVzc2FnZSgpKTt0LnNraXAoKX19Y2F0Y2goaSl7Y29uc3Qgcj1uZXcgZShcInF1ZXJ5OnBhcnNpbmctcGJmXCIsXCJFcnJvciB3aGlsZSBwYXJzaW5nIEZlYXR1cmVTZXQgUEJGIHBheWxvYWRcIix7ZXJyb3I6aX0pO3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3LjJkLmxheWVycy5mZWF0dXJlcy5zdXBwb3J0LkZlYXR1cmVTZXRSZWFkZXJQQkZcIikuZXJyb3Iocil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSShlKXtjb25zdCB0PTE7Zm9yKDtlLm5leHQoKTspe2lmKGUudGFnKCk9PT10KXJldHVybiBlLmdldE1lc3NhZ2UoKTtlLnNraXAoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9MSxyPTIscz0zLGk9NCxuPTUsYT02LGg9NyxvPTgsZD05LHU9ZS5nZXRMZW5ndGgoKSxjPWUucG9zKCkrdTtmb3IoO2UucG9zKCk8YyYmZS5uZXh0KCk7KXN3aXRjaChlLnRhZygpKXtjYXNlIHQ6cmV0dXJuIGUuZ2V0U3RyaW5nKCk7Y2FzZSByOnJldHVybiBlLmdldEZsb2F0KCk7Y2FzZSBzOnJldHVybiBlLmdldERvdWJsZSgpO2Nhc2UgaTpyZXR1cm4gZS5nZXRTSW50MzIoKTtjYXNlIG46cmV0dXJuIGUuZ2V0VUludDMyKCk7Y2FzZSBhOnJldHVybiBlLmdldEludDY0KCk7Y2FzZSBoOnJldHVybiBlLmdldFVJbnQ2NCgpO2Nhc2UgbzpyZXR1cm4gZS5nZXRTSW50NjQoKTtjYXNlIGQ6cmV0dXJuIGUuZ2V0Qm9vbCgpO2RlZmF1bHQ6cmV0dXJuIGUuc2tpcCgpLG51bGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShlLHQscixzLGksbil7cmV0dXJuLjUqTWF0aC5hYnMoZSpzK3IqbitpKnQtZSpuLXIqdC1pKnMpfWZ1bmN0aW9uIHgoZSx0LHIscyl7cmV0dXJuIDA9PT1lKnMtcip0JiZlKnIrdCpzPjB9Y2xhc3MgUyBleHRlbmRzIG97c3RhdGljIGZyb21CdWZmZXIoZSx0LHI9ITEpe2NvbnN0IHM9dC5nZW9tZXRyeVR5cGUsaT15KGUpLG49ZChpLFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXMsciksYT1vLmNyZWF0ZUluc3RhbmNlKCk7cmV0dXJuIG5ldyBTKGEsaSxuLHQpfWNvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUscyksdGhpcy5faGFzTmV4dD0hMSx0aGlzLl9pc1BvaW50cz0hMSx0aGlzLl9mZWF0dXJlSW5kZXg9LTEsdGhpcy5fZmVhdHVyZU9mZnNldD0wLHRoaXMuX2NhY2hlPXthcmVhOjAsdW5xdWFudEdlb21ldHJ5OnZvaWQgMCxnZW9tZXRyeTp2b2lkIDAsY2VudHJvaWQ6dm9pZCAwLGxlZ2FjeUZlYXR1cmU6dm9pZCAwLG9wdEZlYXR1cmU6dm9pZCAwfSx0aGlzLl9nZW9tZXRyeVR5cGU9cy5nZW9tZXRyeVR5cGUsdGhpcy5fcmVhZGVyPXQsdGhpcy5faGVhZGVyPXIsdGhpcy5faGFzTmV4dD1yLmhhc0ZlYXR1cmVzLHRoaXMuX2lzUG9pbnRzPVwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXMuZ2VvbWV0cnlUeXBlfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmZpZWxkc31nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5VHlwZX1nZXQgX3NpemUoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmZlYXR1cmVDb3VudH1nZXQgaGFzWigpe3JldHVybiExfWdldCBoYXNNKCl7cmV0dXJuITF9Z2V0IHN0cmlkZSgpe3JldHVybiAyKyh0aGlzLmhhc1o/MTowKSsodGhpcy5oYXNNPzE6MCl9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5oYXNGZWF0dXJlc31nZXQgaGFzTmV4dCgpe3JldHVybiB0aGlzLl9oYXNOZXh0fWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXRTaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX2hlYWRlci50cmFuc2Zvcm19Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldEluZGV4KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleH1zZXRJbmRleChlKXt0aGlzLl9jYWNoZS5hcmVhPTAsdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5nZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuY2VudHJvaWQ9dm9pZCAwLHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dm9pZCAwLHRoaXMuX2NhY2hlLm9wdEZlYXR1cmU9dm9pZCAwLHRoaXMuX2ZlYXR1cmVJbmRleD1lfWdldEF0dHJpYnV0ZUhhc2goKXtsZXQgZT1cIlwiO2Zvcihjb25zdCB0IG9mIHRoaXMuX2hlYWRlci5maWVsZHMuZmllbGRzKWUrPXRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHQuaW5kZXgpK1wiLlwiO3JldHVybiBlfWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHRoaXMuX2hlYWRlci5vYmplY3RJZEZpZWxkSW5kZXgpfWdldERpc3BsYXlJZCgpe3JldHVybiB0aGlzLl9oZWFkZXIuZGlzcGxheUlkc1t0aGlzLl9mZWF0dXJlSW5kZXhdfXNldERpc3BsYXlJZChlKXt0aGlzLl9oZWFkZXIuZGlzcGxheUlkc1t0aGlzLl9mZWF0dXJlSW5kZXhdPWV9Z2V0R3JvdXBJZCgpe3JldHVybiB0aGlzLl9oZWFkZXIuZ3JvdXBJZHNbdGhpcy5fZmVhdHVyZUluZGV4XX1zZXRHcm91cElkKGUpe3RoaXMuX2hlYWRlci5ncm91cElkc1t0aGlzLl9mZWF0dXJlSW5kZXhdPWV9cmVhZExlZ2FjeUZlYXR1cmUoKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkKCksdD17YXR0cmlidXRlczp0aGlzLnJlYWRBdHRyaWJ1dGVzKCksZ2VvbWV0cnk6dGhpcy5faXNQb2ludHM/dGhpcy5yZWFkTGVnYWN5UG9pbnRHZW9tZXRyeSgpOnRoaXMucmVhZExlZ2FjeUdlb21ldHJ5KCksY2VudHJvaWQ6KGUmJnt4OmUuY29vcmRzWzBdLHk6ZS5jb29yZHNbMV19KT8/bnVsbH07cmV0dXJuIHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dCx0fXJldHVybiB0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlfXJlYWRPcHRpbWl6ZWRGZWF0dXJlKCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUub3B0RmVhdHVyZSl7Y29uc3QgZT1uZXcgYSh0aGlzLnJlYWRHZW9tZXRyeSgpLHRoaXMucmVhZEF0dHJpYnV0ZXMoKSx0aGlzLnJlYWRDZW50cm9pZCgpKTtyZXR1cm4gZS5vYmplY3RJZD10aGlzLmdldE9iamVjdElkKCksZS5kaXNwbGF5SWQ9dGhpcy5nZXREaXNwbGF5SWQoKSx0aGlzLl9jYWNoZS5vcHRGZWF0dXJlPWUsZX1yZXR1cm4gdGhpcy5fY2FjaGUub3B0RmVhdHVyZX1nZXRYSHlkcmF0ZWQoKXtjb25zdCBlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0sdD10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT10P2U6ZSp0LnNjYWxlWzBdK3QudHJhbnNsYXRlWzBdfWdldFlIeWRyYXRlZCgpe2NvbnN0IGU9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdLHQ9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09dD9lOnQudHJhbnNsYXRlWzFdLWUqdC5zY2FsZVsxXX1nZXRYKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0qdGhpcy5fc3grdGhpcy5fdHh9Z2V0WSgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV0qdGhpcy5fc3krdGhpcy5fdHl9cmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKXtyZXR1cm57eDp0aGlzLmdldFgoKSx5OnRoaXMuZ2V0WSgpfX1yZWFkTGVnYWN5R2VvbWV0cnkoZSl7Y29uc3QgdD10aGlzLnJlYWRVbnF1YW50aXplZEdlb21ldHJ5KGUpO3JldHVybiBpKHQsdGhpcy5nZW9tZXRyeVR5cGUsITEsITEpfXJlYWRMZWdhY3lDZW50cm9pZCgpe2NvbnN0IGU9dGhpcy5yZWFkQ2VudHJvaWQoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdFt0LHJdPWUuY29vcmRzO3JldHVybnt4OnQseTpyfX1yZWFkR2VvbWV0cnlBcmVhKCl7cmV0dXJuIHRoaXMuX2NhY2hlLmFyZWF8fHRoaXMucmVhZEdlb21ldHJ5KCEwKSx0aGlzLl9jYWNoZS5hcmVhfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KGU9ITEpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeSl7Y29uc3QgdD10aGlzLnJlYWRHZW9tZXRyeShlKTtpZighdClyZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCxudWxsO2NvbnN0IHI9Zih0LmNvb3Jkcy5sZW5ndGgpLmRlY29kZWQscz10LmNsb25lKHIpLGk9cy5jb29yZHM7bGV0IG49MDtmb3IoY29uc3QgZSBvZiBzLmxlbmd0aHMpe2ZvcihsZXQgdD0xO3Q8ZTt0Kyspe2NvbnN0IGU9Mioobit0KSxyPTIqKG4rdC0xKTtpW2VdKz1pW3JdLGlbZSsxXSs9aVtyKzFdfW4rPWV9cmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT1zLHN9cmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeX1yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpe2lmKHRoaXMuX2lzUG9pbnRzKXtpZih0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdPT09YylyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuZ2V0WEh5ZHJhdGVkKCksdD10aGlzLmdldFlIeWRyYXRlZCgpO3JldHVybiBuZXcgaChbXSxbZSx0XSl9Y29uc3QgZT10aGlzLnJlYWRHZW9tZXRyeSgpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5jbG9uZSgpLHI9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbCE9ciYmbih0LHQsdGhpcy5oYXNaLHRoaXMuaGFzTSxyKSx0fXJlYWRHZW9tZXRyeShlPSExKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5nZW9tZXRyeSl7bGV0IHI9bnVsbDtpZih0aGlzLl9pc1BvaW50cyl7aWYodGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XT09PWMpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLmdldFgoKSx0PXRoaXMuZ2V0WSgpO3I9bmV3IGgoW10sW2UsdF0pfWVsc2V7Y29uc3Qgcz10aGlzLl9oZWFkZXIub2Zmc2V0cy5nZW9tZXRyeVt0aGlzLl9mZWF0dXJlSW5kZXhdLGk9dGhpcy5fcmVhZGVyO2lmKDA9PT1zKXtjb25zdCBlPXRoaXMuX3JlYWRTZXJ2ZXJDZW50cm9pZCgpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0W3Qscl09ZS5jb29yZHM7cmV0dXJuIHRoaXMuY3JlYXRlUXVhbnRpemVkRXh0cnVkZWRHZW9tZXRyeSh0LHIpfWkubW92ZShzKTt0cnl7aWYocj1lP3RoaXMuX3BhcnNlR2VvbWV0cnlGb3JEaXNwbGF5KGkpOnRoaXMuX3BhcnNlR2VvbWV0cnkoaSksIXIpe2NvbnN0IGU9dGhpcy5fcmVhZFNlcnZlckNlbnRyb2lkKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3RbdCxyXT1lLmNvb3JkcztyZXR1cm4gdGhpcy5jcmVhdGVRdWFudGl6ZWRFeHRydWRlZEdlb21ldHJ5KHQscil9fWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGdlb21ldHJ5IVwiLHQpLG51bGx9fXJldHVybiB0aGlzLl9jYWNoZS5nZW9tZXRyeT1yLHJ9cmV0dXJuIHRoaXMuX2NhY2hlLmdlb21ldHJ5fXJlYWRDZW50cm9pZCgpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLmNlbnRyb2lkKXtsZXQgZTtyZXR1cm4gZT10aGlzLl9jb21wdXRlQ2VudHJvaWQoKSxlfHwoZT10aGlzLl9yZWFkU2VydmVyQ2VudHJvaWQoKSksdGhpcy5fY2FjaGUuY2VudHJvaWQ9ZT8/dm9pZCAwLGU/P251bGx9cmV0dXJuIHRoaXMuX2NhY2hlLmNlbnRyb2lkfWNvcHkoKXtjb25zdCBlPXRoaXMuX3JlYWRlci5jbG9uZSgpLHQ9bmV3IFModGhpcy5pbnN0YW5jZSxlLHRoaXMuX2hlYWRlcix0aGlzLmZ1bGxTY2hlbWEoKSk7cmV0dXJuIHRoaXMuY29weUludG8odCksdH1uZXh0KCl7Zm9yKHRoaXMuX2NhY2hlLmFyZWE9MCx0aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnk9dm9pZCAwLHRoaXMuX2NhY2hlLmdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5jZW50cm9pZD12b2lkIDAsdGhpcy5fY2FjaGUubGVnYWN5RmVhdHVyZT12b2lkIDAsdGhpcy5fY2FjaGUub3B0RmVhdHVyZT12b2lkIDA7Kyt0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fc2l6ZSYmIXRoaXMuX2dldEV4aXN0cygpOyk7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9zaXplfV9yZWFkQXR0cmlidXRlKGUsdCl7Y29uc3Qgcj10aGlzLl9oZWFkZXIuZmllbGRzLmdldChlKTtpZihudWxsPT1yKXJldHVybjtsZXQgcz10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleChyLmluZGV4KTtcImVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXRcIj09PXRoaXMuZmllbGRzLmdldChlKT8udHlwZSYmKHM9dGhpcy5wYXJzZVRpbWVzdGFtcE9mZnNldChzKSk7Y29uc3QgaT10aGlzLl9oZWFkZXIuZmllbGRzLmlzRGF0ZUZpZWxkKHIubmFtZSk7cmV0dXJuIHQ/bnVsbD09cz9zOmk/bmV3IERhdGUocyk6czpzfV9yZWFkQXR0cmlidXRlcygpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2YgdGhpcy5faGVhZGVyLmZpZWxkcy5maWVsZHMpZVt0Lm5hbWVdPXRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHQuaW5kZXgpO3JldHVybiBlfWNvcHlJbnRvKGUpe3N1cGVyLmNvcHlJbnRvKGUpLGUuX2ZlYXR1cmVJbmRleD10aGlzLl9mZWF0dXJlSW5kZXgsZS5fZmVhdHVyZU9mZnNldD10aGlzLl9mZWF0dXJlT2Zmc2V0LGUuX2hhc05leHQ9dGhpcy5faGFzTmV4dH1fcmVhZEF0dHJpYnV0ZUF0SW5kZXgoZSl7Y29uc3QgdD10aGlzLl9oZWFkZXIub2Zmc2V0cy5hdHRyaWJ1dGVzW3RoaXMuX2ZlYXR1cmVJbmRleCp0aGlzLl9oZWFkZXIuZmllbGRDb3VudCtlXSxyPXRoaXMuX3JlYWRlcjtyZXR1cm4gci5tb3ZlKHQpLHAocil9X3JlYWRTZXJ2ZXJDZW50cm9pZCgpe2NvbnN0IGU9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XSt0aGlzLl90eCx0PXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleCsxXSt0aGlzLl90eTtyZXR1cm4gZT09PWM/bnVsbDpuZXcgaChbXSxbZSx0XSl9X3BhcnNlR2VvbWV0cnkoZSl7Y29uc3QgdD0yLHI9MyxzPWUuYXNVbnNhZmUoKSxpPXMuZ2V0TGVuZ3RoKCksbj1zLnBvcygpK2ksYT1bXSxvPVtdO2Zvcig7cy5wb3MoKTxuJiZzLm5leHQoKTspc3dpdGNoKHMudGFnKCkpe2Nhc2UgdDp7Y29uc3QgZT1zLmdldFVJbnQzMigpLHQ9cy5wb3MoKStlO2Zvcig7cy5wb3MoKTx0OylvLnB1c2gocy5nZXRVSW50MzIoKSk7YnJlYWt9Y2FzZSByOntjb25zdCBlPXMuZ2V0VUludDMyKCksdD1zLnBvcygpK2U7Zm9yKGEucHVzaChzLmdldFNJbnQzMigpK3RoaXMuX3R4KSxhLnB1c2gocy5nZXRTSW50MzIoKSt0aGlzLl90eSksdGhpcy5oYXNaJiZzLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmcy5nZXRTSW50MzIoKTtzLnBvcygpPHQ7KWEucHVzaChzLmdldFNJbnQzMigpKSxhLnB1c2gocy5nZXRTSW50MzIoKSksdGhpcy5oYXNaJiZzLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmcy5nZXRTSW50MzIoKTticmVha31kZWZhdWx0OnMuc2tpcCgpfXJldHVybiBhLmxlbmd0aD9uZXcgaChvLGEpOm51bGx9X3BhcnNlR2VvbWV0cnlGb3JEaXNwbGF5KGUpe2NvbnN0IHQ9MixzPTMsaT1lLmFzVW5zYWZlKCksbj1pLmdldExlbmd0aCgpLGE9aS5wb3MoKStuLG89W10sZD1bXTtsZXQgYz0wLGc9MCxsPW51bGwsXz0wO2NvbnN0IHk9XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI9PT10aGlzLmdlb21ldHJ5VHlwZTtmb3IoO2kucG9zKCk8YSYmaS5uZXh0KCk7KXN3aXRjaChpLnRhZygpKXtjYXNlIHQ6e2NvbnN0IGU9aS5nZXRVSW50MzIoKSx0PWkucG9zKCkrZTtmb3IoO2kucG9zKCk8dDspe2NvbnN0IGU9aS5nZXRVSW50MzIoKTtvLnB1c2goZSksYys9ZX1sPWYoMipjKS5kZWx0YTticmVha31jYXNlIHM6e2kuZ2V0VUludDMyKCk7Y29uc3QgZT0yKyh0aGlzLmhhc1o/MTowKSsodGhpcy5oYXNNPzE6MCk7cihsKTtmb3IoY29uc3QgdCBvZiBvKWlmKGcrZSp0PmwubGVuZ3RoKWZvcihsZXQgZT0wO2U8dDtlKyspaS5nZXRTSW50MzIoKSxpLmdldFNJbnQzMigpLHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7ZWxzZSBpZih5JiZ1KXtjb25zdCBlPXRoaXMuZ2V0QXJlYVNpbXBsaWZpY2F0aW9uVGhyZXNob2xkKHQsdGhpcy5faGVhZGVyLnZlcnRleENvdW50KTtsZXQgcj0yLHM9MTtjb25zdCBuPSExO2xldCBhPWkuZ2V0U0ludDMyKCksaD1pLmdldFNJbnQzMigpO2xbZysrXT1hLGxbZysrXT1oLHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7bGV0IG89aS5nZXRTSW50MzIoKSx1PWkuZ2V0U0ludDMyKCk7Zm9yKHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7cjx0Oyl7bGV0IHQ9aS5nZXRTSW50MzIoKSxuPWkuZ2V0U0ludDMyKCk7dGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKTtjb25zdCBkPWErbyxjPWgrdTttKGEsaCxkLGMsZCt0LGMrbik+PWU/KF8rPS0uNSooZC1hKSooYytoKSxzPjEmJngobFtnLTJdLGxbZy0xXSxvLHUpPyhsW2ctMl0rPW8sbFtnLTFdKz11KToobFtnKytdPW8sbFtnKytdPXUscysrKSxhPWQsaD1jKToodCs9byxuKz11KSxvPXQsdT1uLHIrK31zPDN8fG4/Zy09MipzOihfKz0tLjUqKGErby1hKSooaCt1K2gpLHgobFtnLTJdLGxbZy0xXSxvLHUpPyhsW2ctMl0rPW8sbFtnLTFdKz11LGQucHVzaChzKSk6KGxbZysrXT1vLGxbZysrXT11LGQucHVzaCgrK3MpKSl9ZWxzZXtsZXQgZT0wLHI9aS5nZXRTSW50MzIoKSxzPWkuZ2V0U0ludDMyKCk7dGhpcy5oYXNaJiZpLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmaS5nZXRTSW50MzIoKSxsW2crK109cixsW2crK109cyxlKz0xO2ZvcihsZXQgbj0xO248dDtuKyspe2NvbnN0IHQ9aS5nZXRTSW50MzIoKSxhPWkuZ2V0U0ludDMyKCksaD1yK3Qsbz1zK2E7Xys9LS41KihoLXIpKihvK3MpLHRoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCksbj4yJiZ4KGxbZy0yXSxsW2ctMV0sdCxhKT8obFtnLTJdKz10LGxbZy0xXSs9YSk6KGxbZysrXT10LGxbZysrXT1hLGUrPTEpLHI9aCxzPW99ZC5wdXNoKGUpfWJyZWFrfWRlZmF1bHQ6aS5za2lwKCl9aWYodGhpcy5fY2FjaGUuYXJlYT1fLCFkLmxlbmd0aClyZXR1cm4gbnVsbDtpZih0aGlzLl90eHx8dGhpcy5fdHkpe2xldCBlPTA7cihsKTtmb3IoY29uc3QgdCBvZiBkKWxbMiplXSs9dGhpcy5fdHgsbFsyKmUrMV0rPXRoaXMuX3R5LGUrPXR9cmV0dXJuIG5ldyBoKGQsbCl9fWV4cG9ydHtTIGFzIEZlYXR1cmVTZXRSZWFkZXJQQkZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtwYXJzZUZpZWxkIGFzIHMscGFyc2VUcmFuc2Zvcm0gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcGJmRmVhdHVyZVNlcnZpY2VQYXJzZXIuanNcIjtjb25zdCBuPTI2ODQzNTQ1NTtjbGFzcyBve2NvbnN0cnVjdG9yKCl7dGhpcy5oYXNGZWF0dXJlcz0hMSx0aGlzLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD0hMSx0aGlzLmZpZWxkQ291bnQ9MCx0aGlzLmZlYXR1cmVDb3VudD0wLHRoaXMub2JqZWN0SWRGaWVsZEluZGV4PTAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMub2Zmc2V0cz17YXR0cmlidXRlczpuZXcgQXJyYXksZ2VvbWV0cnk6bmV3IEFycmF5fSx0aGlzLmNlbnRyb2lkPW5ldyBBcnJheX19ZnVuY3Rpb24gYShhLGksYz0hMSl7Y29uc3QgZj0xLGQ9Myx1PTksZz0xMixsPTEzLHA9MTUsaD1hLmFzVW5zYWZlKCksYj1oLnBvcygpLHc9bmV3IG87bGV0IG09MCx5PTA7Y29uc3Qgaz0xLHg9MixJPTQsTD0zO2xldCBBPW51bGwsRj1udWxsLEM9bnVsbCxTPSExO2NvbnN0IGo9W107Zm9yKDtoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2UgZjpBPWguZ2V0U3RyaW5nKCk7YnJlYWs7Y2FzZSBkOkY9aC5nZXRTdHJpbmcoKTticmVhaztjYXNlIGc6Qz1oLnByb2Nlc3NNZXNzYWdlKHIpO2JyZWFrO2Nhc2UgdTppZih3LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD1oLmdldEJvb2woKSx3LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCl7dy5vZmZzZXRzLmdlb21ldHJ5PWM/bmV3IEZsb2F0NjRBcnJheSg4ZTMpOm5ldyBJbnQzMkFycmF5KDhlMyksdy5jZW50cm9pZD1jP25ldyBGbG9hdDY0QXJyYXkoMTZlMyk6bmV3IEludDMyQXJyYXkoMTZlMyk7Zm9yKGxldCBlPTA7ZTx3LmNlbnRyb2lkLmxlbmd0aDtlKyspdy5jZW50cm9pZFtlXT1ufWJyZWFrO2Nhc2UgbDp7Y29uc3QgZT1oLnByb2Nlc3NNZXNzYWdlKHMpO2UuaW5kZXg9bSsrLGoucHVzaChlKTticmVha31jYXNlIHA6e2NvbnN0IGU9aC5nZXRMZW5ndGgoKSx0PWgucG9zKCkrZTtpZighdy5leGNlZWRlZFRyYW5zZmVyTGltaXQpe2NvbnN0IGU9dy5vZmZzZXRzLmdlb21ldHJ5LHQ9dy5jZW50cm9pZDtlLnB1c2goMCksdC5wdXNoKG4pLHQucHVzaChuKX0hUyYmdy5leGNlZWRlZFRyYW5zZmVyTGltaXQmJihTPSEwLHcub2Zmc2V0cy5hdHRyaWJ1dGVzPWM/bmV3IEZsb2F0NjRBcnJheSg4ZTMqbSk6bmV3IFVpbnQzMkFycmF5KDhlMyptKSk7bGV0IHM9eSptO2Zvcig7aC5wb3MoKTx0JiZoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2Ugazp7aWYoUyl3Lm9mZnNldHMuYXR0cmlidXRlc1tzKytdPWgucG9zKCk7ZWxzZXt3Lm9mZnNldHMuYXR0cmlidXRlcy5wdXNoKGgucG9zKCkpfWNvbnN0IGU9aC5nZXRMZW5ndGgoKTtoLnNraXBMZW4oZSk7YnJlYWt9Y2FzZSB4OmlmKGkpe2NvbnN0IGU9aC5nZXRMZW5ndGgoKSx0PWgucG9zKCkrZTtmb3IoO2gucG9zKCk8dCYmaC5uZXh0KCk7KXN3aXRjaChoLnRhZygpKXtjYXNlIEw6e2guZ2V0VUludDMyKCk7Y29uc3QgZT1oLmdldFNJbnQ2NCgpLHQ9aC5nZXRTSW50NjQoKTt3LmNlbnRyb2lkWzIqeV09ZSx3LmNlbnRyb2lkWzIqeSsxXT10O2JyZWFrfWRlZmF1bHQ6aC5za2lwKCl9fWVsc2V7dy5vZmZzZXRzLmdlb21ldHJ5W3ldPWgucG9zKCk7Y29uc3QgZT1oLmdldExlbmd0aCgpO3cudmVydGV4Q291bnQrPWUsaC5za2lwTGVuKGUpfWJyZWFrO2Nhc2UgSTp7Y29uc3QgZT1oLmdldExlbmd0aCgpLHQ9aC5wb3MoKStlO2Zvcig7aC5wb3MoKTx0JiZoLm5leHQoKTspc3dpdGNoKGgudGFnKCkpe2Nhc2UgTDp7aC5nZXRVSW50MzIoKTtjb25zdCBlPWguZ2V0U0ludDY0KCksdD1oLmdldFNJbnQ2NCgpO3cuY2VudHJvaWRbMip5XT1lLHcuY2VudHJvaWRbMip5KzFdPXQ7YnJlYWt9ZGVmYXVsdDpoLnNraXAoKX1icmVha31kZWZhdWx0Omguc2tpcCgpfXkrKyx3Lmhhc0ZlYXR1cmVzPSEwO2JyZWFrfWRlZmF1bHQ6aC5za2lwKCl9Y29uc3QgVT1BfHxGO2lmKCFVKXRocm93IG5ldyBlKFwiRmVhdHVyZVNldCBoYXMgbm8gb2JqZWN0SWQgb3IgZ2xvYmFsSWQgZmllbGQgbmFtZVwiKTtyZXR1cm4gdy5maWVsZHM9bmV3IHQoaiksdy5mZWF0dXJlQ291bnQ9eSx3LmZpZWxkQ291bnQ9bSx3Lm9iamVjdElkRmllbGRJbmRleD13LmZpZWxkcy5nZXQoVSk/LmluZGV4LHcudHJhbnNmb3JtPUMsdy5kaXNwbGF5SWRzPW5ldyBVaW50MzJBcnJheSh3LmZlYXR1cmVDb3VudCksdy5ncm91cElkcz1uZXcgVWludDE2QXJyYXkody5mZWF0dXJlQ291bnQpLGgubW92ZShiKSx3fWV4cG9ydHtvIGFzIEZlYXR1cmVTZXRIZWFkZXIsYSBhcyBwYXJzZUhlYWRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMudmVyc2lvbj0wLHRoaXMuc291cmNlPSExLHRoaXMudGFyZ2V0cz17ZmVhdHVyZTohMSxhZ2dyZWdhdGU6ITF9LHRoaXMuc3RvcmFnZT17ZmlsdGVyczohMSxkYXRhOiExfSx0aGlzLm1lc2g9ITEsdGhpcy5xdWVyeUZpbHRlcj0hMSx0aGlzLndoeT17bWVzaDpbXSxzb3VyY2U6W119fXN0YXRpYyBjcmVhdGUoZSl7Y29uc3Qgcz1uZXcgdDtsZXQgcjtmb3IociBpbiBlKXtjb25zdCB0PWVbcl07aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKGNvbnN0IGUgaW4gdCl7Y29uc3QgYT1lLGk9dFthXTtzW3JdW2FdPWl9c1tyXT10fXJldHVybiBzfXN0YXRpYyBlbXB0eSgpe3JldHVybiB0LmNyZWF0ZSh7fSl9c3RhdGljIGFsbCgpe3JldHVybiB0LmNyZWF0ZSh7c291cmNlOiEwLHRhcmdldHM6e2ZlYXR1cmU6ITAsYWdncmVnYXRlOiEwfSxzdG9yYWdlOntmaWx0ZXJzOiEwLGRhdGE6ITB9LG1lc2g6ITB9KX11bnNldCh0KXt0aGlzLnZlcnNpb249dC52ZXJzaW9uLHQuc291cmNlJiYodGhpcy5zb3VyY2U9ITEpLHQudGFyZ2V0cy5mZWF0dXJlJiYodGhpcy50YXJnZXRzLmZlYXR1cmU9ITEpLHQudGFyZ2V0cy5hZ2dyZWdhdGUmJih0aGlzLnRhcmdldHMuYWdncmVnYXRlPSExKSx0LnN0b3JhZ2UuZmlsdGVycyYmKHRoaXMuc3RvcmFnZS5maWx0ZXJzPSExKSx0LnN0b3JhZ2UuZGF0YSYmKHRoaXMuc3RvcmFnZS5kYXRhPSExKSx0Lm1lc2gmJih0aGlzLm1lc2g9ITEpLHQucXVlcnlGaWx0ZXImJih0aGlzLnF1ZXJ5RmlsdGVyPSExKX1hbnkoKXtyZXR1cm4gdGhpcy5zb3VyY2V8fHRoaXMubWVzaHx8dGhpcy5zdG9yYWdlLmZpbHRlcnN8fHRoaXMuc3RvcmFnZS5kYXRhfHx0aGlzLnRhcmdldHMuZmVhdHVyZXx8dGhpcy50YXJnZXRzLmFnZ3JlZ2F0ZXx8dGhpcy5xdWVyeUZpbHRlcn1kZXNjcmliZSgpe2xldCB0PTAsZT1cIlwiO2lmKHRoaXMubWVzaCl7dCs9MjAsZSs9XCItPiAoMjApIE1lc2ggbmVlZHMgdXBkYXRlXFxuXCI7Zm9yKGNvbnN0IHQgb2YgdGhpcy53aHkubWVzaCllKz1gICAgICsgJHt0fVxcbmB9aWYodGhpcy5zb3VyY2Upe3QrPTEwLGUrPVwiLT4gKDEwKSBUaGUgc291cmNlIG5lZWRzIHVwZGF0ZVxcblwiO2Zvcihjb25zdCB0IG9mIHRoaXMud2h5LnNvdXJjZSllKz1gICAgICsgJHt0fVxcbmB9dGhpcy50YXJnZXRzLmZlYXR1cmUmJih0Kz01LGUrPVwiLT4gKDUpIEZlYXR1cmUgdGFyZ2V0IHBhcmFtZXRlcnMgY2hhbmdlZFxcblwiKSx0aGlzLnN0b3JhZ2UuZmlsdGVycyYmKHQrPTUsZSs9XCItPiAoNSkgRmVhdHVyZSBmaWx0ZXIgcGFyYW1ldGVycyBjaGFuZ2VkXFxuXCIpLHRoaXMudGFyZ2V0cy5hZ2dyZWdhdGUmJih0Kz00LGUrPVwiLT4gKDQpIEFnZ3JlZ2F0ZSB0YXJnZXQgcGFyYW1ldGVycyBjaGFuZ2VkXFxuXCIpLHRoaXMuc3RvcmFnZS5kYXRhJiYodCs9MSxlKz1cIi0+ICgxKSBUZXh0dXJlIHN0b3JhZ2UgcGFyYW1ldGVycyBjaGFuZ2VkXCIpO2NvbnN0IHM9dDw1P1wiRmFzdGVzdFwiOnQ8MTA/XCJGYXN0XCI6dDwxNT9cIk1vZGVyYXRlXCI6dDwyMD9cIlNsb3dcIjpcIlZlcnkgU2xvd1wiO2NvbnNvbGUuZGVidWcoYEFwcGx5aW5nICR7c30gdXBkYXRlIG9mIGNvc3QgJHt0fS80NSBgKSxjb25zb2xlLmRlYnVnKGUpfXRvSlNPTigpe3JldHVybntxdWVyeUZpbHRlcjp0aGlzLnF1ZXJ5RmlsdGVyLHNvdXJjZTp0aGlzLnNvdXJjZSx0YXJnZXRzOnRoaXMudGFyZ2V0cyxzdG9yYWdlOnRoaXMuc3RvcmFnZSxtZXNoOnRoaXMubWVzaH19fWV4cG9ydHt0IGFzIFVwZGF0ZVRva2VufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dG9QdCBhcyBlLHB0MnB4IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtwcmVtdWx0aXBseUFscGhhIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vZW5naW5lL3dlYmdsL2NvbG9yLmpzXCI7aW1wb3J0e25hbk1hZ2ljTnVtYmVyIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e1dHTFZWRmxhZyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2VuZ2luZS93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtnZXRUeXBlT2ZTaXplVmlzdWFsVmFyaWFibGUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvd2ViZ2wvdmlzdWFsVmFyaWFibGVzVXRpbHMuanNcIjtmdW5jdGlvbiBsKGUsdCl7aWYoIWV8fCF0KXJldHVybiBlO3N3aXRjaCh0KXtjYXNlXCJyYWRpdXNcIjpjYXNlXCJkaXN0YW5jZVwiOnJldHVybiAyKmU7Y2FzZVwiZGlhbWV0ZXJcIjpjYXNlXCJ3aWR0aFwiOnJldHVybiBlO2Nhc2VcImFyZWFcIjpyZXR1cm4gTWF0aC5zcXJ0KGUpfXJldHVybiBlfWZ1bmN0aW9uIHIodCl7cmV0dXJue3ZhbHVlOnQudmFsdWUsc2l6ZTplKHQuc2l6ZSl9fWZ1bmN0aW9uIGEoZSl7cmV0dXJuKGU/P1tdKS5tYXAoKGU9PnIoZSkpKX1mdW5jdGlvbiB1KHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gZSh0KTtjb25zdCBzPXQ7cmV0dXJue3R5cGU6XCJzaXplXCIsZXhwcmVzc2lvbjpzLmV4cHJlc3Npb24sc3RvcHM6YShzLnN0b3BzKX19Y29uc3QgcD1lPT57Y29uc3Qgcz1bXSxvPVtdLGk9YShlKSxsPWkubGVuZ3RoO2ZvcihsZXQgcj0wO3I8NjtyKyspe2NvbnN0IGU9aVtNYXRoLm1pbihyLGwtMSldO3MucHVzaChlLnZhbHVlKSxvLnB1c2gobnVsbD09ZS5zaXplP246dChlLnNpemUpKX1yZXR1cm57dmFsdWVzOm5ldyBGbG9hdDMyQXJyYXkocyksc2l6ZXM6bmV3IEZsb2F0MzJBcnJheShvKX19O2Z1bmN0aW9uIGMoZSl7Y29uc3QgdD1lJiZlLmxlbmd0aD4wP3t9Om51bGwscz10P3t9Om51bGw7aWYoIXR8fCFzKXJldHVybnt2dkZpZWxkczp0LHZ2UmFuZ2VzOnN9O2Zvcihjb25zdCBuIG9mIGUpaWYobi5maWVsZCYmKHRbbi50eXBlXT1uLmZpZWxkKSxcInNpemVcIj09PW4udHlwZSl7cy5zaXplfHwocy5zaXplPXt9KTtjb25zdCBlPW47c3dpdGNoKGkoZSkpe2Nhc2Ugby5TSVpFX01JTk1BWF9WQUxVRTpzLnNpemUubWluTWF4VmFsdWU9e21pbkRhdGFWYWx1ZTplLm1pbkRhdGFWYWx1ZSxtYXhEYXRhVmFsdWU6ZS5tYXhEYXRhVmFsdWUsbWluU2l6ZTp1KGUubWluU2l6ZSksbWF4U2l6ZTp1KGUubWF4U2l6ZSl9O2JyZWFrO2Nhc2Ugby5TSVpFX1NDQUxFX1NUT1BTOnMuc2l6ZS5zY2FsZVN0b3BzPXtzdG9wczphKGUuc3RvcHMpfTticmVhaztjYXNlIG8uU0laRV9GSUVMRF9TVE9QUzppZihlLmxldmVscyl7Y29uc3QgdD17fTtmb3IoY29uc3QgcyBpbiBlLmxldmVscyl0W3NdPXAoZS5sZXZlbHNbc10pO3Muc2l6ZS5maWVsZFN0b3BzPXt0eXBlOlwibGV2ZWwtZGVwZW5kZW50XCIsbGV2ZWxzOnR9fWVsc2Ugcy5zaXplLmZpZWxkU3RvcHM9e3R5cGU6XCJzdGF0aWNcIiwuLi5wKGUuc3RvcHMpfTticmVhaztjYXNlIG8uU0laRV9VTklUX1ZBTFVFOnMuc2l6ZS51bml0VmFsdWU9e3VuaXQ6ZS52YWx1ZVVuaXQsdmFsdWVSZXByZXNlbnRhdGlvbjplLnZhbHVlUmVwcmVzZW50YXRpb24/P3ZvaWQgMH19fWVsc2UgaWYoXCJjb2xvclwiPT09bi50eXBlKXMuY29sb3I9bShuKTtlbHNlIGlmKFwib3BhY2l0eVwiPT09bi50eXBlKXMub3BhY2l0eT1mKG4pO2Vsc2UgaWYoXCJyb3RhdGlvblwiPT09bi50eXBlKXtjb25zdCBlPW47cy5yb3RhdGlvbj17dHlwZTplLnJvdGF0aW9uVHlwZX19cmV0dXJue3Z2RmllbGRzOnQsdnZSYW5nZXM6c319ZnVuY3Rpb24gZihlKXtjb25zdCB0PXt2YWx1ZXM6WzAsMCwwLDAsMCwwLDAsMF0sb3BhY2l0aWVzOlswLDAsMCwwLDAsMCwwLDBdfTtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5maWVsZCl7aWYoIWUuc3RvcHMpcmV0dXJuIG51bGw7e2lmKGUuc3RvcHMubGVuZ3RoPjgpcmV0dXJuIG51bGw7Y29uc3Qgcz1lLnN0b3BzO2ZvcihsZXQgZT0wO2U8ODsrK2Upe2NvbnN0IG49c1tNYXRoLm1pbihlLHMubGVuZ3RoLTEpXTt0LnZhbHVlc1tlXT1uLnZhbHVlLHQub3BhY2l0aWVzW2VdPW4ub3BhY2l0eX19fWVsc2V7aWYoIShlLnN0b3BzJiZlLnN0b3BzLmxlbmd0aD49MCkpcmV0dXJuIG51bGw7e2NvbnN0IHM9ZS5zdG9wcyYmZS5zdG9wcy5sZW5ndGg+PTA/ZS5zdG9wc1swXS5vcGFjaXR5OjA7Zm9yKGxldCBlPTA7ZTw4O2UrKyl0LnZhbHVlc1tlXT0xLzAsdC5vcGFjaXRpZXNbZV09c319cmV0dXJuIHR9ZnVuY3Rpb24gdihlLHQscyl7ZVs0KnRdPXMuci8yNTUsZVs0KnQrMV09cy5nLzI1NSxlWzQqdCsyXT1zLmIvMjU1LGVbNCp0KzNdPXMuYX1mdW5jdGlvbiBtKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoZS5ub3JtYWxpemF0aW9uRmllbGQpcmV0dXJuIG51bGw7Y29uc3QgdD17ZmllbGQ6bnVsbCx2YWx1ZXM6WzAsMCwwLDAsMCwwLDAsMF0sY29sb3JzOlswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdfTtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5maWVsZCl7aWYoIWUuc3RvcHMpcmV0dXJuIG51bGw7e2lmKGUuc3RvcHMubGVuZ3RoPjgpcmV0dXJuIG51bGw7dC5maWVsZD1lLmZpZWxkO2NvbnN0IHM9ZS5zdG9wcztmb3IobGV0IGU9MDtlPDg7KytlKXtjb25zdCBuPXNbTWF0aC5taW4oZSxzLmxlbmd0aC0xKV07dC52YWx1ZXNbZV09bi52YWx1ZSx2KHQuY29sb3JzLGUsbi5jb2xvcil9fX1lbHNle2lmKCEoZS5zdG9wcyYmZS5zdG9wcy5sZW5ndGg+PTApKXJldHVybiBudWxsO3tjb25zdCBzPWUuc3RvcHMmJmUuc3RvcHMubGVuZ3RoPj0wJiZlLnN0b3BzWzBdLmNvbG9yO2ZvcihsZXQgZT0wO2U8ODtlKyspdC52YWx1ZXNbZV09MS8wLHYodC5jb2xvcnMsZSxzKX19Zm9yKGxldCBuPTA7bjwzMjtuKz00KXModC5jb2xvcnMsbiwhMCk7cmV0dXJuIHR9ZXhwb3J0e20gYXMgY29udmVydENvbG9yVmFyaWFibGUsYyBhcyBjb252ZXJ0VmlzdWFsVmFyaWFibGVzLGwgYXMgZ2V0VmlzdWFsVmFyaWFibGVTaXplVmFsdWVSZXByZXNlbnRhdGlvblJhdGlvLHUgYXMgbm9ybWFsaXplU2l6ZUVsZW1lbnQsYSBhcyBub3JtYWxpemVTaXplU3RvcHMsciBhcyBzdG9wVG9TaXplU3RvcH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=