"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_views_3d_layers_ImageryLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/ImageryLayerView3D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/ImageryLayerView3D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _DynamicLayerView3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DynamicLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js");
/* harmony import */ var _layers_ImageryLayerView_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/ImageryLayerView.js */ "./node_modules/@arcgis/core/views/layers/ImageryLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let o=class extends((0,_layers_ImageryLayerView_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_DynamicLayerView3D_js__WEBPACK_IMPORTED_MODULE_9__["default"])){constructor(){super(...arguments),this.type="imagery-3d",this.redrawDebounced=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.debounce)((async e=>{this.redraw(((e,a)=>this._redrawImage(e,a)),e)}),2e3)}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.when)((()=>this.view.basemapTerrain.ready),(()=>this._initializeMaximumDataResolution()),{once:!0,initial:!0}),this.layer.on("redraw",(()=>this._updatingHandles.addPromise(this.redrawDebounced())))]),this._updatingHandles.add((()=>this.layer?.exportImageServiceParameters?.version),(()=>{this._updatingHandles.addPromise(this.refreshDebounced())})),this._updatingHandles.add((()=>this.layer?.renderer),(()=>{this._updatingHandles.addPromise(this.refreshDebounced())})),this._updatingHandles.add((()=>this.timeExtent),(()=>this._updatingHandles.addPromise(this.refreshDebounced())))}_initializeMaximumDataResolution(){this.maximumDataResolution=this.layer.loaded?this.layer.serviceRasterInfo.pixelSize:null}getFetchOptions(){return{timeExtent:this.timeExtent}}async processResult(e,a,t){a.imageOrCanvasElement?e.image=a.imageOrCanvasElement:(e.image=document.createElement("canvas"),e.pixelData=a.pixelData,await this._redrawImage(e,t))}async _redrawImage(e,a){if(!(e.image instanceof HTMLCanvasElement)||null==e.pixelData)throw new Error;const t=e.image,i=t.getContext("2d"),r=await this.layer.applyRenderer(e.pixelData,{signal:a}),s=this.layer.applyFilter(r).pixelBlock;if(null==s)throw new Error;t.width=s.width,t.height=s.height;const o=i.createImageData(s.width,s.height);o.data.set(s.getAsRGBA()),i.putImageData(o,0,0)}};o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.ImageryLayerView3D")],o);const n=o;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/ImageryLayerView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/ImageryLayerView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let u=class extends n{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,t){const{layer:o}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:o});const{popupEnabled:p}=o,n=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__.getFetchPopupTemplate)(o,t);if(!p||null==n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imagerylayerview:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:p,popupTemplate:n});const u=await n.getRequiredFields(),l=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__["default"];l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=u,l.outSpatialReference=e.spatialReference;const{resolution:m,spatialReference:c}=this.view,y="2d"===this.view.type?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"](m,m,c):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"](.5*m,.5*m,c),{returnTopmostRaster:d,showNoDataRecords:h}=n.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},w={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:y,showNoDataRecords:h,signal:null!=t?t.signal:null};return o.queryVisibleRasters(l,w).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],u.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"view",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.layers.ImageryLayerView")],u),u};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19JbWFnZXJ5TGF5ZXJWaWV3M0RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzJmLG9CQUFvQix3RUFBQyxDQUFDLDhEQUFDLEdBQUcsY0FBYyxnRUFBZ0UsK0RBQUMsWUFBWSwrQ0FBK0MsT0FBTyxhQUFhLGlCQUFpQiw0REFBQyxxRkFBcUYsbUJBQW1CLG1MQUFtTCwwREFBMEQsOERBQThELDBEQUEwRCxvSEFBb0gsbUNBQW1DLHlGQUF5RixrQkFBa0IsT0FBTyw0QkFBNEIsMkJBQTJCLHNKQUFzSix3QkFBd0IsOEVBQThFLG1GQUFtRixTQUFTLHlDQUF5QywyQkFBMkIsa0NBQWtDLDRDQUE0QyxrREFBa0QsRUFBRSx1REFBQyxFQUFFLHNGQUFDLGdEQUFnRCxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbmtFO0FBQ0E7QUFDQTtBQUNBO0FBQ3drQixZQUFZLHNCQUFzQixjQUFjLG1DQUFtQyw4QkFBOEIsTUFBTSxRQUFRLE1BQU0sZ0JBQWdCLHNEQUFDLHdFQUF3RSxRQUFRLEVBQUUsTUFBTSxlQUFlLEtBQUssOEVBQUMsTUFBTSx5QkFBeUIsc0RBQUMseUZBQXlGLCtCQUErQixFQUFFLDBDQUEwQyw4REFBQyxDQUFDLGlHQUFpRyxNQUFNLGdDQUFnQyx1Q0FBdUMsMERBQUMsWUFBWSwwREFBQyxlQUFlLDBDQUEwQyxrQkFBa0IsNENBQTRDLElBQUksMEdBQTBHLCtDQUErQyxZQUFZLHVEQUF1RCxPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsQ0FBQyxvR0FBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyw4Q0FBbUU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3d0Q7QUFDQTtBQUNBO0FBQ0E7QUFDNEYsc0NBQXNDLG9CQUFvQixrREFBa0Qsc0JBQXNCLElBQUksOERBQThELEdBQUcsK0JBQStCLFVBQVUsbUZBQUMsU0FBUyx3RUFBQyw0QkFBNEIsb0pBQW9KLE1BQU0sV0FBVyxHQUFHLHVEQUF1RCxLQUFLLGdCQUFnQix3SUFBd0ksZ0JBQWdCLGtCQUFrQiw4QkFBOEIsRUFBa0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0ltYWdlcnlMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0ltYWdlcnlMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW4gYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCByIGZyb21cIi4vRHluYW1pY0xheWVyVmlldzNELmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vbGF5ZXJzL0ltYWdlcnlMYXllclZpZXcuanNcIjtsZXQgbz1jbGFzcyBleHRlbmRzKHMocikpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJpbWFnZXJ5LTNkXCIsdGhpcy5yZWRyYXdEZWJvdW5jZWQ9YSgoYXN5bmMgZT0+e3RoaXMucmVkcmF3KCgoZSxhKT0+dGhpcy5fcmVkcmF3SW1hZ2UoZSxhKSksZSl9KSwyZTMpfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW3QoKCgpPT50aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ucmVhZHkpLCgoKT0+dGhpcy5faW5pdGlhbGl6ZU1heGltdW1EYXRhUmVzb2x1dGlvbigpKSx7b25jZTohMCxpbml0aWFsOiEwfSksdGhpcy5sYXllci5vbihcInJlZHJhd1wiLCgoKT0+dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5yZWRyYXdEZWJvdW5jZWQoKSkpKV0pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyPy5leHBvcnRJbWFnZVNlcnZpY2VQYXJhbWV0ZXJzPy52ZXJzaW9uKSwoKCk9Pnt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLnJlZnJlc2hEZWJvdW5jZWQoKSl9KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXI/LnJlbmRlcmVyKSwoKCk9Pnt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLnJlZnJlc2hEZWJvdW5jZWQoKSl9KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudGltZUV4dGVudCksKCgpPT50aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLnJlZnJlc2hEZWJvdW5jZWQoKSkpKX1faW5pdGlhbGl6ZU1heGltdW1EYXRhUmVzb2x1dGlvbigpe3RoaXMubWF4aW11bURhdGFSZXNvbHV0aW9uPXRoaXMubGF5ZXIubG9hZGVkP3RoaXMubGF5ZXIuc2VydmljZVJhc3RlckluZm8ucGl4ZWxTaXplOm51bGx9Z2V0RmV0Y2hPcHRpb25zKCl7cmV0dXJue3RpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50fX1hc3luYyBwcm9jZXNzUmVzdWx0KGUsYSx0KXthLmltYWdlT3JDYW52YXNFbGVtZW50P2UuaW1hZ2U9YS5pbWFnZU9yQ2FudmFzRWxlbWVudDooZS5pbWFnZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGUucGl4ZWxEYXRhPWEucGl4ZWxEYXRhLGF3YWl0IHRoaXMuX3JlZHJhd0ltYWdlKGUsdCkpfWFzeW5jIF9yZWRyYXdJbWFnZShlLGEpe2lmKCEoZS5pbWFnZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KXx8bnVsbD09ZS5waXhlbERhdGEpdGhyb3cgbmV3IEVycm9yO2NvbnN0IHQ9ZS5pbWFnZSxpPXQuZ2V0Q29udGV4dChcIjJkXCIpLHI9YXdhaXQgdGhpcy5sYXllci5hcHBseVJlbmRlcmVyKGUucGl4ZWxEYXRhLHtzaWduYWw6YX0pLHM9dGhpcy5sYXllci5hcHBseUZpbHRlcihyKS5waXhlbEJsb2NrO2lmKG51bGw9PXMpdGhyb3cgbmV3IEVycm9yO3Qud2lkdGg9cy53aWR0aCx0LmhlaWdodD1zLmhlaWdodDtjb25zdCBvPWkuY3JlYXRlSW1hZ2VEYXRhKHMud2lkdGgscy5oZWlnaHQpO28uZGF0YS5zZXQocy5nZXRBc1JHQkEoKSksaS5wdXRJbWFnZURhdGEobywwLDApfX07bz1lKFtpKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuSW1hZ2VyeUxheWVyVmlldzNEXCIpXSxvKTtjb25zdCBuPW87ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7Y29tYmluZWRWaWV3TGF5ZXJUaW1lRXh0ZW50UHJvcGVydHkgYXMgcH1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2dldEZldGNoUG9wdXBUZW1wbGF0ZSBhcyBhfWZyb21cIi4vc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7Y29uc3Qgbj1uPT57bGV0IHU9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnZpZXc9bnVsbH1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSx0KXtjb25zdHtsYXllcjpvfT10aGlzO2lmKCFlKXRocm93IG5ldyByKFwiaW1hZ2VyeWxheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIk5vdGhpbmcgdG8gZmV0Y2ggd2l0aG91dCBhcmVhXCIse2xheWVyOm99KTtjb25zdHtwb3B1cEVuYWJsZWQ6cH09byxuPWEobyx0KTtpZighcHx8bnVsbD09bil0aHJvdyBuZXcgcihcImltYWdlcnlsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJNaXNzaW5nIHJlcXVpcmVkIHBvcHVwVGVtcGxhdGUgb3IgcG9wdXBFbmFibGVkXCIse3BvcHVwRW5hYmxlZDpwLHBvcHVwVGVtcGxhdGU6bn0pO2NvbnN0IHU9YXdhaXQgbi5nZXRSZXF1aXJlZEZpZWxkcygpLGw9bmV3IGk7bC50aW1lRXh0ZW50PXRoaXMudGltZUV4dGVudCxsLmdlb21ldHJ5PWUsbC5vdXRGaWVsZHM9dSxsLm91dFNwYXRpYWxSZWZlcmVuY2U9ZS5zcGF0aWFsUmVmZXJlbmNlO2NvbnN0e3Jlc29sdXRpb246bSxzcGF0aWFsUmVmZXJlbmNlOmN9PXRoaXMudmlldyx5PVwiMmRcIj09PXRoaXMudmlldy50eXBlP25ldyBzKG0sbSxjKTpuZXcgcyguNSptLC41Km0sYykse3JldHVyblRvcG1vc3RSYXN0ZXI6ZCxzaG93Tm9EYXRhUmVjb3JkczpofT1uLmxheWVyT3B0aW9uc3x8e3JldHVyblRvcG1vc3RSYXN0ZXI6ITAsc2hvd05vRGF0YVJlY29yZHM6ITF9LHc9e3JldHVybkRvbWFpblZhbHVlczohMCxyZXR1cm5Ub3Btb3N0UmFzdGVyOmQscGl4ZWxTaXplOnksc2hvd05vRGF0YVJlY29yZHM6aCxzaWduYWw6bnVsbCE9dD90LnNpZ25hbDpudWxsfTtyZXR1cm4gby5xdWVyeVZpc2libGVSYXN0ZXJzKGwsdykudGhlbigoZT0+ZSkpfWNhblJlc3VtZSgpe3JldHVybiEhc3VwZXIuY2FuUmVzdW1lKCkmJiF0aGlzLnRpbWVFeHRlbnQ/LmlzRW1wdHl9fTtyZXR1cm4gZShbdCgpXSx1LnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFt0KCldLHUucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsdm9pZCAwKSxlKFt0KHApXSx1LnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLGUoW3QoKV0sdS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSx1PWUoW28oXCJlc3JpLnZpZXdzLmxheWVycy5JbWFnZXJ5TGF5ZXJWaWV3XCIpXSx1KSx1fTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==