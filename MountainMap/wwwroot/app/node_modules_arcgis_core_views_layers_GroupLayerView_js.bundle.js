"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_views_layers_GroupLayerView_js"],{

/***/ "./node_modules/@arcgis/core/views/layers/GroupLayerView.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/GroupLayerView.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/collectionUtils.js */ "./node_modules/@arcgis/core/core/collectionUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LayerView_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _LayerView_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(i){super(i),this.type="group",this.layerViews=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]}destroy(){this.layerViews.length=0}_allLayerViewVisibility(i){this.layerViews.forEach((e=>{e.visible=i}))}initialize(){this.addHandles([this.layerViews.on("change",(i=>this._layerViewsChangeHandler(i))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer?.visibilityMode),(()=>{this.layer&&this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null)))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.visible),(i=>{this._applyVisibility((()=>this._allLayerViewVisibility(i)),(()=>{}))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(i){this._set("layerViews",(0,_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.referenceSetter)(i,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((i,e)=>i+e.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((i=>i.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((i=>i._isOverridden("visible")))}_findLayerViewForLayer(i){return i&&this.layerViews.find((e=>e.layer===i))}_firstVisibleOnLayerOrder(){const i=this.layer.layers.find((i=>{const e=this._findLayerViewForLayer(i);return!!e?.visible}));return i&&this._findLayerViewForLayer(i)}_applyExclusiveVisibility(i){null==i&&null==(i=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(i=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach((e=>{e.visible=e===i}))}_layerViewsChangeHandler(i){this.removeHandles("grouplayerview:visible"),this.addHandles(this.layerViews.map((i=>(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>i.visible),(e=>this._applyVisibility((()=>{e!==this.visible&&(i.visible=this.visible)}),(()=>this._applyExclusiveVisibility(e?i:null)))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync))).toArray(),"grouplayerview:visible");const e=i.added[i.added.length-1];this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(e?.visible?e:null)))}_applyVisibility(i,e){this._hasLayerViewVisibleOverrides()&&("inherited"===this.layer?.visibilityMode?i():"exclusive"===this.layer?.visibilityMode&&e())}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({cast:_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.castForReferenceSetter})],h.prototype,"layerViews",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],h.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],h.prototype,"view",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.layers.GroupLayerView")],h);const n=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzX2xheWVyc19Hcm91cExheWVyVmlld19qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvaEIsb0JBQW9CLHFEQUFDLENBQUMsZUFBZSwrQ0FBK0MsMkRBQUMsQ0FBQyxVQUFVLHlCQUF5QiwyQkFBMkIsNkJBQTZCLFlBQVksR0FBRyxhQUFhLG9GQUFvRiw2REFBQyx3Q0FBd0MsK0hBQStILEVBQUUsd0RBQUMsRUFBRSw2REFBQyx5QkFBeUIsbUVBQW1FLEdBQUcsRUFBRSx3REFBQyxvREFBb0QsZ0VBQWdFLEVBQUUsa0JBQWtCLHVCQUF1Qix5RUFBQyw2QkFBNkIsdUJBQXVCLG1IQUFtSCxhQUFhLDZDQUE2QyxnQ0FBZ0MsNkRBQTZELDBCQUEwQixpREFBaUQsNEJBQTRCLG9DQUFvQyx1Q0FBdUMsbUJBQW1CLEdBQUcseUNBQXlDLDZCQUE2QixxS0FBcUssZ0JBQWdCLEdBQUcsNEJBQTRCLHFGQUFxRiw2REFBQyxpREFBaUQsMkNBQTJDLG1EQUFtRCx3REFBQyx3Q0FBd0Msa0NBQWtDLGdJQUFnSSxzQkFBc0IscUlBQXFJLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLDRFQUFDLENBQUMsa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLHlDQUF5QyxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxeUY7QUFDQTtBQUNBO0FBQ0E7QUFDc3BCLG9CQUFvQix3RUFBQyxDQUFDLGtFQUFDLENBQUMsd0RBQUMsY0FBYyx5REFBQyxLQUFLLGVBQWUsbUNBQW1DLDhFQUFDLGtDQUFrQyxhQUFhLHVCQUF1QixzQ0FBc0MsMkVBQTJFLHVEQUFDLG1GQUFtRixFQUFFLFVBQVUsRUFBRSxRQUFRLEdBQUcsVUFBVSxzQkFBc0IsNERBQUMsd0JBQXdCLGtCQUFrQiw2REFBNkQsZ0JBQWdCLHdCQUF3QixrQkFBa0IsNkJBQTZCLG9CQUFvQixzREFBc0QsZUFBZSw4REFBOEQsdUJBQXVCLHlCQUF5QixjQUFjLCtCQUErQixlQUFlLGtDQUFrQyxZQUFZLHVGQUF1RixpQkFBaUIseURBQXlELFFBQVEscUlBQXFJLGFBQWEsV0FBVyx1REFBQyxFQUFFLHNGQUFDLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUseUJBQXlCLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSx1RkFBQyxvQ0FBb0MsVUFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0dyb3VwTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBpfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7cmVmZXJlbmNlU2V0dGVyIGFzIHMsY2FzdEZvclJlZmVyZW5jZVNldHRlciBhcyByfWZyb21cIi4uLy4uL2NvcmUvY29sbGVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHQsc3luYyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi9MYXllclZpZXcuanNcIjtsZXQgaD1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IoaSl7c3VwZXIoaSksdGhpcy50eXBlPVwiZ3JvdXBcIix0aGlzLmxheWVyVmlld3M9bmV3IGV9ZGVzdHJveSgpe3RoaXMubGF5ZXJWaWV3cy5sZW5ndGg9MH1fYWxsTGF5ZXJWaWV3VmlzaWJpbGl0eShpKXt0aGlzLmxheWVyVmlld3MuZm9yRWFjaCgoZT0+e2UudmlzaWJsZT1pfSkpfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW3RoaXMubGF5ZXJWaWV3cy5vbihcImNoYW5nZVwiLChpPT50aGlzLl9sYXllclZpZXdzQ2hhbmdlSGFuZGxlcihpKSkpLHQoKCgpPT50aGlzLmxheWVyPy52aXNpYmlsaXR5TW9kZSksKCgpPT57dGhpcy5sYXllciYmdGhpcy5fYXBwbHlWaXNpYmlsaXR5KCgoKT0+dGhpcy5fYWxsTGF5ZXJWaWV3VmlzaWJpbGl0eSh0aGlzLnZpc2libGUpKSwoKCk9PnRoaXMuX2FwcGx5RXhjbHVzaXZlVmlzaWJpbGl0eShudWxsKSkpfSksbCksdCgoKCk9PnRoaXMudmlzaWJsZSksKGk9Pnt0aGlzLl9hcHBseVZpc2liaWxpdHkoKCgpPT50aGlzLl9hbGxMYXllclZpZXdWaXNpYmlsaXR5KGkpKSwoKCk9Pnt9KSl9KSxsKV0sXCJncm91cGxheWVydmlld1wiKSx0aGlzLl9sYXllclZpZXdzQ2hhbmdlSGFuZGxlcih7dGFyZ2V0Om51bGwsYWRkZWQ6dGhpcy5sYXllclZpZXdzLnRvQXJyYXkoKSxyZW1vdmVkOltdLG1vdmVkOltdfSl9c2V0IGxheWVyVmlld3MoaSl7dGhpcy5fc2V0KFwibGF5ZXJWaWV3c1wiLHMoaSx0aGlzLl9nZXQoXCJsYXllclZpZXdzXCIpKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gMD09PXRoaXMubGF5ZXJWaWV3cy5sZW5ndGg/MTp0aGlzLmxheWVyVmlld3MucmVkdWNlKCgoaSxlKT0+aStlLnVwZGF0aW5nUHJvZ3Jlc3MpLDApL3RoaXMubGF5ZXJWaWV3cy5sZW5ndGh9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLmxheWVyVmlld3Muc29tZSgoaT0+aS51cGRhdGluZykpfV9oYXNMYXllclZpZXdWaXNpYmxlT3ZlcnJpZGVzKCl7cmV0dXJuIHRoaXMubGF5ZXJWaWV3cy5zb21lKChpPT5pLl9pc092ZXJyaWRkZW4oXCJ2aXNpYmxlXCIpKSl9X2ZpbmRMYXllclZpZXdGb3JMYXllcihpKXtyZXR1cm4gaSYmdGhpcy5sYXllclZpZXdzLmZpbmQoKGU9PmUubGF5ZXI9PT1pKSl9X2ZpcnN0VmlzaWJsZU9uTGF5ZXJPcmRlcigpe2NvbnN0IGk9dGhpcy5sYXllci5sYXllcnMuZmluZCgoaT0+e2NvbnN0IGU9dGhpcy5fZmluZExheWVyVmlld0ZvckxheWVyKGkpO3JldHVybiEhZT8udmlzaWJsZX0pKTtyZXR1cm4gaSYmdGhpcy5fZmluZExheWVyVmlld0ZvckxheWVyKGkpfV9hcHBseUV4Y2x1c2l2ZVZpc2liaWxpdHkoaSl7bnVsbD09aSYmbnVsbD09KGk9dGhpcy5fZmlyc3RWaXNpYmxlT25MYXllck9yZGVyKCkpJiZ0aGlzLmxheWVyVmlld3MubGVuZ3RoPjAmJihpPXRoaXMuX2ZpbmRMYXllclZpZXdGb3JMYXllcih0aGlzLmxheWVyLmxheWVycy5hdCgwKSkpLHRoaXMubGF5ZXJWaWV3cy5mb3JFYWNoKChlPT57ZS52aXNpYmxlPWU9PT1pfSkpfV9sYXllclZpZXdzQ2hhbmdlSGFuZGxlcihpKXt0aGlzLnJlbW92ZUhhbmRsZXMoXCJncm91cGxheWVydmlldzp2aXNpYmxlXCIpLHRoaXMuYWRkSGFuZGxlcyh0aGlzLmxheWVyVmlld3MubWFwKChpPT50KCgoKT0+aS52aXNpYmxlKSwoZT0+dGhpcy5fYXBwbHlWaXNpYmlsaXR5KCgoKT0+e2UhPT10aGlzLnZpc2libGUmJihpLnZpc2libGU9dGhpcy52aXNpYmxlKX0pLCgoKT0+dGhpcy5fYXBwbHlFeGNsdXNpdmVWaXNpYmlsaXR5KGU/aTpudWxsKSkpKSxsKSkpLnRvQXJyYXkoKSxcImdyb3VwbGF5ZXJ2aWV3OnZpc2libGVcIik7Y29uc3QgZT1pLmFkZGVkW2kuYWRkZWQubGVuZ3RoLTFdO3RoaXMuX2FwcGx5VmlzaWJpbGl0eSgoKCk9PnRoaXMuX2FsbExheWVyVmlld1Zpc2liaWxpdHkodGhpcy52aXNpYmxlKSksKCgpPT50aGlzLl9hcHBseUV4Y2x1c2l2ZVZpc2liaWxpdHkoZT8udmlzaWJsZT9lOm51bGwpKSl9X2FwcGx5VmlzaWJpbGl0eShpLGUpe3RoaXMuX2hhc0xheWVyVmlld1Zpc2libGVPdmVycmlkZXMoKSYmKFwiaW5oZXJpdGVkXCI9PT10aGlzLmxheWVyPy52aXNpYmlsaXR5TW9kZT9pKCk6XCJleGNsdXNpdmVcIj09PXRoaXMubGF5ZXI/LnZpc2liaWxpdHlNb2RlJiZlKCkpfX07aShbYSh7Y2FzdDpyfSldLGgucHJvdG90eXBlLFwibGF5ZXJWaWV3c1wiLG51bGwpLGkoW2Eoe3JlYWRPbmx5OiEwfSldLGgucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLG51bGwpLGkoW2EoKV0saC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxoPWkoW3koXCJlc3JpLnZpZXdzLmxheWVycy5Hcm91cExheWVyVmlld1wiKV0saCk7Y29uc3Qgbj1oO2V4cG9ydHtuIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgc31mcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RXNyaVByb21pc2VNaXhpbiBhcyBufWZyb21cIi4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtsZXQgZD1jbGFzcyBleHRlbmRzKHMobihyLkV2ZW50ZWRNaXhpbih0KSkpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHAsdGhpcy5sYXllcj1udWxsLHRoaXMucGFyZW50PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMud2hlbigpLmNhdGNoKChlPT57aWYoXCJsYXllcnZpZXc6Y3JlYXRlLWVycm9yXCIhPT1lLm5hbWUpe2NvbnN0IHQ9dGhpcy5sYXllciYmdGhpcy5sYXllci5pZHx8XCJubyBpZFwiLHI9dGhpcy5sYXllcj8udGl0bGV8fFwibm8gdGl0bGVcIjtpLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNyZXNvbHZlKClcIixgRmFpbGVkIHRvIHJlc29sdmUgbGF5ZXIgdmlldyAobGF5ZXIgdGl0bGU6ICcke3J9JywgaWQ6ICcke3R9JylgLGUpfX0pKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzPW8odGhpcy5fdXBkYXRpbmdIYW5kbGVzKX1nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4odGhpcy5sYXllcj8ub3BhY2l0eT8/MSkqKHRoaXMucGFyZW50Py5mdWxsT3BhY2l0eT8/MSl9Z2V0IHN1c3BlbmRlZCgpe3JldHVybiF0aGlzLmNhblJlc3VtZSgpfWdldCBzdXNwZW5kSW5mbygpe3JldHVybiB0aGlzLmdldFN1c3BlbmRJbmZvKCl9Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4hdGhpcy5zdXNwZW5kZWQmJiEwPT09dGhpcy5sYXllcj8ubGVnZW5kRW5hYmxlZH1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hKCF0aGlzLl91cGRhdGluZ0hhbmRsZXM/LnVwZGF0aW5nJiYhdGhpcy5pc1VwZGF0aW5nKCkpfWdldCB1cGRhdGluZ1Byb2dyZXNzKCl7cmV0dXJuIHRoaXMudXBkYXRpbmc/MDoxfWdldCB2aXNpYmxlKCl7cmV0dXJuITA9PT10aGlzLmxheWVyPy52aXNpYmxlfXNldCB2aXNpYmxlKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwidmlzaWJsZVwiLGUpfWNhblJlc3VtZSgpe3JldHVybiB0aGlzLnZpc2libGUmJnRoaXMubGF5ZXI/LmxvYWRlZCYmIXRoaXMucGFyZW50Py5zdXNwZW5kZWQmJnRoaXMudmlldz8ucmVhZHl8fCExfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT10aGlzLnBhcmVudD8uc3VzcGVuZGVkP3RoaXMucGFyZW50LnN1c3BlbmRJbmZvOnt9LHQ9dGhpcztyZXR1cm4gdC52aWV3Py5yZWFkeXx8KGUudmlld05vdFJlYWR5PSEwKSx0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmxvYWRlZHx8KGUubGF5ZXJOb3RMb2FkZWQ9ITApLHRoaXMudmlzaWJsZXx8KGUubGF5ZXJJbnZpc2libGU9ITApLGV9aXNVcGRhdGluZygpe3JldHVybiExfX07ZShbYSgpXSxkLnByb3RvdHlwZSxcImZ1bGxPcGFjaXR5XCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFthKCldLGQucHJvdG90eXBlLFwicGFyZW50XCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZEluZm9cIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIixudWxsKSxlKFthKHt0eXBlOkJvb2xlYW4scmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGQ9ZShbbChcImVzcmkudmlld3MubGF5ZXJzLkxheWVyVmlld1wiKV0sZCk7Y29uc3QgdT1kO2V4cG9ydHt1IGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9