"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_portal_support_resourceUtils_js"],{

/***/ "./node_modules/@arcgis/core/portal/support/resourceUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addOrUpdateResource: () => (/* binding */ s),
/* harmony export */   contentToBlob: () => (/* binding */ p),
/* harmony export */   fetchResources: () => (/* binding */ o),
/* harmony export */   getSiblingOfSameType: () => (/* binding */ d),
/* harmony export */   getSiblingOfSameTypeI: () => (/* binding */ m),
/* harmony export */   removeAllResources: () => (/* binding */ l),
/* harmony export */   removeResource: () => (/* binding */ n),
/* harmony export */   splitPrefixFileNameAndExtension: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function o(e,t={},a){await e.load(a);const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.itemUrl,"resources"),{start:s=1,num:n=10,sortOrder:l="asc",sortField:u="created"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`portal-item-resource-${a}:invalid-path`,"Resource does not have a valid path");const n=e.portalItem;await n.load(s);const l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(n.userItemUrl,"add"===a?"addResources":"updateResources"),[c,i]=u(e.path),p=new FormData;return c&&"."!==c&&p.append("resourcesPrefix",c),null!=s&&s.compress&&p.append("compress","true"),p.append("fileName",i),p.append("file",o,i),p.append("f","json"),s?.access&&p.append("access",s.access),await n.portal.request(l,{method:"post",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await e.load(o);const s=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");await e.portal.request(s,{method:"post",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");return e.portal.request(a,{method:"post",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPathExtension)(e);return null==t?[e,""]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if("blob"===t.type)return t.blob;if("json"===t.type)return new Blob([t.jsonString],{type:"application/json"});return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.url,{responseType:"blob"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+o))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3BvcnRhbF9zdXBwb3J0X3Jlc291cmNlVXRpbHNfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDdUksdUJBQXVCLElBQUksZ0JBQWdCLFFBQVEsdURBQUMseUJBQXlCLDJEQUEyRCxNQUFNLE9BQU8scURBQXFELGtCQUFrQiwrQkFBK0IsT0FBTyxpRUFBaUUsNEJBQTRCLEtBQUssMERBQTBELEtBQUssMEJBQTBCLDBCQUEwQixzREFBQyx5QkFBeUIsRUFBRSxzREFBc0QscUJBQXFCLGdCQUFnQixRQUFRLHVEQUFDLDBGQUEwRixvT0FBb08sc0NBQXNDLElBQUksd0JBQXdCLDBCQUEwQixzREFBQyxvRkFBb0YsZ0JBQWdCLFFBQVEsdURBQUMsa0NBQWtDLDBCQUEwQixxQkFBcUIsZ0JBQWdCLGtCQUFrQixvQkFBb0Isc0JBQXNCLGdCQUFnQixRQUFRLHVEQUFDLGtDQUFrQywyQkFBMkIscUJBQXFCLGFBQWEsa0JBQWtCLEVBQUUsY0FBYywyQkFBMkIsaURBQWlELGNBQWMsMkJBQTJCLGNBQWMsY0FBYyxRQUFRLG1FQUFDLElBQUksMERBQTBELEVBQUUsR0FBRyxvQkFBb0IsaUNBQWlDLG1EQUFtRCx3QkFBd0IsRUFBRSxhQUFhLHVEQUFDLFFBQVEsb0JBQW9CLFFBQVEsZ0JBQWdCLDRCQUE0QixzQkFBc0IscUNBQXFDLHVEQUFDLFNBQVMsZ0JBQWdCLDRCQUE0QixzQkFBc0IscUNBQXFDLHVEQUFDLFNBQXVOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2pvaW4gYXMgcixnZXRQYXRoRXh0ZW5zaW9uIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIG8oZSx0PXt9LGEpe2F3YWl0IGUubG9hZChhKTtjb25zdCBvPXIoZS5pdGVtVXJsLFwicmVzb3VyY2VzXCIpLHtzdGFydDpzPTEsbnVtOm49MTAsc29ydE9yZGVyOmw9XCJhc2NcIixzb3J0RmllbGQ6dT1cImNyZWF0ZWRcIn09dCxjPXtxdWVyeTp7c3RhcnQ6cyxudW06bixzb3J0T3JkZXI6bCxzb3J0RmllbGQ6dSx0b2tlbjplLmFwaUtleX0sc2lnbmFsOmE/LnNpZ25hbH0saT1hd2FpdCBlLnBvcnRhbC5yZXF1ZXN0KG8sYyk7cmV0dXJue3RvdGFsOmkudG90YWwsbmV4dFN0YXJ0OmkubmV4dFN0YXJ0LHJlc291cmNlczppLnJlc291cmNlcy5tYXAoKCh7Y3JlYXRlZDp0LHNpemU6cixyZXNvdXJjZTphfSk9Pih7Y3JlYXRlZDpuZXcgRGF0ZSh0KSxzaXplOnIscmVzb3VyY2U6ZS5yZXNvdXJjZUZyb21QYXRoKGEpfSkpKX19YXN5bmMgZnVuY3Rpb24gcyhlLGEsbyxzKXtpZighZS5oYXNQYXRoKCkpdGhyb3cgbmV3IHQoYHBvcnRhbC1pdGVtLXJlc291cmNlLSR7YX06aW52YWxpZC1wYXRoYCxcIlJlc291cmNlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBwYXRoXCIpO2NvbnN0IG49ZS5wb3J0YWxJdGVtO2F3YWl0IG4ubG9hZChzKTtjb25zdCBsPXIobi51c2VySXRlbVVybCxcImFkZFwiPT09YT9cImFkZFJlc291cmNlc1wiOlwidXBkYXRlUmVzb3VyY2VzXCIpLFtjLGldPXUoZS5wYXRoKSxwPW5ldyBGb3JtRGF0YTtyZXR1cm4gYyYmXCIuXCIhPT1jJiZwLmFwcGVuZChcInJlc291cmNlc1ByZWZpeFwiLGMpLG51bGwhPXMmJnMuY29tcHJlc3MmJnAuYXBwZW5kKFwiY29tcHJlc3NcIixcInRydWVcIikscC5hcHBlbmQoXCJmaWxlTmFtZVwiLGkpLHAuYXBwZW5kKFwiZmlsZVwiLG8saSkscC5hcHBlbmQoXCJmXCIsXCJqc29uXCIpLHM/LmFjY2VzcyYmcC5hcHBlbmQoXCJhY2Nlc3NcIixzLmFjY2VzcyksYXdhaXQgbi5wb3J0YWwucmVxdWVzdChsLHttZXRob2Q6XCJwb3N0XCIsYm9keTpwLHNpZ25hbDpzPy5zaWduYWx9KSxlfWFzeW5jIGZ1bmN0aW9uIG4oZSxhLG8pe2lmKCFhLmhhc1BhdGgoKSl0aHJvdyBuZXcgdChcInBvcnRhbC1pdGVtLXJlc291cmNlcy1yZW1vdmU6aW52YWxpZC1wYXRoXCIsXCJSZXNvdXJjZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcGF0aFwiKTthd2FpdCBlLmxvYWQobyk7Y29uc3Qgcz1yKGUudXNlckl0ZW1VcmwsXCJyZW1vdmVSZXNvdXJjZXNcIik7YXdhaXQgZS5wb3J0YWwucmVxdWVzdChzLHttZXRob2Q6XCJwb3N0XCIscXVlcnk6e3Jlc291cmNlOmEucGF0aH0sc2lnbmFsOm8/LnNpZ25hbH0pLGEucG9ydGFsSXRlbT1udWxsfWFzeW5jIGZ1bmN0aW9uIGwoZSx0KXthd2FpdCBlLmxvYWQodCk7Y29uc3QgYT1yKGUudXNlckl0ZW1VcmwsXCJyZW1vdmVSZXNvdXJjZXNcIik7cmV0dXJuIGUucG9ydGFsLnJlcXVlc3QoYSx7bWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntkZWxldGVBbGw6ITB9LHNpZ25hbDp0Py5zaWduYWx9KX1mdW5jdGlvbiB1KGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuLTE9PT10P1tcIi5cIixlXTpbZS5zbGljZSgwLHQpLGUuc2xpY2UodCsxKV19ZnVuY3Rpb24gYyhlKXtjb25zdFt0LHJdPWkoZSksW2Esb109dSh0KTtyZXR1cm5bYSxvLHJdfWZ1bmN0aW9uIGkoZSl7Y29uc3QgdD1hKGUpO3JldHVybiBudWxsPT10P1tlLFwiXCJdOltlLnNsaWNlKDAsZS5sZW5ndGgtdC5sZW5ndGgtMSksYC4ke3R9YF19YXN5bmMgZnVuY3Rpb24gcCh0KXtpZihcImJsb2JcIj09PXQudHlwZSlyZXR1cm4gdC5ibG9iO2lmKFwianNvblwiPT09dC50eXBlKXJldHVybiBuZXcgQmxvYihbdC5qc29uU3RyaW5nXSx7dHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIn0pO3JldHVybihhd2FpdCBlKHQudXJsLHtyZXNwb25zZVR5cGU6XCJibG9iXCJ9KSkuZGF0YX1mdW5jdGlvbiBkKGUsdCl7aWYoIWUuaGFzUGF0aCgpKXJldHVybiBudWxsO2NvbnN0W2EsLG9dPWMoZS5wYXRoKTtyZXR1cm4gZS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgocihhLHQrbykpfWZ1bmN0aW9uIG0oZSx0KXtpZighZS5oYXNQYXRoKCkpcmV0dXJuIG51bGw7Y29uc3RbYSwsb109YyhlLnBhdGgpO3JldHVybiBlLnBvcnRhbEl0ZW0ucmVzb3VyY2VGcm9tUGF0aChyKGEsdCtvKSl9ZXhwb3J0e3MgYXMgYWRkT3JVcGRhdGVSZXNvdXJjZSxwIGFzIGNvbnRlbnRUb0Jsb2IsbyBhcyBmZXRjaFJlc291cmNlcyxkIGFzIGdldFNpYmxpbmdPZlNhbWVUeXBlLG0gYXMgZ2V0U2libGluZ09mU2FtZVR5cGVJLGwgYXMgcmVtb3ZlQWxsUmVzb3VyY2VzLG4gYXMgcmVtb3ZlUmVzb3VyY2UsYyBhcyBzcGxpdFByZWZpeEZpbGVOYW1lQW5kRXh0ZW5zaW9ufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==