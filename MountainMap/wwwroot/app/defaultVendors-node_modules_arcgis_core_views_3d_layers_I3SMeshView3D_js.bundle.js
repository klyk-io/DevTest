"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_I3SMeshView3D_js"],{

/***/ "./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   persistable: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _MD5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MD5.js */ "./node_modules/@arcgis/core/core/MD5.js");
/* harmony import */ var _multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../multiOriginJSONSupportUtils.js */ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js");
/* harmony import */ var _urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _uuid_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../metadata.js */ "./node_modules/@arcgis/core/core/accessorSupport/metadata.js");
/* harmony import */ var _PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../portal/support/resourceExtension.js */ "./node_modules/@arcgis/core/portal/support/resourceExtension.js");
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../chunks/persistableUrlUtils.js */ "./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function j(t){const r=t?.origins??[void 0];return(e,o)=>{const s=U(t,e,o);for(const t of r){const r=(0,_property_js__WEBPACK_IMPORTED_MODULE_7__.propertyJSONMeta)(e,t,o);for(const t in s)r[t]=s[t]}}}function U(t,r,e){if("resource"===t?.type)return w(t,r,e);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:r}=_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.a;return{read:t,write:r}}}}function w(t,r,n){const i=(0,_metadata_js__WEBPACK_IMPORTED_MODULE_5__.getPropertyMetadata)(r,n);return{type:String,read:(t,r,e)=>{const o=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.r)(t,r,e);return i.type===String?o:"function"==typeof i.type?new i.type({url:o}):void 0},write:{writer(r,p,c,u){if(!u?.resources)return"string"==typeof r?void(p[c]=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.t)(r,u)):void(p[c]=r.write({},u));const l=x(r),m=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.t)(l,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.M.NO),d=i.type!==String&&(!(0,_multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_2__.isMultiOriginJSONMixin)(this)||u?.origin&&this.originIdOf(n)>(0,_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_6__.nameToId)(u.origin)),h={object:this,propertyName:n,value:r,targetUrl:m,dest:p,targetPropertyName:c,context:u,params:t};u?.portalItem&&m&&!(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbsolute)(m)?d&&t?.contentAddressed?I(h):d?N(h):P(h):u?.portalItem&&(null==m||null!=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.i)(m)||(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isBlobProtocol)(m)||d)?I(h):p[c]=m}}}}function I(e){const{targetUrl:o,params:p,value:u,context:a,dest:l,targetPropertyName:d}=e;if(!a.portalItem)return;const f=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_9__.p)(o),y=b(u,o,a);if(p?.contentAddressed&&"json"!==y.type)return void a.messages?.push(new _Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("persistable:contentAddressingUnsupported",`Property "${d}" is trying to serializing a resource with content of type ${y.type} with content addressing. Content addressing is only supported for json resources.`,{content:y}));const g=p?.contentAddressed&&"json"===y.type?(0,_MD5_js__WEBPACK_IMPORTED_MODULE_1__.createMD5Hash)(y.jsonString):f?.filename??(0,_uuid_js__WEBPACK_IMPORTED_MODULE_4__.generateUUID)(),v=(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.join)(p?.prefix??f?.prefix,g),j=`${v}.${(0,_portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__.getResourceContentExtension)(y)}`;if(p?.contentAddressed&&a.resources&&"json"===y.type){const t=a.resources.toKeep.find((t=>t.resource.path===j))??a.resources.toAdd.find((t=>t.resource.path===j));if(t)return void(l[d]=t.resource.itemRelativeUrl)}const U=a.portalItem.resourceFromPath(j);(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.isBlobProtocol)(o)&&a.resources&&a.resources.pendingOperations.push((0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.blobUrlToBlob)(o).then((t=>{U.path=`${v}.${(0,_portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__.getResourceContentExtension)({type:"blob",blob:t})}`,l[d]=U.itemRelativeUrl})).catch((()=>{})));const w=p?.compress??!1;a.resources&&S({...e,resource:U,content:y,compress:w,updates:a.resources.toAdd}),l[d]=U.itemRelativeUrl}function N(t){const{context:r,targetUrl:e,params:o,value:s,dest:n,targetPropertyName:i}=t;if(!r.portalItem)return;const c=r.portalItem.resourceFromPath(e),u=b(s,e,r),a=(0,_portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__.getResourceContentExtension)(u),l=(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.getPathExtension)(c.path),d=o?.compress??!1;a===l?(r.resources&&S({...t,resource:c,content:u,compress:d,updates:r.resources.toUpdate}),n[i]=e):I(t)}function P({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function S({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){e.push({resource:o,content:s,compress:n,finish:e=>{O(t,r,e)}})}function b(t,r,e){return"string"==typeof t?{type:"url",url:r}:{type:"json",jsonString:JSON.stringify(t.toJSON(e))}}function x(t){return null==t?null:"string"==typeof t?t:t.url}function O(t,r,e){"string"==typeof t[r]?t[r]=e.url:t[r].url=e.url}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMultiOriginJSONMixin: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   localLinearScaleFactors: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _projectors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function f(f,p,E,c){if(null==p||null==c)return!1;const l=(0,_projectors_js__WEBPACK_IMPORTED_MODULE_1__.classifySpatialReference)(p,_projectors_js__WEBPACK_IMPORTED_MODULE_1__.sourceClassificationCache),C=(0,_projectors_js__WEBPACK_IMPORTED_MODULE_1__.classifySpatialReference)(c,_projectors_js__WEBPACK_IMPORTED_MODULE_1__.destClassificationCache);if(l===C&&l!==_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.UNKNOWN||(0,_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__.equals)(p,c))return E[0]=1,E[1]=1,E[2]=1,!0;if(l===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.SPHERICAL_ECEF){const t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.l)(f),s=t/Math.sqrt(f[0]*f[0]+f[1]*f[1]),o=t/_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_2__.earth.radius;if(C===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.WEB_MERCATOR)return E[0]=s*o,E[1]=s*o,E[2]=1,!0;if(C===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.WGS84||C===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.CGCS2000){const r=_projectors_js__WEBPACK_IMPORTED_MODULE_1__.invPlateCarreeScale;return E[0]=r*s*o,E[1]=r*o,E[2]=1,!0}}else if(l===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.PLATE_CARREE){if(C===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.WGS84||C===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.CGCS2000)return E[0]=_projectors_js__WEBPACK_IMPORTED_MODULE_1__.invPlateCarreeScale,E[1]=_projectors_js__WEBPACK_IMPORTED_MODULE_1__.invPlateCarreeScale,E[2]=1,!0;if(C===_projectors_js__WEBPACK_IMPORTED_MODULE_1__.ProjectionID.WEB_MERCATOR){const r=f[1]/_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_2__.earth.radius;return E[0]=1,E[1]=1/Math.cos(r),E[2]=1,!0}}return!1}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/UByteArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UByteArray.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newUByteArray: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,n=!1){return e<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?n?new Array(e).fill(0):new Array(e):new Uint8Array(e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/SceneModification.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/SceneModification.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Warning_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Warning.js */ "./node_modules/@arcgis/core/core/Warning.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/persistable.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var l;let y=l=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport{constructor(e){super(e),this.geometry=null,this.type="clip"}writeGeometry(e,r,o,s){if(s.layer?.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__.canProjectWithoutEngine)(e.spatialReference,s.layer.spatialReference))return void(s?.messages&&s.messages.push(new _core_Warning_js__WEBPACK_IMPORTED_MODULE_4__["default"]("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_11__["default"];(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__.projectPolygon)(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this.geometry),type:this.type})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_11__["default"]}),(0,_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__.persistable)()],y.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__.writer)(["web-scene","portal-item"],"geometry")],y.prototype,"writeGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:["clip","mask","replace"],nonNullable:!0}),(0,_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__.persistable)()],y.prototype,"type",void 0),y=l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.SceneModification")],y);const f=y;


/***/ }),

/***/ "./node_modules/@arcgis/core/libs/i3s/I3SModule.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/libs/i3s/I3SModule.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   get: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(){return n||(n=new Promise((t=>__webpack_require__.e(/*! import() */ "defaultVendors-node_modules_arcgis_core_chunks_i3s_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../chunks/i3s.js */ "./node_modules/@arcgis/core/chunks/i3s.js")).then((t=>t.i)).then((({default:e})=>{const n=e({locateFile:i,onRuntimeInitialized:()=>t(n)});delete n.then})))).catch((t=>{throw t}))),n}function i(e){return (0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)(`esri/libs/i3s/${e}`)}let n;


/***/ }),

/***/ "./node_modules/@arcgis/core/libs/i3s/enums.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/libs/i3s/enums.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IndexType: () => (/* binding */ n),
/* harmony export */   ModificationType: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n,e;!function(n){n[n.None=0]="None",n[n.Int16=1]="Int16",n[n.Int32=2]="Int32"}(n||(n={})),function(n){n[n.Replace=0]="Replace",n[n.Outside=1]="Outside",n[n.Inside=2]="Inside",n[n.Finished=3]="Finished"}(e||(e={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/resourceExtension.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceExtension.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getResourceContentExtension: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(i){return o[t(i)]||e}function t(i){return"json"===i.type?"application/json":"blob"===i.type?i.blob.type:n(i.url)}function n(p){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.getPathExtension)(p);return g[t]||a}const o={},a="text/plain",e=o[a],g={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const l in g)o[g[l]]=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElevationMode: () => (/* binding */ Bt),
/* harmony export */   I3SMeshView3D: () => (/* binding */ Et),
/* harmony export */   makeScheduleFunction: () => (/* binding */ Wt)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../chunks/mat3f64.js */ "./node_modules/@arcgis/core/chunks/mat3f64.js");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../chunks/mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../chunks/quatf64.js */ "./node_modules/@arcgis/core/chunks/quatf64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_projection_localLinearScaleFactors_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../geometry/projection/localLinearScaleFactors.js */ "./node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../geometry/projection/projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _geometry_support_UByteArray_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../geometry/support/UByteArray.js */ "./node_modules/@arcgis/core/geometry/support/UByteArray.js");
/* harmony import */ var _layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../layers/LayerConstants.js */ "./node_modules/@arcgis/core/layers/LayerConstants.js");
/* harmony import */ var _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../layers/graphics/controllers/I3SOnDemandController.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_SceneModification_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../layers/support/SceneModification.js */ "./node_modules/@arcgis/core/layers/support/SceneModification.js");
/* harmony import */ var _renderers_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../support/basemapUtils.js */ "./node_modules/@arcgis/core/support/basemapUtils.js");
/* harmony import */ var _symbols_Symbol3D_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../symbols/Symbol3D.js */ "./node_modules/@arcgis/core/symbols/Symbol3D.js");
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/* harmony import */ var _I3SMeshViewLabeler_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./I3SMeshViewLabeler.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js");
/* harmony import */ var _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./I3SMeshWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/* harmony import */ var _SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./SceneLayerWorker.js */ "./node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js");
/* harmony import */ var _graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./graphics/graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _graphics_Labeler_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./graphics/Labeler.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Labeler.js");
/* harmony import */ var _i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./i3s/enums.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/enums.js");
/* harmony import */ var _i3s_Highlights_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./i3s/Highlights.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js");
/* harmony import */ var _i3s_I3SAsyncElevationUpdater_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./i3s/I3SAsyncElevationUpdater.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAsyncElevationUpdater.js");
/* harmony import */ var _i3s_I3SCrossfadeHelper_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./i3s/I3SCrossfadeHelper.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js");
/* harmony import */ var _i3s_I3SElevationProvider_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./i3s/I3SElevationProvider.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js");
/* harmony import */ var _i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./i3s/I3SGeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js");
/* harmony import */ var _i3s_I3SIntersectionHandler_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./i3s/I3SIntersectionHandler.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js");
/* harmony import */ var _i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./i3s/I3SMaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js");
/* harmony import */ var _i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./i3s/I3SNode.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js");
/* harmony import */ var _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./i3s/I3SOverrides.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SOverrides.js");
/* harmony import */ var _i3s_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./i3s/I3SProjectionUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _i3s_IDBCache_js__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./i3s/IDBCache.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js");
/* harmony import */ var _i3s_IDBMockCache_js__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./i3s/IDBMockCache.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBMockCache.js");
/* harmony import */ var _support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./support/attributeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js");
/* harmony import */ var _support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./support/symbolColorUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../support/extentUtils.js */ "./node_modules/@arcgis/core/views/3d/support/extentUtils.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _webgl_engine_collections_Component_ComponentObject_js__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../webgl-engine/collections/Component/ComponentObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObject.js");
/* harmony import */ var _webgl_engine_collections_Component_SourceGeometry_js__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../webgl-engine/collections/Component/SourceGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/SourceGeometry.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _webgl_engine_lib_BasisUtil_js__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../webgl-engine/lib/BasisUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js");
/* harmony import */ var _webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../webgl-engine/lib/edgeRendering/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const yt="esri.views.3d.layers.I3SMeshView3D",vt=_core_Logger_js__WEBPACK_IMPORTED_MODULE_8__["default"].getLogger(yt),It=[1,1,1,1];class Mt extends _i3s_I3SCrossfadeHelper_js__WEBPACK_IMPORTED_MODULE_61__.NodeCrossfadeMetaData{constructor(e,t,i,s,r,o,a,n,l){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.anchorIds=n,this.anchors=l,this.cachedElevationAnchors=null,this.cachedEdgeMaterials=new Array,this.edgeMemoryUsage=0}}var Ct;!function(e){e[e.CastShadows=4]="CastShadows",e[e.Pickable=5]="Pickable"}(Ct||(Ct={}));const Ot=23,xt=100*_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_4__.ByteSizeUnit.MEGABYTES,Et=t=>{let o=class extends t{constructor(...e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_29__.UpdatingHandles,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._snappingSourcesTrackers=[],this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._currentRenderer=null,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._visibleGeometryChangedSchedulerHandle=null,this._hasComponentData=!1,this._hasVertexColors=!1,this._nodeColorOverride=null,this.updating=!0,this.holeFilling="auto",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this.ignoresMemoryFactor=!1,this._layerUrl="",this._cacheKeySuffix=null,this._elevationTask=null,this._filters=[],this._arcade=null,this._tmpAttributeOnlyGraphic=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"](null,null,{}),this._crossfadeHelper=new _i3s_I3SCrossfadeHelper_js__WEBPACK_IMPORTED_MODULE_61__.I3SCrossfadeHelper(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get layerId(){return this.i3slayer&&this.i3slayer.id}get sublayerId(){return null}get contentVisible(){return!this.suspended&&this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}get updatingProgressValue(){return this._controller?.updatingProgress??0}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?"yes":"probably-not":"unknown"}get rendererTextureUsage(){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.rendererNeedsTextures)(this._currentRenderer)?this._usePBR||this._hasLoadedPBRTextures?_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureUsage.AllTexturesPBR:_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureUsage.AllTextures:this._usePBR||this._hasLoadedPBRTextures?_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureUsage.GeometryTexturesPBR:_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureUsage.GeometryTextures}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&"absolute-height"===e.mode){const t=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_16__.getMetersPerVerticalUnitForSR)(this.i3slayer.spatialReference),i=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_51__.getMetersPerUnit)(e.unit);return(e.offset??0)*i/t}return 0}get elevationInfo(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null==e)return{mode:Bt.Absolute,offset:0};const t=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_16__.getMetersPerVerticalUnitForSR)(this.i3slayer.spatialReference),i=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_51__.getMetersPerUnit)(e.unit),s=(e.offset??0)*i/t;switch(e.mode){case"absolute-height":return{mode:Bt.Absolute,offset:s};case"relative-to-ground":return{mode:Bt.RelativeToGround,offset:s};case"on-the-ground":return{mode:Bt.OnTheGround,offset:0};default:return{mode:Bt.Absolute,offset:0}}}get supportedTextureEncodings(){return (0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_65__.getSupportedEncodings)(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){const e=this.view?.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,t=0==(this.supportedTextureEncodings&_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureEncoding.DDS_S3TC);return e&&t}get clientGeometry(){return this.i3sOverrides.geometryOverrides}get elevationRange(){const e=this._nodeId2Meta;let t=1/0,i=-1/0;for(const s of e.values()){if(null==s)continue;const{node:{mbs:e}}=s,[,r,o]=e;t=Math.min(t,r-o),i=Math.max(i,r+o)}return Number.isFinite(t)&&Number.isFinite(i)?{min:t,max:i}:null}initialize(){const e=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("enable-feature:idb-mock-cache");this._idbCache=e?new _i3s_IDBMockCache_js__WEBPACK_IMPORTED_MODULE_71__.IDBMockCache(this.view,e):new _i3s_IDBCache_js__WEBPACK_IMPORTED_MODULE_70__.IDBCache("esri-scenelayer-cache","geometries"),this._preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const t=this.view.resourceController,i=t.memoryController;this.i3sOverrides=new _i3s_I3SOverrides_js__WEBPACK_IMPORTED_MODULE_67__.I3SOverrides({view:this.view,layer:this.i3slayer,memoryController:i}),this._worker=new _I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_53__.I3SMeshWorkerHandle(Wt(t)),this.addResolvingPromise(this._worker.promise);const s=this.i3slayer.store;this._worker.setLegacySchema(this.uid,s.defaultGeometrySchema),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.checkSceneLayerValid)(this.i3slayer),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.checkSceneLayerCompatibleWithView)(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new _layers_graphics_controllers_I3SOnDemandController_js__WEBPACK_IMPORTED_MODULE_44__["default"]({layerView:this,worker:this._worker}),this._gpuMemoryEstimate=0,this._texMemoryEstimate=0,this._geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this.resetHighlights();const r=s.defaultGeometrySchema;if(this._isIntegratedMesh||!r)this._hasComponentData=!1;else{const e=r.featureAttributes;this._hasComponentData=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=(r?.vertexAttributes.color??null)&&!this.i3slayer.cachedDrawingInfo?.color,this._isIntegratedMesh||(this._edgeView=this._stage.renderer.ensureEdgeView());const o=this.view.resourceController.memoryController.newCache(`sl-${this.uid}`,(e=>this._deleteComponentObject(e)));this._memCache=o;const a=e=>null!=this._controller.index?.rootNode?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,null!=s?s.objectHandle:null)})):()=>{};this._intersectionHandler=new _i3s_I3SIntersectionHandler_js__WEBPACK_IMPORTED_MODULE_64__.I3SIntersectionHandler({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:a}),this._updatingHandles.add((()=>this.layerUid),(e=>this._intersectionHandler.layerUid=e)),this._updatingHandles.add((()=>this.sublayerUid),(e=>this._intersectionHandler.sublayerUid=e)),this._elevationProvider=new _i3s_I3SElevationProvider_js__WEBPACK_IMPORTED_MODULE_62__["default"]({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR,this._updatingHandles.add((()=>this.view.clippingArea),(()=>this._clippingAreaChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this._updatingHandles.add((()=>this.fullOpacity),(e=>this._opacityChange(e))),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(e))),this._updatingHandles.add((()=>this.elevationOffset),((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this._updatingHandles.add((()=>this.elevationInfo),((e,t)=>this._elevationInfoChanged(e,t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this._updatingHandles.add((()=>!this.suspended&&this.elevationInfo.mode!==Bt.Absolute),((e,t)=>{e?this.addHandles(this.view.basemapTerrain.on("elevation-change",(({extent:e})=>this._ensureElevationTask().addExtent(e))),Kt):t&&this.removeHandles(Kt)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this._updatingHandles.add((()=>this._usePBR),(e=>this._updatePBR(e)));const n=()=>{this._reloadAll(),this.clearMemCache()};this._updatingHandles.add((()=>this.rendererTextureUsage),n),this._updatingHandles.add((()=>this.uncompressedTextureDownsamplingEnabled),n),this._updatingHandles.add((()=>this.contentVisible),(e=>this._contentVisibleChanged(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this._updatingHandles.add((()=>this.i3slayer.labelsVisible),(()=>this._labelingChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this._updatingHandles.add((()=>this.i3slayer.labelingInfo),(()=>this._labelingChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this._updatingHandles.add((()=>this._modifications),(()=>this._modificationsChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_74__.debugFlags.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_layers_support_I3STreeDebugger_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/I3STreeDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/I3STreeDebugger.js")).then((({I3STreeDebugger:t})=>{!this._treeDebugger&&_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_74__.debugFlags.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_74__.debugFlags.I3S_TREE_SHOW_TILES||(this._treeDebugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._treeDebugger))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.watch)((()=>_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_74__.debugFlags.I3S_SHOW_MODIFICATIONS),(()=>this._showModifications()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial)]),this._cacheKeySuffix=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.getCacheKeySuffix)(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>vt.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this._elevationTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._elevationTask),this.i3sOverrides=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this.i3sOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._labeler),this._treeDebugger=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._treeDebugger),this._controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this._crossfadeHelper=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._crossfadeHelper),this.emit("visible-geometry-changed"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null),this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._updatingHandles)}_memEstimateTextureAdded(e){const t=e.memoryEstimate;return this._gpuMemoryEstimate+=t,this._texMemoryEstimate+=t,t}_memEstimateTextureRemoved(e){if(null!=e){const t=e.memoryEstimate;this._gpuMemoryEstimate-=t,this._texMemoryEstimate-=t}}_memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this._gpuMemoryEstimate+=t,this._geoMemoryEstimate+=t,t}_memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this._gpuMemoryEstimate-=t,this._geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}get usedMemory(){let e=null!=this._labeler?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=null!=t?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=null!=t?t.node.memory:0)),e}get unloadedMemory(){return(null!=this._controller?this._controller.unloadedMemoryEstimate:0)+(null!=this._labeler?this._labeler.unloadedMemoryEstimate:0)}_labelingChanged(){if(!((0,_graphics_Labeler_js__WEBPACK_IMPORTED_MODULE_57__.areLabelsVisible)(this.i3slayer)&&this._supportsLabeling))return void(null!=this._labeler&&(this._labeler.destroy(),this._labeler=null));if(null!=this._labeler)return;const e=new _I3SMeshViewLabeler_js__WEBPACK_IMPORTED_MODULE_52__["default"]({view:this.view,layer:this.i3slayer,collection:this._collection,overrides:this.i3sOverrides});this._nodeId2Meta.forEach((t=>null!=t&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this.hasModifications)return this._i3sWasmLoaded=(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_55__.initialize)().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._layerClippingArea,this._modifications,t);const i=(0,_I3SMeshWorkerHandle_js__WEBPACK_IMPORTED_MODULE_53__.toWasmModification)(this._layerClippingArea,this._modifications,t);(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_55__.setModificationsSync)({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this.hasModifications?new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_11__["default"]:null;this._nodeId2Meta.forEach(((e,t)=>{null==e?(this._nodeId2Meta.delete(t),this._controller.updateLoadStatus(t,!1)):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):null!=s&&s.push(e.node)})),this.notifyChange("elevationRange"),null!=s&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),null!=s&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(e.imModificationImpact!==_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_66__.NodeIMModificationImpact.Culled){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),null!=t?(this._nodeId2Meta.delete(e.index),this._nodeId2MetaReloading.set(e.index,t),this.notifyChange("elevationRange")):this._nodeId2Meta.has(e.index)&&(this._nodeId2Meta.delete(e.index),this._controller.updateLoadStatus(e.index,!1))}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(null!=this._modificationGraphics&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_74__.debugFlags.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:"simple-fill",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){const r=s.geometry;r.spatialReference=this.i3slayer.spatialReference;const o={...t,color:e[s.type]};this._modificationGraphics.push(new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:r,symbol:o}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_contentVisibleChanged(e){e?(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler)):(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);null!=i?.attributeInfo&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);null!=s&&(await this.i3sOverrides.applyAttributeOverrides(s.featureIds,t,i,this._controller.requiredAttributes),s.attributeInfo=t,this._controller.reschedule((()=>this._attributeValuesChanged(s)),i).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(e)||vt.warn("Error while updating attribute values. Layer might not display correctly.",e)})))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,null!=this._labeler&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){null!=this._memCache&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>null!=t&&e.push(t.node))),e}getNodeComponentObb(e){const t=this._nodeId2Meta.get(e.index)??this._nodeId2MetaReloading.get(e.index);return null!=t?this._collection.getComponentObb(t.objectHandle):null}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}_preLoadBasis(){!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("disable-feature:i3s-basis")&&0!=(this.supportedTextureEncodings&_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureEncoding.Basis)&&this.i3slayer.textureSetDefinitions?.some((e=>e.formats.some((e=>"basis"===e.format||"ktx2"===e.format))))&&(0,_webgl_engine_lib_BasisUtil_js__WEBPACK_IMPORTED_MODULE_82__.loadBasis)()}_getVertexBufferLayout(e,t){const i={hasTexture:Vt(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return (0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_78__.glLayout)((0,_webgl_engine_collections_Component_SourceGeometry_js__WEBPACK_IMPORTED_MODULE_80__.createVertexBufferLayout)(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||_layers_LayerConstants_js__WEBPACK_IMPORTED_MODULE_43__.fallbackObjectIDAttribute}_getGlobalIdField(){return this.i3slayer.associatedLayer?.globalIdField}_findGraphicNodeAndIndex(e){const t=(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_72__.attributeLookup)(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_9__.someMap)(this._nodeId2Meta,(e=>{if(null==e)return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(null==i)return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_72__.attributeLookup)(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._getAABB(t.node.index,t.index);return null==i?Promise.reject():Promise.resolve({boundingBox:i,screenSpaceObjects:[]})}getAABBFromIntersectorTarget(e){return null==e.nodeIndex||null==e.componentIndex?null:this._getAABB(e.nodeIndex,e.componentIndex)}_getAABB(e,t){const i=this._nodeId2Meta.get(e);if(null==i?.featureIds||t>=i.featureIds.length)return null;const s=i.objectHandle,r=(0,_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_63__.boundingBoxCornerPoints)(t,this._collection,s,(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_38__.newDoubleArray)(24),0),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(!(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_33__.projectBuffer)(r,o,0,r,a,0,8))return null;const n=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_36__.empty)();return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_36__.expandWithBuffer)(n,r,0,8),n}whenGraphicAttributes(e,t){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.whenGraphicAttributes)(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome)))}getGraphicFromIntersectorTarget(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return null==t?.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${Ot}/${e}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+"#"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&!this.hasModifications&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return null!=this._memCache?this._memCache.pop(this._getMemCacheKey(e)):null}deleteCachedGPUData(e){null!=e&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(null==this._memCache)return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e?.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(null==t)return!0;const s=(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_65__.selectEncoding)(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(null==r?.data||s&&r.encoding!==s.encoding)}))??[];return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e.id),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e.id)),null):(this.elevationInfo.mode===Bt.Absolute&&(e.geometryObb=s.geometryObb),this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&null!=s.textureData&&(s.byteSize=Ut(s.transformedGeometry,s.textureData),s.textureData.every(Ht)&&Gt(e,s)&&this._idbCache.put(this._getCacheKey(e.id),s).catch((t=>vt.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.throwIfAborted)(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Pt(t)?null==t.geometryBuffer?(this._addNodeMeta(e.index,null),Promise.resolve()):this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(null==s)return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,anchorIds:n,anchors:l,transformedGeometry:d}=s,h=this._controller.crsIndex,c=this.view.renderSpatialReference,u=(0,_i3s_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_68__.computeGlobalTransformation)(e.mbs,this.elevationOffset,h,c),_=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_76__.create)([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_24__.f)(r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w));(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.e)(_.center,_.center,u),this.elevationInfo.mode===Bt.Absolute&&(e.geometryObb=_),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.from(a)),t.geometryData.anchorIds=n,t.geometryData.anchors=l;const m={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:d,globalTrafo:u,geometryObb:_,byteSize:Ut(d,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&Gt(e,m)){const t=null!=m.textureData?m.textureData.map((e=>Ht(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e.id),{...m,textureData:t}).catch((t=>vt.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,m,i)}),i))))):Promise.reject()}getElevationRange(e){let t=1/0,i=-1/0;const s=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_30__.getReferenceEllipsoid)(this.view.renderCoordsHelper.spatialReference);return this._nodeId2Meta.forEach((r=>{if(null!=r?.node.geometryObb){const o=r.node.geometryObb;if((0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_76__.intersectSphere)(o,e)){const e=this._collection.getObjectTransform(r.objectHandle),o=this.view.renderCoordsHelper.getAltitude(e.position);for(let a=0;a<r.featureIds.length;a++){const e=this._collection.getComponentAabb(r.objectHandle,a,zt);if("local"===this.view.viewingMode)t=Math.min(t,o+e[2]),i=Math.max(i,o+e[5]);else{t=Math.min(t,o+e[2]);const r=Math.max(Math.abs(e[3]),Math.abs(e[0])),a=Math.max(Math.abs(e[4]),Math.abs(e[1])),n=o+e[5]+s.radius;i=Math.max(i,Math.sqrt(r*r+a*a+n*n)-s.radius)}}}}})),{min:t,max:i}}computeVisibilityObb(e){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.computeVisibilityObb)(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries??[],r=new Array(s.length);for(let f=0;f<s.length;++f)r[f]=this._getVertexBufferLayout(s[f],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,h=(0,_i3s_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_68__.getLocalOrigin)(o,a,n),c=(0,_i3s_I3SProjectionUtil_js__WEBPACK_IMPORTED_MODULE_68__.computeGlobalTransformation)(o,a,n,d),u=(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_34__.getProjectorName)(n,l),_=(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_34__.getProjectorName)(l,d);if(null==u||null==_)return Promise.resolve(null);const m=this.i3slayer.normalReferenceFrame,g=t.normalReferenceFrame??m??"none",p={context:this.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:h,globalTrafo:c,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:g,indexToVertexProjector:u,vertexToRenderProjector:_};return this._worker.invoke(p,i)}get _supportsNodeCrossFading(){return!this.view?._stage?.renderer.shadowsEnabled}get nodeCrossfadingEnabled(){return this._supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this._supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(this.elevationInfo.mode===Bt.Absolute&&(e.geometryObb=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_76__.clone)(this._collection.getComponentObb(t.objectHandle))),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);null!=this._labeler&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,_webgl_engine_collections_Component_ComponentObject_js__WEBPACK_IMPORTED_MODULE_79__.State.Visible),this._updateMaterial(t),this._setNewNodeOpacity(t),this.elevationInfo.mode!==Bt.Absolute&&this._ensureElevationTask().schedule(s),this._updateEngineObject(t),this._highlights.objectCreated(t),null!=this._treeDebugger&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async deleteCachedNodeData(e){if(this._idbCacheEnabled)return this._idbCache.remove(this._getCacheKey(e))}async _addCachedNodeData(e,t,i){if(!this.contentVisible||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(null==t)return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:r,transformedGeometry:o,globalTrafo:a}=t;await this.i3sOverrides.applyAttributeOverrides(r.featureIds,s.attributeInfo,i,this._controller.requiredAttributes);const n=null!=t.textureData?t.textureData.filter((e=>null!=e&&0!=(e.usage&this.rendererTextureUsage))):[];!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("disable-feature:i3s-basis")&&n.some((e=>null!=e&&(e.encoding===_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureEncoding.Basis||e.encoding===_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureEncoding.KTX2)))&&await (0,_webgl_engine_lib_BasisUtil_js__WEBPACK_IMPORTED_MODULE_82__.loadBasis)(),e.memory=0;const{componentOffsets:l,geometries:d,featureIds:h,anchorIds:c,anchors:u}=r,_=this._collection,m=d[0],{layout:g,indices:p,interleavedVertexData:f,positionData:b,hasColors:y}=o,v=this._materialParameters(m,g),I=l||new Uint32Array([0,p?p.length:f.byteLength/g[0].stride]),w={vertices:{data:f,count:f.byteLength/g[0].stride,layoutParameters:v.geometryParams},positionData:{positions:(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_39__.compactFloatArray)(b.data),indices:(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_40__.compactIndices)(b.indices)},indices:p,componentOffsets:I},S=m.transformation?(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_23__.b)(m.transformation):(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_23__.a)();(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_22__.m)(S,a,S);const A=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_22__.B)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_26__.c)(),S),T=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_20__.f)((0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_21__.a)(),S),D=this.view.renderSpatialReference,R=this.view.basemapTerrain.spatialReference,N=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_26__.c)(),F=[1,1,1];(0,_geometry_projection_localLinearScaleFactors_js__WEBPACK_IMPORTED_MODULE_31__.localLinearScaleFactors)(A,D,F,R)||vt.errorOnce("Unsupported coordinate system for IM overlay"),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_35__.projectVectorToVector)(A,D,N,R);const P=_.createObject({toMapSpace:(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_28__.f)(N[0],N[1],F[0],F[1]),geometry:w,obb:t.geometryObb,transform:{position:A,rotationScale:T}}),U=v.geometryParams.textureCoordinates===_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_81__.TextureCoordinateAttributeType.Atlas,{textures:G,texturePromise:k}=this._initMaterialAndTextures(P,v.material,n,U);e.memory+=this._memEstimateGeometryAdded(P),e.memory+=G.reduce(((e,t)=>e+(null!=t?this._memEstimateTextureAdded(t):0)),0);const B=!!v.material.hasParametersFromSource,q="blend"!==v.material.alphaMode&&v.material.metallicRoughness.baseColorFactor[3]>=1,K=new Mt(e,h,P,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:B,isOpaque:q},G,c,u);s.meta=K,!this._hasTextures&&t.requiredTextures?.some((({usage:e})=>0!=(e&_i3s_enums_js__WEBPACK_IMPORTED_MODULE_58__.TextureUsage.ColorTextures)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||y,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange("hasTexturesOrVertexColors");const W=this.slicePlaneEnabled;return Promise.all([this._addOrUpdateEdgeRendering(K),k]).then((([t,s])=>(null!=t&&t.updateObjectVisibility(K.objectHandle,!1).catch((e=>jt(e,this.i3slayer.title))),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(this._addNodeMeta(e.index,K),i.meta=null,!this.contentVisible)return void this._removeNodeStageData(e.index,this.elevationOffset);_.setObjectVisibility(P,_webgl_engine_collections_Component_ComponentObject_js__WEBPACK_IMPORTED_MODULE_79__.State.Visible),null!=t&&t.updateObjectVisibility(K.objectHandle,!0).catch((e=>jt(e,this.i3slayer.title))),K.attributeInfo=i.attributeInfo;const s=K.cachedRendererVersion!==this._rendererVersion,r=W!==this.slicePlaneEnabled;this._updateElevationOffsets(K);const o=K.elevationOffsets;this._updateComponentData(K);const a=this._applyFiltersToNode(K);(s||null!=t&&(r||a||o))&&this._addOrUpdateEdgeRendering(K),null!=this._labeler&&this._addMetaToLabeler(this._labeler,K),this._visibleGeometryChanged(K,wt.ADD),this._highlights.objectCreated(K),this._updateMaterial(K),this._setNewNodeOpacity(K),null!=this._treeDebugger&&this._treeDebugger.update()}),i)))).catch((e=>{throw null!=s.meta&&(this._cacheGPUData(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){vt.error("Removing duplicated node");const t=this._nodeId2Meta.get(e);null!=t&&this._deleteComponentObject(t)}else this._controller.updateLoadStatus(e,!0);null!=t&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&kt(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t),this.notifyChange("elevationRange")}_updateElevationOffsets(e){const t=this.view.renderSpatialReference,i=this._controller.crsIndex,s=this.elevationInfo,r=this.view.basemapTerrain,o=r.spatialReference,a=s.mode;if(null==t||null==o||a===Bt.Absolute)return void(e.elevationOffsets=null);const n=this._collection.getObjectTransform(e.objectHandle);e.elevationOffsets=e.elevationOffsets??[];const l=qt,d=zt,h=a===Bt.OnTheGround,c=this.view.renderCoordsHelper,u=e.featureIds.length,_=(()=>{if(e.cachedElevationAnchors)return e.cachedElevationAnchors;const s=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_38__.newDoubleArray)(3*u);e.cachedElevationAnchors=s;for(let r=0;r<u;r++){const a=3*r,h=e.anchorIds?.indexOf(r)??-1;e.anchors&&h>=0?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.s)(l,e.anchors[3*h],e.anchors[3*h+1],e.anchors[3*h+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.g)(l,l,e.node.mbs),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_35__.projectVectorToVector)(l,i,l,o),s[a]=l[0],s[a+1]=l[1],s[a+2]=c.getAltitude(l)):(this._collection.getComponentAabb(e.objectHandle,r,d,!0),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.s)(l,(d[0]+d[3])/2,(d[1]+d[4])/2,d[2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.t)(l,l,n.rotationScale),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.g)(l,l,n.position),s[a+2]=c.getAltitude(l),(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_35__.projectVectorToVector)(l,t,l,o),s[a]=l[0],s[a+1]=l[1])}return s})(),m=s.offset,g=e.elevationOffsets,p=(e,t)=>{const i=h?_[3*e+2]:0;g[e]=m+(null!=t?t-i:0)};r.getElevations(_,u,p)}_ensureElevationTask(){return null!=this._elevationTask||(this._elevationTask=new _i3s_I3SAsyncElevationUpdater_js__WEBPACK_IMPORTED_MODULE_60__.I3SAsyncElevationUpdater(this.view.resourceController.scheduler,(e=>{const t=this._controller.updateElevationChanged(e,this.view.basemapTerrain.spatialReference);return null!=t?t.filterInPlace((e=>null!=this._nodeId2Meta.get(e))):null}),(e=>{const t=this._nodeId2Meta.get(e);this._nodeElevationAlignmentChanged(t)}))),this._elevationTask}_elevationInfoChanged(e,t){const i=e.mode!==Bt.Absolute,s=!!t&&t!==e&&t.mode!==Bt.Absolute;this._intersectionHandler.updateElevationAlignState(i,this.view.state.viewingMode),i&&!s&&this._controller.removeAllGeometryObbs(),this._nodeId2Meta.forEach((e=>this._nodeElevationAlignmentChanged(e)))}_nodeElevationAlignmentChanged(e){null!=e&&(this._updateElevationOffsets(e),this._updateComponentData(e),this._updateEdgeRendering(e),null!=this._labeler&&this._labeler.updateLabelPositions(e),this._updateSnappingSources(e,wt.UPDATE))}_safeReschedule(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.throwIfAborted)(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=null!=e.params.material?e.params.material:(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_65__.defaultMaterial)(),s=t.some((e=>"uvRegion"===e.name)),r=t.some((e=>"normalCompressed"===e.name)),o=Vt(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_65__.createTexture)(e,t,s,r)));this._stage.addMany(o);let a=null;return this._collection.updateMaterial(e,(e=>{a=(0,_i3s_I3SMaterialUtil_js__WEBPACK_IMPORTED_MODULE_65__.configureMaterial)(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR,isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),{textures:o,texturePromise:a}}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_81__.TextureCoordinateAttributeType.Atlas:_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_81__.TextureCoordinateAttributeType.Default:_webgl_engine_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_81__.TextureCoordinateAttributeType.None,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.createResolver)(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{null!=e.meta&&(this._cacheGPUData(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=this.view.renderSpatialReference,t=this.i3slayer.spatialReference,i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_37__.create)();this._renderClippingArea=(0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_75__.toBoundingRect)(this.view.clippingArea,i,e)?i:null;const s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_37__.create)();this._layerClippingArea=(0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_75__.toBoundingRect)(this.view.clippingArea,s,t)?s:null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea),this._isIntegratedMesh&&this._modificationsChanged()}get hasGeometryFilter(){return!1}_geometryFilterChange(){const e=this.hasGeometryFilter;this._controller.geometryFilterChanged(e),this._applyFilters(e)}_filterChange(){this._applyFilters(this.hasGeometryFilter)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{null!=e&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e,wt.UPDATE))}))}getFilters(){const e=[],t=this._renderClippingArea;return null!=t&&e.push(((e,i)=>this._boundingRectFilter(e,i,t))),e}addSqlFilter(e,t,i){if(null!=t){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,d=t.attributeInfo?.attributeData;s.every((e=>e===n||null!=d?.[e]))&&(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.filterInPlace)(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=d?(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.getCachedAttributeValue)(d[i],e):null);try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingRectNodeTest(e,t){return (0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_32__.projectBoundingSphere)(e.node.mbs,this._controller.crsIndex,Ft,this.view.renderSpatialReference),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.intersectBoundingRectWithMbs)(t,Ft)}_boundingRectFeatureTest(e,t,i){return this._collection.getComponentAabb(e.objectHandle,t,St),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_36__.toRect)(St,At),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_37__.intersects)(i,At)}_boundingRectFilter(e,t,i){const s=this._collection,r=this._boundingRectNodeTest(t,i);if(r===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.MbsIntersectResult.INSIDE)return;if(r===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.MbsIntersectResult.OUTSIDE)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformClippingArea(Tt,i,t.objectHandle);(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.filterInPlace)(e,t.featureIds,(e=>this._boundingRectFeatureTest(t,e,a)))}_transformClippingArea(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[0])/o[0],e[3]=(t[3]-r[1])/o[4],e}_addOrUpdateEdgeRendering(e,t=!0){const i=this._edgeView;if(null==i)return Promise.resolve(null);const s=e.objectHandle,r=i.hasObject(s),{hasEdges:o,perFeatureEdgeMaterials:a}=this._getFilteredEdgeMaterials(e),n={hasSlicePlane:this.slicePlaneEnabled};if(o&&r){if(this.nodeCrossfadingEnabled){kt(a,this.getNodeOpacity(e))}return i.updateAllComponentMaterials(s,a,n,t).catch((e=>jt(e,this.i3slayer.title))),i.updateObjectVisibility(s,!0).catch((e=>jt(e,this.i3slayer.title))),i.updateAllVerticalOffsets(s,e.elevationOffsets).catch((e=>jt(e,this.i3slayer.title))),Promise.resolve(i)}return o&&!r?this._collection.addEdges(s,i,a,n).then((t=>(e.edgeMemoryUsage=t,e.node.memory+=t,i.updateAllVerticalOffsets(s,e.elevationOffsets).catch((e=>jt(e,this.i3slayer.title))),i))):(!o&&r&&(e.node.memory-=e.edgeMemoryUsage,e.edgeMemoryUsage=0,i.removeObject(s)),Promise.resolve(null))}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(null!=this._labeler&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=t.getComponentCount(e.objectHandle),s=null!=e.filteredIds,r=0===i.invisible;if(t.setAllComponentVisibilities(e.objectHandle,"all"),0===this._filters.length)return e.filteredIds=null,!r;if(this._updateCachedFilteredIds(e),s&&e.filteredIds===e.featureIds)return!r;const o=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,o),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array,i=e.filteredIds;return null!=i&&e.featureIds.forEach(((e,s)=>{i[t.length]===e&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading))),this._elevationTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._elevationTask)}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading),null!=this._elevationTask&&this._elevationTask.remove(e)}_removeNodeStageData(e,t,i=this._nodeId2Meta){i.has(e)&&this._controller.updateLoadStatus(e,!1);const s=i.get(e);null!=s?(this._collection.setObjectVisibility(s.objectHandle,_webgl_engine_collections_Component_ComponentObject_js__WEBPACK_IMPORTED_MODULE_79__.State.Hidden),null!=this._edgeView&&this._edgeView.hasObject(s.objectHandle)&&this._edgeView.updateObjectVisibility(s.objectHandle,!1).catch((e=>jt(e,this.i3slayer.title))),this._visibleGeometryChanged(s,wt.REMOVE),null!=this._labeler&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),null!=this._treeDebugger&&this._treeDebugger.update()):i.delete(e)}_deleteComponentObject(e){if(null!=this._edgeView&&this._edgeView.removeObject(e.objectHandle),this._memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this._memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);null!=i&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=t===_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_66__.NodeState.Hole))}updateNodeIndex(e,t){if(this._nodeId2Meta.has(e)){const i=this._nodeId2Meta.get(e);this._nodeId2Meta.delete(e),this._nodeId2Meta.set(t,i),this.notifyChange("elevationRange")}const i=this._nodeId2MetaReloading.get(e);i&&(this._nodeId2MetaReloading.delete(e),this._nodeId2MetaReloading.set(t,i))}_invalidateAllSymbols(){this._rendererVersion=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.addWraparound)(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.addWraparound)(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange("rendererTextureUsage"),this._rendererVersion=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.addWraparound)(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&"arcadeRequired"in e&&e.arcadeRequired&&(this._arcade=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_48__.loadArcade)()),e&&"visualVariables"in e&&e.visualVariables)for(const t of e.visualVariables)"color"===t.type?this._colorVariable=t:"opacity"===t.type?this._opacityVariable=t:vt.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())"mesh-3d"!==t.type&&vt.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasComponentData&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getComponentParameters(e){this._hasComponentData&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(i,s)=>{const r=5*i;if((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_27__.s)(s.externalColor,t[r]/255,t[r+1]/255,t[r+2]/255,t[r+3]/255),null!=this._stage.renderView.objectAndLayerIdRenderHelper){const t=e.featureIds[i],r=(0,_support_basemapUtils_js__WEBPACK_IMPORTED_MODULE_49__.isBasemapLayer)(this.view.map,this.layerUid);this._stage.renderView.objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(t,t,this.layerId,this.layerUid+"_"+this.sublayerId,this.layerPopupEnabledAndHasTemplate&&!r,e.node.resources.attributes,i,this.sublayerId),s.objectAndLayerIdColor=this._stage.renderView.getObjectAndLayerIdColor({graphicUid:t,layerUid:this.layerUid+"_"+this.sublayerId})}s.externalColorMixMode=t[r+4]&(1<<Ct.CastShadows)-1,s.castShadows=0!=(t[r+4]&1<<Ct.CastShadows),s.pickable=0!=(t[r+4]&1<<Ct.Pickable),s.elevationOffset=e.elevationOffsets?.[i]??0}}_getSymbolInfo(e,t){const i=e?.getSymbol(t,{arcade:this._arcade});if(!(i instanceof _symbols_Symbol3D_js__WEBPACK_IMPORTED_MODULE_50__["default"]))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.getSymbolInfo)(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=null!=this._symbologyOverrideFields&&this._symbologyOverrideFields.length>0?null!=this._rendererFields&&this._rendererFields.length>0?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_45__.fixFields)(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasComponentData)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=e.attributeInfo?.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&null!=this._symbologyFields&&this._symbologyFields.length>0;let n=null,l=null;if(a&&null!=this._symbologyFields){n=[],l=[];for(const e of this._symbologyFields){const t=r[e];t&&(n.push(e),l.push(t))}}e.cachedSymbology||(e.cachedSymbology=(0,_geometry_support_UByteArray_js__WEBPACK_IMPORTED_MODULE_42__.newUByteArray)(5*e.featureIds.length));const d={color:Rt,castShadows:!0,pickable:!0,colorMixMode:_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_73__.ColorMixModeEnum.Multiply,edgeMaterial:null},h=this.fullOpacity,c=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):h;let u=null,_=_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_83__.Transparency.OPAQUE,m=_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.transparentEdgeMaterial,g=0;for(let p=0;p<e.featureIds.length;p++){if(null!=o&&(i[o]=e.featureIds[p]),a&&n)for(let e=0;e<n.length;e++)i[n[e]]=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.getCachedAttributeValue)(l[e],p);const r=s?this._getSymbolInfo(s,t):null;let h=null,f=null;if(s&&"visualVariables"in s){if(this._colorVariable){const e=(0,_renderers_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_47__.getColor)(this._colorVariable,t,{color:Nt,arcade:this._arcade});e&&(h=Rt,h[0]=e.r/255,h[1]=e.g/255,h[2]=e.b/255,this._opacityVariable||null===e.a||(f=e.a))}this._opacityVariable&&(f=(0,_renderers_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_47__.getOpacity)(this._opacityVariable,t,{arcade:this._arcade}))}if(r?.material){const e=r.material;h=null==h||null==f?(0,_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_56__.overrideColor)(h,f,e.color,e.alpha,It,Rt):(0,_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_56__.overrideColor)(h,f,null,null,It,Rt)}if(null==h&&(h=Rt,h[0]=1,h[1]=1,h[2]=1,h[3]=1),d.pickable=!0,d.castShadows=!r||r.castShadows,d.colorMixMode=r?.material?r.material.colorMixMode:_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_73__.ColorMixModeEnum.Multiply,d.edgeMaterial=r?r.edgeMaterial:null,null!=this._symbologyOverride&&(d.color=h,this._symbologyOverride(t,d),h=d.color),null!=this._nodeColorOverride&&(this._nodeColorOverride(e.node,h),d.colorMixMode=_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_73__.ColorMixModeEnum.Replace),null!=d.edgeMaterial){const t=h[3]<=0?_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_83__.Transparency.INVISIBLE:h[3]>=1&&(e.material.isOpaque||d.colorMixMode===_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_73__.ColorMixModeEnum.Replace)?_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_83__.Transparency.OPAQUE:_webgl_engine_lib_edgeRendering_interfaces_js__WEBPACK_IMPORTED_MODULE_83__.Transparency.TRANSPARENT;d.edgeMaterial===u&&t===_||(m={...d.edgeMaterial,opacity:c,objectTransparency:t},u=d.edgeMaterial,_=t),e.cachedEdgeMaterials[p]=m}else e.cachedEdgeMaterials[p]=_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.transparentEdgeMaterial;e.cachedSymbology[g++]=Math.round(255*h[0]),e.cachedSymbology[g++]=Math.round(255*h[1]),e.cachedSymbology[g++]=Math.round(255*h[2]),e.cachedSymbology[g++]=Math.round(255*h[3]),e.cachedSymbology[g++]=d.colorMixMode|+d.castShadows<<Ct.CastShadows|+d.pickable<<Ct.Pickable}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);this.nodeCrossfadingEnabled||kt(t,this.fullOpacity);const i=e.filteredIds;if(null==i){return{hasEdges:t.some((e=>e!==_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.transparentEdgeMaterial)),perFeatureEdgeMaterials:t}}let s=0,r=!1;const o=t.map(((t,o)=>e.featureIds[o]!==i[s]?_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.transparentEdgeMaterial:(r=r||t!==_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.transparentEdgeMaterial,s++,t)));return{hasEdges:r,perFeatureEdgeMaterials:o}}_updateComponentData(e){if(!this._hasComponentData)return;const t=e.objectHandle,i=this._getComponentParameters(e);this._collection.setComponentData(t,i),this._stage.renderView.requestRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{null!=t&&(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),kt(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.usePBR=this._usePBR,this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._updateComponentData(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e,wt.UPDATE)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),null!=this._labeler&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{null!=t&&(this._collection.updateMaterial(t.objectHandle,(t=>t.commonMaterialParameters.hasSlicePlane=e)),this._updateEdgeRendering(t,!1))}))}_updatePBR(e){this._nodeId2Meta.forEach((t=>{null!=t&&this._collection.updateMaterial(t.objectHandle,(t=>t.usePBR=e))})),this._hasLoadedPBRTextures=!0}get _usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){null!=this._edgeView&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_ignoreClientNodeOverriddenFeatures(e){return this.i3sOverrides.hasGeometryChanges?(t,i,s)=>s.node.index>=0&&this.i3sOverrides.featureHasGeometryChanges(t)?_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE:e(t,i,s):e}_forAllFeatures(e,t,i){(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_9__.someMap)(this._nodeId2Meta,(s=>{if(null==s)return!1;if(null!=t){switch(t(s)){case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.EXIT:return!0;case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.SKIP:return!1}}let r=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE;switch(i){case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesMode.ALL:r=this._forAllFeaturesOfNode(s,e);break;case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesMode.VISIBLE_ONLY:r=this._forAllVisibleFeaturesOfNode(s,e);break;case _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesMode.QUERYABLE:r=this._forAllQueryableFeaturesOfNode(s,e)}return r===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.EXIT}))}_forAllFeaturesOfNode(e,t){let i=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),i===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.EXIT)return i;return i}_forAllVisibleFeaturesOfNode(e,t){let i=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),i===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE))),i}_forAllQueryableFeaturesOfNode(e,t){const i=this._ignoreClientNodeOverriddenFeatures(t);if(null==this._renderClippingArea)return this._forAllFeaturesOfNode(e,i);const s=this._boundingRectNodeTest(e,this._renderClippingArea);if(s===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.MbsIntersectResult.OUTSIDE)return _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE;if(s===_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.MbsIntersectResult.INSIDE)return this._forAllFeaturesOfNode(e,i);const r=_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE,o=e.featureIds,a=e.objectHandle,n=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.getClipRect)(this._renderClippingArea,this._collection.getObjectTransform(a));for(let l=0;l<o.length;l++){if(!this._boundingRectFeatureTest(e,l,n))continue;const t=i(o[l],l,e);if(t===_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.EXIT)return t}return r}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=t.attributeInfo?.attributeData;if(null!=s)for(const r of Object.keys(s))i[r]=(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_69__.getCachedAttributeValue)(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){if("number"==typeof e||e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]?e=[e]:e instanceof _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"]&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]){const t=e,i=this.i3slayer.fieldsIndex,s=this._getObjectIdField(),r=t.map((e=>(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_72__.attributeLookup)(i,e.attributes,s))),{set:o,handle:a}=this._highlights.acquireSet();return this._highlights.setFeatureIds(o,r),a}if("number"==typeof e[0]){const t=e,{set:i,handle:s}=this._highlights.acquireSet();return this._highlights.setFeatureIds(i,t),s}}return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeHandle)()}resetHighlights(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._highlights),this._highlights=new _i3s_Highlights_js__WEBPACK_IMPORTED_MODULE_59__["default"]({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesMode.ALL),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)})}_visibleGeometryChanged(e,t){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_14__.schedule)((()=>{this.emit("visible-geometry-changed"),this._visibleGeometryChangedSchedulerHandle=null}))),this._updateSnappingSources(e,t))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,"Total GPU Memory Estimate":(this._gpuMemoryEstimate/1048576).toFixed(1)+"MB","Geometry Memory Estimate":(this._geoMemoryEstimate/1048576).toFixed(1)+"MB","Texture Memory Estimate":(this._texMemoryEstimate/1048576).toFixed(1)+"MB","Unloaded Memory Estimate":(this.unloadedMemory/1048576).toFixed(1)+"MB"};return null!=this._memCache&&(e.MemCache=Math.round(100*this._memCache.hitRate)+"% hit"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+"% hit"),this._controller.updateStats(e)),e}get test(){const e=this,t=e=>{this._nodeColorOverride=e,this._invalidateAllSymbols()};return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesReturnType.CONTINUE)),null,_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_54__.ForAllFeaturesMode.VISIBLE_ONLY),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size},get loadedNodes(){return Array.from(e._nodeId2Meta.keys()).sort(((e,t)=>e-t))},setNodeColorOverride:t,setNodeColoring:e=>{if("client-nodes"===e)t(((e,t)=>{e.index<0?(t[0]=1,t[1]=0,t[2]=0):(t[0]=1,t[1]=1,t[2]=1)}));else t(null)}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return null!=e?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);null!=s&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);null!=i&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(null==this._edgeView||!e.cachedEdgeMaterials)return;kt(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t).catch((e=>jt(e,this.i3slayer.title)))}get hasModifications(){return this._isIntegratedMesh&&null!=this._layerClippingArea||this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this.hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.uid,s=Lt(e);if(null!=s){const t={context:i,buffer:s.buffer};(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_55__.filterObbsForModificationsSync)(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=(0,_SceneLayerWorker_js__WEBPACK_IMPORTED_MODULE_55__.interpretObbModificationResults)(i);e.imModificationImpact=s,s!==_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_66__.NodeIMModificationImpact.Unmodified&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange("updating")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||null!=this._labeler&&this._labeler.updating||this._crossfadeHelper?.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0||null!=this._elevationTask&&this._elevationTask.running}trackSnappingSources(e){const t={events:e,fetchEdgeLocations:async(e,t,i)=>{const s=this._nodeId2Meta.get(e);if(null==s)throw new Error("invalid-node");const{origin:r,buffer:o}=await this._collection.extractEdgeInformation(s.objectHandle,t,i);return this._snappingLocationsApplyElevation(s,o,r),{type:"components",objectIds:s.featureIds,locations:o,origin:r}},remove:()=>{(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.removeUnordered)(this._snappingSourcesTrackers,t)}};return this._snappingSourcesTrackers.push(t),this._nodeId2Meta.forEach(((t,i)=>{if(null==t)return;const s=this._controller.getRenderMbs(t.node);null!=s&&e.add(i,s)})),t}_snappingLocationsApplyElevation(e,t,i){if(!e.elevationOffsets||this.elevationInfo.mode===Bt.Absolute)return;const s=t.position0,r=t.position1,o=t.componentIndex,a=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_26__.c)(),n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_26__.c)(),l=(e,t)=>{(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.g)(e,e,i),this.view.renderCoordsHelper.worldUpAtPosition(e,n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.g)(e,e,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.i)(n,n,t)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.f)(e,e,i)};for(let d=0;d<s.count;d++){const t=e.elevationOffsets[o.get(d)];s.getVec(d,a),l(a,t),s.setVec(d,a),r.getVec(d,a),l(a,t),r.setVec(d,a)}}_updateSnappingSources(e,t){const{index:i}=e.node,s=this._controller.getRenderMbs(e.node);if(null!=s)for(const r of this._snappingSourcesTrackers)t!==wt.REMOVE&&t!==wt.UPDATE||r.events.remove(i),t!==wt.ADD&&t!==wt.UPDATE||r.events.add(i,s)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"_hasLoadedPBRTextures",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"_asyncModuleLoading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"_visibleGeometryChangedSchedulerHandle",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"i3slayer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"_controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"_labeler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"contentVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({readOnly:!0})],o.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"holeFilling",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_77__.updatingProgress)],o.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"updatingProgressValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"hasTexturesOrVertexColors",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"rendererTextureUsage",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"elevationOffset",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"elevationInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({type:Boolean})],o.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"supportedTextureEncodings",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"uncompressedTextureDownsamplingEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({type:[_layers_support_SceneModification_js__WEBPACK_IMPORTED_MODULE_46__["default"]]})],o.prototype,"_modifications",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({readOnly:!0})],o.prototype,"clientGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"elevationRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],o.prototype,"_elevationTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({readOnly:!0})],o.prototype,"_usePBR",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_19__.subclass)(yt)],o),o};function jt(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(e)||vt.warn("Error while processing edges. Edges on this layer might not display correctly",t,e)}var wt;!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.UPDATE=2]="UPDATE"}(wt||(wt={}));const St=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_36__.create)(),At=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_37__.create)(),Tt=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_37__.create)(),Dt=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_76__.create)(),Rt=[0,0,0,0],Nt=new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"]([0,0,0,0]),Ft=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_41__.f)(0,0,0,0);function Vt(e){if(null==e)return!1;const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Pt(e){return"geometryData"in e}function Ht(e){return null!=e&&(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_15__.isArrayBuffer)(e.data)}function Ut(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(null!=t)for(const s of t)null!=s&&(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_15__.isArrayBuffer)(s.data)&&(i+=s.data.byteLength);return i}function Gt(e,t){return t.byteSize>xt?(vt.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function Lt(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;null==s&&(s=Dt,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_25__.c)(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}function kt(e,t){e.forEach((e=>e.opacity=t))}var Bt;!function(e){e[e.Absolute=0]="Absolute",e[e.RelativeToGround=1]="RelativeToGround",e[e.OnTheGround=2]="OnTheGround"}(Bt||(Bt={}));const qt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_26__.c)(),zt=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_36__.create)(),Kt="elevation-change";function Wt(e){return t=>{if(e.immediate)return e.immediate.schedule(t);throw console.error("Error no immediate schudler"),new Error("cant find immediate scheduler")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _graphics_Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./graphics/Graphics3DCore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js");
/* harmony import */ var _graphics_Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./graphics/Graphics3DScaleVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js");
/* harmony import */ var _i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./i3s/I3SGeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js");
/* harmony import */ var _support_LimitGraphicsMap_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/LimitGraphicsMap.js */ "./node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../symbols/PointSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PointSymbol3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class G{constructor(e,t){this.meta=e,this.index=t}}class D{constructor(e,t){this.graphic=e,this.geometry=t,this.components=[],this.overridesDirty=!1}}let w=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{get updating(){return this._graphicsCore?.updating??!1}constructor(e){super(e),this.loadedGraphics=new _support_LimitGraphicsMap_js__WEBPACK_IMPORTED_MODULE_20__.LimitGraphicsMap(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_22__["default"]},this._featuresMap=new Map}initialize(){const e=this.view.basemapTerrain;this._graphicsCore=new _graphics_Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_17__.Graphics3DCore({owner:this,layer:this.layer,preferredUpdatePolicy:_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_21__.UpdatePolicy.ASYNC,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1,componentFactories:{deconflictor:e=>this.view.deconflictor.addGraphicsOwner(e),labeler:(e,t)=>this.view.labeler.addGraphicsOwner(e,t,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:"absolute-height",offset:0},disablePlacement:{logEntityDescription:"3D Object Scene Layer features"}}),scaleVisibility:(t,r)=>new _graphics_Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_18__.Graphics3DScaleVisibility({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:r,graphicsCore:t,basemapTerrain:e,layerScaleEnabled:!1})}}),this._graphicsCore.initializePromise.then((()=>this._graphicsCore.startCreateGraphics())).catch((()=>{})),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.layer.labelingInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_12__.diff)(e,t)&&this._graphicsCore.updateLabelingInfo()})))}destroy(){this._graphicsCore=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._graphicsCore),this.loadedGraphics=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.loadedGraphics),this.view=null}addNodeMeta(e,t){let r=0;const s=e.filteredIds,o=this.view.spatialReference,i=[];for(let a=0;a<e.featureIds.length;a++){const p=e.featureIds[a];let c=null==s;if(s&&r<s.length&&p===s[r]&&(c=!0,r++),!this._enabledForFeatureInNode(e,a))continue;const h=this._featuresMap.get(p);if(h){h.components.push(new G(e,a)),this._updateLabelPosition(p);continue}const l=t(a,e),d=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_16__.makeDehydratedPoint)(0,0,0,o),u={objectId:p,uid:(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_8__.generateUID)(),attributes:l,visible:c,geometry:d},m=new D(u,d);m.components.push(new G(e,a)),this._featuresMap.set(p,m),this._updateLabelGeometry(p),i.push(u)}this.loadedGraphics.addMany(i)}updateLabelPositions(e){const t=this.view.renderCoordsHelper;this._forEachGraphic(e,((r,s,o)=>{const i=this._graphicsCore.getGraphics3DGraphicById(s.uid);null!=i&&this._updateLabelGeometry(e.featureIds[r])&&i.alignWithAbsoluteElevation(o.z??0,t,!1)}))}setNodeMetaAttributes(e,t){const r=new Array;this._forEachGraphic(e,((o,i)=>{const a=t(o,e);(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.equalsShallow)(i.attributes,a)||(i.attributes=a,r.push(i.uid))})),this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){this._forEachFeature(e,((t,r,s)=>{if(!this._enabledForFeatureInNode(e,t)){const s=e.featureIds[t];switch(this._removeFeature(r,e,t)){case F.REMOVED:this.loadedGraphics.removeManyByObjectId([s]);break;case F.MODIFIED:this._updateLabelPosition(s)}return}const o=r.graphic,i=o.visible;i!==s&&(o.visible=s,C.graphic=o,C.property="visible",C.oldValue=i,C.newValue=s,this._graphicsCore.graphicUpdateHandler(C))}))}removeNodeMeta(e){const t=[];this._forEachGraphic(e,(r=>{const s=e.featureIds[r],o=this._featuresMap.get(s);if(!o)return;switch(this._removeFeature(o,e,r)){case F.MODIFIED:this._updateLabelPosition(s);break;case F.REMOVED:t.push(s)}})),this.loadedGraphics.removeManyByObjectId(t)}_removeFeature(e,t,s){const o=e.components.length;return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.filterInPlace)(e.components,(e=>!(e.meta===t&&e.index===s))),0===e.components.length?(this._featuresMap.delete(t.featureIds[s]),F.REMOVED):o!==e.components.length?F.MODIFIED:F.UNMODIFIED}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}_updateLabelPosition(e){const t=this._featuresMap.get(e);t&&this._updateLabelGeometry(e)&&(this.loadedGraphics.removeManyByObjectId([e]),this.loadedGraphics.addMany([t.graphic]))}_updateLabelGeometry(e){const t=this._featuresMap.get(e);if(!t)return!1;const r=t.geometry,s=this.view.spatialReference,i=this.view.renderCoordsHelper,a=r.x,n=r.y,p=r.z??0,c=t.components.length,h=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_15__.newDoubleArray)(c*_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_19__.boundingBoxCornersPointsStride);let d=0;for(const{meta:o,index:l}of t.components)(0,_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_19__.boundingBoxCornerPoints)(l,this.collection,o.objectHandle,h,d),d+=_i3s_I3SGeometryUtil_js__WEBPACK_IMPORTED_MODULE_19__.boundingBoxCornersPointsStride;return (0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(h,i.spatialReference,0,h,s,0,h.length/3),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.set)(O,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.negativeInfinity),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.expandWithBuffer)(O,h),r.x=(O[0]+O[3])/2,r.y=(O[1]+O[4])/2,r.z=O[5],!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.floatEqualUlp)(r.x,a)||!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.floatEqualUlp)(r.y,n)||!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.floatEqualUlp)(r.z,p)}_forEachGraphic(e,t){this._forEachFeature(e,((r,{graphic:s,geometry:o},i)=>{this._enabledForFeatureInNode(e,r)&&t(r,s,o,i)}))}_forEachFeature(e,t){let r=0;for(let s=0;s<e.featureIds.length;s++){const o=this._featuresMap.get(e.featureIds[s]);let i=null==e.filteredIds;e.filteredIds&&e.filteredIds[r]===e.featureIds[s]&&(i=!0,r++),o&&t(s,o,i)}}_enabledForFeatureInNode(e,t){return e.node.index<0||!this.overrides?.featureHasGeometryChanges(e.featureIds[t])}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"collection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"overrides",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],w.prototype,"_graphicsCore",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.I3SMeshViewLabeler")],w);const C={graphic:null,property:null,oldValue:null,newValue:null};var F;!function(e){e[e.UNMODIFIED=0]="UNMODIFIED",e[e.MODIFIED=1]="MODIFIED",e[e.REMOVED=2]="REMOVED"}(F||(F={}));const O=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.create)(),L=w;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SMeshWorkerHandle: () => (/* binding */ h),
/* harmony export */   toWasmModification: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../libs/i3s/enums.js */ "./node_modules/@arcgis/core/libs/i3s/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_2__.WorkerHandle{constructor(s){super("SceneLayerWorker","process",{process:s=>[s.geometryBuffer],project:s=>[s.positions.buffer],transformNormals:s=>[s.normals.buffer]},s,{hasInitialize:!0})}setModifications(s,e,o,t){const r={context:s,modifications:u(e,o,t),isGeodetic:t.isGeographic};this.broadcast(r,"setModifications")}setLegacySchema(s,e){const o=JSON.stringify(e);return this.broadcast({context:s,jsonSchema:o},"setLegacySchema")}destroyContext(s){return this.broadcast(s,"destroyContext")}project(s,e){return this.invokeMethod("project",s,e)}transformNormals(s,e){return this.invokeMethod("transformNormals",s,e)}}const n=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__["default"]({deallocator:null}),i=[0,0,0];function u(e,o,h){n.clear();let u=1/0,a=1/0,c=-1/0,f=-1/0,l=!1;for(const d of o){const e="clip"===d.type?_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Inside:"mask"===d.type?_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Outside:_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Replace,o=d.geometry;let m=s=>s;if(o.spatialReference){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_3__.canProjectWithoutEngine)(o.spatialReference,h)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.layers.I3SMeshWorkerHandle").warn("Can't project modification polygon into layer spatial reference, ignoring modification");continue}m=s=>((0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__.projectVectorToVector)(s,o.spatialReference,i,h),i)}else o.hasZ||(i[2]=0,m=s=>(i[0]=s[0],i[1]=s[1],i));l=l||e===_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Outside,n.push(e),n.push(o.rings.length);for(const s of o.rings){n.push(s.length);for(const e of s){const s=m(e);n.push(s[0]),n.push(s[1]),n.push(s[2]),u=Math.min(u,s[0]),a=Math.min(a,s[1]),c=Math.max(c,s[0]),f=Math.max(f,s[1])}}}if(null!=e)if(l){const s=1e-4;n.push(_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Inside),n.push(2),n.push(4),n.push(u-s),n.push(a-s),n.push(0),n.push(c+s),n.push(a-s),n.push(0),n.push(c+s),n.push(f+s),n.push(0),n.push(u-s),n.push(f+s),n.push(0),n.push(4),n.push(e[0]),n.push(e[1]),n.push(0),n.push(e[2]),n.push(e[1]),n.push(0),n.push(e[2]),n.push(e[3]),n.push(0),n.push(e[0]),n.push(e[3]),n.push(0)}else n.push(_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Outside),n.push(1),n.push(4),n.push(e[0]),n.push(e[1]),n.push(0),n.push(e[2]),n.push(e[1]),n.push(0),n.push(e[2]),n.push(e[3]),n.push(0),n.push(e[0]),n.push(e[3]),n.push(0);n.push(_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.ModificationType.Finished);const m=new Float64Array(n.length);for(let s=0;s<n.length;++s)m[s]=n.at(s);return m}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ForAllFeaturesMode: () => (/* binding */ E),
/* harmony export */   ForAllFeaturesReturnType: () => (/* binding */ I)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E,I;!function(E){E[E.VISIBLE_ONLY=0]="VISIBLE_ONLY",E[E.ALL=1]="ALL",E[E.QUERYABLE=2]="QUERYABLE"}(E||(E={})),function(E){E[E.EXIT=0]="EXIT",E[E.CONTINUE=1]="CONTINUE",E[E.SKIP=2]="SKIP"}(I||(I={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   destroyContext: () => (/* binding */ b),
/* harmony export */   dracoDecompressPointCloudData: () => (/* binding */ c),
/* harmony export */   filterObbsForModifications: () => (/* binding */ u),
/* harmony export */   filterObbsForModificationsSync: () => (/* binding */ L),
/* harmony export */   initialize: () => (/* binding */ I),
/* harmony export */   interpretObbModificationResults: () => (/* binding */ A),
/* harmony export */   process: () => (/* binding */ l),
/* harmony export */   project: () => (/* binding */ p),
/* harmony export */   setLegacySchema: () => (/* binding */ y),
/* harmony export */   setModifications: () => (/* binding */ m),
/* harmony export */   setModificationsSync: () => (/* binding */ E),
/* harmony export */   test: () => (/* binding */ M),
/* harmony export */   transformNormals: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_MeshGeoreferencedRelativeVertexSpace_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/MeshGeoreferencedRelativeVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js");
/* harmony import */ var _geometry_support_MeshLocalVertexSpace_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/MeshLocalVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../libs/i3s/enums.js */ "./node_modules/@arcgis/core/libs/i3s/enums.js");
/* harmony import */ var _libs_i3s_I3SModule_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../libs/i3s/I3SModule.js */ "./node_modules/@arcgis/core/libs/i3s/I3SModule.js");
/* harmony import */ var _i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./i3s/I3SNode.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function l(e){g=await j();const r=[e.geometryBuffer];return{result:w(g,e,r),transferList:r}}async function c(e){g=await j();const r=[e.geometryBuffer],{geometryBuffer:t}=e,o=t.byteLength,n=g._malloc(o),s=new Uint8Array(g.HEAPU8.buffer,n,o);s.set(new Uint8Array(t));const i=g.dracoDecompressPointCloudData(n,s.byteLength);if(g._free(n),i.error.length>0)throw new Error(`i3s.wasm: ${i.error}`);const a=i.featureIds?.length>0?i.featureIds.slice():null,f=i.positions.slice();return a&&r.push(a.buffer),r.push(f.buffer),{result:{positions:f,featureIds:a},transferList:r}}async function u(e){await j(),L(e);const r={buffer:e.buffer};return{result:r,transferList:[r.buffer]}}async function m(e){await j(),E(e)}async function y(e){g=await j(),g.setLegacySchema(e.context,e.jsonSchema)}async function p(n){const{localMatrix:s,origin:i,positions:a,vertexSpace:f,localMode:l}=n,c=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(n.inSpatialReference),u=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(n.outSpatialReference);let m;if("georeferenced"===f.type){const[{projectBuffer:e},{initializeProjection:r}]=await Promise.all([Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js")),Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js"))]);await r(c,u),m=new Float64Array(a.length),e(a,c,0,m,u,0,m.length/3)}else{const e="georeferencedRelative"===f.type?_geometry_support_MeshGeoreferencedRelativeVertexSpace_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(f):_geometry_support_MeshLocalVertexSpace_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(f),{project:n}=await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/support/meshUtils/georeference.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js"));m=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.toFloat64Array)(n({positions:a,transform:s?{localMatrix:s}:void 0,vertexSpace:e,inSpatialReference:c,outSpatialReference:u,localMode:l}))}const y=m.length,[p,d,b]=i;for(let e=0;e<y;e+=3)m[e]-=p,m[e+1]-=d,m[e+2]-=b;return{result:{projected:m,original:a},transferList:[m.buffer,a.buffer]}}async function d({normalMatrix:e,normals:r}){const t=new Float32Array(r.length);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.a)(t,r,e),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.n)(t,t),{result:{transformed:t,original:r},transferList:[t.buffer,r.buffer]}}function b(e){S(e)}let h,g;function E(e){if(!g)return;const r=e.modifications,t=g._malloc(8*r.length),o=new Float64Array(g.HEAPU8.buffer,t,r.length);for(let n=0;n<r.length;++n)o[n]=r[n];g.setModifications(e.context,t,r.length,e.isGeodetic),g._free(t)}function w(e,r,t){const{context:o,localOrigin:n,globalTrafo:s,mbs:a,obb:f,elevationOffset:l,geometryBuffer:c,geometryDescriptor:u,indexToVertexProjector:m,vertexToRenderProjector:y}=r,p=e._malloc(c.byteLength),d=33,b=e._malloc(d*Float64Array.BYTES_PER_ELEMENT),h=new Uint8Array(e.HEAPU8.buffer,p,c.byteLength);h.set(new Uint8Array(c));const g=new Float64Array(e.HEAPU8.buffer,b,d);_(g,n);let E=g.byteOffset+3*g.BYTES_PER_ELEMENT,w=new Float64Array(g.buffer,E);_(w,s),E+=16*g.BYTES_PER_ELEMENT,w=new Float64Array(g.buffer,E),_(w,a),E+=4*g.BYTES_PER_ELEMENT,null!=f&&(w=new Float64Array(g.buffer,E),_(w,f.center),E+=3*g.BYTES_PER_ELEMENT,w=new Float64Array(g.buffer,E),_(w,f.halfSize),E+=3*g.BYTES_PER_ELEMENT,w=new Float64Array(g.buffer,E),_(w,f.quaternion));const A=u,L={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:A.featureIndex},S=e.process(o,!!r.obb,p,h.byteLength,A,L,b,l,m,y,r.normalReferenceFrame);if(e._free(b),e._free(p),S.error.length>0)throw new Error(`i3s.wasm: ${S.error}`);if(S.discarded)return null;const I=S.componentOffsets.length>0?S.componentOffsets.slice():null,j=S.featureIds.length>0?S.featureIds.slice():null,M=S.anchorIds.length>0?Array.from(S.anchorIds):null,P=S.anchors.length>0?Array.from(S.anchors):null,T=S.interleavedVertedData.slice().buffer,x=S.indicesType===_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.IndexType.Int16?new Uint16Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/2).slice():new Uint32Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/4).slice(),R=S.positions.slice(),U=S.positionIndicesType===_libs_i3s_enums_js__WEBPACK_IMPORTED_MODULE_5__.IndexType.Int16?new Uint16Array(S.positionIndices.buffer,S.positionIndices.byteOffset,S.positionIndices.byteLength/2).slice():new Uint32Array(S.positionIndices.buffer,S.positionIndices.byteOffset,S.positionIndices.byteLength/4).slice(),v={layout:r.layouts[0],interleavedVertexData:T,indices:x,hasColors:S.hasColors,hasModifications:S.hasModifications,positionData:{data:R,indices:U}};return j&&t.push(j.buffer),I&&t.push(I.buffer),t.push(T),t.push(x.buffer),t.push(R.buffer),t.push(U.buffer),{componentOffsets:I,featureIds:j,anchorIds:M,anchors:P,transformedGeometry:v,obb:S.obb}}function A(e){return 0===e?_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_7__.NodeIMModificationImpact.Unmodified:1===e?_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_7__.NodeIMModificationImpact.PotentiallyModified:2===e?_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_7__.NodeIMModificationImpact.Culled:_i3s_I3SNode_js__WEBPACK_IMPORTED_MODULE_7__.NodeIMModificationImpact.Unknown}function L(e){if(!g)return;const{context:r,buffer:t}=e,o=g._malloc(t.byteLength),n=t.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(g.HEAPU8.buffer,o,n),i=new Float64Array(t);s.set(i),g.filterOBBs(r,o,n),i.set(s),g._free(o)}function S(e){g&&0===g.destroy(e)&&(g=null)}function _(e,r){for(let t=0;t<r.length;++t)e[t]=r[t]}async function I(){g||await j()}function j(){return g?Promise.resolve(g):(h||(h=(0,_libs_i3s_I3SModule_js__WEBPACK_IMPORTED_MODULE_6__.get)().then((e=>(g=e,h=null,g)))),h)}const M={transform:(e,r)=>g&&w(g,e,r),destroy:S};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../II3SMeshView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s{constructor(){this.ids=new Set}}class h{constructor({collection:t,forAllFeatures:e,forAllFeaturesOfNode:i}){this._highlights=[],this._collection=t,this._forAllFeatures=e,this._forAllFeaturesOfNode=i}destroy(){this._highlights.forEach((t=>this._releaseSet(t))),this._highlights=null}acquireSet(){const i=new s;this._highlights.push(i);const h=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>{this._highlights&&(this._releaseSet(i),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.removeUnordered)(this._highlights,i))}));return{set:i,handle:h}}setFeatureIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}_initializeSet(t){this._forAllFeatures(((e,s,h)=>(t.ids.has(e)&&this._collection.addComponentHighlight(h.objectHandle,s),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_2__.ForAllFeaturesReturnType.CONTINUE)))}_releaseSet(t){this._forAllFeatures(((e,s,h)=>(t.ids.has(e)&&this._collection.removeComponentHighlight(h.objectHandle,s),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_2__.ForAllFeaturesReturnType.CONTINUE)))}objectCreated(t){this._highlights.forEach((e=>{this._forAllFeaturesOfNode(t,((s,h)=>(e.ids.has(s)&&this._collection.addComponentHighlight(t.objectHandle,h),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_2__.ForAllFeaturesReturnType.CONTINUE)))}))}objectDeleted(t){this._collection.clearHighlights(t.objectHandle)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAsyncElevationUpdater.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAsyncElevationUpdater.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SAsyncElevationUpdater: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _graphics_ExtentSet_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphics/ExtentSet.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e,t,s){super({}),this._updateExtent=t,this._updateNode=s,this.running=!1,this._extentSet=new _graphics_ExtentSet_js__WEBPACK_IMPORTED_MODULE_7__.ExtentSet,this._nodeSet=new Set,this.addHandles(e.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_8__.TaskPriority.ELEVATION_ALIGNMENT,this))}normalizeCtorArgs(){return{}}addExtent(e){this._extentSet.add(e),this.running=!0}schedule(e){this._nodeSet.add(e),this.running=!0}remove(e){this._nodeSet.delete(e),this._updateRunning()}runTask(e){const t=this._extentSet;for(e.run((()=>t.merge(e)));!t.empty&&!e.done;){const s=this._updateExtent(t.pop());null!=s&&s.forAll((e=>this.schedule(e))),e.madeProgress()}if(e.done)return;const s=this._nodeSet;for(const r of s)if(s.delete(r),this._updateNode(r),e.madeProgress(),e.done)break;this._updateRunning()}_updateRunning(){this.running=this._nodeSet.size>0||this._extentSet.size>0}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"running",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.i3s.I3SAsyncElevationUpdater.ts")],i);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SCrossfadeHelper: () => (/* binding */ i),
/* harmony export */   NodeCrossfadeMetaData: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/I3SLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/I3SLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this._view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}destroy(){this._preRenderFrameTaskHandle?.remove(),this._preRenderFrameTaskHandle=null,this._view=null}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._preRenderFrameTaskHandle)),this._view.notifyLODUpdate(),this._view.notifyUpdate()))}_startNodeFading(e,d,o){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_1__.addFrameTask)({preRender:e=>this._updateAllNodeFading(e)}),this._view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this._view.notifyUpdate()),e.lodCrossfadeSignedDuration=o,e.lodCrossfadeProgress=d}_updateAllNodeFading(e){const s=this._view.nodeCrossfadingEnabled;this._view.foreachCrossfadeNode(((d,o)=>{if(null!=o?.lodCrossfadeProgress){const i=o.lodCrossfadeSignedDuration,t=i>0?this._view.fullOpacity:0,r=e.deltaTime/i,a=o.lodCrossfadeProgress+Math.abs(r),n=!s||a>=1||0===i,l=t-(n?0:i>0?1:-1)*(1-a);n?(this.stopNodeFading(o),i<0&&this._view.markNodeToRemove(d)):o.lodCrossfadeProgress=a,this._view.setNodeOpacityByIndex(d,l)}})),this._view.removeMarkedNodes()}stopAllNodeFading(){this._view.foreachCrossfadeNode(((e,s)=>{if(null!=s?.lodCrossfadeProgress){this.stopNodeFading(s);const d=s.lodCrossfadeSignedDuration;d<0&&this._view.markNodeToRemove(e);const o=d>0?this._view.fullOpacity:0;this._view.setNodeOpacityByIndex(e,o)}})),this._view.removeMarkedNodes()}fadeNode(e,s,o,i){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const r=this._view,a=r.nodeCrossfadingEnabled,n=o===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeIn?r.fullOpacity:0,l=a?i?o===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeIn?r.lodCrossfadeinDuration:r.lodCrossfadeoutDuration:r.lodCrossfadeUncoveredDuration:0,h=this._view.getNodeOpacityByIndex(e);if(a&&h!==n&&l>0){const e=1-Math.abs(n-h);this._startNodeFading(s,e,t(o)*l)}else this.stopNodeFading(s),this._view.setNodeOpacityByIndex(e,n),o===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeOut&&this._view.removeNode(e)}isNodeFullyFadedIn(e){const s=this._view.getNodeCrossfadeMetaData(e);return null==s||null==s.lodCrossfadeProgress&&this._view.getNodeOpacityByIndex(e)===this._view.fullOpacity}}function t(e){return e===_support_I3SLayerView_js__WEBPACK_IMPORTED_MODULE_2__.FadeDirection.FadeIn?1:-1}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/projection/projectBoundingSphere.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const v=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.empty)(),g=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(),x=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_15__.f)(0,0,0,0),y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)(),j=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)(),E=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)();let _=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){get spatialReference(){return this.view?.elevationProvider?.spatialReference}constructor(e){super(e),this._tmpEvent={spatialReference:null,extent:v,context:"scene"}}initialize(){this.view=this.layerView.view,this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersector=(0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_16__.newIntersector)(this.view.state.viewingMode),this._intersector.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_17__.StoreResults.MIN,this._tmpEvent.context=this.intersectionHandler.isGround?"ground":"scene"}getElevation(e,t,r,n){const s=y;s[0]=e,s[1]=t,s[2]=r;const o=this._renderCoordsHelper;if(!o.toRenderCoords(s,n,s))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("could not project point to compute elevation"),null;const{layerView:a,_intersector:l,intersectionHandler:c}=this,p=a.i3slayer.fullExtent,m=null!=p&&Number.isFinite(p.xmin)&&Number.isFinite(p.xmax)&&Number.isFinite(p.ymin)&&Number.isFinite(p.ymax)&&Number.isFinite(p.zmin)&&Number.isFinite(p.zmax)?{min:p.zmin,max:p.zmax}:a.elevationRange;if(null==m)return null;const u=a.elevationOffset,h=m.min+u,f=m.max+u,d=j,v=E;return o.setAltitude(d,f,s),o.setAltitude(v,h,s),l.reset(d,v,null),c.intersect(l,null,d,v),l.results.min.getIntersectionPoint(s)?o.getAltitude(s):null}getSphereElevationBounds(e,t){return (0,_geometry_projection_projectBoundingSphere_js__WEBPACK_IMPORTED_MODULE_13__.projectBoundingSphere)(e,t,x,this._renderCoordsHelper.spatialReference),this.layerView.getElevationRange(x)}getRootElevationBounds(){const e=this.layerView.i3slayer.fullExtent;return e?.hasZ?{min:e.zmin,max:e.zmax}:null}layerChanged(){this.spatialReference&&(this._tmpEvent.extent=this._computeLayerExtent(),this._tmpEvent.spatialReference=this.spatialReference,this.emit("elevation-change",this._tmpEvent))}objectChanged(e){this.spatialReference&&(this._tmpEvent.extent=this._computeObjectExtent(e),this._tmpEvent.spatialReference=this.spatialReference,this.emit("elevation-change",this._tmpEvent))}_computeObjectExtent(e){return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.empty)(v),this._expandExtent(e,v),v}_computeLayerExtent(){(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.empty)(v);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,v);return v}_expandExtent(e,t){const r=this.spatialReference;if(null==r)return;const i=this.layerView.getNodeComponentObb(e);if(null!=i){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__.F)(g,i.quaternion),g[12]=i.center[0],g[13]=i.center[1],g[14]=i.center[2];for(let e=0;e<8;++e)y[0]=1&e?i.halfSize[0]:-i.halfSize[0],y[1]=2&e?i.halfSize[1]:-i.halfSize[1],y[2]=4&e?i.halfSize[2]:-i.halfSize[2],(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__.e)(y,y,g),this._renderCoordsHelper.fromRenderCoords(y,y,r),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.expand)(t,y,t)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],_.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],_.prototype,"intersectionHandler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],_.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],_.prototype,"spatialReference",null),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.i3s.I3SElevationProvider")],_);const b=_;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   boundingBoxCornerPoints: () => (/* binding */ i),
/* harmony export */   boundingBoxCornersPointsStride: () => (/* binding */ p),
/* harmony export */   createGetFeatureExtent: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c(t,e,r){const n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__.newDoubleArray)(24);return u=>{let c=u.meta.featureExtents;if(null==c){c=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=c;for(let t=0;t<c.length;t+=6)c[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(c.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,n,0),(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_2__.projectBuffer)(n,e,0,n,t,0,8)?((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.set)(p,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.negativeInfinity),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.expandWithBuffer)(p,n,0,8)):(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.set)(p,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.zero)),p}}function i(r,o,n,a,m){const s=o.getComponentAabb(n,r,l),f=o.getObjectTransform(n);for(let u=0;u<8;++u)I[0]=1&u?s[0]:s[3],I[1]=2&u?s[1]:s[4],I[2]=4&u?s[2]:s[5],(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.t)(I,I,f.rotationScale),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(I,I,f.position),a[m++]=I[0],a[m++]=I[1],a[m++]=I[2];return a}const p=24,l=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.create)(),I=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I3SIntersectionHandler: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Intersector.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/lib/verticalOffsetUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class d{constructor(e){this.type=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.IntersectorType.I3S,this._needVerticalOffset=!1,this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this._collection=e.collection,this._traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlaneEnabled=e.slicePlaneEnabled,this.isGround=e.isGround}updateElevationAlignState(t,r){this._needVerticalOffset=t&&r===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_0__.ViewingMode.Global}intersect(e,l,d,u){const f=e.results,b=e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.StoreResults.ALL,m=e.ray.direction,h=e.tolerance;let p=e=>e,y=e=>e;const g=(0,_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_6__.getVerticalOffsetI3S)(null!=e.verticalOffset?e.verticalOffset:this._needVerticalOffset?0:null);null!=e.verticalOffset&&null!=g&&(p=e=>g.applyToMbs(e),y=e=>g.applyToObb(e)),this._traverseNodeHierarchy(((o,c)=>{if(0===o.childrenLoaded)return!1;const O=null!=o.serviceObbInRenderSR&&(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__.isValidObb)(o.serviceObbInRenderSR)?o.serviceObbInRenderSR:null;return!(null!=O&&!(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.intersectLine)(y(O),d,m,h))&&(!c||null==O&&(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__.isValidMbs)(o.renderMbs)&&!a(p(o.renderMbs),d,m,h)||null!=o.geometryObb&&!(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.intersectLine)(y(o.geometryObb),d,m,h)||this._collection.intersect(c,d,u,h,g,((t,r,s,c)=>{if(r>=0){if(null!=l&&!l(d,u,r))return;const a=e=>{const n=new _Intersector_js__WEBPACK_IMPORTED_MODULE_2__.I3sTarget(this.layerUid,this.sublayerUid,o.index,t,c);e.set(this.type,n,r,s)};if(this.isGround&&(null==f.ground.dist||r<f.ground.dist)&&a(f.ground),e.options.isFiltered)return;if((null==f.min.dist||r<f.min.dist)&&a(f.min),(null==f.max.dist||r>f.max.dist)&&a(f.max),b){const t=(0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_4__.newIntersectorResult)(e.ray);a(t),e.results.all.push(t)}}})),!0)}))}}function a(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],l=t[1]-e[1],o=t[2]-e[2],c=r[0],d=r[1],a=r[2],u=c*n+d*l+a*o;return u*u-(c*c+d*d+a*a)*(n*n+l*l+o*o-s*s)>=0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IDBCache: () => (/* binding */ i),
/* harmony export */   whenRequest: () => (/* binding */ c),
/* harmony export */   whenTransaction: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=14;class i{constructor(t,s,r=o){this._version=r,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__.ByteSizeUnit.GIGABYTES,this.quotaReductionFactor=.2,this._dbName=t,this._storeName=s}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,o=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),i=s.objectStoreNames.contains("last_access")?r.objectStore("last_access"):s.createObjectStore("last_access");i.indexNames.contains("date")||i.createIndex("date","date",{unique:!1}),i.indexNames.contains("byteSize")||i.createIndex("byteSize","byteSize",{unique:!1}),t.oldVersion<this._version&&(o.clear(),i.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(e,s){if(null==this._db)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("indexedb:not-initialized","IndexedDB Cache is not initialized"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(e,s))).catch((t=>{if(t&&"QuotaExceededError"===t.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(e,s)));throw t})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,t){const o=this._db;if(null==o)return Promise.resolve(void 0);let i=null;return Promise.resolve().then((()=>{const r=o.transaction(this._storeName,"readonly");i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.onAbort)(t,(()=>{r.abort()}));return c(r.objectStore(this._storeName).get(e))})).then((t=>{if(null==t)++this._miss;else if(this._db){++this._hit;this._db.transaction("last_access","readwrite").objectStore("last_access").put({date:Date.now(),byteSize:t.byteSize},e)}return null!=i&&i.remove(),t})).catch((()=>{++this._miss,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),null!=i&&i.remove()}))}remove(e){const t=this._db;return null==t?Promise.resolve():Promise.resolve().then((async()=>{const s=t.transaction([this._storeName,"last_access"],"readwrite"),r=s.objectStore(this._storeName),o=s.objectStore("last_access"),i=r.delete(e),a=o.delete(e);await Promise.all([c(i),c(a),n(s)])}))}_put(e,t){const s=this._db;if(null==s)return Promise.resolve();const r=s.transaction([this._storeName,"last_access"],"readwrite"),o=r.objectStore(this._storeName),i=r.objectStore("last_access"),a=o.put(t,e),l=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(a),c(l),n(r)])}_removeLeastRecentlyAccessed(e){if(e<=0||!this._db)return Promise.resolve();const t=this._db.transaction([this._storeName,"last_access"],"readwrite"),s=t.objectStore(this._storeName),r=t.objectStore("last_access");let o=0;const i=r.index("date").openCursor(null,"next");return i.onsuccess=()=>{const t=i.result;null!=t&&(null!=t.value.byteSize&&(o+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),o<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db;if(null==e)return Promise.resolve(0);const t=e.transaction("last_access"),s=t.objectStore("last_access");let r=0;const o=s.index("byteSize").openKeyCursor();return o.onsuccess=()=>{const e=o.result;if(!e)return;const t=e.key;null!=t&&(r+=t),e.continue()},n(t).then((()=>r))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{"done"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/IDBMockCache.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/IDBMockCache.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IDBMockCache: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=new WeakMap;class s{constructor(s,e){switch(this._miss=0,this._hit=0,this.initialized=!0,e){case"layer":this._data=new Map;break;case"view":{const e=t.get(s);if(e){this._data=e;break}const i=new Map;this._data=i,t.set(s,i)}}}init(){return Promise.resolve()}async get(t,s){if(this._data.has(t))return this._hit++,this._data.get(t)??void 0;this._miss++}destroy(){}put(t,s){return this._data.set(t,s),Promise.resolve()}remove(t){return this._data.delete(t),Promise.resolve()}getHitRate(){return this._hit/(this._hit+this._miss)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsMap: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit("change",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let o=0;o<e.length;o++){const r=e[o],s=r.objectId,n=this._map.get(s);n?(t.add(s),r!==n&&(e[o]=n),n.refCount||(n.refCount=0),++n.refCount):(r.refCount=1,this._map.set(s,r))}const r=t.size>0?e.filter((e=>!t.has(e.objectId))):e;r.length>0&&this.emit("change",{added:r,removed:[]})}removeMany(e){const t=[];for(const r of e){const e=r.objectId,o=this._map.get(e);null!=o&&(!o.refCount||--o.refCount<=0)&&(this._map.delete(e),t.push(r))}t.length>0&&this.emit("change",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const r of e){const e=this._map.get(r);null!=e&&(!e.refCount||--e.refCount<=0)&&(this._map.delete(r),t.push(e))}t.length>0&&this.emit("change",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let r;return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.someMap)(this._map,(t=>!!e(t)&&(r=t,!0))),r}forEach(e){this._map.forEach((t=>e(t)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LimitGraphicsMap: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _GraphicsMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicsMap.js */ "./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(e){super(),this._limit=e,this._all=new _GraphicsMap_js__WEBPACK_IMPORTED_MODULE_2__.GraphicsMap,this._active=new a(this),this._pending=new Map,this._handle=this._all.on("change",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this._percentage=1,this._last=-1,this._index=0}reset(e){this._percentage=e,this._last=-1}sample(){const e=Math.floor(this._index*this._percentage);return++this._index,e!==this._last&&(this._last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_1__.someMap)(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit("change",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit("change",{added:[],removed:e})}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19JM1NNZXNoVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzJvQixjQUFjLDZCQUE2QixjQUFjLGlCQUFpQixrQkFBa0IsUUFBUSw4REFBQyxRQUFRLDZCQUE2QixrQkFBa0Isd0NBQXdDLHlCQUF5QixtQkFBbUIsa0JBQWtCLFdBQVcsTUFBTSxlQUFlLENBQUMsNkRBQUMsQ0FBQyxPQUFPLGtCQUFrQixrQkFBa0IsUUFBUSxpRUFBQyxNQUFNLE9BQU8sMkJBQTJCLFFBQVEsaUVBQUMsUUFBUSwrREFBK0QsTUFBTSxTQUFTLFFBQVEsZ0JBQWdCLG9EQUFvRCxpRUFBQywyQkFBMkIsS0FBSyxlQUFlLGlFQUFDLElBQUksdURBQXVELGlFQUFpRSxRQUFRLENBQUMsNkRBQUMsMEJBQTBCLHVGQUFDLHNDQUFzQyw0REFBQyxlQUFlLCtGQUErRixtQkFBbUIsd0RBQUMsMkVBQTJFLGlFQUFDLEtBQUssNERBQUMsdUJBQXVCLGNBQWMsTUFBTSxtRUFBbUUsR0FBRyx3QkFBd0IsUUFBUSxpRUFBQyxlQUFlLHlFQUF5RSxpREFBQyx5REFBeUQsRUFBRSw2REFBNkQsUUFBUSxvRkFBb0YsVUFBVSxHQUFHLDZDQUE2QyxzREFBQyw0QkFBNEIsc0RBQUMsS0FBSyxrREFBQyw4QkFBOEIsRUFBRSxHQUFHLGlHQUFDLElBQUksRUFBRSxzREFBc0QsNEdBQTRHLGtEQUFrRCx5Q0FBeUMsNERBQUMscURBQXFELDJEQUFDLGNBQWMsVUFBVSxFQUFFLEdBQUcsaUdBQUMsRUFBRSxtQkFBbUIsRUFBRSx5QkFBeUIsZ0JBQWdCLElBQUksd0JBQXdCLGdCQUFnQiwrREFBK0QseUJBQXlCLGNBQWMsTUFBTSxtRUFBbUUsR0FBRyx3QkFBd0Isc0RBQXNELGlHQUFDLE1BQU0sOERBQUMsMkJBQTJCLHVC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QXFGLHlEQUF5RCxvQ0FBb0MsUUFBUSxjQUFjLCtDQUErQyxTQUFTLGlDQUFpQyxTQUFTLGlEQUFpRCx1REFBdUQsY0FBYyxRQUFRLGVBQWUsaUNBQWlDLGFBQWEsc0JBQXNCLFdBQVcsNkJBQTZCLFFBQVEsTUFBTSxPQUFPLDBEQUFDLG9DQUFvQyxVQUFVLDhCQUE4QixrQkFBa0IsNkNBQTZDLDhDQUE4QyxzREFBc0Qsa0JBQWtCLEVBQUUsY0FBYyw4Q0FBOEMsd0NBQXdDLG1CQUFtQixHQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3BlcnNpc3RhYmxlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL211bHRpT3JpZ2luSlNPTlN1cHBvcnRVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvcHJvamVjdGlvbi9sb2NhbExpbmVhclNjYWxlRmFjdG9ycy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9VQnl0ZUFycmF5LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9TY2VuZU1vZGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGlicy9pM3MvSTNTTW9kdWxlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9saWJzL2kzcy9lbnVtcy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcG9ydGFsL3N1cHBvcnQvcmVzb3VyY2VFeHRlbnNpb24uanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9JM1NNZXNoVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvSTNTTWVzaFZpZXdMYWJlbGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvSTNTTWVzaFdvcmtlckhhbmRsZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0lJM1NNZXNoVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvU2NlbmVMYXllcldvcmtlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9IaWdobGlnaHRzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU0FzeW5jRWxldmF0aW9uVXBkYXRlci5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9JM1NDcm9zc2ZhZGVIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTRWxldmF0aW9uUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSTNTR2VvbWV0cnlVdGlsLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvaTNzL0kzU0ludGVyc2VjdGlvbkhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSURCQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvSURCTW9ja0NhY2hlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0dyYXBoaWNzTWFwLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9zdXBwb3J0L0xpbWl0R3JhcGhpY3NNYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uL0Vycm9yLmpzXCI7aW1wb3J0e2NyZWF0ZU1ENUhhc2ggYXMgcn1mcm9tXCIuLi8uLi9NRDUuanNcIjtpbXBvcnR7aXNNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBlfWZyb21cIi4uLy4uL211bHRpT3JpZ2luSlNPTlN1cHBvcnRVdGlscy5qc1wiO2ltcG9ydHtpc0Fic29sdXRlIGFzIG8saXNCbG9iUHJvdG9jb2wgYXMgcyxqb2luIGFzIG4sYmxvYlVybFRvQmxvYiBhcyBpLGdldFBhdGhFeHRlbnNpb24gYXMgcH1mcm9tXCIuLi8uLi91cmxVdGlscy5qc1wiO2ltcG9ydHtnZW5lcmF0ZVVVSUQgYXMgY31mcm9tXCIuLi8uLi91dWlkLmpzXCI7aW1wb3J0e2dldFByb3BlcnR5TWV0YWRhdGEgYXMgdX1mcm9tXCIuLi9tZXRhZGF0YS5qc1wiO2ltcG9ydHtuYW1lVG9JZCBhcyBhfWZyb21cIi4uL1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0e3Byb3BlcnR5SlNPTk1ldGEgYXMgbH1mcm9tXCIuL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2dldFJlc291cmNlQ29udGVudEV4dGVuc2lvbiBhcyBtfWZyb21cIi4uLy4uLy4uL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlRXh0ZW5zaW9uLmpzXCI7aW1wb3J0e3IgYXMgZCx0IGFzIGYsTSBhcyB5LGkgYXMgZyxwIGFzIGgsYSBhcyB2fWZyb21cIi4uLy4uLy4uL2NodW5rcy9wZXJzaXN0YWJsZVVybFV0aWxzLmpzXCI7ZnVuY3Rpb24gaih0KXtjb25zdCByPXQ/Lm9yaWdpbnM/P1t2b2lkIDBdO3JldHVybihlLG8pPT57Y29uc3Qgcz1VKHQsZSxvKTtmb3IoY29uc3QgdCBvZiByKXtjb25zdCByPWwoZSx0LG8pO2Zvcihjb25zdCB0IGluIHMpclt0XT1zW3RdfX19ZnVuY3Rpb24gVSh0LHIsZSl7aWYoXCJyZXNvdXJjZVwiPT09dD8udHlwZSlyZXR1cm4gdyh0LHIsZSk7c3dpdGNoKHQ/LnR5cGU/P1wib3RoZXJcIil7Y2FzZVwib3RoZXJcIjpyZXR1cm57cmVhZDohMCx3cml0ZTohMH07Y2FzZVwidXJsXCI6e2NvbnN0e3JlYWQ6dCx3cml0ZTpyfT12O3JldHVybntyZWFkOnQsd3JpdGU6cn19fX1mdW5jdGlvbiB3KHQscixuKXtjb25zdCBpPXUocixuKTtyZXR1cm57dHlwZTpTdHJpbmcscmVhZDoodCxyLGUpPT57Y29uc3Qgbz1kKHQscixlKTtyZXR1cm4gaS50eXBlPT09U3RyaW5nP286XCJmdW5jdGlvblwiPT10eXBlb2YgaS50eXBlP25ldyBpLnR5cGUoe3VybDpvfSk6dm9pZCAwfSx3cml0ZTp7d3JpdGVyKHIscCxjLHUpe2lmKCF1Py5yZXNvdXJjZXMpcmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/dm9pZChwW2NdPWYocix1KSk6dm9pZChwW2NdPXIud3JpdGUoe30sdSkpO2NvbnN0IGw9eChyKSxtPWYobCx7Li4udSx2ZXJpZnlJdGVtUmVsYXRpdmVVcmxzOnU/LnZlcmlmeUl0ZW1SZWxhdGl2ZVVybHM/e3dyaXR0ZW5VcmxzOnUudmVyaWZ5SXRlbVJlbGF0aXZlVXJscy53cml0dGVuVXJscyxyb290UGF0aDp2b2lkIDB9OnZvaWQgMH0seS5OTyksZD1pLnR5cGUhPT1TdHJpbmcmJighZSh0aGlzKXx8dT8ub3JpZ2luJiZ0aGlzLm9yaWdpbklkT2Yobik+YSh1Lm9yaWdpbikpLGg9e29iamVjdDp0aGlzLHByb3BlcnR5TmFtZTpuLHZhbHVlOnIsdGFyZ2V0VXJsOm0sZGVzdDpwLHRhcmdldFByb3BlcnR5TmFtZTpjLGNvbnRleHQ6dSxwYXJhbXM6dH07dT8ucG9ydGFsSXRlbSYmbSYmIW8obSk/ZCYmdD8uY29udGVudEFkZHJlc3NlZD9JKGgpOmQ/TihoKTpQKGgpOnU/LnBvcnRhbEl0ZW0mJihudWxsPT1tfHxudWxsIT1nKG0pfHxzKG0pfHxkKT9JKGgpOnBbY109bX19fX1mdW5jdGlvbiBJKGUpe2NvbnN0e3RhcmdldFVybDpvLHBhcmFtczpwLHZhbHVlOnUsY29udGV4dDphLGRlc3Q6bCx0YXJnZXRQcm9wZXJ0eU5hbWU6ZH09ZTtpZighYS5wb3J0YWxJdGVtKXJldHVybjtjb25zdCBmPWgobykseT1iKHUsbyxhKTtpZihwPy5jb250ZW50QWRkcmVzc2VkJiZcImpzb25cIiE9PXkudHlwZSlyZXR1cm4gdm9pZCBhLm1lc3NhZ2VzPy5wdXNoKG5ldyB0KFwicGVyc2lzdGFibGU6Y29udGVudEFkZHJlc3NpbmdVbnN1cHBvcnRlZFwiLGBQcm9wZXJ0eSBcIiR7ZH1cIiBpcyB0cnlpbmcgdG8gc2VyaWFsaXppbmcgYSByZXNvdXJjZSB3aXRoIGNvbnRlbnQgb2YgdHlwZSAke3kudHlwZX0gd2l0aCBjb250ZW50IGFkZHJlc3NpbmcuIENvbnRlbnQgYWRkcmVzc2luZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IganNvbiByZXNvdXJjZXMuYCx7Y29udGVudDp5fSkpO2NvbnN0IGc9cD8uY29udGVudEFkZHJlc3NlZCYmXCJqc29uXCI9PT15LnR5cGU/cih5Lmpzb25TdHJpbmcpOmY/LmZpbGVuYW1lPz9jKCksdj1uKHA/LnByZWZpeD8/Zj8ucHJlZml4LGcpLGo9YCR7dn0uJHttKHkpfWA7aWYocD8uY29udGVudEFkZHJlc3NlZCYmYS5yZXNvdXJjZXMmJlwianNvblwiPT09eS50eXBlKXtjb25zdCB0PWEucmVzb3VyY2VzLnRvS2VlcC5maW5kKCh0PT50LnJlc291cmNlLnBhdGg9PT1qKSk/P2EucmVzb3VyY2VzLnRvQWRkLmZpbmQoKHQ9PnQucmVzb3VyY2UucGF0aD09PWopKTtpZih0KXJldHVybiB2b2lkKGxbZF09dC5yZXNvdXJjZS5pdGVtUmVsYXRpdmVVcmwpfWNvbnN0IFU9YS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgoaik7cyhvKSYmYS5yZXNvdXJjZXMmJmEucmVzb3VyY2VzLnBlbmRpbmdPcGVyYXRpb25zLnB1c2goaShvKS50aGVuKCh0PT57VS5wYXRoPWAke3Z9LiR7bSh7dHlwZTpcImJsb2JcIixibG9iOnR9KX1gLGxbZF09VS5pdGVtUmVsYXRpdmVVcmx9KSkuY2F0Y2goKCgpPT57fSkpKTtjb25zdCB3PXA/LmNvbXByZXNzPz8hMTthLnJlc291cmNlcyYmUyh7Li4uZSxyZXNvdXJjZTpVLGNvbnRlbnQ6eSxjb21wcmVzczp3LHVwZGF0ZXM6YS5yZXNvdXJjZXMudG9BZGR9KSxsW2RdPVUuaXRlbVJlbGF0aXZlVXJsfWZ1bmN0aW9uIE4odCl7Y29uc3R7Y29udGV4dDpyLHRhcmdldFVybDplLHBhcmFtczpvLHZhbHVlOnMsZGVzdDpuLHRhcmdldFByb3BlcnR5TmFtZTppfT10O2lmKCFyLnBvcnRhbEl0ZW0pcmV0dXJuO2NvbnN0IGM9ci5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgoZSksdT1iKHMsZSxyKSxhPW0odSksbD1wKGMucGF0aCksZD1vPy5jb21wcmVzcz8/ITE7YT09PWw/KHIucmVzb3VyY2VzJiZTKHsuLi50LHJlc291cmNlOmMsY29udGVudDp1LGNvbXByZXNzOmQsdXBkYXRlczpyLnJlc291cmNlcy50b1VwZGF0ZX0pLG5baV09ZSk6SSh0KX1mdW5jdGlvbiBQKHtjb250ZXh0OnQsdGFyZ2V0VXJsOnIsZGVzdDplLHRhcmdldFByb3BlcnR5TmFtZTpvfSl7dC5wb3J0YWxJdGVtJiZ0LnJlc291cmNlcyYmKHQucmVzb3VyY2VzLnRvS2VlcC5wdXNoKHtyZXNvdXJjZTp0LnBvcnRhbEl0ZW0ucmVzb3VyY2VGcm9tUGF0aChyKSxjb21wcmVzczohMX0pLGVbb109cil9ZnVuY3Rpb24gUyh7b2JqZWN0OnQscHJvcGVydHlOYW1lOnIsdXBkYXRlczplLHJlc291cmNlOm8sY29udGVudDpzLGNvbXByZXNzOm59KXtlLnB1c2goe3Jlc291cmNlOm8sY29udGVudDpzLGNvbXByZXNzOm4sZmluaXNoOmU9PntPKHQscixlKX19KX1mdW5jdGlvbiBiKHQscixlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD97dHlwZTpcInVybFwiLHVybDpyfTp7dHlwZTpcImpzb25cIixqc29uU3RyaW5nOkpTT04uc3RyaW5naWZ5KHQudG9KU09OKGUpKX19ZnVuY3Rpb24geCh0KXtyZXR1cm4gbnVsbD09dD9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC51cmx9ZnVuY3Rpb24gTyh0LHIsZSl7XCJzdHJpbmdcIj09dHlwZW9mIHRbcl0/dFtyXT1lLnVybDp0W3JdLnVybD1lLnVybH1leHBvcnR7aiBhcyBwZXJzaXN0YWJsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gaShpKXtyZXR1cm4gaSYmXCJnZXRBdE9yaWdpblwiaW4gaSYmXCJvcmlnaW5PZlwiaW4gaX1leHBvcnR7aSBhcyBpc011bHRpT3JpZ2luSlNPTk1peGlufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bCBhcyByfWZyb21cIi4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2NsYXNzaWZ5U3BhdGlhbFJlZmVyZW5jZSBhcyB0LHNvdXJjZUNsYXNzaWZpY2F0aW9uQ2FjaGUgYXMgcyxkZXN0Q2xhc3NpZmljYXRpb25DYWNoZSBhcyBvLFByb2plY3Rpb25JRCBhcyBpLGludlBsYXRlQ2FycmVlU2NhbGUgYXMgbn1mcm9tXCIuL3Byb2plY3RvcnMuanNcIjtpbXBvcnR7ZWFydGggYXMgZX1mcm9tXCIuLi9zdXBwb3J0L0VsbGlwc29pZC5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgdX1mcm9tXCIuLi9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2Z1bmN0aW9uIGYoZixwLEUsYyl7aWYobnVsbD09cHx8bnVsbD09YylyZXR1cm4hMTtjb25zdCBsPXQocCxzKSxDPXQoYyxvKTtpZihsPT09QyYmbCE9PWkuVU5LTk9XTnx8dShwLGMpKXJldHVybiBFWzBdPTEsRVsxXT0xLEVbMl09MSwhMDtpZihsPT09aS5TUEhFUklDQUxfRUNFRil7Y29uc3QgdD1yKGYpLHM9dC9NYXRoLnNxcnQoZlswXSpmWzBdK2ZbMV0qZlsxXSksbz10L2UucmFkaXVzO2lmKEM9PT1pLldFQl9NRVJDQVRPUilyZXR1cm4gRVswXT1zKm8sRVsxXT1zKm8sRVsyXT0xLCEwO2lmKEM9PT1pLldHUzg0fHxDPT09aS5DR0NTMjAwMCl7Y29uc3Qgcj1uO3JldHVybiBFWzBdPXIqcypvLEVbMV09cipvLEVbMl09MSwhMH19ZWxzZSBpZihsPT09aS5QTEFURV9DQVJSRUUpe2lmKEM9PT1pLldHUzg0fHxDPT09aS5DR0NTMjAwMClyZXR1cm4gRVswXT1uLEVbMV09bixFWzJdPTEsITA7aWYoQz09PWkuV0VCX01FUkNBVE9SKXtjb25zdCByPWZbMV0vZS5yYWRpdXM7cmV0dXJuIEVbMF09MSxFWzFdPTEvTWF0aC5jb3MociksRVsyXT0xLCEwfX1yZXR1cm4hMX1leHBvcnR7ZiBhcyBsb2NhbExpbmVhclNjYWxlRmFjdG9yc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e25hdGl2ZUFycmF5TWF4U2l6ZSBhcyByfWZyb21cIi4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtmdW5jdGlvbiBlKGUsbj0hMSl7cmV0dXJuIGU8PXI/bj9uZXcgQXJyYXkoZSkuZmlsbCgwKTpuZXcgQXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSl9ZXhwb3J0e2UgYXMgbmV3VUJ5dGVBcnJheX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyByfWZyb21cIi4uLy4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7Y2xvbmUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL1dhcm5pbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydHtwZXJzaXN0YWJsZSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcGVyc2lzdGFibGUuanNcIjtpbXBvcnR7Y2FuUHJvamVjdFdpdGhvdXRFbmdpbmUgYXMgYyxwcm9qZWN0UG9seWdvbiBhcyBufWZyb21cIi4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24uanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9Qb2x5Z29uLmpzXCI7dmFyIGw7bGV0IHk9bD1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5nZW9tZXRyeT1udWxsLHRoaXMudHlwZT1cImNsaXBcIn13cml0ZUdlb21ldHJ5KGUscixvLHMpe2lmKHMubGF5ZXI/LnNwYXRpYWxSZWZlcmVuY2UmJiFzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKHRoaXMuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZSkpe2lmKCFjKGUuc3BhdGlhbFJlZmVyZW5jZSxzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB2b2lkKHM/Lm1lc3NhZ2VzJiZzLm1lc3NhZ2VzLnB1c2gobmV3IHQoXCJzY2VuZW1vZGlmaWNhdGlvbjp1bnN1cHBvcnRlZFwiLFwiU2NlbmUgbW9kaWZpY2F0aW9ucyB3aXRoIGluY29tcGF0aWJsZSBzcGF0aWFsIHJlZmVyZW5jZXMgYXJlIG5vdCBzdXBwb3J0ZWRcIix7bW9kaWZpY2F0aW9uOnRoaXMsc3BhdGlhbFJlZmVyZW5jZTpzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UsY29udGV4dDpzfSkpKTtjb25zdCBwPW5ldyBtO24oZSxwLHMubGF5ZXIuc3BhdGlhbFJlZmVyZW5jZSkscltvXT1wLnRvSlNPTihzKX1lbHNlIHJbb109ZS50b0pTT04ocyk7ZGVsZXRlIHJbb10uc3BhdGlhbFJlZmVyZW5jZX1jbG9uZSgpe3JldHVybiBuZXcgbCh7Z2VvbWV0cnk6byh0aGlzLmdlb21ldHJ5KSx0eXBlOnRoaXMudHlwZX0pfX07ZShbcyh7dHlwZTptfSksYSgpXSx5LnByb3RvdHlwZSxcImdlb21ldHJ5XCIsdm9pZCAwKSxlKFtpKFtcIndlYi1zY2VuZVwiLFwicG9ydGFsLWl0ZW1cIl0sXCJnZW9tZXRyeVwiKV0seS5wcm90b3R5cGUsXCJ3cml0ZUdlb21ldHJ5XCIsbnVsbCksZShbcyh7dHlwZTpbXCJjbGlwXCIsXCJtYXNrXCIsXCJyZXBsYWNlXCJdLG5vbk51bGxhYmxlOiEwfSksYSgpXSx5LnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLHk9bD1lKFtwKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5TY2VuZU1vZGlmaWNhdGlvblwiKV0seSk7Y29uc3QgZj15O2V4cG9ydHtmIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRBc3NldFVybCBhcyB0fWZyb21cIi4uLy4uL2Fzc2V0cy5qc1wiO2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnx8KG49bmV3IFByb21pc2UoKHQ9PmltcG9ydChcIi4uLy4uL2NodW5rcy9pM3MuanNcIikudGhlbigodD0+dC5pKSkudGhlbigoKHtkZWZhdWx0OmV9KT0+e2NvbnN0IG49ZSh7bG9jYXRlRmlsZTppLG9uUnVudGltZUluaXRpYWxpemVkOigpPT50KG4pfSk7ZGVsZXRlIG4udGhlbn0pKSkpLmNhdGNoKCh0PT57dGhyb3cgdH0pKSksbn1mdW5jdGlvbiBpKGUpe3JldHVybiB0KGBlc3JpL2xpYnMvaTNzLyR7ZX1gKX1sZXQgbjtleHBvcnR7ZSBhcyBnZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBuLGU7IWZ1bmN0aW9uKG4pe25bbi5Ob25lPTBdPVwiTm9uZVwiLG5bbi5JbnQxNj0xXT1cIkludDE2XCIsbltuLkludDMyPTJdPVwiSW50MzJcIn0obnx8KG49e30pKSxmdW5jdGlvbihuKXtuW24uUmVwbGFjZT0wXT1cIlJlcGxhY2VcIixuW24uT3V0c2lkZT0xXT1cIk91dHNpZGVcIixuW24uSW5zaWRlPTJdPVwiSW5zaWRlXCIsbltuLkZpbmlzaGVkPTNdPVwiRmluaXNoZWRcIn0oZXx8KGU9e30pKTtleHBvcnR7biBhcyBJbmRleFR5cGUsZSBhcyBNb2RpZmljYXRpb25UeXBlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0UGF0aEV4dGVuc2lvbiBhcyBpfWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtmdW5jdGlvbiBwKGkpe3JldHVybiBvW3QoaSldfHxlfWZ1bmN0aW9uIHQoaSl7cmV0dXJuXCJqc29uXCI9PT1pLnR5cGU/XCJhcHBsaWNhdGlvbi9qc29uXCI6XCJibG9iXCI9PT1pLnR5cGU/aS5ibG9iLnR5cGU6bihpLnVybCl9ZnVuY3Rpb24gbihwKXtjb25zdCB0PWkocCk7cmV0dXJuIGdbdF18fGF9Y29uc3Qgbz17fSxhPVwidGV4dC9wbGFpblwiLGU9b1thXSxnPXtwbmc6XCJpbWFnZS9wbmdcIixqcGVnOlwiaW1hZ2UvanBlZ1wiLGpwZzpcImltYWdlL2pwZ1wiLGJtcDpcImltYWdlL2JtcFwiLGdpZjpcImltYWdlL2dpZlwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uXCIsdHh0OlwidGV4dC9wbGFpblwiLHhtbDpcImFwcGxpY2F0aW9uL3htbFwiLHN2ZzpcImltYWdlL3N2Zyt4bWxcIix6aXA6XCJhcHBsaWNhdGlvbi96aXBcIixwYmY6XCJhcHBsaWNhdGlvbi92bmQubWFwYm94LXZlY3Rvci10aWxlXCIsZ3o6XCJhcHBsaWNhdGlvbi9nemlwXCIsXCJiaW4uZ3pcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifTtmb3IoY29uc3QgbCBpbiBnKW9bZ1tsXV09bDtleHBvcnR7cCBhcyBnZXRSZXNvdXJjZUNvbnRlbnRFeHRlbnNpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgcyxyZW1vdmVVbm9yZGVyZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7Qnl0ZVNpemVVbml0IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9CeXRlU2l6ZVVuaXQuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7c29tZU1hcCBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uLy4uL2NvcmUvUG9vbGVkQXJyYXkuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHUsdGhyb3dJZkFib3J0ZWQgYXMgXyxjcmVhdGVSZXNvbHZlciBhcyBtfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2luaXRpYWwgYXMgZyx3YXRjaCBhcyBwfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtzY2hlZHVsZSBhcyBmfWZyb21cIi4uLy4uLy4uL2NvcmUvc2NoZWR1bGluZy5qc1wiO2ltcG9ydHtpc0FycmF5QnVmZmVyIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJWZXJ0aWNhbFVuaXRGb3JTUiBhcyB5fWZyb21cIi4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHZ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBJfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZiBhcyBNfWZyb21cIi4uLy4uLy4uL2NodW5rcy9tYXQzLmpzXCI7aW1wb3J0e2EgYXMgQ31mcm9tXCIuLi8uLi8uLi9jaHVua3MvbWF0M2Y2NC5qc1wiO2ltcG9ydHttIGFzIE8sQiBhcyB4fWZyb21cIi4uLy4uLy4uL2NodW5rcy9tYXQ0LmpzXCI7aW1wb3J0e2IgYXMgRSxhIGFzIGp9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL21hdDRmNjQuanNcIjtpbXBvcnR7ZiBhcyB3fWZyb21cIi4uLy4uLy4uL2NodW5rcy9xdWF0ZjY0LmpzXCI7aW1wb3J0e2UgYXMgUyxzIGFzIEEsZyBhcyBULHQgYXMgRCxjIGFzIFIsaSBhcyBOLGYgYXMgRn1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIFZ9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7cyBhcyBQfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWM0LmpzXCI7aW1wb3J0e2YgYXMgSH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjNGY2NC5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgVX1mcm9tXCIuLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2dldFJlZmVyZW5jZUVsbGlwc29pZCBhcyBHfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L2VsbGlwc29pZFV0aWxzLmpzXCI7aW1wb3J0e2xvY2FsTGluZWFyU2NhbGVGYWN0b3JzIGFzIEx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9sb2NhbExpbmVhclNjYWxlRmFjdG9ycy5qc1wiO2ltcG9ydHtwcm9qZWN0Qm91bmRpbmdTcGhlcmUgYXMga31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1NwaGVyZS5qc1wiO2ltcG9ydHtwcm9qZWN0QnVmZmVyIGFzIEJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCI7aW1wb3J0e2dldFByb2plY3Rvck5hbWUgYXMgcX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RvcnMuanNcIjtpbXBvcnR7cHJvamVjdFZlY3RvclRvVmVjdG9yIGFzIHp9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0VmVjdG9yVG9WZWN0b3IuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIEssZW1wdHkgYXMgVyxleHBhbmRXaXRoQnVmZmVyIGFzICQsdG9SZWN0IGFzIFF9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBYLGludGVyc2VjdHMgYXMgWX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIEp9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2ltcG9ydHtjb21wYWN0RmxvYXRBcnJheSBhcyBafWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvRmxvYXRBcnJheS5qc1wiO2ltcG9ydHtjb21wYWN0SW5kaWNlcyBhcyBlZX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0luZGljZXMuanNcIjtpbXBvcnR7ZiBhcyB0ZX1mcm9tXCIuLi8uLi8uLi9jaHVua3Mvc3BoZXJlLmpzXCI7aW1wb3J0e25ld1VCeXRlQXJyYXkgYXMgaWV9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9VQnl0ZUFycmF5LmpzXCI7aW1wb3J0e2ZhbGxiYWNrT2JqZWN0SURBdHRyaWJ1dGUgYXMgc2V9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL0xheWVyQ29uc3RhbnRzLmpzXCI7aW1wb3J0IHJlIGZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9JM1NPbkRlbWFuZENvbnRyb2xsZXIuanNcIjtpbXBvcnR7Zml4RmllbGRzIGFzIG9lfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnQgYWUgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvU2NlbmVNb2RpZmljYXRpb24uanNcIjtpbXBvcnR7Z2V0Q29sb3IgYXMgbmUsZ2V0T3BhY2l0eSBhcyBsZX1mcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvdmlzdWFsVmFyaWFibGVzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVVdGlscy5qc1wiO2ltcG9ydHtsb2FkQXJjYWRlIGFzIGRlfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvYXJjYWRlT25EZW1hbmQuanNcIjtpbXBvcnR7aXNCYXNlbWFwTGF5ZXIgYXMgaGV9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9iYXNlbWFwVXRpbHMuanNcIjtpbXBvcnQgY2UgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TeW1ib2wzRC5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0IGFzIHVlfWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91bml0Q29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IF9lIGZyb21cIi4vSTNTTWVzaFZpZXdMYWJlbGVyLmpzXCI7aW1wb3J0e0kzU01lc2hXb3JrZXJIYW5kbGUgYXMgbWUsdG9XYXNtTW9kaWZpY2F0aW9uIGFzIGdlfWZyb21cIi4vSTNTTWVzaFdvcmtlckhhbmRsZS5qc1wiO2ltcG9ydHtGb3JBbGxGZWF0dXJlc1JldHVyblR5cGUgYXMgcGUsRm9yQWxsRmVhdHVyZXNNb2RlIGFzIGZlfWZyb21cIi4vSUkzU01lc2hWaWV3M0QuanNcIjtpbXBvcnR7aW5pdGlhbGl6ZSBhcyBiZSxzZXRNb2RpZmljYXRpb25zU3luYyBhcyB5ZSxmaWx0ZXJPYmJzRm9yTW9kaWZpY2F0aW9uc1N5bmMgYXMgdmUsaW50ZXJwcmV0T2JiTW9kaWZpY2F0aW9uUmVzdWx0cyBhcyBJZX1mcm9tXCIuL1NjZW5lTGF5ZXJXb3JrZXIuanNcIjtpbXBvcnR7b3ZlcnJpZGVDb2xvciBhcyBNZX1mcm9tXCIuL2dyYXBoaWNzL2dyYXBoaWNVdGlscy5qc1wiO2ltcG9ydHthcmVMYWJlbHNWaXNpYmxlIGFzIENlfWZyb21cIi4vZ3JhcGhpY3MvTGFiZWxlci5qc1wiO2ltcG9ydHtUZXh0dXJlVXNhZ2UgYXMgT2UsVGV4dHVyZUVuY29kaW5nIGFzIHhlfWZyb21cIi4vaTNzL2VudW1zLmpzXCI7aW1wb3J0IEVlIGZyb21cIi4vaTNzL0hpZ2hsaWdodHMuanNcIjtpbXBvcnR7STNTQXN5bmNFbGV2YXRpb25VcGRhdGVyIGFzIGplfWZyb21cIi4vaTNzL0kzU0FzeW5jRWxldmF0aW9uVXBkYXRlci5qc1wiO2ltcG9ydHtJM1NDcm9zc2ZhZGVIZWxwZXIgYXMgd2UsTm9kZUNyb3NzZmFkZU1ldGFEYXRhIGFzIFNlfWZyb21cIi4vaTNzL0kzU0Nyb3NzZmFkZUhlbHBlci5qc1wiO2ltcG9ydCBBZSBmcm9tXCIuL2kzcy9JM1NFbGV2YXRpb25Qcm92aWRlci5qc1wiO2ltcG9ydHtib3VuZGluZ0JveENvcm5lclBvaW50cyBhcyBUZX1mcm9tXCIuL2kzcy9JM1NHZW9tZXRyeVV0aWwuanNcIjtpbXBvcnR7STNTSW50ZXJzZWN0aW9uSGFuZGxlciBhcyBEZX1mcm9tXCIuL2kzcy9JM1NJbnRlcnNlY3Rpb25IYW5kbGVyLmpzXCI7aW1wb3J0e2dldFN1cHBvcnRlZEVuY29kaW5ncyBhcyBSZSxzZWxlY3RFbmNvZGluZyBhcyBOZSxkZWZhdWx0TWF0ZXJpYWwgYXMgRmUsY3JlYXRlVGV4dHVyZSBhcyBWZSxjb25maWd1cmVNYXRlcmlhbCBhcyBQZX1mcm9tXCIuL2kzcy9JM1NNYXRlcmlhbFV0aWwuanNcIjtpbXBvcnR7Tm9kZUlNTW9kaWZpY2F0aW9uSW1wYWN0IGFzIEhlLE5vZGVTdGF0ZSBhcyBVZX1mcm9tXCIuL2kzcy9JM1NOb2RlLmpzXCI7aW1wb3J0e0kzU092ZXJyaWRlcyBhcyBHZX1mcm9tXCIuL2kzcy9JM1NPdmVycmlkZXMuanNcIjtpbXBvcnR7Y29tcHV0ZUdsb2JhbFRyYW5zZm9ybWF0aW9uIGFzIExlLGdldExvY2FsT3JpZ2luIGFzIGtlfWZyb21cIi4vaTNzL0kzU1Byb2plY3Rpb25VdGlsLmpzXCI7aW1wb3J0e3JlbmRlcmVyTmVlZHNUZXh0dXJlcyBhcyBCZSxjaGVja1NjZW5lTGF5ZXJWYWxpZCBhcyBxZSxjaGVja1NjZW5lTGF5ZXJDb21wYXRpYmxlV2l0aFZpZXcgYXMgemUsZ2V0Q2FjaGVLZXlTdWZmaXggYXMgS2Usd2hlbkdyYXBoaWNBdHRyaWJ1dGVzIGFzIFdlLGNvbXB1dGVWaXNpYmlsaXR5T2JiIGFzICRlLGZpbHRlckluUGxhY2UgYXMgUWUsZ2V0Q2FjaGVkQXR0cmlidXRlVmFsdWUgYXMgWGUsaW50ZXJzZWN0Qm91bmRpbmdSZWN0V2l0aE1icyBhcyBZZSxNYnNJbnRlcnNlY3RSZXN1bHQgYXMgSmUsYWRkV3JhcGFyb3VuZCBhcyBaZSxnZXRTeW1ib2xJbmZvIGFzIGV0LHRyYW5zcGFyZW50RWRnZU1hdGVyaWFsIGFzIHR0LGdldENsaXBSZWN0IGFzIGl0fWZyb21cIi4vaTNzL0kzU1V0aWwuanNcIjtpbXBvcnR7SURCQ2FjaGUgYXMgc3R9ZnJvbVwiLi9pM3MvSURCQ2FjaGUuanNcIjtpbXBvcnR7SURCTW9ja0NhY2hlIGFzIHJ0fWZyb21cIi4vaTNzL0lEQk1vY2tDYWNoZS5qc1wiO2ltcG9ydHthdHRyaWJ1dGVMb29rdXAgYXMgb3R9ZnJvbVwiLi9zdXBwb3J0L2F0dHJpYnV0ZVV0aWxzLmpzXCI7aW1wb3J0e0NvbG9yTWl4TW9kZUVudW0gYXMgYXR9ZnJvbVwiLi9zdXBwb3J0L3N5bWJvbENvbG9yVXRpbHMuanNcIjtpbXBvcnR7ZGVidWdGbGFncyBhcyBudH1mcm9tXCIuLi9zdXBwb3J0L2RlYnVnRmxhZ3MuanNcIjtpbXBvcnR7dG9Cb3VuZGluZ1JlY3QgYXMgbHR9ZnJvbVwiLi4vc3VwcG9ydC9leHRlbnRVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgZHQsaW50ZXJzZWN0U3BoZXJlIGFzIGh0LGNsb25lIGFzIGN0fWZyb21cIi4uL3N1cHBvcnQvb3JpZW50ZWRCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHt1cGRhdGluZ1Byb2dyZXNzIGFzIHV0fWZyb21cIi4uL3N1cHBvcnQvdXBkYXRpbmdQcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e2dsTGF5b3V0IGFzIF90fWZyb21cIi4uL3N1cHBvcnQvYnVmZmVyL2dsVXRpbC5qc1wiO2ltcG9ydHtTdGF0ZSBhcyBtdH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvY29sbGVjdGlvbnMvQ29tcG9uZW50L0NvbXBvbmVudE9iamVjdC5qc1wiO2ltcG9ydHtjcmVhdGVWZXJ0ZXhCdWZmZXJMYXlvdXQgYXMgZ3R9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2NvbGxlY3Rpb25zL0NvbXBvbmVudC9Tb3VyY2VHZW9tZXRyeS5qc1wiO2ltcG9ydHtUZXh0dXJlQ29vcmRpbmF0ZUF0dHJpYnV0ZVR5cGUgYXMgcHR9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9hdHRyaWJ1dGVzL1RleHR1cmVDb29yZGluYXRlQXR0cmlidXRlLmdsc2wuanNcIjtpbXBvcnR7bG9hZEJhc2lzIGFzIGZ0fWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvQmFzaXNVdGlsLmpzXCI7aW1wb3J0e1RyYW5zcGFyZW5jeSBhcyBidH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL2VkZ2VSZW5kZXJpbmcvaW50ZXJmYWNlcy5qc1wiO2NvbnN0IHl0PVwiZXNyaS52aWV3cy4zZC5sYXllcnMuSTNTTWVzaFZpZXczRFwiLHZ0PWwuZ2V0TG9nZ2VyKHl0KSxJdD1bMSwxLDEsMV07Y2xhc3MgTXQgZXh0ZW5kcyBTZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbyxhLG4sbCl7c3VwZXIoKSx0aGlzLm5vZGU9ZSx0aGlzLmZlYXR1cmVJZHM9dCx0aGlzLm9iamVjdEhhbmRsZT1pLHRoaXMuY2FjaGVkUmVuZGVyZXJWZXJzaW9uPXMsdGhpcy5hdHRyaWJ1dGVJbmZvPXIsdGhpcy5tYXRlcmlhbD1vLHRoaXMudGV4dHVyZXM9YSx0aGlzLmFuY2hvcklkcz1uLHRoaXMuYW5jaG9ycz1sLHRoaXMuY2FjaGVkRWxldmF0aW9uQW5jaG9ycz1udWxsLHRoaXMuY2FjaGVkRWRnZU1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5lZGdlTWVtb3J5VXNhZ2U9MH19dmFyIEN0OyFmdW5jdGlvbihlKXtlW2UuQ2FzdFNoYWRvd3M9NF09XCJDYXN0U2hhZG93c1wiLGVbZS5QaWNrYWJsZT01XT1cIlBpY2thYmxlXCJ9KEN0fHwoQ3Q9e30pKTtjb25zdCBPdD0yMyx4dD0xMDAqby5NRUdBQllURVMsRXQ9dD0+e2xldCBvPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvciguLi5lKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IFUsdGhpcy5fbm9kZUlkMk1ldGE9bmV3IE1hcCx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZz1uZXcgTWFwLHRoaXMuX2kzc1dhc21Mb2FkZWQ9ITEsdGhpcy5fc25hcHBpbmdTb3VyY2VzVHJhY2tlcnM9W10sdGhpcy5faGFzTG9hZGVkUEJSVGV4dHVyZXM9ITEsdGhpcy5fYXN5bmNNb2R1bGVMb2FkaW5nPTAsdGhpcy5fYWRkVGFza3M9bmV3IE1hcCx0aGlzLl9jdXJyZW50UmVuZGVyZXI9bnVsbCx0aGlzLl9yZW5kZXJlclZlcnNpb249MCx0aGlzLl9jb2xvclZhcmlhYmxlPW51bGwsdGhpcy5fb3BhY2l0eVZhcmlhYmxlPW51bGwsdGhpcy5fcmVuZGVyZXJGaWVsZHM9bnVsbCx0aGlzLl9zeW1ib2xvZ3lGaWVsZHM9bnVsbCx0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZT1udWxsLHRoaXMuX3N5bWJvbG9neU92ZXJyaWRlRmllbGRzPW51bGwsdGhpcy5fc3ltYm9sSW5mb3M9bmV3IE1hcCx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPW51bGwsdGhpcy5faGFzQ29tcG9uZW50RGF0YT0hMSx0aGlzLl9oYXNWZXJ0ZXhDb2xvcnM9ITEsdGhpcy5fbm9kZUNvbG9yT3ZlcnJpZGU9bnVsbCx0aGlzLnVwZGF0aW5nPSEwLHRoaXMuaG9sZUZpbGxpbmc9XCJhdXRvXCIsdGhpcy5faGFzQ29sb3JzPSExLHRoaXMuX2hhc1RleHR1cmVzPSExLHRoaXMuX2hhc0RhdGE9ITEsdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl9tb2RpZmljYXRpb25zPW5ldyBBcnJheSx0aGlzLmlnbm9yZXNNZW1vcnlGYWN0b3I9ITEsdGhpcy5fbGF5ZXJVcmw9XCJcIix0aGlzLl9jYWNoZUtleVN1ZmZpeD1udWxsLHRoaXMuX2VsZXZhdGlvblRhc2s9bnVsbCx0aGlzLl9maWx0ZXJzPVtdLHRoaXMuX2FyY2FkZT1udWxsLHRoaXMuX3RtcEF0dHJpYnV0ZU9ubHlHcmFwaGljPW5ldyBpKG51bGwsbnVsbCx7fSksdGhpcy5fY3Jvc3NmYWRlSGVscGVyPW5ldyB3ZSh0aGlzKX1nZXQgbG9kQ3Jvc3NmYWRlb3V0RHVyYXRpb24oKXtyZXR1cm4gMH1nZXQgbG9kQ3Jvc3NmYWRlaW5EdXJhdGlvbigpe3JldHVybiAwfWdldCBsb2RDcm9zc2ZhZGVVbmNvdmVyZWREdXJhdGlvbigpe3JldHVybiAwfWdldCBsYXllclVpZCgpe3JldHVybiB0aGlzLmkzc2xheWVyJiZ0aGlzLmkzc2xheWVyLnVpZH1nZXQgc3VibGF5ZXJVaWQoKXtyZXR1cm4gbnVsbH1nZXQgbGF5ZXJJZCgpe3JldHVybiB0aGlzLmkzc2xheWVyJiZ0aGlzLmkzc2xheWVyLmlkfWdldCBzdWJsYXllcklkKCl7cmV0dXJuIG51bGx9Z2V0IGNvbnRlbnRWaXNpYmxlKCl7cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiZ0aGlzLl9jb250cm9sbGVyPy5yb290Tm9kZVZpc2libGV9Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5jb250ZW50VmlzaWJsZSYmITA9PT10aGlzLmkzc2xheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZ1Byb2dyZXNzVmFsdWUoKXtyZXR1cm4gdGhpcy5fY29udHJvbGxlcj8udXBkYXRpbmdQcm9ncmVzcz8/MH1nZXQgaGFzVGV4dHVyZXNPclZlcnRleENvbG9ycygpe3JldHVybiB0aGlzLl9oYXNEYXRhP3RoaXMuX2hhc1RleHR1cmVzfHx0aGlzLl9oYXNDb2xvcnM/XCJ5ZXNcIjpcInByb2JhYmx5LW5vdFwiOlwidW5rbm93blwifWdldCByZW5kZXJlclRleHR1cmVVc2FnZSgpe3JldHVybiBCZSh0aGlzLl9jdXJyZW50UmVuZGVyZXIpP3RoaXMuX3VzZVBCUnx8dGhpcy5faGFzTG9hZGVkUEJSVGV4dHVyZXM/T2UuQWxsVGV4dHVyZXNQQlI6T2UuQWxsVGV4dHVyZXM6dGhpcy5fdXNlUEJSfHx0aGlzLl9oYXNMb2FkZWRQQlJUZXh0dXJlcz9PZS5HZW9tZXRyeVRleHR1cmVzUEJSOk9lLkdlb21ldHJ5VGV4dHVyZXN9Z2V0IGVsZXZhdGlvbk9mZnNldCgpe2NvbnN0IGU9bnVsbCE9dGhpcy5pM3NsYXllcj90aGlzLmkzc2xheWVyLmVsZXZhdGlvbkluZm86bnVsbDtpZihudWxsIT1lJiZcImFic29sdXRlLWhlaWdodFwiPT09ZS5tb2RlKXtjb25zdCB0PXkodGhpcy5pM3NsYXllci5zcGF0aWFsUmVmZXJlbmNlKSxpPXVlKGUudW5pdCk7cmV0dXJuKGUub2Zmc2V0Pz8wKSppL3R9cmV0dXJuIDB9Z2V0IGVsZXZhdGlvbkluZm8oKXtjb25zdCBlPW51bGwhPXRoaXMuaTNzbGF5ZXI/dGhpcy5pM3NsYXllci5lbGV2YXRpb25JbmZvOm51bGw7aWYobnVsbD09ZSlyZXR1cm57bW9kZTpCdC5BYnNvbHV0ZSxvZmZzZXQ6MH07Y29uc3QgdD15KHRoaXMuaTNzbGF5ZXIuc3BhdGlhbFJlZmVyZW5jZSksaT11ZShlLnVuaXQpLHM9KGUub2Zmc2V0Pz8wKSppL3Q7c3dpdGNoKGUubW9kZSl7Y2FzZVwiYWJzb2x1dGUtaGVpZ2h0XCI6cmV0dXJue21vZGU6QnQuQWJzb2x1dGUsb2Zmc2V0OnN9O2Nhc2VcInJlbGF0aXZlLXRvLWdyb3VuZFwiOnJldHVybnttb2RlOkJ0LlJlbGF0aXZlVG9Hcm91bmQsb2Zmc2V0OnN9O2Nhc2VcIm9uLXRoZS1ncm91bmRcIjpyZXR1cm57bW9kZTpCdC5PblRoZUdyb3VuZCxvZmZzZXQ6MH07ZGVmYXVsdDpyZXR1cm57bW9kZTpCdC5BYnNvbHV0ZSxvZmZzZXQ6MH19fWdldCBzdXBwb3J0ZWRUZXh0dXJlRW5jb2RpbmdzKCl7cmV0dXJuIFJlKHRoaXMudmlldy5fc3RhZ2UucmVuZGVyVmlldy5jYXBhYmlsaXRpZXMpfWdldCB1bmNvbXByZXNzZWRUZXh0dXJlRG93bnNhbXBsaW5nRW5hYmxlZCgpe2NvbnN0IGU9dGhpcy52aWV3Py5xdWFsaXR5U2V0dGluZ3Muc2NlbmVTZXJ2aWNlLnVuY29tcHJlc3NlZFRleHR1cmVEb3duc2FtcGxpbmdFbmFibGVkLHQ9MD09KHRoaXMuc3VwcG9ydGVkVGV4dHVyZUVuY29kaW5ncyZ4ZS5ERFNfUzNUQyk7cmV0dXJuIGUmJnR9Z2V0IGNsaWVudEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuaTNzT3ZlcnJpZGVzLmdlb21ldHJ5T3ZlcnJpZGVzfWdldCBlbGV2YXRpb25SYW5nZSgpe2NvbnN0IGU9dGhpcy5fbm9kZUlkMk1ldGE7bGV0IHQ9MS8wLGk9LTEvMDtmb3IoY29uc3QgcyBvZiBlLnZhbHVlcygpKXtpZihudWxsPT1zKWNvbnRpbnVlO2NvbnN0e25vZGU6e21iczplfX09cyxbLHIsb109ZTt0PU1hdGgubWluKHQsci1vKSxpPU1hdGgubWF4KGkscitvKX1yZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQpJiZOdW1iZXIuaXNGaW5pdGUoaSk/e21pbjp0LG1heDppfTpudWxsfWluaXRpYWxpemUoKXtjb25zdCBlPWhhcyhcImVuYWJsZS1mZWF0dXJlOmlkYi1tb2NrLWNhY2hlXCIpO3RoaXMuX2lkYkNhY2hlPWU/bmV3IHJ0KHRoaXMudmlldyxlKTpuZXcgc3QoXCJlc3JpLXNjZW5lbGF5ZXItY2FjaGVcIixcImdlb21ldHJpZXNcIiksdGhpcy5fcHJlTG9hZEJhc2lzKCksdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuaTNzbGF5ZXIuaW5kZXhJbmZvKTtjb25zdCB0PXRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIsaT10Lm1lbW9yeUNvbnRyb2xsZXI7dGhpcy5pM3NPdmVycmlkZXM9bmV3IEdlKHt2aWV3OnRoaXMudmlldyxsYXllcjp0aGlzLmkzc2xheWVyLG1lbW9yeUNvbnRyb2xsZXI6aX0pLHRoaXMuX3dvcmtlcj1uZXcgbWUoV3QodCkpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl93b3JrZXIucHJvbWlzZSk7Y29uc3Qgcz10aGlzLmkzc2xheWVyLnN0b3JlO3RoaXMuX3dvcmtlci5zZXRMZWdhY3lTY2hlbWEodGhpcy51aWQscy5kZWZhdWx0R2VvbWV0cnlTY2hlbWEpLHFlKHRoaXMuaTNzbGF5ZXIpLHplKHRoaXMuaTNzbGF5ZXIsdGhpcy52aWV3KSx0aGlzLl9sYXllclVybD10aGlzLmkzc2xheWVyLnBhcnNlZFVybC5wYXRoLHRoaXMuX2NvbnRyb2xsZXI9bmV3IHJlKHtsYXllclZpZXc6dGhpcyx3b3JrZXI6dGhpcy5fd29ya2VyfSksdGhpcy5fZ3B1TWVtb3J5RXN0aW1hdGU9MCx0aGlzLl90ZXhNZW1vcnlFc3RpbWF0ZT0wLHRoaXMuX2dlb01lbW9yeUVzdGltYXRlPTAsdGhpcy5fc3RhZ2U9dGhpcy52aWV3Ll9zdGFnZSx0aGlzLl9jb2xsZWN0aW9uPXRoaXMuX3N0YWdlLnJlbmRlclZpZXcuY29tcG9uZW50T2JqZWN0Q29sbGVjdGlvbix0aGlzLnJlc2V0SGlnaGxpZ2h0cygpO2NvbnN0IHI9cy5kZWZhdWx0R2VvbWV0cnlTY2hlbWE7aWYodGhpcy5faXNJbnRlZ3JhdGVkTWVzaHx8IXIpdGhpcy5faGFzQ29tcG9uZW50RGF0YT0hMTtlbHNle2NvbnN0IGU9ci5mZWF0dXJlQXR0cmlidXRlczt0aGlzLl9oYXNDb21wb25lbnREYXRhPSEhKGUmJmUuZmFjZVJhbmdlJiZlLmlkKX10aGlzLl9oYXNWZXJ0ZXhDb2xvcnM9bnVsbCE9KHI/LnZlcnRleEF0dHJpYnV0ZXMuY29sb3I/P251bGwpJiYhdGhpcy5pM3NsYXllci5jYWNoZWREcmF3aW5nSW5mbz8uY29sb3IsdGhpcy5faXNJbnRlZ3JhdGVkTWVzaHx8KHRoaXMuX2VkZ2VWaWV3PXRoaXMuX3N0YWdlLnJlbmRlcmVyLmVuc3VyZUVkZ2VWaWV3KCkpO2NvbnN0IG89dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlci5tZW1vcnlDb250cm9sbGVyLm5ld0NhY2hlKGBzbC0ke3RoaXMudWlkfWAsKGU9PnRoaXMuX2RlbGV0ZUNvbXBvbmVudE9iamVjdChlKSkpO3RoaXMuX21lbUNhY2hlPW87Y29uc3QgYT1lPT5udWxsIT10aGlzLl9jb250cm9sbGVyLmluZGV4Py5yb290Tm9kZT90aGlzLl9jb250cm9sbGVyLmluZGV4LnRyYXZlcnNlKHRoaXMuX2NvbnRyb2xsZXIuaW5kZXgucm9vdE5vZGUsKHQ9Pntjb25zdCBpPXQuaW5kZXgscz10aGlzLl9ub2RlSWQyTWV0YS5nZXQoaSl8fHRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLmdldChpKTtyZXR1cm4gZSh0LG51bGwhPXM/cy5vYmplY3RIYW5kbGU6bnVsbCl9KSk6KCk9Pnt9O3RoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXI9bmV3IERlKHtsYXllclVpZDp0aGlzLmxheWVyVWlkLHN1YmxheWVyVWlkOnRoaXMuc3VibGF5ZXJVaWQsY29sbGVjdGlvbjp0aGlzLl9jb2xsZWN0aW9uLHNsaWNlUGxhbmVFbmFibGVkOnRoaXMuc2xpY2VQbGFuZUVuYWJsZWQsaXNHcm91bmQ6dGhpcy5faXNJbnRlZ3JhdGVkTWVzaCx0cmF2ZXJzZU5vZGVIaWVyYXJjaHk6YX0pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyVWlkKSwoZT0+dGhpcy5faW50ZXJzZWN0aW9uSGFuZGxlci5sYXllclVpZD1lKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuc3VibGF5ZXJVaWQpLChlPT50aGlzLl9pbnRlcnNlY3Rpb25IYW5kbGVyLnN1YmxheWVyVWlkPWUpKSx0aGlzLl9lbGV2YXRpb25Qcm92aWRlcj1uZXcgQWUoe2xheWVyVmlldzp0aGlzLGludGVyc2VjdGlvbkhhbmRsZXI6dGhpcy5faW50ZXJzZWN0aW9uSGFuZGxlcn0pLHRoaXMuX2hhc0xvYWRlZFBCUlRleHR1cmVzPXRoaXMuX3VzZVBCUix0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy52aWV3LmNsaXBwaW5nQXJlYSksKCgpPT50aGlzLl9jbGlwcGluZ0FyZWFDaGFuZ2VkKCkpLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmZ1bGxPcGFjaXR5KSwoZT0+dGhpcy5fb3BhY2l0eUNoYW5nZShlKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnNsaWNlUGxhbmVFbmFibGVkKSwoZT0+dGhpcy5fc2xpY2VQbGFuZUVuYWJsZWRDaGFuZ2UoZSkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5lbGV2YXRpb25PZmZzZXQpLCgoZSx0KT0+e3RoaXMuX3JlbG9hZEFsbCh0KSx0aGlzLl9jb250cm9sbGVyLmludmFsaWRhdGVWaXNpYmlsaXR5T2JicygpfSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmVsZXZhdGlvbkluZm8pLCgoZSx0KT0+dGhpcy5fZWxldmF0aW9uSW5mb0NoYW5nZWQoZSx0KSksZyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PiF0aGlzLnN1c3BlbmRlZCYmdGhpcy5lbGV2YXRpb25JbmZvLm1vZGUhPT1CdC5BYnNvbHV0ZSksKChlLHQpPT57ZT90aGlzLmFkZEhhbmRsZXModGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLm9uKFwiZWxldmF0aW9uLWNoYW5nZVwiLCgoe2V4dGVudDplfSk9PnRoaXMuX2Vuc3VyZUVsZXZhdGlvblRhc2soKS5hZGRFeHRlbnQoZSkpKSxLdCk6dCYmdGhpcy5yZW1vdmVIYW5kbGVzKEt0KX0pLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl91c2VQQlIpLChlPT50aGlzLl91cGRhdGVQQlIoZSkpKTtjb25zdCBuPSgpPT57dGhpcy5fcmVsb2FkQWxsKCksdGhpcy5jbGVhck1lbUNhY2hlKCl9O3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnJlbmRlcmVyVGV4dHVyZVVzYWdlKSxuKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy51bmNvbXByZXNzZWRUZXh0dXJlRG93bnNhbXBsaW5nRW5hYmxlZCksbiksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuY29udGVudFZpc2libGUpLChlPT50aGlzLl9jb250ZW50VmlzaWJsZUNoYW5nZWQoZSkpLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmkzc2xheWVyLmxhYmVsc1Zpc2libGUpLCgoKT0+dGhpcy5fbGFiZWxpbmdDaGFuZ2VkKCkpLGcpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmkzc2xheWVyLmxhYmVsaW5nSW5mbyksKCgpPT50aGlzLl9sYWJlbGluZ0NoYW5nZWQoKSksZyksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX21vZGlmaWNhdGlvbnMpLCgoKT0+dGhpcy5fbW9kaWZpY2F0aW9uc0NoYW5nZWQoKSksZyksdGhpcy5hZGRIYW5kbGVzKFtwKCgoKT0+bnQuSTNTX1RSRUVfU0hPV19USUxFUyksKGU9PntpZihlJiYhdGhpcy5fdHJlZURlYnVnZ2VyKXtjb25zdCBlPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXg7aW1wb3J0KFwiLi9zdXBwb3J0L0kzU1RyZWVEZWJ1Z2dlci5qc1wiKS50aGVuKCgoe0kzU1RyZWVEZWJ1Z2dlcjp0fSk9PnshdGhpcy5fdHJlZURlYnVnZ2VyJiZudC5JM1NfVFJFRV9TSE9XX1RJTEVTJiYodGhpcy5fdHJlZURlYnVnZ2VyPW5ldyB0KHtsdjp0aGlzLHZpZXc6dGhpcy52aWV3LG5vZGVTUjplfSkpfSkpfWVsc2UgZXx8bnQuSTNTX1RSRUVfU0hPV19USUxFU3x8KHRoaXMuX3RyZWVEZWJ1Z2dlcj1oKHRoaXMuX3RyZWVEZWJ1Z2dlcikpfSksZykscCgoKCk9Pm50LkkzU19TSE9XX01PRElGSUNBVElPTlMpLCgoKT0+dGhpcy5fc2hvd01vZGlmaWNhdGlvbnMoKSksZyldKSx0aGlzLl9jYWNoZUtleVN1ZmZpeD1LZSh0aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy52aWV3LnJlbmRlclNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuX2lkYkNhY2hlLmluaXQoKS5jYXRjaCgoZT0+dnQud2FybihgRmFpbGVkIHRvIGluaXRpYWxpemUgSW5kZXhlZERCIGNhY2hlOiAke2V9YCkpKX1kZXN0cm95KCl7dGhpcy5fY2xlYXJBZGRUYXNrcygpLHRoaXMuX2VsZXZhdGlvblRhc2s9aCh0aGlzLl9lbGV2YXRpb25UYXNrKSx0aGlzLmkzc092ZXJyaWRlcz1oKHRoaXMuaTNzT3ZlcnJpZGVzKSx0aGlzLl9lbGV2YXRpb25Qcm92aWRlciYmKHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyLmxheWVyQ2hhbmdlZCgpLHRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlci51bnJlZ2lzdGVyKHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyKSx0aGlzLl9lbGV2YXRpb25Qcm92aWRlcj1udWxsKSx0aGlzLl9pbnRlcnNlY3Rpb25IYW5kbGVyJiYodGhpcy5fc3RhZ2Uudmlldy5zY2VuZUludGVyc2VjdGlvbkhlbHBlci5yZW1vdmVJbnRlcnNlY3Rpb25IYW5kbGVyKHRoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXIpLHRoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXI9bnVsbCk7Y29uc3QgZT10aGlzLl93b3JrZXI7ZSYmKGUuZGVzdHJveUNvbnRleHQodGhpcy51aWQpLnRoZW4oKCgpPT5lLmRlc3Ryb3koKSkpLHRoaXMuX3dvcmtlcj1udWxsKSx0aGlzLl9yZW1vdmVBbGxOb2RlRGF0YUZyb21TdGFnZSgpLHRoaXMuX21lbUNhY2hlPWgodGhpcy5fbWVtQ2FjaGUpLHRoaXMuX2NvbGxlY3Rpb249bnVsbCx0aGlzLl9zdGFnZT1udWxsLHRoaXMuX2VkZ2VWaWV3PW51bGwsdGhpcy5fbGFiZWxlcj1oKHRoaXMuX2xhYmVsZXIpLHRoaXMuX3RyZWVEZWJ1Z2dlcj1oKHRoaXMuX3RyZWVEZWJ1Z2dlciksdGhpcy5fY29udHJvbGxlcj1oKHRoaXMuX2NvbnRyb2xsZXIpLHRoaXMuX2hpZ2hsaWdodHMuZGVzdHJveSgpLHRoaXMuX25vZGVJZDJNZXRhLmNsZWFyKCksdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuY2xlYXIoKSx0aGlzLl9jcm9zc2ZhZGVIZWxwZXI9aCh0aGlzLl9jcm9zc2ZhZGVIZWxwZXIpLHRoaXMuZW1pdChcInZpc2libGUtZ2VvbWV0cnktY2hhbmdlZFwiKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlJiYodGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZFNjaGVkdWxlckhhbmRsZS5yZW1vdmUoKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPW51bGwpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1oKHRoaXMuX3VwZGF0aW5nSGFuZGxlcyl9X21lbUVzdGltYXRlVGV4dHVyZUFkZGVkKGUpe2NvbnN0IHQ9ZS5tZW1vcnlFc3RpbWF0ZTtyZXR1cm4gdGhpcy5fZ3B1TWVtb3J5RXN0aW1hdGUrPXQsdGhpcy5fdGV4TWVtb3J5RXN0aW1hdGUrPXQsdH1fbWVtRXN0aW1hdGVUZXh0dXJlUmVtb3ZlZChlKXtpZihudWxsIT1lKXtjb25zdCB0PWUubWVtb3J5RXN0aW1hdGU7dGhpcy5fZ3B1TWVtb3J5RXN0aW1hdGUtPXQsdGhpcy5fdGV4TWVtb3J5RXN0aW1hdGUtPXR9fV9tZW1Fc3RpbWF0ZUdlb21ldHJ5QWRkZWQoZSl7Y29uc3QgdD10aGlzLl9jb2xsZWN0aW9uLmdldE9iamVjdEdQVU1lbW9yeVVzYWdlKGUpO3JldHVybiB0aGlzLl9ncHVNZW1vcnlFc3RpbWF0ZSs9dCx0aGlzLl9nZW9NZW1vcnlFc3RpbWF0ZSs9dCx0fV9tZW1Fc3RpbWF0ZUdlb21ldHJ5UmVtb3ZlZChlKXtjb25zdCB0PXRoaXMuX2NvbGxlY3Rpb24uZ2V0T2JqZWN0R1BVTWVtb3J5VXNhZ2UoZSk7dGhpcy5fZ3B1TWVtb3J5RXN0aW1hdGUtPXQsdGhpcy5fZ2VvTWVtb3J5RXN0aW1hdGUtPXR9aXNOb2RlTG9hZGVkKGUpe3JldHVybiB0aGlzLl9ub2RlSWQyTWV0YS5oYXMoZSl9aXNOb2RlUmVsb2FkaW5nKGUpe3JldHVybiB0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5oYXMoZSl9Z2V0IHVzZWRNZW1vcnkoKXtsZXQgZT1udWxsIT10aGlzLl9sYWJlbGVyP3RoaXMuX2xhYmVsZXIudXNlZE1lbW9yeTowO3JldHVybiB0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCh0PT5lKz1udWxsIT10P3Qubm9kZS5tZW1vcnk6MCkpLHRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLmZvckVhY2goKHQ9PmUrPW51bGwhPXQ/dC5ub2RlLm1lbW9yeTowKSksZX1nZXQgdW5sb2FkZWRNZW1vcnkoKXtyZXR1cm4obnVsbCE9dGhpcy5fY29udHJvbGxlcj90aGlzLl9jb250cm9sbGVyLnVubG9hZGVkTWVtb3J5RXN0aW1hdGU6MCkrKG51bGwhPXRoaXMuX2xhYmVsZXI/dGhpcy5fbGFiZWxlci51bmxvYWRlZE1lbW9yeUVzdGltYXRlOjApfV9sYWJlbGluZ0NoYW5nZWQoKXtpZighKENlKHRoaXMuaTNzbGF5ZXIpJiZ0aGlzLl9zdXBwb3J0c0xhYmVsaW5nKSlyZXR1cm4gdm9pZChudWxsIT10aGlzLl9sYWJlbGVyJiYodGhpcy5fbGFiZWxlci5kZXN0cm95KCksdGhpcy5fbGFiZWxlcj1udWxsKSk7aWYobnVsbCE9dGhpcy5fbGFiZWxlcilyZXR1cm47Y29uc3QgZT1uZXcgX2Uoe3ZpZXc6dGhpcy52aWV3LGxheWVyOnRoaXMuaTNzbGF5ZXIsY29sbGVjdGlvbjp0aGlzLl9jb2xsZWN0aW9uLG92ZXJyaWRlczp0aGlzLmkzc092ZXJyaWRlc30pO3RoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goKHQ9Pm51bGwhPXQmJnRoaXMuX2FkZE1ldGFUb0xhYmVsZXIoZSx0KSkpLHRoaXMuX2xhYmVsZXI9ZX1fbG9hZEFzeW5jTW9kdWxlKGUpe3JldHVybisrdGhpcy5fYXN5bmNNb2R1bGVMb2FkaW5nLGUudGhlbigoZT0+KC0tdGhpcy5fYXN5bmNNb2R1bGVMb2FkaW5nLGUpKSwoZT0+e3Rocm93LS10aGlzLl9hc3luY01vZHVsZUxvYWRpbmcsZX0pKX1fbW9kaWZpY2F0aW9uc0NoYW5nZWQoKXtpZighdGhpcy5faTNzV2FzbUxvYWRlZCYmdGhpcy5oYXNNb2RpZmljYXRpb25zKXJldHVybiB0aGlzLl9pM3NXYXNtTG9hZGVkPWJlKCkudGhlbigoKCk9Pnt0aGlzLl9pM3NXYXNtTG9hZGVkPSEwLHRoaXMuX21vZGlmaWNhdGlvbnNDaGFuZ2VkKCksdGhpcy5ub3RpZnlVcGRhdGUoKX0pKSx2b2lkIHRoaXMubm90aWZ5VXBkYXRlKCk7aWYoITAhPT10aGlzLl9pM3NXYXNtTG9hZGVkKXJldHVybjtjb25zdCBlPXRoaXMudWlkLHQ9dGhpcy5pM3NsYXllci5zcGF0aWFsUmVmZXJlbmNlO3RoaXMuX3dvcmtlci5zZXRNb2RpZmljYXRpb25zKGUsdGhpcy5fbGF5ZXJDbGlwcGluZ0FyZWEsdGhpcy5fbW9kaWZpY2F0aW9ucyx0KTtjb25zdCBpPWdlKHRoaXMuX2xheWVyQ2xpcHBpbmdBcmVhLHRoaXMuX21vZGlmaWNhdGlvbnMsdCk7eWUoe2NvbnRleHQ6ZSxtb2RpZmljYXRpb25zOmksaXNHZW9kZXRpYzp0LmlzR2VvZ3JhcGhpY30pLHRoaXMuX2NvbnRyb2xsZXIubW9kaWZpY2F0aW9uc0NoYW5nZWQoKTtjb25zdCBzPXRoaXMuaGFzTW9kaWZpY2F0aW9ucz9uZXcgYzpudWxsO3RoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goKChlLHQpPT57bnVsbD09ZT8odGhpcy5fbm9kZUlkMk1ldGEuZGVsZXRlKHQpLHRoaXMuX2NvbnRyb2xsZXIudXBkYXRlTG9hZFN0YXR1cyh0LCExKSk6ZS5ub2RlLmhhc01vZGlmaWNhdGlvbnM/KHRoaXMuX25vZGVJZDJNZXRhLmRlbGV0ZSh0KSx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5zZXQodCxlKSk6bnVsbCE9cyYmcy5wdXNoKGUubm9kZSl9KSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJlbGV2YXRpb25SYW5nZVwiKSxudWxsIT1zJiZ0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5mb3JFYWNoKChlPT5zLnB1c2goZS5ub2RlKSkpLG51bGwhPXMmJnMubGVuZ3RoPjAmJih0aGlzLnVwZGF0ZU5vZGVNb2RpZmljYXRpb25TdGF0dXMocykscy5mb3JBbGwoKGU9PntpZihlLmltTW9kaWZpY2F0aW9uSW1wYWN0IT09SGUuQ3VsbGVkKXtjb25zdCB0PXRoaXMuX25vZGVJZDJNZXRhLmdldChlLmluZGV4KTt0aGlzLl9jb250cm9sbGVyLmludmFsaWRhdGVHZW9tZXRyeVZpc2liaWxpdHkoZS5pbmRleCksbnVsbCE9dD8odGhpcy5fbm9kZUlkMk1ldGEuZGVsZXRlKGUuaW5kZXgpLHRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLnNldChlLmluZGV4LHQpLHRoaXMubm90aWZ5Q2hhbmdlKFwiZWxldmF0aW9uUmFuZ2VcIikpOnRoaXMuX25vZGVJZDJNZXRhLmhhcyhlLmluZGV4KSYmKHRoaXMuX25vZGVJZDJNZXRhLmRlbGV0ZShlLmluZGV4KSx0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUxvYWRTdGF0dXMoZS5pbmRleCwhMSkpfX0pKSksdGhpcy5jbGVhck1lbUNhY2hlKCksdGhpcy5fY29udHJvbGxlci5yZXN0YXJ0Tm9kZUxvYWRpbmcoKSx0aGlzLl9zaG93TW9kaWZpY2F0aW9ucygpfV9zaG93TW9kaWZpY2F0aW9ucygpe2lmKG51bGwhPXRoaXMuX21vZGlmaWNhdGlvbkdyYXBoaWNzJiYodGhpcy52aWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkodGhpcy5fbW9kaWZpY2F0aW9uR3JhcGhpY3MpLHRoaXMuX21vZGlmaWNhdGlvbkdyYXBoaWNzPW51bGwpLCFudC5JM1NfU0hPV19NT0RJRklDQVRJT05TfHwwPT09dGhpcy5fbW9kaWZpY2F0aW9ucy5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9e2NsaXA6WzIyNywyMjcsNzksLjhdLG1hc2s6WzIyNywxMzksNzksLjhdLHJlcGxhY2U6WzEzOSwyMjcsNzksLjhdfSx0PXt0eXBlOlwic2ltcGxlLWZpbGxcIixvdXRsaW5lOntjb2xvcjpbMjU1LDI1NSwyNTVdLHdpZHRoOjF9fTt0aGlzLl9tb2RpZmljYXRpb25HcmFwaGljcz1uZXcgQXJyYXk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fbW9kaWZpY2F0aW9ucyl7Y29uc3Qgcj1zLmdlb21ldHJ5O3Iuc3BhdGlhbFJlZmVyZW5jZT10aGlzLmkzc2xheWVyLnNwYXRpYWxSZWZlcmVuY2U7Y29uc3Qgbz17Li4udCxjb2xvcjplW3MudHlwZV19O3RoaXMuX21vZGlmaWNhdGlvbkdyYXBoaWNzLnB1c2gobmV3IGkoe2dlb21ldHJ5OnIsc3ltYm9sOm99KSl9dGhpcy52aWV3LmdyYXBoaWNzLmFkZE1hbnkodGhpcy5fbW9kaWZpY2F0aW9uR3JhcGhpY3MpfV9hZGRNZXRhVG9MYWJlbGVyKGUsdCl7ZS5hZGROb2RlTWV0YSh0LCgoZSx0KT0+dGhpcy5fY3JlYXRlQXR0cmlidXRlcyhlLHQpKSl9X2NvbnRlbnRWaXNpYmxlQ2hhbmdlZChlKXtlPyh0aGlzLnZpZXcuZWxldmF0aW9uUHJvdmlkZXIucmVnaXN0ZXIodGhpcy5fZWxldmF0aW9uQ29udGV4dCx0aGlzLl9lbGV2YXRpb25Qcm92aWRlciksdGhpcy5fc3RhZ2Uudmlldy5zY2VuZUludGVyc2VjdGlvbkhlbHBlci5hZGRJbnRlcnNlY3Rpb25IYW5kbGVyKHRoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXIpKToodGhpcy5fcmVtb3ZlQWxsTm9kZURhdGFGcm9tU3RhZ2UoKSx0aGlzLnZpZXcuZWxldmF0aW9uUHJvdmlkZXImJnRoaXMudmlldy5lbGV2YXRpb25Qcm92aWRlci51bnJlZ2lzdGVyKHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyKSx0aGlzLl9zdGFnZS52aWV3LnNjZW5lSW50ZXJzZWN0aW9uSGVscGVyLnJlbW92ZUludGVyc2VjdGlvbkhhbmRsZXIodGhpcy5faW50ZXJzZWN0aW9uSGFuZGxlcikpfWdldExvYWRlZEF0dHJpYnV0ZXMoZSl7Y29uc3QgdD10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7aWYobnVsbCE9dD8uYXR0cmlidXRlSW5mbylyZXR1cm4gdC5hdHRyaWJ1dGVJbmZvLmxvYWRlZEF0dHJpYnV0ZXN9Z2V0QXR0cmlidXRlRGF0YShlKXtjb25zdCB0PXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtpZihudWxsIT10Py5hdHRyaWJ1dGVJbmZvKXJldHVybiB0LmF0dHJpYnV0ZUluZm8uYXR0cmlidXRlRGF0YX1zZXRBdHRyaWJ1dGVEYXRhKGUsdCl7Y29uc3QgaT10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7bnVsbCE9aT8uYXR0cmlidXRlSW5mbyYmKGkuYXR0cmlidXRlSW5mby5hdHRyaWJ1dGVEYXRhPXQsdGhpcy5fYXR0cmlidXRlVmFsdWVzQ2hhbmdlZChpKSl9YXN5bmMgdXBkYXRlQXR0cmlidXRlcyhlLHQsaSl7Y29uc3Qgcz10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7bnVsbCE9cyYmKGF3YWl0IHRoaXMuaTNzT3ZlcnJpZGVzLmFwcGx5QXR0cmlidXRlT3ZlcnJpZGVzKHMuZmVhdHVyZUlkcyx0LGksdGhpcy5fY29udHJvbGxlci5yZXF1aXJlZEF0dHJpYnV0ZXMpLHMuYXR0cmlidXRlSW5mbz10LHRoaXMuX2NvbnRyb2xsZXIucmVzY2hlZHVsZSgoKCk9PnRoaXMuX2F0dHJpYnV0ZVZhbHVlc0NoYW5nZWQocykpLGkpLmNhdGNoKChlPT57dShlKXx8dnQud2FybihcIkVycm9yIHdoaWxlIHVwZGF0aW5nIGF0dHJpYnV0ZSB2YWx1ZXMuIExheWVyIG1pZ2h0IG5vdCBkaXNwbGF5IGNvcnJlY3RseS5cIixlKX0pKSl9X2F0dHJpYnV0ZVZhbHVlc0NoYW5nZWQoZSl7ZS5jYWNoZWRSZW5kZXJlclZlcnNpb249dGhpcy5fZ2V0SW52YWxpZFJlbmRlcmVyVmVyc2lvbigpLGUuZmlsdGVyZWRJZHM9bnVsbCxudWxsIT10aGlzLl9sYWJlbGVyJiZ0aGlzLl9sYWJlbGVyLnNldE5vZGVNZXRhQXR0cmlidXRlcyhlLCgoZSx0KT0+dGhpcy5fY3JlYXRlQXR0cmlidXRlcyhlLHQpKSksdGhpcy5fdXBkYXRlRW5naW5lT2JqZWN0KGUpfWNsZWFyTWVtQ2FjaGUoKXtudWxsIT10aGlzLl9tZW1DYWNoZSYmdGhpcy5fbWVtQ2FjaGUuY2xlYXIoKX1nZXRWaXNpYmxlTm9kZXMoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgodD0+bnVsbCE9dCYmZS5wdXNoKHQubm9kZSkpKSxlfWdldE5vZGVDb21wb25lbnRPYmIoZSl7Y29uc3QgdD10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZS5pbmRleCk/P3RoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLmdldChlLmluZGV4KTtyZXR1cm4gbnVsbCE9dD90aGlzLl9jb2xsZWN0aW9uLmdldENvbXBvbmVudE9iYih0Lm9iamVjdEhhbmRsZSk6bnVsbH1nZXRMb2FkZWROb2RlSW5kaWNlcyhlKXt0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCgodCxpKT0+ZS5wdXNoKGkpKSksdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuZm9yRWFjaCgoKHQsaSk9PmUucHVzaChpKSkpfV9wcmVMb2FkQmFzaXMoKXshaGFzKFwiZGlzYWJsZS1mZWF0dXJlOmkzcy1iYXNpc1wiKSYmMCE9KHRoaXMuc3VwcG9ydGVkVGV4dHVyZUVuY29kaW5ncyZ4ZS5CYXNpcykmJnRoaXMuaTNzbGF5ZXIudGV4dHVyZVNldERlZmluaXRpb25zPy5zb21lKChlPT5lLmZvcm1hdHMuc29tZSgoZT0+XCJiYXNpc1wiPT09ZS5mb3JtYXR8fFwia3R4MlwiPT09ZS5mb3JtYXQpKSkpJiZmdCgpfV9nZXRWZXJ0ZXhCdWZmZXJMYXlvdXQoZSx0KXtjb25zdCBpPXtoYXNUZXh0dXJlOlZ0KGUucGFyYW1zLm1hdGVyaWFsKSxoYXNOb3JtYWxzOnQubm9ybWFsLGhhc1JlZ2lvbnM6dC51dlJlZ2lvbn07cmV0dXJuIF90KGd0KHRoaXMuX2dldEdlb21ldHJ5UGFyYW1ldGVycyhpKSkpfV9nZXRPYmplY3RJZEZpZWxkKCl7cmV0dXJuIHRoaXMuaTNzbGF5ZXIub2JqZWN0SWRGaWVsZHx8c2V9X2dldEdsb2JhbElkRmllbGQoKXtyZXR1cm4gdGhpcy5pM3NsYXllci5hc3NvY2lhdGVkTGF5ZXI/Lmdsb2JhbElkRmllbGR9X2ZpbmRHcmFwaGljTm9kZUFuZEluZGV4KGUpe2NvbnN0IHQ9b3QodGhpcy5pM3NsYXllci5maWVsZHNJbmRleCxlLmF0dHJpYnV0ZXMsdGhpcy5fZ2V0T2JqZWN0SWRGaWVsZCgpKTtsZXQgaT1udWxsO3JldHVybiBkKHRoaXMuX25vZGVJZDJNZXRhLChlPT57aWYobnVsbD09ZSlyZXR1cm4hMTtjb25zdCBzPWUuZmVhdHVyZUlkcy5pbmRleE9mKHQpO3JldHVybi0xIT09cyYmKGk9e25vZGU6ZS5ub2RlLGluZGV4OnN9LCEwKX0pKSxpfV9nZXRHcmFwaGljSW5kaWNlcyhlLHQpe2NvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUuaW5kZXgpO2lmKG51bGw9PWkpcmV0dXJuW107Y29uc3Qgcz1bXSxyPXRoaXMuX2dldE9iamVjdElkRmllbGQoKSxvPXRoaXMuaTNzbGF5ZXIuZmllbGRzSW5kZXg7Zm9yKGNvbnN0IGEgb2YgdCl7Y29uc3QgZT1vdChvLGEuYXR0cmlidXRlcyxyKSx0PWkuZmVhdHVyZUlkcy5pbmRleE9mKGUpOy0xIT09dCYmcy5wdXNoKHQpfXJldHVybiBzfXdoZW5HcmFwaGljQm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fZmluZEdyYXBoaWNOb2RlQW5kSW5kZXgoZSk7aWYoIXQpcmV0dXJuIFByb21pc2UucmVqZWN0KCk7Y29uc3QgaT10aGlzLl9nZXRBQUJCKHQubm9kZS5pbmRleCx0LmluZGV4KTtyZXR1cm4gbnVsbD09aT9Qcm9taXNlLnJlamVjdCgpOlByb21pc2UucmVzb2x2ZSh7Ym91bmRpbmdCb3g6aSxzY3JlZW5TcGFjZU9iamVjdHM6W119KX1nZXRBQUJCRnJvbUludGVyc2VjdG9yVGFyZ2V0KGUpe3JldHVybiBudWxsPT1lLm5vZGVJbmRleHx8bnVsbD09ZS5jb21wb25lbnRJbmRleD9udWxsOnRoaXMuX2dldEFBQkIoZS5ub2RlSW5kZXgsZS5jb21wb25lbnRJbmRleCl9X2dldEFBQkIoZSx0KXtjb25zdCBpPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtpZihudWxsPT1pPy5mZWF0dXJlSWRzfHx0Pj1pLmZlYXR1cmVJZHMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHM9aS5vYmplY3RIYW5kbGUscj1UZSh0LHRoaXMuX2NvbGxlY3Rpb24scyxKKDI0KSwwKSxvPXRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLGE9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2U7aWYoIUIocixvLDAscixhLDAsOCkpcmV0dXJuIG51bGw7Y29uc3Qgbj1XKCk7cmV0dXJuICQobixyLDAsOCksbn13aGVuR3JhcGhpY0F0dHJpYnV0ZXMoZSx0KXtyZXR1cm4gV2UodGhpcy5pM3NsYXllcixlLHRoaXMuX2dldE9iamVjdElkRmllbGQoKSx0LCgoKT0+Wy4uLnRoaXMuX25vZGVJZDJNZXRhLnZhbHVlcygpXS5maWx0ZXIocykpKX1nZXRHcmFwaGljRnJvbUludGVyc2VjdG9yVGFyZ2V0KGUpe2lmKG51bGw9PWUubm9kZUluZGV4fHxudWxsPT1lLmNvbXBvbmVudEluZGV4KXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUubm9kZUluZGV4KTtyZXR1cm4gbnVsbD09dD8uZmVhdHVyZUlkc3x8ZS5jb21wb25lbnRJbmRleD49dC5mZWF0dXJlSWRzLmxlbmd0aD9udWxsOnRoaXMuX2NyZWF0ZUdyYXBoaWMoZS5jb21wb25lbnRJbmRleCx0KX1fZ2V0Q2FjaGVLZXkoZSl7cmV0dXJuYCR7dGhpcy5fbGF5ZXJVcmx9L3Yke090fS8ke2V9JHt0aGlzLl9jYWNoZUtleVN1ZmZpeH1gfV9nZXRNZW1DYWNoZUtleShlLHQ9dGhpcy5lbGV2YXRpb25PZmZzZXQpe3JldHVybiBlK1wiI1wiK3R9Z2V0IF9pZGJDYWNoZUVuYWJsZWQoKXtyZXR1cm4hdGhpcy5fY29udHJvbGxlci5kaXNhYmxlSURCQ2FjaGUmJiF0aGlzLmhhc01vZGlmaWNhdGlvbnMmJjA9PT10aGlzLmVsZXZhdGlvbk9mZnNldCYmbnVsbCE9dGhpcy5fY2FjaGVLZXlTdWZmaXh9bG9hZENhY2hlZEdQVURhdGEoZSl7cmV0dXJuIG51bGwhPXRoaXMuX21lbUNhY2hlP3RoaXMuX21lbUNhY2hlLnBvcCh0aGlzLl9nZXRNZW1DYWNoZUtleShlKSk6bnVsbH1kZWxldGVDYWNoZWRHUFVEYXRhKGUpe251bGwhPWUmJnRoaXMuX2RlbGV0ZUNvbXBvbmVudE9iamVjdChlKX1fY2FjaGVHUFVEYXRhKGUsdD10aGlzLmVsZXZhdGlvbk9mZnNldCl7aWYobnVsbD09dGhpcy5fbWVtQ2FjaGUpcmV0dXJuIHZvaWQgdGhpcy5fZGVsZXRlQ29tcG9uZW50T2JqZWN0KGUpO2NvbnN0IGk9dGhpcy5fY29udHJvbGxlci5pbmRleERlcHRoLWUubm9kZS5sZXZlbDt0aGlzLl9tZW1DYWNoZS5wdXQodGhpcy5fZ2V0TWVtQ2FjaGVLZXkoZS5ub2RlLmluZGV4LHQpLGUsZS5ub2RlLm1lbW9yeSxpKX1sb2FkTWlzc2luZ1RleHR1cmVzKGUsdCxpLHMpe2NvbnN0IHI9ZT8uZmlsdGVyKCgoZSxpKT0+e2lmKDA9PShlLnVzYWdlJnRoaXMucmVuZGVyZXJUZXh0dXJlVXNhZ2UpKXJldHVybiExO2lmKG51bGw9PXQpcmV0dXJuITA7Y29uc3Qgcz1OZShlLmVuY29kaW5ncyx0aGlzLnN1cHBvcnRlZFRleHR1cmVFbmNvZGluZ3MpLHI9dFtpXTtyZXR1cm4hIShudWxsPT1yPy5kYXRhfHxzJiZyLmVuY29kaW5nIT09cy5lbmNvZGluZyl9KSk/P1tdO3JldHVybiAwPT09ci5sZW5ndGg/UHJvbWlzZS5yZXNvbHZlKCExKTppKHIscykudGhlbigoaT0+e2xldCBzPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspczxpLmxlbmd0aCYmaVtzXS5pZD09PWVbcl0uaWQmJih0W3JdPWlbc10scysrKTtyZXR1cm4hMH0pKX1sb2FkQ2FjaGVkTm9kZURhdGEoZSx0LGkpe3JldHVybiB0aGlzLl9pZGJDYWNoZUVuYWJsZWQ/dGhpcy5faWRiQ2FjaGUuZ2V0KHRoaXMuX2dldENhY2hlS2V5KGUuaWQpLHQpLnRoZW4oKHM9Pm51bGw9PXM/bnVsbDpzLm5vZGVWZXJzaW9uIT09ZS52ZXJzaW9uPyh0aGlzLl9pZGJDYWNoZS5yZW1vdmUodGhpcy5fZ2V0Q2FjaGVLZXkoZS5pZCkpLG51bGwpOih0aGlzLmVsZXZhdGlvbkluZm8ubW9kZT09PUJ0LkFic29sdXRlJiYoZS5nZW9tZXRyeU9iYj1zLmdlb21ldHJ5T2JiKSx0aGlzLmxvYWRNaXNzaW5nVGV4dHVyZXMocy5yZXF1aXJlZFRleHR1cmVzLHMudGV4dHVyZURhdGEsaSx0KS50aGVuKChpPT4oaSYmdGhpcy5faWRiQ2FjaGUuaW5pdGlhbGl6ZWQmJm51bGwhPXMudGV4dHVyZURhdGEmJihzLmJ5dGVTaXplPVV0KHMudHJhbnNmb3JtZWRHZW9tZXRyeSxzLnRleHR1cmVEYXRhKSxzLnRleHR1cmVEYXRhLmV2ZXJ5KEh0KSYmR3QoZSxzKSYmdGhpcy5faWRiQ2FjaGUucHV0KHRoaXMuX2dldENhY2hlS2V5KGUuaWQpLHMpLmNhdGNoKCh0PT52dC53YXJuKGBGYWlsZWQgdG8gdXBkYXRlIG5vZGUgd2l0aCB0ZXh0dXJlcyBpbiBJbmRleGVkREIgY2FjaGU6ICR7ZS5pZH06ICR7dH1gKSkpKSxfKHQpLHMpKSkpKSk6UHJvbWlzZS5yZXNvbHZlKG51bGwpfWFkZE5vZGUoZSx0LGkpe3JldHVybiBQdCh0KT9udWxsPT10Lmdlb21ldHJ5QnVmZmVyPyh0aGlzLl9hZGROb2RlTWV0YShlLmluZGV4LG51bGwpLFByb21pc2UucmVzb2x2ZSgpKTp0aGlzLl9hZGREYXRhKGUsdC5hdHRyaWJ1dGVEYXRhSW5mbywoKCk9PnRoaXMuX3RyYW5zZm9ybU5vZGUoZSx0LGkpLnRoZW4oKHM9PnRoaXMuX3NhZmVSZXNjaGVkdWxlKCgoKT0+e2lmKG51bGw9PXMpcmV0dXJuIGUuaGFzTW9kaWZpY2F0aW9ucz0hMSx0aGlzLl9hZGRDYWNoZWROb2RlRGF0YShlLG51bGwsaSk7ZS5oYXNNb2RpZmljYXRpb25zPXMudHJhbnNmb3JtZWRHZW9tZXRyeS5oYXNNb2RpZmljYXRpb25zO2NvbnN0e29iYjpyLGNvbXBvbmVudE9mZnNldHM6byxmZWF0dXJlSWRzOmEsYW5jaG9ySWRzOm4sYW5jaG9yczpsLHRyYW5zZm9ybWVkR2VvbWV0cnk6ZH09cyxoPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXgsYz10aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSx1PUxlKGUubWJzLHRoaXMuZWxldmF0aW9uT2Zmc2V0LGgsYyksXz1kdChbci5jZW50ZXIueCxyLmNlbnRlci55LHIuY2VudGVyLnpdLFtyLmV4dGVudHMueCxyLmV4dGVudHMueSxyLmV4dGVudHMuel0sdyhyLm9yaWVudGF0aW9uLngsci5vcmllbnRhdGlvbi55LHIub3JpZW50YXRpb24ueixyLm9yaWVudGF0aW9uLncpKTtTKF8uY2VudGVyLF8uY2VudGVyLHUpLHRoaXMuZWxldmF0aW9uSW5mby5tb2RlPT09QnQuQWJzb2x1dGUmJihlLmdlb21ldHJ5T2JiPV8pLHQuZ2VvbWV0cnlEYXRhLmNvbXBvbmVudE9mZnNldHM9byxhJiYodC5nZW9tZXRyeURhdGEuZmVhdHVyZUlkcz1BcnJheS5mcm9tKGEpKSx0Lmdlb21ldHJ5RGF0YS5hbmNob3JJZHM9bix0Lmdlb21ldHJ5RGF0YS5hbmNob3JzPWw7Y29uc3QgbT17bm9kZVZlcnNpb246ZS52ZXJzaW9uLGdlb21ldHJ5RGF0YTp0Lmdlb21ldHJ5RGF0YSxyZXF1aXJlZFRleHR1cmVzOnQucmVxdWlyZWRUZXh0dXJlcyx0ZXh0dXJlRGF0YTp0LnRleHR1cmVEYXRhLHRyYW5zZm9ybWVkR2VvbWV0cnk6ZCxnbG9iYWxUcmFmbzp1LGdlb21ldHJ5T2JiOl8sYnl0ZVNpemU6VXQoZCx0LnRleHR1cmVEYXRhKX07aWYodGhpcy5faWRiQ2FjaGVFbmFibGVkJiZ0aGlzLl9pZGJDYWNoZS5pbml0aWFsaXplZCYmR3QoZSxtKSl7Y29uc3QgdD1udWxsIT1tLnRleHR1cmVEYXRhP20udGV4dHVyZURhdGEubWFwKChlPT5IdChlKT9lOm51bGwpKTpudWxsO3RoaXMuX2lkYkNhY2hlLnB1dCh0aGlzLl9nZXRDYWNoZUtleShlLmlkKSx7Li4ubSx0ZXh0dXJlRGF0YTp0fSkuY2F0Y2goKHQ9PnZ0Lndhcm4oYEZhaWxlZCB0byBzdG9yZSBub2RlIGluIEluZGV4ZWREQiBjYWNoZTogJHtlLmlkfTogJHt0fWApKSl9cmV0dXJuIHRoaXMuX2FkZENhY2hlZE5vZGVEYXRhKGUsbSxpKX0pLGkpKSkpKTpQcm9taXNlLnJlamVjdCgpfWdldEVsZXZhdGlvblJhbmdlKGUpe2xldCB0PTEvMCxpPS0xLzA7Y29uc3Qgcz1HKHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIHRoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goKHI9PntpZihudWxsIT1yPy5ub2RlLmdlb21ldHJ5T2JiKXtjb25zdCBvPXIubm9kZS5nZW9tZXRyeU9iYjtpZihodChvLGUpKXtjb25zdCBlPXRoaXMuX2NvbGxlY3Rpb24uZ2V0T2JqZWN0VHJhbnNmb3JtKHIub2JqZWN0SGFuZGxlKSxvPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuZ2V0QWx0aXR1ZGUoZS5wb3NpdGlvbik7Zm9yKGxldCBhPTA7YTxyLmZlYXR1cmVJZHMubGVuZ3RoO2ErKyl7Y29uc3QgZT10aGlzLl9jb2xsZWN0aW9uLmdldENvbXBvbmVudEFhYmIoci5vYmplY3RIYW5kbGUsYSx6dCk7aWYoXCJsb2NhbFwiPT09dGhpcy52aWV3LnZpZXdpbmdNb2RlKXQ9TWF0aC5taW4odCxvK2VbMl0pLGk9TWF0aC5tYXgoaSxvK2VbNV0pO2Vsc2V7dD1NYXRoLm1pbih0LG8rZVsyXSk7Y29uc3Qgcj1NYXRoLm1heChNYXRoLmFicyhlWzNdKSxNYXRoLmFicyhlWzBdKSksYT1NYXRoLm1heChNYXRoLmFicyhlWzRdKSxNYXRoLmFicyhlWzFdKSksbj1vK2VbNV0rcy5yYWRpdXM7aT1NYXRoLm1heChpLE1hdGguc3FydChyKnIrYSphK24qbiktcy5yYWRpdXMpfX19fX0pKSx7bWluOnQsbWF4Oml9fWNvbXB1dGVWaXNpYmlsaXR5T2JiKGUpe3JldHVybiAkZShlLHRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLHRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXgsdGhpcy5pM3NsYXllci5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuZWxldmF0aW9uT2Zmc2V0LHRoaXMuX21vZGlmaWNhdGlvbnMpfV90cmFuc2Zvcm1Ob2RlKGUsdCxpKXtjb25zdCBzPXQuZ2VvbWV0cnlEYXRhLmdlb21ldHJpZXM/P1tdLHI9bmV3IEFycmF5KHMubGVuZ3RoKTtmb3IobGV0IGY9MDtmPHMubGVuZ3RoOysrZilyW2ZdPXRoaXMuX2dldFZlcnRleEJ1ZmZlckxheW91dChzW2ZdLHQuZ2VvbWV0cnlEZXNjcmlwdG9yKTtjb25zdCBvPWUubWJzLGE9dGhpcy5lbGV2YXRpb25PZmZzZXQsbj10aGlzLl9jb250cm9sbGVyLmNyc0luZGV4LGw9dGhpcy5fY29udHJvbGxlci5jcnNWZXJ0ZXgsZD10aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSxoPWtlKG8sYSxuKSxjPUxlKG8sYSxuLGQpLHU9cShuLGwpLF89cShsLGQpO2lmKG51bGw9PXV8fG51bGw9PV8pcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdCBtPXRoaXMuaTNzbGF5ZXIubm9ybWFsUmVmZXJlbmNlRnJhbWUsZz10Lm5vcm1hbFJlZmVyZW5jZUZyYW1lPz9tPz9cIm5vbmVcIixwPXtjb250ZXh0OnRoaXMudWlkLGdlb21ldHJ5QnVmZmVyOnQuZ2VvbWV0cnlCdWZmZXIsZ2VvbWV0cnlEYXRhOnQuZ2VvbWV0cnlEYXRhLGdlb21ldHJ5RGVzY3JpcHRvcjp0Lmdlb21ldHJ5RGVzY3JpcHRvcixsYXlvdXRzOnIsbG9jYWxPcmlnaW46aCxnbG9iYWxUcmFmbzpjLG1iczpvLG9iYjplLnNlcnZpY2VPYmIsZWxldmF0aW9uT2Zmc2V0OmEsbmVlZE5vcm1hbHM6IXRoaXMuX2lzSW50ZWdyYXRlZE1lc2gmJnRoaXMuX2NvbnRyb2xsZXIuaXNNZXNoUHlyYW1pZCxub3JtYWxSZWZlcmVuY2VGcmFtZTpnLGluZGV4VG9WZXJ0ZXhQcm9qZWN0b3I6dSx2ZXJ0ZXhUb1JlbmRlclByb2plY3RvcjpffTtyZXR1cm4gdGhpcy5fd29ya2VyLmludm9rZShwLGkpfWdldCBfc3VwcG9ydHNOb2RlQ3Jvc3NGYWRpbmcoKXtyZXR1cm4hdGhpcy52aWV3Py5fc3RhZ2U/LnJlbmRlcmVyLnNoYWRvd3NFbmFibGVkfWdldCBub2RlQ3Jvc3NmYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3N1cHBvcnRzTm9kZUNyb3NzRmFkaW5nJiYodGhpcy5sb2RDcm9zc2ZhZGVpbkR1cmF0aW9uPjB8fHRoaXMubG9kQ3Jvc3NmYWRlb3V0RHVyYXRpb24+MHx8dGhpcy5sb2RDcm9zc2ZhZGVVbmNvdmVyZWREdXJhdGlvbj4wKX1nZXQgbm9kZUZhZGVvdXRFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3N1cHBvcnRzTm9kZUNyb3NzRmFkaW5nJiZ0aGlzLmxvZENyb3NzZmFkZW91dER1cmF0aW9uPjB9X3NldE5ld05vZGVPcGFjaXR5KGUpe2NvbnN0IHQ9dGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkPzA6dGhpcy5mdWxsT3BhY2l0eTt0aGlzLl9zZXROb2RlT3BhY2l0eShlLHQpfWFkZENhY2hlZEdQVURhdGEoZSx0LGkpe2lmKHRoaXMuZWxldmF0aW9uSW5mby5tb2RlPT09QnQuQWJzb2x1dGUmJihlLmdlb21ldHJ5T2JiPWN0KHRoaXMuX2NvbGxlY3Rpb24uZ2V0Q29tcG9uZW50T2JiKHQub2JqZWN0SGFuZGxlKSkpLCF0aGlzLl9jb250cm9sbGVyLmlzR2VvbWV0cnlWaXNpYmxlKGUpKXJldHVybiB2b2lkIHRoaXMuX2NhY2hlR1BVRGF0YSh0KTtudWxsIT10aGlzLl9sYWJlbGVyJiZ0aGlzLl9hZGRNZXRhVG9MYWJlbGVyKHRoaXMuX2xhYmVsZXIsdCk7Y29uc3Qgcz1lLmluZGV4O3RoaXMuX2FkZE5vZGVNZXRhKHMsdCksdGhpcy51cGRhdGVOb2RlU3RhdGUocyxpKSx0aGlzLl9jb2xsZWN0aW9uLnNldE9iamVjdFZpc2liaWxpdHkodC5vYmplY3RIYW5kbGUsbXQuVmlzaWJsZSksdGhpcy5fdXBkYXRlTWF0ZXJpYWwodCksdGhpcy5fc2V0TmV3Tm9kZU9wYWNpdHkodCksdGhpcy5lbGV2YXRpb25JbmZvLm1vZGUhPT1CdC5BYnNvbHV0ZSYmdGhpcy5fZW5zdXJlRWxldmF0aW9uVGFzaygpLnNjaGVkdWxlKHMpLHRoaXMuX3VwZGF0ZUVuZ2luZU9iamVjdCh0KSx0aGlzLl9oaWdobGlnaHRzLm9iamVjdENyZWF0ZWQodCksbnVsbCE9dGhpcy5fdHJlZURlYnVnZ2VyJiZ0aGlzLl90cmVlRGVidWdnZXIudXBkYXRlKCl9YWRkQ2FjaGVkTm9kZURhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2FkZERhdGEoZSxpLCgoKT0+dGhpcy5fYWRkQ2FjaGVkTm9kZURhdGEoZSx0LHMpKSl9YXN5bmMgZGVsZXRlQ2FjaGVkTm9kZURhdGEoZSl7aWYodGhpcy5faWRiQ2FjaGVFbmFibGVkKXJldHVybiB0aGlzLl9pZGJDYWNoZS5yZW1vdmUodGhpcy5fZ2V0Q2FjaGVLZXkoZSkpfWFzeW5jIF9hZGRDYWNoZWROb2RlRGF0YShlLHQsaSl7aWYoIXRoaXMuY29udGVudFZpc2libGV8fCF0aGlzLl9jb250cm9sbGVyLmlzR2VvbWV0cnlWaXNpYmxlKGUpKXJldHVybiB2b2lkIHRoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoZS5pbmRleCx0aGlzLmVsZXZhdGlvbk9mZnNldCx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZyk7aWYobnVsbD09dClyZXR1cm4gdm9pZCB0aGlzLl9hZGROb2RlTWV0YShlLmluZGV4LG51bGwpO2NvbnN0IHM9dGhpcy5fYWRkVGFza3MuZ2V0KGUuaW5kZXgpLHtnZW9tZXRyeURhdGE6cix0cmFuc2Zvcm1lZEdlb21ldHJ5Om8sZ2xvYmFsVHJhZm86YX09dDthd2FpdCB0aGlzLmkzc092ZXJyaWRlcy5hcHBseUF0dHJpYnV0ZU92ZXJyaWRlcyhyLmZlYXR1cmVJZHMscy5hdHRyaWJ1dGVJbmZvLGksdGhpcy5fY29udHJvbGxlci5yZXF1aXJlZEF0dHJpYnV0ZXMpO2NvbnN0IG49bnVsbCE9dC50ZXh0dXJlRGF0YT90LnRleHR1cmVEYXRhLmZpbHRlcigoZT0+bnVsbCE9ZSYmMCE9KGUudXNhZ2UmdGhpcy5yZW5kZXJlclRleHR1cmVVc2FnZSkpKTpbXTshaGFzKFwiZGlzYWJsZS1mZWF0dXJlOmkzcy1iYXNpc1wiKSYmbi5zb21lKChlPT5udWxsIT1lJiYoZS5lbmNvZGluZz09PXhlLkJhc2lzfHxlLmVuY29kaW5nPT09eGUuS1RYMikpKSYmYXdhaXQgZnQoKSxlLm1lbW9yeT0wO2NvbnN0e2NvbXBvbmVudE9mZnNldHM6bCxnZW9tZXRyaWVzOmQsZmVhdHVyZUlkczpoLGFuY2hvcklkczpjLGFuY2hvcnM6dX09cixfPXRoaXMuX2NvbGxlY3Rpb24sbT1kWzBdLHtsYXlvdXQ6ZyxpbmRpY2VzOnAsaW50ZXJsZWF2ZWRWZXJ0ZXhEYXRhOmYscG9zaXRpb25EYXRhOmIsaGFzQ29sb3JzOnl9PW8sdj10aGlzLl9tYXRlcmlhbFBhcmFtZXRlcnMobSxnKSxJPWx8fG5ldyBVaW50MzJBcnJheShbMCxwP3AubGVuZ3RoOmYuYnl0ZUxlbmd0aC9nWzBdLnN0cmlkZV0pLHc9e3ZlcnRpY2VzOntkYXRhOmYsY291bnQ6Zi5ieXRlTGVuZ3RoL2dbMF0uc3RyaWRlLGxheW91dFBhcmFtZXRlcnM6di5nZW9tZXRyeVBhcmFtc30scG9zaXRpb25EYXRhOntwb3NpdGlvbnM6WihiLmRhdGEpLGluZGljZXM6ZWUoYi5pbmRpY2VzKX0saW5kaWNlczpwLGNvbXBvbmVudE9mZnNldHM6SX0sUz1tLnRyYW5zZm9ybWF0aW9uP0UobS50cmFuc2Zvcm1hdGlvbik6aigpO08oUyxhLFMpO2NvbnN0IEE9eChWKCksUyksVD1NKEMoKSxTKSxEPXRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLFI9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnNwYXRpYWxSZWZlcmVuY2UsTj1WKCksRj1bMSwxLDFdO0woQSxELEYsUil8fHZ0LmVycm9yT25jZShcIlVuc3VwcG9ydGVkIGNvb3JkaW5hdGUgc3lzdGVtIGZvciBJTSBvdmVybGF5XCIpLHooQSxELE4sUik7Y29uc3QgUD1fLmNyZWF0ZU9iamVjdCh7dG9NYXBTcGFjZTpIKE5bMF0sTlsxXSxGWzBdLEZbMV0pLGdlb21ldHJ5Oncsb2JiOnQuZ2VvbWV0cnlPYmIsdHJhbnNmb3JtOntwb3NpdGlvbjpBLHJvdGF0aW9uU2NhbGU6VH19KSxVPXYuZ2VvbWV0cnlQYXJhbXMudGV4dHVyZUNvb3JkaW5hdGVzPT09cHQuQXRsYXMse3RleHR1cmVzOkcsdGV4dHVyZVByb21pc2U6a309dGhpcy5faW5pdE1hdGVyaWFsQW5kVGV4dHVyZXMoUCx2Lm1hdGVyaWFsLG4sVSk7ZS5tZW1vcnkrPXRoaXMuX21lbUVzdGltYXRlR2VvbWV0cnlBZGRlZChQKSxlLm1lbW9yeSs9Ry5yZWR1Y2UoKChlLHQpPT5lKyhudWxsIT10P3RoaXMuX21lbUVzdGltYXRlVGV4dHVyZUFkZGVkKHQpOjApKSwwKTtjb25zdCBCPSEhdi5tYXRlcmlhbC5oYXNQYXJhbWV0ZXJzRnJvbVNvdXJjZSxxPVwiYmxlbmRcIiE9PXYubWF0ZXJpYWwuYWxwaGFNb2RlJiZ2Lm1hdGVyaWFsLm1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvclszXT49MSxLPW5ldyBNdChlLGgsUCx0aGlzLl9nZXRJbnZhbGlkUmVuZGVyZXJWZXJzaW9uKCkscy5hdHRyaWJ1dGVJbmZvLHtoYXNQYXJhbWV0ZXJzRnJvbVNvdXJjZTpCLGlzT3BhcXVlOnF9LEcsYyx1KTtzLm1ldGE9SywhdGhpcy5faGFzVGV4dHVyZXMmJnQucmVxdWlyZWRUZXh0dXJlcz8uc29tZSgoKHt1c2FnZTplfSk9PjAhPShlJk9lLkNvbG9yVGV4dHVyZXMpKSkmJih0aGlzLl9oYXNUZXh0dXJlcz0hMCksdGhpcy5faGFzRGF0YT0hMCx0aGlzLl9oYXNDb2xvcnM9dGhpcy5faGFzQ29sb3JzfHx5LHRoaXMuX2hhc1RleHR1cmVzPXRoaXMuX2hhc1RleHR1cmVzfHwhIWUucmVzb3VyY2VzLnRleHR1cmUsdGhpcy5ub3RpZnlDaGFuZ2UoXCJoYXNUZXh0dXJlc09yVmVydGV4Q29sb3JzXCIpO2NvbnN0IFc9dGhpcy5zbGljZVBsYW5lRW5hYmxlZDtyZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhLKSxrXSkudGhlbigoKFt0LHNdKT0+KG51bGwhPXQmJnQudXBkYXRlT2JqZWN0VmlzaWJpbGl0eShLLm9iamVjdEhhbmRsZSwhMSkuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSx0aGlzLl9zYWZlUmVzY2hlZHVsZSgoKCk9Pntjb25zdCBpPXRoaXMuX2FkZFRhc2tzLmdldChlLmluZGV4KTtpZighaSlyZXR1cm47aWYodGhpcy5fYWRkTm9kZU1ldGEoZS5pbmRleCxLKSxpLm1ldGE9bnVsbCwhdGhpcy5jb250ZW50VmlzaWJsZSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUuaW5kZXgsdGhpcy5lbGV2YXRpb25PZmZzZXQpO18uc2V0T2JqZWN0VmlzaWJpbGl0eShQLG10LlZpc2libGUpLG51bGwhPXQmJnQudXBkYXRlT2JqZWN0VmlzaWJpbGl0eShLLm9iamVjdEhhbmRsZSwhMCkuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSxLLmF0dHJpYnV0ZUluZm89aS5hdHRyaWJ1dGVJbmZvO2NvbnN0IHM9Sy5jYWNoZWRSZW5kZXJlclZlcnNpb24hPT10aGlzLl9yZW5kZXJlclZlcnNpb24scj1XIT09dGhpcy5zbGljZVBsYW5lRW5hYmxlZDt0aGlzLl91cGRhdGVFbGV2YXRpb25PZmZzZXRzKEspO2NvbnN0IG89Sy5lbGV2YXRpb25PZmZzZXRzO3RoaXMuX3VwZGF0ZUNvbXBvbmVudERhdGEoSyk7Y29uc3QgYT10aGlzLl9hcHBseUZpbHRlcnNUb05vZGUoSyk7KHN8fG51bGwhPXQmJihyfHxhfHxvKSkmJnRoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhLKSxudWxsIT10aGlzLl9sYWJlbGVyJiZ0aGlzLl9hZGRNZXRhVG9MYWJlbGVyKHRoaXMuX2xhYmVsZXIsSyksdGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZChLLHd0LkFERCksdGhpcy5faGlnaGxpZ2h0cy5vYmplY3RDcmVhdGVkKEspLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKEspLHRoaXMuX3NldE5ld05vZGVPcGFjaXR5KEspLG51bGwhPXRoaXMuX3RyZWVEZWJ1Z2dlciYmdGhpcy5fdHJlZURlYnVnZ2VyLnVwZGF0ZSgpfSksaSkpKSkuY2F0Y2goKGU9Pnt0aHJvdyBudWxsIT1zLm1ldGEmJih0aGlzLl9jYWNoZUdQVURhdGEocy5tZXRhKSxzLm1ldGE9bnVsbCksZX0pKX1fYWRkTm9kZU1ldGEoZSx0KXtpZih0aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUsdGhpcy5lbGV2YXRpb25PZmZzZXQsdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcpLHRoaXMuX25vZGVJZDJNZXRhLmhhcyhlKSl7dnQuZXJyb3IoXCJSZW1vdmluZyBkdXBsaWNhdGVkIG5vZGVcIik7Y29uc3QgdD10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7bnVsbCE9dCYmdGhpcy5fZGVsZXRlQ29tcG9uZW50T2JqZWN0KHQpfWVsc2UgdGhpcy5fY29udHJvbGxlci51cGRhdGVMb2FkU3RhdHVzKGUsITApO251bGwhPXQmJih0LmxvZENyb3NzZmFkZVByb2dyZXNzPW51bGwsdGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkJiZrdCh0LmNhY2hlZEVkZ2VNYXRlcmlhbHMsMCkpLHRoaXMuX25vZGVJZDJNZXRhLnNldChlLHQpLHRoaXMubm90aWZ5Q2hhbmdlKFwiZWxldmF0aW9uUmFuZ2VcIil9X3VwZGF0ZUVsZXZhdGlvbk9mZnNldHMoZSl7Y29uc3QgdD10aGlzLnZpZXcucmVuZGVyU3BhdGlhbFJlZmVyZW5jZSxpPXRoaXMuX2NvbnRyb2xsZXIuY3JzSW5kZXgscz10aGlzLmVsZXZhdGlvbkluZm8scj10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4sbz1yLnNwYXRpYWxSZWZlcmVuY2UsYT1zLm1vZGU7aWYobnVsbD09dHx8bnVsbD09b3x8YT09PUJ0LkFic29sdXRlKXJldHVybiB2b2lkKGUuZWxldmF0aW9uT2Zmc2V0cz1udWxsKTtjb25zdCBuPXRoaXMuX2NvbGxlY3Rpb24uZ2V0T2JqZWN0VHJhbnNmb3JtKGUub2JqZWN0SGFuZGxlKTtlLmVsZXZhdGlvbk9mZnNldHM9ZS5lbGV2YXRpb25PZmZzZXRzPz9bXTtjb25zdCBsPXF0LGQ9enQsaD1hPT09QnQuT25UaGVHcm91bmQsYz10aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLHU9ZS5mZWF0dXJlSWRzLmxlbmd0aCxfPSgoKT0+e2lmKGUuY2FjaGVkRWxldmF0aW9uQW5jaG9ycylyZXR1cm4gZS5jYWNoZWRFbGV2YXRpb25BbmNob3JzO2NvbnN0IHM9SigzKnUpO2UuY2FjaGVkRWxldmF0aW9uQW5jaG9ycz1zO2ZvcihsZXQgcj0wO3I8dTtyKyspe2NvbnN0IGE9MypyLGg9ZS5hbmNob3JJZHM/LmluZGV4T2Yocik/Py0xO2UuYW5jaG9ycyYmaD49MD8oQShsLGUuYW5jaG9yc1szKmhdLGUuYW5jaG9yc1szKmgrMV0sZS5hbmNob3JzWzMqaCsyXSksVChsLGwsZS5ub2RlLm1icykseihsLGksbCxvKSxzW2FdPWxbMF0sc1thKzFdPWxbMV0sc1thKzJdPWMuZ2V0QWx0aXR1ZGUobCkpOih0aGlzLl9jb2xsZWN0aW9uLmdldENvbXBvbmVudEFhYmIoZS5vYmplY3RIYW5kbGUscixkLCEwKSxBKGwsKGRbMF0rZFszXSkvMiwoZFsxXStkWzRdKS8yLGRbMl0pLEQobCxsLG4ucm90YXRpb25TY2FsZSksVChsLGwsbi5wb3NpdGlvbiksc1thKzJdPWMuZ2V0QWx0aXR1ZGUobCkseihsLHQsbCxvKSxzW2FdPWxbMF0sc1thKzFdPWxbMV0pfXJldHVybiBzfSkoKSxtPXMub2Zmc2V0LGc9ZS5lbGV2YXRpb25PZmZzZXRzLHA9KGUsdCk9Pntjb25zdCBpPWg/X1szKmUrMl06MDtnW2VdPW0rKG51bGwhPXQ/dC1pOjApfTtyLmdldEVsZXZhdGlvbnMoXyx1LHApfV9lbnN1cmVFbGV2YXRpb25UYXNrKCl7cmV0dXJuIG51bGwhPXRoaXMuX2VsZXZhdGlvblRhc2t8fCh0aGlzLl9lbGV2YXRpb25UYXNrPW5ldyBqZSh0aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlciwoZT0+e2NvbnN0IHQ9dGhpcy5fY29udHJvbGxlci51cGRhdGVFbGV2YXRpb25DaGFuZ2VkKGUsdGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBudWxsIT10P3QuZmlsdGVySW5QbGFjZSgoZT0+bnVsbCE9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpKSk6bnVsbH0pLChlPT57Y29uc3QgdD10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7dGhpcy5fbm9kZUVsZXZhdGlvbkFsaWdubWVudENoYW5nZWQodCl9KSkpLHRoaXMuX2VsZXZhdGlvblRhc2t9X2VsZXZhdGlvbkluZm9DaGFuZ2VkKGUsdCl7Y29uc3QgaT1lLm1vZGUhPT1CdC5BYnNvbHV0ZSxzPSEhdCYmdCE9PWUmJnQubW9kZSE9PUJ0LkFic29sdXRlO3RoaXMuX2ludGVyc2VjdGlvbkhhbmRsZXIudXBkYXRlRWxldmF0aW9uQWxpZ25TdGF0ZShpLHRoaXMudmlldy5zdGF0ZS52aWV3aW5nTW9kZSksaSYmIXMmJnRoaXMuX2NvbnRyb2xsZXIucmVtb3ZlQWxsR2VvbWV0cnlPYmJzKCksdGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoZT0+dGhpcy5fbm9kZUVsZXZhdGlvbkFsaWdubWVudENoYW5nZWQoZSkpKX1fbm9kZUVsZXZhdGlvbkFsaWdubWVudENoYW5nZWQoZSl7bnVsbCE9ZSYmKHRoaXMuX3VwZGF0ZUVsZXZhdGlvbk9mZnNldHMoZSksdGhpcy5fdXBkYXRlQ29tcG9uZW50RGF0YShlKSx0aGlzLl91cGRhdGVFZGdlUmVuZGVyaW5nKGUpLG51bGwhPXRoaXMuX2xhYmVsZXImJnRoaXMuX2xhYmVsZXIudXBkYXRlTGFiZWxQb3NpdGlvbnMoZSksdGhpcy5fdXBkYXRlU25hcHBpbmdTb3VyY2VzKGUsd3QuVVBEQVRFKSl9X3NhZmVSZXNjaGVkdWxlKGUsdCl7cmV0dXJuIF8odCksdGhpcy5fY29udHJvbGxlci5yZXNjaGVkdWxlKGUsdCl9X21hdGVyaWFsUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9bnVsbCE9ZS5wYXJhbXMubWF0ZXJpYWw/ZS5wYXJhbXMubWF0ZXJpYWw6RmUoKSxzPXQuc29tZSgoZT0+XCJ1dlJlZ2lvblwiPT09ZS5uYW1lKSkscj10LnNvbWUoKGU9Plwibm9ybWFsQ29tcHJlc3NlZFwiPT09ZS5uYW1lKSksbz1WdChpKTtyZXR1cm57Z2VvbWV0cnlQYXJhbXM6dGhpcy5fZ2V0R2VvbWV0cnlQYXJhbWV0ZXJzKHtoYXNUZXh0dXJlOm8saGFzTm9ybWFsczpyLGhhc1JlZ2lvbnM6c30pLG1hdGVyaWFsOml9fV9pbml0TWF0ZXJpYWxBbmRUZXh0dXJlcyhlLHQsaSxzKXtjb25zdCByPXRoaXMuX3N0YWdlLnJlbmRlclZpZXcsbz1pLm1hcCgoZT0+VmUoZSx0LHMscikpKTt0aGlzLl9zdGFnZS5hZGRNYW55KG8pO2xldCBhPW51bGw7cmV0dXJuIHRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwoZSwoZT0+e2E9UGUoZSx0LG8saSx0aGlzLnZpZXcuX3N0YWdlLnJlbmRlclZpZXcudGV4dHVyZVJlcG9zaXRvcnkse3JlbmRlcmVyVGV4dHVyZVVzYWdlOnRoaXMucmVuZGVyZXJUZXh0dXJlVXNhZ2UsdXNlUEJSOnRoaXMuX3VzZVBCUixpc0ludGVncmF0ZWRNZXNoOnRoaXMuX2lzSW50ZWdyYXRlZE1lc2gsc2xpY2VQbGFuZUVuYWJsZWQ6dGhpcy5zbGljZVBsYW5lRW5hYmxlZCx2aWV3U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX0pLHRoaXMuX3VwZGF0ZU1hdGVyaWFsT3ZlcmxheShlKX0pKSx7dGV4dHVyZXM6byx0ZXh0dXJlUHJvbWlzZTphfX1fZ2V0R2VvbWV0cnlQYXJhbWV0ZXJzKGUpe3JldHVybnt0ZXh0dXJlQ29vcmRpbmF0ZXM6ZS5oYXNUZXh0dXJlP2UuaGFzUmVnaW9ucz9wdC5BdGxhczpwdC5EZWZhdWx0OnB0Lk5vbmUsY29sb3JzOnRoaXMuX2hhc1ZlcnRleENvbG9ycyxub3JtYWxzOmUuaGFzTm9ybWFscyYmIXRoaXMuX2lzSW50ZWdyYXRlZE1lc2h9fV9hZGREYXRhKGUsdCxpKXtsZXQgcz10aGlzLl9hZGRUYXNrcy5nZXQoZS5pbmRleCk7cmV0dXJuIHM/cy5hdHRyaWJ1dGVJbmZvPXQ6KHM9ey4uLm0oKSxhdHRyaWJ1dGVJbmZvOnQsbWV0YTpudWxsfSx0aGlzLl9hZGRUYXNrcy5zZXQoZS5pbmRleCxzKSxpKCkudGhlbihzLnJlc29sdmUscy5yZWplY3QpLnRoZW4oKCgpPT50aGlzLl9hZGRUYXNrcy5kZWxldGUoZS5pbmRleCkpKS5jYXRjaCgodD0+e3Rocm93IHRoaXMuX2FkZFRhc2tzLmRlbGV0ZShlLmluZGV4KSx0fSkpKSxzLnByb21pc2V9X2NsZWFyQWRkVGFza3MoKXt0aGlzLl9hZGRUYXNrcy5mb3JFYWNoKChlPT57bnVsbCE9ZS5tZXRhJiYodGhpcy5fY2FjaGVHUFVEYXRhKGUubWV0YSksZS5tZXRhPW51bGwpfSkpLHRoaXMuX2FkZFRhc2tzLmNsZWFyKCl9X2NsaXBwaW5nQXJlYUNoYW5nZWQoKXtjb25zdCBlPXRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlLHQ9dGhpcy5pM3NsYXllci5zcGF0aWFsUmVmZXJlbmNlLGk9WCgpO3RoaXMuX3JlbmRlckNsaXBwaW5nQXJlYT1sdCh0aGlzLnZpZXcuY2xpcHBpbmdBcmVhLGksZSk/aTpudWxsO2NvbnN0IHM9WCgpO3RoaXMuX2xheWVyQ2xpcHBpbmdBcmVhPWx0KHRoaXMudmlldy5jbGlwcGluZ0FyZWEscyx0KT9zOm51bGwsdGhpcy5fZmlsdGVyQ2hhbmdlKCksdGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci51cGRhdGVDbGlwcGluZ0FyZWEodGhpcy52aWV3LmNsaXBwaW5nQXJlYSksdGhpcy5faXNJbnRlZ3JhdGVkTWVzaCYmdGhpcy5fbW9kaWZpY2F0aW9uc0NoYW5nZWQoKX1nZXQgaGFzR2VvbWV0cnlGaWx0ZXIoKXtyZXR1cm4hMX1fZ2VvbWV0cnlGaWx0ZXJDaGFuZ2UoKXtjb25zdCBlPXRoaXMuaGFzR2VvbWV0cnlGaWx0ZXI7dGhpcy5fY29udHJvbGxlci5nZW9tZXRyeUZpbHRlckNoYW5nZWQoZSksdGhpcy5fYXBwbHlGaWx0ZXJzKGUpfV9maWx0ZXJDaGFuZ2UoKXt0aGlzLl9hcHBseUZpbHRlcnModGhpcy5oYXNHZW9tZXRyeUZpbHRlcil9X2FwcGx5RmlsdGVycyhlKXt0aGlzLl9maWx0ZXJzPXRoaXMuZ2V0RmlsdGVycygpLGU/dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5yZXF1ZXN0VXBkYXRlKCk6dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoZT0+e251bGwhPWUmJnRoaXMuX2FwcGx5RmlsdGVyc1RvTm9kZShlKSYmKHRoaXMuX2FkZE9yVXBkYXRlRWRnZVJlbmRlcmluZyhlKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkKGUsd3QuVVBEQVRFKSl9KSl9Z2V0RmlsdGVycygpe2NvbnN0IGU9W10sdD10aGlzLl9yZW5kZXJDbGlwcGluZ0FyZWE7cmV0dXJuIG51bGwhPXQmJmUucHVzaCgoKGUsaSk9PnRoaXMuX2JvdW5kaW5nUmVjdEZpbHRlcihlLGksdCkpKSxlfWFkZFNxbEZpbHRlcihlLHQsaSl7aWYobnVsbCE9dCl7Y29uc3Qgcz10LmZpZWxkTmFtZXM7ZS5wdXNoKCgoZSxyKT0+dGhpcy5fc3FsRmlsdGVyKGUscix0LHMsaSkpKX19X3NxbEZpbHRlcihlLHQsaSxzLHIpe2NvbnN0IG89e30sYT10aGlzLl9jcmVhdGVMYXllckdyYXBoaWMobyksbj10aGlzLmkzc2xheWVyLm9iamVjdElkRmllbGQsbD10LmZlYXR1cmVJZHMsZD10LmF0dHJpYnV0ZUluZm8/LmF0dHJpYnV0ZURhdGE7cy5ldmVyeSgoZT0+ZT09PW58fG51bGwhPWQ/LltlXSkpJiZRZShlLGwsKGU9PntvW25dPWxbZV07Zm9yKGNvbnN0IGkgb2YgcylpIT09biYmKG9baV09ZD9YZShkW2ldLGUpOm51bGwpO3RyeXtyZXR1cm4gaS50ZXN0RmVhdHVyZShhKX1jYXRjaCh0KXtyZXR1cm4gcih0KSwhMX19KSl9X2JvdW5kaW5nUmVjdE5vZGVUZXN0KGUsdCl7cmV0dXJuIGsoZS5ub2RlLm1icyx0aGlzLl9jb250cm9sbGVyLmNyc0luZGV4LEZ0LHRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlKSxZZSh0LEZ0KX1fYm91bmRpbmdSZWN0RmVhdHVyZVRlc3QoZSx0LGkpe3JldHVybiB0aGlzLl9jb2xsZWN0aW9uLmdldENvbXBvbmVudEFhYmIoZS5vYmplY3RIYW5kbGUsdCxTdCksUShTdCxBdCksWShpLEF0KX1fYm91bmRpbmdSZWN0RmlsdGVyKGUsdCxpKXtjb25zdCBzPXRoaXMuX2NvbGxlY3Rpb24scj10aGlzLl9ib3VuZGluZ1JlY3ROb2RlVGVzdCh0LGkpO2lmKHI9PT1KZS5JTlNJREUpcmV0dXJuO2lmKHI9PT1KZS5PVVRTSURFKXJldHVybiB2b2lkKGUubGVuZ3RoPTApO2NvbnN0IG89cy5nZXRDb21wb25lbnRDb3VudCh0Lm9iamVjdEhhbmRsZSk7aWYoby5pbnZpc2libGUrby52aXNpYmxlIT09dC5mZWF0dXJlSWRzLmxlbmd0aClyZXR1cm47Y29uc3QgYT10aGlzLl90cmFuc2Zvcm1DbGlwcGluZ0FyZWEoVHQsaSx0Lm9iamVjdEhhbmRsZSk7UWUoZSx0LmZlYXR1cmVJZHMsKGU9PnRoaXMuX2JvdW5kaW5nUmVjdEZlYXR1cmVUZXN0KHQsZSxhKSkpfV90cmFuc2Zvcm1DbGlwcGluZ0FyZWEoZSx0LGkpe2NvbnN0IHM9dGhpcy5fY29sbGVjdGlvbi5nZXRPYmplY3RUcmFuc2Zvcm0oaSkscj1zLnBvc2l0aW9uLG89cy5yb3RhdGlvblNjYWxlO3JldHVybiBlWzBdPSh0WzBdLXJbMF0pL29bMF0sZVsxXT0odFsxXS1yWzFdKS9vWzRdLGVbMl09KHRbMl0tclswXSkvb1swXSxlWzNdPSh0WzNdLXJbMV0pL29bNF0sZX1fYWRkT3JVcGRhdGVFZGdlUmVuZGVyaW5nKGUsdD0hMCl7Y29uc3QgaT10aGlzLl9lZGdlVmlldztpZihudWxsPT1pKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7Y29uc3Qgcz1lLm9iamVjdEhhbmRsZSxyPWkuaGFzT2JqZWN0KHMpLHtoYXNFZGdlczpvLHBlckZlYXR1cmVFZGdlTWF0ZXJpYWxzOmF9PXRoaXMuX2dldEZpbHRlcmVkRWRnZU1hdGVyaWFscyhlKSxuPXtoYXNTbGljZVBsYW5lOnRoaXMuc2xpY2VQbGFuZUVuYWJsZWR9O2lmKG8mJnIpe2lmKHRoaXMubm9kZUNyb3NzZmFkaW5nRW5hYmxlZCl7a3QoYSx0aGlzLmdldE5vZGVPcGFjaXR5KGUpKX1yZXR1cm4gaS51cGRhdGVBbGxDb21wb25lbnRNYXRlcmlhbHMocyxhLG4sdCkuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSxpLnVwZGF0ZU9iamVjdFZpc2liaWxpdHkocywhMCkuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSxpLnVwZGF0ZUFsbFZlcnRpY2FsT2Zmc2V0cyhzLGUuZWxldmF0aW9uT2Zmc2V0cykuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSxQcm9taXNlLnJlc29sdmUoaSl9cmV0dXJuIG8mJiFyP3RoaXMuX2NvbGxlY3Rpb24uYWRkRWRnZXMocyxpLGEsbikudGhlbigodD0+KGUuZWRnZU1lbW9yeVVzYWdlPXQsZS5ub2RlLm1lbW9yeSs9dCxpLnVwZGF0ZUFsbFZlcnRpY2FsT2Zmc2V0cyhzLGUuZWxldmF0aW9uT2Zmc2V0cykuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSxpKSkpOighbyYmciYmKGUubm9kZS5tZW1vcnktPWUuZWRnZU1lbW9yeVVzYWdlLGUuZWRnZU1lbW9yeVVzYWdlPTAsaS5yZW1vdmVPYmplY3QocykpLFByb21pc2UucmVzb2x2ZShudWxsKSl9X2FwcGx5RmlsdGVyc1RvTm9kZShlKXtyZXR1cm4hIXRoaXMuX2FwcGx5RmlsdGVyc1RvTm9kZUNvbXBvbmVudHMoZSkmJihudWxsIT10aGlzLl9sYWJlbGVyJiZ0aGlzLl9sYWJlbGVyLmFwcGx5RmlsdGVyQ2hhbmdlKGUpLCEwKX1fYXBwbHlGaWx0ZXJzVG9Ob2RlQ29tcG9uZW50cyhlKXtjb25zdCB0PXRoaXMuX2NvbGxlY3Rpb24saT10LmdldENvbXBvbmVudENvdW50KGUub2JqZWN0SGFuZGxlKSxzPW51bGwhPWUuZmlsdGVyZWRJZHMscj0wPT09aS5pbnZpc2libGU7aWYodC5zZXRBbGxDb21wb25lbnRWaXNpYmlsaXRpZXMoZS5vYmplY3RIYW5kbGUsXCJhbGxcIiksMD09PXRoaXMuX2ZpbHRlcnMubGVuZ3RoKXJldHVybiBlLmZpbHRlcmVkSWRzPW51bGwsIXI7aWYodGhpcy5fdXBkYXRlQ2FjaGVkRmlsdGVyZWRJZHMoZSkscyYmZS5maWx0ZXJlZElkcz09PWUuZmVhdHVyZUlkcylyZXR1cm4hcjtjb25zdCBvPXRoaXMuX2NvbXB1dGVGaWx0ZXJlZENvbXBvbmVudEluZGljZXMoZSk7cmV0dXJuIHQuc2V0QWxsQ29tcG9uZW50VmlzaWJpbGl0aWVzKGUub2JqZWN0SGFuZGxlLG8pLCEwfV91cGRhdGVDYWNoZWRGaWx0ZXJlZElkcyhlKXtudWxsIT1lLmZpbHRlcmVkSWRzJiZlLmFwcGxpZWRGaWx0ZXJzPT09dGhpcy5fZmlsdGVyc3x8KGUuZmlsdGVyZWRJZHM9dGhpcy5fY29tcHV0ZUZpbHRlcmVkSWRzKGUpLGUuYXBwbGllZEZpbHRlcnM9dGhpcy5fZmlsdGVycyl9X2NvbXB1dGVGaWx0ZXJlZElkcyhlKXtjb25zdCB0PWUuZmVhdHVyZUlkcy5zbGljZSgpO2Zvcihjb25zdCBpIG9mIHRoaXMuX2ZpbHRlcnMpaWYoaSh0LGUpLDA9PT10Lmxlbmd0aClicmVhaztyZXR1cm4gdC5sZW5ndGg9PT1lLmZlYXR1cmVJZHMubGVuZ3RoP2UuZmVhdHVyZUlkczp0fV9jb21wdXRlRmlsdGVyZWRDb21wb25lbnRJbmRpY2VzKGUpe2NvbnN0IHQ9bmV3IEFycmF5LGk9ZS5maWx0ZXJlZElkcztyZXR1cm4gbnVsbCE9aSYmZS5mZWF0dXJlSWRzLmZvckVhY2goKChlLHMpPT57aVt0Lmxlbmd0aF09PT1lJiZ0LnB1c2gocyl9KSksdH1fcmVtb3ZlQWxsTm9kZURhdGFGcm9tU3RhZ2UoZT10aGlzLmVsZXZhdGlvbk9mZnNldCl7dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoKHQsaSk9PnRoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoaSxlKSkpLHRoaXMuX25vZGVJZDJNZXRhUmVsb2FkaW5nLmZvckVhY2goKCh0LGkpPT50aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGksZSx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZykpKSx0aGlzLl9lbGV2YXRpb25UYXNrPWgodGhpcy5fZWxldmF0aW9uVGFzayl9cmVtb3ZlTm9kZShlKXtjb25zdCB0PXRoaXMuZWxldmF0aW9uT2Zmc2V0O3RoaXMuX3JlbW92ZU5vZGVTdGFnZURhdGEoZSx0KSx0aGlzLl9yZW1vdmVOb2RlU3RhZ2VEYXRhKGUsdCx0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZyksbnVsbCE9dGhpcy5fZWxldmF0aW9uVGFzayYmdGhpcy5fZWxldmF0aW9uVGFzay5yZW1vdmUoZSl9X3JlbW92ZU5vZGVTdGFnZURhdGEoZSx0LGk9dGhpcy5fbm9kZUlkMk1ldGEpe2kuaGFzKGUpJiZ0aGlzLl9jb250cm9sbGVyLnVwZGF0ZUxvYWRTdGF0dXMoZSwhMSk7Y29uc3Qgcz1pLmdldChlKTtudWxsIT1zPyh0aGlzLl9jb2xsZWN0aW9uLnNldE9iamVjdFZpc2liaWxpdHkocy5vYmplY3RIYW5kbGUsbXQuSGlkZGVuKSxudWxsIT10aGlzLl9lZGdlVmlldyYmdGhpcy5fZWRnZVZpZXcuaGFzT2JqZWN0KHMub2JqZWN0SGFuZGxlKSYmdGhpcy5fZWRnZVZpZXcudXBkYXRlT2JqZWN0VmlzaWJpbGl0eShzLm9iamVjdEhhbmRsZSwhMSkuY2F0Y2goKGU9Pmp0KGUsdGhpcy5pM3NsYXllci50aXRsZSkpKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkKHMsd3QuUkVNT1ZFKSxudWxsIT10aGlzLl9sYWJlbGVyJiZ0aGlzLl9sYWJlbGVyLnJlbW92ZU5vZGVNZXRhKHMpLGkuZGVsZXRlKGUpLHRoaXMuX2hpZ2hsaWdodHMub2JqZWN0RGVsZXRlZChzKSxpPT09dGhpcy5fbm9kZUlkMk1ldGE/KHRoaXMuX2NhY2hlR1BVRGF0YShzLHQpLHRoaXMubm9kZUNyb3NzZmFkaW5nRW5hYmxlZCYmdGhpcy5fY3Jvc3NmYWRlSGVscGVyLnN0b3BOb2RlRmFkaW5nKHMpKTp0aGlzLl9kZWxldGVDb21wb25lbnRPYmplY3QocyksbnVsbCE9dGhpcy5fdHJlZURlYnVnZ2VyJiZ0aGlzLl90cmVlRGVidWdnZXIudXBkYXRlKCkpOmkuZGVsZXRlKGUpfV9kZWxldGVDb21wb25lbnRPYmplY3QoZSl7aWYobnVsbCE9dGhpcy5fZWRnZVZpZXcmJnRoaXMuX2VkZ2VWaWV3LnJlbW92ZU9iamVjdChlLm9iamVjdEhhbmRsZSksdGhpcy5fbWVtRXN0aW1hdGVHZW9tZXRyeVJlbW92ZWQoZS5vYmplY3RIYW5kbGUpLHRoaXMuX2NvbGxlY3Rpb24uZGVzdHJveU9iamVjdChlLm9iamVjdEhhbmRsZSksZS50ZXh0dXJlcylmb3IoY29uc3QgdCBvZiBlLnRleHR1cmVzKXRoaXMuX21lbUVzdGltYXRlVGV4dHVyZVJlbW92ZWQodCksdGhpcy5fc3RhZ2UucmVtb3ZlKHQpfXVwZGF0ZU5vZGVTdGF0ZShlLHQpe2NvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpO251bGwhPWkmJnRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwoaS5vYmplY3RIYW5kbGUsKGU9PmUucG9seWdvbk9mZnNldEVuYWJsZWQ9dD09PVVlLkhvbGUpKX11cGRhdGVOb2RlSW5kZXgoZSx0KXtpZih0aGlzLl9ub2RlSWQyTWV0YS5oYXMoZSkpe2NvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpO3RoaXMuX25vZGVJZDJNZXRhLmRlbGV0ZShlKSx0aGlzLl9ub2RlSWQyTWV0YS5zZXQodCxpKSx0aGlzLm5vdGlmeUNoYW5nZShcImVsZXZhdGlvblJhbmdlXCIpfWNvbnN0IGk9dGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuZ2V0KGUpO2kmJih0aGlzLl9ub2RlSWQyTWV0YVJlbG9hZGluZy5kZWxldGUoZSksdGhpcy5fbm9kZUlkMk1ldGFSZWxvYWRpbmcuc2V0KHQsaSkpfV9pbnZhbGlkYXRlQWxsU3ltYm9scygpe3RoaXMuX3JlbmRlcmVyVmVyc2lvbj1aZSh0aGlzLl9yZW5kZXJlclZlcnNpb24sMSksdGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5yZXF1ZXN0VXBkYXRlKCl9X2dldEludmFsaWRSZW5kZXJlclZlcnNpb24oKXtyZXR1cm4gWmUodGhpcy5fcmVuZGVyZXJWZXJzaW9uLC0xKX1hc3luYyBfcmVuZGVyZXJDaGFuZ2UoZSl7aWYodGhpcy5fY3VycmVudFJlbmRlcmVyPWUsdGhpcy5ub3RpZnlDaGFuZ2UoXCJyZW5kZXJlclRleHR1cmVVc2FnZVwiKSx0aGlzLl9yZW5kZXJlclZlcnNpb249WmUodGhpcy5fcmVuZGVyZXJWZXJzaW9uLDEpLHRoaXMuX3JlbmRlcmVyRmllbGRzPW51bGwsdGhpcy5fY29sb3JWYXJpYWJsZT1udWxsLHRoaXMuX29wYWNpdHlWYXJpYWJsZT1udWxsLHRoaXMuX2ludmFsaWRhdGVBbGxTeW1ib2xzKCksZSYmKHRoaXMuX3JlbmRlcmVyRmllbGRzPWF3YWl0IGUuZ2V0UmVxdWlyZWRGaWVsZHModGhpcy5pM3NsYXllci5maWVsZHNJbmRleCkpLHRoaXMuX3VwZGF0ZVN5bWJvbG9neUZpZWxkcygpLCF0aGlzLl9hcmNhZGUmJmUmJlwiYXJjYWRlUmVxdWlyZWRcImluIGUmJmUuYXJjYWRlUmVxdWlyZWQmJih0aGlzLl9hcmNhZGU9YXdhaXQgZGUoKSksZSYmXCJ2aXN1YWxWYXJpYWJsZXNcImluIGUmJmUudmlzdWFsVmFyaWFibGVzKWZvcihjb25zdCB0IG9mIGUudmlzdWFsVmFyaWFibGVzKVwiY29sb3JcIj09PXQudHlwZT90aGlzLl9jb2xvclZhcmlhYmxlPXQ6XCJvcGFjaXR5XCI9PT10LnR5cGU/dGhpcy5fb3BhY2l0eVZhcmlhYmxlPXQ6dnQud2FybihgVW5zdXBwb3J0ZWQgdmlzdWFsIHZhcmlhYmxlIHR5cGUgZm9yIDNEIE9iamVjdCBTY2VuZSBTZXJ2aWNlczogJHt0LnR5cGV9YCk7aWYoZSlmb3IoY29uc3QgdCBvZiBlLmdldFN5bWJvbHMoKSlcIm1lc2gtM2RcIiE9PXQudHlwZSYmdnQuZXJyb3IoYFN5bWJvbHMgb2YgdHlwZSAnJHt0LnR5cGV9JyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgM0QgT2JqZWN0IFNjZW5lIFNlcnZpY2VzLmApO3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIucmVxdWVzdFVwZGF0ZSgpfV9nZXRDYWNoZWRFZGdlTWF0ZXJpYWxzKGUpe3JldHVybiB0aGlzLl9oYXNDb21wb25lbnREYXRhJiZlLmNhY2hlZFJlbmRlcmVyVmVyc2lvbiE9PXRoaXMuX3JlbmRlcmVyVmVyc2lvbiYmdGhpcy5fdXBkYXRlQ2FjaGVkUmVuZGVyZXJEYXRhKGUpLGUuY2FjaGVkRWRnZU1hdGVyaWFsc31fZ2V0Q29tcG9uZW50UGFyYW1ldGVycyhlKXt0aGlzLl9oYXNDb21wb25lbnREYXRhJiZlLmNhY2hlZFJlbmRlcmVyVmVyc2lvbiE9PXRoaXMuX3JlbmRlcmVyVmVyc2lvbiYmdGhpcy5fdXBkYXRlQ2FjaGVkUmVuZGVyZXJEYXRhKGUpO2NvbnN0IHQ9ZS5jYWNoZWRTeW1ib2xvZ3k7cmV0dXJuKGkscyk9Pntjb25zdCByPTUqaTtpZihQKHMuZXh0ZXJuYWxDb2xvcix0W3JdLzI1NSx0W3IrMV0vMjU1LHRbcisyXS8yNTUsdFtyKzNdLzI1NSksbnVsbCE9dGhpcy5fc3RhZ2UucmVuZGVyVmlldy5vYmplY3RBbmRMYXllcklkUmVuZGVySGVscGVyKXtjb25zdCB0PWUuZmVhdHVyZUlkc1tpXSxyPWhlKHRoaXMudmlldy5tYXAsdGhpcy5sYXllclVpZCk7dGhpcy5fc3RhZ2UucmVuZGVyVmlldy5vYmplY3RBbmRMYXllcklkUmVuZGVySGVscGVyLnNldFVpZFRvT2JqZWN0QW5kTGF5ZXJJZCh0LHQsdGhpcy5sYXllcklkLHRoaXMubGF5ZXJVaWQrXCJfXCIrdGhpcy5zdWJsYXllcklkLHRoaXMubGF5ZXJQb3B1cEVuYWJsZWRBbmRIYXNUZW1wbGF0ZSYmIXIsZS5ub2RlLnJlc291cmNlcy5hdHRyaWJ1dGVzLGksdGhpcy5zdWJsYXllcklkKSxzLm9iamVjdEFuZExheWVySWRDb2xvcj10aGlzLl9zdGFnZS5yZW5kZXJWaWV3LmdldE9iamVjdEFuZExheWVySWRDb2xvcih7Z3JhcGhpY1VpZDp0LGxheWVyVWlkOnRoaXMubGF5ZXJVaWQrXCJfXCIrdGhpcy5zdWJsYXllcklkfSl9cy5leHRlcm5hbENvbG9yTWl4TW9kZT10W3IrNF0mKDE8PEN0LkNhc3RTaGFkb3dzKS0xLHMuY2FzdFNoYWRvd3M9MCE9KHRbcis0XSYxPDxDdC5DYXN0U2hhZG93cykscy5waWNrYWJsZT0wIT0odFtyKzRdJjE8PEN0LlBpY2thYmxlKSxzLmVsZXZhdGlvbk9mZnNldD1lLmVsZXZhdGlvbk9mZnNldHM/LltpXT8/MH19X2dldFN5bWJvbEluZm8oZSx0KXtjb25zdCBpPWU/LmdldFN5bWJvbCh0LHthcmNhZGU6dGhpcy5fYXJjYWRlfSk7aWYoIShpIGluc3RhbmNlb2YgY2UpKXJldHVybiBudWxsO2NvbnN0IHM9aS5pZDtpZih0aGlzLl9zeW1ib2xJbmZvcy5oYXMocykpcmV0dXJuIHRoaXMuX3N5bWJvbEluZm9zLmdldChzKTtjb25zdCByPWV0KGkpO3JldHVybiB0aGlzLl9zeW1ib2xJbmZvcy5zZXQocyxyKSxyfV9zZXRTeW1ib2xvZ3lPdmVycmlkZShlLHQpe3RoaXMuX3N5bWJvbG9neU92ZXJyaWRlIT09ZSYmKHRoaXMuX3N5bWJvbG9neU92ZXJyaWRlPWUsdGhpcy5fc3ltYm9sb2d5T3ZlcnJpZGVGaWVsZHM9dCx0aGlzLl9pbnZhbGlkYXRlQWxsU3ltYm9scygpLHRoaXMuX3VwZGF0ZVN5bWJvbG9neUZpZWxkcygpKX1fdXBkYXRlU3ltYm9sb2d5RmllbGRzKCl7dGhpcy5fc3ltYm9sb2d5RmllbGRzPW51bGwhPXRoaXMuX3N5bWJvbG9neU92ZXJyaWRlRmllbGRzJiZ0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZUZpZWxkcy5sZW5ndGg+MD9udWxsIT10aGlzLl9yZW5kZXJlckZpZWxkcyYmdGhpcy5fcmVuZGVyZXJGaWVsZHMubGVuZ3RoPjA/b2UodGhpcy5pM3NsYXllci5maWVsZHNJbmRleCxbLi4udGhpcy5fcmVuZGVyZXJGaWVsZHMsLi4udGhpcy5fc3ltYm9sb2d5T3ZlcnJpZGVGaWVsZHNdKTp0aGlzLl9zeW1ib2xvZ3lPdmVycmlkZUZpZWxkczp0aGlzLl9yZW5kZXJlckZpZWxkc31fdXBkYXRlQ2FjaGVkUmVuZGVyZXJEYXRhKGUpe2lmKGUuY2FjaGVkUmVuZGVyZXJWZXJzaW9uPXRoaXMuX3JlbmRlcmVyVmVyc2lvbiwhdGhpcy5faGFzQ29tcG9uZW50RGF0YSlyZXR1cm47Y29uc3QgdD10aGlzLl90bXBBdHRyaWJ1dGVPbmx5R3JhcGhpYyxpPXt9O3QuYXR0cmlidXRlcz1pO2NvbnN0IHM9dGhpcy5fY3VycmVudFJlbmRlcmVyLHI9ZS5hdHRyaWJ1dGVJbmZvPy5hdHRyaWJ1dGVEYXRhLG89bnVsbCE9ZS5mZWF0dXJlSWRzP3RoaXMuaTNzbGF5ZXIub2JqZWN0SWRGaWVsZDpudWxsLGE9bnVsbCE9ciYmbnVsbCE9dGhpcy5fc3ltYm9sb2d5RmllbGRzJiZ0aGlzLl9zeW1ib2xvZ3lGaWVsZHMubGVuZ3RoPjA7bGV0IG49bnVsbCxsPW51bGw7aWYoYSYmbnVsbCE9dGhpcy5fc3ltYm9sb2d5RmllbGRzKXtuPVtdLGw9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3ltYm9sb2d5RmllbGRzKXtjb25zdCB0PXJbZV07dCYmKG4ucHVzaChlKSxsLnB1c2godCkpfX1lLmNhY2hlZFN5bWJvbG9neXx8KGUuY2FjaGVkU3ltYm9sb2d5PWllKDUqZS5mZWF0dXJlSWRzLmxlbmd0aCkpO2NvbnN0IGQ9e2NvbG9yOlJ0LGNhc3RTaGFkb3dzOiEwLHBpY2thYmxlOiEwLGNvbG9yTWl4TW9kZTphdC5NdWx0aXBseSxlZGdlTWF0ZXJpYWw6bnVsbH0saD10aGlzLmZ1bGxPcGFjaXR5LGM9dGhpcy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkP3RoaXMuZ2V0Tm9kZU9wYWNpdHkoZSk6aDtsZXQgdT1udWxsLF89YnQuT1BBUVVFLG09dHQsZz0wO2ZvcihsZXQgcD0wO3A8ZS5mZWF0dXJlSWRzLmxlbmd0aDtwKyspe2lmKG51bGwhPW8mJihpW29dPWUuZmVhdHVyZUlkc1twXSksYSYmbilmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylpW25bZV1dPVhlKGxbZV0scCk7Y29uc3Qgcj1zP3RoaXMuX2dldFN5bWJvbEluZm8ocyx0KTpudWxsO2xldCBoPW51bGwsZj1udWxsO2lmKHMmJlwidmlzdWFsVmFyaWFibGVzXCJpbiBzKXtpZih0aGlzLl9jb2xvclZhcmlhYmxlKXtjb25zdCBlPW5lKHRoaXMuX2NvbG9yVmFyaWFibGUsdCx7Y29sb3I6TnQsYXJjYWRlOnRoaXMuX2FyY2FkZX0pO2UmJihoPVJ0LGhbMF09ZS5yLzI1NSxoWzFdPWUuZy8yNTUsaFsyXT1lLmIvMjU1LHRoaXMuX29wYWNpdHlWYXJpYWJsZXx8bnVsbD09PWUuYXx8KGY9ZS5hKSl9dGhpcy5fb3BhY2l0eVZhcmlhYmxlJiYoZj1sZSh0aGlzLl9vcGFjaXR5VmFyaWFibGUsdCx7YXJjYWRlOnRoaXMuX2FyY2FkZX0pKX1pZihyPy5tYXRlcmlhbCl7Y29uc3QgZT1yLm1hdGVyaWFsO2g9bnVsbD09aHx8bnVsbD09Zj9NZShoLGYsZS5jb2xvcixlLmFscGhhLEl0LFJ0KTpNZShoLGYsbnVsbCxudWxsLEl0LFJ0KX1pZihudWxsPT1oJiYoaD1SdCxoWzBdPTEsaFsxXT0xLGhbMl09MSxoWzNdPTEpLGQucGlja2FibGU9ITAsZC5jYXN0U2hhZG93cz0hcnx8ci5jYXN0U2hhZG93cyxkLmNvbG9yTWl4TW9kZT1yPy5tYXRlcmlhbD9yLm1hdGVyaWFsLmNvbG9yTWl4TW9kZTphdC5NdWx0aXBseSxkLmVkZ2VNYXRlcmlhbD1yP3IuZWRnZU1hdGVyaWFsOm51bGwsbnVsbCE9dGhpcy5fc3ltYm9sb2d5T3ZlcnJpZGUmJihkLmNvbG9yPWgsdGhpcy5fc3ltYm9sb2d5T3ZlcnJpZGUodCxkKSxoPWQuY29sb3IpLG51bGwhPXRoaXMuX25vZGVDb2xvck92ZXJyaWRlJiYodGhpcy5fbm9kZUNvbG9yT3ZlcnJpZGUoZS5ub2RlLGgpLGQuY29sb3JNaXhNb2RlPWF0LlJlcGxhY2UpLG51bGwhPWQuZWRnZU1hdGVyaWFsKXtjb25zdCB0PWhbM108PTA/YnQuSU5WSVNJQkxFOmhbM10+PTEmJihlLm1hdGVyaWFsLmlzT3BhcXVlfHxkLmNvbG9yTWl4TW9kZT09PWF0LlJlcGxhY2UpP2J0Lk9QQVFVRTpidC5UUkFOU1BBUkVOVDtkLmVkZ2VNYXRlcmlhbD09PXUmJnQ9PT1ffHwobT17Li4uZC5lZGdlTWF0ZXJpYWwsb3BhY2l0eTpjLG9iamVjdFRyYW5zcGFyZW5jeTp0fSx1PWQuZWRnZU1hdGVyaWFsLF89dCksZS5jYWNoZWRFZGdlTWF0ZXJpYWxzW3BdPW19ZWxzZSBlLmNhY2hlZEVkZ2VNYXRlcmlhbHNbcF09dHQ7ZS5jYWNoZWRTeW1ib2xvZ3lbZysrXT1NYXRoLnJvdW5kKDI1NSpoWzBdKSxlLmNhY2hlZFN5bWJvbG9neVtnKytdPU1hdGgucm91bmQoMjU1KmhbMV0pLGUuY2FjaGVkU3ltYm9sb2d5W2crK109TWF0aC5yb3VuZCgyNTUqaFsyXSksZS5jYWNoZWRTeW1ib2xvZ3lbZysrXT1NYXRoLnJvdW5kKDI1NSpoWzNdKSxlLmNhY2hlZFN5bWJvbG9neVtnKytdPWQuY29sb3JNaXhNb2RlfCtkLmNhc3RTaGFkb3dzPDxDdC5DYXN0U2hhZG93c3wrZC5waWNrYWJsZTw8Q3QuUGlja2FibGV9fV9nZXRGaWx0ZXJlZEVkZ2VNYXRlcmlhbHMoZSl7Y29uc3QgdD10aGlzLl9nZXRDYWNoZWRFZGdlTWF0ZXJpYWxzKGUpO3RoaXMubm9kZUNyb3NzZmFkaW5nRW5hYmxlZHx8a3QodCx0aGlzLmZ1bGxPcGFjaXR5KTtjb25zdCBpPWUuZmlsdGVyZWRJZHM7aWYobnVsbD09aSl7cmV0dXJue2hhc0VkZ2VzOnQuc29tZSgoZT0+ZSE9PXR0KSkscGVyRmVhdHVyZUVkZ2VNYXRlcmlhbHM6dH19bGV0IHM9MCxyPSExO2NvbnN0IG89dC5tYXAoKCh0LG8pPT5lLmZlYXR1cmVJZHNbb10hPT1pW3NdP3R0OihyPXJ8fHQhPT10dCxzKyssdCkpKTtyZXR1cm57aGFzRWRnZXM6cixwZXJGZWF0dXJlRWRnZU1hdGVyaWFsczpvfX1fdXBkYXRlQ29tcG9uZW50RGF0YShlKXtpZighdGhpcy5faGFzQ29tcG9uZW50RGF0YSlyZXR1cm47Y29uc3QgdD1lLm9iamVjdEhhbmRsZSxpPXRoaXMuX2dldENvbXBvbmVudFBhcmFtZXRlcnMoZSk7dGhpcy5fY29sbGVjdGlvbi5zZXRDb21wb25lbnREYXRhKHQsaSksdGhpcy5fc3RhZ2UucmVuZGVyVmlldy5yZXF1ZXN0UmVuZGVyKCl9X3JlbG9hZEFsbChlPXRoaXMuZWxldmF0aW9uT2Zmc2V0KXt0aGlzLl9yZW1vdmVBbGxOb2RlRGF0YUZyb21TdGFnZShlKSxudWxsIT10aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLnJlc3RhcnROb2RlTG9hZGluZygpfV9vcGFjaXR5Q2hhbmdlKGUpe3RoaXMubm9kZUNyb3NzZmFkaW5nRW5hYmxlZCYmdGhpcy5fY3Jvc3NmYWRlSGVscGVyLnN0b3BBbGxOb2RlRmFkaW5nKCksdGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgodD0+e251bGwhPXQmJih0aGlzLl9jb2xsZWN0aW9uLnVwZGF0ZU1hdGVyaWFsKHQub2JqZWN0SGFuZGxlLCh0PT50Lm9iamVjdE9wYWNpdHk9ZSkpLGt0KHQuY2FjaGVkRWRnZU1hdGVyaWFscyxlKSx0aGlzLl91cGRhdGVFZGdlUmVuZGVyaW5nKHQpKX0pKX1fdXBkYXRlTWF0ZXJpYWwoZSl7dGhpcy5fY29sbGVjdGlvbi51cGRhdGVNYXRlcmlhbChlLm9iamVjdEhhbmRsZSwoZT0+e2UuY29tbW9uTWF0ZXJpYWxQYXJhbWV0ZXJzLmhhc1NsaWNlUGxhbmU9dGhpcy5zbGljZVBsYW5lRW5hYmxlZCxlLnVzZVBCUj10aGlzLl91c2VQQlIsdGhpcy5fdXBkYXRlTWF0ZXJpYWxPdmVybGF5KGUpfSkpfV91cGRhdGVNYXRlcmlhbE92ZXJsYXkoZSl7fV91cGRhdGVFbmdpbmVPYmplY3QoZSl7dGhpcy5fdXBkYXRlQ29tcG9uZW50RGF0YShlKSx0aGlzLl9hcHBseUZpbHRlcnNUb05vZGUoZSksdGhpcy5fYWRkT3JVcGRhdGVFZGdlUmVuZGVyaW5nKGUpLHRoaXMuX3Zpc2libGVHZW9tZXRyeUNoYW5nZWQoZSx3dC5VUERBVEUpfV9zbGljZVBsYW5lRW5hYmxlZENoYW5nZShlKXt0aGlzLl9pbnRlcnNlY3Rpb25IYW5kbGVyJiYodGhpcy5faW50ZXJzZWN0aW9uSGFuZGxlci5zbGljZVBsYW5lRW5hYmxlZD1lKSxudWxsIT10aGlzLl9sYWJlbGVyJiYodGhpcy5fbGFiZWxlci5zbGljZVBsYW5lRW5hYmxlZD1lKSx0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCh0PT57bnVsbCE9dCYmKHRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwodC5vYmplY3RIYW5kbGUsKHQ9PnQuY29tbW9uTWF0ZXJpYWxQYXJhbWV0ZXJzLmhhc1NsaWNlUGxhbmU9ZSkpLHRoaXMuX3VwZGF0ZUVkZ2VSZW5kZXJpbmcodCwhMSkpfSkpfV91cGRhdGVQQlIoZSl7dGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgodD0+e251bGwhPXQmJnRoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwodC5vYmplY3RIYW5kbGUsKHQ9PnQudXNlUEJSPWUpKX0pKSx0aGlzLl9oYXNMb2FkZWRQQlJUZXh0dXJlcz0hMH1nZXQgX3VzZVBCUigpe3JldHVybiF0aGlzLl9pc0ludGVncmF0ZWRNZXNoJiZ0aGlzLnZpZXcucXVhbGl0eVNldHRpbmdzLnBoeXNpY2FsbHlCYXNlZFJlbmRlcmluZ0VuYWJsZWR9X3VwZGF0ZUVkZ2VSZW5kZXJpbmcoZSx0PSEwKXtudWxsIT10aGlzLl9lZGdlVmlldyYmdGhpcy5fZWRnZVZpZXcuaGFzT2JqZWN0KGUub2JqZWN0SGFuZGxlKSYmdGhpcy5fYWRkT3JVcGRhdGVFZGdlUmVuZGVyaW5nKGUsdCl9X2ZvckFsbE5vZGVzKGUpe3RoaXMuX25vZGVJZDJNZXRhLmZvckVhY2goZSl9X2lnbm9yZUNsaWVudE5vZGVPdmVycmlkZGVuRmVhdHVyZXMoZSl7cmV0dXJuIHRoaXMuaTNzT3ZlcnJpZGVzLmhhc0dlb21ldHJ5Q2hhbmdlcz8odCxpLHMpPT5zLm5vZGUuaW5kZXg+PTAmJnRoaXMuaTNzT3ZlcnJpZGVzLmZlYXR1cmVIYXNHZW9tZXRyeUNoYW5nZXModCk/cGUuQ09OVElOVUU6ZSh0LGkscyk6ZX1fZm9yQWxsRmVhdHVyZXMoZSx0LGkpe2QodGhpcy5fbm9kZUlkMk1ldGEsKHM9PntpZihudWxsPT1zKXJldHVybiExO2lmKG51bGwhPXQpe3N3aXRjaCh0KHMpKXtjYXNlIHBlLkVYSVQ6cmV0dXJuITA7Y2FzZSBwZS5TS0lQOnJldHVybiExfX1sZXQgcj1wZS5DT05USU5VRTtzd2l0Y2goaSl7Y2FzZSBmZS5BTEw6cj10aGlzLl9mb3JBbGxGZWF0dXJlc09mTm9kZShzLGUpO2JyZWFrO2Nhc2UgZmUuVklTSUJMRV9PTkxZOnI9dGhpcy5fZm9yQWxsVmlzaWJsZUZlYXR1cmVzT2ZOb2RlKHMsZSk7YnJlYWs7Y2FzZSBmZS5RVUVSWUFCTEU6cj10aGlzLl9mb3JBbGxRdWVyeWFibGVGZWF0dXJlc09mTm9kZShzLGUpfXJldHVybiByPT09cGUuRVhJVH0pKX1fZm9yQWxsRmVhdHVyZXNPZk5vZGUoZSx0KXtsZXQgaT1wZS5DT05USU5VRTtjb25zdCBzPWUuZmVhdHVyZUlkcztmb3IobGV0IHI9MDtyPHMubGVuZ3RoO3IrKylpZihpPXQoc1tyXSxyLGUpLGk9PT1wZS5FWElUKXJldHVybiBpO3JldHVybiBpfV9mb3JBbGxWaXNpYmxlRmVhdHVyZXNPZk5vZGUoZSx0KXtsZXQgaT1wZS5DT05USU5VRTtjb25zdCBzPWUuZmVhdHVyZUlkcztyZXR1cm4gdGhpcy5fY29sbGVjdGlvbi5mb3JFYWNoVmlzaWJsZUNvbXBvbmVudChlLm9iamVjdEhhbmRsZSwocj0+KGk9dChzW3JdLHIsZSksaT09PXBlLkNPTlRJTlVFKSkpLGl9X2ZvckFsbFF1ZXJ5YWJsZUZlYXR1cmVzT2ZOb2RlKGUsdCl7Y29uc3QgaT10aGlzLl9pZ25vcmVDbGllbnROb2RlT3ZlcnJpZGRlbkZlYXR1cmVzKHQpO2lmKG51bGw9PXRoaXMuX3JlbmRlckNsaXBwaW5nQXJlYSlyZXR1cm4gdGhpcy5fZm9yQWxsRmVhdHVyZXNPZk5vZGUoZSxpKTtjb25zdCBzPXRoaXMuX2JvdW5kaW5nUmVjdE5vZGVUZXN0KGUsdGhpcy5fcmVuZGVyQ2xpcHBpbmdBcmVhKTtpZihzPT09SmUuT1VUU0lERSlyZXR1cm4gcGUuQ09OVElOVUU7aWYocz09PUplLklOU0lERSlyZXR1cm4gdGhpcy5fZm9yQWxsRmVhdHVyZXNPZk5vZGUoZSxpKTtjb25zdCByPXBlLkNPTlRJTlVFLG89ZS5mZWF0dXJlSWRzLGE9ZS5vYmplY3RIYW5kbGUsbj1pdCh0aGlzLl9yZW5kZXJDbGlwcGluZ0FyZWEsdGhpcy5fY29sbGVjdGlvbi5nZXRPYmplY3RUcmFuc2Zvcm0oYSkpO2ZvcihsZXQgbD0wO2w8by5sZW5ndGg7bCsrKXtpZighdGhpcy5fYm91bmRpbmdSZWN0RmVhdHVyZVRlc3QoZSxsLG4pKWNvbnRpbnVlO2NvbnN0IHQ9aShvW2xdLGwsZSk7aWYodD09PXBlLkVYSVQpcmV0dXJuIHR9cmV0dXJuIHJ9X2NyZWF0ZUF0dHJpYnV0ZXMoZSx0KXtjb25zdCBpPXt9O251bGwhPXQuZmVhdHVyZUlkcyYmKGlbdGhpcy5fZ2V0T2JqZWN0SWRGaWVsZCgpXT10LmZlYXR1cmVJZHNbZV0pO2NvbnN0IHM9dC5hdHRyaWJ1dGVJbmZvPy5hdHRyaWJ1dGVEYXRhO2lmKG51bGwhPXMpZm9yKGNvbnN0IHIgb2YgT2JqZWN0LmtleXMocykpaVtyXT1YZShzW3JdLGUpO3JldHVybiBpfV9jcmVhdGVHcmFwaGljKGUsdCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUxheWVyR3JhcGhpYyh0aGlzLl9jcmVhdGVBdHRyaWJ1dGVzKGUsdCkpfWhpZ2hsaWdodChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIGk/ZT1bZV06ZSBpbnN0YW5jZW9mIGEmJihlPWUudG9BcnJheSgpKSxBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKXtpZihlWzBdaW5zdGFuY2VvZiBpKXtjb25zdCB0PWUsaT10aGlzLmkzc2xheWVyLmZpZWxkc0luZGV4LHM9dGhpcy5fZ2V0T2JqZWN0SWRGaWVsZCgpLHI9dC5tYXAoKGU9Pm90KGksZS5hdHRyaWJ1dGVzLHMpKSkse3NldDpvLGhhbmRsZTphfT10aGlzLl9oaWdobGlnaHRzLmFjcXVpcmVTZXQoKTtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0cy5zZXRGZWF0dXJlSWRzKG8sciksYX1pZihcIm51bWJlclwiPT10eXBlb2YgZVswXSl7Y29uc3QgdD1lLHtzZXQ6aSxoYW5kbGU6c309dGhpcy5faGlnaGxpZ2h0cy5hY3F1aXJlU2V0KCk7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHMuc2V0RmVhdHVyZUlkcyhpLHQpLHN9fXJldHVybiBuKCl9cmVzZXRIaWdobGlnaHRzKCl7aCh0aGlzLl9oaWdobGlnaHRzKSx0aGlzLl9oaWdobGlnaHRzPW5ldyBFZSh7Y29sbGVjdGlvbjp0aGlzLl9jb2xsZWN0aW9uLGZvckFsbEZlYXR1cmVzOmU9PnRoaXMuX2ZvckFsbEZlYXR1cmVzKGUsbnVsbCxmZS5BTEwpLGZvckFsbEZlYXR1cmVzT2ZOb2RlOihlLHQpPT50aGlzLl9mb3JBbGxGZWF0dXJlc09mTm9kZShlLHQpfSl9X3Zpc2libGVHZW9tZXRyeUNoYW5nZWQoZSx0KXt0aGlzLl9lbGV2YXRpb25Qcm92aWRlciYmKHRoaXMuX2VsZXZhdGlvblByb3ZpZGVyLm9iamVjdENoYW5nZWQoZS5ub2RlKSxudWxsPT10aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlJiYodGhpcy5fdmlzaWJsZUdlb21ldHJ5Q2hhbmdlZFNjaGVkdWxlckhhbmRsZT1mKCgoKT0+e3RoaXMuZW1pdChcInZpc2libGUtZ2VvbWV0cnktY2hhbmdlZFwiKSx0aGlzLl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlPW51bGx9KSkpLHRoaXMuX3VwZGF0ZVNuYXBwaW5nU291cmNlcyhlLHQpKX1nZXQgcGVyZm9ybWFuY2VJbmZvKCl7Y29uc3QgZT17ZGlzcGxheWVkTnVtYmVyT2ZGZWF0dXJlczowLG1heGltdW1OdW1iZXJPZkZlYXR1cmVzOjAsdG90YWxOdW1iZXJPZkZlYXR1cmVzOjAsY29yZTpudWxsLGluZGV4OjAsbm9kZXM6dGhpcy5fbm9kZUlkMk1ldGEuc2l6ZSxcIlRvdGFsIEdQVSBNZW1vcnkgRXN0aW1hdGVcIjoodGhpcy5fZ3B1TWVtb3J5RXN0aW1hdGUvMTA0ODU3NikudG9GaXhlZCgxKStcIk1CXCIsXCJHZW9tZXRyeSBNZW1vcnkgRXN0aW1hdGVcIjoodGhpcy5fZ2VvTWVtb3J5RXN0aW1hdGUvMTA0ODU3NikudG9GaXhlZCgxKStcIk1CXCIsXCJUZXh0dXJlIE1lbW9yeSBFc3RpbWF0ZVwiOih0aGlzLl90ZXhNZW1vcnlFc3RpbWF0ZS8xMDQ4NTc2KS50b0ZpeGVkKDEpK1wiTUJcIixcIlVubG9hZGVkIE1lbW9yeSBFc3RpbWF0ZVwiOih0aGlzLnVubG9hZGVkTWVtb3J5LzEwNDg1NzYpLnRvRml4ZWQoMSkrXCJNQlwifTtyZXR1cm4gbnVsbCE9dGhpcy5fbWVtQ2FjaGUmJihlLk1lbUNhY2hlPU1hdGgucm91bmQoMTAwKnRoaXMuX21lbUNhY2hlLmhpdFJhdGUpK1wiJSBoaXRcIiksdGhpcy5fY29udHJvbGxlciYmKHRoaXMuX2lkYkNhY2hlRW5hYmxlZCYmKGUuSURCQ2FjaGU9TWF0aC5yb3VuZCgxMDAqdGhpcy5faWRiQ2FjaGUuZ2V0SGl0UmF0ZSgpKStcIiUgaGl0XCIpLHRoaXMuX2NvbnRyb2xsZXIudXBkYXRlU3RhdHMoZSkpLGV9Z2V0IHRlc3QoKXtjb25zdCBlPXRoaXMsdD1lPT57dGhpcy5fbm9kZUNvbG9yT3ZlcnJpZGU9ZSx0aGlzLl9pbnZhbGlkYXRlQWxsU3ltYm9scygpfTtyZXR1cm57Y29udHJvbGxlcjp0aGlzLl9jb250cm9sbGVyLGxhYmVsZXI6dGhpcy5fbGFiZWxlcixnZXQgdmlzaWJsZU9iamVjdElkcygpe2NvbnN0IHQ9W107cmV0dXJuIGUuX2ZvckFsbEZlYXR1cmVzKChlPT4odC5wdXNoKGUpLHBlLkNPTlRJTlVFKSksbnVsbCxmZS5WSVNJQkxFX09OTFkpLHQuc29ydCgoKGUsdCk9PmUtdCkpLHR9LGdldCBudW1Ob2Rlcygpe3JldHVybiBlLl9ub2RlSWQyTWV0YS5zaXplfSxnZXQgbG9hZGVkTm9kZXMoKXtyZXR1cm4gQXJyYXkuZnJvbShlLl9ub2RlSWQyTWV0YS5rZXlzKCkpLnNvcnQoKChlLHQpPT5lLXQpKX0sc2V0Tm9kZUNvbG9yT3ZlcnJpZGU6dCxzZXROb2RlQ29sb3Jpbmc6ZT0+e2lmKFwiY2xpZW50LW5vZGVzXCI9PT1lKXQoKChlLHQpPT57ZS5pbmRleDwwPyh0WzBdPTEsdFsxXT0wLHRbMl09MCk6KHRbMF09MSx0WzFdPTEsdFsyXT0xKX0pKTtlbHNlIHQobnVsbCl9fX1nZXROb2RlT3BhY2l0eUJ5SW5kZXgoZSl7Y29uc3QgdD10aGlzLl9ub2RlSWQyTWV0YS5nZXQoZSk7cmV0dXJuIHRoaXMuZ2V0Tm9kZU9wYWNpdHkodCl9Z2V0Tm9kZU9wYWNpdHkoZSl7cmV0dXJuIG51bGwhPWU/dGhpcy5fY29sbGVjdGlvbi5nZXRNYXRlcmlhbChlLm9iamVjdEhhbmRsZSkub2JqZWN0T3BhY2l0eTowfWlzTm9kZUZ1bGx5RmFkZWRJbihlKXtyZXR1cm4gdGhpcy5fY3Jvc3NmYWRlSGVscGVyLmlzTm9kZUZ1bGx5RmFkZWRJbihlKX1nZXROb2RlQ3Jvc3NmYWRlTWV0YURhdGEoZSl7cmV0dXJuIHRoaXMuX25vZGVJZDJNZXRhLmdldChlKX1tYXJrTm9kZVRvUmVtb3ZlKGUpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIubWFya05vZGVUb1JlbW92ZShlKX1yZW1vdmVNYXJrZWROb2Rlcygpe3RoaXMuX2NvbnRyb2xsZXImJnRoaXMuX2NvbnRyb2xsZXIucmVtb3ZlTWFya2VkTm9kZXMoKX1mb3JlYWNoQ3Jvc3NmYWRlTm9kZShlKXt0aGlzLl9ub2RlSWQyTWV0YS5mb3JFYWNoKCgodCxpKT0+ZShpLHQpKSl9ZmFkZU5vZGUoZSx0LGkpe2lmKCF0aGlzLm5vZGVDcm9zc2ZhZGluZ0VuYWJsZWQpcmV0dXJuO2NvbnN0IHM9dGhpcy5fbm9kZUlkMk1ldGEuZ2V0KGUpO251bGwhPXMmJnRoaXMuX2Nyb3NzZmFkZUhlbHBlci5mYWRlTm9kZShlLHMsdCxpKX1zZXROb2RlT3BhY2l0eUJ5SW5kZXgoZSx0KXtjb25zdCBpPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtudWxsIT1pJiZ0aGlzLl9zZXROb2RlT3BhY2l0eShpLHQpfV9zZXROb2RlT3BhY2l0eShlLHQpe3RoaXMuX2NvbGxlY3Rpb24udXBkYXRlTWF0ZXJpYWwoZS5vYmplY3RIYW5kbGUsKGU9PmUub2JqZWN0T3BhY2l0eT10KSksdGhpcy5fc2V0Tm9kZUVkZ2VPcGFjaXR5KGUsdCl9X3NldE5vZGVFZGdlT3BhY2l0eShlLHQpe2lmKG51bGw9PXRoaXMuX2VkZ2VWaWV3fHwhZS5jYWNoZWRFZGdlTWF0ZXJpYWxzKXJldHVybjtrdChlLmNhY2hlZEVkZ2VNYXRlcmlhbHMsdCk7Y29uc3QgaT1lLm9iamVjdEhhbmRsZTt0aGlzLl9lZGdlVmlldy5oYXNPYmplY3QoaSkmJnRoaXMuX2VkZ2VWaWV3LnVwZGF0ZUFsbENvbXBvbmVudE9wYWNpdGllcyhpLHQpLmNhdGNoKChlPT5qdChlLHRoaXMuaTNzbGF5ZXIudGl0bGUpKSl9Z2V0IGhhc01vZGlmaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy5faXNJbnRlZ3JhdGVkTWVzaCYmbnVsbCE9dGhpcy5fbGF5ZXJDbGlwcGluZ0FyZWF8fHRoaXMuX21vZGlmaWNhdGlvbnMmJnRoaXMuX21vZGlmaWNhdGlvbnMubGVuZ3RoPjB9dXBkYXRlTm9kZU1vZGlmaWNhdGlvblN0YXR1cyhlKXtjb25zdCB0PWUubGVuZ3RoO2lmKCF0aGlzLmhhc01vZGlmaWNhdGlvbnN8fHQ8PTB8fCEwIT09dGhpcy5faTNzV2FzbUxvYWRlZClyZXR1cm47Y29uc3QgaT10aGlzLnVpZCxzPUx0KGUpO2lmKG51bGwhPXMpe2NvbnN0IHQ9e2NvbnRleHQ6aSxidWZmZXI6cy5idWZmZXJ9O3ZlKHQpO2NvbnN0IHI9bmV3IEZsb2F0NjRBcnJheShzLmJ1ZmZlcik7ZS5mb3JBbGwoKChlLHQpPT57Y29uc3QgaT1yW3RdLHM9SWUoaSk7ZS5pbU1vZGlmaWNhdGlvbkltcGFjdD1zLHMhPT1IZS5Vbm1vZGlmaWVkJiZ0aGlzLl9jb250cm9sbGVyLmludmFsaWRhdGVHZW9tZXRyeVZpc2liaWxpdHkoZS5pbmRleCl9KSl9fW5vdGlmeVVwZGF0ZSgpe3RoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9bm90aWZ5TE9EVXBkYXRlKCl7dGhpcy5fY29udHJvbGxlci5ub3RpZnlMT0RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5fY29udHJvbGxlcnx8IXRoaXMuX2NvbnRyb2xsZXIudXBkYXRpbmcpfHwhIXRoaXMuX3Zpc2libGVHZW9tZXRyeUNoYW5nZWRTY2hlZHVsZXJIYW5kbGV8fG51bGwhPXRoaXMuX2xhYmVsZXImJnRoaXMuX2xhYmVsZXIudXBkYXRpbmd8fHRoaXMuX2Nyb3NzZmFkZUhlbHBlcj8udXBkYXRpbmd8fHRoaXMuX2kzc1dhc21Mb2FkZWQgaW5zdGFuY2VvZiBQcm9taXNlfHx0aGlzLl9hc3luY01vZHVsZUxvYWRpbmc+MHx8bnVsbCE9dGhpcy5fZWxldmF0aW9uVGFzayYmdGhpcy5fZWxldmF0aW9uVGFzay5ydW5uaW5nfXRyYWNrU25hcHBpbmdTb3VyY2VzKGUpe2NvbnN0IHQ9e2V2ZW50czplLGZldGNoRWRnZUxvY2F0aW9uczphc3luYyhlLHQsaSk9Pntjb25zdCBzPXRoaXMuX25vZGVJZDJNZXRhLmdldChlKTtpZihudWxsPT1zKXRocm93IG5ldyBFcnJvcihcImludmFsaWQtbm9kZVwiKTtjb25zdHtvcmlnaW46cixidWZmZXI6b309YXdhaXQgdGhpcy5fY29sbGVjdGlvbi5leHRyYWN0RWRnZUluZm9ybWF0aW9uKHMub2JqZWN0SGFuZGxlLHQsaSk7cmV0dXJuIHRoaXMuX3NuYXBwaW5nTG9jYXRpb25zQXBwbHlFbGV2YXRpb24ocyxvLHIpLHt0eXBlOlwiY29tcG9uZW50c1wiLG9iamVjdElkczpzLmZlYXR1cmVJZHMsbG9jYXRpb25zOm8sb3JpZ2luOnJ9fSxyZW1vdmU6KCk9PntyKHRoaXMuX3NuYXBwaW5nU291cmNlc1RyYWNrZXJzLHQpfX07cmV0dXJuIHRoaXMuX3NuYXBwaW5nU291cmNlc1RyYWNrZXJzLnB1c2godCksdGhpcy5fbm9kZUlkMk1ldGEuZm9yRWFjaCgoKHQsaSk9PntpZihudWxsPT10KXJldHVybjtjb25zdCBzPXRoaXMuX2NvbnRyb2xsZXIuZ2V0UmVuZGVyTWJzKHQubm9kZSk7bnVsbCE9cyYmZS5hZGQoaSxzKX0pKSx0fV9zbmFwcGluZ0xvY2F0aW9uc0FwcGx5RWxldmF0aW9uKGUsdCxpKXtpZighZS5lbGV2YXRpb25PZmZzZXRzfHx0aGlzLmVsZXZhdGlvbkluZm8ubW9kZT09PUJ0LkFic29sdXRlKXJldHVybjtjb25zdCBzPXQucG9zaXRpb24wLHI9dC5wb3NpdGlvbjEsbz10LmNvbXBvbmVudEluZGV4LGE9VigpLG49VigpLGw9KGUsdCk9PntUKGUsZSxpKSx0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLndvcmxkVXBBdFBvc2l0aW9uKGUsbiksVChlLGUsTihuLG4sdCkpLEYoZSxlLGkpfTtmb3IobGV0IGQ9MDtkPHMuY291bnQ7ZCsrKXtjb25zdCB0PWUuZWxldmF0aW9uT2Zmc2V0c1tvLmdldChkKV07cy5nZXRWZWMoZCxhKSxsKGEsdCkscy5zZXRWZWMoZCxhKSxyLmdldFZlYyhkLGEpLGwoYSx0KSxyLnNldFZlYyhkLGEpfX1fdXBkYXRlU25hcHBpbmdTb3VyY2VzKGUsdCl7Y29uc3R7aW5kZXg6aX09ZS5ub2RlLHM9dGhpcy5fY29udHJvbGxlci5nZXRSZW5kZXJNYnMoZS5ub2RlKTtpZihudWxsIT1zKWZvcihjb25zdCByIG9mIHRoaXMuX3NuYXBwaW5nU291cmNlc1RyYWNrZXJzKXQhPT13dC5SRU1PVkUmJnQhPT13dC5VUERBVEV8fHIuZXZlbnRzLnJlbW92ZShpKSx0IT09d3QuQUREJiZ0IT09d3QuVVBEQVRFfHxyLmV2ZW50cy5hZGQoaSxzKX19O3JldHVybiBlKFt2KCldLG8ucHJvdG90eXBlLFwiX2hhc0xvYWRlZFBCUlRleHR1cmVzXCIsdm9pZCAwKSxlKFt2KCldLG8ucHJvdG90eXBlLFwiX2FzeW5jTW9kdWxlTG9hZGluZ1wiLHZvaWQgMCksZShbdigpXSxvLnByb3RvdHlwZSxcIl92aXNpYmxlR2VvbWV0cnlDaGFuZ2VkU2NoZWR1bGVySGFuZGxlXCIsdm9pZCAwKSxlKFt2KCldLG8ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbdigpXSxvLnByb3RvdHlwZSxcImkzc2xheWVyXCIsdm9pZCAwKSxlKFt2KCldLG8ucHJvdG90eXBlLFwiX2NvbnRyb2xsZXJcIix2b2lkIDApLGUoW3YoKV0sby5wcm90b3R5cGUsXCJfbGFiZWxlclwiLHZvaWQgMCksZShbdigpXSxvLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFt2KCldLG8ucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsdm9pZCAwKSxlKFt2KCldLG8ucHJvdG90eXBlLFwiY29udGVudFZpc2libGVcIixudWxsKSxlKFt2KHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIixudWxsKSxlKFt2KCldLG8ucHJvdG90eXBlLFwiaG9sZUZpbGxpbmdcIix2b2lkIDApLGUoW3YodXQpXSxvLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIix2b2lkIDApLGUoW3YoKV0sby5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzVmFsdWVcIixudWxsKSxlKFt2KCldLG8ucHJvdG90eXBlLFwiaGFzVGV4dHVyZXNPclZlcnRleENvbG9yc1wiLG51bGwpLGUoW3YoKV0sby5wcm90b3R5cGUsXCJyZW5kZXJlclRleHR1cmVVc2FnZVwiLG51bGwpLGUoW3YoKV0sby5wcm90b3R5cGUsXCJlbGV2YXRpb25PZmZzZXRcIixudWxsKSxlKFt2KCldLG8ucHJvdG90eXBlLFwiZWxldmF0aW9uSW5mb1wiLG51bGwpLGUoW3Yoe3R5cGU6Qm9vbGVhbn0pXSxvLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxlKFt2KCldLG8ucHJvdG90eXBlLFwic3VwcG9ydGVkVGV4dHVyZUVuY29kaW5nc1wiLG51bGwpLGUoW3YoKV0sby5wcm90b3R5cGUsXCJ1bmNvbXByZXNzZWRUZXh0dXJlRG93bnNhbXBsaW5nRW5hYmxlZFwiLG51bGwpLGUoW3Yoe3R5cGU6W2FlXX0pXSxvLnByb3RvdHlwZSxcIl9tb2RpZmljYXRpb25zXCIsdm9pZCAwKSxlKFt2KHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcImNsaWVudEdlb21ldHJ5XCIsbnVsbCksZShbdigpXSxvLnByb3RvdHlwZSxcImVsZXZhdGlvblJhbmdlXCIsbnVsbCksZShbdigpXSxvLnByb3RvdHlwZSxcIl9lbGV2YXRpb25UYXNrXCIsdm9pZCAwKSxlKFt2KHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcIl91c2VQQlJcIixudWxsKSxvPWUoW0koeXQpXSxvKSxvfTtmdW5jdGlvbiBqdChlLHQpe3UoZSl8fHZ0Lndhcm4oXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGVkZ2VzLiBFZGdlcyBvbiB0aGlzIGxheWVyIG1pZ2h0IG5vdCBkaXNwbGF5IGNvcnJlY3RseVwiLHQsZSl9dmFyIHd0OyFmdW5jdGlvbihlKXtlW2UuQUREPTBdPVwiQUREXCIsZVtlLlJFTU9WRT0xXT1cIlJFTU9WRVwiLGVbZS5VUERBVEU9Ml09XCJVUERBVEVcIn0od3R8fCh3dD17fSkpO2NvbnN0IFN0PUsoKSxBdD1YKCksVHQ9WCgpLER0PWR0KCksUnQ9WzAsMCwwLDBdLE50PW5ldyB0KFswLDAsMCwwXSksRnQ9dGUoMCwwLDAsMCk7ZnVuY3Rpb24gVnQoZSl7aWYobnVsbD09ZSlyZXR1cm4hMTtjb25zdCB0PWUubWV0YWxsaWNSb3VnaG5lc3M7cmV0dXJuIHQmJnQuYmFzZUNvbG9yVGV4dHVyZUlkPj0wfHx0JiZ0Lm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZUlkPj0wfHxlLm5vcm1hbFRleHR1cmVJZD49MHx8ZS5lbWlzc2l2ZVRleHR1cmVJZD49MHx8ZS5vY2NsdXNpb25UZXh0dXJlSWQ+PTB9ZnVuY3Rpb24gUHQoZSl7cmV0dXJuXCJnZW9tZXRyeURhdGFcImluIGV9ZnVuY3Rpb24gSHQoZSl7cmV0dXJuIG51bGwhPWUmJmIoZS5kYXRhKX1mdW5jdGlvbiBVdChlLHQpe2xldCBpPTEwMjQrZS5pbnRlcmxlYXZlZFZlcnRleERhdGEuYnl0ZUxlbmd0aCsoZS5pbmRpY2VzP2UuaW5kaWNlcy5ieXRlTGVuZ3RoOjApK2UucG9zaXRpb25EYXRhLmRhdGEuYnl0ZUxlbmd0aCtlLnBvc2l0aW9uRGF0YS5pbmRpY2VzLmJ5dGVMZW5ndGg7aWYobnVsbCE9dClmb3IoY29uc3QgcyBvZiB0KW51bGwhPXMmJmIocy5kYXRhKSYmKGkrPXMuZGF0YS5ieXRlTGVuZ3RoKTtyZXR1cm4gaX1mdW5jdGlvbiBHdChlLHQpe3JldHVybiB0LmJ5dGVTaXplPnh0Pyh2dC53YXJuKGBOb2RlIGlzIHRvbyBiaWcgdG8gc3RvcmUgaW4gSW5kZXhlZERCIGNhY2hlOiAke2UuaWR9ICgke3QuYnl0ZVNpemV9IGJ5dGVzKWApLCExKTp0LmJ5dGVTaXplPjB9ZnVuY3Rpb24gTHQoZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHQ9MTAqZS5sZW5ndGgsaT1uZXcgRmxvYXQ2NEFycmF5KHQpO3JldHVybiBlLmZvckFsbCgoKGUsdCk9PntsZXQgcz1lLnNlcnZpY2VPYmI7bnVsbD09cyYmKHM9RHQsUihzLmNlbnRlcixlLm1icykscy5oYWxmU2l6ZVswXT1zLmhhbGZTaXplWzFdPXMuaGFsZlNpemVbMl09ZS5tYnNbM10pO2NvbnN0IHI9MTAqdDtpW3JdPXMuY2VudGVyWzBdLGlbcisxXT1zLmNlbnRlclsxXSxpW3IrMl09cy5jZW50ZXJbMl0saVtyKzNdPXMuaGFsZlNpemVbMF0saVtyKzRdPXMuaGFsZlNpemVbMV0saVtyKzVdPXMuaGFsZlNpemVbMl0saVtyKzZdPXMucXVhdGVybmlvblswXSxpW3IrN109cy5xdWF0ZXJuaW9uWzFdLGlbcis4XT1zLnF1YXRlcm5pb25bMl0saVtyKzldPXMucXVhdGVybmlvblszXX0pKSxpfWZ1bmN0aW9uIGt0KGUsdCl7ZS5mb3JFYWNoKChlPT5lLm9wYWNpdHk9dCkpfXZhciBCdDshZnVuY3Rpb24oZSl7ZVtlLkFic29sdXRlPTBdPVwiQWJzb2x1dGVcIixlW2UuUmVsYXRpdmVUb0dyb3VuZD0xXT1cIlJlbGF0aXZlVG9Hcm91bmRcIixlW2UuT25UaGVHcm91bmQ9Ml09XCJPblRoZUdyb3VuZFwifShCdHx8KEJ0PXt9KSk7Y29uc3QgcXQ9VigpLHp0PUsoKSxLdD1cImVsZXZhdGlvbi1jaGFuZ2VcIjtmdW5jdGlvbiBXdChlKXtyZXR1cm4gdD0+e2lmKGUuaW1tZWRpYXRlKXJldHVybiBlLmltbWVkaWF0ZS5zY2hlZHVsZSh0KTt0aHJvdyBjb25zb2xlLmVycm9yKFwiRXJyb3Igbm8gaW1tZWRpYXRlIHNjaHVkbGVyXCIpLG5ldyBFcnJvcihcImNhbnQgZmluZCBpbW1lZGlhdGUgc2NoZWR1bGVyXCIpfX1leHBvcnR7QnQgYXMgRWxldmF0aW9uTW9kZSxFdCBhcyBJM1NNZXNoVmlldzNELFd0IGFzIG1ha2VTY2hlZHVsZUZ1bmN0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL3N5bWJvbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2ZpbHRlckluUGxhY2UgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7ZXF1YWxzU2hhbGxvdyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtmbG9hdEVxdWFsVWxwIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt3YXRjaCBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtnZW5lcmF0ZVVJRCBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvdWlkLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZGlmZiBhcyBofWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0QnVmZmVyIGFzIGx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBkLHNldCBhcyB1LG5lZ2F0aXZlSW5maW5pdHkgYXMgbSxleHBhbmRXaXRoQnVmZmVyIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIGd9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2ltcG9ydHttYWtlRGVoeWRyYXRlZFBvaW50IGFzIHl9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRQb2ludC5qc1wiO2ltcG9ydHtHcmFwaGljczNEQ29yZSBhcyBifWZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3MzRENvcmUuanNcIjtpbXBvcnR7R3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eSBhcyBJfWZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eS5qc1wiO2ltcG9ydHtib3VuZGluZ0JveENvcm5lcnNQb2ludHNTdHJpZGUgYXMgXyxib3VuZGluZ0JveENvcm5lclBvaW50cyBhcyB2fWZyb21cIi4vaTNzL0kzU0dlb21ldHJ5VXRpbC5qc1wiO2ltcG9ydHtMaW1pdEdyYXBoaWNzTWFwIGFzIE19ZnJvbVwiLi4vc3VwcG9ydC9MaW1pdEdyYXBoaWNzTWFwLmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBFfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9Qb2ludFN5bWJvbDNELmpzXCI7Y2xhc3MgR3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMubWV0YT1lLHRoaXMuaW5kZXg9dH19Y2xhc3MgRHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZ3JhcGhpYz1lLHRoaXMuZ2VvbWV0cnk9dCx0aGlzLmNvbXBvbmVudHM9W10sdGhpcy5vdmVycmlkZXNEaXJ0eT0hMX19bGV0IHc9Y2xhc3MgZXh0ZW5kcyB0e2dldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl9ncmFwaGljc0NvcmU/LnVwZGF0aW5nPz8hMX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmxvYWRlZEdyYXBoaWNzPW5ldyBNKDVlNCksdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl9yZW5kZXJpbmdJbmZvPXtzeW1ib2w6bmV3IGp9LHRoaXMuX2ZlYXR1cmVzTWFwPW5ldyBNYXB9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluO3RoaXMuX2dyYXBoaWNzQ29yZT1uZXcgYih7b3duZXI6dGhpcyxsYXllcjp0aGlzLmxheWVyLHByZWZlcnJlZFVwZGF0ZVBvbGljeTpFLkFTWU5DLGVsZXZhdGlvbkZlYXR1cmVFeHByZXNzaW9uRW5hYmxlZDohMSxncmFwaGljU3ltYm9sU3VwcG9ydGVkOiExLGdldFJlbmRlcmluZ0luZm9XaXRob3V0UmVuZGVyZXI6ITAsaGFzWjohMCxoYXNNOiExLGNvbXBvbmVudEZhY3Rvcmllczp7ZGVjb25mbGljdG9yOmU9PnRoaXMudmlldy5kZWNvbmZsaWN0b3IuYWRkR3JhcGhpY3NPd25lcihlKSxsYWJlbGVyOihlLHQpPT50aGlzLnZpZXcubGFiZWxlci5hZGRHcmFwaGljc093bmVyKGUsdCx7ZW1wdHlTeW1ib2xMYWJlbFN1cHBvcnRlZDohMCxlbGV2YXRpb25JbmZvT3ZlcnJpZGU6e21vZGU6XCJhYnNvbHV0ZS1oZWlnaHRcIixvZmZzZXQ6MH0sZGlzYWJsZVBsYWNlbWVudDp7bG9nRW50aXR5RGVzY3JpcHRpb246XCIzRCBPYmplY3QgU2NlbmUgTGF5ZXIgZmVhdHVyZXNcIn19KSxzY2FsZVZpc2liaWxpdHk6KHQscik9Pm5ldyBJKHtncmFwaGljc0NvcmVPd25lcjp0aGlzLGxheWVyOnRoaXMubGF5ZXIscXVlcnlHcmFwaGljVUlEc0luRXh0ZW50OnIsZ3JhcGhpY3NDb3JlOnQsYmFzZW1hcFRlcnJhaW46ZSxsYXllclNjYWxlRW5hYmxlZDohMX0pfX0pLHRoaXMuX2dyYXBoaWNzQ29yZS5pbml0aWFsaXplUHJvbWlzZS50aGVuKCgoKT0+dGhpcy5fZ3JhcGhpY3NDb3JlLnN0YXJ0Q3JlYXRlR3JhcGhpY3MoKSkpLmNhdGNoKCgoKT0+e30pKSx0aGlzLmFkZEhhbmRsZXMoYSgoKCk9PnRoaXMubGF5ZXIubGFiZWxpbmdJbmZvKSwoKGUsdCk9PntoKGUsdCkmJnRoaXMuX2dyYXBoaWNzQ29yZS51cGRhdGVMYWJlbGluZ0luZm8oKX0pKSl9ZGVzdHJveSgpe3RoaXMuX2dyYXBoaWNzQ29yZT1pKHRoaXMuX2dyYXBoaWNzQ29yZSksdGhpcy5sb2FkZWRHcmFwaGljcz1pKHRoaXMubG9hZGVkR3JhcGhpY3MpLHRoaXMudmlldz1udWxsfWFkZE5vZGVNZXRhKGUsdCl7bGV0IHI9MDtjb25zdCBzPWUuZmlsdGVyZWRJZHMsbz10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxpPVtdO2ZvcihsZXQgYT0wO2E8ZS5mZWF0dXJlSWRzLmxlbmd0aDthKyspe2NvbnN0IHA9ZS5mZWF0dXJlSWRzW2FdO2xldCBjPW51bGw9PXM7aWYocyYmcjxzLmxlbmd0aCYmcD09PXNbcl0mJihjPSEwLHIrKyksIXRoaXMuX2VuYWJsZWRGb3JGZWF0dXJlSW5Ob2RlKGUsYSkpY29udGludWU7Y29uc3QgaD10aGlzLl9mZWF0dXJlc01hcC5nZXQocCk7aWYoaCl7aC5jb21wb25lbnRzLnB1c2gobmV3IEcoZSxhKSksdGhpcy5fdXBkYXRlTGFiZWxQb3NpdGlvbihwKTtjb250aW51ZX1jb25zdCBsPXQoYSxlKSxkPXkoMCwwLDAsbyksdT17b2JqZWN0SWQ6cCx1aWQ6bigpLGF0dHJpYnV0ZXM6bCx2aXNpYmxlOmMsZ2VvbWV0cnk6ZH0sbT1uZXcgRCh1LGQpO20uY29tcG9uZW50cy5wdXNoKG5ldyBHKGUsYSkpLHRoaXMuX2ZlYXR1cmVzTWFwLnNldChwLG0pLHRoaXMuX3VwZGF0ZUxhYmVsR2VvbWV0cnkocCksaS5wdXNoKHUpfXRoaXMubG9hZGVkR3JhcGhpY3MuYWRkTWFueShpKX11cGRhdGVMYWJlbFBvc2l0aW9ucyhlKXtjb25zdCB0PXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXI7dGhpcy5fZm9yRWFjaEdyYXBoaWMoZSwoKHIscyxvKT0+e2NvbnN0IGk9dGhpcy5fZ3JhcGhpY3NDb3JlLmdldEdyYXBoaWNzM0RHcmFwaGljQnlJZChzLnVpZCk7bnVsbCE9aSYmdGhpcy5fdXBkYXRlTGFiZWxHZW9tZXRyeShlLmZlYXR1cmVJZHNbcl0pJiZpLmFsaWduV2l0aEFic29sdXRlRWxldmF0aW9uKG8uej8/MCx0LCExKX0pKX1zZXROb2RlTWV0YUF0dHJpYnV0ZXMoZSx0KXtjb25zdCByPW5ldyBBcnJheTt0aGlzLl9mb3JFYWNoR3JhcGhpYyhlLCgobyxpKT0+e2NvbnN0IGE9dChvLGUpO3MoaS5hdHRyaWJ1dGVzLGEpfHwoaS5hdHRyaWJ1dGVzPWEsci5wdXNoKGkudWlkKSl9KSksdGhpcy5fZ3JhcGhpY3NDb3JlLnVwZGF0ZUxhYmVsaW5nSW5mbyhyKX1hcHBseUZpbHRlckNoYW5nZShlKXt0aGlzLl9mb3JFYWNoRmVhdHVyZShlLCgodCxyLHMpPT57aWYoIXRoaXMuX2VuYWJsZWRGb3JGZWF0dXJlSW5Ob2RlKGUsdCkpe2NvbnN0IHM9ZS5mZWF0dXJlSWRzW3RdO3N3aXRjaCh0aGlzLl9yZW1vdmVGZWF0dXJlKHIsZSx0KSl7Y2FzZSBGLlJFTU9WRUQ6dGhpcy5sb2FkZWRHcmFwaGljcy5yZW1vdmVNYW55QnlPYmplY3RJZChbc10pO2JyZWFrO2Nhc2UgRi5NT0RJRklFRDp0aGlzLl91cGRhdGVMYWJlbFBvc2l0aW9uKHMpfXJldHVybn1jb25zdCBvPXIuZ3JhcGhpYyxpPW8udmlzaWJsZTtpIT09cyYmKG8udmlzaWJsZT1zLEMuZ3JhcGhpYz1vLEMucHJvcGVydHk9XCJ2aXNpYmxlXCIsQy5vbGRWYWx1ZT1pLEMubmV3VmFsdWU9cyx0aGlzLl9ncmFwaGljc0NvcmUuZ3JhcGhpY1VwZGF0ZUhhbmRsZXIoQykpfSkpfXJlbW92ZU5vZGVNZXRhKGUpe2NvbnN0IHQ9W107dGhpcy5fZm9yRWFjaEdyYXBoaWMoZSwocj0+e2NvbnN0IHM9ZS5mZWF0dXJlSWRzW3JdLG89dGhpcy5fZmVhdHVyZXNNYXAuZ2V0KHMpO2lmKCFvKXJldHVybjtzd2l0Y2godGhpcy5fcmVtb3ZlRmVhdHVyZShvLGUscikpe2Nhc2UgRi5NT0RJRklFRDp0aGlzLl91cGRhdGVMYWJlbFBvc2l0aW9uKHMpO2JyZWFrO2Nhc2UgRi5SRU1PVkVEOnQucHVzaChzKX19KSksdGhpcy5sb2FkZWRHcmFwaGljcy5yZW1vdmVNYW55QnlPYmplY3RJZCh0KX1fcmVtb3ZlRmVhdHVyZShlLHQscyl7Y29uc3Qgbz1lLmNvbXBvbmVudHMubGVuZ3RoO3JldHVybiByKGUuY29tcG9uZW50cywoZT0+IShlLm1ldGE9PT10JiZlLmluZGV4PT09cykpKSwwPT09ZS5jb21wb25lbnRzLmxlbmd0aD8odGhpcy5fZmVhdHVyZXNNYXAuZGVsZXRlKHQuZmVhdHVyZUlkc1tzXSksRi5SRU1PVkVEKTpvIT09ZS5jb21wb25lbnRzLmxlbmd0aD9GLk1PRElGSUVEOkYuVU5NT0RJRklFRH1nZXRSZW5kZXJpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0luZm99bm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZCgpe31ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQoKXt9X3VwZGF0ZUxhYmVsUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9mZWF0dXJlc01hcC5nZXQoZSk7dCYmdGhpcy5fdXBkYXRlTGFiZWxHZW9tZXRyeShlKSYmKHRoaXMubG9hZGVkR3JhcGhpY3MucmVtb3ZlTWFueUJ5T2JqZWN0SWQoW2VdKSx0aGlzLmxvYWRlZEdyYXBoaWNzLmFkZE1hbnkoW3QuZ3JhcGhpY10pKX1fdXBkYXRlTGFiZWxHZW9tZXRyeShlKXtjb25zdCB0PXRoaXMuX2ZlYXR1cmVzTWFwLmdldChlKTtpZighdClyZXR1cm4hMTtjb25zdCByPXQuZ2VvbWV0cnkscz10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxpPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIsYT1yLngsbj1yLnkscD1yLno/PzAsYz10LmNvbXBvbmVudHMubGVuZ3RoLGg9ZyhjKl8pO2xldCBkPTA7Zm9yKGNvbnN0e21ldGE6byxpbmRleDpsfW9mIHQuY29tcG9uZW50cyl2KGwsdGhpcy5jb2xsZWN0aW9uLG8ub2JqZWN0SGFuZGxlLGgsZCksZCs9XztyZXR1cm4gbChoLGkuc3BhdGlhbFJlZmVyZW5jZSwwLGgscywwLGgubGVuZ3RoLzMpLHUoTyxtKSxmKE8saCksci54PShPWzBdK09bM10pLzIsci55PShPWzFdK09bNF0pLzIsci56PU9bNV0sIW8oci54LGEpfHwhbyhyLnksbil8fCFvKHIueixwKX1fZm9yRWFjaEdyYXBoaWMoZSx0KXt0aGlzLl9mb3JFYWNoRmVhdHVyZShlLCgocix7Z3JhcGhpYzpzLGdlb21ldHJ5Om99LGkpPT57dGhpcy5fZW5hYmxlZEZvckZlYXR1cmVJbk5vZGUoZSxyKSYmdChyLHMsbyxpKX0pKX1fZm9yRWFjaEZlYXR1cmUoZSx0KXtsZXQgcj0wO2ZvcihsZXQgcz0wO3M8ZS5mZWF0dXJlSWRzLmxlbmd0aDtzKyspe2NvbnN0IG89dGhpcy5fZmVhdHVyZXNNYXAuZ2V0KGUuZmVhdHVyZUlkc1tzXSk7bGV0IGk9bnVsbD09ZS5maWx0ZXJlZElkcztlLmZpbHRlcmVkSWRzJiZlLmZpbHRlcmVkSWRzW3JdPT09ZS5mZWF0dXJlSWRzW3NdJiYoaT0hMCxyKyspLG8mJnQocyxvLGkpfX1fZW5hYmxlZEZvckZlYXR1cmVJbk5vZGUoZSx0KXtyZXR1cm4gZS5ub2RlLmluZGV4PDB8fCF0aGlzLm92ZXJyaWRlcz8uZmVhdHVyZUhhc0dlb21ldHJ5Q2hhbmdlcyhlLmZlYXR1cmVJZHNbdF0pfWdldCB1cGRhdGVQb2xpY3koKXtyZXR1cm4gdGhpcy5fZ3JhcGhpY3NDb3JlLmVmZmVjdGl2ZVVwZGF0ZVBvbGljeX1nZXQgdXNlZE1lbW9yeSgpe3JldHVybiB0aGlzLl9ncmFwaGljc0NvcmUudXNlZE1lbW9yeX1nZXQgdW5sb2FkZWRNZW1vcnlFc3RpbWF0ZSgpe3JldHVybiB0aGlzLl9ncmFwaGljc0NvcmUudW5wcm9jZXNzZWRNZW1vcnlFc3RpbWF0ZX1nZXQgdGVzdCgpe3JldHVybntncmFwaGljc0NvcmU6dGhpcy5fZ3JhcGhpY3NDb3JlfX19O2UoW3AoKV0sdy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtwKCldLHcucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW3AoKV0sdy5wcm90b3R5cGUsXCJjb2xsZWN0aW9uXCIsdm9pZCAwKSxlKFtwKCldLHcucHJvdG90eXBlLFwibG9hZGVkR3JhcGhpY3NcIix2b2lkIDApLGUoW3AoKV0sdy5wcm90b3R5cGUsXCJvdmVycmlkZXNcIix2b2lkIDApLGUoW3AoKV0sdy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3AoKV0sdy5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksZShbcCgpXSx3LnByb3RvdHlwZSxcIl9ncmFwaGljc0NvcmVcIix2b2lkIDApLHc9ZShbYyhcImVzcmkudmlld3MuM2QubGF5ZXJzLkkzU01lc2hWaWV3TGFiZWxlclwiKV0sdyk7Y29uc3QgQz17Z3JhcGhpYzpudWxsLHByb3BlcnR5Om51bGwsb2xkVmFsdWU6bnVsbCxuZXdWYWx1ZTpudWxsfTt2YXIgRjshZnVuY3Rpb24oZSl7ZVtlLlVOTU9ESUZJRUQ9MF09XCJVTk1PRElGSUVEXCIsZVtlLk1PRElGSUVEPTFdPVwiTU9ESUZJRURcIixlW2UuUkVNT1ZFRD0yXT1cIlJFTU9WRURcIn0oRnx8KEY9e30pKTtjb25zdCBPPWQoKSxMPXc7ZXhwb3J0e0wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL1Bvb2xlZEFycmF5LmpzXCI7aW1wb3J0e1dvcmtlckhhbmRsZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvd29ya2Vycy9Xb3JrZXJIYW5kbGUuanNcIjtpbXBvcnR7Y2FuUHJvamVjdFdpdGhvdXRFbmdpbmUgYXMgdH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uLmpzXCI7aW1wb3J0e3Byb2plY3RWZWN0b3JUb1ZlY3RvciBhcyByfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdFZlY3RvclRvVmVjdG9yLmpzXCI7aW1wb3J0e01vZGlmaWNhdGlvblR5cGUgYXMgcH1mcm9tXCIuLi8uLi8uLi9saWJzL2kzcy9lbnVtcy5qc1wiO2NsYXNzIGggZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKFwiU2NlbmVMYXllcldvcmtlclwiLFwicHJvY2Vzc1wiLHtwcm9jZXNzOnM9PltzLmdlb21ldHJ5QnVmZmVyXSxwcm9qZWN0OnM9PltzLnBvc2l0aW9ucy5idWZmZXJdLHRyYW5zZm9ybU5vcm1hbHM6cz0+W3Mubm9ybWFscy5idWZmZXJdfSxzLHtoYXNJbml0aWFsaXplOiEwfSl9c2V0TW9kaWZpY2F0aW9ucyhzLGUsbyx0KXtjb25zdCByPXtjb250ZXh0OnMsbW9kaWZpY2F0aW9uczp1KGUsbyx0KSxpc0dlb2RldGljOnQuaXNHZW9ncmFwaGljfTt0aGlzLmJyb2FkY2FzdChyLFwic2V0TW9kaWZpY2F0aW9uc1wiKX1zZXRMZWdhY3lTY2hlbWEocyxlKXtjb25zdCBvPUpTT04uc3RyaW5naWZ5KGUpO3JldHVybiB0aGlzLmJyb2FkY2FzdCh7Y29udGV4dDpzLGpzb25TY2hlbWE6b30sXCJzZXRMZWdhY3lTY2hlbWFcIil9ZGVzdHJveUNvbnRleHQocyl7cmV0dXJuIHRoaXMuYnJvYWRjYXN0KHMsXCJkZXN0cm95Q29udGV4dFwiKX1wcm9qZWN0KHMsZSl7cmV0dXJuIHRoaXMuaW52b2tlTWV0aG9kKFwicHJvamVjdFwiLHMsZSl9dHJhbnNmb3JtTm9ybWFscyhzLGUpe3JldHVybiB0aGlzLmludm9rZU1ldGhvZChcInRyYW5zZm9ybU5vcm1hbHNcIixzLGUpfX1jb25zdCBuPW5ldyBlKHtkZWFsbG9jYXRvcjpudWxsfSksaT1bMCwwLDBdO2Z1bmN0aW9uIHUoZSxvLGgpe24uY2xlYXIoKTtsZXQgdT0xLzAsYT0xLzAsYz0tMS8wLGY9LTEvMCxsPSExO2Zvcihjb25zdCBkIG9mIG8pe2NvbnN0IGU9XCJjbGlwXCI9PT1kLnR5cGU/cC5JbnNpZGU6XCJtYXNrXCI9PT1kLnR5cGU/cC5PdXRzaWRlOnAuUmVwbGFjZSxvPWQuZ2VvbWV0cnk7bGV0IG09cz0+cztpZihvLnNwYXRpYWxSZWZlcmVuY2Upe2lmKCF0KG8uc3BhdGlhbFJlZmVyZW5jZSxoKSl7cy5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5JM1NNZXNoV29ya2VySGFuZGxlXCIpLndhcm4oXCJDYW4ndCBwcm9qZWN0IG1vZGlmaWNhdGlvbiBwb2x5Z29uIGludG8gbGF5ZXIgc3BhdGlhbCByZWZlcmVuY2UsIGlnbm9yaW5nIG1vZGlmaWNhdGlvblwiKTtjb250aW51ZX1tPXM9PihyKHMsby5zcGF0aWFsUmVmZXJlbmNlLGksaCksaSl9ZWxzZSBvLmhhc1p8fChpWzJdPTAsbT1zPT4oaVswXT1zWzBdLGlbMV09c1sxXSxpKSk7bD1sfHxlPT09cC5PdXRzaWRlLG4ucHVzaChlKSxuLnB1c2goby5yaW5ncy5sZW5ndGgpO2Zvcihjb25zdCBzIG9mIG8ucmluZ3Mpe24ucHVzaChzLmxlbmd0aCk7Zm9yKGNvbnN0IGUgb2Ygcyl7Y29uc3Qgcz1tKGUpO24ucHVzaChzWzBdKSxuLnB1c2goc1sxXSksbi5wdXNoKHNbMl0pLHU9TWF0aC5taW4odSxzWzBdKSxhPU1hdGgubWluKGEsc1sxXSksYz1NYXRoLm1heChjLHNbMF0pLGY9TWF0aC5tYXgoZixzWzFdKX19fWlmKG51bGwhPWUpaWYobCl7Y29uc3Qgcz0xZS00O24ucHVzaChwLkluc2lkZSksbi5wdXNoKDIpLG4ucHVzaCg0KSxuLnB1c2godS1zKSxuLnB1c2goYS1zKSxuLnB1c2goMCksbi5wdXNoKGMrcyksbi5wdXNoKGEtcyksbi5wdXNoKDApLG4ucHVzaChjK3MpLG4ucHVzaChmK3MpLG4ucHVzaCgwKSxuLnB1c2godS1zKSxuLnB1c2goZitzKSxuLnB1c2goMCksbi5wdXNoKDQpLG4ucHVzaChlWzBdKSxuLnB1c2goZVsxXSksbi5wdXNoKDApLG4ucHVzaChlWzJdKSxuLnB1c2goZVsxXSksbi5wdXNoKDApLG4ucHVzaChlWzJdKSxuLnB1c2goZVszXSksbi5wdXNoKDApLG4ucHVzaChlWzBdKSxuLnB1c2goZVszXSksbi5wdXNoKDApfWVsc2Ugbi5wdXNoKHAuT3V0c2lkZSksbi5wdXNoKDEpLG4ucHVzaCg0KSxuLnB1c2goZVswXSksbi5wdXNoKGVbMV0pLG4ucHVzaCgwKSxuLnB1c2goZVsyXSksbi5wdXNoKGVbMV0pLG4ucHVzaCgwKSxuLnB1c2goZVsyXSksbi5wdXNoKGVbM10pLG4ucHVzaCgwKSxuLnB1c2goZVswXSksbi5wdXNoKGVbM10pLG4ucHVzaCgwKTtuLnB1c2gocC5GaW5pc2hlZCk7Y29uc3QgbT1uZXcgRmxvYXQ2NEFycmF5KG4ubGVuZ3RoKTtmb3IobGV0IHM9MDtzPG4ubGVuZ3RoOysrcyltW3NdPW4uYXQocyk7cmV0dXJuIG19ZXhwb3J0e2ggYXMgSTNTTWVzaFdvcmtlckhhbmRsZSx1IGFzIHRvV2FzbU1vZGlmaWNhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIEUsSTshZnVuY3Rpb24oRSl7RVtFLlZJU0lCTEVfT05MWT0wXT1cIlZJU0lCTEVfT05MWVwiLEVbRS5BTEw9MV09XCJBTExcIixFW0UuUVVFUllBQkxFPTJdPVwiUVVFUllBQkxFXCJ9KEV8fChFPXt9KSksZnVuY3Rpb24oRSl7RVtFLkVYSVQ9MF09XCJFWElUXCIsRVtFLkNPTlRJTlVFPTFdPVwiQ09OVElOVUVcIixFW0UuU0tJUD0yXT1cIlNLSVBcIn0oSXx8KEk9e30pKTtleHBvcnR7RSBhcyBGb3JBbGxGZWF0dXJlc01vZGUsSSBhcyBGb3JBbGxGZWF0dXJlc1JldHVyblR5cGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7dG9GbG9hdDY0QXJyYXkgYXMgcn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0RvdWJsZUFycmF5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9NZXNoR2VvcmVmZXJlbmNlZFJlbGF0aXZlVmVydGV4U3BhY2UuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L01lc2hMb2NhbFZlcnRleFNwYWNlLmpzXCI7aW1wb3J0e2EgYXMgbixuIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMyLmpzXCI7aW1wb3J0e0luZGV4VHlwZSBhcyBpfWZyb21cIi4uLy4uLy4uL2xpYnMvaTNzL2VudW1zLmpzXCI7aW1wb3J0e2dldCBhcyBhfWZyb21cIi4uLy4uLy4uL2xpYnMvaTNzL0kzU01vZHVsZS5qc1wiO2ltcG9ydHtOb2RlSU1Nb2RpZmljYXRpb25JbXBhY3QgYXMgZn1mcm9tXCIuL2kzcy9JM1NOb2RlLmpzXCI7YXN5bmMgZnVuY3Rpb24gbChlKXtnPWF3YWl0IGooKTtjb25zdCByPVtlLmdlb21ldHJ5QnVmZmVyXTtyZXR1cm57cmVzdWx0OncoZyxlLHIpLHRyYW5zZmVyTGlzdDpyfX1hc3luYyBmdW5jdGlvbiBjKGUpe2c9YXdhaXQgaigpO2NvbnN0IHI9W2UuZ2VvbWV0cnlCdWZmZXJdLHtnZW9tZXRyeUJ1ZmZlcjp0fT1lLG89dC5ieXRlTGVuZ3RoLG49Zy5fbWFsbG9jKG8pLHM9bmV3IFVpbnQ4QXJyYXkoZy5IRUFQVTguYnVmZmVyLG4sbyk7cy5zZXQobmV3IFVpbnQ4QXJyYXkodCkpO2NvbnN0IGk9Zy5kcmFjb0RlY29tcHJlc3NQb2ludENsb3VkRGF0YShuLHMuYnl0ZUxlbmd0aCk7aWYoZy5fZnJlZShuKSxpLmVycm9yLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgaTNzLndhc206ICR7aS5lcnJvcn1gKTtjb25zdCBhPWkuZmVhdHVyZUlkcz8ubGVuZ3RoPjA/aS5mZWF0dXJlSWRzLnNsaWNlKCk6bnVsbCxmPWkucG9zaXRpb25zLnNsaWNlKCk7cmV0dXJuIGEmJnIucHVzaChhLmJ1ZmZlciksci5wdXNoKGYuYnVmZmVyKSx7cmVzdWx0Ontwb3NpdGlvbnM6ZixmZWF0dXJlSWRzOmF9LHRyYW5zZmVyTGlzdDpyfX1hc3luYyBmdW5jdGlvbiB1KGUpe2F3YWl0IGooKSxMKGUpO2NvbnN0IHI9e2J1ZmZlcjplLmJ1ZmZlcn07cmV0dXJue3Jlc3VsdDpyLHRyYW5zZmVyTGlzdDpbci5idWZmZXJdfX1hc3luYyBmdW5jdGlvbiBtKGUpe2F3YWl0IGooKSxFKGUpfWFzeW5jIGZ1bmN0aW9uIHkoZSl7Zz1hd2FpdCBqKCksZy5zZXRMZWdhY3lTY2hlbWEoZS5jb250ZXh0LGUuanNvblNjaGVtYSl9YXN5bmMgZnVuY3Rpb24gcChuKXtjb25zdHtsb2NhbE1hdHJpeDpzLG9yaWdpbjppLHBvc2l0aW9uczphLHZlcnRleFNwYWNlOmYsbG9jYWxNb2RlOmx9PW4sYz1lLmZyb21KU09OKG4uaW5TcGF0aWFsUmVmZXJlbmNlKSx1PWUuZnJvbUpTT04obi5vdXRTcGF0aWFsUmVmZXJlbmNlKTtsZXQgbTtpZihcImdlb3JlZmVyZW5jZWRcIj09PWYudHlwZSl7Y29uc3Rbe3Byb2plY3RCdWZmZXI6ZX0se2luaXRpYWxpemVQcm9qZWN0aW9uOnJ9XT1hd2FpdCBQcm9taXNlLmFsbChbaW1wb3J0KFwiLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0QnVmZmVyLmpzXCIpLGltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24uanNcIildKTthd2FpdCByKGMsdSksbT1uZXcgRmxvYXQ2NEFycmF5KGEubGVuZ3RoKSxlKGEsYywwLG0sdSwwLG0ubGVuZ3RoLzMpfWVsc2V7Y29uc3QgZT1cImdlb3JlZmVyZW5jZWRSZWxhdGl2ZVwiPT09Zi50eXBlP3QuZnJvbUpTT04oZik6by5mcm9tSlNPTihmKSx7cHJvamVjdDpufT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9nZW9yZWZlcmVuY2UuanNcIik7bT1yKG4oe3Bvc2l0aW9uczphLHRyYW5zZm9ybTpzP3tsb2NhbE1hdHJpeDpzfTp2b2lkIDAsdmVydGV4U3BhY2U6ZSxpblNwYXRpYWxSZWZlcmVuY2U6YyxvdXRTcGF0aWFsUmVmZXJlbmNlOnUsbG9jYWxNb2RlOmx9KSl9Y29uc3QgeT1tLmxlbmd0aCxbcCxkLGJdPWk7Zm9yKGxldCBlPTA7ZTx5O2UrPTMpbVtlXS09cCxtW2UrMV0tPWQsbVtlKzJdLT1iO3JldHVybntyZXN1bHQ6e3Byb2plY3RlZDptLG9yaWdpbmFsOmF9LHRyYW5zZmVyTGlzdDpbbS5idWZmZXIsYS5idWZmZXJdfX1hc3luYyBmdW5jdGlvbiBkKHtub3JtYWxNYXRyaXg6ZSxub3JtYWxzOnJ9KXtjb25zdCB0PW5ldyBGbG9hdDMyQXJyYXkoci5sZW5ndGgpO3JldHVybiBuKHQscixlKSxzKHQsdCkse3Jlc3VsdDp7dHJhbnNmb3JtZWQ6dCxvcmlnaW5hbDpyfSx0cmFuc2Zlckxpc3Q6W3QuYnVmZmVyLHIuYnVmZmVyXX19ZnVuY3Rpb24gYihlKXtTKGUpfWxldCBoLGc7ZnVuY3Rpb24gRShlKXtpZighZylyZXR1cm47Y29uc3Qgcj1lLm1vZGlmaWNhdGlvbnMsdD1nLl9tYWxsb2MoOCpyLmxlbmd0aCksbz1uZXcgRmxvYXQ2NEFycmF5KGcuSEVBUFU4LmJ1ZmZlcix0LHIubGVuZ3RoKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoOysrbilvW25dPXJbbl07Zy5zZXRNb2RpZmljYXRpb25zKGUuY29udGV4dCx0LHIubGVuZ3RoLGUuaXNHZW9kZXRpYyksZy5fZnJlZSh0KX1mdW5jdGlvbiB3KGUscix0KXtjb25zdHtjb250ZXh0Om8sbG9jYWxPcmlnaW46bixnbG9iYWxUcmFmbzpzLG1iczphLG9iYjpmLGVsZXZhdGlvbk9mZnNldDpsLGdlb21ldHJ5QnVmZmVyOmMsZ2VvbWV0cnlEZXNjcmlwdG9yOnUsaW5kZXhUb1ZlcnRleFByb2plY3RvcjptLHZlcnRleFRvUmVuZGVyUHJvamVjdG9yOnl9PXIscD1lLl9tYWxsb2MoYy5ieXRlTGVuZ3RoKSxkPTMzLGI9ZS5fbWFsbG9jKGQqRmxvYXQ2NEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKSxoPW5ldyBVaW50OEFycmF5KGUuSEVBUFU4LmJ1ZmZlcixwLGMuYnl0ZUxlbmd0aCk7aC5zZXQobmV3IFVpbnQ4QXJyYXkoYykpO2NvbnN0IGc9bmV3IEZsb2F0NjRBcnJheShlLkhFQVBVOC5idWZmZXIsYixkKTtfKGcsbik7bGV0IEU9Zy5ieXRlT2Zmc2V0KzMqZy5CWVRFU19QRVJfRUxFTUVOVCx3PW5ldyBGbG9hdDY0QXJyYXkoZy5idWZmZXIsRSk7Xyh3LHMpLEUrPTE2KmcuQllURVNfUEVSX0VMRU1FTlQsdz1uZXcgRmxvYXQ2NEFycmF5KGcuYnVmZmVyLEUpLF8odyxhKSxFKz00KmcuQllURVNfUEVSX0VMRU1FTlQsbnVsbCE9ZiYmKHc9bmV3IEZsb2F0NjRBcnJheShnLmJ1ZmZlcixFKSxfKHcsZi5jZW50ZXIpLEUrPTMqZy5CWVRFU19QRVJfRUxFTUVOVCx3PW5ldyBGbG9hdDY0QXJyYXkoZy5idWZmZXIsRSksXyh3LGYuaGFsZlNpemUpLEUrPTMqZy5CWVRFU19QRVJfRUxFTUVOVCx3PW5ldyBGbG9hdDY0QXJyYXkoZy5idWZmZXIsRSksXyh3LGYucXVhdGVybmlvbikpO2NvbnN0IEE9dSxMPXtpc0RyYWNvOiExLGlzTGVnYWN5OiExLGNvbG9yOnIubGF5b3V0cy5zb21lKChlPT5lLnNvbWUoKGU9PlwiY29sb3JcIj09PWUubmFtZSkpKSksbm9ybWFsOnIubmVlZE5vcm1hbHMmJnIubGF5b3V0cy5zb21lKChlPT5lLnNvbWUoKGU9Plwibm9ybWFsQ29tcHJlc3NlZFwiPT09ZS5uYW1lKSkpKSx1djA6ci5sYXlvdXRzLnNvbWUoKGU9PmUuc29tZSgoZT0+XCJ1djBcIj09PWUubmFtZSkpKSksdXZSZWdpb246ci5sYXlvdXRzLnNvbWUoKGU9PmUuc29tZSgoZT0+XCJ1dlJlZ2lvblwiPT09ZS5uYW1lKSkpKSxmZWF0dXJlSW5kZXg6QS5mZWF0dXJlSW5kZXh9LFM9ZS5wcm9jZXNzKG8sISFyLm9iYixwLGguYnl0ZUxlbmd0aCxBLEwsYixsLG0seSxyLm5vcm1hbFJlZmVyZW5jZUZyYW1lKTtpZihlLl9mcmVlKGIpLGUuX2ZyZWUocCksUy5lcnJvci5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYGkzcy53YXNtOiAke1MuZXJyb3J9YCk7aWYoUy5kaXNjYXJkZWQpcmV0dXJuIG51bGw7Y29uc3QgST1TLmNvbXBvbmVudE9mZnNldHMubGVuZ3RoPjA/Uy5jb21wb25lbnRPZmZzZXRzLnNsaWNlKCk6bnVsbCxqPVMuZmVhdHVyZUlkcy5sZW5ndGg+MD9TLmZlYXR1cmVJZHMuc2xpY2UoKTpudWxsLE09Uy5hbmNob3JJZHMubGVuZ3RoPjA/QXJyYXkuZnJvbShTLmFuY2hvcklkcyk6bnVsbCxQPVMuYW5jaG9ycy5sZW5ndGg+MD9BcnJheS5mcm9tKFMuYW5jaG9ycyk6bnVsbCxUPVMuaW50ZXJsZWF2ZWRWZXJ0ZWREYXRhLnNsaWNlKCkuYnVmZmVyLHg9Uy5pbmRpY2VzVHlwZT09PWkuSW50MTY/bmV3IFVpbnQxNkFycmF5KFMuaW5kaWNlcy5idWZmZXIsUy5pbmRpY2VzLmJ5dGVPZmZzZXQsUy5pbmRpY2VzLmJ5dGVMZW5ndGgvMikuc2xpY2UoKTpuZXcgVWludDMyQXJyYXkoUy5pbmRpY2VzLmJ1ZmZlcixTLmluZGljZXMuYnl0ZU9mZnNldCxTLmluZGljZXMuYnl0ZUxlbmd0aC80KS5zbGljZSgpLFI9Uy5wb3NpdGlvbnMuc2xpY2UoKSxVPVMucG9zaXRpb25JbmRpY2VzVHlwZT09PWkuSW50MTY/bmV3IFVpbnQxNkFycmF5KFMucG9zaXRpb25JbmRpY2VzLmJ1ZmZlcixTLnBvc2l0aW9uSW5kaWNlcy5ieXRlT2Zmc2V0LFMucG9zaXRpb25JbmRpY2VzLmJ5dGVMZW5ndGgvMikuc2xpY2UoKTpuZXcgVWludDMyQXJyYXkoUy5wb3NpdGlvbkluZGljZXMuYnVmZmVyLFMucG9zaXRpb25JbmRpY2VzLmJ5dGVPZmZzZXQsUy5wb3NpdGlvbkluZGljZXMuYnl0ZUxlbmd0aC80KS5zbGljZSgpLHY9e2xheW91dDpyLmxheW91dHNbMF0saW50ZXJsZWF2ZWRWZXJ0ZXhEYXRhOlQsaW5kaWNlczp4LGhhc0NvbG9yczpTLmhhc0NvbG9ycyxoYXNNb2RpZmljYXRpb25zOlMuaGFzTW9kaWZpY2F0aW9ucyxwb3NpdGlvbkRhdGE6e2RhdGE6UixpbmRpY2VzOlV9fTtyZXR1cm4gaiYmdC5wdXNoKGouYnVmZmVyKSxJJiZ0LnB1c2goSS5idWZmZXIpLHQucHVzaChUKSx0LnB1c2goeC5idWZmZXIpLHQucHVzaChSLmJ1ZmZlciksdC5wdXNoKFUuYnVmZmVyKSx7Y29tcG9uZW50T2Zmc2V0czpJLGZlYXR1cmVJZHM6aixhbmNob3JJZHM6TSxhbmNob3JzOlAsdHJhbnNmb3JtZWRHZW9tZXRyeTp2LG9iYjpTLm9iYn19ZnVuY3Rpb24gQShlKXtyZXR1cm4gMD09PWU/Zi5Vbm1vZGlmaWVkOjE9PT1lP2YuUG90ZW50aWFsbHlNb2RpZmllZDoyPT09ZT9mLkN1bGxlZDpmLlVua25vd259ZnVuY3Rpb24gTChlKXtpZighZylyZXR1cm47Y29uc3R7Y29udGV4dDpyLGJ1ZmZlcjp0fT1lLG89Zy5fbWFsbG9jKHQuYnl0ZUxlbmd0aCksbj10LmJ5dGVMZW5ndGgvRmxvYXQ2NEFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHM9bmV3IEZsb2F0NjRBcnJheShnLkhFQVBVOC5idWZmZXIsbyxuKSxpPW5ldyBGbG9hdDY0QXJyYXkodCk7cy5zZXQoaSksZy5maWx0ZXJPQkJzKHIsbyxuKSxpLnNldChzKSxnLl9mcmVlKG8pfWZ1bmN0aW9uIFMoZSl7ZyYmMD09PWcuZGVzdHJveShlKSYmKGc9bnVsbCl9ZnVuY3Rpb24gXyhlLHIpe2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7Kyt0KWVbdF09clt0XX1hc3luYyBmdW5jdGlvbiBJKCl7Z3x8YXdhaXQgaigpfWZ1bmN0aW9uIGooKXtyZXR1cm4gZz9Qcm9taXNlLnJlc29sdmUoZyk6KGh8fChoPWEoKS50aGVuKChlPT4oZz1lLGg9bnVsbCxnKSkpKSxoKX1jb25zdCBNPXt0cmFuc2Zvcm06KGUscik9PmcmJncoZyxlLHIpLGRlc3Ryb3k6U307ZXhwb3J0e2IgYXMgZGVzdHJveUNvbnRleHQsYyBhcyBkcmFjb0RlY29tcHJlc3NQb2ludENsb3VkRGF0YSx1IGFzIGZpbHRlck9iYnNGb3JNb2RpZmljYXRpb25zLEwgYXMgZmlsdGVyT2Jic0Zvck1vZGlmaWNhdGlvbnNTeW5jLEkgYXMgaW5pdGlhbGl6ZSxBIGFzIGludGVycHJldE9iYk1vZGlmaWNhdGlvblJlc3VsdHMsbCBhcyBwcm9jZXNzLHAgYXMgcHJvamVjdCx5IGFzIHNldExlZ2FjeVNjaGVtYSxtIGFzIHNldE1vZGlmaWNhdGlvbnMsRSBhcyBzZXRNb2RpZmljYXRpb25zU3luYyxNIGFzIHRlc3QsZCBhcyB0cmFuc2Zvcm1Ob3JtYWxzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cmVtb3ZlVW5vcmRlcmVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e0ZvckFsbEZlYXR1cmVzUmV0dXJuVHlwZSBhcyBpfWZyb21cIi4uL0lJM1NNZXNoVmlldzNELmpzXCI7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzPW5ldyBTZXR9fWNsYXNzIGh7Y29uc3RydWN0b3Ioe2NvbGxlY3Rpb246dCxmb3JBbGxGZWF0dXJlczplLGZvckFsbEZlYXR1cmVzT2ZOb2RlOml9KXt0aGlzLl9oaWdobGlnaHRzPVtdLHRoaXMuX2NvbGxlY3Rpb249dCx0aGlzLl9mb3JBbGxGZWF0dXJlcz1lLHRoaXMuX2ZvckFsbEZlYXR1cmVzT2ZOb2RlPWl9ZGVzdHJveSgpe3RoaXMuX2hpZ2hsaWdodHMuZm9yRWFjaCgodD0+dGhpcy5fcmVsZWFzZVNldCh0KSkpLHRoaXMuX2hpZ2hsaWdodHM9bnVsbH1hY3F1aXJlU2V0KCl7Y29uc3QgaT1uZXcgczt0aGlzLl9oaWdobGlnaHRzLnB1c2goaSk7Y29uc3QgaD1lKCgoKT0+e3RoaXMuX2hpZ2hsaWdodHMmJih0aGlzLl9yZWxlYXNlU2V0KGkpLHQodGhpcy5faGlnaGxpZ2h0cyxpKSl9KSk7cmV0dXJue3NldDppLGhhbmRsZTpofX1zZXRGZWF0dXJlSWRzKHQsZSl7ZS5mb3JFYWNoKChlPT50Lmlkcy5hZGQoZSkpKSx0aGlzLl9pbml0aWFsaXplU2V0KHQpfV9pbml0aWFsaXplU2V0KHQpe3RoaXMuX2ZvckFsbEZlYXR1cmVzKCgoZSxzLGgpPT4odC5pZHMuaGFzKGUpJiZ0aGlzLl9jb2xsZWN0aW9uLmFkZENvbXBvbmVudEhpZ2hsaWdodChoLm9iamVjdEhhbmRsZSxzKSxpLkNPTlRJTlVFKSkpfV9yZWxlYXNlU2V0KHQpe3RoaXMuX2ZvckFsbEZlYXR1cmVzKCgoZSxzLGgpPT4odC5pZHMuaGFzKGUpJiZ0aGlzLl9jb2xsZWN0aW9uLnJlbW92ZUNvbXBvbmVudEhpZ2hsaWdodChoLm9iamVjdEhhbmRsZSxzKSxpLkNPTlRJTlVFKSkpfW9iamVjdENyZWF0ZWQodCl7dGhpcy5faGlnaGxpZ2h0cy5mb3JFYWNoKChlPT57dGhpcy5fZm9yQWxsRmVhdHVyZXNPZk5vZGUodCwoKHMsaCk9PihlLmlkcy5oYXMocykmJnRoaXMuX2NvbGxlY3Rpb24uYWRkQ29tcG9uZW50SGlnaGxpZ2h0KHQub2JqZWN0SGFuZGxlLGgpLGkuQ09OVElOVUUpKSl9KSl9b2JqZWN0RGVsZXRlZCh0KXt0aGlzLl9jb2xsZWN0aW9uLmNsZWFySGlnaGxpZ2h0cyh0Lm9iamVjdEhhbmRsZSl9fWV4cG9ydHtoIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtFeHRlbnRTZXQgYXMgb31mcm9tXCIuLi9ncmFwaGljcy9FeHRlbnRTZXQuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIG59ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtsZXQgaT1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSx0LHMpe3N1cGVyKHt9KSx0aGlzLl91cGRhdGVFeHRlbnQ9dCx0aGlzLl91cGRhdGVOb2RlPXMsdGhpcy5ydW5uaW5nPSExLHRoaXMuX2V4dGVudFNldD1uZXcgbyx0aGlzLl9ub2RlU2V0PW5ldyBTZXQsdGhpcy5hZGRIYW5kbGVzKGUucmVnaXN0ZXJUYXNrKG4uRUxFVkFUSU9OX0FMSUdOTUVOVCx0aGlzKSl9bm9ybWFsaXplQ3RvckFyZ3MoKXtyZXR1cm57fX1hZGRFeHRlbnQoZSl7dGhpcy5fZXh0ZW50U2V0LmFkZChlKSx0aGlzLnJ1bm5pbmc9ITB9c2NoZWR1bGUoZSl7dGhpcy5fbm9kZVNldC5hZGQoZSksdGhpcy5ydW5uaW5nPSEwfXJlbW92ZShlKXt0aGlzLl9ub2RlU2V0LmRlbGV0ZShlKSx0aGlzLl91cGRhdGVSdW5uaW5nKCl9cnVuVGFzayhlKXtjb25zdCB0PXRoaXMuX2V4dGVudFNldDtmb3IoZS5ydW4oKCgpPT50Lm1lcmdlKGUpKSk7IXQuZW1wdHkmJiFlLmRvbmU7KXtjb25zdCBzPXRoaXMuX3VwZGF0ZUV4dGVudCh0LnBvcCgpKTtudWxsIT1zJiZzLmZvckFsbCgoZT0+dGhpcy5zY2hlZHVsZShlKSkpLGUubWFkZVByb2dyZXNzKCl9aWYoZS5kb25lKXJldHVybjtjb25zdCBzPXRoaXMuX25vZGVTZXQ7Zm9yKGNvbnN0IHIgb2YgcylpZihzLmRlbGV0ZShyKSx0aGlzLl91cGRhdGVOb2RlKHIpLGUubWFkZVByb2dyZXNzKCksZS5kb25lKWJyZWFrO3RoaXMuX3VwZGF0ZVJ1bm5pbmcoKX1fdXBkYXRlUnVubmluZygpe3RoaXMucnVubmluZz10aGlzLl9ub2RlU2V0LnNpemU+MHx8dGhpcy5fZXh0ZW50U2V0LnNpemU+MH19O2UoW3MoKV0saS5wcm90b3R5cGUsXCJydW5uaW5nXCIsdm9pZCAwKSxpPWUoW3IoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5pM3MuSTNTQXN5bmNFbGV2YXRpb25VcGRhdGVyLnRzXCIpXSxpKTtleHBvcnR7aSBhcyBJM1NBc3luY0VsZXZhdGlvblVwZGF0ZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZW1vdmVNYXliZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7YWRkRnJhbWVUYXNrIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7aW1wb3J0e0ZhZGVEaXJlY3Rpb24gYXMgZH1mcm9tXCIuLi9zdXBwb3J0L0kzU0xheWVyVmlldy5qc1wiO2NsYXNzIG97Y29uc3RydWN0b3IoKXt0aGlzLmxvZENyb3NzZmFkZVNpZ25lZER1cmF0aW9uPTB9fWNsYXNzIGl7Y29uc3RydWN0b3IoZSl7dGhpcy5fdmlldz1lLHRoaXMuX3ByZVJlbmRlckZyYW1lVGFza0hhbmRsZT1udWxsLHRoaXMuX2N1cnJlbnRGcmFtZVN0YXJ0VGltZT1udWxsLHRoaXMuX251bUZhZGluZ05vZGVzPTB9ZGVzdHJveSgpe3RoaXMuX3ByZVJlbmRlckZyYW1lVGFza0hhbmRsZT8ucmVtb3ZlKCksdGhpcy5fcHJlUmVuZGVyRnJhbWVUYXNrSGFuZGxlPW51bGwsdGhpcy5fdmlldz1udWxsfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl9udW1GYWRpbmdOb2Rlcz4wfXN0b3BOb2RlRmFkaW5nKHMpe251bGwhPXMubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3MmJih0aGlzLl9udW1GYWRpbmdOb2Rlcy0tLHMubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3M9bnVsbCwwPT09dGhpcy5fbnVtRmFkaW5nTm9kZXMmJihudWxsIT10aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGUmJih0aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGU9ZSh0aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGUpKSx0aGlzLl92aWV3Lm5vdGlmeUxPRFVwZGF0ZSgpLHRoaXMuX3ZpZXcubm90aWZ5VXBkYXRlKCkpKX1fc3RhcnROb2RlRmFkaW5nKGUsZCxvKXswPT09dGhpcy5fbnVtRmFkaW5nTm9kZXMmJih0aGlzLl9wcmVSZW5kZXJGcmFtZVRhc2tIYW5kbGU9cyh7cHJlUmVuZGVyOmU9PnRoaXMuX3VwZGF0ZUFsbE5vZGVGYWRpbmcoZSl9KSx0aGlzLl92aWV3Lm5vdGlmeUxPRFVwZGF0ZSgpKSxudWxsPT1lLmxvZENyb3NzZmFkZVByb2dyZXNzJiYodGhpcy5fbnVtRmFkaW5nTm9kZXMrKyx0aGlzLl92aWV3Lm5vdGlmeVVwZGF0ZSgpKSxlLmxvZENyb3NzZmFkZVNpZ25lZER1cmF0aW9uPW8sZS5sb2RDcm9zc2ZhZGVQcm9ncmVzcz1kfV91cGRhdGVBbGxOb2RlRmFkaW5nKGUpe2NvbnN0IHM9dGhpcy5fdmlldy5ub2RlQ3Jvc3NmYWRpbmdFbmFibGVkO3RoaXMuX3ZpZXcuZm9yZWFjaENyb3NzZmFkZU5vZGUoKChkLG8pPT57aWYobnVsbCE9bz8ubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3Mpe2NvbnN0IGk9by5sb2RDcm9zc2ZhZGVTaWduZWREdXJhdGlvbix0PWk+MD90aGlzLl92aWV3LmZ1bGxPcGFjaXR5OjAscj1lLmRlbHRhVGltZS9pLGE9by5sb2RDcm9zc2ZhZGVQcm9ncmVzcytNYXRoLmFicyhyKSxuPSFzfHxhPj0xfHwwPT09aSxsPXQtKG4/MDppPjA/MTotMSkqKDEtYSk7bj8odGhpcy5zdG9wTm9kZUZhZGluZyhvKSxpPDAmJnRoaXMuX3ZpZXcubWFya05vZGVUb1JlbW92ZShkKSk6by5sb2RDcm9zc2ZhZGVQcm9ncmVzcz1hLHRoaXMuX3ZpZXcuc2V0Tm9kZU9wYWNpdHlCeUluZGV4KGQsbCl9fSkpLHRoaXMuX3ZpZXcucmVtb3ZlTWFya2VkTm9kZXMoKX1zdG9wQWxsTm9kZUZhZGluZygpe3RoaXMuX3ZpZXcuZm9yZWFjaENyb3NzZmFkZU5vZGUoKChlLHMpPT57aWYobnVsbCE9cz8ubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3Mpe3RoaXMuc3RvcE5vZGVGYWRpbmcocyk7Y29uc3QgZD1zLmxvZENyb3NzZmFkZVNpZ25lZER1cmF0aW9uO2Q8MCYmdGhpcy5fdmlldy5tYXJrTm9kZVRvUmVtb3ZlKGUpO2NvbnN0IG89ZD4wP3RoaXMuX3ZpZXcuZnVsbE9wYWNpdHk6MDt0aGlzLl92aWV3LnNldE5vZGVPcGFjaXR5QnlJbmRleChlLG8pfX0pKSx0aGlzLl92aWV3LnJlbW92ZU1hcmtlZE5vZGVzKCl9ZmFkZU5vZGUoZSxzLG8saSl7bnVsbD09dGhpcy5fY3VycmVudEZyYW1lU3RhcnRUaW1lJiYodGhpcy5fY3VycmVudEZyYW1lU3RhcnRUaW1lPURhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5fdmlldyxhPXIubm9kZUNyb3NzZmFkaW5nRW5hYmxlZCxuPW89PT1kLkZhZGVJbj9yLmZ1bGxPcGFjaXR5OjAsbD1hP2k/bz09PWQuRmFkZUluP3IubG9kQ3Jvc3NmYWRlaW5EdXJhdGlvbjpyLmxvZENyb3NzZmFkZW91dER1cmF0aW9uOnIubG9kQ3Jvc3NmYWRlVW5jb3ZlcmVkRHVyYXRpb246MCxoPXRoaXMuX3ZpZXcuZ2V0Tm9kZU9wYWNpdHlCeUluZGV4KGUpO2lmKGEmJmghPT1uJiZsPjApe2NvbnN0IGU9MS1NYXRoLmFicyhuLWgpO3RoaXMuX3N0YXJ0Tm9kZUZhZGluZyhzLGUsdChvKSpsKX1lbHNlIHRoaXMuc3RvcE5vZGVGYWRpbmcocyksdGhpcy5fdmlldy5zZXROb2RlT3BhY2l0eUJ5SW5kZXgoZSxuKSxvPT09ZC5GYWRlT3V0JiZ0aGlzLl92aWV3LnJlbW92ZU5vZGUoZSl9aXNOb2RlRnVsbHlGYWRlZEluKGUpe2NvbnN0IHM9dGhpcy5fdmlldy5nZXROb2RlQ3Jvc3NmYWRlTWV0YURhdGEoZSk7cmV0dXJuIG51bGw9PXN8fG51bGw9PXMubG9kQ3Jvc3NmYWRlUHJvZ3Jlc3MmJnRoaXMuX3ZpZXcuZ2V0Tm9kZU9wYWNpdHlCeUluZGV4KGUpPT09dGhpcy5fdmlldy5mdWxsT3BhY2l0eX19ZnVuY3Rpb24gdChlKXtyZXR1cm4gZT09PWQuRmFkZUluPzE6LTF9ZXhwb3J0e2kgYXMgSTNTQ3Jvc3NmYWRlSGVscGVyLG8gYXMgTm9kZUNyb3NzZmFkZU1ldGFEYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtGIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL21hdDQuanNcIjtpbXBvcnR7YX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0NGY2NC5qc1wiO2ltcG9ydHtlIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7Y31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtwcm9qZWN0Qm91bmRpbmdTcGhlcmUgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1NwaGVyZS5qc1wiO2ltcG9ydHtlbXB0eSBhcyBtLGV4cGFuZCBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7ZiBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9zcGhlcmUuanNcIjtpbXBvcnR7bmV3SW50ZXJzZWN0b3IgYXMgZn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9yLmpzXCI7aW1wb3J0e1N0b3JlUmVzdWx0cyBhcyBkfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3JJbnRlcmZhY2VzLmpzXCI7Y29uc3Qgdj1tKCksZz1hKCkseD1oKDAsMCwwLDApLHk9YygpLGo9YygpLEU9YygpO2xldCBfPWNsYXNzIGV4dGVuZHMoci5FdmVudGVkTWl4aW4odCkpe2dldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMudmlldz8uZWxldmF0aW9uUHJvdmlkZXI/LnNwYXRpYWxSZWZlcmVuY2V9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fdG1wRXZlbnQ9e3NwYXRpYWxSZWZlcmVuY2U6bnVsbCxleHRlbnQ6dixjb250ZXh0Olwic2NlbmVcIn19aW5pdGlhbGl6ZSgpe3RoaXMudmlldz10aGlzLmxheWVyVmlldy52aWV3LHRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlcj10aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLHRoaXMuX2ludGVyc2VjdG9yPWYodGhpcy52aWV3LnN0YXRlLnZpZXdpbmdNb2RlKSx0aGlzLl9pbnRlcnNlY3Rvci5vcHRpb25zLnN0b3JlPWQuTUlOLHRoaXMuX3RtcEV2ZW50LmNvbnRleHQ9dGhpcy5pbnRlcnNlY3Rpb25IYW5kbGVyLmlzR3JvdW5kP1wiZ3JvdW5kXCI6XCJzY2VuZVwifWdldEVsZXZhdGlvbihlLHQscixuKXtjb25zdCBzPXk7c1swXT1lLHNbMV09dCxzWzJdPXI7Y29uc3Qgbz10aGlzLl9yZW5kZXJDb29yZHNIZWxwZXI7aWYoIW8udG9SZW5kZXJDb29yZHMocyxuLHMpKXJldHVybiBpLmdldExvZ2dlcih0aGlzKS5lcnJvcihcImNvdWxkIG5vdCBwcm9qZWN0IHBvaW50IHRvIGNvbXB1dGUgZWxldmF0aW9uXCIpLG51bGw7Y29uc3R7bGF5ZXJWaWV3OmEsX2ludGVyc2VjdG9yOmwsaW50ZXJzZWN0aW9uSGFuZGxlcjpjfT10aGlzLHA9YS5pM3NsYXllci5mdWxsRXh0ZW50LG09bnVsbCE9cCYmTnVtYmVyLmlzRmluaXRlKHAueG1pbikmJk51bWJlci5pc0Zpbml0ZShwLnhtYXgpJiZOdW1iZXIuaXNGaW5pdGUocC55bWluKSYmTnVtYmVyLmlzRmluaXRlKHAueW1heCkmJk51bWJlci5pc0Zpbml0ZShwLnptaW4pJiZOdW1iZXIuaXNGaW5pdGUocC56bWF4KT97bWluOnAuem1pbixtYXg6cC56bWF4fTphLmVsZXZhdGlvblJhbmdlO2lmKG51bGw9PW0pcmV0dXJuIG51bGw7Y29uc3QgdT1hLmVsZXZhdGlvbk9mZnNldCxoPW0ubWluK3UsZj1tLm1heCt1LGQ9aix2PUU7cmV0dXJuIG8uc2V0QWx0aXR1ZGUoZCxmLHMpLG8uc2V0QWx0aXR1ZGUodixoLHMpLGwucmVzZXQoZCx2LG51bGwpLGMuaW50ZXJzZWN0KGwsbnVsbCxkLHYpLGwucmVzdWx0cy5taW4uZ2V0SW50ZXJzZWN0aW9uUG9pbnQocyk/by5nZXRBbHRpdHVkZShzKTpudWxsfWdldFNwaGVyZUVsZXZhdGlvbkJvdW5kcyhlLHQpe3JldHVybiBwKGUsdCx4LHRoaXMuX3JlbmRlckNvb3Jkc0hlbHBlci5zcGF0aWFsUmVmZXJlbmNlKSx0aGlzLmxheWVyVmlldy5nZXRFbGV2YXRpb25SYW5nZSh4KX1nZXRSb290RWxldmF0aW9uQm91bmRzKCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5pM3NsYXllci5mdWxsRXh0ZW50O3JldHVybiBlPy5oYXNaP3ttaW46ZS56bWluLG1heDplLnptYXh9Om51bGx9bGF5ZXJDaGFuZ2VkKCl7dGhpcy5zcGF0aWFsUmVmZXJlbmNlJiYodGhpcy5fdG1wRXZlbnQuZXh0ZW50PXRoaXMuX2NvbXB1dGVMYXllckV4dGVudCgpLHRoaXMuX3RtcEV2ZW50LnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuZW1pdChcImVsZXZhdGlvbi1jaGFuZ2VcIix0aGlzLl90bXBFdmVudCkpfW9iamVjdENoYW5nZWQoZSl7dGhpcy5zcGF0aWFsUmVmZXJlbmNlJiYodGhpcy5fdG1wRXZlbnQuZXh0ZW50PXRoaXMuX2NvbXB1dGVPYmplY3RFeHRlbnQoZSksdGhpcy5fdG1wRXZlbnQuc3BhdGlhbFJlZmVyZW5jZT10aGlzLnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5lbWl0KFwiZWxldmF0aW9uLWNoYW5nZVwiLHRoaXMuX3RtcEV2ZW50KSl9X2NvbXB1dGVPYmplY3RFeHRlbnQoZSl7cmV0dXJuIG0odiksdGhpcy5fZXhwYW5kRXh0ZW50KGUsdiksdn1fY29tcHV0ZUxheWVyRXh0ZW50KCl7bSh2KTtmb3IoY29uc3QgZSBvZiB0aGlzLmxheWVyVmlldy5nZXRWaXNpYmxlTm9kZXMoKSl0aGlzLl9leHBhbmRFeHRlbnQoZSx2KTtyZXR1cm4gdn1fZXhwYW5kRXh0ZW50KGUsdCl7Y29uc3Qgcj10aGlzLnNwYXRpYWxSZWZlcmVuY2U7aWYobnVsbD09cilyZXR1cm47Y29uc3QgaT10aGlzLmxheWVyVmlldy5nZXROb2RlQ29tcG9uZW50T2JiKGUpO2lmKG51bGwhPWkpe28oZyxpLnF1YXRlcm5pb24pLGdbMTJdPWkuY2VudGVyWzBdLGdbMTNdPWkuY2VudGVyWzFdLGdbMTRdPWkuY2VudGVyWzJdO2ZvcihsZXQgZT0wO2U8ODsrK2UpeVswXT0xJmU/aS5oYWxmU2l6ZVswXTotaS5oYWxmU2l6ZVswXSx5WzFdPTImZT9pLmhhbGZTaXplWzFdOi1pLmhhbGZTaXplWzFdLHlbMl09NCZlP2kuaGFsZlNpemVbMl06LWkuaGFsZlNpemVbMl0sbCh5LHksZyksdGhpcy5fcmVuZGVyQ29vcmRzSGVscGVyLmZyb21SZW5kZXJDb29yZHMoeSx5LHIpLHUodCx5LHQpfX19O2UoW24oe2NvbnN0cnVjdE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJsYXllclZpZXdcIix2b2lkIDApLGUoW24oe2NvbnN0cnVjdE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJpbnRlcnNlY3Rpb25IYW5kbGVyXCIsdm9pZCAwKSxlKFtuKCldLF8ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbigpXSxfLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxfPWUoW3MoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5pM3MuSTNTRWxldmF0aW9uUHJvdmlkZXJcIildLF8pO2NvbnN0IGI9XztleHBvcnR7YiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dCxnIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3Byb2plY3RCdWZmZXIgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCdWZmZXIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG4sc2V0IGFzIGEsbmVnYXRpdmVJbmZpbml0eSBhcyBtLGV4cGFuZFdpdGhCdWZmZXIgYXMgcyx6ZXJvIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e25ld0RvdWJsZUFycmF5IGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9Eb3VibGVBcnJheS5qc1wiO2Z1bmN0aW9uIGModCxlLHIpe2NvbnN0IG49dSgyNCk7cmV0dXJuIHU9PntsZXQgYz11Lm1ldGEuZmVhdHVyZUV4dGVudHM7aWYobnVsbD09Yyl7Yz1uZXcgRmxvYXQ2NEFycmF5KDYqdS5tZXRhLmZlYXR1cmVJZHMubGVuZ3RoKSx1Lm1ldGEuZmVhdHVyZUV4dGVudHM9Yztmb3IobGV0IHQ9MDt0PGMubGVuZ3RoO3QrPTYpY1t0XT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9Y29uc3QgcD1uZXcgRmxvYXQ2NEFycmF5KGMuYnVmZmVyLDYqdS5pbmRleCpGbG9hdDY0QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsNik7cmV0dXJuIHBbMF09PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJihpKHUuaW5kZXgscix1Lm1ldGEub2JqZWN0SGFuZGxlLG4sMCksbyhuLGUsMCxuLHQsMCw4KT8oYShwLG0pLHMocCxuLDAsOCkpOmEocCxmKSkscH19ZnVuY3Rpb24gaShyLG8sbixhLG0pe2NvbnN0IHM9by5nZXRDb21wb25lbnRBYWJiKG4scixsKSxmPW8uZ2V0T2JqZWN0VHJhbnNmb3JtKG4pO2ZvcihsZXQgdT0wO3U8ODsrK3UpSVswXT0xJnU/c1swXTpzWzNdLElbMV09MiZ1P3NbMV06c1s0XSxJWzJdPTQmdT9zWzJdOnNbNV0sdChJLEksZi5yb3RhdGlvblNjYWxlKSxlKEksSSxmLnBvc2l0aW9uKSxhW20rK109SVswXSxhW20rK109SVsxXSxhW20rK109SVsyXTtyZXR1cm4gYX1jb25zdCBwPTI0LGw9bigpLEk9cigpO2V4cG9ydHtpIGFzIGJvdW5kaW5nQm94Q29ybmVyUG9pbnRzLHAgYXMgYm91bmRpbmdCb3hDb3JuZXJzUG9pbnRzU3RyaWRlLGMgYXMgY3JlYXRlR2V0RmVhdHVyZUV4dGVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1ZpZXdpbmdNb2RlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vVmlld2luZ01vZGUuanNcIjtpbXBvcnR7aXNWYWxpZE9iYiBhcyB0LGlzVmFsaWRNYnMgYXMgcn1mcm9tXCIuL0kzU1V0aWwuanNcIjtpbXBvcnR7STNzVGFyZ2V0IGFzIGl9ZnJvbVwiLi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtpbnRlcnNlY3RMaW5lIGFzIHN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9vcmllbnRlZEJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e25ld0ludGVyc2VjdG9yUmVzdWx0IGFzIG59ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3Rvci5qc1wiO2ltcG9ydHtJbnRlcnNlY3RvclR5cGUgYXMgbCxTdG9yZVJlc3VsdHMgYXMgb31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0ludGVyc2VjdG9ySW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtnZXRWZXJ0aWNhbE9mZnNldEkzUyBhcyBjfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvdmVydGljYWxPZmZzZXRVdGlscy5qc1wiO2NsYXNzIGR7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWwuSTNTLHRoaXMuX25lZWRWZXJ0aWNhbE9mZnNldD0hMSx0aGlzLmxheWVyVWlkPWUubGF5ZXJVaWQsdGhpcy5zdWJsYXllclVpZD1lLnN1YmxheWVyVWlkLHRoaXMuX2NvbGxlY3Rpb249ZS5jb2xsZWN0aW9uLHRoaXMuX3RyYXZlcnNlTm9kZUhpZXJhcmNoeT1lLnRyYXZlcnNlTm9kZUhpZXJhcmNoeSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPWUuc2xpY2VQbGFuZUVuYWJsZWQsdGhpcy5pc0dyb3VuZD1lLmlzR3JvdW5kfXVwZGF0ZUVsZXZhdGlvbkFsaWduU3RhdGUodCxyKXt0aGlzLl9uZWVkVmVydGljYWxPZmZzZXQ9dCYmcj09PWUuR2xvYmFsfWludGVyc2VjdChlLGwsZCx1KXtjb25zdCBmPWUucmVzdWx0cyxiPWUub3B0aW9ucy5zdG9yZT09PW8uQUxMLG09ZS5yYXkuZGlyZWN0aW9uLGg9ZS50b2xlcmFuY2U7bGV0IHA9ZT0+ZSx5PWU9PmU7Y29uc3QgZz1jKG51bGwhPWUudmVydGljYWxPZmZzZXQ/ZS52ZXJ0aWNhbE9mZnNldDp0aGlzLl9uZWVkVmVydGljYWxPZmZzZXQ/MDpudWxsKTtudWxsIT1lLnZlcnRpY2FsT2Zmc2V0JiZudWxsIT1nJiYocD1lPT5nLmFwcGx5VG9NYnMoZSkseT1lPT5nLmFwcGx5VG9PYmIoZSkpLHRoaXMuX3RyYXZlcnNlTm9kZUhpZXJhcmNoeSgoKG8sYyk9PntpZigwPT09by5jaGlsZHJlbkxvYWRlZClyZXR1cm4hMTtjb25zdCBPPW51bGwhPW8uc2VydmljZU9iYkluUmVuZGVyU1ImJnQoby5zZXJ2aWNlT2JiSW5SZW5kZXJTUik/by5zZXJ2aWNlT2JiSW5SZW5kZXJTUjpudWxsO3JldHVybiEobnVsbCE9TyYmIXMoeShPKSxkLG0saCkpJiYoIWN8fG51bGw9PU8mJnIoby5yZW5kZXJNYnMpJiYhYShwKG8ucmVuZGVyTWJzKSxkLG0saCl8fG51bGwhPW8uZ2VvbWV0cnlPYmImJiFzKHkoby5nZW9tZXRyeU9iYiksZCxtLGgpfHx0aGlzLl9jb2xsZWN0aW9uLmludGVyc2VjdChjLGQsdSxoLGcsKCh0LHIscyxjKT0+e2lmKHI+PTApe2lmKG51bGwhPWwmJiFsKGQsdSxyKSlyZXR1cm47Y29uc3QgYT1lPT57Y29uc3Qgbj1uZXcgaSh0aGlzLmxheWVyVWlkLHRoaXMuc3VibGF5ZXJVaWQsby5pbmRleCx0LGMpO2Uuc2V0KHRoaXMudHlwZSxuLHIscyl9O2lmKHRoaXMuaXNHcm91bmQmJihudWxsPT1mLmdyb3VuZC5kaXN0fHxyPGYuZ3JvdW5kLmRpc3QpJiZhKGYuZ3JvdW5kKSxlLm9wdGlvbnMuaXNGaWx0ZXJlZClyZXR1cm47aWYoKG51bGw9PWYubWluLmRpc3R8fHI8Zi5taW4uZGlzdCkmJmEoZi5taW4pLChudWxsPT1mLm1heC5kaXN0fHxyPmYubWF4LmRpc3QpJiZhKGYubWF4KSxiKXtjb25zdCB0PW4oZS5yYXkpO2EodCksZS5yZXN1bHRzLmFsbC5wdXNoKHQpfX19KSksITApfSkpfX1mdW5jdGlvbiBhKGUsdCxyLGk9MCl7Y29uc3Qgcz1lWzNdK2ksbj10WzBdLWVbMF0sbD10WzFdLWVbMV0sbz10WzJdLWVbMl0sYz1yWzBdLGQ9clsxXSxhPXJbMl0sdT1jKm4rZCpsK2EqbztyZXR1cm4gdSp1LShjKmMrZCpkK2EqYSkqKG4qbitsKmwrbypvLXMqcyk+PTB9ZXhwb3J0e2QgYXMgSTNTSW50ZXJzZWN0aW9uSGFuZGxlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0J5dGVTaXplVW5pdCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQnl0ZVNpemVVbml0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtvbkFib3J0IGFzIHMsdGhyb3dJZkFib3J0ZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2NvbnN0IG89MTQ7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0LHMscj1vKXt0aGlzLl92ZXJzaW9uPXIsdGhpcy5fZGI9bnVsbCx0aGlzLl9xdW90YVJlZHVjdGlvblByb21pc2U9bnVsbCx0aGlzLl9nY0NvdW50ZXI9MCx0aGlzLl9oaXQ9MCx0aGlzLl9taXNzPTAsdGhpcy5fZGVzdHJveWVkPSExLHRoaXMuZ2NGcmVxdWVuY3k9NTAsdGhpcy5tYXhCeXRlU2l6ZT1lLkdJR0FCWVRFUyx0aGlzLnF1b3RhUmVkdWN0aW9uRmFjdG9yPS4yLHRoaXMuX2RiTmFtZT10LHRoaXMuX3N0b3JlTmFtZT1zfWluaXQoKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9Pntjb25zdCBlPWluZGV4ZWREQi5vcGVuKHRoaXMuX2RiTmFtZSx0aGlzLl92ZXJzaW9uKTtyZXR1cm4gZS5vbnVwZ3JhZGVuZWVkZWQ9dD0+e2NvbnN0IHM9ZS5yZXN1bHQscj1lLnRyYW5zYWN0aW9uLG89cy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHRoaXMuX3N0b3JlTmFtZSk/ci5vYmplY3RTdG9yZSh0aGlzLl9zdG9yZU5hbWUpOnMuY3JlYXRlT2JqZWN0U3RvcmUodGhpcy5fc3RvcmVOYW1lKSxpPXMub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcImxhc3RfYWNjZXNzXCIpP3Iub2JqZWN0U3RvcmUoXCJsYXN0X2FjY2Vzc1wiKTpzLmNyZWF0ZU9iamVjdFN0b3JlKFwibGFzdF9hY2Nlc3NcIik7aS5pbmRleE5hbWVzLmNvbnRhaW5zKFwiZGF0ZVwiKXx8aS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSksaS5pbmRleE5hbWVzLmNvbnRhaW5zKFwiYnl0ZVNpemVcIil8fGkuY3JlYXRlSW5kZXgoXCJieXRlU2l6ZVwiLFwiYnl0ZVNpemVcIix7dW5pcXVlOiExfSksdC5vbGRWZXJzaW9uPHRoaXMuX3ZlcnNpb24mJihvLmNsZWFyKCksaS5jbGVhcigpKX0sYyhlKX0pKS50aGVuKChlPT57dGhpcy5fZGVzdHJveWVkP2UuY2xvc2UoKTp0aGlzLl9kYj1lfSkpfWRlc3Ryb3koKXt0aGlzLl9kYiYmKHRoaXMuX2RiLmNsb3NlKCksdGhpcy5fZGI9bnVsbCksdGhpcy5fZGVzdHJveWVkPSEwfWdldCBpbml0aWFsaXplZCgpe3JldHVybiBudWxsIT10aGlzLl9kYn1nZXRIaXRSYXRlKCl7cmV0dXJuIHRoaXMuX2hpdC8odGhpcy5faGl0K3RoaXMuX21pc3MpfXB1dChlLHMpe2lmKG51bGw9PXRoaXMuX2RiKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgdChcImluZGV4ZWRiOm5vdC1pbml0aWFsaXplZFwiLFwiSW5kZXhlZERCIENhY2hlIGlzIG5vdCBpbml0aWFsaXplZFwiKSk7cmV0dXJuKG51bGwhPXRoaXMuX3F1b3RhUmVkdWN0aW9uUHJvbWlzZT90aGlzLl9xdW90YVJlZHVjdGlvblByb21pc2U6UHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCgpPT50aGlzLl9wdXQoZSxzKSkpLmNhdGNoKCh0PT57aWYodCYmXCJRdW90YUV4Y2VlZGVkRXJyb3JcIj09PXQubmFtZSlyZXR1cm4gbnVsbD09dGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlJiYodGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlPXRoaXMuX2dldENhY2hlU2l6ZSgpLnRoZW4oKGU9PnRoaXMuX3JlbW92ZUxlYXN0UmVjZW50bHlBY2Nlc3NlZChzLmJ5dGVTaXplK01hdGguY2VpbChlKnRoaXMucXVvdGFSZWR1Y3Rpb25GYWN0b3IpKSkpLHRoaXMuX3F1b3RhUmVkdWN0aW9uUHJvbWlzZS50aGVuKCgoKT0+dGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlPW51bGwpLCgoKT0+dGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlPW51bGwpKSksdGhpcy5fcXVvdGFSZWR1Y3Rpb25Qcm9taXNlLnRoZW4oKCgpPT50aGlzLl9wdXQoZSxzKSkpO3Rocm93IHR9KSkudGhlbigoKCk9Pnt0aGlzLl9nY0NvdW50ZXItLSx0aGlzLl9nY0NvdW50ZXI8MCYmbnVsbCE9dGhpcy5fZGImJih0aGlzLl9nY0NvdW50ZXI9dGhpcy5nY0ZyZXF1ZW5jeSx0aGlzLl9nZXRDYWNoZVNpemUoKS50aGVuKChlPT50aGlzLl9yZW1vdmVMZWFzdFJlY2VudGx5QWNjZXNzZWQoZS10aGlzLm1heEJ5dGVTaXplKSkpKX0pKX1nZXQoZSx0KXtjb25zdCBvPXRoaXMuX2RiO2lmKG51bGw9PW8pcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2b2lkIDApO2xldCBpPW51bGw7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT57Y29uc3Qgcj1vLnRyYW5zYWN0aW9uKHRoaXMuX3N0b3JlTmFtZSxcInJlYWRvbmx5XCIpO2k9cyh0LCgoKT0+e3IuYWJvcnQoKX0pKTtyZXR1cm4gYyhyLm9iamVjdFN0b3JlKHRoaXMuX3N0b3JlTmFtZSkuZ2V0KGUpKX0pKS50aGVuKCh0PT57aWYobnVsbD09dCkrK3RoaXMuX21pc3M7ZWxzZSBpZih0aGlzLl9kYil7Kyt0aGlzLl9oaXQ7dGhpcy5fZGIudHJhbnNhY3Rpb24oXCJsYXN0X2FjY2Vzc1wiLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwibGFzdF9hY2Nlc3NcIikucHV0KHtkYXRlOkRhdGUubm93KCksYnl0ZVNpemU6dC5ieXRlU2l6ZX0sZSl9cmV0dXJuIG51bGwhPWkmJmkucmVtb3ZlKCksdH0pKS5jYXRjaCgoKCk9PnsrK3RoaXMuX21pc3Mscih0KSxudWxsIT1pJiZpLnJlbW92ZSgpfSkpfXJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2RiO3JldHVybiBudWxsPT10P1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGFzeW5jKCk9Pntjb25zdCBzPXQudHJhbnNhY3Rpb24oW3RoaXMuX3N0b3JlTmFtZSxcImxhc3RfYWNjZXNzXCJdLFwicmVhZHdyaXRlXCIpLHI9cy5vYmplY3RTdG9yZSh0aGlzLl9zdG9yZU5hbWUpLG89cy5vYmplY3RTdG9yZShcImxhc3RfYWNjZXNzXCIpLGk9ci5kZWxldGUoZSksYT1vLmRlbGV0ZShlKTthd2FpdCBQcm9taXNlLmFsbChbYyhpKSxjKGEpLG4ocyldKX0pKX1fcHV0KGUsdCl7Y29uc3Qgcz10aGlzLl9kYjtpZihudWxsPT1zKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtjb25zdCByPXMudHJhbnNhY3Rpb24oW3RoaXMuX3N0b3JlTmFtZSxcImxhc3RfYWNjZXNzXCJdLFwicmVhZHdyaXRlXCIpLG89ci5vYmplY3RTdG9yZSh0aGlzLl9zdG9yZU5hbWUpLGk9ci5vYmplY3RTdG9yZShcImxhc3RfYWNjZXNzXCIpLGE9by5wdXQodCxlKSxsPWkucHV0KHtkYXRlOkRhdGUubm93KCksYnl0ZVNpemU6dC5ieXRlU2l6ZX0sZSk7cmV0dXJuIFByb21pc2UuYWxsKFtjKGEpLGMobCksbihyKV0pfV9yZW1vdmVMZWFzdFJlY2VudGx5QWNjZXNzZWQoZSl7aWYoZTw9MHx8IXRoaXMuX2RiKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtjb25zdCB0PXRoaXMuX2RiLnRyYW5zYWN0aW9uKFt0aGlzLl9zdG9yZU5hbWUsXCJsYXN0X2FjY2Vzc1wiXSxcInJlYWR3cml0ZVwiKSxzPXQub2JqZWN0U3RvcmUodGhpcy5fc3RvcmVOYW1lKSxyPXQub2JqZWN0U3RvcmUoXCJsYXN0X2FjY2Vzc1wiKTtsZXQgbz0wO2NvbnN0IGk9ci5pbmRleChcImRhdGVcIikub3BlbkN1cnNvcihudWxsLFwibmV4dFwiKTtyZXR1cm4gaS5vbnN1Y2Nlc3M9KCk9Pntjb25zdCB0PWkucmVzdWx0O251bGwhPXQmJihudWxsIT10LnZhbHVlLmJ5dGVTaXplJiYobys9dC52YWx1ZS5ieXRlU2l6ZSkscy5kZWxldGUodC5wcmltYXJ5S2V5KSxyLmRlbGV0ZSh0LnByaW1hcnlLZXkpLG88ZSYmdC5jb250aW51ZSgpKX0sbih0KX1fZ2V0Q2FjaGVTaXplKCl7Y29uc3QgZT10aGlzLl9kYjtpZihudWxsPT1lKXJldHVybiBQcm9taXNlLnJlc29sdmUoMCk7Y29uc3QgdD1lLnRyYW5zYWN0aW9uKFwibGFzdF9hY2Nlc3NcIikscz10Lm9iamVjdFN0b3JlKFwibGFzdF9hY2Nlc3NcIik7bGV0IHI9MDtjb25zdCBvPXMuaW5kZXgoXCJieXRlU2l6ZVwiKS5vcGVuS2V5Q3Vyc29yKCk7cmV0dXJuIG8ub25zdWNjZXNzPSgpPT57Y29uc3QgZT1vLnJlc3VsdDtpZighZSlyZXR1cm47Y29uc3QgdD1lLmtleTtudWxsIT10JiYocis9dCksZS5jb250aW51ZSgpfSxuKHQpLnRoZW4oKCgpPT5yKSl9fWZ1bmN0aW9uIG4oZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxzKT0+e2Uub25jb21wbGV0ZT0oKT0+dCgpLGUub25lcnJvcj0oKT0+cyhlLmVycm9yKSxlLm9uYWJvcnQ9KCk9PnMoZS5lcnJvcil9KSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LHMpPT57XCJkb25lXCI9PT1lLnJlYWR5U3RhdGU/bnVsbCE9ZS5lcnJvcj9zKGUuZXJyb3IpOnQoZS5yZXN1bHQpOihlLm9uc3VjY2Vzcz0oKT0+dChlLnJlc3VsdCksZS5vbmVycm9yPSgpPT5zKGUuZXJyb3IpKX0pKX1leHBvcnR7aSBhcyBJREJDYWNoZSxjIGFzIHdoZW5SZXF1ZXN0LG4gYXMgd2hlblRyYW5zYWN0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PW5ldyBXZWFrTWFwO2NsYXNzIHN7Y29uc3RydWN0b3IocyxlKXtzd2l0Y2godGhpcy5fbWlzcz0wLHRoaXMuX2hpdD0wLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsZSl7Y2FzZVwibGF5ZXJcIjp0aGlzLl9kYXRhPW5ldyBNYXA7YnJlYWs7Y2FzZVwidmlld1wiOntjb25zdCBlPXQuZ2V0KHMpO2lmKGUpe3RoaXMuX2RhdGE9ZTticmVha31jb25zdCBpPW5ldyBNYXA7dGhpcy5fZGF0YT1pLHQuc2V0KHMsaSl9fX1pbml0KCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfWFzeW5jIGdldCh0LHMpe2lmKHRoaXMuX2RhdGEuaGFzKHQpKXJldHVybiB0aGlzLl9oaXQrKyx0aGlzLl9kYXRhLmdldCh0KT8/dm9pZCAwO3RoaXMuX21pc3MrK31kZXN0cm95KCl7fXB1dCh0LHMpe3JldHVybiB0aGlzLl9kYXRhLnNldCh0LHMpLFByb21pc2UucmVzb2x2ZSgpfXJlbW92ZSh0KXtyZXR1cm4gdGhpcy5fZGF0YS5kZWxldGUodCksUHJvbWlzZS5yZXNvbHZlKCl9Z2V0SGl0UmF0ZSgpe3JldHVybiB0aGlzLl9oaXQvKHRoaXMuX2hpdCt0aGlzLl9taXNzKX19ZXhwb3J0e3MgYXMgSURCTW9ja0NhY2hlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7c29tZU1hcCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtjbGFzcyByIGV4dGVuZHMgZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fbWFwPW5ldyBNYXB9Y2xlYXIoKXtpZih0aGlzLl9tYXAuc2l6ZT4wKXtjb25zdCBlPXRoaXMudG9BcnJheSgpO3RoaXMuX21hcC5jbGVhcigpLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOmV9KX19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9tYXAuc2l6ZX1nZXQoZSl7cmV0dXJuIHRoaXMuX21hcC5nZXQoZSl9YWRkTWFueShlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9bmV3IFNldDtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcj1lW29dLHM9ci5vYmplY3RJZCxuPXRoaXMuX21hcC5nZXQocyk7bj8odC5hZGQocyksciE9PW4mJihlW29dPW4pLG4ucmVmQ291bnR8fChuLnJlZkNvdW50PTApLCsrbi5yZWZDb3VudCk6KHIucmVmQ291bnQ9MSx0aGlzLl9tYXAuc2V0KHMscikpfWNvbnN0IHI9dC5zaXplPjA/ZS5maWx0ZXIoKGU9PiF0LmhhcyhlLm9iamVjdElkKSkpOmU7ci5sZW5ndGg+MCYmdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOnIscmVtb3ZlZDpbXX0pfXJlbW92ZU1hbnkoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPXIub2JqZWN0SWQsbz10aGlzLl9tYXAuZ2V0KGUpO251bGwhPW8mJighby5yZWZDb3VudHx8LS1vLnJlZkNvdW50PD0wKSYmKHRoaXMuX21hcC5kZWxldGUoZSksdC5wdXNoKHIpKX10Lmxlbmd0aD4wJiZ0aGlzLmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDp0fSl9cmVtb3ZlTWFueUJ5T2JqZWN0SWQoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPXRoaXMuX21hcC5nZXQocik7bnVsbCE9ZSYmKCFlLnJlZkNvdW50fHwtLWUucmVmQ291bnQ8PTApJiYodGhpcy5fbWFwLmRlbGV0ZShyKSx0LnB1c2goZSkpfXQubGVuZ3RoPjAmJnRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOnR9KX10b0FycmF5KCl7cmV0dXJuWy4uLnRoaXMuX21hcC52YWx1ZXMoKV19ZmluZChlKXtsZXQgcjtyZXR1cm4gdCh0aGlzLl9tYXAsKHQ9PiEhZSh0KSYmKHI9dCwhMCkpKSxyfWZvckVhY2goZSl7dGhpcy5fbWFwLmZvckVhY2goKHQ9PmUodCkpKX19ZXhwb3J0e3IgYXMgR3JhcGhpY3NNYXB9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtzb21lTWFwIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtHcmFwaGljc01hcCBhcyBzfWZyb21cIi4vR3JhcGhpY3NNYXAuanNcIjtjbGFzcyBpIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2xpbWl0PWUsdGhpcy5fYWxsPW5ldyBzLHRoaXMuX2FjdGl2ZT1uZXcgYSh0aGlzKSx0aGlzLl9wZW5kaW5nPW5ldyBNYXAsdGhpcy5faGFuZGxlPXRoaXMuX2FsbC5vbihcImNoYW5nZVwiLChlPT50aGlzLl9oYW5kbGVDaGFuZ2VzKGUpKSl9ZGVzdHJveSgpe3RoaXMuX2hhbmRsZS5yZW1vdmUoKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZS5sZW5ndGh9dG9BcnJheSgpe3JldHVybiB0aGlzLl9hY3RpdmUudG9BcnJheSgpfWZpbmQoZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZS5maW5kKGUpfWZvckVhY2goZSl7dGhpcy5fYWN0aXZlLmZvckVhY2goZSl9YWRkTWFueShlKXt0aGlzLl9hbGwuYWRkTWFueShlKX1yZW1vdmVNYW55QnlPYmplY3RJZChlKXt0aGlzLl9hbGwucmVtb3ZlTWFueUJ5T2JqZWN0SWQoZSl9X2hhbmRsZUNoYW5nZXMoZSl7bGV0IHQ9ZS5yZW1vdmVkO2lmKHRoaXMuX3BlbmRpbmcuc2l6ZT4wKXt0PW5ldyBBcnJheTtmb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpdGhpcy5fcGVuZGluZy5kZWxldGUocy5vYmplY3RJZCl8fHQucHVzaChzKX1sZXQgcz10aGlzLl9saW1pdC10aGlzLl9hY3RpdmUubGVuZ3RoK3QubGVuZ3RoO3M8ZS5hZGRlZC5sZW5ndGgmJih0aGlzLl9hY3RpdmUucmVtb3ZlTWFueSh0KSx0PVtdLGgucmVzZXQoMS10aGlzLl9saW1pdC8odGhpcy5fYWN0aXZlLmxlbmd0aCtlLmFkZGVkLmxlbmd0aCkpLHRoaXMuX2FjdGl2ZS5mb3JFYWNoKChlPT57aC5zYW1wbGUoKSYmKHQucHVzaChlKSx0aGlzLl9wZW5kaW5nLnNldChlLm9iamVjdElkLGUpKX0pKSxzPXRoaXMuX2xpbWl0LXRoaXMuX2FjdGl2ZS5sZW5ndGgrdC5sZW5ndGgpO2xldCBpPWUuYWRkZWQ7aWYoczxlLmFkZGVkLmxlbmd0aCl7aT1uZXcgQXJyYXksaC5yZXNldChzL2UuYWRkZWQubGVuZ3RoKTtmb3IoY29uc3QgdCBvZiBlLmFkZGVkKWguc2FtcGxlKCk/aS5wdXNoKHQpOnRoaXMuX3BlbmRpbmcuc2V0KHQub2JqZWN0SWQsdCl9Y29uc3Qgbj1zLWkubGVuZ3RoO24+MCYmdGhpcy5fcGVuZGluZy5zaXplPjAmJihoLnJlc2V0KG4vdGhpcy5fcGVuZGluZy5zaXplKSx0aGlzLl9wZW5kaW5nLmZvckVhY2goKGU9PntoLnNhbXBsZSgpJiYoaS5wdXNoKGUpLHRoaXMuX3BlbmRpbmcuZGVsZXRlKGUub2JqZWN0SWQpKX0pKSksdGhpcy5fYWN0aXZlLmFkZEFuZFJlbW92ZShpLHQpfX1jbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy5fcGVyY2VudGFnZT0xLHRoaXMuX2xhc3Q9LTEsdGhpcy5faW5kZXg9MH1yZXNldChlKXt0aGlzLl9wZXJjZW50YWdlPWUsdGhpcy5fbGFzdD0tMX1zYW1wbGUoKXtjb25zdCBlPU1hdGguZmxvb3IodGhpcy5faW5kZXgqdGhpcy5fcGVyY2VudGFnZSk7cmV0dXJuKyt0aGlzLl9pbmRleCxlIT09dGhpcy5fbGFzdCYmKHRoaXMuX2xhc3Q9ZSwhMCl9fWNvbnN0IGg9bmV3IG47Y2xhc3MgYXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9tYXA9bmV3IE1hcH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX21hcC5zaXplfWZvckVhY2goZSl7dGhpcy5fbWFwLmZvckVhY2goKHQ9PmUodCkpKX1maW5kKGUpe2xldCBzO3JldHVybiB0KHRoaXMuX21hcCwodD0+ISFlKHQpJiYocz10LCEwKSkpLHN9dG9BcnJheSgpe3JldHVyblsuLi50aGlzLl9tYXAudmFsdWVzKCldfWFkZEFuZFJlbW92ZShlLHQpe2Zvcihjb25zdCBzIG9mIGUpdGhpcy5fbWFwLnNldChzLm9iamVjdElkLHMpO2Zvcihjb25zdCBzIG9mIHQpdGhpcy5fbWFwLmRlbGV0ZShzLm9iamVjdElkKTsoZS5sZW5ndGg+MHx8dC5sZW5ndGg+MCkmJnRoaXMuX3BhcmVudC5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOmUscmVtb3ZlZDp0fSl9cmVtb3ZlTWFueShlKXtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX21hcC5kZWxldGUodC5vYmplY3RJZCk7ZS5sZW5ndGg+MCYmdGhpcy5fcGFyZW50LmVtaXQoXCJjaGFuZ2VcIix7YWRkZWQ6W10scmVtb3ZlZDplfSl9fWV4cG9ydHtpIGFzIExpbWl0R3JhcGhpY3NNYXB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9