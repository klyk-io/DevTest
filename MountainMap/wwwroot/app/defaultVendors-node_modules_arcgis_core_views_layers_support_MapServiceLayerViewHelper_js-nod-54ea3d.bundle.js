"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_layers_support_MapServiceLayerViewHelper_js-nod-54ea3d"],{

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/sublayerUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isExportDynamic: () => (/* binding */ n),
/* harmony export */   isSublayerOverhaul: () => (/* binding */ o),
/* harmony export */   shouldWriteSublayerStructure: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE}))||!i(e,n)}function i(r,e){if(!r?.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateTolerance: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;"number"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return"number"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>"size"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.event?.pointerType,s="touch"===o?9:6;if(!n)return s;const f="visualVariables"in n?r(s,n.visualVariables):s;if("simple"===n.type)return t(f,n.symbol);if("unique-value"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if("class-breaks"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return"dot-density"===n.type||n.type,f}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/identify.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/identify.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   identify: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_identify_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operations/identify.js */ "./node_modules/@arcgis/core/rest/operations/identify.js");
/* harmony import */ var _support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./support/IdentifyParameters.js */ "./node_modules/@arcgis/core/rest/support/IdentifyParameters.js");
/* harmony import */ var _support_IdentifyResult_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./support/IdentifyResult.js */ "./node_modules/@arcgis/core/rest/support/IdentifyResult.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(u);return l.path+="/identify",(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_1__.normalizeCentralMeridian)(c).then((e=>{const t=(0,_operations_identify_js__WEBPACK_IMPORTED_MODULE_3__.identifyToIdentifyRESTParameters)(i,{geometry:e?.[0]}),u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.encode)({...l.query,f:"json",...t}),a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.asValidOptions)(u,f);return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>_support_IdentifyResult_js__WEBPACK_IMPORTED_MODULE_5__["default"].fromJSON(r))),e}function a(r){return r=_support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_4__["default"].from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/operations/identify.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/identify.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   identifyToIdentifyRESTParameters: () => (/* binding */ l),
/* harmony export */   toDynamicLayersJSON: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _layers_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../layers/support/sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(e,t){const{dpi:i,gdbVersion:s,geometry:l,geometryPrecision:a,height:p,layerOption:f,mapExtent:m,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,spatialReference:x,timeExtent:b,tolerance:h,width:E}=e.toJSON(),{dynamicLayers:O,layerDefs:S,layerIds:j}=o(e),N=null!=t?.geometry?t.geometry:null,$={geometryPrecision:a,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,tolerance:h},I=N&&N.toJSON()||l;$.imageDisplay=`${E},${p},${i}`,s&&($.gdbVersion=s),I&&(delete I.spatialReference,$.geometry=JSON.stringify(I),$.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.getJsonType)(I));const R=x??I?.spatialReference??m?.spatialReference;if(R&&($.sr=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__.srToRESTValue)(R)),$.time=b?[b.start,b.end].join(","):null,m){const{xmin:e,ymin:r,xmax:t,ymax:n}=m;$.mapExtent=`${e},${r},${t},${n}`}return S&&($.layerDefs=S),O&&!S&&($.dynamicLayers=O),$.layers="popup"===f?"visible":f,j&&!O&&($.layers+=`:${j.join(",")}`),$}function o(e){const{mapExtent:r,floors:n,width:l,sublayers:o,layerIds:p,layerOption:f,gdbVersion:m}=e,y=o?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u="popup"===f,c={},d=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_2__.getScale)({extent:r,width:l,spatialReference:r?.spatialReference}),g=[],x=e=>{const r=0===d,t=0===e.minScale||d<=e.minScale,n=0===e.maxScale||d>=e.maxScale;if(e.visible&&(r||t&&n))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===p?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(o?.forEach(x),o&&!g.length)c.layerIds=[];else{const e=(0,_layers_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_5__.isExportDynamic)(g,y,m),r=g.map((e=>{const r=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_4__.getLayerFloorFilterClause)(n,e);return e.toExportImageJSON(r)}));if(e)c.dynamicLayers=JSON.stringify(r);else{if(o){let e=g.map((({id:e})=>e));p&&(e=e.filter((e=>p.includes(e)))),c.layerIds=e}else p?.length&&(c.layerIds=p);const e=a(n,g);if(null!=e&&e.length){const r={};for(const t of e)t.definitionExpression&&(r[t.id]=t.definitionExpression);Object.keys(r).length&&(c.layerDefs=JSON.stringify(r))}}}return c}function a(r,t){const n=!!r?.length,s=t.filter((e=>null!=e.definitionExpression||n&&null!=e.floorInfo));return s.length?s.map((t=>{const n=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_4__.getLayerFloorFilterClause)(r,t),s=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_0__.sqlAnd)(n,t.definitionExpression);return{id:t.id,definitionExpression:s??void 0}})):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/IdentifyParameters.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/IdentifyParameters.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var m;let a=m=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupport{static from(t){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.ensureClass)(m,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.layerIds=null,this.layerOption="top",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"floors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],a.prototype,"gdbVersion",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({types:_geometry_js__WEBPACK_IMPORTED_MODULE_1__.geometryTypes,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__.fromJSON,write:!0}})],a.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"geometryPrecision",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"height",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:[Number],json:{write:!0}})],a.prototype,"layerIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:["top","visible","all","popup"],json:{write:!0}})],a.prototype,"layerOption",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__["default"],json:{write:!0}})],a.prototype,"mapExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"maxAllowableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnFieldName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnGeometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnUnformattedValues",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{write:!0}})],a.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_TimeExtent_js__WEBPACK_IMPORTED_MODULE_2__["default"],json:{write:!0}})],a.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"tolerance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"width",void 0),a=m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.rest.support.IdentifyParameters")],a);const u=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/IdentifyResult.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/IdentifyResult.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let u=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupport{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__.typeKebabDictionary.toJSON(o.type))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],u.prototype,"displayFieldName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]})],u.prototype,"feature",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("feature",["attributes","geometry"])],u.prototype,"readFeature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("feature")],u.prototype,"writeFeature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],u.prototype,"layerId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],u.prototype,"layerName",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.rest.support.IdentifyResult")],u);const m=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapServiceLayerViewHelper: () => (/* binding */ G),
/* harmony export */   collectPopupProviders: () => (/* binding */ U),
/* harmony export */   isMapServiceLayerView: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _rest_identify_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../rest/identify.js */ "./node_modules/@arcgis/core/rest/identify.js");
/* harmony import */ var _rest_support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../rest/support/IdentifyParameters.js */ "./node_modules/@arcgis/core/rest/support/IdentifyParameters.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _popupUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let P=null;function S(e,t){return"tile"===t.type||"map-image"===t.type}let G=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.debounce)((async e=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch((()=>{})))}))}initialize(){const e=e=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)};this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.on)((()=>this.highlightGraphics),"change",(t=>e(t.added)),{onListenerAdd:t=>e(t)})])}async fetchPopupFeatures(e,t){const{layerView:{layer:r,view:{scale:s}}}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("fetchPopupFeatures:invalid-area","Nothing to fetch without area",{layer:r});const i=U(r.sublayers,s,t);if(!i.length)return[];const a=await R(r,i);if(!((r.capabilities?.operations?.supportsIdentify??!0)&&r.version>=10.5)&&!a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("fetchPopupFeatures:not-supported","query operation is disabled for this service",{layer:r});return a?this._fetchPopupFeaturesUsingQueries(e,i,t):this._fetchPopupFeaturesUsingIdentify(e,i,t)}clearHighlights(){this.highlightGraphics?.removeAll()}highlight(e){const r=this.highlightGraphics;if(!r)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeHandle)();let o=null;if(e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]?o=[e]:_core_Collection_js__WEBPACK_IMPORTED_MODULE_4__["default"].isCollection(e)&&e.length>0?o=e.toArray():Array.isArray(e)&&e.length>0&&(o=e),o=o?.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome),!o?.length)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeHandle)();for(const t of o){const e=t.sourceLayer;null!=e&&"geometryType"in e&&"point"===e.geometryType&&(t.visible=!1)}return r.addMany(o),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeHandle)((()=>r.removeMany(o??[])))}async _updateHighlightedFeaturesSymbols(e){const{layerView:{view:t},highlightGraphics:r,highlightGraphicUpdated:s}=this;if(r&&s)for(const i of e){const e=i.sourceLayer&&"renderer"in i.sourceLayer&&i.sourceLayer.renderer;i.sourceLayer&&"geometryType"in i.sourceLayer&&"point"===i.sourceLayer.geometryType&&e&&"getSymbolAsync"in e&&e.getSymbolAsync(i).then((async o=>{o||=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__["default"];let a=null;const n="visualVariables"in e?e.visualVariables?.find((e=>"size"===e.type)):void 0;n&&(P||(P=(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"))).getSize),a=P(n,i,{view:t.type,scale:t.scale,shape:"simple-marker"===o.type?o.style:null})),a||="width"in o&&"height"in o&&null!=o.width&&null!=o.height?Math.max(o.width,o.height):"size"in o?o.size:16,r.includes(i)&&(i.symbol=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__["default"]({style:"square",size:a,xoffset:"xoffset"in o?o.xoffset:0,yoffset:"yoffset"in o?o.yoffset:0}),s(i,"symbol"),i.visible=!0)}))}}async _updateHighlightedFeaturesGeometries(e){const{layerView:{layer:t,view:r},highlightGraphics:s,highlightGraphicUpdated:i}=this;if(this._highlightGeometriesResolution=e,!i||!s?.length||!t.capabilities.operations.supportsQuery)return;const o=this._getTargetResolution(e),a=new Map;for(const c of s)if(!this._featuresResolutions.has(c)||this._featuresResolutions.get(c)>o){const e=c.sourceLayer;(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_8__.getOrCreateMapValue)(a,e,(()=>new Map)).set(c.getObjectId(),c)}const l=Array.from(a,(([e,t])=>{const s=e.createQuery();return s.objectIds=[...t.keys()],s.outFields=[e.objectIdField],s.returnGeometry=!0,s.maxAllowableOffset=o,s.outSpatialReference=r.spatialReference,e.queryFeatures(s)})),p=await Promise.all(l);if(!this.destroyed)for(const{features:n}of p)for(const e of n){const t=e.sourceLayer,r=a.get(t).get(e.getObjectId());r&&s.includes(r)&&(r.geometry=e.geometry,i(r,"geometry"),this._featuresResolutions.set(r,o))}}_getTargetResolution(e){const t=e*(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__.getMetersPerUnitForSR)(this.layerView.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t,r){const s=await this._createIdentifyParameters(e,t,r);if(null==s)return[];const{results:i}=await (0,_rest_identify_js__WEBPACK_IMPORTED_MODULE_20__.identify)(this.layerView.layer.parsedUrl,s);return i.map((e=>e.feature))}async _createIdentifyParameters(e,t,r){const{floors:s,layer:i,timeExtent:o,view:{spatialReference:a,scale:n}}=this.layerView,l=null!=r?r.event:null;if(!t.length)return null;await Promise.all(t.map((({sublayer:e})=>e.load().catch((()=>{})))));const p=Math.min((0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("mapservice-popup-identify-max-tolerance"),i.allSublayers.reduce(((e,t)=>t.renderer?(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_19__.calculateTolerance)({renderer:t.renderer,event:l}):e),2)),c=this.createFetchPopupFeaturesQueryGeometry(e,p),u=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__.getResolutionForScale)(n,a),h=Math.round(c.width/u),f=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__["default"]({xmin:c.center.x-u*h,ymin:c.center.y-u*h,xmax:c.center.x+u*h,ymax:c.center.y+u*h,spatialReference:c.spatialReference});return new _rest_support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_21__["default"]({floors:s,gdbVersion:"gdbVersion"in i?i.gdbVersion:void 0,geometry:e,height:h,layerOption:"popup",mapExtent:f,returnGeometry:!0,spatialReference:a,sublayers:i.sublayers,timeExtent:o,tolerance:p,width:h})}async _fetchPopupFeaturesUsingQueries(e,t,r){const{layerView:{floors:i,timeExtent:o}}=this,a=null!=r?r.event:null,n=t.map((async({sublayer:t,popupTemplate:r})=>{if(await t.load().catch((()=>{})),t.capabilities&&!t.capabilities.operations.supportsQuery)return[];const s=t.createQuery(),n=(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_19__.calculateTolerance)({renderer:t.renderer,event:a}),l=this.createFetchPopupFeaturesQueryGeometry(e,n),p=new Set,[c]=await Promise.all([(0,_popupUtils_js__WEBPACK_IMPORTED_MODULE_24__.getRequiredFields)(t,r),t.renderer?.collectRequiredFields(p,t.fieldsIndex)]);(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_17__.collectFields)(p,t.fieldsIndex,c);const u=Array.from(p).sort();if(s.geometry=l,s.outFields=u,s.timeExtent=o,i){const e=i.clone(),r=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__.getLayerFloorFilterClause)(e,t);null!=r&&(s.where=s.where?`(${s.where}) AND (${r})`:r)}const h=this._getTargetResolution(l.width/n),y=await _(r),m="point"===t.geometryType||y&&y.arcadeUtils.hasGeometryOperations(r);m||(s.maxAllowableOffset=h);let{features:w}=await t.queryFeatures(s);const b=m?0:h;w=await A(t,w);for(const e of w)this._featuresResolutions.set(e,b);return w}));return(await Promise.allSettled(n)).reduce(((e,t)=>"fulfilled"===t.status?[...e,...t.value]:e),[]).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome)}};function U(e,t,r){const s=[];if(!e)return s;const i=e=>{const o=0===e.minScale||t<=e.minScale,a=0===e.maxScale||t>=e.maxScale;if(e.visible&&o&&a)if(e.sublayers)e.sublayers.forEach(i);else if(e.popupEnabled){const t=(0,_popupUtils_js__WEBPACK_IMPORTED_MODULE_24__.getFetchPopupTemplate)(e,{...r,defaultPopupTemplateEnabled:!1});null!=t&&s.unshift({sublayer:e,popupTemplate:t})}};return e.map(i),s}function _(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>"expression"===e.type))?(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_22__.loadArcade)():Promise.resolve()}async function R(e,t){if(e.capabilities?.operations?.supportsQuery)return!0;try{return await Promise.any(t.map((({sublayer:e})=>e.load().then((()=>e.capabilities.operations.supportsQuery)))))}catch{return!1}}async function A(e,t){const r=e.renderer;return r&&"defaultSymbol"in r&&!r.defaultSymbol&&(t=r.valueExpression?await Promise.all(t.map((e=>r.getSymbolAsync(e).then((t=>t?e:null))))).then((e=>e.filter((e=>null!=e)))):t.filter((e=>null!=r.getSymbol(e)))),t}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],G.prototype,"createFetchPopupFeaturesQueryGeometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],G.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],G.prototype,"highlightGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],G.prototype,"highlightGraphicUpdated",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],G.prototype,"updatingHandles",void 0),G=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.views.layers.support.MapService")],G);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/drapedUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/drapedUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createQueryGeometry: () => (/* binding */ r),
/* harmony export */   intersectsDrapedGeometry: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(t,r,i,a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]){let o=0;if("2d"===i.type)o=r*(i.resolution??0);else if("3d"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(a)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__.calculateTolerance)(),i,a).intersects(n)}const a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"];


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzX2xheWVyc19zdXBwb3J0X01hcFNlcnZpY2VMYXllclZpZXdIZWxwZXJfanMtbm9kLTU0ZWEzZC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLGdFQUFnRSwrQ0FBK0MsWUFBWSxnQkFBZ0IsZ0ZBQWdGLGdCQUFnQiwwQkFBMEIsMENBQTBDLEVBQUUsS0FBSyx1QkFBdUIsR0FBRyxNQUFNLFlBQVksT0FBTyxHQUFHLFNBQTBFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcGQ7QUFDQTtBQUNBO0FBQ0E7QUFDd0Usa0JBQWtCLHFCQUFxQixZQUFZLGNBQWMseUJBQXlCLHVPQUF1TyxrQkFBa0Isb0JBQW9CLGlCQUFpQix5SEFBeUgsNkVBQUMsdUNBQXVDLDZFQUFDLGtDQUFrQyw2RUFBQyx3Q0FBd0MsNkVBQUMsU0FBUyxZQUFZLGdCQUFnQixnQ0FBZ0MsdUNBQXVDLFlBQVksdURBQXVELDhCQUE4QixRQUFRLGlCQUFpQixVQUFVLEtBQUssTUFBTSxLQUFLLGNBQWMsS0FBSyxpQkFBaUIsU0FBUyxjQUFjLDRFQUFtSzs7Ozs7Ozs7Ozs7Ozs7O0FDSjVvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrSUFBa0ksY0FBYyxZQUFZLFlBQVksV0FBVyxLQUFLLGtCQUFrQiwrQkFBK0IsV0FBVyxnQkFBZ0IseURBQXlELGdCQUFnQixlQUFlLGdEQUFnRCxNQUFNLG9CQUFvQixHQUFHLHdCQUF3QixHQUFHLFFBQVEsaUJBQWlCLGtCQUFrQixZQUFZLElBQUksWUFBWSx3QkFBd0IscUJBQXFCLGNBQWMsOERBQThELGVBQWUsdURBQXVELDBDQUEwQyw0QkFBNEIsUUFBUSx3Q0FBd0MsZ0JBQWdCLEtBQUssNEJBQTRCLFFBQVEsc0NBQXNDLGdCQUFnQixLQUFLLHVDQUF1RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjNnQztBQUNBO0FBQ0E7QUFDQTtBQUMwVix3QkFBd0IsNENBQTRDLG1EQUFDLElBQUksMkJBQTJCLDZGQUFDLGNBQWMsUUFBUSx5RkFBQyxJQUFJLGdCQUFnQixJQUFJLGlEQUFDLEVBQUUseUJBQXlCLElBQUkseURBQUMsTUFBTSxPQUFPLHVEQUFDLCtDQUErQyxHQUFHLGNBQWMsZUFBZSxvSEFBb0gsa0VBQUMsaUJBQWlCLGNBQWMsU0FBUyxzRUFBQyxTQUFTLGdCQUFnQix1QkFBdUIsZ0JBQWdCLGNBQWMsa0RBQWtELGFBQWEsZ0VBQWdFLFNBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnQvQjtBQUNBO0FBQ0E7QUFDQTtBQUMwWixnQkFBZ0IsTUFBTSxxT0FBcU8sYUFBYSx1Q0FBdUMsNkNBQTZDLDRIQUE0SCxvQkFBb0Isa0JBQWtCLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxnR0FBZ0csMkVBQUMsS0FBSyxvREFBb0QsWUFBWSx5RkFBQyxnREFBZ0QsTUFBTSw0QkFBNEIsR0FBRyxlQUFlLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSw0R0FBNEcsWUFBWSxLQUFLLGNBQWMsTUFBTSwrRUFBK0UsNEVBQTRFLEdBQUcseUVBQUMsRUFBRSxzREFBc0QsYUFBYSw4RUFBOEUsOERBQThELEtBQUsseUVBQXlFLGVBQWUsNENBQTRDLEtBQUssUUFBUSxpRkFBQyxxQkFBcUIsUUFBUSw4RkFBQyxNQUFNLDhCQUE4QixHQUFHLHVDQUF1QyxLQUFLLE1BQU0sZUFBZSxLQUFLLE9BQU8saURBQWlELCtCQUErQixlQUFlLHNCQUFzQixXQUFXLDBFQUEwRSx5REFBeUQsU0FBUyxnQkFBZ0Isd0ZBQXdGLDJCQUEyQixRQUFRLDhGQUFDLFFBQVEsb0RBQUMsMkJBQTJCLE9BQU8sd0NBQXdDLFFBQStFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdGlGO0FBQ0E7QUFDQTtBQUNBO0FBQ2duQixNQUFNLHNCQUFzQiw2REFBQyxDQUFDLGVBQWUsT0FBTyxnRkFBQyxNQUFNLGVBQWUsNmFBQTZhLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsVUFBVSw2QkFBNkIsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGtCQUFrQixVQUFVLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsTUFBTSx1REFBQyxPQUFPLEtBQUssb0VBQUMsV0FBVyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGtCQUFrQixVQUFVLDJDQUEyQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsa0JBQWtCLFVBQVUsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxvQkFBb0IsVUFBVSxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLDJDQUEyQyxVQUFVLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsS0FBSyw0REFBQyxPQUFPLFVBQVUsbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsVUFBVSw0Q0FBNEMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLG1CQUFtQixVQUFVLHlDQUF5Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsbUJBQW1CLFVBQVUsd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxtQkFBbUIsVUFBVSxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLG1CQUFtQixVQUFVLGlEQUFpRCx1REFBQyxFQUFFLHNGQUFDLEVBQUUsbUJBQW1CLFVBQVUsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLHNFQUFDLE9BQU8sVUFBVSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLEtBQUssc0RBQUMsT0FBTyxVQUFVLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsa0JBQWtCLFVBQVUsbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsVUFBVSxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQyw2Q0FBNkMsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p4aEY7QUFDQTtBQUNBO0FBQ0E7QUFDa29CLG9CQUFvQiw2REFBQyxDQUFDLGVBQWUsNEZBQTRGLGlCQUFpQixPQUFPLG1EQUFDLFdBQVcsWUFBWSxnQkFBZ0IsV0FBVyxlQUFlLEVBQUUsa0JBQWtCLGFBQWEsTUFBTSx3QkFBd0IsR0FBRyxrQkFBa0IsS0FBSyxpREFBaUQsZ0ZBQUMsbUJBQW1CLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsVUFBVSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLEtBQUssbURBQUMsQ0FBQyxpQ0FBaUMsdURBQUMsRUFBRSxrRkFBQyx1RUFBdUUsdURBQUMsRUFBRSxtRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGtCQUFrQixVQUFVLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsa0JBQWtCLFVBQVUscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMseUNBQXlDLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeDhDO0FBQ0E7QUFDQTtBQUNBO0FBQzQ4QyxXQUFXLGdCQUFnQiw0Q0FBNEMsb0JBQW9CLHlEQUFDLENBQUMsZUFBZSw0SUFBNEksK0RBQUMsWUFBWSwwR0FBMEcsSUFBSSxHQUFHLGFBQWEsWUFBWSx1RkFBdUYseUVBQXlFLGlCQUFpQiwyREFBQyx3REFBd0Qsc0JBQXNCLElBQUksOEJBQThCLE1BQU0sV0FBVyxjQUFjLFVBQVUsTUFBTSxnQkFBZ0Isc0RBQUMsb0VBQW9FLFFBQVEsRUFBRSwyQkFBMkIsc0JBQXNCLHFCQUFxQix3RkFBd0Ysc0RBQUMsb0ZBQW9GLFFBQVEsRUFBRSxrR0FBa0csa0JBQWtCLG9DQUFvQyxhQUFhLCtCQUErQixhQUFhLGdFQUFDLEdBQUcsV0FBVyxnQkFBZ0IsbURBQUMsT0FBTywyREFBQywyRkFBMkYsdURBQUMsb0JBQW9CLGdFQUFDLEdBQUcsa0JBQWtCLHNCQUFzQixzRUFBc0Usb0JBQW9CLGdFQUFDLDRCQUE0QiwyQ0FBMkMsTUFBTSxXQUFXLE9BQU8sK0NBQStDLE1BQU0sMEJBQTBCLDBFQUEwRSxrSkFBa0osUUFBUSx1RUFBQyxDQUFDLFdBQVcsbUZBQW1GLGlCQUFpQixxUEFBMkUsb0JBQW9CLHNFQUFzRSw2SUFBNkksdUVBQUMsRUFBRSwwRkFBMEYsOEJBQThCLElBQUksOENBQThDLE1BQU0sV0FBVyxlQUFlLCtDQUErQyxNQUFNLHlHQUF5RywrQ0FBK0MsMkZBQTJGLHNCQUFzQixzRUFBQywyQ0FBMkMsZ0NBQWdDLHdCQUF3QixzS0FBc0ssMEJBQTBCLDZCQUE2QixXQUFXLHVCQUF1QixzREFBc0QsOEZBQThGLHdCQUF3QixVQUFVLDBFQUFDLDhDQUE4QyxxQkFBcUIsOENBQThDLG9EQUFvRCxvQkFBb0IsTUFBTSxVQUFVLE9BQU8sNERBQUMsbUNBQW1DLDZCQUE2Qix1Q0FBdUMsTUFBTSxvQ0FBb0MsNEJBQTRCLHVDQUF1Qyx5QkFBeUIsMkJBQTJCLFdBQVcseUJBQXlCLE1BQU0saUJBQWlCLHdEQUFHLHFGQUFxRiw4RkFBQyxFQUFFLDRCQUE0Qiw2REFBNkQsdUZBQUMsb0NBQW9DLDREQUFDLEVBQUUsb0hBQW9ILEVBQUUsV0FBVyw0RUFBQyxFQUFFLHlNQUF5TSxFQUFFLDZDQUE2QyxNQUFNLFdBQVcsdUJBQXVCLDZDQUE2QywyQkFBMkIsSUFBSSwrQkFBK0IscUVBQXFFLDBCQUEwQiw4RkFBQyxFQUFFLDRCQUE0QixxRkFBcUYsa0VBQUMsMkRBQTJELDZFQUFDLG9CQUFvQiw2QkFBNkIsZ0RBQWdELG9CQUFvQiwrRkFBQyxNQUFNLDhCQUE4QixRQUFRLFNBQVMsRUFBRSxNQUFNLGdJQUFnSSw0QkFBNEIsSUFBSSxXQUFXLDBCQUEwQixjQUFjLGVBQWUsb0RBQW9ELFNBQVMsR0FBRywwR0FBMEcsdURBQUMsSUFBSSxrQkFBa0IsV0FBVyxlQUFlLFlBQVksc0VBQXNFLHlEQUF5RCx3QkFBd0IsUUFBUSxzRUFBQyxJQUFJLG9DQUFvQyxFQUFFLG9CQUFvQiwyQkFBMkIsSUFBSSxrQkFBa0IsY0FBYyx1R0FBdUcsdUVBQUMscUJBQXFCLHNCQUFzQixzREFBc0QsSUFBSSxrQ0FBa0MsV0FBVyxtRUFBbUUsTUFBTSxVQUFVLHNCQUFzQixtQkFBbUIsc05BQXNOLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsK0RBQStELHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsbUNBQW1DLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsMkNBQTJDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsaURBQWlELHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsMkNBQTJDLHVEQUFDLEVBQUUsdUZBQUMsNkNBQTBJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKaHpRO0FBQ0E7QUFDQTtBQUNBO0FBQzRGLHNDQUFzQyxvQkFBb0Isa0RBQWtELHNCQUFzQixJQUFJLDhEQUE4RCxHQUFHLCtCQUErQixVQUFVLG1GQUFDLFNBQVMsd0VBQUMsNEJBQTRCLG9KQUFvSixNQUFNLFdBQVcsR0FBRyx1REFBdUQsS0FBSyxnQkFBZ0Isd0lBQXdJLGdCQUFnQixrQkFBa0IsOEJBQThCLEVBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqNEI7QUFDQTtBQUNBO0FBQ0E7QUFDc04sdUJBQXVCLDJEQUFDLEVBQUUsUUFBUSx1Q0FBdUMsdUJBQXVCLG9FQUFvRSw0Q0FBNEMseUVBQUMsSUFBSSx5RUFBQyxxQkFBcUIsdUNBQXVDLG1CQUFtQixHQUFHLGtIQUFrSCxrQkFBa0IsbUJBQW1CLG9CQUFvQixXQUFXLDZGQUFDLHNCQUFzQixZQUFZLDJEQUFDLENBQWdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L2Zsb29yRmlsdGVyVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3N1YmxheWVyVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3JlbmRlcmVycy9zdXBwb3J0L2NsaWNrVG9sZXJhbmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3QvaWRlbnRpZnkuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3Qvb3BlcmF0aW9ucy9pZGVudGlmeS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9zdXBwb3J0L0lkZW50aWZ5UGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9zdXBwb3J0L0lkZW50aWZ5UmVzdWx0LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvc3VwcG9ydC9NYXBTZXJ2aWNlTGF5ZXJWaWV3SGVscGVyLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L2RyYXBlZFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvKG8pe2NvbnN0IG49by5sYXllcjtpZihcImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQmJlwiZmxvb3JzXCJpbiBvLnZpZXcpe3JldHVybiBsKG8udmlldy5mbG9vcnMsbi5mbG9vckluZm8uZmxvb3JGaWVsZCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihvLG4pe3JldHVyblwiZmxvb3JJbmZvXCJpbiBuJiZuLmZsb29ySW5mbz8uZmxvb3JGaWVsZD9sKG8sbi5mbG9vckluZm8uZmxvb3JGaWVsZCk6bnVsbH1mdW5jdGlvbiBsKG8sbil7aWYoIW8/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBsPW8uZmlsdGVyKChvPT5cIlwiIT09bykpLm1hcCgobz0+YCcke299J2ApKTtyZXR1cm4gbC5wdXNoKFwiJydcIiksYCR7bn0gSU4gKCR7bC5qb2luKFwiLFwiKX0pIE9SICR7bn0gSVMgTlVMTGB9ZXhwb3J0e28gYXMgZ2V0Rmxvb3JGaWx0ZXJDbGF1c2UsbiBhcyBnZXRMYXllckZsb29yRmlsdGVyQ2xhdXNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7T3JpZ2luSWQgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2Z1bmN0aW9uIGUocixlLG4pe2NvbnN0IG89ZS5mbGF0dGVuKCgoe3N1YmxheWVyczpyfSk9PnIpKS5sZW5ndGg7aWYobyE9PXIubGVuZ3RoKXJldHVybiEwO3JldHVybiEhci5zb21lKChyPT5yLm9yaWdpbklkT2YoXCJtaW5TY2FsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJtYXhTY2FsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJyZW5kZXJlclwiKT5ufHxyLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+bnx8ci5vcmlnaW5JZE9mKFwib3BhY2l0eVwiKT5ufHxyLm9yaWdpbklkT2YoXCJsYWJlbHNWaXNpYmxlXCIpPm58fHIub3JpZ2luSWRPZihcInNvdXJjZVwiKT5uKSl8fCFpKHIsZSl9ZnVuY3Rpb24gbihlLG4sbyl7cmV0dXJuISFlLnNvbWUoKGU9Pntjb25zdCBuPWUuc291cmNlO3JldHVybiEoIW58fFwibWFwLWxheWVyXCI9PT1uLnR5cGUmJm4ubWFwTGF5ZXJJZD09PWUuaWQmJihudWxsPT1uLmdkYlZlcnNpb258fG4uZ2RiVmVyc2lvbj09PW8pKXx8ZS5vcmlnaW5JZE9mKFwicmVuZGVyZXJcIik+ci5TRVJWSUNFfHxlLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+ci5TRVJWSUNFfHxlLm9yaWdpbklkT2YoXCJvcGFjaXR5XCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwibGFiZWxzVmlzaWJsZVwiKT5yLlNFUlZJQ0V9KSl8fCFpKGUsbil9ZnVuY3Rpb24gaShyLGUpe2lmKCFyPy5sZW5ndGh8fG51bGw9PWUpcmV0dXJuITA7Y29uc3Qgbj1lLnNsaWNlKCkucmV2ZXJzZSgpLmZsYXR0ZW4oKCh7c3VibGF5ZXJzOnJ9KT0+ciYmci50b0FycmF5KCkucmV2ZXJzZSgpKSkubWFwKChyPT5yLmlkKSkudG9BcnJheSgpO2lmKHIubGVuZ3RoPm4ubGVuZ3RoKXJldHVybiExO2xldCBpPTA7Y29uc3Qgbz1uLmxlbmd0aDtmb3IoY29uc3R7aWQ6dH1vZiByKXtmb3IoO2k8byYmbltpXSE9PXQ7KWkrKztpZihpPj1vKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIG8ocil7cmV0dXJuISFyJiZyLnNvbWUoKHI9Pm51bGwhPXIubWluU2NhbGV8fG51bGwhPXIubGF5ZXJEZWZpbml0aW9uPy5taW5TY2FsZSkpfWV4cG9ydHtuIGFzIGlzRXhwb3J0RHluYW1pYyxvIGFzIGlzU3VibGF5ZXJPdmVyaGF1bCxlIGFzIHNob3VsZFdyaXRlU3VibGF5ZXJTdHJ1Y3R1cmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxlKXtyZXR1cm4gZT9cInhvZmZzZXRcImluIGUmJmUueG9mZnNldD9NYXRoLm1heCh0LE1hdGguYWJzKGUueG9mZnNldCkpOlwieW9mZnNldFwiaW4gZSYmZS55b2Zmc2V0P01hdGgubWF4KHQsTWF0aC5hYnMoZS55b2Zmc2V0fHwwKSk6dDp0fWZ1bmN0aW9uIGUodCl7bGV0IGU9MCxuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXS5zaXplO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYoZSs9byxuKyspfXJldHVybiBlL259ZnVuY3Rpb24gbih0LG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6dD8uc3RvcHM/Lmxlbmd0aD9lKHQuc3RvcHMpOm59ZnVuY3Rpb24gcih0LGUpe2lmKCFlKXJldHVybiB0O2NvbnN0IHI9ZS5maWx0ZXIoKHQ9Plwic2l6ZVwiPT09dC50eXBlKSkubWFwKChlPT57Y29uc3R7bWF4U2l6ZTpyLG1pblNpemU6b309ZTtyZXR1cm4obihyLHQpK24obyx0KSkvMn0pKTtsZXQgbz0wO2NvbnN0IHM9ci5sZW5ndGg7aWYoMD09PXMpcmV0dXJuIHQ7Zm9yKGxldCBuPTA7bjxzO24rKylvKz1yW25dO2NvbnN0IGY9TWF0aC5mbG9vcihvL3MpO3JldHVybiBNYXRoLm1heChmLHQpfWZ1bmN0aW9uIG8oZSl7Y29uc3Qgbj1lPy5yZW5kZXJlcixvPWU/LmV2ZW50Py5wb2ludGVyVHlwZSxzPVwidG91Y2hcIj09PW8/OTo2O2lmKCFuKXJldHVybiBzO2NvbnN0IGY9XCJ2aXN1YWxWYXJpYWJsZXNcImluIG4/cihzLG4udmlzdWFsVmFyaWFibGVzKTpzO2lmKFwic2ltcGxlXCI9PT1uLnR5cGUpcmV0dXJuIHQoZixuLnN5bWJvbCk7aWYoXCJ1bmlxdWUtdmFsdWVcIj09PW4udHlwZSl7bGV0IGU9ZjtyZXR1cm4gbi51bmlxdWVWYWx1ZUluZm9zPy5mb3JFYWNoKChuPT57ZT10KGUsbi5zeW1ib2wpfSkpLGV9aWYoXCJjbGFzcy1icmVha3NcIj09PW4udHlwZSl7bGV0IGU9ZjtyZXR1cm4gbi5jbGFzc0JyZWFrSW5mb3MuZm9yRWFjaCgobj0+e2U9dChlLG4uc3ltYm9sKX0pKSxlfXJldHVyblwiZG90LWRlbnNpdHlcIj09PW4udHlwZXx8bi50eXBlLGZ9ZXhwb3J0e28gYXMgY2FsY3VsYXRlVG9sZXJhbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgciBmcm9tXCIuLi9yZXF1ZXN0LmpzXCI7aW1wb3J0e25vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbiBhcyBlfWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHMuanNcIjtpbXBvcnR7cGFyc2VVcmwgYXMgdCxlbmNvZGUgYXMgbyxhc1ZhbGlkT3B0aW9ucyBhcyBzfWZyb21cIi4vdXRpbHMuanNcIjtpbXBvcnR7aWRlbnRpZnlUb0lkZW50aWZ5UkVTVFBhcmFtZXRlcnMgYXMgbn1mcm9tXCIuL29wZXJhdGlvbnMvaWRlbnRpZnkuanNcIjtpbXBvcnQgdSBmcm9tXCIuL3N1cHBvcnQvSWRlbnRpZnlQYXJhbWV0ZXJzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi9zdXBwb3J0L0lkZW50aWZ5UmVzdWx0LmpzXCI7YXN5bmMgZnVuY3Rpb24gZih1LGksZil7Y29uc3QgYz0oaT1hKGkpKS5nZW9tZXRyeT9baS5nZW9tZXRyeV06W10sbD10KHUpO3JldHVybiBsLnBhdGgrPVwiL2lkZW50aWZ5XCIsZShjKS50aGVuKChlPT57Y29uc3QgdD1uKGkse2dlb21ldHJ5OmU/LlswXX0pLHU9byh7Li4ubC5xdWVyeSxmOlwianNvblwiLC4uLnR9KSxhPXModSxmKTtyZXR1cm4gcihsLnBhdGgsYSkudGhlbihtKS50aGVuKChyPT5wKHIsaS5zdWJsYXllcnMpKSl9KSl9ZnVuY3Rpb24gbShyKXtjb25zdCBlPXIuZGF0YTtyZXR1cm4gZS5yZXN1bHRzPWUucmVzdWx0c3x8W10sZS5leGNlZWRlZFRyYW5zZmVyTGltaXQ9Qm9vbGVhbihlLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCksZS5yZXN1bHRzPWUucmVzdWx0cy5tYXAoKHI9PmkuZnJvbUpTT04ocikpKSxlfWZ1bmN0aW9uIGEocil7cmV0dXJuIHI9dS5mcm9tKHIpfWZ1bmN0aW9uIHAocixlKXtpZighZT8ubGVuZ3RoKXJldHVybiByO2NvbnN0IHQ9bmV3IE1hcDtmdW5jdGlvbiBvKHIpe3Quc2V0KHIuaWQsciksci5zdWJsYXllcnMmJnIuc3VibGF5ZXJzLmZvckVhY2gobyl9ZS5mb3JFYWNoKG8pO2Zvcihjb25zdCBzIG9mIHIucmVzdWx0cylzLmZlYXR1cmUuc291cmNlTGF5ZXI9dC5nZXQocy5sYXllcklkKTtyZXR1cm4gcn1leHBvcnR7ZiBhcyBpZGVudGlmeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3NxbEFuZCBhcyBlfWZyb21cIi4uLy4uL2NvcmUvc3FsLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7Z2V0U2NhbGUgYXMgdH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanNcIjtpbXBvcnR7c3JUb1JFU1RWYWx1ZSBhcyBufWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2dldExheWVyRmxvb3JGaWx0ZXJDbGF1c2UgYXMgaX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9mbG9vckZpbHRlclV0aWxzLmpzXCI7aW1wb3J0e2lzRXhwb3J0RHluYW1pYyBhcyBzfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L3N1YmxheWVyVXRpbHMuanNcIjtmdW5jdGlvbiBsKGUsdCl7Y29uc3R7ZHBpOmksZ2RiVmVyc2lvbjpzLGdlb21ldHJ5OmwsZ2VvbWV0cnlQcmVjaXNpb246YSxoZWlnaHQ6cCxsYXllck9wdGlvbjpmLG1hcEV4dGVudDptLG1heEFsbG93YWJsZU9mZnNldDp5LHJldHVybkZpZWxkTmFtZTp1LHJldHVybkdlb21ldHJ5OmMscmV0dXJuVW5mb3JtYXR0ZWRWYWx1ZXM6ZCxyZXR1cm5aOmcsc3BhdGlhbFJlZmVyZW5jZTp4LHRpbWVFeHRlbnQ6Yix0b2xlcmFuY2U6aCx3aWR0aDpFfT1lLnRvSlNPTigpLHtkeW5hbWljTGF5ZXJzOk8sbGF5ZXJEZWZzOlMsbGF5ZXJJZHM6an09byhlKSxOPW51bGwhPXQ/Lmdlb21ldHJ5P3QuZ2VvbWV0cnk6bnVsbCwkPXtnZW9tZXRyeVByZWNpc2lvbjphLG1heEFsbG93YWJsZU9mZnNldDp5LHJldHVybkZpZWxkTmFtZTp1LHJldHVybkdlb21ldHJ5OmMscmV0dXJuVW5mb3JtYXR0ZWRWYWx1ZXM6ZCxyZXR1cm5aOmcsdG9sZXJhbmNlOmh9LEk9TiYmTi50b0pTT04oKXx8bDskLmltYWdlRGlzcGxheT1gJHtFfSwke3B9LCR7aX1gLHMmJigkLmdkYlZlcnNpb249cyksSSYmKGRlbGV0ZSBJLnNwYXRpYWxSZWZlcmVuY2UsJC5nZW9tZXRyeT1KU09OLnN0cmluZ2lmeShJKSwkLmdlb21ldHJ5VHlwZT1yKEkpKTtjb25zdCBSPXg/P0k/LnNwYXRpYWxSZWZlcmVuY2U/P20/LnNwYXRpYWxSZWZlcmVuY2U7aWYoUiYmKCQuc3I9bihSKSksJC50aW1lPWI/W2Iuc3RhcnQsYi5lbmRdLmpvaW4oXCIsXCIpOm51bGwsbSl7Y29uc3R7eG1pbjplLHltaW46cix4bWF4OnQseW1heDpufT1tOyQubWFwRXh0ZW50PWAke2V9LCR7cn0sJHt0fSwke259YH1yZXR1cm4gUyYmKCQubGF5ZXJEZWZzPVMpLE8mJiFTJiYoJC5keW5hbWljTGF5ZXJzPU8pLCQubGF5ZXJzPVwicG9wdXBcIj09PWY/XCJ2aXNpYmxlXCI6ZixqJiYhTyYmKCQubGF5ZXJzKz1gOiR7ai5qb2luKFwiLFwiKX1gKSwkfWZ1bmN0aW9uIG8oZSl7Y29uc3R7bWFwRXh0ZW50OnIsZmxvb3JzOm4sd2lkdGg6bCxzdWJsYXllcnM6byxsYXllcklkczpwLGxheWVyT3B0aW9uOmYsZ2RiVmVyc2lvbjptfT1lLHk9bz8uZmluZCgoZT0+bnVsbCE9ZS5sYXllcikpPy5sYXllcj8uc2VydmljZVN1YmxheWVycyx1PVwicG9wdXBcIj09PWYsYz17fSxkPXQoe2V4dGVudDpyLHdpZHRoOmwsc3BhdGlhbFJlZmVyZW5jZTpyPy5zcGF0aWFsUmVmZXJlbmNlfSksZz1bXSx4PWU9Pntjb25zdCByPTA9PT1kLHQ9MD09PWUubWluU2NhbGV8fGQ8PWUubWluU2NhbGUsbj0wPT09ZS5tYXhTY2FsZXx8ZD49ZS5tYXhTY2FsZTtpZihlLnZpc2libGUmJihyfHx0JiZuKSlpZihlLnN1YmxheWVycyllLnN1YmxheWVycy5mb3JFYWNoKHgpO2Vsc2V7aWYoITE9PT1wPy5pbmNsdWRlcyhlLmlkKXx8dSYmKCFlLnBvcHVwVGVtcGxhdGV8fCFlLnBvcHVwRW5hYmxlZCkpcmV0dXJuO2cudW5zaGlmdChlKX19O2lmKG8/LmZvckVhY2goeCksbyYmIWcubGVuZ3RoKWMubGF5ZXJJZHM9W107ZWxzZXtjb25zdCBlPXMoZyx5LG0pLHI9Zy5tYXAoKGU9Pntjb25zdCByPWkobixlKTtyZXR1cm4gZS50b0V4cG9ydEltYWdlSlNPTihyKX0pKTtpZihlKWMuZHluYW1pY0xheWVycz1KU09OLnN0cmluZ2lmeShyKTtlbHNle2lmKG8pe2xldCBlPWcubWFwKCgoe2lkOmV9KT0+ZSkpO3AmJihlPWUuZmlsdGVyKChlPT5wLmluY2x1ZGVzKGUpKSkpLGMubGF5ZXJJZHM9ZX1lbHNlIHA/Lmxlbmd0aCYmKGMubGF5ZXJJZHM9cCk7Y29uc3QgZT1hKG4sZyk7aWYobnVsbCE9ZSYmZS5sZW5ndGgpe2NvbnN0IHI9e307Zm9yKGNvbnN0IHQgb2YgZSl0LmRlZmluaXRpb25FeHByZXNzaW9uJiYoclt0LmlkXT10LmRlZmluaXRpb25FeHByZXNzaW9uKTtPYmplY3Qua2V5cyhyKS5sZW5ndGgmJihjLmxheWVyRGVmcz1KU09OLnN0cmluZ2lmeShyKSl9fX1yZXR1cm4gY31mdW5jdGlvbiBhKHIsdCl7Y29uc3Qgbj0hIXI/Lmxlbmd0aCxzPXQuZmlsdGVyKChlPT5udWxsIT1lLmRlZmluaXRpb25FeHByZXNzaW9ufHxuJiZudWxsIT1lLmZsb29ySW5mbykpO3JldHVybiBzLmxlbmd0aD9zLm1hcCgodD0+e2NvbnN0IG49aShyLHQpLHM9ZShuLHQuZGVmaW5pdGlvbkV4cHJlc3Npb24pO3JldHVybntpZDp0LmlkLGRlZmluaXRpb25FeHByZXNzaW9uOnM/P3ZvaWQgMH19KSk6bnVsbH1leHBvcnR7bCBhcyBpZGVudGlmeVRvSWRlbnRpZnlSRVNUUGFyYW1ldGVycyxvIGFzIHRvRHluYW1pY0xheWVyc0pTT059O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtnZW9tZXRyeVR5cGVzIGFzIGV9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9UaW1lRXh0ZW50LmpzXCI7aW1wb3J0e0pTT05TdXBwb3J0IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyBufWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO3ZhciBtO2xldCBhPW09Y2xhc3MgZXh0ZW5kcyBye3N0YXRpYyBmcm9tKHQpe3JldHVybiBpKG0sdCl9Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5kcGk9OTYsdGhpcy5mbG9vcnM9bnVsbCx0aGlzLmdkYlZlcnNpb249bnVsbCx0aGlzLmdlb21ldHJ5PW51bGwsdGhpcy5nZW9tZXRyeVByZWNpc2lvbj1udWxsLHRoaXMuaGVpZ2h0PTQwMCx0aGlzLmxheWVySWRzPW51bGwsdGhpcy5sYXllck9wdGlvbj1cInRvcFwiLHRoaXMubWFwRXh0ZW50PW51bGwsdGhpcy5tYXhBbGxvd2FibGVPZmZzZXQ9bnVsbCx0aGlzLnJldHVybkZpZWxkTmFtZT0hMCx0aGlzLnJldHVybkdlb21ldHJ5PSExLHRoaXMucmV0dXJuTT0hMSx0aGlzLnJldHVyblVuZm9ybWF0dGVkVmFsdWVzPSEwLHRoaXMucmV0dXJuWj0hMSx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnN1YmxheWVycz1udWxsLHRoaXMudGltZUV4dGVudD1udWxsLHRoaXMudG9sZXJhbmNlPW51bGwsdGhpcy53aWR0aD00MDB9fTt0KFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJkcGlcIix2b2lkIDApLHQoW3MoKV0sYS5wcm90b3R5cGUsXCJmbG9vcnNcIix2b2lkIDApLHQoW3Moe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcImdkYlZlcnNpb25cIix2b2lkIDApLHQoW3Moe3R5cGVzOmUsanNvbjp7cmVhZDpuLHdyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcImdlb21ldHJ5XCIsdm9pZCAwKSx0KFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJnZW9tZXRyeVByZWNpc2lvblwiLHZvaWQgMCksdChbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwiaGVpZ2h0XCIsdm9pZCAwKSx0KFtzKHt0eXBlOltOdW1iZXJdLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcImxheWVySWRzXCIsdm9pZCAwKSx0KFtzKHt0eXBlOltcInRvcFwiLFwidmlzaWJsZVwiLFwiYWxsXCIsXCJwb3B1cFwiXSxqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJsYXllck9wdGlvblwiLHZvaWQgMCksdChbcyh7dHlwZTpsLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcIm1hcEV4dGVudFwiLHZvaWQgMCksdChbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwibWF4QWxsb3dhYmxlT2Zmc2V0XCIsdm9pZCAwKSx0KFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwicmV0dXJuRmllbGROYW1lXCIsdm9pZCAwKSx0KFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwicmV0dXJuR2VvbWV0cnlcIix2b2lkIDApLHQoW3Moe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJyZXR1cm5NXCIsdm9pZCAwKSx0KFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwicmV0dXJuVW5mb3JtYXR0ZWRWYWx1ZXNcIix2b2lkIDApLHQoW3Moe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJyZXR1cm5aXCIsdm9pZCAwKSx0KFtzKHt0eXBlOnksanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksdChbcygpXSxhLnByb3RvdHlwZSxcInN1YmxheWVyc1wiLHZvaWQgMCksdChbcyh7dHlwZTpvLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLHQoW3Moe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcInRvbGVyYW5jZVwiLHZvaWQgMCksdChbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwid2lkdGhcIix2b2lkIDApLGE9bT10KFtwKFwiZXNyaS5yZXN0LnN1cHBvcnQuSWRlbnRpZnlQYXJhbWV0ZXJzXCIpXSxhKTtjb25zdCB1PWE7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7dHlwZUtlYmFiRGljdGlvbmFyeSBhcyBpfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7bGV0IHU9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpLHRoaXMuZGlzcGxheUZpZWxkTmFtZT1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMubGF5ZXJJZD1udWxsLHRoaXMubGF5ZXJOYW1lPW51bGx9cmVhZEZlYXR1cmUocix0KXtyZXR1cm4gZS5mcm9tSlNPTih7YXR0cmlidXRlczp7Li4udC5hdHRyaWJ1dGVzfSxnZW9tZXRyeTp7Li4udC5nZW9tZXRyeX19KX13cml0ZUZlYXR1cmUocixlKXtpZighcilyZXR1cm47Y29uc3R7YXR0cmlidXRlczp0LGdlb21ldHJ5Om99PXI7dCYmKGUuYXR0cmlidXRlcz17Li4udH0pLG51bGwhPW8mJihlLmdlb21ldHJ5PW8udG9KU09OKCksZS5nZW9tZXRyeVR5cGU9aS50b0pTT04oby50eXBlKSl9fTtyKFtvKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sdS5wcm90b3R5cGUsXCJkaXNwbGF5RmllbGROYW1lXCIsdm9pZCAwKSxyKFtvKHt0eXBlOmV9KV0sdS5wcm90b3R5cGUsXCJmZWF0dXJlXCIsdm9pZCAwKSxyKFtzKFwiZmVhdHVyZVwiLFtcImF0dHJpYnV0ZXNcIixcImdlb21ldHJ5XCJdKV0sdS5wcm90b3R5cGUsXCJyZWFkRmVhdHVyZVwiLG51bGwpLHIoW2EoXCJmZWF0dXJlXCIpXSx1LnByb3RvdHlwZSxcIndyaXRlRmVhdHVyZVwiLG51bGwpLHIoW28oe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSx1LnByb3RvdHlwZSxcImxheWVySWRcIix2b2lkIDApLHIoW28oe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSx1LnByb3RvdHlwZSxcImxheWVyTmFtZVwiLHZvaWQgMCksdT1yKFtwKFwiZXNyaS5yZXN0LnN1cHBvcnQuSWRlbnRpZnlSZXN1bHRcIildLHUpO2NvbnN0IG09dTtleHBvcnR7bSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBsfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e29uIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHV9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7Z2V0UmVzb2x1dGlvbkZvclNjYWxlIGFzIG19ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zY2FsZVV0aWxzLmpzXCI7aW1wb3J0e2NvbGxlY3RGaWVsZHMgYXMgZn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0e2dldExheWVyRmxvb3JGaWx0ZXJDbGF1c2UgYXMgZH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9mbG9vckZpbHRlclV0aWxzLmpzXCI7aW1wb3J0e2NhbGN1bGF0ZVRvbGVyYW5jZSBhcyBnfWZyb21cIi4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2NsaWNrVG9sZXJhbmNlVXRpbHMuanNcIjtpbXBvcnR7aWRlbnRpZnkgYXMgd31mcm9tXCIuLi8uLi8uLi9yZXN0L2lkZW50aWZ5LmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0lkZW50aWZ5UGFyYW1ldGVycy5qc1wiO2ltcG9ydHtsb2FkQXJjYWRlIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9hcmNhZGVPbkRlbWFuZC5qc1wiO2ltcG9ydCBqIGZyb21cIi4uLy4uLy4uL3N5bWJvbHMvU2ltcGxlTWFya2VyU3ltYm9sLmpzXCI7aW1wb3J0e2dldFJlcXVpcmVkRmllbGRzIGFzIHgsZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlIGFzIEZ9ZnJvbVwiLi9wb3B1cFV0aWxzLmpzXCI7bGV0IFA9bnVsbDtmdW5jdGlvbiBTKGUsdCl7cmV0dXJuXCJ0aWxlXCI9PT10LnR5cGV8fFwibWFwLWltYWdlXCI9PT10LnR5cGV9bGV0IEc9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2ZlYXR1cmVzUmVzb2x1dGlvbnM9bmV3IFdlYWtNYXAsdGhpcy5oaWdobGlnaHRHcmFwaGljcz1udWxsLHRoaXMuaGlnaGxpZ2h0R3JhcGhpY1VwZGF0ZWQ9bnVsbCx0aGlzLnVwZGF0ZUhpZ2hsaWdodGVkRmVhdHVyZXM9bCgoYXN5bmMgZT0+e3RoaXMuZGVzdHJveWVkfHx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3VwZGF0ZUhpZ2hsaWdodGVkRmVhdHVyZXNHZW9tZXRyaWVzKGUpLmNhdGNoKCgoKT0+e30pKSl9KSl9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9ZT0+e3RoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlSGlnaGxpZ2h0ZWRGZWF0dXJlc1N5bWJvbHMoZSkuY2F0Y2goKCgpPT57fSkpKSx0aGlzLnVwZGF0ZUhpZ2hsaWdodGVkRmVhdHVyZXModGhpcy5faGlnaGxpZ2h0R2VvbWV0cmllc1Jlc29sdXRpb24pfTt0aGlzLmFkZEhhbmRsZXMoW3AoKCgpPT50aGlzLmhpZ2hsaWdodEdyYXBoaWNzKSxcImNoYW5nZVwiLCh0PT5lKHQuYWRkZWQpKSx7b25MaXN0ZW5lckFkZDp0PT5lKHQpfSldKX1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSx0KXtjb25zdHtsYXllclZpZXc6e2xheWVyOnIsdmlldzp7c2NhbGU6c319fT10aGlzO2lmKCFlKXRocm93IG5ldyBvKFwiZmV0Y2hQb3B1cEZlYXR1cmVzOmludmFsaWQtYXJlYVwiLFwiTm90aGluZyB0byBmZXRjaCB3aXRob3V0IGFyZWFcIix7bGF5ZXI6cn0pO2NvbnN0IGk9VShyLnN1YmxheWVycyxzLHQpO2lmKCFpLmxlbmd0aClyZXR1cm5bXTtjb25zdCBhPWF3YWl0IFIocixpKTtpZighKChyLmNhcGFiaWxpdGllcz8ub3BlcmF0aW9ucz8uc3VwcG9ydHNJZGVudGlmeT8/ITApJiZyLnZlcnNpb24+PTEwLjUpJiYhYSl0aHJvdyBuZXcgbyhcImZldGNoUG9wdXBGZWF0dXJlczpub3Qtc3VwcG9ydGVkXCIsXCJxdWVyeSBvcGVyYXRpb24gaXMgZGlzYWJsZWQgZm9yIHRoaXMgc2VydmljZVwiLHtsYXllcjpyfSk7cmV0dXJuIGE/dGhpcy5fZmV0Y2hQb3B1cEZlYXR1cmVzVXNpbmdRdWVyaWVzKGUsaSx0KTp0aGlzLl9mZXRjaFBvcHVwRmVhdHVyZXNVc2luZ0lkZW50aWZ5KGUsaSx0KX1jbGVhckhpZ2hsaWdodHMoKXt0aGlzLmhpZ2hsaWdodEdyYXBoaWNzPy5yZW1vdmVBbGwoKX1oaWdobGlnaHQoZSl7Y29uc3Qgcj10aGlzLmhpZ2hsaWdodEdyYXBoaWNzO2lmKCFyKXJldHVybiBhKCk7bGV0IG89bnVsbDtpZihlIGluc3RhbmNlb2YgdD9vPVtlXTppLmlzQ29sbGVjdGlvbihlKSYmZS5sZW5ndGg+MD9vPWUudG9BcnJheSgpOkFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjAmJihvPWUpLG89bz8uZmlsdGVyKHMpLCFvPy5sZW5ndGgpcmV0dXJuIGEoKTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBlPXQuc291cmNlTGF5ZXI7bnVsbCE9ZSYmXCJnZW9tZXRyeVR5cGVcImluIGUmJlwicG9pbnRcIj09PWUuZ2VvbWV0cnlUeXBlJiYodC52aXNpYmxlPSExKX1yZXR1cm4gci5hZGRNYW55KG8pLGEoKCgpPT5yLnJlbW92ZU1hbnkobz8/W10pKSl9YXN5bmMgX3VwZGF0ZUhpZ2hsaWdodGVkRmVhdHVyZXNTeW1ib2xzKGUpe2NvbnN0e2xheWVyVmlldzp7dmlldzp0fSxoaWdobGlnaHRHcmFwaGljczpyLGhpZ2hsaWdodEdyYXBoaWNVcGRhdGVkOnN9PXRoaXM7aWYociYmcylmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPWkuc291cmNlTGF5ZXImJlwicmVuZGVyZXJcImluIGkuc291cmNlTGF5ZXImJmkuc291cmNlTGF5ZXIucmVuZGVyZXI7aS5zb3VyY2VMYXllciYmXCJnZW9tZXRyeVR5cGVcImluIGkuc291cmNlTGF5ZXImJlwicG9pbnRcIj09PWkuc291cmNlTGF5ZXIuZ2VvbWV0cnlUeXBlJiZlJiZcImdldFN5bWJvbEFzeW5jXCJpbiBlJiZlLmdldFN5bWJvbEFzeW5jKGkpLnRoZW4oKGFzeW5jIG89PntvfHw9bmV3IGo7bGV0IGE9bnVsbDtjb25zdCBuPVwidmlzdWFsVmFyaWFibGVzXCJpbiBlP2UudmlzdWFsVmFyaWFibGVzPy5maW5kKChlPT5cInNpemVcIj09PWUudHlwZSkpOnZvaWQgMDtuJiYoUHx8KFA9KGF3YWl0IGltcG9ydChcIi4uLy4uLy4uL3JlbmRlcmVycy92aXN1YWxWYXJpYWJsZXMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZVV0aWxzLmpzXCIpKS5nZXRTaXplKSxhPVAobixpLHt2aWV3OnQudHlwZSxzY2FsZTp0LnNjYWxlLHNoYXBlOlwic2ltcGxlLW1hcmtlclwiPT09by50eXBlP28uc3R5bGU6bnVsbH0pKSxhfHw9XCJ3aWR0aFwiaW4gbyYmXCJoZWlnaHRcImluIG8mJm51bGwhPW8ud2lkdGgmJm51bGwhPW8uaGVpZ2h0P01hdGgubWF4KG8ud2lkdGgsby5oZWlnaHQpOlwic2l6ZVwiaW4gbz9vLnNpemU6MTYsci5pbmNsdWRlcyhpKSYmKGkuc3ltYm9sPW5ldyBqKHtzdHlsZTpcInNxdWFyZVwiLHNpemU6YSx4b2Zmc2V0OlwieG9mZnNldFwiaW4gbz9vLnhvZmZzZXQ6MCx5b2Zmc2V0OlwieW9mZnNldFwiaW4gbz9vLnlvZmZzZXQ6MH0pLHMoaSxcInN5bWJvbFwiKSxpLnZpc2libGU9ITApfSkpfX1hc3luYyBfdXBkYXRlSGlnaGxpZ2h0ZWRGZWF0dXJlc0dlb21ldHJpZXMoZSl7Y29uc3R7bGF5ZXJWaWV3OntsYXllcjp0LHZpZXc6cn0saGlnaGxpZ2h0R3JhcGhpY3M6cyxoaWdobGlnaHRHcmFwaGljVXBkYXRlZDppfT10aGlzO2lmKHRoaXMuX2hpZ2hsaWdodEdlb21ldHJpZXNSZXNvbHV0aW9uPWUsIWl8fCFzPy5sZW5ndGh8fCF0LmNhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzUXVlcnkpcmV0dXJuO2NvbnN0IG89dGhpcy5fZ2V0VGFyZ2V0UmVzb2x1dGlvbihlKSxhPW5ldyBNYXA7Zm9yKGNvbnN0IGMgb2YgcylpZighdGhpcy5fZmVhdHVyZXNSZXNvbHV0aW9ucy5oYXMoYyl8fHRoaXMuX2ZlYXR1cmVzUmVzb2x1dGlvbnMuZ2V0KGMpPm8pe2NvbnN0IGU9Yy5zb3VyY2VMYXllcjtuKGEsZSwoKCk9Pm5ldyBNYXApKS5zZXQoYy5nZXRPYmplY3RJZCgpLGMpfWNvbnN0IGw9QXJyYXkuZnJvbShhLCgoW2UsdF0pPT57Y29uc3Qgcz1lLmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIHMub2JqZWN0SWRzPVsuLi50LmtleXMoKV0scy5vdXRGaWVsZHM9W2Uub2JqZWN0SWRGaWVsZF0scy5yZXR1cm5HZW9tZXRyeT0hMCxzLm1heEFsbG93YWJsZU9mZnNldD1vLHMub3V0U3BhdGlhbFJlZmVyZW5jZT1yLnNwYXRpYWxSZWZlcmVuY2UsZS5xdWVyeUZlYXR1cmVzKHMpfSkpLHA9YXdhaXQgUHJvbWlzZS5hbGwobCk7aWYoIXRoaXMuZGVzdHJveWVkKWZvcihjb25zdHtmZWF0dXJlczpufW9mIHApZm9yKGNvbnN0IGUgb2Ygbil7Y29uc3QgdD1lLnNvdXJjZUxheWVyLHI9YS5nZXQodCkuZ2V0KGUuZ2V0T2JqZWN0SWQoKSk7ciYmcy5pbmNsdWRlcyhyKSYmKHIuZ2VvbWV0cnk9ZS5nZW9tZXRyeSxpKHIsXCJnZW9tZXRyeVwiKSx0aGlzLl9mZWF0dXJlc1Jlc29sdXRpb25zLnNldChyLG8pKX19X2dldFRhcmdldFJlc29sdXRpb24oZSl7Y29uc3QgdD1lKmModGhpcy5sYXllclZpZXcudmlldy5zcGF0aWFsUmVmZXJlbmNlKSxyPXQvMTY7cmV0dXJuIHI8PTEwPzA6ZS90KnJ9YXN5bmMgX2ZldGNoUG9wdXBGZWF0dXJlc1VzaW5nSWRlbnRpZnkoZSx0LHIpe2NvbnN0IHM9YXdhaXQgdGhpcy5fY3JlYXRlSWRlbnRpZnlQYXJhbWV0ZXJzKGUsdCxyKTtpZihudWxsPT1zKXJldHVybltdO2NvbnN0e3Jlc3VsdHM6aX09YXdhaXQgdyh0aGlzLmxheWVyVmlldy5sYXllci5wYXJzZWRVcmwscyk7cmV0dXJuIGkubWFwKChlPT5lLmZlYXR1cmUpKX1hc3luYyBfY3JlYXRlSWRlbnRpZnlQYXJhbWV0ZXJzKGUsdCxyKXtjb25zdHtmbG9vcnM6cyxsYXllcjppLHRpbWVFeHRlbnQ6byx2aWV3OntzcGF0aWFsUmVmZXJlbmNlOmEsc2NhbGU6bn19PXRoaXMubGF5ZXJWaWV3LGw9bnVsbCE9cj9yLmV2ZW50Om51bGw7aWYoIXQubGVuZ3RoKXJldHVybiBudWxsO2F3YWl0IFByb21pc2UuYWxsKHQubWFwKCgoe3N1YmxheWVyOmV9KT0+ZS5sb2FkKCkuY2F0Y2goKCgpPT57fSkpKSkpO2NvbnN0IHA9TWF0aC5taW4oaGFzKFwibWFwc2VydmljZS1wb3B1cC1pZGVudGlmeS1tYXgtdG9sZXJhbmNlXCIpLGkuYWxsU3VibGF5ZXJzLnJlZHVjZSgoKGUsdCk9PnQucmVuZGVyZXI/Zyh7cmVuZGVyZXI6dC5yZW5kZXJlcixldmVudDpsfSk6ZSksMikpLGM9dGhpcy5jcmVhdGVGZXRjaFBvcHVwRmVhdHVyZXNRdWVyeUdlb21ldHJ5KGUscCksdT1tKG4sYSksaD1NYXRoLnJvdW5kKGMud2lkdGgvdSksZj1uZXcgeSh7eG1pbjpjLmNlbnRlci54LXUqaCx5bWluOmMuY2VudGVyLnktdSpoLHhtYXg6Yy5jZW50ZXIueCt1KmgseW1heDpjLmNlbnRlci55K3UqaCxzcGF0aWFsUmVmZXJlbmNlOmMuc3BhdGlhbFJlZmVyZW5jZX0pO3JldHVybiBuZXcgYih7Zmxvb3JzOnMsZ2RiVmVyc2lvbjpcImdkYlZlcnNpb25cImluIGk/aS5nZGJWZXJzaW9uOnZvaWQgMCxnZW9tZXRyeTplLGhlaWdodDpoLGxheWVyT3B0aW9uOlwicG9wdXBcIixtYXBFeHRlbnQ6ZixyZXR1cm5HZW9tZXRyeTohMCxzcGF0aWFsUmVmZXJlbmNlOmEsc3VibGF5ZXJzOmkuc3VibGF5ZXJzLHRpbWVFeHRlbnQ6byx0b2xlcmFuY2U6cCx3aWR0aDpofSl9YXN5bmMgX2ZldGNoUG9wdXBGZWF0dXJlc1VzaW5nUXVlcmllcyhlLHQscil7Y29uc3R7bGF5ZXJWaWV3OntmbG9vcnM6aSx0aW1lRXh0ZW50Om99fT10aGlzLGE9bnVsbCE9cj9yLmV2ZW50Om51bGwsbj10Lm1hcCgoYXN5bmMoe3N1YmxheWVyOnQscG9wdXBUZW1wbGF0ZTpyfSk9PntpZihhd2FpdCB0LmxvYWQoKS5jYXRjaCgoKCk9Pnt9KSksdC5jYXBhYmlsaXRpZXMmJiF0LmNhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzUXVlcnkpcmV0dXJuW107Y29uc3Qgcz10LmNyZWF0ZVF1ZXJ5KCksbj1nKHtyZW5kZXJlcjp0LnJlbmRlcmVyLGV2ZW50OmF9KSxsPXRoaXMuY3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnlHZW9tZXRyeShlLG4pLHA9bmV3IFNldCxbY109YXdhaXQgUHJvbWlzZS5hbGwoW3godCxyKSx0LnJlbmRlcmVyPy5jb2xsZWN0UmVxdWlyZWRGaWVsZHMocCx0LmZpZWxkc0luZGV4KV0pO2YocCx0LmZpZWxkc0luZGV4LGMpO2NvbnN0IHU9QXJyYXkuZnJvbShwKS5zb3J0KCk7aWYocy5nZW9tZXRyeT1sLHMub3V0RmllbGRzPXUscy50aW1lRXh0ZW50PW8saSl7Y29uc3QgZT1pLmNsb25lKCkscj1kKGUsdCk7bnVsbCE9ciYmKHMud2hlcmU9cy53aGVyZT9gKCR7cy53aGVyZX0pIEFORCAoJHtyfSlgOnIpfWNvbnN0IGg9dGhpcy5fZ2V0VGFyZ2V0UmVzb2x1dGlvbihsLndpZHRoL24pLHk9YXdhaXQgXyhyKSxtPVwicG9pbnRcIj09PXQuZ2VvbWV0cnlUeXBlfHx5JiZ5LmFyY2FkZVV0aWxzLmhhc0dlb21ldHJ5T3BlcmF0aW9ucyhyKTttfHwocy5tYXhBbGxvd2FibGVPZmZzZXQ9aCk7bGV0e2ZlYXR1cmVzOnd9PWF3YWl0IHQucXVlcnlGZWF0dXJlcyhzKTtjb25zdCBiPW0/MDpoO3c9YXdhaXQgQSh0LHcpO2Zvcihjb25zdCBlIG9mIHcpdGhpcy5fZmVhdHVyZXNSZXNvbHV0aW9ucy5zZXQoZSxiKTtyZXR1cm4gd30pKTtyZXR1cm4oYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKG4pKS5yZWR1Y2UoKChlLHQpPT5cImZ1bGZpbGxlZFwiPT09dC5zdGF0dXM/Wy4uLmUsLi4udC52YWx1ZV06ZSksW10pLmZpbHRlcihzKX19O2Z1bmN0aW9uIFUoZSx0LHIpe2NvbnN0IHM9W107aWYoIWUpcmV0dXJuIHM7Y29uc3QgaT1lPT57Y29uc3Qgbz0wPT09ZS5taW5TY2FsZXx8dDw9ZS5taW5TY2FsZSxhPTA9PT1lLm1heFNjYWxlfHx0Pj1lLm1heFNjYWxlO2lmKGUudmlzaWJsZSYmbyYmYSlpZihlLnN1YmxheWVycyllLnN1YmxheWVycy5mb3JFYWNoKGkpO2Vsc2UgaWYoZS5wb3B1cEVuYWJsZWQpe2NvbnN0IHQ9RihlLHsuLi5yLGRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDohMX0pO251bGwhPXQmJnMudW5zaGlmdCh7c3VibGF5ZXI6ZSxwb3B1cFRlbXBsYXRlOnR9KX19O3JldHVybiBlLm1hcChpKSxzfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGUuZXhwcmVzc2lvbkluZm9zPy5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSYmZS5jb250ZW50LnNvbWUoKGU9PlwiZXhwcmVzc2lvblwiPT09ZS50eXBlKSk/digpOlByb21pc2UucmVzb2x2ZSgpfWFzeW5jIGZ1bmN0aW9uIFIoZSx0KXtpZihlLmNhcGFiaWxpdGllcz8ub3BlcmF0aW9ucz8uc3VwcG9ydHNRdWVyeSlyZXR1cm4hMDt0cnl7cmV0dXJuIGF3YWl0IFByb21pc2UuYW55KHQubWFwKCgoe3N1YmxheWVyOmV9KT0+ZS5sb2FkKCkudGhlbigoKCk9PmUuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNRdWVyeSkpKSkpfWNhdGNoe3JldHVybiExfX1hc3luYyBmdW5jdGlvbiBBKGUsdCl7Y29uc3Qgcj1lLnJlbmRlcmVyO3JldHVybiByJiZcImRlZmF1bHRTeW1ib2xcImluIHImJiFyLmRlZmF1bHRTeW1ib2wmJih0PXIudmFsdWVFeHByZXNzaW9uP2F3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5yLmdldFN5bWJvbEFzeW5jKGUpLnRoZW4oKHQ9PnQ/ZTpudWxsKSkpKSkudGhlbigoZT0+ZS5maWx0ZXIoKGU9Pm51bGwhPWUpKSkpOnQuZmlsdGVyKChlPT5udWxsIT1yLmdldFN5bWJvbChlKSkpKSx0fWUoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sRy5wcm90b3R5cGUsXCJjcmVhdGVGZXRjaFBvcHVwRmVhdHVyZXNRdWVyeUdlb21ldHJ5XCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEcucHJvdG90eXBlLFwibGF5ZXJWaWV3XCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLEcucHJvdG90eXBlLFwiaGlnaGxpZ2h0R3JhcGhpY3NcIix2b2lkIDApLGUoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sRy5wcm90b3R5cGUsXCJoaWdobGlnaHRHcmFwaGljVXBkYXRlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxHLnByb3RvdHlwZSxcInVwZGF0aW5nSGFuZGxlc1wiLHZvaWQgMCksRz1lKFtoKFwiZXNyaS52aWV3cy5sYXllcnMuc3VwcG9ydC5NYXBTZXJ2aWNlXCIpXSxHKTtleHBvcnR7RyBhcyBNYXBTZXJ2aWNlTGF5ZXJWaWV3SGVscGVyLFUgYXMgY29sbGVjdFBvcHVwUHJvdmlkZXJzLFMgYXMgaXNNYXBTZXJ2aWNlTGF5ZXJWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyBlfWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e2NhbGN1bGF0ZVRvbGVyYW5jZSBhcyB0fWZyb21cIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2NsaWNrVG9sZXJhbmNlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtmdW5jdGlvbiByKHQscixpLGE9bmV3IG4pe2xldCBvPTA7aWYoXCIyZFwiPT09aS50eXBlKW89ciooaS5yZXNvbHV0aW9uPz8wKTtlbHNlIGlmKFwiM2RcIj09PWkudHlwZSl7Y29uc3Qgbj1pLm92ZXJsYXlQaXhlbFNpemVJbk1hcFVuaXRzKHQpLGE9aS5iYXNlbWFwU3BhdGlhbFJlZmVyZW5jZTtvPW51bGw9PWF8fGEuZXF1YWxzKGkuc3BhdGlhbFJlZmVyZW5jZSk/cipuOmUoYSkvZShpLnNwYXRpYWxSZWZlcmVuY2UpfWNvbnN0IHM9dC54LW8sbD10LnktbyxtPXQueCtvLHA9dC55K28se3NwYXRpYWxSZWZlcmVuY2U6Y309aTtyZXR1cm4gYS54bWluPU1hdGgubWluKHMsbSksYS55bWluPU1hdGgubWluKGwscCksYS54bWF4PU1hdGgubWF4KHMsbSksYS55bWF4PU1hdGgubWF4KGwscCksYS5zcGF0aWFsUmVmZXJlbmNlPWMsYX1mdW5jdGlvbiBpKGUsbixpKXtjb25zdCBvPWkudG9NYXAoZSk7aWYobnVsbD09bylyZXR1cm4hMTtyZXR1cm4gcihvLHQoKSxpLGEpLmludGVyc2VjdHMobil9Y29uc3QgYT1uZXcgbjtleHBvcnR7ciBhcyBjcmVhdGVRdWVyeUdlb21ldHJ5LGkgYXMgaW50ZXJzZWN0c0RyYXBlZEdlb21ldHJ5fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==