"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_geometry_support_meshUtils_exporters_gltf_gltfexport_js"],{

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Asset: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s{constructor(){this.copyright="",this.defaultScene=0,this.generator="",this._scenes=[]}addScene(e){if(this._scenes.includes(e))throw new Error("Scene already added");this._scenes.push(e)}removeScene(s){(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.remove)(this._scenes,s)}forEachScene(e){this._scenes.forEach(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/buffer.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/buffer.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Buffer: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _bufferview_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bufferview.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/bufferview.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(e){this._gltf=e,this._bufferViews=[],this._isFinalized=!1,e.buffers||(e.buffers=[]),this.index=e.buffers.length;const i={byteLength:-1};e.buffers.push(i),this._buffer=i}addBufferView(i,t,r){if(this._finalizePromise)throw new Error("Cannot add buffer view after fiinalizing buffer");const f=new _bufferview_js__WEBPACK_IMPORTED_MODULE_0__.BufferView(this,this._gltf,i,t,r);return this._bufferViews.push(f),f}getByteOffset(e){let i=0;for(const t of this._bufferViews){if(t===e)return i;i+=t.byteSize}throw new Error("Given bufferView was not present in this buffer")}getViewFinalizePromises(e){const i=[];for(const t of this._bufferViews){if(e&&t===e)return i;i.push(t.finalized)}return i}getArrayBuffer(){if(!this._isFinalized)throw new Error("Cannot get ArrayBuffer from Buffer before it is finalized");const e=this._getTotalSize(),i=new ArrayBuffer(e);let t=0;for(const r of this._bufferViews)r.writeOutToBuffer(i,t),t+=r.byteSize;return i}finalize(){if(this._finalizePromise)throw new Error(`Buffer ${this.index} was already finalized`);return this._finalizePromise=Promise.allSettled(this.getViewFinalizePromises()).then((()=>{this._isFinalized=!0;const e=this.getArrayBuffer();this._buffer.byteLength=e.byteLength,this._buffer.uri=e})),this._gltf.extras?.promises.push(this._finalizePromise),this._finalizePromise}_getTotalSize(){let e=0;for(const i of this._bufferViews)e+=i.byteSize;return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/bufferview.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/bufferview.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferView: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js");
/* harmony import */ var _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../views/webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(t,s,i,r,n){this._buffer=t,this._componentType=i,this._dataType=r,this._data=[],this._isFinalized=!1,this._accessorIndex=-1,this._accessorAttribute=null,this._accessorMin=null,this._accessorMax=null,s.bufferViews||(s.bufferViews=[]),this.index=s.bufferViews.length,this._bufferView={buffer:t.index,byteLength:-1,target:n};const a=this._getElementSize();a>=4&&n!==_types_js__WEBPACK_IMPORTED_MODULE_0__.TargetBuffer.ELEMENT_ARRAY_BUFFER&&(this._bufferView.byteStride=a),s.bufferViews.push(this._bufferView),this._numComponentsForDataType=this._calculateNumComponentsForDataType()}push(e){const t=this._data.length;if(this._data.push(e),this._accessorIndex>=0){const s=t%this._numComponentsForDataType,i=this._accessorMin[s];this._accessorMin[s]="number"!=typeof i?e:Math.min(i,e);const r=this._accessorMax[s];this._accessorMax[s]="number"!=typeof r?e:Math.max(r,e)}}get dataSize(){return this._data.length*this._sizeComponentType()}get byteSize(){function e(e,t){return t*Math.ceil(e/t)}return e(this.dataSize,4)}getByteOffset(){if(!this._isFinalized)throw new Error("Cannot get BufferView offset until it is finalized");return this._buffer.getByteOffset(this)}get byteOffset(){if(!this._isFinalized)throw new Error("Cannot get BufferView offset until it is finalized");return this._buffer.getByteOffset(this)}_createTypedArray(e,t){switch(this._componentType){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.BYTE:return new Int8Array(e,t);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT:return new Float32Array(e,t);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.SHORT:return new Int16Array(e,t);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_BYTE:return new Uint8Array(e,t);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_INT:return new Uint32Array(e,t);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_SHORT:return new Uint16Array(e,t)}}writeOutToBuffer(e,t){this._createTypedArray(e,t).set(this._data)}writeAsync(e){if(this._asyncWritePromise)throw new Error("Can't write multiple bufferView values asynchronously");return this._asyncWritePromise=e.then((e=>{const t=new Uint8Array(e);for(let s=0;s<t.length;++s)this._data.push(t[s]);delete this._asyncWritePromise})),this._asyncWritePromise}startAccessor(e){if(this._accessorIndex>=0)throw new Error("Accessor was started without ending the previous one");this._accessorIndex=this._data.length,this._accessorAttribute=e;const t=this._numComponentsForDataType;this._accessorMin=new Array(t),this._accessorMax=new Array(t)}endAccessor(){if(this._accessorIndex<0)throw new Error("An accessor was not started, but was attempted to be ended");const e=this._getElementSize(),t=this._numComponentsForDataType,i=(this._data.length-this._accessorIndex)/t;if(i%1)throw new Error("An accessor was ended with missing component values");for(let s=0;s<this._accessorMin.length;++s)"number"!=typeof this._accessorMin[s]&&(this._accessorMin[s]=0),"number"!=typeof this._accessorMax[s]&&(this._accessorMax[s]=0);const r={byteOffset:e*(this._accessorIndex/t),componentType:this._componentType,count:i,type:this._dataType,min:this._accessorMin,max:this._accessorMax,name:this._accessorAttribute};switch(this._accessorAttribute){case"TEXCOORD_0":case"TEXCOORD_1":case"COLOR_0":case"WEIGHTS_0":switch(this._componentType){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_BYTE:case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_SHORT:r.normalized=!0}}return this._accessorIndex=-1,this._accessorAttribute=null,this._accessorMin=null,this._accessorMax=null,r}get finalized(){return this._finalizedPromise?this._finalizedPromise:this._isFinalized?this._finalizedPromise=Promise.resolve():this._finalizedPromise=new Promise((e=>this._finalizedPromiseResolve=e))}async finalize(){const e=this._bufferView,t=this._buffer.getViewFinalizePromises(this);this._asyncWritePromise&&t.push(this._asyncWritePromise),await Promise.allSettled(t),this._isFinalized=!0,e.byteOffset=this.getByteOffset(),e.byteLength=this.dataSize,this._finalizedPromiseResolve&&this._finalizedPromiseResolve()}_getElementSize(){return this._sizeComponentType()*this._numComponentsForDataType}_sizeComponentType(){switch(this._componentType){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.BYTE:case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_BYTE:return 1;case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.SHORT:case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_SHORT:return 2;case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_INT:case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT:return 4}}_calculateNumComponentsForDataType(){switch(this._dataType){case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.SCALAR:return 1;case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.VEC2:return 2;case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.VEC3:return 3;case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.VEC4:case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.MAT2:return 4;case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.MAT3:return 9;case _types_js__WEBPACK_IMPORTED_MODULE_0__.AttributeType.MAT4:return 16}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeOrigin: () => (/* binding */ c),
/* harmony export */   smoothNormals: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(n,t){if(n.components)for(const e of n.components)e.faces&&"smooth"===e.shading&&a(e,t)}function a(s,i){null==i.normal&&(i.normal=new Float32Array(i.position.length));const r=s.faces,{position:a,normal:c}=i,h=r.length/3;for(let o=0;o<h;++o){const s=3*r[3*o],i=3*r[3*o+1],p=3*r[3*o+2],h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(f,a[s],a[s+1],a[s+2]),u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(l,a[i],a[i+1],a[i+2]),g=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(m,a[p],a[p+1],a[p+2]),x=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(u,u,h),v=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(g,g,h),R=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(x,x,v);c[s]+=R[0],c[s+1]+=R[1],c[s+2]+=R[2],c[i]+=R[0],c[i+1]+=R[1],c[i+2]+=R[2],c[p]+=R[0],c[p+1]+=R[1],c[p+2]+=R[2]}for(let t=0;t<c.length;t+=3)(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(p,c[t],c[t+1],c[t+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.n)(p,p),c[t]=p[0],c[t+1]=p[1],c[t+2]=p[2]}function c(n){const{vertexSpace:t}=n;if(t.isRelative)return t.getOriginPoint(n.spatialReference);const{extent:e}=n,o=e.xmax-e.width/2,s=e.ymax-e.height/2,r=e.zmin;return new _Point_js__WEBPACK_IMPORTED_MODULE_2__["default"]({x:o,y:s,z:r,spatialReference:e.spatialReference})}const f=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),l=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),m=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),p=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLB: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var t;!function(t){t[t.JSON=1313821514]="JSON",t[t.BIN=5130562]="BIN"}(t||(t={}));class e{constructor(i,r){if(!i)throw new Error("GLB requires a JSON gltf chunk");this._length=e.HEADER_SIZE,this._length+=e.CHUNK_HEADER_SIZE;const n=this._textToArrayBuffer(i);if(this._length+=this._alignTo(n.byteLength,4),r&&(this._length+=e.CHUNK_HEADER_SIZE,this._length+=r.byteLength,r.byteLength%4))throw new Error("Expected BIN chunk length to be divisible by 4 at this point");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const h=this._writeChunk(n,12,t.JSON,32);r&&this._writeChunk(r,h,t.BIN)}_writeHeader(){this._outView.setUint32(0,e.MAGIC,!0),this._outView.setUint32(4,e.VERSION,!0),this._outView.setUint32(8,this._length,!0)}_writeChunk(t,e,i,r=0){const n=this._alignTo(t.byteLength,4);for(this._outView.setUint32(e,n,!0),this._outView.setUint32(e+=4,i,!0),this._writeArrayBuffer(this._outView.buffer,t,e+=4,0,t.byteLength),e+=t.byteLength;e%4;)r&&this._outView.setUint8(e,r),e++;return e}_writeArrayBuffer(t,e,i,r,n){new Uint8Array(t,i,n).set(new Uint8Array(e,r,n),0)}_textToArrayBuffer(t){return(new TextEncoder).encode(t).buffer}_alignTo(t,e){return e*Math.ceil(t/e)}}e.HEADER_SIZE=12,e.CHUNK_HEADER_SIZE=8,e.MAGIC=1179937895,e.VERSION=2;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltf.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltf.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLTF: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../chunks/quat.js */ "./node_modules/@arcgis/core/chunks/quat.js");
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../chunks/quatf64.js */ "./node_modules/@arcgis/core/chunks/quatf64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _MeshGeoreferencedRelativeVertexSpace_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../MeshGeoreferencedRelativeVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js");
/* harmony import */ var _MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../MeshGeoreferencedVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js");
/* harmony import */ var _MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../MeshMaterialMetallicRoughness.js */ "./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js");
/* harmony import */ var _georeference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../georeference.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js");
/* harmony import */ var _buffer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./buffer.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/buffer.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./geometry.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./types.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js");
/* harmony import */ var _imageutils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./imageutils.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js");
/* harmony import */ var _views_3d_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../views/3d/glTF/internal/resourceUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js");
/* harmony import */ var _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../views/webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const L=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("gltf");class y{constructor(e,t,s){this.params={},this._materialMap=new Array,this._imageMap=new Map,this._textureMap=new Map,this.gltf={asset:{version:"2.0",copyright:e.copyright,generator:e.generator},extras:{options:t,binChunkBuffer:null,promises:[]}},s&&(this.params=s),this._addScenes(e)}_addScenes(e){this.gltf.scene=e.defaultScene;const t=this.gltf.extras,s=t.options.bufferOutputType===_types_js__WEBPACK_IMPORTED_MODULE_17__.BufferOutputType.GLB||t.options.imageOutputType===_types_js__WEBPACK_IMPORTED_MODULE_17__.ImageOutputType.GLB;s&&(t.binChunkBuffer=new _buffer_js__WEBPACK_IMPORTED_MODULE_15__.Buffer(this.gltf)),e.forEachScene((e=>{this._addScene(e)})),s&&t.binChunkBuffer.finalize()}_addScene(e){this.gltf.scenes||(this.gltf.scenes=[]);const t={};e.name&&(t.name=e.name),e.forEachNode((e=>{t.nodes||(t.nodes=[]),t.nodes.push(...this._addNodes(e))})),this.gltf.scenes.push(t)}_addNodes(e){this.gltf.nodes||(this.gltf.nodes=[]);const t={};e.name&&(t.name=e.name);const s=e.translation;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.h)(s,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.Z)||(t.translation=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(s));const r=e.rotation;(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_7__.j)(r,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_8__.I)||(t.rotation=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_8__.b)(r));const i=e.scale;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.h)(i,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.O)||(t.scale=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(i));const a=this.gltf.nodes.length;if(this.gltf.nodes.push(t),e.mesh&&e.mesh.vertexAttributes.position){const s=this._createMeshes(e.mesh),r=[a];if(1===s.length)this._addMesh(t,s[0]);else for(const e of s){const t={};this._addMesh(t,e),r.push(this.gltf.nodes.length),this.gltf.nodes.push(t)}return r}return e.forEachNode((e=>{t.children||(t.children=[]),t.children.push(...this._addNodes(e))})),[a]}_addMesh(e,t){this.gltf.meshes??=[];const s=this.gltf.meshes.length;this.gltf.meshes.push(t),e.mesh=s}_createMeshes(t){const s=this.gltf.extras,r=s.options.bufferOutputType===_types_js__WEBPACK_IMPORTED_MODULE_17__.BufferOutputType.GLB;let n;n=r?s.binChunkBuffer:new _buffer_js__WEBPACK_IMPORTED_MODULE_15__.Buffer(this.gltf),this.params.origin||(this.params.origin=(0,_geometry_js__WEBPACK_IMPORTED_MODULE_16__.computeOrigin)(t));const{ignoreLocalTransform:l}=this.params,c=l?null:t.transform,{vertexSpace:h,spatialReference:u}=t,f=t.vertexAttributes;let p=null;if("local"===h.type){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__.getMetersPerCartesianUnitForSR)(u);(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__.b)(F,c?.localMatrix??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.I,[e,e,e]),p=(0,_georeference_js__WEBPACK_IMPORTED_MODULE_14__.applyTransform)(f,F)}else{const e=l?h.isRelative?new _MeshGeoreferencedRelativeVertexSpace_js__WEBPACK_IMPORTED_MODULE_11__["default"]({origin:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.g)(h.origin)}):new _MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_12__["default"]:h;p=(0,_georeference_js__WEBPACK_IMPORTED_MODULE_14__.ungeoreferenceByTransform)(f,e,c,this.params.origin,{geographic:this.params.geographic,unit:"meters"})}if(null==p)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("Error during gltf export.");f.position&&p.position===f.position&&(p.position=f.position.slice()),f.normal&&p.normal===f.normal&&(p.normal=f.normal.slice()),f.tangent&&p.tangent===f.tangent&&(p.tangent=f.tangent.slice()),(0,_geometry_js__WEBPACK_IMPORTED_MODULE_16__.smoothNormals)(t,p),this._flipYZAxis(p);const _=n.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.FLOAT,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.VEC3,_types_js__WEBPACK_IMPORTED_MODULE_17__.TargetBuffer.ARRAY_BUFFER);let b,I,N,B;p.normal&&(b=n.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.FLOAT,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.VEC3,_types_js__WEBPACK_IMPORTED_MODULE_17__.TargetBuffer.ARRAY_BUFFER)),f.uv&&(I=n.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.FLOAT,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.VEC2,_types_js__WEBPACK_IMPORTED_MODULE_17__.TargetBuffer.ARRAY_BUFFER)),p.tangent&&(N=n.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.FLOAT,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.VEC4,_types_js__WEBPACK_IMPORTED_MODULE_17__.TargetBuffer.ARRAY_BUFFER)),f.color&&(B=n.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.UNSIGNED_BYTE,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.VEC4,_types_js__WEBPACK_IMPORTED_MODULE_17__.TargetBuffer.ARRAY_BUFFER)),_.startAccessor("POSITION"),b&&b.startAccessor("NORMAL"),I&&I.startAccessor("TEXCOORD_0"),N&&N.startAccessor("TANGENT"),B&&B.startAccessor("COLOR_0");const C=p.position.length/3,{position:v,normal:L,tangent:y}=p,{color:j,uv:k}=f;for(let e=0;e<C;++e)_.push(v[3*e]),_.push(v[3*e+1]),_.push(v[3*e+2]),b&&null!=L&&(b.push(L[3*e]),b.push(L[3*e+1]),b.push(L[3*e+2])),I&&null!=k&&(I.push(k[2*e]),I.push(k[2*e+1])),N&&null!=y&&(N.push(y[4*e]),N.push(y[4*e+1]),N.push(y[4*e+2]),N.push(y[4*e+3])),B&&null!=j&&(B.push(j[4*e]),B.push(j[4*e+1]),B.push(j[4*e+2]),B.push(j[4*e+3]));const V=_.endAccessor(),D=this._addAccessor(_.index,V);let G,U,Y,P,z;if(b){const e=b.endAccessor();G=this._addAccessor(b.index,e)}if(I){const e=I.endAccessor();U=this._addAccessor(I.index,e)}if(N){const e=N.endAccessor();Y=this._addAccessor(N.index,e)}if(B){const e=B.endAccessor();P=this._addAccessor(B.index,e)}const Z=[];return t.components&&t.components.length>0&&t.components[0].faces?(z=n.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.UNSIGNED_INT,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.SCALAR,_types_js__WEBPACK_IMPORTED_MODULE_17__.TargetBuffer.ELEMENT_ARRAY_BUFFER),this._addMeshVertexIndexed(z,t.components,Z,D,G,U,Y,P)):this._addMeshVertexNonIndexed(t.components,Z,D,G,U,Y,P),_.finalize(),b&&b.finalize(),I&&I.finalize(),N&&N.finalize(),z&&z.finalize(),B&&B.finalize(),r||n.finalize(),Z}_flipYZAxis({position:e,normal:t,tangent:s}){this._flipYZBuffer(e,3),this._flipYZBuffer(t,3),this._flipYZBuffer(s,4)}_flipYZBuffer(e,t){if(null!=e)for(let s=1,r=2;s<e.length;s+=t,r+=t){const t=e[s],i=e[r];e[s]=i,e[r]=-t}}_addMaterial(e){if(null===e)return;const t=this._materialMap.indexOf(e);if(-1!==t)return t;this.gltf.materials||(this.gltf.materials=[]);const s={};switch(e.alphaMode){case"mask":s.alphaMode=_types_js__WEBPACK_IMPORTED_MODULE_17__.AlphaMode.MASK;break;case"auto":case"blend":s.alphaMode=_types_js__WEBPACK_IMPORTED_MODULE_17__.AlphaMode.BLEND}.5!==e.alphaCutoff&&(s.alphaCutoff=e.alphaCutoff),e.doubleSided&&(s.doubleSided=e.doubleSided),s.pbrMetallicRoughness={};const r=e=>e**2.1,i=e=>{const t=e.toRgba();return t[0]=r(t[0]/255),t[1]=r(t[1]/255),t[2]=r(t[2]/255),t};if(null!=e.color&&(s.pbrMetallicRoughness.baseColorFactor=i(e.color)),null!=e.colorTexture&&(s.pbrMetallicRoughness.baseColorTexture=this._createTextureInfo(e.colorTexture,e.colorTextureTransform)),null!=e.normalTexture&&(s.normalTexture=this._createTextureInfo(e.normalTexture,e.normalTextureTransform)),e instanceof _MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_13__["default"]){if(null!=e.emissiveTexture&&(s.emissiveTexture=this._createTextureInfo(e.emissiveTexture,e.emissiveTextureTransform)),null!=e.emissiveColor){const t=i(e.emissiveColor);s.emissiveFactor=[t[0],t[1],t[2]]}null!=e.occlusionTexture&&(s.occlusionTexture=this._createTextureInfo(e.occlusionTexture,e.occlusionTextureTransform)),null!=e.metallicRoughnessTexture&&(s.pbrMetallicRoughness.metallicRoughnessTexture=this._createTextureInfo(e.metallicRoughnessTexture,e.metallicRoughnessTextureTransform)),s.pbrMetallicRoughness.metallicFactor=e.metallic,s.pbrMetallicRoughness.roughnessFactor=e.roughness}else s.pbrMetallicRoughness.metallicFactor=1,s.pbrMetallicRoughness.roughnessFactor=1,L.warnOnce("Meshes exported to GLTF without MeshMaterialMetallicRoughness material will appear different when imported back.");const a=this.gltf.materials.length;return this.gltf.materials.push(s),this._materialMap.push(e),a}_createTextureInfo(e,t){const s={index:this._addTexture(e)};return t?(s.extensions||(s.extensions={}),s.extensions.KHR_texture_transform={scale:t.scale,offset:t.offset,rotation:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.deg2rad)(t.rotation)},s):s}_addTexture(e){const t=this.gltf.textures??[];return this.gltf.textures=t,(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._textureMap,e,(()=>{const s={sampler:this._addSampler(e),source:this._addImage(e)},r=t.length;return t.push(s),r}))}_addImage(e){const t=this._imageMap.get(e);if(null!=t)return t;this.gltf.images||(this.gltf.images=[]);const s={};if(e.url)s.uri=e.url;else{const t=e.data;s.extras=t;for(let e=0;e<this.gltf.images.length;++e)if(t===this.gltf.images[e].extras)return e;const r=this.gltf.extras;switch(r.options.imageOutputType){case _types_js__WEBPACK_IMPORTED_MODULE_17__.ImageOutputType.GLB:{const e=r.binChunkBuffer.addBufferView(_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.DataType.UNSIGNED_BYTE,_types_js__WEBPACK_IMPORTED_MODULE_17__.AttributeType.SCALAR);if((0,_views_3d_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(t))null!=t.data&&e.writeOutToBuffer(t.data,0);else{const r=(0,_imageutils_js__WEBPACK_IMPORTED_MODULE_18__.imageToArrayBuffer)(t).then((({data:e,type:t})=>(s.mimeType=t,e)));e.writeAsync(r).then((()=>{e.finalize()}))}s.bufferView=e.index;break}case _types_js__WEBPACK_IMPORTED_MODULE_17__.ImageOutputType.DataURI:if((0,_views_3d_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(t)){L.warnOnce("Image export for basis compressed textures not available.");break}s.uri=(0,_imageutils_js__WEBPACK_IMPORTED_MODULE_18__.imageToDataURI)(t);break;default:if((0,_views_3d_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(t)){L.warnOnce("Image export for basis compressed textures not available.");break}r.promises.push((0,_imageutils_js__WEBPACK_IMPORTED_MODULE_18__.imageToArrayBuffer)(t).then((({data:e,type:t})=>{s.uri=e,s.mimeType=t})))}}const r=this.gltf.images.length;return this.gltf.images.push(s),this._imageMap.set(e,r),r}_addSampler(e){this.gltf.samplers||(this.gltf.samplers=[]);let t=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.REPEAT,s=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.REPEAT;if("string"==typeof e.wrap)switch(e.wrap){case"clamp":t=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.CLAMP_TO_EDGE,s=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.CLAMP_TO_EDGE;break;case"mirror":t=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.MIRRORED_REPEAT,s=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.MIRRORED_REPEAT}else{switch(e.wrap.vertical){case"clamp":s=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.CLAMP_TO_EDGE;break;case"mirror":s=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.MIRRORED_REPEAT}switch(e.wrap.horizontal){case"clamp":t=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.CLAMP_TO_EDGE;break;case"mirror":t=_views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_20__.TextureWrapMode.MIRRORED_REPEAT}}const r={wrapS:t,wrapT:s};for(let a=0;a<this.gltf.samplers.length;++a)if(JSON.stringify(r)===JSON.stringify(this.gltf.samplers[a]))return a;const i=this.gltf.samplers.length;return this.gltf.samplers.push(r),i}_addAccessor(e,t){this.gltf.accessors||(this.gltf.accessors=[]);const s={bufferView:e,byteOffset:t.byteOffset,componentType:t.componentType,count:t.count,type:t.type,min:t.min,max:t.max,name:t.name};t.normalized&&(s.normalized=!0);const r=this.gltf.accessors.length;return this.gltf.accessors.push(s),r}_addMeshVertexIndexed(e,t,s,r,i,a,o,n){const l=new Map;for(const c of t){e.startAccessor("INDICES");for(let s=0;s<c.faces.length;++s)e.push(c.faces[s]);const t=e.endAccessor(),h={attributes:{POSITION:r},indices:this._addAccessor(e.index,t),material:this._addMaterial(c.material)};i&&"flat"!==c.shading&&(h.attributes.NORMAL=i),a&&(h.attributes.TEXCOORD_0=a),o&&"flat"!==c.shading&&(h.attributes.TANGENT=o),n&&(h.attributes.COLOR_0=n);const u=l.get(c.name);if(u)u.primitives.push(h);else{const e={name:c.name,primitives:[h]};l.set(c.name,e),s.push(e)}}}_addMeshVertexNonIndexed(e,t,s,r,i,a,o){const n={primitives:[]};t.push(n);const l={attributes:{POSITION:s}};r&&(l.attributes.NORMAL=r),i&&(l.attributes.TEXCOORD_0=i),a&&(l.attributes.TANGENT=a),o&&(l.attributes.COLOR_0=o),e&&(l.material=this._addMaterial(e[0].material)),n.primitives.push(l)}}const F=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.a)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltfexport.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltfexport.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toBinaryGLTF: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js");
/* harmony import */ var _node_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js");
/* harmony import */ var _asset_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./asset.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js");
/* harmony import */ var _scene_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scene.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s{constructor(e,o){this._file={type:"model/gltf-binary",data:e},this.origin=o}buffer(){return Promise.resolve(this._file)}download(o){(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.downloadBlobAsFile)(new Blob([this._file.data],{type:this._file.type}),o)}}function f(e,f){const d=new _asset_js__WEBPACK_IMPORTED_MODULE_3__.Asset,l=new _scene_js__WEBPACK_IMPORTED_MODULE_4__.Scene;return d.addScene(l),l.addNode(new _node_js__WEBPACK_IMPORTED_MODULE_2__.Node(e)),(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.exportGLB)(d,f).then((e=>new s(e[_index_js__WEBPACK_IMPORTED_MODULE_1__.modelNameGlb],e.origin)))}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   encodeBase64DataUri: () => (/* binding */ c),
/* harmony export */   imageToArrayBuffer: () => (/* binding */ r),
/* harmony export */   imageToDataURI: () => (/* binding */ a),
/* harmony export */   imageTypeToCanvas: () => (/* binding */ o),
/* harmony export */   isArrayBufferPNG: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(e){const t=o(e);return null!=t?t.toDataURL():""}async function r(t){const n=o(t);if(null==n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imageToArrayBuffer","Unsupported image type");const a=await i(t),r=await new Promise((e=>n.toBlob(e,a)));if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imageToArrayBuffer","Failed to encode image");return{data:await r.arrayBuffer(),type:a}}async function i(e){if(!(e instanceof HTMLImageElement))return"image/png";const a=e.src;if((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.isDataProtocol)(a)){const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.dataComponents)(a);return"image/jpeg"===e?.mediaType?e.mediaType:"image/png"}return/\.png$/i.test(a)?"image/png":/\.(jpg|jpeg)$/i.test(a)?"image/jpeg":"image/png"}function o(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function c(e){const t=[],n=new Uint8Array(e);for(let a=0;a<n.length;a++)t.push(String.fromCharCode(n[a]));return"data:application/octet-stream;base64,"+btoa(t.join(""))}function g(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AlphaMode: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_3__.AlphaMode),
/* harmony export */   Asset: () => (/* reexport safe */ _asset_js__WEBPACK_IMPORTED_MODULE_5__.Asset),
/* harmony export */   AttributeType: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_3__.AttributeType),
/* harmony export */   BufferOutputType: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_3__.BufferOutputType),
/* harmony export */   ColorMode: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_3__.ColorMode),
/* harmony export */   ImageOutputType: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_3__.ImageOutputType),
/* harmony export */   MeshMode: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_3__.MeshMode),
/* harmony export */   Node: () => (/* reexport safe */ _node_js__WEBPACK_IMPORTED_MODULE_7__.Node),
/* harmony export */   Scene: () => (/* reexport safe */ _scene_js__WEBPACK_IMPORTED_MODULE_6__.Scene),
/* harmony export */   exportGLB: () => (/* binding */ p),
/* harmony export */   exportGLTF: () => (/* binding */ u),
/* harmony export */   modelNameGlb: () => (/* binding */ f),
/* harmony export */   modelNameGltf: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _glb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./glb.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js");
/* harmony import */ var _gltf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gltf.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltf.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js");
/* harmony import */ var _imageutils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./imageutils.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js");
/* harmony import */ var _asset_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./asset.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js");
/* harmony import */ var _scene_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scene.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js");
/* harmony import */ var _node_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a="model.gltf",f="model.glb";async function u(u,p,m){const c=new _gltf_js__WEBPACK_IMPORTED_MODULE_2__.GLTF(u,p=p||{},m);let l=c.params;l?l.origin||(l.origin=new _Point_js__WEBPACK_IMPORTED_MODULE_0__["default"]({x:-1,y:-1,z:-1})):l={origin:new _Point_js__WEBPACK_IMPORTED_MODULE_0__["default"]({x:-1,y:-1,z:-1})};const g=l.origin,y=c.gltf,d=y.extras?.promises??[];let j=1,x=1,b=null;await Promise.allSettled(d);const w={origin:g};delete y.extras;const B="number"==typeof p.jsonSpacing?p.jsonSpacing:4,h=JSON.stringify(y,((e,t)=>{if("extras"!==e){if(t instanceof ArrayBuffer){if((0,_imageutils_js__WEBPACK_IMPORTED_MODULE_4__.isArrayBufferPNG)(t))switch(p.imageOutputType){case _types_js__WEBPACK_IMPORTED_MODULE_3__.ImageOutputType.DataURI:case _types_js__WEBPACK_IMPORTED_MODULE_3__.ImageOutputType.GLB:break;case _types_js__WEBPACK_IMPORTED_MODULE_3__.ImageOutputType.External:default:{const e=`img${x}.png`;return x++,w[e]=t,e}}switch(p.bufferOutputType){case _types_js__WEBPACK_IMPORTED_MODULE_3__.BufferOutputType.DataURI:return (0,_imageutils_js__WEBPACK_IMPORTED_MODULE_4__.encodeBase64DataUri)(t);case _types_js__WEBPACK_IMPORTED_MODULE_3__.BufferOutputType.GLB:if(b)throw new Error("Already encountered an ArrayBuffer, there should only be one in the GLB format.");return void(b=t);case _types_js__WEBPACK_IMPORTED_MODULE_3__.BufferOutputType.External:default:{const e=`data${j}.bin`;return j++,w[e]=t,e}}}return t}}),B);return p.bufferOutputType===_types_js__WEBPACK_IMPORTED_MODULE_3__.BufferOutputType.GLB||p.imageOutputType===_types_js__WEBPACK_IMPORTED_MODULE_3__.ImageOutputType.GLB?w[f]=new _glb_js__WEBPACK_IMPORTED_MODULE_1__.GLB(h,b).buffer:w[a]=h,w}function p(e,t){return u(e,{bufferOutputType:_types_js__WEBPACK_IMPORTED_MODULE_3__.BufferOutputType.GLB,imageOutputType:_types_js__WEBPACK_IMPORTED_MODULE_3__.ImageOutputType.GLB,jsonSpacing:0},t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Node: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/quat.js */ "./node_modules/@arcgis/core/chunks/quat.js");
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/quatf64.js */ "./node_modules/@arcgis/core/chunks/quatf64.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(s){this.mesh=s,this.name="",this.translation=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.rotation=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),this.scale=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.g)(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.O),this._nodes=[]}addNode(s){if(this._nodes.includes(s))throw new Error("Node already added");this._nodes.push(s)}forEachNode(s){this._nodes.forEach(s)}set rotationAngles(t){(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_0__.k)(this.rotation,t[0],t[1],t[2])}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Scene: () => (/* binding */ d)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class d{constructor(){this.name="",this._nodes=[]}addNode(d){if(this._nodes.includes(d))throw new Error("Node already added");this._nodes.push(d)}forEachNode(d){this._nodes.forEach(d)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AlphaMode: () => (/* binding */ I),
/* harmony export */   AttributeType: () => (/* binding */ L),
/* harmony export */   BufferOutputType: () => (/* binding */ E),
/* harmony export */   ColorMode: () => (/* binding */ N),
/* harmony export */   ImageOutputType: () => (/* binding */ A),
/* harmony export */   MeshMode: () => (/* binding */ o),
/* harmony export */   TargetBuffer: () => (/* binding */ R)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E,A,R,L,o,I,N;!function(E){E[E.External=0]="External",E[E.DataURI=1]="DataURI",E[E.GLB=2]="GLB"}(E||(E={})),function(E){E[E.External=0]="External",E[E.DataURI=1]="DataURI",E[E.GLB=2]="GLB"}(A||(A={})),function(E){E[E.ARRAY_BUFFER=34962]="ARRAY_BUFFER",E[E.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(R||(R={})),function(E){E.SCALAR="SCALAR",E.VEC2="VEC2",E.VEC3="VEC3",E.VEC4="VEC4",E.MAT2="MAT2",E.MAT3="MAT3",E.MAT4="MAT4"}(L||(L={})),function(E){E[E.POINTS=0]="POINTS",E[E.LINES=1]="LINES",E[E.LINE_LOOP=2]="LINE_LOOP",E[E.LINE_STRIP=3]="LINE_STRIP",E[E.TRIANGLES=4]="TRIANGLES",E[E.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",E[E.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(o||(o={})),function(E){E.OPAQUE="OPAQUE",E.MASK="MASK",E.BLEND="BLEND"}(I||(I={})),function(E){E[E.NoColor=0]="NoColor",E[E.FaceColor=1]="FaceColor",E[E.VertexColor=2]="VertexColor"}(N||(N={}));


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2dlb21ldHJ5X3N1cHBvcnRfbWVzaFV0aWxzX2V4cG9ydGVyc19nbHRmX2dsdGZleHBvcnRfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDMkQsUUFBUSxjQUFjLHdFQUF3RSxZQUFZLG1FQUFtRSxxQkFBcUIsZUFBZSwyREFBQyxpQkFBaUIsZ0JBQWdCLHlCQUE0Qzs7Ozs7Ozs7Ozs7Ozs7OztBQ0oxVjtBQUNBO0FBQ0E7QUFDQTtBQUM2QyxRQUFRLGVBQWUsNkdBQTZHLFNBQVMsZUFBZSxpQ0FBaUMscUJBQXFCLDRGQUE0RixZQUFZLHNEQUFDLHdCQUF3QixtQ0FBbUMsaUJBQWlCLFFBQVEsa0NBQWtDLGtCQUFrQixjQUFjLG1FQUFtRSwyQkFBMkIsV0FBVyxrQ0FBa0MscUJBQXFCLG9CQUFvQixTQUFTLGlCQUFpQixtR0FBbUcsa0RBQWtELFFBQVEsdUVBQXVFLFNBQVMsV0FBVyxtREFBbUQsWUFBWSx3QkFBd0IsMkZBQTJGLHFCQUFxQiw4QkFBOEIsd0RBQXdELGlGQUFpRixnQkFBZ0IsUUFBUSwrQ0FBK0MsVUFBOEI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnY1QztBQUNBO0FBQ0E7QUFDQTtBQUM0SCxRQUFRLHVCQUF1QiwrUUFBK1EsdUNBQXVDLCtCQUErQixVQUFVLG1EQUFDLHFLQUFxSyxRQUFRLDBCQUEwQiw4Q0FBOEMsZ0VBQWdFLHdEQUF3RCw2QkFBNkIseURBQXlELGVBQWUsbURBQW1ELGVBQWUsZ0JBQWdCLHdCQUF3QiwwQkFBMEIsZ0JBQWdCLDRGQUE0Rix3Q0FBd0MsaUJBQWlCLDRGQUE0Rix3Q0FBd0MsdUJBQXVCLDRCQUE0QixLQUFLLDJEQUFDLGdDQUFnQyxLQUFLLDJEQUFDLG9DQUFvQyxLQUFLLDJEQUFDLGtDQUFrQyxLQUFLLDJEQUFDLDBDQUEwQyxLQUFLLDJEQUFDLDBDQUEwQyxLQUFLLDJEQUFDLDZD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QUEwQyxxREFBQyxpQkFBaUIscURBQUMsY0FBYyxxREFBQyxDQUFDLGlEQUFDLGlCQUFpQixXQUFXLGlFQUFpRSxvQkFBb0IsZUFBZSx1QkFBdUIsc0JBQXNCLGtEQUFDLGdDQUFrRDs7Ozs7Ozs7Ozs7Ozs7O0FDSi9lO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxjQUFjLDRCQUE0QixXQUFXLGlFQUFpRSxvQkFBb0IsZUFBZSx3QkFBMkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o1TTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhLHFFQUFxRSxTQUFTLGVBQWUscUVBQXFFLFNBQVMsZUFBZSw4RkFBOEYsU0FBUyxlQUFlLHNHQUFzRyxTQUFTLGVBQWUsK01BQStNLFNBQVMsZUFBZSxnREFBZ0QsU0FBUyxlQUFlLHVGQUF1RixTQUFTLEdBQXVJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2Fzc2V0LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9leHBvcnRlcnMvZ2x0Zi9idWZmZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2J1ZmZlcnZpZXcuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2dlb21ldHJ5LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9leHBvcnRlcnMvZ2x0Zi9nbGIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2dsdGYuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2dsdGZleHBvcnQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2ltYWdldXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2V4cG9ydGVycy9nbHRmL2luZGV4LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9leHBvcnRlcnMvZ2x0Zi9ub2RlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9leHBvcnRlcnMvZ2x0Zi9zY2VuZS5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9tZXNoVXRpbHMvZXhwb3J0ZXJzL2dsdGYvdHlwZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZW1vdmUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtjbGFzcyBze2NvbnN0cnVjdG9yKCl7dGhpcy5jb3B5cmlnaHQ9XCJcIix0aGlzLmRlZmF1bHRTY2VuZT0wLHRoaXMuZ2VuZXJhdG9yPVwiXCIsdGhpcy5fc2NlbmVzPVtdfWFkZFNjZW5lKGUpe2lmKHRoaXMuX3NjZW5lcy5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBhbHJlYWR5IGFkZGVkXCIpO3RoaXMuX3NjZW5lcy5wdXNoKGUpfXJlbW92ZVNjZW5lKHMpe2UodGhpcy5fc2NlbmVzLHMpfWZvckVhY2hTY2VuZShlKXt0aGlzLl9zY2VuZXMuZm9yRWFjaChlKX19ZXhwb3J0e3MgYXMgQXNzZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtCdWZmZXJWaWV3IGFzIGV9ZnJvbVwiLi9idWZmZXJ2aWV3LmpzXCI7Y2xhc3MgaXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9nbHRmPWUsdGhpcy5fYnVmZmVyVmlld3M9W10sdGhpcy5faXNGaW5hbGl6ZWQ9ITEsZS5idWZmZXJzfHwoZS5idWZmZXJzPVtdKSx0aGlzLmluZGV4PWUuYnVmZmVycy5sZW5ndGg7Y29uc3QgaT17Ynl0ZUxlbmd0aDotMX07ZS5idWZmZXJzLnB1c2goaSksdGhpcy5fYnVmZmVyPWl9YWRkQnVmZmVyVmlldyhpLHQscil7aWYodGhpcy5fZmluYWxpemVQcm9taXNlKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhZGQgYnVmZmVyIHZpZXcgYWZ0ZXIgZmlpbmFsaXppbmcgYnVmZmVyXCIpO2NvbnN0IGY9bmV3IGUodGhpcyx0aGlzLl9nbHRmLGksdCxyKTtyZXR1cm4gdGhpcy5fYnVmZmVyVmlld3MucHVzaChmKSxmfWdldEJ5dGVPZmZzZXQoZSl7bGV0IGk9MDtmb3IoY29uc3QgdCBvZiB0aGlzLl9idWZmZXJWaWV3cyl7aWYodD09PWUpcmV0dXJuIGk7aSs9dC5ieXRlU2l6ZX10aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBidWZmZXJWaWV3IHdhcyBub3QgcHJlc2VudCBpbiB0aGlzIGJ1ZmZlclwiKX1nZXRWaWV3RmluYWxpemVQcm9taXNlcyhlKXtjb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuX2J1ZmZlclZpZXdzKXtpZihlJiZ0PT09ZSlyZXR1cm4gaTtpLnB1c2godC5maW5hbGl6ZWQpfXJldHVybiBpfWdldEFycmF5QnVmZmVyKCl7aWYoIXRoaXMuX2lzRmluYWxpemVkKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgQXJyYXlCdWZmZXIgZnJvbSBCdWZmZXIgYmVmb3JlIGl0IGlzIGZpbmFsaXplZFwiKTtjb25zdCBlPXRoaXMuX2dldFRvdGFsU2l6ZSgpLGk9bmV3IEFycmF5QnVmZmVyKGUpO2xldCB0PTA7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fYnVmZmVyVmlld3Mpci53cml0ZU91dFRvQnVmZmVyKGksdCksdCs9ci5ieXRlU2l6ZTtyZXR1cm4gaX1maW5hbGl6ZSgpe2lmKHRoaXMuX2ZpbmFsaXplUHJvbWlzZSl0aHJvdyBuZXcgRXJyb3IoYEJ1ZmZlciAke3RoaXMuaW5kZXh9IHdhcyBhbHJlYWR5IGZpbmFsaXplZGApO3JldHVybiB0aGlzLl9maW5hbGl6ZVByb21pc2U9UHJvbWlzZS5hbGxTZXR0bGVkKHRoaXMuZ2V0Vmlld0ZpbmFsaXplUHJvbWlzZXMoKSkudGhlbigoKCk9Pnt0aGlzLl9pc0ZpbmFsaXplZD0hMDtjb25zdCBlPXRoaXMuZ2V0QXJyYXlCdWZmZXIoKTt0aGlzLl9idWZmZXIuYnl0ZUxlbmd0aD1lLmJ5dGVMZW5ndGgsdGhpcy5fYnVmZmVyLnVyaT1lfSkpLHRoaXMuX2dsdGYuZXh0cmFzPy5wcm9taXNlcy5wdXNoKHRoaXMuX2ZpbmFsaXplUHJvbWlzZSksdGhpcy5fZmluYWxpemVQcm9taXNlfV9nZXRUb3RhbFNpemUoKXtsZXQgZT0wO2Zvcihjb25zdCBpIG9mIHRoaXMuX2J1ZmZlclZpZXdzKWUrPWkuYnl0ZVNpemU7cmV0dXJuIGV9fWV4cG9ydHtpIGFzIEJ1ZmZlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1RhcmdldEJ1ZmZlciBhcyBlLEF0dHJpYnV0ZVR5cGUgYXMgdH1mcm9tXCIuL3R5cGVzLmpzXCI7aW1wb3J0e0RhdGFUeXBlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vdmlld3Mvd2ViZ2wvZW51bXMuanNcIjtjbGFzcyBpe2NvbnN0cnVjdG9yKHQscyxpLHIsbil7dGhpcy5fYnVmZmVyPXQsdGhpcy5fY29tcG9uZW50VHlwZT1pLHRoaXMuX2RhdGFUeXBlPXIsdGhpcy5fZGF0YT1bXSx0aGlzLl9pc0ZpbmFsaXplZD0hMSx0aGlzLl9hY2Nlc3NvckluZGV4PS0xLHRoaXMuX2FjY2Vzc29yQXR0cmlidXRlPW51bGwsdGhpcy5fYWNjZXNzb3JNaW49bnVsbCx0aGlzLl9hY2Nlc3Nvck1heD1udWxsLHMuYnVmZmVyVmlld3N8fChzLmJ1ZmZlclZpZXdzPVtdKSx0aGlzLmluZGV4PXMuYnVmZmVyVmlld3MubGVuZ3RoLHRoaXMuX2J1ZmZlclZpZXc9e2J1ZmZlcjp0LmluZGV4LGJ5dGVMZW5ndGg6LTEsdGFyZ2V0Om59O2NvbnN0IGE9dGhpcy5fZ2V0RWxlbWVudFNpemUoKTthPj00JiZuIT09ZS5FTEVNRU5UX0FSUkFZX0JVRkZFUiYmKHRoaXMuX2J1ZmZlclZpZXcuYnl0ZVN0cmlkZT1hKSxzLmJ1ZmZlclZpZXdzLnB1c2godGhpcy5fYnVmZmVyVmlldyksdGhpcy5fbnVtQ29tcG9uZW50c0ZvckRhdGFUeXBlPXRoaXMuX2NhbGN1bGF0ZU51bUNvbXBvbmVudHNGb3JEYXRhVHlwZSgpfXB1c2goZSl7Y29uc3QgdD10aGlzLl9kYXRhLmxlbmd0aDtpZih0aGlzLl9kYXRhLnB1c2goZSksdGhpcy5fYWNjZXNzb3JJbmRleD49MCl7Y29uc3Qgcz10JXRoaXMuX251bUNvbXBvbmVudHNGb3JEYXRhVHlwZSxpPXRoaXMuX2FjY2Vzc29yTWluW3NdO3RoaXMuX2FjY2Vzc29yTWluW3NdPVwibnVtYmVyXCIhPXR5cGVvZiBpP2U6TWF0aC5taW4oaSxlKTtjb25zdCByPXRoaXMuX2FjY2Vzc29yTWF4W3NdO3RoaXMuX2FjY2Vzc29yTWF4W3NdPVwibnVtYmVyXCIhPXR5cGVvZiByP2U6TWF0aC5tYXgocixlKX19Z2V0IGRhdGFTaXplKCl7cmV0dXJuIHRoaXMuX2RhdGEubGVuZ3RoKnRoaXMuX3NpemVDb21wb25lbnRUeXBlKCl9Z2V0IGJ5dGVTaXplKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiB0Kk1hdGguY2VpbChlL3QpfXJldHVybiBlKHRoaXMuZGF0YVNpemUsNCl9Z2V0Qnl0ZU9mZnNldCgpe2lmKCF0aGlzLl9pc0ZpbmFsaXplZCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IEJ1ZmZlclZpZXcgb2Zmc2V0IHVudGlsIGl0IGlzIGZpbmFsaXplZFwiKTtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldEJ5dGVPZmZzZXQodGhpcyl9Z2V0IGJ5dGVPZmZzZXQoKXtpZighdGhpcy5faXNGaW5hbGl6ZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBCdWZmZXJWaWV3IG9mZnNldCB1bnRpbCBpdCBpcyBmaW5hbGl6ZWRcIik7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRCeXRlT2Zmc2V0KHRoaXMpfV9jcmVhdGVUeXBlZEFycmF5KGUsdCl7c3dpdGNoKHRoaXMuX2NvbXBvbmVudFR5cGUpe2Nhc2Ugcy5CWVRFOnJldHVybiBuZXcgSW50OEFycmF5KGUsdCk7Y2FzZSBzLkZMT0FUOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KGUsdCk7Y2FzZSBzLlNIT1JUOnJldHVybiBuZXcgSW50MTZBcnJheShlLHQpO2Nhc2Ugcy5VTlNJR05FRF9CWVRFOnJldHVybiBuZXcgVWludDhBcnJheShlLHQpO2Nhc2Ugcy5VTlNJR05FRF9JTlQ6cmV0dXJuIG5ldyBVaW50MzJBcnJheShlLHQpO2Nhc2Ugcy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUsdCl9fXdyaXRlT3V0VG9CdWZmZXIoZSx0KXt0aGlzLl9jcmVhdGVUeXBlZEFycmF5KGUsdCkuc2V0KHRoaXMuX2RhdGEpfXdyaXRlQXN5bmMoZSl7aWYodGhpcy5fYXN5bmNXcml0ZVByb21pc2UpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgd3JpdGUgbXVsdGlwbGUgYnVmZmVyVmlldyB2YWx1ZXMgYXN5bmNocm9ub3VzbHlcIik7cmV0dXJuIHRoaXMuX2FzeW5jV3JpdGVQcm9taXNlPWUudGhlbigoZT0+e2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDsrK3MpdGhpcy5fZGF0YS5wdXNoKHRbc10pO2RlbGV0ZSB0aGlzLl9hc3luY1dyaXRlUHJvbWlzZX0pKSx0aGlzLl9hc3luY1dyaXRlUHJvbWlzZX1zdGFydEFjY2Vzc29yKGUpe2lmKHRoaXMuX2FjY2Vzc29ySW5kZXg+PTApdGhyb3cgbmV3IEVycm9yKFwiQWNjZXNzb3Igd2FzIHN0YXJ0ZWQgd2l0aG91dCBlbmRpbmcgdGhlIHByZXZpb3VzIG9uZVwiKTt0aGlzLl9hY2Nlc3NvckluZGV4PXRoaXMuX2RhdGEubGVuZ3RoLHRoaXMuX2FjY2Vzc29yQXR0cmlidXRlPWU7Y29uc3QgdD10aGlzLl9udW1Db21wb25lbnRzRm9yRGF0YVR5cGU7dGhpcy5fYWNjZXNzb3JNaW49bmV3IEFycmF5KHQpLHRoaXMuX2FjY2Vzc29yTWF4PW5ldyBBcnJheSh0KX1lbmRBY2Nlc3Nvcigpe2lmKHRoaXMuX2FjY2Vzc29ySW5kZXg8MCl0aHJvdyBuZXcgRXJyb3IoXCJBbiBhY2Nlc3NvciB3YXMgbm90IHN0YXJ0ZWQsIGJ1dCB3YXMgYXR0ZW1wdGVkIHRvIGJlIGVuZGVkXCIpO2NvbnN0IGU9dGhpcy5fZ2V0RWxlbWVudFNpemUoKSx0PXRoaXMuX251bUNvbXBvbmVudHNGb3JEYXRhVHlwZSxpPSh0aGlzLl9kYXRhLmxlbmd0aC10aGlzLl9hY2Nlc3NvckluZGV4KS90O2lmKGklMSl0aHJvdyBuZXcgRXJyb3IoXCJBbiBhY2Nlc3NvciB3YXMgZW5kZWQgd2l0aCBtaXNzaW5nIGNvbXBvbmVudCB2YWx1ZXNcIik7Zm9yKGxldCBzPTA7czx0aGlzLl9hY2Nlc3Nvck1pbi5sZW5ndGg7KytzKVwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLl9hY2Nlc3Nvck1pbltzXSYmKHRoaXMuX2FjY2Vzc29yTWluW3NdPTApLFwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLl9hY2Nlc3Nvck1heFtzXSYmKHRoaXMuX2FjY2Vzc29yTWF4W3NdPTApO2NvbnN0IHI9e2J5dGVPZmZzZXQ6ZSoodGhpcy5fYWNjZXNzb3JJbmRleC90KSxjb21wb25lbnRUeXBlOnRoaXMuX2NvbXBvbmVudFR5cGUsY291bnQ6aSx0eXBlOnRoaXMuX2RhdGFUeXBlLG1pbjp0aGlzLl9hY2Nlc3Nvck1pbixtYXg6dGhpcy5fYWNjZXNzb3JNYXgsbmFtZTp0aGlzLl9hY2Nlc3NvckF0dHJpYnV0ZX07c3dpdGNoKHRoaXMuX2FjY2Vzc29yQXR0cmlidXRlKXtjYXNlXCJURVhDT09SRF8wXCI6Y2FzZVwiVEVYQ09PUkRfMVwiOmNhc2VcIkNPTE9SXzBcIjpjYXNlXCJXRUlHSFRTXzBcIjpzd2l0Y2godGhpcy5fY29tcG9uZW50VHlwZSl7Y2FzZSBzLlVOU0lHTkVEX0JZVEU6Y2FzZSBzLlVOU0lHTkVEX1NIT1JUOnIubm9ybWFsaXplZD0hMH19cmV0dXJuIHRoaXMuX2FjY2Vzc29ySW5kZXg9LTEsdGhpcy5fYWNjZXNzb3JBdHRyaWJ1dGU9bnVsbCx0aGlzLl9hY2Nlc3Nvck1pbj1udWxsLHRoaXMuX2FjY2Vzc29yTWF4PW51bGwscn1nZXQgZmluYWxpemVkKCl7cmV0dXJuIHRoaXMuX2ZpbmFsaXplZFByb21pc2U/dGhpcy5fZmluYWxpemVkUHJvbWlzZTp0aGlzLl9pc0ZpbmFsaXplZD90aGlzLl9maW5hbGl6ZWRQcm9taXNlPVByb21pc2UucmVzb2x2ZSgpOnRoaXMuX2ZpbmFsaXplZFByb21pc2U9bmV3IFByb21pc2UoKGU9PnRoaXMuX2ZpbmFsaXplZFByb21pc2VSZXNvbHZlPWUpKX1hc3luYyBmaW5hbGl6ZSgpe2NvbnN0IGU9dGhpcy5fYnVmZmVyVmlldyx0PXRoaXMuX2J1ZmZlci5nZXRWaWV3RmluYWxpemVQcm9taXNlcyh0aGlzKTt0aGlzLl9hc3luY1dyaXRlUHJvbWlzZSYmdC5wdXNoKHRoaXMuX2FzeW5jV3JpdGVQcm9taXNlKSxhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodCksdGhpcy5faXNGaW5hbGl6ZWQ9ITAsZS5ieXRlT2Zmc2V0PXRoaXMuZ2V0Qnl0ZU9mZnNldCgpLGUuYnl0ZUxlbmd0aD10aGlzLmRhdGFTaXplLHRoaXMuX2ZpbmFsaXplZFByb21pc2VSZXNvbHZlJiZ0aGlzLl9maW5hbGl6ZWRQcm9taXNlUmVzb2x2ZSgpfV9nZXRFbGVtZW50U2l6ZSgpe3JldHVybiB0aGlzLl9zaXplQ29tcG9uZW50VHlwZSgpKnRoaXMuX251bUNvbXBvbmVudHNGb3JEYXRhVHlwZX1fc2l6ZUNvbXBvbmVudFR5cGUoKXtzd2l0Y2godGhpcy5fY29tcG9uZW50VHlwZSl7Y2FzZSBzLkJZVEU6Y2FzZSBzLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBzLlNIT1JUOmNhc2Ugcy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIHMuVU5TSUdORURfSU5UOmNhc2Ugcy5GTE9BVDpyZXR1cm4gNH19X2NhbGN1bGF0ZU51bUNvbXBvbmVudHNGb3JEYXRhVHlwZSgpe3N3aXRjaCh0aGlzLl9kYXRhVHlwZSl7Y2FzZSB0LlNDQUxBUjpyZXR1cm4gMTtjYXNlIHQuVkVDMjpyZXR1cm4gMjtjYXNlIHQuVkVDMzpyZXR1cm4gMztjYXNlIHQuVkVDNDpjYXNlIHQuTUFUMjpyZXR1cm4gNDtjYXNlIHQuTUFUMzpyZXR1cm4gOTtjYXNlIHQuTUFUNDpyZXR1cm4gMTZ9fX1leHBvcnR7aSBhcyBCdWZmZXJWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cyBhcyBuLGYgYXMgdCxiIGFzIGUsbiBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uLy4uL1BvaW50LmpzXCI7ZnVuY3Rpb24gcihuLHQpe2lmKG4uY29tcG9uZW50cylmb3IoY29uc3QgZSBvZiBuLmNvbXBvbmVudHMpZS5mYWNlcyYmXCJzbW9vdGhcIj09PWUuc2hhZGluZyYmYShlLHQpfWZ1bmN0aW9uIGEocyxpKXtudWxsPT1pLm5vcm1hbCYmKGkubm9ybWFsPW5ldyBGbG9hdDMyQXJyYXkoaS5wb3NpdGlvbi5sZW5ndGgpKTtjb25zdCByPXMuZmFjZXMse3Bvc2l0aW9uOmEsbm9ybWFsOmN9PWksaD1yLmxlbmd0aC8zO2ZvcihsZXQgbz0wO288aDsrK28pe2NvbnN0IHM9MypyWzMqb10saT0zKnJbMypvKzFdLHA9MypyWzMqbysyXSxoPW4oZixhW3NdLGFbcysxXSxhW3MrMl0pLHU9bihsLGFbaV0sYVtpKzFdLGFbaSsyXSksZz1uKG0sYVtwXSxhW3ArMV0sYVtwKzJdKSx4PXQodSx1LGgpLHY9dChnLGcsaCksUj1lKHgseCx2KTtjW3NdKz1SWzBdLGNbcysxXSs9UlsxXSxjW3MrMl0rPVJbMl0sY1tpXSs9UlswXSxjW2krMV0rPVJbMV0sY1tpKzJdKz1SWzJdLGNbcF0rPVJbMF0sY1twKzFdKz1SWzFdLGNbcCsyXSs9UlsyXX1mb3IobGV0IHQ9MDt0PGMubGVuZ3RoO3QrPTMpbihwLGNbdF0sY1t0KzFdLGNbdCsyXSksbyhwLHApLGNbdF09cFswXSxjW3QrMV09cFsxXSxjW3QrMl09cFsyXX1mdW5jdGlvbiBjKG4pe2NvbnN0e3ZlcnRleFNwYWNlOnR9PW47aWYodC5pc1JlbGF0aXZlKXJldHVybiB0LmdldE9yaWdpblBvaW50KG4uc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3R7ZXh0ZW50OmV9PW4sbz1lLnhtYXgtZS53aWR0aC8yLHM9ZS55bWF4LWUuaGVpZ2h0LzIscj1lLnptaW47cmV0dXJuIG5ldyBpKHt4Om8seTpzLHo6cixzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pfWNvbnN0IGY9cygpLGw9cygpLG09cygpLHA9cygpO2V4cG9ydHtjIGFzIGNvbXB1dGVPcmlnaW4sciBhcyBzbW9vdGhOb3JtYWxzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgdDshZnVuY3Rpb24odCl7dFt0LkpTT049MTMxMzgyMTUxNF09XCJKU09OXCIsdFt0LkJJTj01MTMwNTYyXT1cIkJJTlwifSh0fHwodD17fSkpO2NsYXNzIGV7Y29uc3RydWN0b3IoaSxyKXtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJHTEIgcmVxdWlyZXMgYSBKU09OIGdsdGYgY2h1bmtcIik7dGhpcy5fbGVuZ3RoPWUuSEVBREVSX1NJWkUsdGhpcy5fbGVuZ3RoKz1lLkNIVU5LX0hFQURFUl9TSVpFO2NvbnN0IG49dGhpcy5fdGV4dFRvQXJyYXlCdWZmZXIoaSk7aWYodGhpcy5fbGVuZ3RoKz10aGlzLl9hbGlnblRvKG4uYnl0ZUxlbmd0aCw0KSxyJiYodGhpcy5fbGVuZ3RoKz1lLkNIVU5LX0hFQURFUl9TSVpFLHRoaXMuX2xlbmd0aCs9ci5ieXRlTGVuZ3RoLHIuYnl0ZUxlbmd0aCU0KSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBCSU4gY2h1bmsgbGVuZ3RoIHRvIGJlIGRpdmlzaWJsZSBieSA0IGF0IHRoaXMgcG9pbnRcIik7dGhpcy5idWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuX2xlbmd0aCksdGhpcy5fb3V0Vmlldz1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpLHRoaXMuX3dyaXRlSGVhZGVyKCk7Y29uc3QgaD10aGlzLl93cml0ZUNodW5rKG4sMTIsdC5KU09OLDMyKTtyJiZ0aGlzLl93cml0ZUNodW5rKHIsaCx0LkJJTil9X3dyaXRlSGVhZGVyKCl7dGhpcy5fb3V0Vmlldy5zZXRVaW50MzIoMCxlLk1BR0lDLCEwKSx0aGlzLl9vdXRWaWV3LnNldFVpbnQzMig0LGUuVkVSU0lPTiwhMCksdGhpcy5fb3V0Vmlldy5zZXRVaW50MzIoOCx0aGlzLl9sZW5ndGgsITApfV93cml0ZUNodW5rKHQsZSxpLHI9MCl7Y29uc3Qgbj10aGlzLl9hbGlnblRvKHQuYnl0ZUxlbmd0aCw0KTtmb3IodGhpcy5fb3V0Vmlldy5zZXRVaW50MzIoZSxuLCEwKSx0aGlzLl9vdXRWaWV3LnNldFVpbnQzMihlKz00LGksITApLHRoaXMuX3dyaXRlQXJyYXlCdWZmZXIodGhpcy5fb3V0Vmlldy5idWZmZXIsdCxlKz00LDAsdC5ieXRlTGVuZ3RoKSxlKz10LmJ5dGVMZW5ndGg7ZSU0OylyJiZ0aGlzLl9vdXRWaWV3LnNldFVpbnQ4KGUsciksZSsrO3JldHVybiBlfV93cml0ZUFycmF5QnVmZmVyKHQsZSxpLHIsbil7bmV3IFVpbnQ4QXJyYXkodCxpLG4pLnNldChuZXcgVWludDhBcnJheShlLHIsbiksMCl9X3RleHRUb0FycmF5QnVmZmVyKHQpe3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KS5idWZmZXJ9X2FsaWduVG8odCxlKXtyZXR1cm4gZSpNYXRoLmNlaWwodC9lKX19ZS5IRUFERVJfU0laRT0xMixlLkNIVU5LX0hFQURFUl9TSVpFPTgsZS5NQUdJQz0xMTc5OTM3ODk1LGUuVkVSU0lPTj0yO2V4cG9ydHtlIGFzIEdMQn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2dldE9yQ3JlYXRlTWFwVmFsdWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e2RlZzJyYWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJDYXJ0ZXNpYW5Vbml0Rm9yU1IgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtiIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL21hdDQuanNcIjtpbXBvcnR7SSBhcyBvLGEgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvbWF0NGY2NC5qc1wiO2ltcG9ydHtqIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3F1YXQuanNcIjtpbXBvcnR7SSBhcyBjLGIgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvcXVhdGY2NC5qc1wiO2ltcG9ydHtoIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7WiBhcyBmLGcgYXMgbSxPIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9NZXNoR2VvcmVmZXJlbmNlZFJlbGF0aXZlVmVydGV4U3BhY2UuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi8uLi9NZXNoR2VvcmVmZXJlbmNlZFZlcnRleFNwYWNlLmpzXCI7aW1wb3J0IF8gZnJvbVwiLi4vLi4vLi4vTWVzaE1hdGVyaWFsTWV0YWxsaWNSb3VnaG5lc3MuanNcIjtpbXBvcnR7dW5nZW9yZWZlcmVuY2VCeVRyYW5zZm9ybSBhcyB4LGFwcGx5VHJhbnNmb3JtIGFzIFR9ZnJvbVwiLi4vLi4vZ2VvcmVmZXJlbmNlLmpzXCI7aW1wb3J0e0J1ZmZlciBhcyBSfWZyb21cIi4vYnVmZmVyLmpzXCI7aW1wb3J0e2NvbXB1dGVPcmlnaW4gYXMgQSxzbW9vdGhOb3JtYWxzIGFzIE19ZnJvbVwiLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtCdWZmZXJPdXRwdXRUeXBlIGFzIEUsSW1hZ2VPdXRwdXRUeXBlIGFzIGIsQXR0cmlidXRlVHlwZSBhcyBPLFRhcmdldEJ1ZmZlciBhcyB3LEFscGhhTW9kZSBhcyBJfWZyb21cIi4vdHlwZXMuanNcIjtpbXBvcnR7aW1hZ2VUb0FycmF5QnVmZmVyIGFzIE4saW1hZ2VUb0RhdGFVUkkgYXMgQn1mcm9tXCIuL2ltYWdldXRpbHMuanNcIjtpbXBvcnR7aXNFbmNvZGVkTWVzaFRleHR1cmUgYXMgQ31mcm9tXCIuLi8uLi8uLi8uLi8uLi92aWV3cy8zZC9nbFRGL2ludGVybmFsL3Jlc291cmNlVXRpbHMuanNcIjtpbXBvcnR7RGF0YVR5cGUgYXMgUyxUZXh0dXJlV3JhcE1vZGUgYXMgdn1mcm9tXCIuLi8uLi8uLi8uLi8uLi92aWV3cy93ZWJnbC9lbnVtcy5qc1wiO2NvbnN0IEw9dC5nZXRMb2dnZXIoXCJnbHRmXCIpO2NsYXNzIHl7Y29uc3RydWN0b3IoZSx0LHMpe3RoaXMucGFyYW1zPXt9LHRoaXMuX21hdGVyaWFsTWFwPW5ldyBBcnJheSx0aGlzLl9pbWFnZU1hcD1uZXcgTWFwLHRoaXMuX3RleHR1cmVNYXA9bmV3IE1hcCx0aGlzLmdsdGY9e2Fzc2V0Ont2ZXJzaW9uOlwiMi4wXCIsY29weXJpZ2h0OmUuY29weXJpZ2h0LGdlbmVyYXRvcjplLmdlbmVyYXRvcn0sZXh0cmFzOntvcHRpb25zOnQsYmluQ2h1bmtCdWZmZXI6bnVsbCxwcm9taXNlczpbXX19LHMmJih0aGlzLnBhcmFtcz1zKSx0aGlzLl9hZGRTY2VuZXMoZSl9X2FkZFNjZW5lcyhlKXt0aGlzLmdsdGYuc2NlbmU9ZS5kZWZhdWx0U2NlbmU7Y29uc3QgdD10aGlzLmdsdGYuZXh0cmFzLHM9dC5vcHRpb25zLmJ1ZmZlck91dHB1dFR5cGU9PT1FLkdMQnx8dC5vcHRpb25zLmltYWdlT3V0cHV0VHlwZT09PWIuR0xCO3MmJih0LmJpbkNodW5rQnVmZmVyPW5ldyBSKHRoaXMuZ2x0ZikpLGUuZm9yRWFjaFNjZW5lKChlPT57dGhpcy5fYWRkU2NlbmUoZSl9KSkscyYmdC5iaW5DaHVua0J1ZmZlci5maW5hbGl6ZSgpfV9hZGRTY2VuZShlKXt0aGlzLmdsdGYuc2NlbmVzfHwodGhpcy5nbHRmLnNjZW5lcz1bXSk7Y29uc3QgdD17fTtlLm5hbWUmJih0Lm5hbWU9ZS5uYW1lKSxlLmZvckVhY2hOb2RlKChlPT57dC5ub2Rlc3x8KHQubm9kZXM9W10pLHQubm9kZXMucHVzaCguLi50aGlzLl9hZGROb2RlcyhlKSl9KSksdGhpcy5nbHRmLnNjZW5lcy5wdXNoKHQpfV9hZGROb2RlcyhlKXt0aGlzLmdsdGYubm9kZXN8fCh0aGlzLmdsdGYubm9kZXM9W10pO2NvbnN0IHQ9e307ZS5uYW1lJiYodC5uYW1lPWUubmFtZSk7Y29uc3Qgcz1lLnRyYW5zbGF0aW9uO3UocyxmKXx8KHQudHJhbnNsYXRpb249bShzKSk7Y29uc3Qgcj1lLnJvdGF0aW9uO2wocixjKXx8KHQucm90YXRpb249aChyKSk7Y29uc3QgaT1lLnNjYWxlO3UoaSxwKXx8KHQuc2NhbGU9bShpKSk7Y29uc3QgYT10aGlzLmdsdGYubm9kZXMubGVuZ3RoO2lmKHRoaXMuZ2x0Zi5ub2Rlcy5wdXNoKHQpLGUubWVzaCYmZS5tZXNoLnZlcnRleEF0dHJpYnV0ZXMucG9zaXRpb24pe2NvbnN0IHM9dGhpcy5fY3JlYXRlTWVzaGVzKGUubWVzaCkscj1bYV07aWYoMT09PXMubGVuZ3RoKXRoaXMuX2FkZE1lc2godCxzWzBdKTtlbHNlIGZvcihjb25zdCBlIG9mIHMpe2NvbnN0IHQ9e307dGhpcy5fYWRkTWVzaCh0LGUpLHIucHVzaCh0aGlzLmdsdGYubm9kZXMubGVuZ3RoKSx0aGlzLmdsdGYubm9kZXMucHVzaCh0KX1yZXR1cm4gcn1yZXR1cm4gZS5mb3JFYWNoTm9kZSgoZT0+e3QuY2hpbGRyZW58fCh0LmNoaWxkcmVuPVtdKSx0LmNoaWxkcmVuLnB1c2goLi4udGhpcy5fYWRkTm9kZXMoZSkpfSkpLFthXX1fYWRkTWVzaChlLHQpe3RoaXMuZ2x0Zi5tZXNoZXM/Pz1bXTtjb25zdCBzPXRoaXMuZ2x0Zi5tZXNoZXMubGVuZ3RoO3RoaXMuZ2x0Zi5tZXNoZXMucHVzaCh0KSxlLm1lc2g9c31fY3JlYXRlTWVzaGVzKHQpe2NvbnN0IHM9dGhpcy5nbHRmLmV4dHJhcyxyPXMub3B0aW9ucy5idWZmZXJPdXRwdXRUeXBlPT09RS5HTEI7bGV0IG47bj1yP3MuYmluQ2h1bmtCdWZmZXI6bmV3IFIodGhpcy5nbHRmKSx0aGlzLnBhcmFtcy5vcmlnaW58fCh0aGlzLnBhcmFtcy5vcmlnaW49QSh0KSk7Y29uc3R7aWdub3JlTG9jYWxUcmFuc2Zvcm06bH09dGhpcy5wYXJhbXMsYz1sP251bGw6dC50cmFuc2Zvcm0se3ZlcnRleFNwYWNlOmgsc3BhdGlhbFJlZmVyZW5jZTp1fT10LGY9dC52ZXJ0ZXhBdHRyaWJ1dGVzO2xldCBwPW51bGw7aWYoXCJsb2NhbFwiPT09aC50eXBlKXtjb25zdCBlPWkodSk7YShGLGM/LmxvY2FsTWF0cml4Pz9vLFtlLGUsZV0pLHA9VChmLEYpfWVsc2V7Y29uc3QgZT1sP2guaXNSZWxhdGl2ZT9uZXcgZCh7b3JpZ2luOm0oaC5vcmlnaW4pfSk6bmV3IGc6aDtwPXgoZixlLGMsdGhpcy5wYXJhbXMub3JpZ2luLHtnZW9ncmFwaGljOnRoaXMucGFyYW1zLmdlb2dyYXBoaWMsdW5pdDpcIm1ldGVyc1wifSl9aWYobnVsbD09cCl0aHJvdyBuZXcgZShcIkVycm9yIGR1cmluZyBnbHRmIGV4cG9ydC5cIik7Zi5wb3NpdGlvbiYmcC5wb3NpdGlvbj09PWYucG9zaXRpb24mJihwLnBvc2l0aW9uPWYucG9zaXRpb24uc2xpY2UoKSksZi5ub3JtYWwmJnAubm9ybWFsPT09Zi5ub3JtYWwmJihwLm5vcm1hbD1mLm5vcm1hbC5zbGljZSgpKSxmLnRhbmdlbnQmJnAudGFuZ2VudD09PWYudGFuZ2VudCYmKHAudGFuZ2VudD1mLnRhbmdlbnQuc2xpY2UoKSksTSh0LHApLHRoaXMuX2ZsaXBZWkF4aXMocCk7Y29uc3QgXz1uLmFkZEJ1ZmZlclZpZXcoUy5GTE9BVCxPLlZFQzMsdy5BUlJBWV9CVUZGRVIpO2xldCBiLEksTixCO3Aubm9ybWFsJiYoYj1uLmFkZEJ1ZmZlclZpZXcoUy5GTE9BVCxPLlZFQzMsdy5BUlJBWV9CVUZGRVIpKSxmLnV2JiYoST1uLmFkZEJ1ZmZlclZpZXcoUy5GTE9BVCxPLlZFQzIsdy5BUlJBWV9CVUZGRVIpKSxwLnRhbmdlbnQmJihOPW4uYWRkQnVmZmVyVmlldyhTLkZMT0FULE8uVkVDNCx3LkFSUkFZX0JVRkZFUikpLGYuY29sb3ImJihCPW4uYWRkQnVmZmVyVmlldyhTLlVOU0lHTkVEX0JZVEUsTy5WRUM0LHcuQVJSQVlfQlVGRkVSKSksXy5zdGFydEFjY2Vzc29yKFwiUE9TSVRJT05cIiksYiYmYi5zdGFydEFjY2Vzc29yKFwiTk9STUFMXCIpLEkmJkkuc3RhcnRBY2Nlc3NvcihcIlRFWENPT1JEXzBcIiksTiYmTi5zdGFydEFjY2Vzc29yKFwiVEFOR0VOVFwiKSxCJiZCLnN0YXJ0QWNjZXNzb3IoXCJDT0xPUl8wXCIpO2NvbnN0IEM9cC5wb3NpdGlvbi5sZW5ndGgvMyx7cG9zaXRpb246dixub3JtYWw6TCx0YW5nZW50Onl9PXAse2NvbG9yOmosdXY6a309Zjtmb3IobGV0IGU9MDtlPEM7KytlKV8ucHVzaCh2WzMqZV0pLF8ucHVzaCh2WzMqZSsxXSksXy5wdXNoKHZbMyplKzJdKSxiJiZudWxsIT1MJiYoYi5wdXNoKExbMyplXSksYi5wdXNoKExbMyplKzFdKSxiLnB1c2goTFszKmUrMl0pKSxJJiZudWxsIT1rJiYoSS5wdXNoKGtbMiplXSksSS5wdXNoKGtbMiplKzFdKSksTiYmbnVsbCE9eSYmKE4ucHVzaCh5WzQqZV0pLE4ucHVzaCh5WzQqZSsxXSksTi5wdXNoKHlbNCplKzJdKSxOLnB1c2goeVs0KmUrM10pKSxCJiZudWxsIT1qJiYoQi5wdXNoKGpbNCplXSksQi5wdXNoKGpbNCplKzFdKSxCLnB1c2goals0KmUrMl0pLEIucHVzaChqWzQqZSszXSkpO2NvbnN0IFY9Xy5lbmRBY2Nlc3NvcigpLEQ9dGhpcy5fYWRkQWNjZXNzb3IoXy5pbmRleCxWKTtsZXQgRyxVLFksUCx6O2lmKGIpe2NvbnN0IGU9Yi5lbmRBY2Nlc3NvcigpO0c9dGhpcy5fYWRkQWNjZXNzb3IoYi5pbmRleCxlKX1pZihJKXtjb25zdCBlPUkuZW5kQWNjZXNzb3IoKTtVPXRoaXMuX2FkZEFjY2Vzc29yKEkuaW5kZXgsZSl9aWYoTil7Y29uc3QgZT1OLmVuZEFjY2Vzc29yKCk7WT10aGlzLl9hZGRBY2Nlc3NvcihOLmluZGV4LGUpfWlmKEIpe2NvbnN0IGU9Qi5lbmRBY2Nlc3NvcigpO1A9dGhpcy5fYWRkQWNjZXNzb3IoQi5pbmRleCxlKX1jb25zdCBaPVtdO3JldHVybiB0LmNvbXBvbmVudHMmJnQuY29tcG9uZW50cy5sZW5ndGg+MCYmdC5jb21wb25lbnRzWzBdLmZhY2VzPyh6PW4uYWRkQnVmZmVyVmlldyhTLlVOU0lHTkVEX0lOVCxPLlNDQUxBUix3LkVMRU1FTlRfQVJSQVlfQlVGRkVSKSx0aGlzLl9hZGRNZXNoVmVydGV4SW5kZXhlZCh6LHQuY29tcG9uZW50cyxaLEQsRyxVLFksUCkpOnRoaXMuX2FkZE1lc2hWZXJ0ZXhOb25JbmRleGVkKHQuY29tcG9uZW50cyxaLEQsRyxVLFksUCksXy5maW5hbGl6ZSgpLGImJmIuZmluYWxpemUoKSxJJiZJLmZpbmFsaXplKCksTiYmTi5maW5hbGl6ZSgpLHomJnouZmluYWxpemUoKSxCJiZCLmZpbmFsaXplKCkscnx8bi5maW5hbGl6ZSgpLFp9X2ZsaXBZWkF4aXMoe3Bvc2l0aW9uOmUsbm9ybWFsOnQsdGFuZ2VudDpzfSl7dGhpcy5fZmxpcFlaQnVmZmVyKGUsMyksdGhpcy5fZmxpcFlaQnVmZmVyKHQsMyksdGhpcy5fZmxpcFlaQnVmZmVyKHMsNCl9X2ZsaXBZWkJ1ZmZlcihlLHQpe2lmKG51bGwhPWUpZm9yKGxldCBzPTEscj0yO3M8ZS5sZW5ndGg7cys9dCxyKz10KXtjb25zdCB0PWVbc10saT1lW3JdO2Vbc109aSxlW3JdPS10fX1fYWRkTWF0ZXJpYWwoZSl7aWYobnVsbD09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fbWF0ZXJpYWxNYXAuaW5kZXhPZihlKTtpZigtMSE9PXQpcmV0dXJuIHQ7dGhpcy5nbHRmLm1hdGVyaWFsc3x8KHRoaXMuZ2x0Zi5tYXRlcmlhbHM9W10pO2NvbnN0IHM9e307c3dpdGNoKGUuYWxwaGFNb2RlKXtjYXNlXCJtYXNrXCI6cy5hbHBoYU1vZGU9SS5NQVNLO2JyZWFrO2Nhc2VcImF1dG9cIjpjYXNlXCJibGVuZFwiOnMuYWxwaGFNb2RlPUkuQkxFTkR9LjUhPT1lLmFscGhhQ3V0b2ZmJiYocy5hbHBoYUN1dG9mZj1lLmFscGhhQ3V0b2ZmKSxlLmRvdWJsZVNpZGVkJiYocy5kb3VibGVTaWRlZD1lLmRvdWJsZVNpZGVkKSxzLnBick1ldGFsbGljUm91Z2huZXNzPXt9O2NvbnN0IHI9ZT0+ZSoqMi4xLGk9ZT0+e2NvbnN0IHQ9ZS50b1JnYmEoKTtyZXR1cm4gdFswXT1yKHRbMF0vMjU1KSx0WzFdPXIodFsxXS8yNTUpLHRbMl09cih0WzJdLzI1NSksdH07aWYobnVsbCE9ZS5jb2xvciYmKHMucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yPWkoZS5jb2xvcikpLG51bGwhPWUuY29sb3JUZXh0dXJlJiYocy5wYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlPXRoaXMuX2NyZWF0ZVRleHR1cmVJbmZvKGUuY29sb3JUZXh0dXJlLGUuY29sb3JUZXh0dXJlVHJhbnNmb3JtKSksbnVsbCE9ZS5ub3JtYWxUZXh0dXJlJiYocy5ub3JtYWxUZXh0dXJlPXRoaXMuX2NyZWF0ZVRleHR1cmVJbmZvKGUubm9ybWFsVGV4dHVyZSxlLm5vcm1hbFRleHR1cmVUcmFuc2Zvcm0pKSxlIGluc3RhbmNlb2YgXyl7aWYobnVsbCE9ZS5lbWlzc2l2ZVRleHR1cmUmJihzLmVtaXNzaXZlVGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlSW5mbyhlLmVtaXNzaXZlVGV4dHVyZSxlLmVtaXNzaXZlVGV4dHVyZVRyYW5zZm9ybSkpLG51bGwhPWUuZW1pc3NpdmVDb2xvcil7Y29uc3QgdD1pKGUuZW1pc3NpdmVDb2xvcik7cy5lbWlzc2l2ZUZhY3Rvcj1bdFswXSx0WzFdLHRbMl1dfW51bGwhPWUub2NjbHVzaW9uVGV4dHVyZSYmKHMub2NjbHVzaW9uVGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlSW5mbyhlLm9jY2x1c2lvblRleHR1cmUsZS5vY2NsdXNpb25UZXh0dXJlVHJhbnNmb3JtKSksbnVsbCE9ZS5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUmJihzLnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlSW5mbyhlLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSxlLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVRyYW5zZm9ybSkpLHMucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3I9ZS5tZXRhbGxpYyxzLnBick1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3Rvcj1lLnJvdWdobmVzc31lbHNlIHMucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3I9MSxzLnBick1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3Rvcj0xLEwud2Fybk9uY2UoXCJNZXNoZXMgZXhwb3J0ZWQgdG8gR0xURiB3aXRob3V0IE1lc2hNYXRlcmlhbE1ldGFsbGljUm91Z2huZXNzIG1hdGVyaWFsIHdpbGwgYXBwZWFyIGRpZmZlcmVudCB3aGVuIGltcG9ydGVkIGJhY2suXCIpO2NvbnN0IGE9dGhpcy5nbHRmLm1hdGVyaWFscy5sZW5ndGg7cmV0dXJuIHRoaXMuZ2x0Zi5tYXRlcmlhbHMucHVzaChzKSx0aGlzLl9tYXRlcmlhbE1hcC5wdXNoKGUpLGF9X2NyZWF0ZVRleHR1cmVJbmZvKGUsdCl7Y29uc3Qgcz17aW5kZXg6dGhpcy5fYWRkVGV4dHVyZShlKX07cmV0dXJuIHQ/KHMuZXh0ZW5zaW9uc3x8KHMuZXh0ZW5zaW9ucz17fSkscy5leHRlbnNpb25zLktIUl90ZXh0dXJlX3RyYW5zZm9ybT17c2NhbGU6dC5zY2FsZSxvZmZzZXQ6dC5vZmZzZXQscm90YXRpb246cih0LnJvdGF0aW9uKX0scyk6c31fYWRkVGV4dHVyZShlKXtjb25zdCB0PXRoaXMuZ2x0Zi50ZXh0dXJlcz8/W107cmV0dXJuIHRoaXMuZ2x0Zi50ZXh0dXJlcz10LHModGhpcy5fdGV4dHVyZU1hcCxlLCgoKT0+e2NvbnN0IHM9e3NhbXBsZXI6dGhpcy5fYWRkU2FtcGxlcihlKSxzb3VyY2U6dGhpcy5fYWRkSW1hZ2UoZSl9LHI9dC5sZW5ndGg7cmV0dXJuIHQucHVzaChzKSxyfSkpfV9hZGRJbWFnZShlKXtjb25zdCB0PXRoaXMuX2ltYWdlTWFwLmdldChlKTtpZihudWxsIT10KXJldHVybiB0O3RoaXMuZ2x0Zi5pbWFnZXN8fCh0aGlzLmdsdGYuaW1hZ2VzPVtdKTtjb25zdCBzPXt9O2lmKGUudXJsKXMudXJpPWUudXJsO2Vsc2V7Y29uc3QgdD1lLmRhdGE7cy5leHRyYXM9dDtmb3IobGV0IGU9MDtlPHRoaXMuZ2x0Zi5pbWFnZXMubGVuZ3RoOysrZSlpZih0PT09dGhpcy5nbHRmLmltYWdlc1tlXS5leHRyYXMpcmV0dXJuIGU7Y29uc3Qgcj10aGlzLmdsdGYuZXh0cmFzO3N3aXRjaChyLm9wdGlvbnMuaW1hZ2VPdXRwdXRUeXBlKXtjYXNlIGIuR0xCOntjb25zdCBlPXIuYmluQ2h1bmtCdWZmZXIuYWRkQnVmZmVyVmlldyhTLlVOU0lHTkVEX0JZVEUsTy5TQ0FMQVIpO2lmKEModCkpbnVsbCE9dC5kYXRhJiZlLndyaXRlT3V0VG9CdWZmZXIodC5kYXRhLDApO2Vsc2V7Y29uc3Qgcj1OKHQpLnRoZW4oKCh7ZGF0YTplLHR5cGU6dH0pPT4ocy5taW1lVHlwZT10LGUpKSk7ZS53cml0ZUFzeW5jKHIpLnRoZW4oKCgpPT57ZS5maW5hbGl6ZSgpfSkpfXMuYnVmZmVyVmlldz1lLmluZGV4O2JyZWFrfWNhc2UgYi5EYXRhVVJJOmlmKEModCkpe0wud2Fybk9uY2UoXCJJbWFnZSBleHBvcnQgZm9yIGJhc2lzIGNvbXByZXNzZWQgdGV4dHVyZXMgbm90IGF2YWlsYWJsZS5cIik7YnJlYWt9cy51cmk9Qih0KTticmVhaztkZWZhdWx0OmlmKEModCkpe0wud2Fybk9uY2UoXCJJbWFnZSBleHBvcnQgZm9yIGJhc2lzIGNvbXByZXNzZWQgdGV4dHVyZXMgbm90IGF2YWlsYWJsZS5cIik7YnJlYWt9ci5wcm9taXNlcy5wdXNoKE4odCkudGhlbigoKHtkYXRhOmUsdHlwZTp0fSk9PntzLnVyaT1lLHMubWltZVR5cGU9dH0pKSl9fWNvbnN0IHI9dGhpcy5nbHRmLmltYWdlcy5sZW5ndGg7cmV0dXJuIHRoaXMuZ2x0Zi5pbWFnZXMucHVzaChzKSx0aGlzLl9pbWFnZU1hcC5zZXQoZSxyKSxyfV9hZGRTYW1wbGVyKGUpe3RoaXMuZ2x0Zi5zYW1wbGVyc3x8KHRoaXMuZ2x0Zi5zYW1wbGVycz1bXSk7bGV0IHQ9di5SRVBFQVQscz12LlJFUEVBVDtpZihcInN0cmluZ1wiPT10eXBlb2YgZS53cmFwKXN3aXRjaChlLndyYXApe2Nhc2VcImNsYW1wXCI6dD12LkNMQU1QX1RPX0VER0Uscz12LkNMQU1QX1RPX0VER0U7YnJlYWs7Y2FzZVwibWlycm9yXCI6dD12Lk1JUlJPUkVEX1JFUEVBVCxzPXYuTUlSUk9SRURfUkVQRUFUfWVsc2V7c3dpdGNoKGUud3JhcC52ZXJ0aWNhbCl7Y2FzZVwiY2xhbXBcIjpzPXYuQ0xBTVBfVE9fRURHRTticmVhaztjYXNlXCJtaXJyb3JcIjpzPXYuTUlSUk9SRURfUkVQRUFUfXN3aXRjaChlLndyYXAuaG9yaXpvbnRhbCl7Y2FzZVwiY2xhbXBcIjp0PXYuQ0xBTVBfVE9fRURHRTticmVhaztjYXNlXCJtaXJyb3JcIjp0PXYuTUlSUk9SRURfUkVQRUFUfX1jb25zdCByPXt3cmFwUzp0LHdyYXBUOnN9O2ZvcihsZXQgYT0wO2E8dGhpcy5nbHRmLnNhbXBsZXJzLmxlbmd0aDsrK2EpaWYoSlNPTi5zdHJpbmdpZnkocik9PT1KU09OLnN0cmluZ2lmeSh0aGlzLmdsdGYuc2FtcGxlcnNbYV0pKXJldHVybiBhO2NvbnN0IGk9dGhpcy5nbHRmLnNhbXBsZXJzLmxlbmd0aDtyZXR1cm4gdGhpcy5nbHRmLnNhbXBsZXJzLnB1c2gociksaX1fYWRkQWNjZXNzb3IoZSx0KXt0aGlzLmdsdGYuYWNjZXNzb3JzfHwodGhpcy5nbHRmLmFjY2Vzc29ycz1bXSk7Y29uc3Qgcz17YnVmZmVyVmlldzplLGJ5dGVPZmZzZXQ6dC5ieXRlT2Zmc2V0LGNvbXBvbmVudFR5cGU6dC5jb21wb25lbnRUeXBlLGNvdW50OnQuY291bnQsdHlwZTp0LnR5cGUsbWluOnQubWluLG1heDp0Lm1heCxuYW1lOnQubmFtZX07dC5ub3JtYWxpemVkJiYocy5ub3JtYWxpemVkPSEwKTtjb25zdCByPXRoaXMuZ2x0Zi5hY2Nlc3NvcnMubGVuZ3RoO3JldHVybiB0aGlzLmdsdGYuYWNjZXNzb3JzLnB1c2gocykscn1fYWRkTWVzaFZlcnRleEluZGV4ZWQoZSx0LHMscixpLGEsbyxuKXtjb25zdCBsPW5ldyBNYXA7Zm9yKGNvbnN0IGMgb2YgdCl7ZS5zdGFydEFjY2Vzc29yKFwiSU5ESUNFU1wiKTtmb3IobGV0IHM9MDtzPGMuZmFjZXMubGVuZ3RoOysrcyllLnB1c2goYy5mYWNlc1tzXSk7Y29uc3QgdD1lLmVuZEFjY2Vzc29yKCksaD17YXR0cmlidXRlczp7UE9TSVRJT046cn0saW5kaWNlczp0aGlzLl9hZGRBY2Nlc3NvcihlLmluZGV4LHQpLG1hdGVyaWFsOnRoaXMuX2FkZE1hdGVyaWFsKGMubWF0ZXJpYWwpfTtpJiZcImZsYXRcIiE9PWMuc2hhZGluZyYmKGguYXR0cmlidXRlcy5OT1JNQUw9aSksYSYmKGguYXR0cmlidXRlcy5URVhDT09SRF8wPWEpLG8mJlwiZmxhdFwiIT09Yy5zaGFkaW5nJiYoaC5hdHRyaWJ1dGVzLlRBTkdFTlQ9byksbiYmKGguYXR0cmlidXRlcy5DT0xPUl8wPW4pO2NvbnN0IHU9bC5nZXQoYy5uYW1lKTtpZih1KXUucHJpbWl0aXZlcy5wdXNoKGgpO2Vsc2V7Y29uc3QgZT17bmFtZTpjLm5hbWUscHJpbWl0aXZlczpbaF19O2wuc2V0KGMubmFtZSxlKSxzLnB1c2goZSl9fX1fYWRkTWVzaFZlcnRleE5vbkluZGV4ZWQoZSx0LHMscixpLGEsbyl7Y29uc3Qgbj17cHJpbWl0aXZlczpbXX07dC5wdXNoKG4pO2NvbnN0IGw9e2F0dHJpYnV0ZXM6e1BPU0lUSU9OOnN9fTtyJiYobC5hdHRyaWJ1dGVzLk5PUk1BTD1yKSxpJiYobC5hdHRyaWJ1dGVzLlRFWENPT1JEXzA9aSksYSYmKGwuYXR0cmlidXRlcy5UQU5HRU5UPWEpLG8mJihsLmF0dHJpYnV0ZXMuQ09MT1JfMD1vKSxlJiYobC5tYXRlcmlhbD10aGlzLl9hZGRNYXRlcmlhbChlWzBdLm1hdGVyaWFsKSksbi5wcmltaXRpdmVzLnB1c2gobCl9fWNvbnN0IEY9bigpO2V4cG9ydHt5IGFzIEdMVEZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkb3dubG9hZEJsb2JBc0ZpbGUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2V4cG9ydEdMQiBhcyBvLG1vZGVsTmFtZUdsYiBhcyB0fWZyb21cIi4vaW5kZXguanNcIjtpbXBvcnR7Tm9kZSBhcyByfWZyb21cIi4vbm9kZS5qc1wiO2ltcG9ydHtBc3NldCBhcyBpfWZyb21cIi4vYXNzZXQuanNcIjtpbXBvcnR7U2NlbmUgYXMgbn1mcm9tXCIuL3NjZW5lLmpzXCI7Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlLG8pe3RoaXMuX2ZpbGU9e3R5cGU6XCJtb2RlbC9nbHRmLWJpbmFyeVwiLGRhdGE6ZX0sdGhpcy5vcmlnaW49b31idWZmZXIoKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2ZpbGUpfWRvd25sb2FkKG8pe2UobmV3IEJsb2IoW3RoaXMuX2ZpbGUuZGF0YV0se3R5cGU6dGhpcy5fZmlsZS50eXBlfSksbyl9fWZ1bmN0aW9uIGYoZSxmKXtjb25zdCBkPW5ldyBpLGw9bmV3IG47cmV0dXJuIGQuYWRkU2NlbmUobCksbC5hZGROb2RlKG5ldyByKGUpKSxvKGQsZikudGhlbigoZT0+bmV3IHMoZVt0XSxlLm9yaWdpbikpKX1leHBvcnR7ZiBhcyB0b0JpbmFyeUdMVEZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2lzRGF0YVByb3RvY29sIGFzIHQsZGF0YUNvbXBvbmVudHMgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7ZnVuY3Rpb24gYShlKXtjb25zdCB0PW8oZSk7cmV0dXJuIG51bGwhPXQ/dC50b0RhdGFVUkwoKTpcIlwifWFzeW5jIGZ1bmN0aW9uIHIodCl7Y29uc3Qgbj1vKHQpO2lmKG51bGw9PW4pdGhyb3cgbmV3IGUoXCJpbWFnZVRvQXJyYXlCdWZmZXJcIixcIlVuc3VwcG9ydGVkIGltYWdlIHR5cGVcIik7Y29uc3QgYT1hd2FpdCBpKHQpLHI9YXdhaXQgbmV3IFByb21pc2UoKGU9Pm4udG9CbG9iKGUsYSkpKTtpZighcil0aHJvdyBuZXcgZShcImltYWdlVG9BcnJheUJ1ZmZlclwiLFwiRmFpbGVkIHRvIGVuY29kZSBpbWFnZVwiKTtyZXR1cm57ZGF0YTphd2FpdCByLmFycmF5QnVmZmVyKCksdHlwZTphfX1hc3luYyBmdW5jdGlvbiBpKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKXJldHVyblwiaW1hZ2UvcG5nXCI7Y29uc3QgYT1lLnNyYztpZih0KGEpKXtjb25zdCBlPW4oYSk7cmV0dXJuXCJpbWFnZS9qcGVnXCI9PT1lPy5tZWRpYVR5cGU/ZS5tZWRpYVR5cGU6XCJpbWFnZS9wbmdcIn1yZXR1cm4vXFwucG5nJC9pLnRlc3QoYSk/XCJpbWFnZS9wbmdcIjovXFwuKGpwZ3xqcGVnKSQvaS50ZXN0KGEpP1wiaW1hZ2UvanBlZ1wiOlwiaW1hZ2UvcG5nXCJ9ZnVuY3Rpb24gbyhlKXtpZihlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpcmV0dXJuIGU7aWYoZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpcmV0dXJuIG51bGw7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Qud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodDtjb25zdCBuPXQuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9uLmRyYXdJbWFnZShlLDAsMCxlLndpZHRoLGUuaGVpZ2h0KTplIGluc3RhbmNlb2YgSW1hZ2VEYXRhJiZuLnB1dEltYWdlRGF0YShlLDAsMCksdH1mdW5jdGlvbiBjKGUpe2NvbnN0IHQ9W10sbj1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKyl0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShuW2FdKSk7cmV0dXJuXCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsXCIrYnRvYSh0LmpvaW4oXCJcIikpfWZ1bmN0aW9uIGcoZSl7aWYoZS5ieXRlTGVuZ3RoPDgpcmV0dXJuITE7Y29uc3QgdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gMTM3PT09dFswXSYmODA9PT10WzFdJiY3OD09PXRbMl0mJjcxPT09dFszXSYmMTM9PT10WzRdJiYxMD09PXRbNV0mJjI2PT09dFs2XSYmMTA9PT10WzddfWV4cG9ydHtjIGFzIGVuY29kZUJhc2U2NERhdGFVcmksciBhcyBpbWFnZVRvQXJyYXlCdWZmZXIsYSBhcyBpbWFnZVRvRGF0YVVSSSxvIGFzIGltYWdlVHlwZVRvQ2FudmFzLGcgYXMgaXNBcnJheUJ1ZmZlclBOR307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vUG9pbnQuanNcIjtpbXBvcnR7R0xCIGFzIHR9ZnJvbVwiLi9nbGIuanNcIjtpbXBvcnR7R0xURiBhcyByfWZyb21cIi4vZ2x0Zi5qc1wiO2ltcG9ydHtJbWFnZU91dHB1dFR5cGUgYXMgbyxCdWZmZXJPdXRwdXRUeXBlIGFzIG59ZnJvbVwiLi90eXBlcy5qc1wiO2V4cG9ydHtBbHBoYU1vZGUsQXR0cmlidXRlVHlwZSxDb2xvck1vZGUsTWVzaE1vZGV9ZnJvbVwiLi90eXBlcy5qc1wiO2ltcG9ydHtpc0FycmF5QnVmZmVyUE5HIGFzIHMsZW5jb2RlQmFzZTY0RGF0YVVyaSBhcyBpfWZyb21cIi4vaW1hZ2V1dGlscy5qc1wiO2V4cG9ydHtBc3NldH1mcm9tXCIuL2Fzc2V0LmpzXCI7ZXhwb3J0e1NjZW5lfWZyb21cIi4vc2NlbmUuanNcIjtleHBvcnR7Tm9kZX1mcm9tXCIuL25vZGUuanNcIjtjb25zdCBhPVwibW9kZWwuZ2x0ZlwiLGY9XCJtb2RlbC5nbGJcIjthc3luYyBmdW5jdGlvbiB1KHUscCxtKXtjb25zdCBjPW5ldyByKHUscD1wfHx7fSxtKTtsZXQgbD1jLnBhcmFtcztsP2wub3JpZ2lufHwobC5vcmlnaW49bmV3IGUoe3g6LTEseTotMSx6Oi0xfSkpOmw9e29yaWdpbjpuZXcgZSh7eDotMSx5Oi0xLHo6LTF9KX07Y29uc3QgZz1sLm9yaWdpbix5PWMuZ2x0ZixkPXkuZXh0cmFzPy5wcm9taXNlcz8/W107bGV0IGo9MSx4PTEsYj1udWxsO2F3YWl0IFByb21pc2UuYWxsU2V0dGxlZChkKTtjb25zdCB3PXtvcmlnaW46Z307ZGVsZXRlIHkuZXh0cmFzO2NvbnN0IEI9XCJudW1iZXJcIj09dHlwZW9mIHAuanNvblNwYWNpbmc/cC5qc29uU3BhY2luZzo0LGg9SlNPTi5zdHJpbmdpZnkoeSwoKGUsdCk9PntpZihcImV4dHJhc1wiIT09ZSl7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtpZihzKHQpKXN3aXRjaChwLmltYWdlT3V0cHV0VHlwZSl7Y2FzZSBvLkRhdGFVUkk6Y2FzZSBvLkdMQjpicmVhaztjYXNlIG8uRXh0ZXJuYWw6ZGVmYXVsdDp7Y29uc3QgZT1gaW1nJHt4fS5wbmdgO3JldHVybiB4Kyssd1tlXT10LGV9fXN3aXRjaChwLmJ1ZmZlck91dHB1dFR5cGUpe2Nhc2Ugbi5EYXRhVVJJOnJldHVybiBpKHQpO2Nhc2Ugbi5HTEI6aWYoYil0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IGVuY291bnRlcmVkIGFuIEFycmF5QnVmZmVyLCB0aGVyZSBzaG91bGQgb25seSBiZSBvbmUgaW4gdGhlIEdMQiBmb3JtYXQuXCIpO3JldHVybiB2b2lkKGI9dCk7Y2FzZSBuLkV4dGVybmFsOmRlZmF1bHQ6e2NvbnN0IGU9YGRhdGEke2p9LmJpbmA7cmV0dXJuIGorKyx3W2VdPXQsZX19fXJldHVybiB0fX0pLEIpO3JldHVybiBwLmJ1ZmZlck91dHB1dFR5cGU9PT1uLkdMQnx8cC5pbWFnZU91dHB1dFR5cGU9PT1vLkdMQj93W2ZdPW5ldyB0KGgsYikuYnVmZmVyOndbYV09aCx3fWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gdShlLHtidWZmZXJPdXRwdXRUeXBlOm4uR0xCLGltYWdlT3V0cHV0VHlwZTpvLkdMQixqc29uU3BhY2luZzowfSx0KX1leHBvcnR7biBhcyBCdWZmZXJPdXRwdXRUeXBlLG8gYXMgSW1hZ2VPdXRwdXRUeXBlLHAgYXMgZXhwb3J0R0xCLHUgYXMgZXhwb3J0R0xURixmIGFzIG1vZGVsTmFtZUdsYixhIGFzIG1vZGVsTmFtZUdsdGZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtrIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3F1YXQuanNcIjtpbXBvcnR7YSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9xdWF0ZjY0LmpzXCI7aW1wb3J0e2MgYXMgbyxnIGFzIGEsTyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7Y2xhc3MgaXtjb25zdHJ1Y3RvcihzKXt0aGlzLm1lc2g9cyx0aGlzLm5hbWU9XCJcIix0aGlzLnRyYW5zbGF0aW9uPW8oKSx0aGlzLnJvdGF0aW9uPXQoKSx0aGlzLnNjYWxlPWEociksdGhpcy5fbm9kZXM9W119YWRkTm9kZShzKXtpZih0aGlzLl9ub2Rlcy5pbmNsdWRlcyhzKSl0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIGFscmVhZHkgYWRkZWRcIik7dGhpcy5fbm9kZXMucHVzaChzKX1mb3JFYWNoTm9kZShzKXt0aGlzLl9ub2Rlcy5mb3JFYWNoKHMpfXNldCByb3RhdGlvbkFuZ2xlcyh0KXtzKHRoaXMucm90YXRpb24sdFswXSx0WzFdLHRbMl0pfX1leHBvcnR7aSBhcyBOb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBke2NvbnN0cnVjdG9yKCl7dGhpcy5uYW1lPVwiXCIsdGhpcy5fbm9kZXM9W119YWRkTm9kZShkKXtpZih0aGlzLl9ub2Rlcy5pbmNsdWRlcyhkKSl0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIGFscmVhZHkgYWRkZWRcIik7dGhpcy5fbm9kZXMucHVzaChkKX1mb3JFYWNoTm9kZShkKXt0aGlzLl9ub2Rlcy5mb3JFYWNoKGQpfX1leHBvcnR7ZCBhcyBTY2VuZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIEUsQSxSLEwsbyxJLE47IWZ1bmN0aW9uKEUpe0VbRS5FeHRlcm5hbD0wXT1cIkV4dGVybmFsXCIsRVtFLkRhdGFVUkk9MV09XCJEYXRhVVJJXCIsRVtFLkdMQj0yXT1cIkdMQlwifShFfHwoRT17fSkpLGZ1bmN0aW9uKEUpe0VbRS5FeHRlcm5hbD0wXT1cIkV4dGVybmFsXCIsRVtFLkRhdGFVUkk9MV09XCJEYXRhVVJJXCIsRVtFLkdMQj0yXT1cIkdMQlwifShBfHwoQT17fSkpLGZ1bmN0aW9uKEUpe0VbRS5BUlJBWV9CVUZGRVI9MzQ5NjJdPVwiQVJSQVlfQlVGRkVSXCIsRVtFLkVMRU1FTlRfQVJSQVlfQlVGRkVSPTM0OTYzXT1cIkVMRU1FTlRfQVJSQVlfQlVGRkVSXCJ9KFJ8fChSPXt9KSksZnVuY3Rpb24oRSl7RS5TQ0FMQVI9XCJTQ0FMQVJcIixFLlZFQzI9XCJWRUMyXCIsRS5WRUMzPVwiVkVDM1wiLEUuVkVDND1cIlZFQzRcIixFLk1BVDI9XCJNQVQyXCIsRS5NQVQzPVwiTUFUM1wiLEUuTUFUND1cIk1BVDRcIn0oTHx8KEw9e30pKSxmdW5jdGlvbihFKXtFW0UuUE9JTlRTPTBdPVwiUE9JTlRTXCIsRVtFLkxJTkVTPTFdPVwiTElORVNcIixFW0UuTElORV9MT09QPTJdPVwiTElORV9MT09QXCIsRVtFLkxJTkVfU1RSSVA9M109XCJMSU5FX1NUUklQXCIsRVtFLlRSSUFOR0xFUz00XT1cIlRSSUFOR0xFU1wiLEVbRS5UUklBTkdMRV9TVFJJUD01XT1cIlRSSUFOR0xFX1NUUklQXCIsRVtFLlRSSUFOR0xFX0ZBTj02XT1cIlRSSUFOR0xFX0ZBTlwifShvfHwobz17fSkpLGZ1bmN0aW9uKEUpe0UuT1BBUVVFPVwiT1BBUVVFXCIsRS5NQVNLPVwiTUFTS1wiLEUuQkxFTkQ9XCJCTEVORFwifShJfHwoST17fSkpLGZ1bmN0aW9uKEUpe0VbRS5Ob0NvbG9yPTBdPVwiTm9Db2xvclwiLEVbRS5GYWNlQ29sb3I9MV09XCJGYWNlQ29sb3JcIixFW0UuVmVydGV4Q29sb3I9Ml09XCJWZXJ0ZXhDb2xvclwifShOfHwoTj17fSkpO2V4cG9ydHtJIGFzIEFscGhhTW9kZSxMIGFzIEF0dHJpYnV0ZVR5cGUsRSBhcyBCdWZmZXJPdXRwdXRUeXBlLE4gYXMgQ29sb3JNb2RlLEEgYXMgSW1hZ2VPdXRwdXRUeXBlLG8gYXMgTWVzaE1vZGUsUiBhcyBUYXJnZXRCdWZmZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9