"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_layers_save_imageryUtils_js"],{

/***/ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/originUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateOrigins: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../multiOriginJSONSupportUtils.js */ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{(0,_multiOriginJSONSupportUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultiOriginJSONMixin)(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMultiOriginJSONMixin: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/save/imageryUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/save/imageryUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   save: () => (/* binding */ u),
/* harmony export */   saveAs: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/layers/save/utils.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="Image Service",l="imagery-layer-save",y="imagery-layer-save-as",n="imagery-tile-layer-save",o="imagery-tile-layer-save-as";function m(e){if("imagery"===e.type)return{isValid:!0};const{raster:t}=e,r="Function"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:"RasterTileServer"===r?.datasetFormat&&("Raster"===r.tileType||"Map"===r.tileType),errorMessage:"imagery tile layer should be created from a tiled image service."}}function c(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function p(e,t){const{parsedUrl:s,title:l,fullExtent:y}=e;t.url=s.path,t.title||=l,t.extent=await (0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_1__.getWGS84ExtentForItem)(y),"imagery-tile"===e.type&&(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_1__.addTypeKeyword)(t,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_1__.TypeKeyword.TILED_IMAGERY)}async function u(t,r){const a="imagery"===t.type?l:n;return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.save)({layer:t,itemType:s,validateLayer:m,createItemData:c,errorNamePrefix:a},r)}async function g(e,r,a){const i="imagery"===e.type?y:o;return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.saveAs)({layer:e,itemType:s,validateLayer:m,createItemData:c,errorNamePrefix:i,newItem:r,setItemProperties:p},a)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/save/utils.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/save/utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addItem: () => (/* binding */ v),
/* harmony export */   createErrorMessage: () => (/* binding */ m),
/* harmony export */   ensureItemConfig: () => (/* binding */ d),
/* harmony export */   ensureLayerConfig: () => (/* binding */ l),
/* harmony export */   getLayerJSON: () => (/* binding */ y),
/* harmony export */   getPortalItem: () => (/* binding */ u),
/* harmony export */   save: () => (/* binding */ I),
/* harmony export */   saveAs: () => (/* binding */ b),
/* harmony export */   setCommonItemProperties: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/originUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/originUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../portal/support/jsonContext.js */ "./node_modules/@arcgis/core/portal/support/jsonContext.js");
/* harmony import */ var _portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../portal/support/portalItemUtils.js */ "./node_modules/@arcgis/core/portal/support/portalItemUtils.js");
/* harmony import */ var _webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webdoc/saveAPIKeyUtils.js */ "./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(t,r,o){const a=o(t);if(!a.isValid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${r}:invalid-parameters`,a.errorMessage,{layer:t})}async function p(e){const{layer:t,errorNamePrefix:r,validateLayer:o}=e;await t.load(),l(t,r,o)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,itemType:o,errorNamePrefix:a,layer:i,validateItem:n}=t;if((0,_webdoc_saveAPIKeyUtils_js__WEBPACK_IMPORTED_MODULE_6__.validateSaveAPIKey)(r),r.type!==o)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${a}:portal-item-wrong-type`,`Portal item type should be "${o}"`,{item:r,layer:i});if(n){const t=n(r);if(!t.isValid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${a}:invalid-parameters`,t.errorMessage,{layer:i})}}function d(t){const{layer:r,errorNamePrefix:o}=t,{portalItem:a}=r;if(!a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${o}:portal-item-not-set`,m(r,"requires the portalItem property to be set"));if(!a.loaded)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](`${o}:portal-item-not-loaded`,m(r,"cannot be saved to a portal item that does not exist or is inaccessible"));c({...t,item:a})}function u(e){const{newItem:t,itemType:a}=e;let i=_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_3__["default"].from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=a,i.portal??=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_2__["default"].getDefault(),c({...e,item:i}),i}function f(t,r){let o=(t.messages??[]).filter((({type:e})=>"error"===e)).map((({name:t,message:r,details:o})=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"](t,r,o)));if(t.blockedRelativeUrls&&(o=o.concat(t.blockedRelativeUrls.map((t=>new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("url:unsupported",`Relative url '${t}' is not supported`))))),r?.ignoreUnsupported&&(o=o.filter((({name:e})=>"layer:unsupported"!==e&&"symbol:unsupported"!==e&&"symbol-layer:unsupported"!==e&&"property:unsupported"!==e&&"url:unsupported"!==e))),o.length>0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("layer-write:unsupported","Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:o})}async function y(e,t,r){"beforeSave"in e&&"function"==typeof e.beforeSave&&await e.beforeSave();const o=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),f(t,r),o}function w(e){(0,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.addTypeKeyword)(e,_portal_support_portalItemUtils_js__WEBPACK_IMPORTED_MODULE_5__.TypeKeyword.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const o=e.portal;await o.signIn(),await(o.user?.addItem({item:e,data:t,folder:r?.folder}))}async function I(e,r){const{layer:o,createItemData:i,createJSONContext:n,saveResources:s}=e;await p(e),d(e);const l=o.portalItem,m=n?n(l):(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_4__.createForItemWrite)(l),c=await y(o,m,r),u=await i({layer:o,layerJSON:c},l);return w(l),await l.update({data:u}),(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_1__.updateOrigins)(m),await(s?.(l,m)),l}async function b(e,r){const{layer:o,createItemData:i,createJSONContext:n,setItemProperties:s,saveResources:l}=e;await p(e);const m=u(e),c=n?n(m):(0,_portal_support_jsonContext_js__WEBPACK_IMPORTED_MODULE_4__.createForItemWrite)(m),d=await y(o,c,r),f=await i({layer:o,layerJSON:d},m);return await s(o,m),w(m),await v(m,f,r),o.portalItem=m,(0,_core_accessorSupport_originUtils_js__WEBPACK_IMPORTED_MODULE_1__.updateOrigins)(c),await(l?.(m,c)),m}


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/jsonContext.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/jsonContext.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createForGroupLayerItemRead: () => (/* binding */ l),
/* harmony export */   createForGroupLayerItemWrite: () => (/* binding */ a),
/* harmony export */   createForItemRead: () => (/* binding */ e),
/* harmony export */   createForItemWrite: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _Portal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){return{origin:"portal-item",url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl),portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl);return{origin:"portal-item",messages:[],writtenProperties:[],url:o,portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:"web-map",url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl),portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,readResourcePaths:[]}}function a(e,o){const l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__.urlToObject)(e.itemUrl);return{origin:"web-map",messages:[],writtenProperties:[],url:l,portal:e.portal||_Portal_js__WEBPACK_IMPORTED_MODULE_1__["default"].getDefault(),portalItem:e,initiator:o,verifyItemRelativeUrls:l?{rootPath:l.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validateSaveAPIKey: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../support/apiKeyUtils.js */ "./node_modules/@arcgis/core/support/apiKeyUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){if(_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].apiKey&&(0,_support_apiKeyUtils_js__WEBPACK_IMPORTED_MODULE_2__.supportsApiKey)(i.portal.url))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("save-api-key-utils:api-key-not-supported",`Saving is not supported on ${i.portal.url} when using an api key`)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19zYXZlX2ltYWdlcnlVdGlsc19qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMyRSxjQUFjLHFEQUFxRCxnQ0FBZ0MsSUFBSSx1RkFBQywrQ0FBK0MsR0FBOEI7Ozs7Ozs7Ozs7Ozs7OztBQ0poUTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQWdGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKOUY7QUFDQTtBQUNBO0FBQ0E7QUFDbUssb0lBQW9JLGNBQWMsNkJBQTZCLFlBQVksTUFBTSxTQUFTLGtFQUFrRSxPQUFPLDRLQUE0SyxjQUFjLG9CQUFvQix3REFBd0Qsc0JBQXNCLE1BQU0saUNBQWlDLEdBQUcsd0NBQXdDLHlGQUFDLDZCQUE2QixrRkFBQyxHQUFHLDJFQUFDLGdCQUFnQixzQkFBc0IsK0JBQStCLE9BQU8sK0NBQUMsRUFBRSxzRUFBc0UsSUFBSSx3QkFBd0IsK0JBQStCLE9BQU8saURBQUMsRUFBRSxvR0FBb0csSUFBa0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2cUM7QUFDQTtBQUNBO0FBQ0E7QUFDcWEsa0JBQWtCLGFBQWEsd0JBQXdCLHNEQUFDLElBQUksRUFBRSxxQ0FBcUMsUUFBUSxFQUFFLG9CQUFvQixNQUFNLDBDQUEwQyxHQUFHLHdCQUF3QixnQkFBZ0IsdUJBQXVCLFFBQVEsUUFBUSxLQUFLLGFBQWEsZ0JBQWdCLElBQUksRUFBRSxFQUFFLGNBQWMsTUFBTSwyREFBMkQsR0FBRyxHQUFHLDhFQUFDLHlCQUF5QixzREFBQyxJQUFJLEVBQUUsd0RBQXdELEVBQUUsSUFBSSxlQUFlLEVBQUUsTUFBTSxhQUFhLHdCQUF3QixzREFBQyxJQUFJLEVBQUUscUNBQXFDLFFBQVEsR0FBRyxjQUFjLE1BQU0sMEJBQTBCLElBQUksYUFBYSxHQUFHLGdCQUFnQixzREFBQyxJQUFJLEVBQUUseUVBQXlFLHVCQUF1QixzREFBQyxJQUFJLEVBQUUseUdBQXlHLEdBQUcsWUFBWSxFQUFFLGNBQWMsTUFBTSxxQkFBcUIsR0FBRyxNQUFNLDZEQUFDLFNBQVMsMkRBQTJELHlEQUFDLGlCQUFpQixZQUFZLElBQUksZ0JBQWdCLGlDQUFpQyxPQUFPLHdCQUF3QiwyQkFBMkIsT0FBTyxzREFBQyxVQUFVLHdFQUF3RSxzREFBQyxvQ0FBb0MsRUFBRSw4REFBOEQsT0FBTyxnS0FBZ0ssc0RBQUMsNklBQTZJLFNBQVMsRUFBRSx3QkFBd0Isd0VBQXdFLGtCQUFrQixJQUFJLHNFQUFzRSxjQUFjLGtGQUFDLEdBQUcsMkVBQUMsNEZBQTRGLHdCQUF3QixpQkFBaUIsd0NBQXdDLCtCQUErQixHQUFHLHNCQUFzQixNQUFNLDZEQUE2RCxHQUFHLGdCQUFnQiw4QkFBOEIsa0ZBQUMsZ0NBQWdDLG9CQUFvQixJQUFJLDRCQUE0QixPQUFPLEVBQUUsbUZBQUMsc0JBQXNCLHNCQUFzQixNQUFNLGlGQUFpRixHQUFHLFdBQVcsc0JBQXNCLGtGQUFDLGdDQUFnQyxvQkFBb0IsSUFBSSx1REFBdUQsbUZBQUMsc0JBQXdNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3cEc7QUFDQTtBQUNBO0FBQ0E7QUFDaUYsY0FBYyxPQUFPLHlCQUF5Qiw4REFBQyw2QkFBNkIsa0RBQUMsaURBQWlELGNBQWMsUUFBUSw4REFBQyxZQUFZLE9BQU8sNkVBQTZFLGtEQUFDLHFEQUFxRCwrQkFBK0IsOEJBQThCLGNBQWMsT0FBTyxxQkFBcUIsOERBQUMsNkJBQTZCLGtEQUFDLGlEQUFpRCxnQkFBZ0IsUUFBUSw4REFBQyxZQUFZLE9BQU8seUVBQXlFLGtEQUFDLGlFQUFpRSwrQkFBK0Isd0NBQXdDLHNEQUFnTDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmorQjtBQUNBO0FBQ0E7QUFDQTtBQUN1SCxjQUFjLEdBQUcsa0RBQUMsU0FBUyx1RUFBQyx5QkFBeUIsc0RBQUMsMEVBQTBFLGNBQWMsd0JBQXdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvYWNjZXNzb3JTdXBwb3J0L29yaWdpblV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL211bHRpT3JpZ2luSlNPTlN1cHBvcnRVdGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3NhdmUvaW1hZ2VyeVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc2F2ZS91dGlscy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcG9ydGFsL3N1cHBvcnQvanNvbkNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYmRvYy9zYXZlQVBJS2V5VXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc011bHRpT3JpZ2luSlNPTk1peGluIGFzIHJ9ZnJvbVwiLi4vbXVsdGlPcmlnaW5KU09OU3VwcG9ydFV0aWxzLmpzXCI7ZnVuY3Rpb24gaShpKXtpPy53cml0dGVuUHJvcGVydGllcyYmaS53cml0dGVuUHJvcGVydGllcy5mb3JFYWNoKCgoe3RhcmdldDppLHByb3BOYW1lOnQsbmV3T3JpZ2luOmV9KT0+e3IoaSkmJmUmJmkub3JpZ2luT2YodCkhPT1lJiZpLnVwZGF0ZU9yaWdpbih0LGUpfSkpfWV4cG9ydHtpIGFzIHVwZGF0ZU9yaWdpbnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGkoaSl7cmV0dXJuIGkmJlwiZ2V0QXRPcmlnaW5cImluIGkmJlwib3JpZ2luT2ZcImluIGl9ZXhwb3J0e2kgYXMgaXNNdWx0aU9yaWdpbkpTT05NaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3NhdmUgYXMgZSxzYXZlQXMgYXMgdH1mcm9tXCIuL3V0aWxzLmpzXCI7aW1wb3J0e2dldFdHUzg0RXh0ZW50Rm9ySXRlbSBhcyByLGFkZFR5cGVLZXl3b3JkIGFzIGEsVHlwZUtleXdvcmQgYXMgaX1mcm9tXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9wb3J0YWxJdGVtVXRpbHMuanNcIjtjb25zdCBzPVwiSW1hZ2UgU2VydmljZVwiLGw9XCJpbWFnZXJ5LWxheWVyLXNhdmVcIix5PVwiaW1hZ2VyeS1sYXllci1zYXZlLWFzXCIsbj1cImltYWdlcnktdGlsZS1sYXllci1zYXZlXCIsbz1cImltYWdlcnktdGlsZS1sYXllci1zYXZlLWFzXCI7ZnVuY3Rpb24gbShlKXtpZihcImltYWdlcnlcIj09PWUudHlwZSlyZXR1cm57aXNWYWxpZDohMH07Y29uc3R7cmFzdGVyOnR9PWUscj1cIkZ1bmN0aW9uXCI9PT10Py5kYXRhc2V0Rm9ybWF0P3QucHJpbWFyeVJhc3RlcnM/LnJhc3RlcnNbMF06dDtyZXR1cm57aXNWYWxpZDpcIlJhc3RlclRpbGVTZXJ2ZXJcIj09PXI/LmRhdGFzZXRGb3JtYXQmJihcIlJhc3RlclwiPT09ci50aWxlVHlwZXx8XCJNYXBcIj09PXIudGlsZVR5cGUpLGVycm9yTWVzc2FnZTpcImltYWdlcnkgdGlsZSBsYXllciBzaG91bGQgYmUgY3JlYXRlZCBmcm9tIGEgdGlsZWQgaW1hZ2Ugc2VydmljZS5cIn19ZnVuY3Rpb24gYyhlKXtjb25zdCB0PWUubGF5ZXJKU09OO3JldHVybiBQcm9taXNlLnJlc29sdmUodCYmT2JqZWN0LmtleXModCkubGVuZ3RoP3Q6bnVsbCl9YXN5bmMgZnVuY3Rpb24gcChlLHQpe2NvbnN0e3BhcnNlZFVybDpzLHRpdGxlOmwsZnVsbEV4dGVudDp5fT1lO3QudXJsPXMucGF0aCx0LnRpdGxlfHw9bCx0LmV4dGVudD1hd2FpdCByKHkpLFwiaW1hZ2VyeS10aWxlXCI9PT1lLnR5cGUmJmEodCxpLlRJTEVEX0lNQUdFUlkpfWFzeW5jIGZ1bmN0aW9uIHUodCxyKXtjb25zdCBhPVwiaW1hZ2VyeVwiPT09dC50eXBlP2w6bjtyZXR1cm4gZSh7bGF5ZXI6dCxpdGVtVHlwZTpzLHZhbGlkYXRlTGF5ZXI6bSxjcmVhdGVJdGVtRGF0YTpjLGVycm9yTmFtZVByZWZpeDphfSxyKX1hc3luYyBmdW5jdGlvbiBnKGUscixhKXtjb25zdCBpPVwiaW1hZ2VyeVwiPT09ZS50eXBlP3k6bztyZXR1cm4gdCh7bGF5ZXI6ZSxpdGVtVHlwZTpzLHZhbGlkYXRlTGF5ZXI6bSxjcmVhdGVJdGVtRGF0YTpjLGVycm9yTmFtZVByZWZpeDppLG5ld0l0ZW06cixzZXRJdGVtUHJvcGVydGllczpwfSxhKX1leHBvcnR7dSBhcyBzYXZlLGcgYXMgc2F2ZUFzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3VwZGF0ZU9yaWdpbnMgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9vcmlnaW5VdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL3BvcnRhbC9Qb3J0YWwuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9wb3J0YWwvUG9ydGFsSXRlbS5qc1wiO2ltcG9ydHtjcmVhdGVGb3JJdGVtV3JpdGUgYXMgYX1mcm9tXCIuLi8uLi9wb3J0YWwvc3VwcG9ydC9qc29uQ29udGV4dC5qc1wiO2ltcG9ydHthZGRUeXBlS2V5d29yZCBhcyBpLFR5cGVLZXl3b3JkIGFzIG59ZnJvbVwiLi4vLi4vcG9ydGFsL3N1cHBvcnQvcG9ydGFsSXRlbVV0aWxzLmpzXCI7aW1wb3J0e3ZhbGlkYXRlU2F2ZUFQSUtleSBhcyBzfWZyb21cIi4uLy4uL3dlYmRvYy9zYXZlQVBJS2V5VXRpbHMuanNcIjtmdW5jdGlvbiBsKHQscixvKXtjb25zdCBhPW8odCk7aWYoIWEuaXNWYWxpZCl0aHJvdyBuZXcgZShgJHtyfTppbnZhbGlkLXBhcmFtZXRlcnNgLGEuZXJyb3JNZXNzYWdlLHtsYXllcjp0fSl9YXN5bmMgZnVuY3Rpb24gcChlKXtjb25zdHtsYXllcjp0LGVycm9yTmFtZVByZWZpeDpyLHZhbGlkYXRlTGF5ZXI6b309ZTthd2FpdCB0LmxvYWQoKSxsKHQscixvKX1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuYExheWVyICh0aXRsZTogJHtlLnRpdGxlfSwgaWQ6ICR7ZS5pZH0pIG9mIHR5cGUgJyR7ZS5kZWNsYXJlZENsYXNzfScgJHt0fWB9ZnVuY3Rpb24gYyh0KXtjb25zdHtpdGVtOnIsaXRlbVR5cGU6byxlcnJvck5hbWVQcmVmaXg6YSxsYXllcjppLHZhbGlkYXRlSXRlbTpufT10O2lmKHMociksci50eXBlIT09byl0aHJvdyBuZXcgZShgJHthfTpwb3J0YWwtaXRlbS13cm9uZy10eXBlYCxgUG9ydGFsIGl0ZW0gdHlwZSBzaG91bGQgYmUgXCIke299XCJgLHtpdGVtOnIsbGF5ZXI6aX0pO2lmKG4pe2NvbnN0IHQ9bihyKTtpZighdC5pc1ZhbGlkKXRocm93IG5ldyBlKGAke2F9OmludmFsaWQtcGFyYW1ldGVyc2AsdC5lcnJvck1lc3NhZ2Use2xheWVyOml9KX19ZnVuY3Rpb24gZCh0KXtjb25zdHtsYXllcjpyLGVycm9yTmFtZVByZWZpeDpvfT10LHtwb3J0YWxJdGVtOmF9PXI7aWYoIWEpdGhyb3cgbmV3IGUoYCR7b306cG9ydGFsLWl0ZW0tbm90LXNldGAsbShyLFwicmVxdWlyZXMgdGhlIHBvcnRhbEl0ZW0gcHJvcGVydHkgdG8gYmUgc2V0XCIpKTtpZighYS5sb2FkZWQpdGhyb3cgbmV3IGUoYCR7b306cG9ydGFsLWl0ZW0tbm90LWxvYWRlZGAsbShyLFwiY2Fubm90IGJlIHNhdmVkIHRvIGEgcG9ydGFsIGl0ZW0gdGhhdCBkb2VzIG5vdCBleGlzdCBvciBpcyBpbmFjY2Vzc2libGVcIikpO2Moey4uLnQsaXRlbTphfSl9ZnVuY3Rpb24gdShlKXtjb25zdHtuZXdJdGVtOnQsaXRlbVR5cGU6YX09ZTtsZXQgaT1vLmZyb20odCk7cmV0dXJuIGkuaWQmJihpPWkuY2xvbmUoKSxpLmlkPW51bGwpLGkudHlwZT8/PWEsaS5wb3J0YWw/Pz1yLmdldERlZmF1bHQoKSxjKHsuLi5lLGl0ZW06aX0pLGl9ZnVuY3Rpb24gZih0LHIpe2xldCBvPSh0Lm1lc3NhZ2VzPz9bXSkuZmlsdGVyKCgoe3R5cGU6ZX0pPT5cImVycm9yXCI9PT1lKSkubWFwKCgoe25hbWU6dCxtZXNzYWdlOnIsZGV0YWlsczpvfSk9Pm5ldyBlKHQscixvKSkpO2lmKHQuYmxvY2tlZFJlbGF0aXZlVXJscyYmKG89by5jb25jYXQodC5ibG9ja2VkUmVsYXRpdmVVcmxzLm1hcCgodD0+bmV3IGUoXCJ1cmw6dW5zdXBwb3J0ZWRcIixgUmVsYXRpdmUgdXJsICcke3R9JyBpcyBub3Qgc3VwcG9ydGVkYCkpKSkpLHI/Lmlnbm9yZVVuc3VwcG9ydGVkJiYobz1vLmZpbHRlcigoKHtuYW1lOmV9KT0+XCJsYXllcjp1bnN1cHBvcnRlZFwiIT09ZSYmXCJzeW1ib2w6dW5zdXBwb3J0ZWRcIiE9PWUmJlwic3ltYm9sLWxheWVyOnVuc3VwcG9ydGVkXCIhPT1lJiZcInByb3BlcnR5OnVuc3VwcG9ydGVkXCIhPT1lJiZcInVybDp1bnN1cHBvcnRlZFwiIT09ZSkpKSxvLmxlbmd0aD4wKXRocm93IG5ldyBlKFwibGF5ZXItd3JpdGU6dW5zdXBwb3J0ZWRcIixcIkZhaWxlZCB0byBzYXZlIGxheWVyIGR1ZSB0byB1bnN1cHBvcnRlZCBvciBpbnZhbGlkIGNvbnRlbnQuIFNlZSAnZGV0YWlscy5lcnJvcnMnIGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uXCIse2Vycm9yczpvfSl9YXN5bmMgZnVuY3Rpb24geShlLHQscil7XCJiZWZvcmVTYXZlXCJpbiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmJlZm9yZVNhdmUmJmF3YWl0IGUuYmVmb3JlU2F2ZSgpO2NvbnN0IG89ZS53cml0ZSh7fSx0KTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodC5yZXNvdXJjZXM/LnBlbmRpbmdPcGVyYXRpb25zPz9bXSksZih0LHIpLG99ZnVuY3Rpb24gdyhlKXtpKGUsbi5KU0FQSSksZS50eXBlS2V5d29yZHMmJihlLnR5cGVLZXl3b3Jkcz1lLnR5cGVLZXl3b3Jkcy5maWx0ZXIoKChlLHQscik9PnIuaW5kZXhPZihlKT09PXQpKSl9YXN5bmMgZnVuY3Rpb24gdihlLHQscil7Y29uc3Qgbz1lLnBvcnRhbDthd2FpdCBvLnNpZ25JbigpLGF3YWl0KG8udXNlcj8uYWRkSXRlbSh7aXRlbTplLGRhdGE6dCxmb2xkZXI6cj8uZm9sZGVyfSkpfWFzeW5jIGZ1bmN0aW9uIEkoZSxyKXtjb25zdHtsYXllcjpvLGNyZWF0ZUl0ZW1EYXRhOmksY3JlYXRlSlNPTkNvbnRleHQ6bixzYXZlUmVzb3VyY2VzOnN9PWU7YXdhaXQgcChlKSxkKGUpO2NvbnN0IGw9by5wb3J0YWxJdGVtLG09bj9uKGwpOmEobCksYz1hd2FpdCB5KG8sbSxyKSx1PWF3YWl0IGkoe2xheWVyOm8sbGF5ZXJKU09OOmN9LGwpO3JldHVybiB3KGwpLGF3YWl0IGwudXBkYXRlKHtkYXRhOnV9KSx0KG0pLGF3YWl0KHM/LihsLG0pKSxsfWFzeW5jIGZ1bmN0aW9uIGIoZSxyKXtjb25zdHtsYXllcjpvLGNyZWF0ZUl0ZW1EYXRhOmksY3JlYXRlSlNPTkNvbnRleHQ6bixzZXRJdGVtUHJvcGVydGllczpzLHNhdmVSZXNvdXJjZXM6bH09ZTthd2FpdCBwKGUpO2NvbnN0IG09dShlKSxjPW4/bihtKTphKG0pLGQ9YXdhaXQgeShvLGMsciksZj1hd2FpdCBpKHtsYXllcjpvLGxheWVySlNPTjpkfSxtKTtyZXR1cm4gYXdhaXQgcyhvLG0pLHcobSksYXdhaXQgdihtLGYsciksby5wb3J0YWxJdGVtPW0sdChjKSxhd2FpdChsPy4obSxjKSksbX1leHBvcnR7diBhcyBhZGRJdGVtLG0gYXMgY3JlYXRlRXJyb3JNZXNzYWdlLGQgYXMgZW5zdXJlSXRlbUNvbmZpZyxsIGFzIGVuc3VyZUxheWVyQ29uZmlnLHkgYXMgZ2V0TGF5ZXJKU09OLHUgYXMgZ2V0UG9ydGFsSXRlbSxJIGFzIHNhdmUsYiBhcyBzYXZlQXMsdyBhcyBzZXRDb21tb25JdGVtUHJvcGVydGllc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3VybFRvT2JqZWN0IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uL1BvcnRhbC5qc1wiO2Z1bmN0aW9uIGUoZSl7cmV0dXJue29yaWdpbjpcInBvcnRhbC1pdGVtXCIsdXJsOnQoZS5pdGVtVXJsKSxwb3J0YWw6ZS5wb3J0YWx8fHIuZ2V0RGVmYXVsdCgpLHBvcnRhbEl0ZW06ZSxyZWFkUmVzb3VyY2VQYXRoczpbXX19ZnVuY3Rpb24gbyhlKXtjb25zdCBvPXQoZS5pdGVtVXJsKTtyZXR1cm57b3JpZ2luOlwicG9ydGFsLWl0ZW1cIixtZXNzYWdlczpbXSx3cml0dGVuUHJvcGVydGllczpbXSx1cmw6byxwb3J0YWw6ZS5wb3J0YWx8fHIuZ2V0RGVmYXVsdCgpLHBvcnRhbEl0ZW06ZSx2ZXJpZnlJdGVtUmVsYXRpdmVVcmxzOm8/e3Jvb3RQYXRoOm8ucGF0aCx3cml0dGVuVXJsczpbXX06bnVsbCxibG9ja2VkUmVsYXRpdmVVcmxzOltdfX1mdW5jdGlvbiBsKGUpe3JldHVybntvcmlnaW46XCJ3ZWItbWFwXCIsdXJsOnQoZS5pdGVtVXJsKSxwb3J0YWw6ZS5wb3J0YWx8fHIuZ2V0RGVmYXVsdCgpLHBvcnRhbEl0ZW06ZSxyZWFkUmVzb3VyY2VQYXRoczpbXX19ZnVuY3Rpb24gYShlLG8pe2NvbnN0IGw9dChlLml0ZW1VcmwpO3JldHVybntvcmlnaW46XCJ3ZWItbWFwXCIsbWVzc2FnZXM6W10sd3JpdHRlblByb3BlcnRpZXM6W10sdXJsOmwscG9ydGFsOmUucG9ydGFsfHxyLmdldERlZmF1bHQoKSxwb3J0YWxJdGVtOmUsaW5pdGlhdG9yOm8sdmVyaWZ5SXRlbVJlbGF0aXZlVXJsczpsP3tyb290UGF0aDpsLnBhdGgsd3JpdHRlblVybHM6W119Om51bGwsYmxvY2tlZFJlbGF0aXZlVXJsczpbXSxyZXNvdXJjZXM6e3RvQWRkOltdLHRvVXBkYXRlOltdLHRvS2VlcDpbXSxwZW5kaW5nT3BlcmF0aW9uczpbXX19fWV4cG9ydHtsIGFzIGNyZWF0ZUZvckdyb3VwTGF5ZXJJdGVtUmVhZCxhIGFzIGNyZWF0ZUZvckdyb3VwTGF5ZXJJdGVtV3JpdGUsZSBhcyBjcmVhdGVGb3JJdGVtUmVhZCxvIGFzIGNyZWF0ZUZvckl0ZW1Xcml0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IG8gZnJvbVwiLi4vY29uZmlnLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdXBwb3J0c0FwaUtleSBhcyBwfWZyb21cIi4uL3N1cHBvcnQvYXBpS2V5VXRpbHMuanNcIjtmdW5jdGlvbiBpKGkpe2lmKG8uYXBpS2V5JiZwKGkucG9ydGFsLnVybCkpdGhyb3cgbmV3IHIoXCJzYXZlLWFwaS1rZXktdXRpbHM6YXBpLWtleS1ub3Qtc3VwcG9ydGVkXCIsYFNhdmluZyBpcyBub3Qgc3VwcG9ydGVkIG9uICR7aS5wb3J0YWwudXJsfSB3aGVuIHVzaW5nIGFuIGFwaSBrZXlgKX1leHBvcnR7aSBhcyB2YWxpZGF0ZVNhdmVBUElLZXl9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9