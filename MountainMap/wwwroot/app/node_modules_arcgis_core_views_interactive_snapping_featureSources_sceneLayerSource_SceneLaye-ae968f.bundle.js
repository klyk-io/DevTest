"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["node_modules_arcgis_core_views_interactive_snapping_featureSources_sceneLayerSource_SceneLaye-ae968f"],{

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../3d/webgl-engine/lib/Octree.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js");
/* harmony import */ var _3d_webgl_engine_lib_edgeRendering_edgeProcessing_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing.js");
/* harmony import */ var _sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./sceneLayerSnappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let _=class{constructor(){this._idToComponent=new Map,this._components=new _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_12__["default"]((e=>e.bounds)),this._edges=new _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_12__["default"]((e=>e.bounds)),this._tmpLineSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._tmpP1=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),this._tmpP2=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),this._tmpP3=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),this.remoteClient=null}async fetchCandidates(e,s){await Promise.resolve(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(s),await this._ensureEdgeLocations(e,s);const o=[];return this._edges.forEachNeighbor((t=>(this._addCandidates(e,t,o),o.length<_sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_14__.maxCandidateCount)),e.bounds),{result:{candidates:o}}}async _ensureEdgeLocations(e,t){const s=[];if(this._components.forEachNeighbor((e=>{if(null==e.info){const{id:t,uid:o}=e;s.push({id:t,uid:o})}return!0}),e.bounds),!s.length)return;const o={components:s},n=await this.remoteClient.invoke("fetchAllEdgeLocations",o,t??{});for(const i of n.components)this._setFetchEdgeLocations(i)}async add(e){const t=new b(e.id,e.bounds);return this._idToComponent.set(t.id,t),this._components.add([t]),{result:{}}}async remove(e){const t=this._idToComponent.get(e.id);if(t){const e=[];this._edges.forEachNeighbor((s=>(s.component===t&&e.push(s),!0)),t.bounds),this._edges.remove(e),this._components.remove([t]),this._idToComponent.delete(t.id)}return{result:{}}}_setFetchEdgeLocations(e){const t=this._idToComponent.get(e.id);if(null==t||e.uid!==t.uid)return;const s=_3d_webgl_engine_lib_edgeRendering_edgeProcessing_js__WEBPACK_IMPORTED_MODULE_13__.extractComponentsEdgeLocationsLayout.createView(e.locations),o=new Array(s.count),n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),r=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)();for(let i=0;i<s.count;i++){s.position0.getVec(i,n),s.position1.getVec(i,r);const d=(0,_sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_14__.boundsFromEdge)(n,r,e.origin),c=new j(t,i,d);o[i]=c}this._edges.add(o);const{objectIds:d,origin:c}=e;t.info={locations:s,objectIds:d,origin:c}}_addCandidates(e,t,s){const{info:n}=t.component,{origin:i,objectIds:r}=n,d=n.locations,c=d.position0.getVec(t.index,this._tmpP1),a=d.position1.getVec(t.index,this._tmpP2);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(c,c,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.g)(a,a,i);const p=r[d.componentIndex.get(t.index)];this._addEdgeCandidate(e,p,c,a,s),this._addVertexCandidate(e,p,c,s),this._addVertexCandidate(e,p,a,s)}_addEdgeCandidate(e,t,s,o,i){if(!e.returnEdge)return;const d=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__.g)(e.bounds),h=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.fromPoints)(s,o,this._tmpLineSegment),m=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_10__.projectPoint)(h,d,this._tmpP3);(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__.n)(e.bounds,m)&&i.push({type:"edge",objectId:t,target:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(m),distance:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.o)(d,m),start:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(s),end:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(o)})}_addVertexCandidate(e,t,s,o){if(!e.returnVertex)return;const i=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__.g)(e.bounds);(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_11__.n)(e.bounds,s)&&o.push({type:"vertex",objectId:t,target:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.g)(s),distance:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.o)(i,s)})}};_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],_);const f=_;class b{constructor(e,t){this.id=e,this.bounds=t,this.info=null,this.uid=++b.uid}}b.uid=0;class j{constructor(e,t,s){this.component=e,this.index=t,this.bounds=s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   boundsFromEdge: () => (/* binding */ e),
/* harmony export */   maxCandidateCount: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=1e3;function e(t,e,a){const m=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__.c)(),p=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__.g)(m);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.q)(p,p,t,.5),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.q)(p,p,e,.5),m[3]=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.o)(p,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(p,p,a),m}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzX2ludGVyYWN0aXZlX3NuYXBwaW5nX2ZlYXR1cmVTb3VyY2VzX3NjZW5lTGF5ZXJTb3VyY2VfU2NlbmVMYXllLWFlOTY4Zi5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ204QixZQUFZLGNBQWMsaURBQWlELHVFQUFDLGdDQUFnQyx1RUFBQyxxQ0FBcUMseUVBQUMsZUFBZSxxREFBQyxlQUFlLHFEQUFDLGVBQWUscURBQUMsMEJBQTBCLDJCQUEyQix3QkFBd0IscUVBQUMseUNBQXlDLFdBQVcsNEVBQTRFLDJFQUFDLGNBQWMsUUFBUSxlQUFlLGdDQUFnQyxXQUFXLHlDQUF5QyxpQkFBaUIsTUFBTSxXQUFXLEdBQUcsUUFBUSxXQUFXLEVBQUUsU0FBUyw2QkFBNkIsU0FBUyxhQUFhLGlFQUFpRSxFQUFFLDJEQUEyRCxhQUFhLDZCQUE2QixrRUFBa0UsV0FBVyxnQkFBZ0Isc0NBQXNDLE1BQU0sV0FBVywrSkFBK0osT0FBTyxXQUFXLDBCQUEwQixzQ0FBc0MsaUNBQWlDLFFBQVEsdUhBQUMsZ0RBQWdELHFEQUFDLEtBQUsscURBQUMsR0FBRyxZQUFZLFVBQVUsS0FBSyxnREFBZ0QsUUFBUSw0RUFBQyw4QkFBOEIsT0FBTyxtQkFBbUIsTUFBTSxxQkFBcUIsR0FBRyxRQUFRLGtDQUFrQyxzQkFBc0IsTUFBTSxPQUFPLGNBQWMscUJBQXFCLHFHQUFxRyxrREFBQyxRQUFRLGtEQUFDLFFBQVEseUNBQXlDLHNHQUFzRyw2QkFBNkIsd0JBQXdCLFFBQVEscURBQUMsYUFBYSw2RUFBQyw2QkFBNkIsK0VBQUMsa0JBQWtCLHFEQUFDLHNCQUFzQiw4QkFBOEIscURBQUMsYUFBYSxrREFBQyxZQUFZLHFEQUFDLFFBQVEscURBQUMsSUFBSSxFQUFFLDZCQUE2QiwwQkFBMEIsUUFBUSxxREFBQyxXQUFXLHFEQUFDLHNCQUFzQixnQ0FBZ0MscURBQUMsYUFBYSxrREFBQyxNQUFNLElBQUksRUFBRSx1REFBQyxFQUFFLHNGQUFDLHVHQUF1RyxVQUFVLFFBQVEsaUJBQWlCLHlEQUF5RCxRQUFRLFFBQVEsbUJBQW1CLDZDQUFrRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjE1RztBQUNBO0FBQ0E7QUFDQTtBQUNpSCxZQUFZLGtCQUFrQixRQUFRLG9EQUFDLEtBQUssb0RBQUMsSUFBSSxPQUFPLGtEQUFDLFdBQVcsa0RBQUMsZ0JBQWdCLGtEQUFDLE1BQU0sa0RBQUMsVUFBNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvc2NlbmVMYXllclNvdXJjZS9TY2VuZUxheWVyU25hcHBpbmdTb3VyY2VXb3JrZXIuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL3NjZW5lTGF5ZXJTb3VyY2Uvc2NlbmVMYXllclNuYXBwaW5nVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZyBhcyBvLG8gYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIGksZyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBkLGZyb21Qb2ludHMgYXMgYyxwcm9qZWN0UG9pbnQgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e2cgYXMgcCxuIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3NwaGVyZS5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uLy4uLy4uLzNkL3dlYmdsLWVuZ2luZS9saWIvT2N0cmVlLmpzXCI7aW1wb3J0e2V4dHJhY3RDb21wb25lbnRzRWRnZUxvY2F0aW9uc0xheW91dCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uLzNkL3dlYmdsLWVuZ2luZS9saWIvZWRnZVJlbmRlcmluZy9lZGdlUHJvY2Vzc2luZy5qc1wiO2ltcG9ydHttYXhDYW5kaWRhdGVDb3VudCBhcyBnLGJvdW5kc0Zyb21FZGdlIGFzIGx9ZnJvbVwiLi9zY2VuZUxheWVyU25hcHBpbmdVdGlscy5qc1wiO2xldCBfPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5faWRUb0NvbXBvbmVudD1uZXcgTWFwLHRoaXMuX2NvbXBvbmVudHM9bmV3IGgoKGU9PmUuYm91bmRzKSksdGhpcy5fZWRnZXM9bmV3IGgoKGU9PmUuYm91bmRzKSksdGhpcy5fdG1wTGluZVNlZ21lbnQ9ZCgpLHRoaXMuX3RtcFAxPWkoKSx0aGlzLl90bXBQMj1pKCksdGhpcy5fdG1wUDM9aSgpLHRoaXMucmVtb3RlQ2xpZW50PW51bGx9YXN5bmMgZmV0Y2hDYW5kaWRhdGVzKGUscyl7YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCksdChzKSxhd2FpdCB0aGlzLl9lbnN1cmVFZGdlTG9jYXRpb25zKGUscyk7Y29uc3Qgbz1bXTtyZXR1cm4gdGhpcy5fZWRnZXMuZm9yRWFjaE5laWdoYm9yKCh0PT4odGhpcy5fYWRkQ2FuZGlkYXRlcyhlLHQsbyksby5sZW5ndGg8ZykpLGUuYm91bmRzKSx7cmVzdWx0OntjYW5kaWRhdGVzOm99fX1hc3luYyBfZW5zdXJlRWRnZUxvY2F0aW9ucyhlLHQpe2NvbnN0IHM9W107aWYodGhpcy5fY29tcG9uZW50cy5mb3JFYWNoTmVpZ2hib3IoKGU9PntpZihudWxsPT1lLmluZm8pe2NvbnN0e2lkOnQsdWlkOm99PWU7cy5wdXNoKHtpZDp0LHVpZDpvfSl9cmV0dXJuITB9KSxlLmJvdW5kcyksIXMubGVuZ3RoKXJldHVybjtjb25zdCBvPXtjb21wb25lbnRzOnN9LG49YXdhaXQgdGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZmV0Y2hBbGxFZGdlTG9jYXRpb25zXCIsbyx0Pz97fSk7Zm9yKGNvbnN0IGkgb2Ygbi5jb21wb25lbnRzKXRoaXMuX3NldEZldGNoRWRnZUxvY2F0aW9ucyhpKX1hc3luYyBhZGQoZSl7Y29uc3QgdD1uZXcgYihlLmlkLGUuYm91bmRzKTtyZXR1cm4gdGhpcy5faWRUb0NvbXBvbmVudC5zZXQodC5pZCx0KSx0aGlzLl9jb21wb25lbnRzLmFkZChbdF0pLHtyZXN1bHQ6e319fWFzeW5jIHJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2lkVG9Db21wb25lbnQuZ2V0KGUuaWQpO2lmKHQpe2NvbnN0IGU9W107dGhpcy5fZWRnZXMuZm9yRWFjaE5laWdoYm9yKChzPT4ocy5jb21wb25lbnQ9PT10JiZlLnB1c2gocyksITApKSx0LmJvdW5kcyksdGhpcy5fZWRnZXMucmVtb3ZlKGUpLHRoaXMuX2NvbXBvbmVudHMucmVtb3ZlKFt0XSksdGhpcy5faWRUb0NvbXBvbmVudC5kZWxldGUodC5pZCl9cmV0dXJue3Jlc3VsdDp7fX19X3NldEZldGNoRWRnZUxvY2F0aW9ucyhlKXtjb25zdCB0PXRoaXMuX2lkVG9Db21wb25lbnQuZ2V0KGUuaWQpO2lmKG51bGw9PXR8fGUudWlkIT09dC51aWQpcmV0dXJuO2NvbnN0IHM9bS5jcmVhdGVWaWV3KGUubG9jYXRpb25zKSxvPW5ldyBBcnJheShzLmNvdW50KSxuPWkoKSxyPWkoKTtmb3IobGV0IGk9MDtpPHMuY291bnQ7aSsrKXtzLnBvc2l0aW9uMC5nZXRWZWMoaSxuKSxzLnBvc2l0aW9uMS5nZXRWZWMoaSxyKTtjb25zdCBkPWwobixyLGUub3JpZ2luKSxjPW5ldyBqKHQsaSxkKTtvW2ldPWN9dGhpcy5fZWRnZXMuYWRkKG8pO2NvbnN0e29iamVjdElkczpkLG9yaWdpbjpjfT1lO3QuaW5mbz17bG9jYXRpb25zOnMsb2JqZWN0SWRzOmQsb3JpZ2luOmN9fV9hZGRDYW5kaWRhdGVzKGUsdCxzKXtjb25zdHtpbmZvOm59PXQuY29tcG9uZW50LHtvcmlnaW46aSxvYmplY3RJZHM6cn09bixkPW4ubG9jYXRpb25zLGM9ZC5wb3NpdGlvbjAuZ2V0VmVjKHQuaW5kZXgsdGhpcy5fdG1wUDEpLGE9ZC5wb3NpdGlvbjEuZ2V0VmVjKHQuaW5kZXgsdGhpcy5fdG1wUDIpO28oYyxjLGkpLG8oYSxhLGkpO2NvbnN0IHA9cltkLmNvbXBvbmVudEluZGV4LmdldCh0LmluZGV4KV07dGhpcy5fYWRkRWRnZUNhbmRpZGF0ZShlLHAsYyxhLHMpLHRoaXMuX2FkZFZlcnRleENhbmRpZGF0ZShlLHAsYyxzKSx0aGlzLl9hZGRWZXJ0ZXhDYW5kaWRhdGUoZSxwLGEscyl9X2FkZEVkZ2VDYW5kaWRhdGUoZSx0LHMsbyxpKXtpZighZS5yZXR1cm5FZGdlKXJldHVybjtjb25zdCBkPXAoZS5ib3VuZHMpLGg9YyhzLG8sdGhpcy5fdG1wTGluZVNlZ21lbnQpLG09YShoLGQsdGhpcy5fdG1wUDMpO3UoZS5ib3VuZHMsbSkmJmkucHVzaCh7dHlwZTpcImVkZ2VcIixvYmplY3RJZDp0LHRhcmdldDpyKG0pLGRpc3RhbmNlOm4oZCxtKSxzdGFydDpyKHMpLGVuZDpyKG8pfSl9X2FkZFZlcnRleENhbmRpZGF0ZShlLHQscyxvKXtpZighZS5yZXR1cm5WZXJ0ZXgpcmV0dXJuO2NvbnN0IGk9cChlLmJvdW5kcyk7dShlLmJvdW5kcyxzKSYmby5wdXNoKHt0eXBlOlwidmVydGV4XCIsb2JqZWN0SWQ6dCx0YXJnZXQ6cihzKSxkaXN0YW5jZTpuKGkscyl9KX19O189ZShbcyhcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuZmVhdHVyZVNvdXJjZXMuc2NlbmVMYXllclNvdXJjZS5TY2VuZUxheWVyU25hcHBpbmdTb3VyY2VXb3JrZXJcIildLF8pO2NvbnN0IGY9XztjbGFzcyBie2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5pZD1lLHRoaXMuYm91bmRzPXQsdGhpcy5pbmZvPW51bGwsdGhpcy51aWQ9KytiLnVpZH19Yi51aWQ9MDtjbGFzcyBqe2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLmNvbXBvbmVudD1lLHRoaXMuaW5kZXg9dCx0aGlzLmJvdW5kcz1zfX1leHBvcnR7ZiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cSBhcyBzLG8sZyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MsZyBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy9zcGhlcmUuanNcIjtjb25zdCB0PTFlMztmdW5jdGlvbiBlKHQsZSxhKXtjb25zdCBtPWMoKSxwPW4obSk7cmV0dXJuIHMocCxwLHQsLjUpLHMocCxwLGUsLjUpLG1bM109byhwLHQpLHIocCxwLGEpLG19ZXhwb3J0e2UgYXMgYm91bmRzRnJvbUVkZ2UsdCBhcyBtYXhDYW5kaWRhdGVDb3VudH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=