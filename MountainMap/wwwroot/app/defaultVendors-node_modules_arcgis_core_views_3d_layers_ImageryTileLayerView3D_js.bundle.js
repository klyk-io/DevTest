"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_ImageryTileLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateTolerance: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;"number"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return"number"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>"size"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.event?.pointerType,s="touch"===o?9:6;if(!n)return s;const f="visualVariables"in n?r(s,n.visualVariables):s;if("simple"===n.type)return t(f,n.symbol);if("unique-value"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if("class-breaks"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return"dot-density"===n.type||n.type,f}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/ImageryTileLayerView3D.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/ImageryTileLayerView3D.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _TiledLayerView3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TiledLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js");
/* harmony import */ var _terrain_RasterTile_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../terrain/RasterTile.js */ "./node_modules/@arcgis/core/views/3d/terrain/RasterTile.js");
/* harmony import */ var _layers_ImageryTileLayerView_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/ImageryTileLayerView.js */ "./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/drapedUtils.js */ "./node_modules/@arcgis/core/views/support/drapedUtils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_layers_ImageryTileLayerView_js__WEBPACK_IMPORTED_MODULE_12__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_TiledLayerView3D_js__WEBPACK_IMPORTED_MODULE_10__.TiledLayerView3D)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_9__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__["default"]))))){constructor(){super(...arguments),this.type="imagery-tile-3d",this.isAlignedMapTile=!0}initialize(){this.layer.increaseRasterJobHandlerUsage(),null==this.fullExtent&&this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:spatial-reference-incompatible","The layer extent cannot be projected to the view's spatial reference",{layer:this.layer})));const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.whenOnce)((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,r=this.layer.tileInfo,t=["png","png24","png32","jpg","mixed"].includes(r.format)&&e.compatibleWith(r);this.isAlignedMapTile=t;const i=t?r:e.toTileInfo();this.tileInfo=i,this._updatingHandles.add((()=>[this.layer.renderer,this.layer.interpolation,this.layer.bandIds,this.layer.multidimensionalDefinition,this.layer.multidimensionalSubset,this.layer.rasterFunction,this.timeExtent]),(()=>this.refresh()))}));this.addResolvingPromise(e)}destroy(){this.layer.decreaseRasterJobHandlerUsage(),this.view=null}get _blankTile(){const e=document.createElement("canvas"),r=e.getContext("2d"),[t,i]=this.tileInfo.size;return e.width=t,e.height=i,r.clearRect(0,0,t,i),r.getImageData(0,0,t,i)}get imageFormatIsOpaque(){return"jpg"===this.layer.tileInfo.format}get hasMixedImageFormats(){return"mixed"===this.layer.tileInfo.format}get dataLevelRange(){const e=this.layer.tileInfo,r=this.tileInfo.lodAt(0)?.scale,t=this.layer.tileInfo.lodAt(e.lods.length-1)?.scale;return this.levelRangeFromScaleRange(r,t)}_getfullExtent(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_8__.projectDatasetExtent)(this.layer.rasterInfo,null!=this.view.basemapTerrain?.spatialReference?this.view.basemapTerrain.spatialReference:this.view.spatialReference)}async fetchTile(e,r,t,i){const s=this.tileInfo,a=this._canSymbolizeInWebGL(),l={tileInfo:s,requestRawData:a,signal:i.signal,timeExtent:this.timeExtent,requestAsImageElement:this.isAlignedMapTile},n=await this.layer.fetchTile(e,r,t,l);if(n instanceof HTMLImageElement)return n;let m=n?.pixelBlock;if(null==m)return this._blankTile;if(!a&&(m=await this.layer.applyRenderer(n),null==m))return this._blankTile;const p=new _terrain_RasterTile_js__WEBPACK_IMPORTED_MODULE_11__.RasterTile([e,r,t],m,s.size[0],s.size[1]);return a?(p.symbolizerRenderer=this.layer.symbolizer.rendererJSON,p.symbolizerParameters=this.layer.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(e)),p.transformGrid=n.transformGrid):p.isRendereredSource=!0,p.interpolation=this.layer.interpolation,p.bandIds=this.layer.bandIds,p}_getSymbolizerOptions(e){const r=this.tileInfo.lodAt(e).resolution;return{pixelBlock:null,isGCS:null!=this.view.basemapTerrain?.spatialReference?this.view.basemapTerrain.spatialReference.isGeographic:this.view.spatialReference.isGeographic,resolution:{x:r,y:r},bandIds:this.layer.bandIds}}ensureSymbolizerParameters(e){this._canSymbolizeInWebGL()&&JSON.stringify(e.symbolizerRenderer)!==JSON.stringify(this.layer.symbolizer.rendererJSON)&&(e.symbolizerParameters=this.layer.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(e.lij[0])))}createFetchPopupFeaturesQueryGeometry(e,r){return (0,_support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_15__.createQueryGeometry)(e,r,this.view)}refresh(){this.emit("data-changed")}async doRefresh(){this.suspended||this.emit("data-changed")}_canSymbolizeInWebGL(){const e=(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_16__.getWebGLCapabilities)("3d"),{symbolizer:r}=this.layer,t=r.lookup?.colormapLut?.indexedColormap,i=t&&t.length>4*(e.maxTextureSize||4906);return e.supportsTextureFloat&&r.canRenderInWebGL&&!i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"_blankTile",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"imageFormatIsOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"hasMixedImageFormats",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"dataLevelRange",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.ImageryTileLayerView3D")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TiledLayerView3D: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../terrain/terrainUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=o=>{let c=class extends o{get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get dataScaleRange(){const e=this.tileInfo.lods;let t=e[0].scale,i=e[e.length-1].scale;if("tilemapCache"in this.layer&&this.layer.tilemapCache){const{effectiveMinLOD:e,effectiveMaxLOD:r}=this.layer.tilemapCache;t=this.tileInfo.lodAt(e).scale,i=this.tileInfo.lodAt(r).scale}return{minScale:t,maxScale:i}}get dataLevelRange(){const{minScale:e,maxScale:t}=this.dataScaleRange;return this.levelRangeFromScaleRange(e,t)}get displayLevelRange(){const e=this.layer.minScale||this.dataScaleRange.minScale,t=this.layer.maxScale||this.dataScaleRange.maxScale,i=this.levelRangeFromScaleRange(e,t);return this.layer.maxScale&&i.maxLevel++,i}getTileUrl(e,t,i){return this.layer.getTileUrl(e,t,i)}_addTilingSchemeMatchPromise(){if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));const e=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(null!=e)return this.addResolvingPromise(Promise.reject(e));const r=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.whenOnce)((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t=this._getTileInfoCompatibilityError(this.tileInfo,e);if(t)throw t}));this.addResolvingPromise(r)}_getTileInfoSupportError(e,i){const r=(0,_terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_9__.checkIfTileInfoSupportedForView)(e,i,this.view.spatialReference,this.view.state.viewingMode);if(r){const e={layer:this.layer,error:r};let i;switch(r.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",e);break;default:i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",e)}return i}return null}_getTileInfoCompatibilityError(e,i){return null!=e&&i.compatibleWith(e)?null:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}levelRangeFromScaleRange(e,t){const i={minLevel:0,maxLevel:1/0},r=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!r)return i;const a=r.levels[0],l=e=>{const t=Math.log(a.scale/e)/Math.LN2;return.5-Math.abs(.5-t%1)<1e-9?Math.round(t):Math.ceil(t)};return null!=e&&e>0&&(i.minLevel=Math.max(0,l(e))),null!=t&&t>0&&(i.maxLevel=Math.max(0,l(t))),i}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"imageFormatIsOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_8__.updatingProgress)],c.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_8__.updatingProgressValue)],c.prototype,"updatingProgressValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"isOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"dataScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"dataLevelRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"displayLevelRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"tileInfo",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.TiledLayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=p=>{let u=class extends p{constructor(){super(...arguments),this._rasterFieldPrefix="Raster.",this.layer=null,this.view=null,this.tileInfo=null}get fullExtent(){return this._getfullExtent()}_getfullExtent(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.projectDatasetExtent)(this.layer.rasterInfo,this.view.spatialReference)}get hasTilingEffects(){return!!(this.layer.renderer&&"dynamicRangeAdjustment"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.getDefaultDatumTransformationForDataset)(this.layer.fullExtent,this.view.spatialReference,!0)}supportsSpatialReference(e){return!!(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.projectDatasetExtent)(this.layer.rasterInfo,e)}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageryTileLayerView:fetchPopupFeatures","Nothing to fetch without area",{layer:s});const{popupEnabled:i}=s,a=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__.getFetchPopupTemplate)(s,o);if(!i||null==a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageryTileLayerView:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:i,popupTemplate:a});const n=[],{value:p,magdirValue:u,processedValue:c}=await s.identify(e,{timeExtent:this.timeExtent});let f="";if(p&&p.length){f="imagery-tile"===s.type&&s.hasStandardTime()&&null!=p[0]?p.map((e=>s.getStandardTimeValue(e))).join(", "):p.join(", ");const e={ObjectId:0},r="Raster.ServicePixelValue";e[r]=c?.join(", ")??f,e[r+".Raw"]=f;const o=s.rasterInfo.attributeTable;if(null!=o){const{fields:t,features:r}=o,s=t.find((({name:e})=>"value"===e.toLowerCase())),i=s?r.find((e=>String(e.attributes[s.name])===f)):null;if(i)for(const o in i.attributes)if(i.attributes.hasOwnProperty(o)){e[this._rasterFieldPrefix+o]=i.attributes[o]}}const i=s.rasterInfo.dataType;"vector-magdir"!==i&&"vector-uv"!==i||(e["Raster.Magnitude"]=u?.[0],e["Raster.Direction"]=u?.[1]);const a=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"](this.fullExtent.clone(),null,e);a.layer=s,a.sourceLayer=a.layer,n.push(a)}return n}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],u.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],u.prototype,"hasTilingEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"datumTransformation",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.ImageryTileLayerView")],u),u};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=a=>{let c=class extends a{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/drapedUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/drapedUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createQueryGeometry: () => (/* binding */ r),
/* harmony export */   intersectsDrapedGeometry: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(t,r,i,a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]){let o=0;if("2d"===i.type)o=r*(i.resolution??0);else if("3d"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(a)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__.calculateTolerance)(),i,a).intersects(n)}const a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"];


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19JbWFnZXJ5VGlsZUxheWVyVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0lBQWtJLGNBQWMsWUFBWSxZQUFZLFdBQVcsS0FBSyxrQkFBa0IsK0JBQStCLFdBQVcsZ0JBQWdCLHlEQUF5RCxnQkFBZ0IsZUFBZSxnREFBZ0QsTUFBTSxvQkFBb0IsR0FBRyx3QkFBd0IsR0FBRyxRQUFRLGlCQUFpQixrQkFBa0IsWUFBWSxJQUFJLFlBQVksd0JBQXdCLHFCQUFxQixjQUFjLDhEQUE4RCxlQUFlLHVEQUF1RCwwQ0FBMEMsNEJBQTRCLFFBQVEsd0NBQXdDLGdCQUFnQixLQUFLLDRCQUE0QixRQUFRLHNDQUFzQyxnQkFBZ0IsS0FBSyx1Q0FBdUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjNnQztBQUNBO0FBQ0E7QUFDQTtBQUNvOEIsb0JBQW9CLDRFQUFDLENBQUMsNEVBQUMsQ0FBQyx1RUFBQyxDQUFDLDREQUFDLENBQUMsNkRBQUMsTUFBTSxjQUFjLHlFQUF5RSxhQUFhLDhHQUE4RyxzREFBQyxvSEFBb0gsaUJBQWlCLElBQUksUUFBUSxnRUFBQyxpRUFBaUUsb0pBQW9KLHdCQUF3QiwyQkFBMkIsMFBBQTBQLEdBQUcsNEJBQTRCLFVBQVUsMERBQTBELGlCQUFpQix1RkFBdUYseUVBQXlFLDBCQUEwQix5Q0FBeUMsMkJBQTJCLDJDQUEyQyxxQkFBcUIsZ0hBQWdILDBDQUEwQyxpQkFBaUIsT0FBTywrR0FBQyw4SUFBOEkseUJBQXlCLHVEQUF1RCxtSEFBbUgsdUNBQXVDLDBDQUEwQyxvQkFBb0Isa0NBQWtDLDRFQUE0RSxZQUFZLCtEQUFDLGdDQUFnQyx1U0FBdVMseUJBQXlCLDBDQUEwQyxPQUFPLGtMQUFrTCxRQUFRLDZCQUE2Qiw4QkFBOEIscU9BQXFP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LHlCQUF5QixnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsdUZBQUMsb0NBQW9DLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKejRFO0FBQ0E7QUFDQTtBQUNBO0FBQ21jLFlBQVksc0JBQXNCLGFBQWEsZ0JBQWdCLDBEQUFDLGlDQUFpQyx5Q0FBeUMsbUVBQUMsS0FBSyx1REFBQywwQkFBMEIsR0FBRyw2QkFBNkIsT0FBTyx1REFBQyxFQUFFLHNGQUFDLGtDQUFrQyx1REFBQyxFQUFFLHNGQUFDLG1EQUF3RTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnZ3QjtBQUNBO0FBQ0E7QUFDQTtBQUM0RixzQ0FBc0Msb0JBQW9CLGtEQUFrRCxzQkFBc0IsSUFBSSw4REFBOEQsR0FBRywrQkFBK0IsVUFBVSxtRkFBQyxTQUFTLHdFQUFDLDRCQUE0QixvSkFBb0osTUFBTSxXQUFXLEdBQUcsdURBQXVELEtBQUssZ0JBQWdCLHdJQUF3SSxnQkFBZ0Isa0JBQWtCLDhCQUE4QixFQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKajRCO0FBQ0E7QUFDQTtBQUNBO0FBQ3NOLHVCQUF1QiwyREFBQyxFQUFFLFFBQVEsdUNBQXVDLHVCQUF1QixvRUFBb0UsNENBQTRDLHlFQUFDLElBQUkseUVBQUMscUJBQXFCLHVDQUF1QyxtQkFBbUIsR0FBRyxrSEFBa0gsa0JBQWtCLG1CQUFtQixvQkFBb0IsV0FBVyw2RkFBQyxzQkFBc0IsWUFBWSwyREFBQyxDQUFnRSIsInNvdXJjZXMiOlsid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZW5kZXJlcnMvc3VwcG9ydC9jbGlja1RvbGVyYW5jZVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvSW1hZ2VyeVRpbGVMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0xheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvVGlsZWRMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0ltYWdlcnlUaWxlTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbW0vLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3N1cHBvcnQvZHJhcGVkVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxlKXtyZXR1cm4gZT9cInhvZmZzZXRcImluIGUmJmUueG9mZnNldD9NYXRoLm1heCh0LE1hdGguYWJzKGUueG9mZnNldCkpOlwieW9mZnNldFwiaW4gZSYmZS55b2Zmc2V0P01hdGgubWF4KHQsTWF0aC5hYnMoZS55b2Zmc2V0fHwwKSk6dDp0fWZ1bmN0aW9uIGUodCl7bGV0IGU9MCxuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXS5zaXplO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYoZSs9byxuKyspfXJldHVybiBlL259ZnVuY3Rpb24gbih0LG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6dD8uc3RvcHM/Lmxlbmd0aD9lKHQuc3RvcHMpOm59ZnVuY3Rpb24gcih0LGUpe2lmKCFlKXJldHVybiB0O2NvbnN0IHI9ZS5maWx0ZXIoKHQ9Plwic2l6ZVwiPT09dC50eXBlKSkubWFwKChlPT57Y29uc3R7bWF4U2l6ZTpyLG1pblNpemU6b309ZTtyZXR1cm4obihyLHQpK24obyx0KSkvMn0pKTtsZXQgbz0wO2NvbnN0IHM9ci5sZW5ndGg7aWYoMD09PXMpcmV0dXJuIHQ7Zm9yKGxldCBuPTA7bjxzO24rKylvKz1yW25dO2NvbnN0IGY9TWF0aC5mbG9vcihvL3MpO3JldHVybiBNYXRoLm1heChmLHQpfWZ1bmN0aW9uIG8oZSl7Y29uc3Qgbj1lPy5yZW5kZXJlcixvPWU/LmV2ZW50Py5wb2ludGVyVHlwZSxzPVwidG91Y2hcIj09PW8/OTo2O2lmKCFuKXJldHVybiBzO2NvbnN0IGY9XCJ2aXN1YWxWYXJpYWJsZXNcImluIG4/cihzLG4udmlzdWFsVmFyaWFibGVzKTpzO2lmKFwic2ltcGxlXCI9PT1uLnR5cGUpcmV0dXJuIHQoZixuLnN5bWJvbCk7aWYoXCJ1bmlxdWUtdmFsdWVcIj09PW4udHlwZSl7bGV0IGU9ZjtyZXR1cm4gbi51bmlxdWVWYWx1ZUluZm9zPy5mb3JFYWNoKChuPT57ZT10KGUsbi5zeW1ib2wpfSkpLGV9aWYoXCJjbGFzcy1icmVha3NcIj09PW4udHlwZSl7bGV0IGU9ZjtyZXR1cm4gbi5jbGFzc0JyZWFrSW5mb3MuZm9yRWFjaCgobj0+e2U9dChlLG4uc3ltYm9sKX0pKSxlfXJldHVyblwiZG90LWRlbnNpdHlcIj09PW4udHlwZXx8bi50eXBlLGZ9ZXhwb3J0e28gYXMgY2FsY3VsYXRlVG9sZXJhbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7cHJvamVjdERhdGFzZXRFeHRlbnQgYXMgYX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtMYXllclZpZXczRCBhcyBsfWZyb21cIi4vTGF5ZXJWaWV3M0QuanNcIjtpbXBvcnR7VGlsZWRMYXllclZpZXczRCBhcyBufWZyb21cIi4vVGlsZWRMYXllclZpZXczRC5qc1wiO2ltcG9ydHtSYXN0ZXJUaWxlIGFzIG99ZnJvbVwiLi4vdGVycmFpbi9SYXN0ZXJUaWxlLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi4vLi4vbGF5ZXJzL0ltYWdlcnlUaWxlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qc1wiO2ltcG9ydHtjcmVhdGVRdWVyeUdlb21ldHJ5IGFzIGN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9kcmFwZWRVdGlscy5qc1wiO2ltcG9ydHtnZXRXZWJHTENhcGFiaWxpdGllcyBhcyB5fWZyb21cIi4uLy4uL3dlYmdsL2NhcGFiaWxpdGllcy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMobShoKG4obChwKSkpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cImltYWdlcnktdGlsZS0zZFwiLHRoaXMuaXNBbGlnbmVkTWFwVGlsZT0hMH1pbml0aWFsaXplKCl7dGhpcy5sYXllci5pbmNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpLG51bGw9PXRoaXMuZnVsbEV4dGVudCYmdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKFByb21pc2UucmVqZWN0KG5ldyByKFwibGF5ZXJ2aWV3OnNwYXRpYWwtcmVmZXJlbmNlLWluY29tcGF0aWJsZVwiLFwiVGhlIGxheWVyIGV4dGVudCBjYW5ub3QgYmUgcHJvamVjdGVkIHRvIHRoZSB2aWV3J3Mgc3BhdGlhbCByZWZlcmVuY2VcIix7bGF5ZXI6dGhpcy5sYXllcn0pKSk7Y29uc3QgZT10KCgoKT0+dGhpcy52aWV3Py5iYXNlbWFwVGVycmFpbj8udGlsaW5nU2NoZW1lTG9ja2VkKSkudGhlbigoKCk9Pntjb25zdCBlPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbi50aWxpbmdTY2hlbWUscj10aGlzLmxheWVyLnRpbGVJbmZvLHQ9W1wicG5nXCIsXCJwbmcyNFwiLFwicG5nMzJcIixcImpwZ1wiLFwibWl4ZWRcIl0uaW5jbHVkZXMoci5mb3JtYXQpJiZlLmNvbXBhdGlibGVXaXRoKHIpO3RoaXMuaXNBbGlnbmVkTWFwVGlsZT10O2NvbnN0IGk9dD9yOmUudG9UaWxlSW5mbygpO3RoaXMudGlsZUluZm89aSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+W3RoaXMubGF5ZXIucmVuZGVyZXIsdGhpcy5sYXllci5pbnRlcnBvbGF0aW9uLHRoaXMubGF5ZXIuYmFuZElkcyx0aGlzLmxheWVyLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLHRoaXMubGF5ZXIubXVsdGlkaW1lbnNpb25hbFN1YnNldCx0aGlzLmxheWVyLnJhc3RlckZ1bmN0aW9uLHRoaXMudGltZUV4dGVudF0pLCgoKT0+dGhpcy5yZWZyZXNoKCkpKX0pKTt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoZSl9ZGVzdHJveSgpe3RoaXMubGF5ZXIuZGVjcmVhc2VSYXN0ZXJKb2JIYW5kbGVyVXNhZ2UoKSx0aGlzLnZpZXc9bnVsbH1nZXQgX2JsYW5rVGlsZSgpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxyPWUuZ2V0Q29udGV4dChcIjJkXCIpLFt0LGldPXRoaXMudGlsZUluZm8uc2l6ZTtyZXR1cm4gZS53aWR0aD10LGUuaGVpZ2h0PWksci5jbGVhclJlY3QoMCwwLHQsaSksci5nZXRJbWFnZURhdGEoMCwwLHQsaSl9Z2V0IGltYWdlRm9ybWF0SXNPcGFxdWUoKXtyZXR1cm5cImpwZ1wiPT09dGhpcy5sYXllci50aWxlSW5mby5mb3JtYXR9Z2V0IGhhc01peGVkSW1hZ2VGb3JtYXRzKCl7cmV0dXJuXCJtaXhlZFwiPT09dGhpcy5sYXllci50aWxlSW5mby5mb3JtYXR9Z2V0IGRhdGFMZXZlbFJhbmdlKCl7Y29uc3QgZT10aGlzLmxheWVyLnRpbGVJbmZvLHI9dGhpcy50aWxlSW5mby5sb2RBdCgwKT8uc2NhbGUsdD10aGlzLmxheWVyLnRpbGVJbmZvLmxvZEF0KGUubG9kcy5sZW5ndGgtMSk/LnNjYWxlO3JldHVybiB0aGlzLmxldmVsUmFuZ2VGcm9tU2NhbGVSYW5nZShyLHQpfV9nZXRmdWxsRXh0ZW50KCl7cmV0dXJuIGEodGhpcy5sYXllci5yYXN0ZXJJbmZvLG51bGwhPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbj8uc3BhdGlhbFJlZmVyZW5jZT90aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4uc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSl9YXN5bmMgZmV0Y2hUaWxlKGUscix0LGkpe2NvbnN0IHM9dGhpcy50aWxlSW5mbyxhPXRoaXMuX2NhblN5bWJvbGl6ZUluV2ViR0woKSxsPXt0aWxlSW5mbzpzLHJlcXVlc3RSYXdEYXRhOmEsc2lnbmFsOmkuc2lnbmFsLHRpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50LHJlcXVlc3RBc0ltYWdlRWxlbWVudDp0aGlzLmlzQWxpZ25lZE1hcFRpbGV9LG49YXdhaXQgdGhpcy5sYXllci5mZXRjaFRpbGUoZSxyLHQsbCk7aWYobiBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpcmV0dXJuIG47bGV0IG09bj8ucGl4ZWxCbG9jaztpZihudWxsPT1tKXJldHVybiB0aGlzLl9ibGFua1RpbGU7aWYoIWEmJihtPWF3YWl0IHRoaXMubGF5ZXIuYXBwbHlSZW5kZXJlcihuKSxudWxsPT1tKSlyZXR1cm4gdGhpcy5fYmxhbmtUaWxlO2NvbnN0IHA9bmV3IG8oW2Uscix0XSxtLHMuc2l6ZVswXSxzLnNpemVbMV0pO3JldHVybiBhPyhwLnN5bWJvbGl6ZXJSZW5kZXJlcj10aGlzLmxheWVyLnN5bWJvbGl6ZXIucmVuZGVyZXJKU09OLHAuc3ltYm9saXplclBhcmFtZXRlcnM9dGhpcy5sYXllci5zeW1ib2xpemVyLmdlbmVyYXRlV2ViR0xQYXJhbWV0ZXJzKHRoaXMuX2dldFN5bWJvbGl6ZXJPcHRpb25zKGUpKSxwLnRyYW5zZm9ybUdyaWQ9bi50cmFuc2Zvcm1HcmlkKTpwLmlzUmVuZGVyZXJlZFNvdXJjZT0hMCxwLmludGVycG9sYXRpb249dGhpcy5sYXllci5pbnRlcnBvbGF0aW9uLHAuYmFuZElkcz10aGlzLmxheWVyLmJhbmRJZHMscH1fZ2V0U3ltYm9saXplck9wdGlvbnMoZSl7Y29uc3Qgcj10aGlzLnRpbGVJbmZvLmxvZEF0KGUpLnJlc29sdXRpb247cmV0dXJue3BpeGVsQmxvY2s6bnVsbCxpc0dDUzpudWxsIT10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4/LnNwYXRpYWxSZWZlcmVuY2U/dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnNwYXRpYWxSZWZlcmVuY2UuaXNHZW9ncmFwaGljOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLmlzR2VvZ3JhcGhpYyxyZXNvbHV0aW9uOnt4OnIseTpyfSxiYW5kSWRzOnRoaXMubGF5ZXIuYmFuZElkc319ZW5zdXJlU3ltYm9saXplclBhcmFtZXRlcnMoZSl7dGhpcy5fY2FuU3ltYm9saXplSW5XZWJHTCgpJiZKU09OLnN0cmluZ2lmeShlLnN5bWJvbGl6ZXJSZW5kZXJlcikhPT1KU09OLnN0cmluZ2lmeSh0aGlzLmxheWVyLnN5bWJvbGl6ZXIucmVuZGVyZXJKU09OKSYmKGUuc3ltYm9saXplclBhcmFtZXRlcnM9dGhpcy5sYXllci5zeW1ib2xpemVyLmdlbmVyYXRlV2ViR0xQYXJhbWV0ZXJzKHRoaXMuX2dldFN5bWJvbGl6ZXJPcHRpb25zKGUubGlqWzBdKSkpfWNyZWF0ZUZldGNoUG9wdXBGZWF0dXJlc1F1ZXJ5R2VvbWV0cnkoZSxyKXtyZXR1cm4gYyhlLHIsdGhpcy52aWV3KX1yZWZyZXNoKCl7dGhpcy5lbWl0KFwiZGF0YS1jaGFuZ2VkXCIpfWFzeW5jIGRvUmVmcmVzaCgpe3RoaXMuc3VzcGVuZGVkfHx0aGlzLmVtaXQoXCJkYXRhLWNoYW5nZWRcIil9X2NhblN5bWJvbGl6ZUluV2ViR0woKXtjb25zdCBlPXkoXCIzZFwiKSx7c3ltYm9saXplcjpyfT10aGlzLmxheWVyLHQ9ci5sb29rdXA/LmNvbG9ybWFwTHV0Py5pbmRleGVkQ29sb3JtYXAsaT10JiZ0Lmxlbmd0aD40KihlLm1heFRleHR1cmVTaXplfHw0OTA2KTtyZXR1cm4gZS5zdXBwb3J0c1RleHR1cmVGbG9hdCYmci5jYW5SZW5kZXJJbldlYkdMJiYhaX19O2UoW2koe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiX2JsYW5rVGlsZVwiLG51bGwpLGUoW2koe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiaW1hZ2VGb3JtYXRJc09wYXF1ZVwiLG51bGwpLGUoW2koe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiaGFzTWl4ZWRJbWFnZUZvcm1hdHNcIixudWxsKSxlKFtpKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcImRhdGFMZXZlbFJhbmdlXCIsbnVsbCksZD1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuSW1hZ2VyeVRpbGVMYXllclZpZXczRFwiKV0sZCk7Y29uc3QgdT1kO2V4cG9ydHt1IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7c3VwcG9ydHNIZWlnaHRNb2RlbEluZm8gYXMgYSxyZWplY3RMYXllckVycm9yIGFzIGx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9oZWlnaHRNb2RlbEluZm9VdGlscy5qc1wiO2NvbnN0IG49bj0+e2xldCBjPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb249ITF9cG9zdHNjcmlwdChlKXtzdXBlci5wb3N0c2NyaXB0KGUpLGEodGhpcy5sYXllcikmJnRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpKX1hc3luYyBfdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIsbz1lLnNpZ25hbDt0aGlzLmFkZEhhbmRsZXMocygoKCk9PmUuYWJvcnQoKSkpKSxhd2FpdCByKCgoKT0+dGhpcy52aWV3LmRlZmF1bHRzRnJvbU1hcD8uaGVpZ2h0TW9kZWxJbmZvUmVhZHkpLG8pLHQobyk7Y29uc3QgaT1sKHRoaXMubGF5ZXIsdGhpcy52aWV3LmhlaWdodE1vZGVsSW5mbyx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb24pO2lmKGkpdGhyb3cgaX1jYW5SZXN1bWUoKXtjb25zdCBlPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJighZT8ubWluU2NhbGV8fCFlLm1heFNjYWxlfHxlLm1pblNjYWxlPj1lLm1heFNjYWxlKX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9c3VwZXIuZ2V0U3VzcGVuZEluZm8oKSxzPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gcyYmcy5taW5TY2FsZSYmcy5tYXhTY2FsZSYmcy5taW5TY2FsZTxzLm1heFNjYWxlJiYoZS5vdXRzaWRlU2NhbGVSYW5nZT0hMCksZX19O3JldHVybiBlKFtvKCldLGMucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbygpXSxjLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxjPWUoW2koXCJlc3JpLnZpZXdzLjNkLmxheWVycy5MYXllclZpZXczRFwiKV0sYyksY307ZXhwb3J0e24gYXMgTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt1cGRhdGluZ1Byb2dyZXNzIGFzIGwsdXBkYXRpbmdQcm9ncmVzc1ZhbHVlIGFzIHN9ZnJvbVwiLi4vc3VwcG9ydC91cGRhdGluZ1Byb3BlcnRpZXMuanNcIjtpbXBvcnR7Y2hlY2tJZlRpbGVJbmZvU3VwcG9ydGVkRm9yVmlldyBhcyBufWZyb21cIi4uL3RlcnJhaW4vdGVycmFpblV0aWxzLmpzXCI7Y29uc3Qgbz1vPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBve2dldCBpbWFnZUZvcm1hdElzT3BhcXVlKCl7cmV0dXJuITF9Z2V0IGZ1bGxFeHRlbnQoKXtyZXR1cm4gdGhpcy5sYXllci5mdWxsRXh0ZW50fWdldCBpc09wYXF1ZSgpe3JldHVybiB0aGlzLmZ1bGxPcGFjaXR5Pj0xJiZ0aGlzLmltYWdlRm9ybWF0SXNPcGFxdWV9Z2V0IGRhdGFTY2FsZVJhbmdlKCl7Y29uc3QgZT10aGlzLnRpbGVJbmZvLmxvZHM7bGV0IHQ9ZVswXS5zY2FsZSxpPWVbZS5sZW5ndGgtMV0uc2NhbGU7aWYoXCJ0aWxlbWFwQ2FjaGVcImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIudGlsZW1hcENhY2hlKXtjb25zdHtlZmZlY3RpdmVNaW5MT0Q6ZSxlZmZlY3RpdmVNYXhMT0Q6cn09dGhpcy5sYXllci50aWxlbWFwQ2FjaGU7dD10aGlzLnRpbGVJbmZvLmxvZEF0KGUpLnNjYWxlLGk9dGhpcy50aWxlSW5mby5sb2RBdChyKS5zY2FsZX1yZXR1cm57bWluU2NhbGU6dCxtYXhTY2FsZTppfX1nZXQgZGF0YUxldmVsUmFuZ2UoKXtjb25zdHttaW5TY2FsZTplLG1heFNjYWxlOnR9PXRoaXMuZGF0YVNjYWxlUmFuZ2U7cmV0dXJuIHRoaXMubGV2ZWxSYW5nZUZyb21TY2FsZVJhbmdlKGUsdCl9Z2V0IGRpc3BsYXlMZXZlbFJhbmdlKCl7Y29uc3QgZT10aGlzLmxheWVyLm1pblNjYWxlfHx0aGlzLmRhdGFTY2FsZVJhbmdlLm1pblNjYWxlLHQ9dGhpcy5sYXllci5tYXhTY2FsZXx8dGhpcy5kYXRhU2NhbGVSYW5nZS5tYXhTY2FsZSxpPXRoaXMubGV2ZWxSYW5nZUZyb21TY2FsZVJhbmdlKGUsdCk7cmV0dXJuIHRoaXMubGF5ZXIubWF4U2NhbGUmJmkubWF4TGV2ZWwrKyxpfWdldFRpbGVVcmwoZSx0LGkpe3JldHVybiB0aGlzLmxheWVyLmdldFRpbGVVcmwoZSx0LGkpfV9hZGRUaWxpbmdTY2hlbWVNYXRjaFByb21pc2UoKXtpZihudWxsPT10aGlzLmZ1bGxFeHRlbnQpcmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlamVjdChuZXcgdChcInRpbGluZ3NjaGVtZTpleHRlbnQtbm90LWRlZmluZWRcIixcIlRoaXMgbGF5ZXIgZG9lc24ndCBkZWZpbmUgYSBmdWxsRXh0ZW50LlwiKSkpO2NvbnN0IGU9dGhpcy5fZ2V0VGlsZUluZm9TdXBwb3J0RXJyb3IodGhpcy50aWxlSW5mbyx0aGlzLmZ1bGxFeHRlbnQpO2lmKG51bGwhPWUpcmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlamVjdChlKSk7Y29uc3Qgcj1pKCgoKT0+dGhpcy52aWV3Py5iYXNlbWFwVGVycmFpbj8udGlsaW5nU2NoZW1lTG9ja2VkKSkudGhlbigoKCk9Pntjb25zdCBlPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbi50aWxpbmdTY2hlbWUsdD10aGlzLl9nZXRUaWxlSW5mb0NvbXBhdGliaWxpdHlFcnJvcih0aGlzLnRpbGVJbmZvLGUpO2lmKHQpdGhyb3cgdH0pKTt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2Uocil9X2dldFRpbGVJbmZvU3VwcG9ydEVycm9yKGUsaSl7Y29uc3Qgcj1uKGUsaSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnZpZXcuc3RhdGUudmlld2luZ01vZGUpO2lmKHIpe2NvbnN0IGU9e2xheWVyOnRoaXMubGF5ZXIsZXJyb3I6cn07bGV0IGk7c3dpdGNoKHIubmFtZSl7Y2FzZVwidGlsaW5nc2NoZW1lOnNwYXRpYWwtcmVmZXJlbmNlLW1pc21hdGNoXCI6Y2FzZVwidGlsaW5nc2NoZW1lOmdsb2JhbC11bnN1cHBvcnRlZC1zcGF0aWFsLXJlZmVyZW5jZVwiOmNhc2VcInRpbGluZ3NjaGVtZTpsb2NhbC11bnN1cHBvcnRlZC1zcGF0aWFsLXJlZmVyZW5jZVwiOmk9bmV3IHQoXCJsYXllcnZpZXc6c3BhdGlhbC1yZWZlcmVuY2UtaW5jb21wYXRpYmxlXCIsXCJUaGUgc3BhdGlhbCByZWZlcmVuY2Ugb2YgdGhpcyBsYXllciBkb2VzIG5vdCBtZWV0IHRoZSByZXF1aXJlbWVudHMgb2YgdGhlIHZpZXdcIixlKTticmVhaztkZWZhdWx0Omk9bmV3IHQoXCJsYXllcnZpZXc6dGlsaW5nLXNjaGVtZS11bnN1cHBvcnRlZFwiLFwiVGhlIHRpbGluZyBzY2hlbWUgb2YgdGhpcyBsYXllciBpcyBub3Qgc3VwcG9ydGVkIGJ5IFNjZW5lVmlld1wiLGUpfXJldHVybiBpfXJldHVybiBudWxsfV9nZXRUaWxlSW5mb0NvbXBhdGliaWxpdHlFcnJvcihlLGkpe3JldHVybiBudWxsIT1lJiZpLmNvbXBhdGlibGVXaXRoKGUpP251bGw6bmV3IHQoXCJsYXllcnZpZXc6dGlsaW5nLXNjaGVtZS1pbmNvbXBhdGlibGVcIixcIlRoZSB0aWxpbmcgc2NoZW1lIG9mIHRoaXMgbGF5ZXIgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIHRpbGluZyBzY2hlbWUgb2YgdGhlIHN1cmZhY2VcIil9bGV2ZWxSYW5nZUZyb21TY2FsZVJhbmdlKGUsdCl7Y29uc3QgaT17bWluTGV2ZWw6MCxtYXhMZXZlbDoxLzB9LHI9dGhpcy52aWV3JiZ0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4mJnRoaXMudmlldy5iYXNlbWFwVGVycmFpbi50aWxpbmdTY2hlbWU7aWYoIXIpcmV0dXJuIGk7Y29uc3QgYT1yLmxldmVsc1swXSxsPWU9Pntjb25zdCB0PU1hdGgubG9nKGEuc2NhbGUvZSkvTWF0aC5MTjI7cmV0dXJuLjUtTWF0aC5hYnMoLjUtdCUxKTwxZS05P01hdGgucm91bmQodCk6TWF0aC5jZWlsKHQpfTtyZXR1cm4gbnVsbCE9ZSYmZT4wJiYoaS5taW5MZXZlbD1NYXRoLm1heCgwLGwoZSkpKSxudWxsIT10JiZ0PjAmJihpLm1heExldmVsPU1hdGgubWF4KDAsbCh0KSkpLGl9aXNVcGRhdGluZygpe3JldHVybiEhKHRoaXMudmlldyYmdGhpcy52aWV3LmJhc2VtYXBUZXJyYWluJiZ0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4udXBkYXRpbmcpfX07cmV0dXJuIGUoW3Ioe3JlYWRPbmx5OiEwfSldLGMucHJvdG90eXBlLFwiaW1hZ2VGb3JtYXRJc09wYXF1ZVwiLG51bGwpLGUoW3Ioe3JlYWRPbmx5OiEwfSldLGMucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGUoW3IobCldLGMucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLHZvaWQgMCksZShbcihzKV0sYy5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzVmFsdWVcIix2b2lkIDApLGUoW3IoKV0sYy5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJpc09wYXF1ZVwiLG51bGwpLGUoW3IoKV0sYy5wcm90b3R5cGUsXCJkYXRhU2NhbGVSYW5nZVwiLG51bGwpLGUoW3Ioe3JlYWRPbmx5OiEwfSldLGMucHJvdG90eXBlLFwiZGF0YUxldmVsUmFuZ2VcIixudWxsKSxlKFtyKHtyZWFkT25seTohMH0pXSxjLnByb3RvdHlwZSxcImRpc3BsYXlMZXZlbFJhbmdlXCIsbnVsbCksZShbcigpXSxjLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtyKCldLGMucHJvdG90eXBlLFwidGlsZUluZm9cIix2b2lkIDApLGM9ZShbYShcImVzcmkudmlld3MuM2QubGF5ZXJzLlRpbGVkTGF5ZXJWaWV3M0RcIildLGMpLGN9O2V4cG9ydHtvIGFzIFRpbGVkTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y29tYmluZWRWaWV3TGF5ZXJUaW1lRXh0ZW50UHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e3Byb2plY3REYXRhc2V0RXh0ZW50IGFzIGEsZ2V0RGVmYXVsdERhdHVtVHJhbnNmb3JtYXRpb25Gb3JEYXRhc2V0IGFzIG59ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3Jhc3RlclByb2plY3Rpb25IZWxwZXIuanNcIjtpbXBvcnR7Z2V0RmV0Y2hQb3B1cFRlbXBsYXRlIGFzIGx9ZnJvbVwiLi9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtjb25zdCBwPXA9PntsZXQgdT1jbGFzcyBleHRlbmRzIHB7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3Jhc3RlckZpZWxkUHJlZml4PVwiUmFzdGVyLlwiLHRoaXMubGF5ZXI9bnVsbCx0aGlzLnZpZXc9bnVsbCx0aGlzLnRpbGVJbmZvPW51bGx9Z2V0IGZ1bGxFeHRlbnQoKXtyZXR1cm4gdGhpcy5fZ2V0ZnVsbEV4dGVudCgpfV9nZXRmdWxsRXh0ZW50KCl7cmV0dXJuIGEodGhpcy5sYXllci5yYXN0ZXJJbmZvLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKX1nZXQgaGFzVGlsaW5nRWZmZWN0cygpe3JldHVybiEhKHRoaXMubGF5ZXIucmVuZGVyZXImJlwiZHluYW1pY1JhbmdlQWRqdXN0bWVudFwiaW4gdGhpcy5sYXllci5yZW5kZXJlciYmdGhpcy5sYXllci5yZW5kZXJlci5keW5hbWljUmFuZ2VBZGp1c3RtZW50KX1nZXQgZGF0dW1UcmFuc2Zvcm1hdGlvbigpe3JldHVybiBuKHRoaXMubGF5ZXIuZnVsbEV4dGVudCx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSwhMCl9c3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpe3JldHVybiEhYSh0aGlzLmxheWVyLnJhc3RlckluZm8sZSl9YXN5bmMgZmV0Y2hQb3B1cEZlYXR1cmVzKGUsbyl7Y29uc3R7bGF5ZXI6c309dGhpcztpZighZSl0aHJvdyBuZXcgcihcImltYWdlcnlUaWxlTGF5ZXJWaWV3OmZldGNoUG9wdXBGZWF0dXJlc1wiLFwiTm90aGluZyB0byBmZXRjaCB3aXRob3V0IGFyZWFcIix7bGF5ZXI6c30pO2NvbnN0e3BvcHVwRW5hYmxlZDppfT1zLGE9bChzLG8pO2lmKCFpfHxudWxsPT1hKXRocm93IG5ldyByKFwiaW1hZ2VyeVRpbGVMYXllclZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJNaXNzaW5nIHJlcXVpcmVkIHBvcHVwVGVtcGxhdGUgb3IgcG9wdXBFbmFibGVkXCIse3BvcHVwRW5hYmxlZDppLHBvcHVwVGVtcGxhdGU6YX0pO2NvbnN0IG49W10se3ZhbHVlOnAsbWFnZGlyVmFsdWU6dSxwcm9jZXNzZWRWYWx1ZTpjfT1hd2FpdCBzLmlkZW50aWZ5KGUse3RpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50fSk7bGV0IGY9XCJcIjtpZihwJiZwLmxlbmd0aCl7Zj1cImltYWdlcnktdGlsZVwiPT09cy50eXBlJiZzLmhhc1N0YW5kYXJkVGltZSgpJiZudWxsIT1wWzBdP3AubWFwKChlPT5zLmdldFN0YW5kYXJkVGltZVZhbHVlKGUpKSkuam9pbihcIiwgXCIpOnAuam9pbihcIiwgXCIpO2NvbnN0IGU9e09iamVjdElkOjB9LHI9XCJSYXN0ZXIuU2VydmljZVBpeGVsVmFsdWVcIjtlW3JdPWM/LmpvaW4oXCIsIFwiKT8/ZixlW3IrXCIuUmF3XCJdPWY7Y29uc3Qgbz1zLnJhc3RlckluZm8uYXR0cmlidXRlVGFibGU7aWYobnVsbCE9byl7Y29uc3R7ZmllbGRzOnQsZmVhdHVyZXM6cn09byxzPXQuZmluZCgoKHtuYW1lOmV9KT0+XCJ2YWx1ZVwiPT09ZS50b0xvd2VyQ2FzZSgpKSksaT1zP3IuZmluZCgoZT0+U3RyaW5nKGUuYXR0cmlidXRlc1tzLm5hbWVdKT09PWYpKTpudWxsO2lmKGkpZm9yKGNvbnN0IG8gaW4gaS5hdHRyaWJ1dGVzKWlmKGkuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShvKSl7ZVt0aGlzLl9yYXN0ZXJGaWVsZFByZWZpeCtvXT1pLmF0dHJpYnV0ZXNbb119fWNvbnN0IGk9cy5yYXN0ZXJJbmZvLmRhdGFUeXBlO1widmVjdG9yLW1hZ2RpclwiIT09aSYmXCJ2ZWN0b3ItdXZcIiE9PWl8fChlW1wiUmFzdGVyLk1hZ25pdHVkZVwiXT11Py5bMF0sZVtcIlJhc3Rlci5EaXJlY3Rpb25cIl09dT8uWzFdKTtjb25zdCBhPW5ldyB0KHRoaXMuZnVsbEV4dGVudC5jbG9uZSgpLG51bGwsZSk7YS5sYXllcj1zLGEuc291cmNlTGF5ZXI9YS5sYXllcixuLnB1c2goYSl9cmV0dXJuIG59fTtyZXR1cm4gZShbbygpXSx1LnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtvKGkpXSx1LnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLGUoW28oKV0sdS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtvKCldLHUucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLG51bGwpLGUoW28oKV0sdS5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksZShbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJoYXNUaWxpbmdFZmZlY3RzXCIsbnVsbCksZShbbygpXSx1LnByb3RvdHlwZSxcImRhdHVtVHJhbnNmb3JtYXRpb25cIixudWxsKSx1PWUoW3MoXCJlc3JpLnZpZXdzLmxheWVycy5JbWFnZXJ5VGlsZUxheWVyVmlld1wiKV0sdSksdX07ZXhwb3J0e3AgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBzfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMocyhuKHIuRXZlbnRlZE1peGluKHQpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgcCx0aGlzLmxheWVyPW51bGwsdGhpcy5wYXJlbnQ9bnVsbH1pbml0aWFsaXplKCl7dGhpcy53aGVuKCkuY2F0Y2goKGU9PntpZihcImxheWVydmlldzpjcmVhdGUtZXJyb3JcIiE9PWUubmFtZSl7Y29uc3QgdD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmlkfHxcIm5vIGlkXCIscj10aGlzLmxheWVyPy50aXRsZXx8XCJubyB0aXRsZVwiO2kuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI3Jlc29sdmUoKVwiLGBGYWlsZWQgdG8gcmVzb2x2ZSBsYXllciB2aWV3IChsYXllciB0aXRsZTogJyR7cn0nLCBpZDogJyR7dH0nKWAsZSl9fSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXM9byh0aGlzLl91cGRhdGluZ0hhbmRsZXMpfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybih0aGlzLmxheWVyPy5vcGFjaXR5Pz8xKSoodGhpcy5wYXJlbnQ/LmZ1bGxPcGFjaXR5Pz8xKX1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHZpc2libGUoKXtyZXR1cm4hMD09PXRoaXMubGF5ZXI/LnZpc2libGV9c2V0IHZpc2libGUoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ2aXNpYmxlXCIsZSl9Y2FuUmVzdW1lKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiYhdGhpcy5wYXJlbnQ/LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeXx8ITF9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXRoaXMucGFyZW50Py5zdXNwZW5kZWQ/dGhpcy5wYXJlbnQuc3VzcGVuZEluZm86e30sdD10aGlzO3JldHVybiB0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCksdGhpcy52aXNpYmxlfHwoZS5sYXllckludmlzaWJsZT0hMCksZX1pc1VwZGF0aW5nKCl7cmV0dXJuITF9fTtlKFthKCldLGQucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2Eoe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZD1lKFtsKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgb31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IGE9YT0+e2xldCBjPWNsYXNzIGV4dGVuZHMgYXtpbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKG8oKCgpPT50aGlzLmxheWVyKSxcInJlZnJlc2hcIiwocj0+e3RoaXMuZG9SZWZyZXNoKHIuZGF0YUNoYW5nZWQpLmNhdGNoKChyPT57cyhyKXx8ZS5nZXRMb2dnZXIodGhpcykuZXJyb3Iocil9KSl9KSksXCJSZWZyZXNoYWJsZUxheWVyVmlld1wiKX19O3JldHVybiByKFt0KCldLGMucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGM9cihbaShcImVzcmkubGF5ZXJzLm1peGlucy5SZWZyZXNoYWJsZUxheWVyVmlld1wiKV0sYyksY307ZXhwb3J0e2EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEZlYXR1cmVFZGl0RmllbGRzIGFzIGUsZml4RmllbGRzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIG4obixwPW4ucG9wdXBUZW1wbGF0ZSl7aWYobnVsbD09cClyZXR1cm5bXTtjb25zdCB1PWF3YWl0IHAuZ2V0UmVxdWlyZWRGaWVsZHMobi5maWVsZHNJbmRleCkse2xhc3RFZGl0SW5mb0VuYWJsZWQ6dH09cCx7b2JqZWN0SWRGaWVsZDpkLHR5cGVJZEZpZWxkOnMsZ2xvYmFsSWRGaWVsZDppLHJlbGF0aW9uc2hpcHM6YX09bjtpZih1LmluY2x1ZGVzKFwiKlwiKSlyZXR1cm5bXCIqXCJdO2NvbnN0IG89dD9lKG4pOltdLGY9bChuLmZpZWxkc0luZGV4LFsuLi51LC4uLm9dKTtyZXR1cm4gcyYmZi5wdXNoKHMpLGYmJmQmJm4uZmllbGRzSW5kZXg/LmhhcyhkKSYmIWYuaW5jbHVkZXMoZCkmJmYucHVzaChkKSxmJiZpJiZuLmZpZWxkc0luZGV4Py5oYXMoaSkmJiFmLmluY2x1ZGVzKGkpJiZmLnB1c2goaSksYSYmYS5mb3JFYWNoKChlPT57Y29uc3R7a2V5RmllbGQ6bH09ZTtmJiZsJiZuLmZpZWxkc0luZGV4Py5oYXMobCkmJiFmLmluY2x1ZGVzKGwpJiZmLnB1c2gobCl9KSksZn1mdW5jdGlvbiBwKGUsbCl7cmV0dXJuIGUucG9wdXBUZW1wbGF0ZT9lLnBvcHVwVGVtcGxhdGU6bnVsbCE9bCYmbC5kZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQmJm51bGwhPWUuZGVmYXVsdFBvcHVwVGVtcGxhdGU/ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZTpudWxsfWZ1bmN0aW9uIHUoZSxsKXtyZXR1cm4gbnVsbCE9cChlLHtkZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQ6bH0pfWV4cG9ydHtwIGFzIGdldEZldGNoUG9wdXBUZW1wbGF0ZSxuIGFzIGdldFJlcXVpcmVkRmllbGRzLHUgYXMgaGFzUG9wdXBUZW1wbGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtjYWxjdWxhdGVUb2xlcmFuY2UgYXMgdH1mcm9tXCIuLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9jbGlja1RvbGVyYW5jZVV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7ZnVuY3Rpb24gcih0LHIsaSxhPW5ldyBuKXtsZXQgbz0wO2lmKFwiMmRcIj09PWkudHlwZSlvPXIqKGkucmVzb2x1dGlvbj8/MCk7ZWxzZSBpZihcIjNkXCI9PT1pLnR5cGUpe2NvbnN0IG49aS5vdmVybGF5UGl4ZWxTaXplSW5NYXBVbml0cyh0KSxhPWkuYmFzZW1hcFNwYXRpYWxSZWZlcmVuY2U7bz1udWxsPT1hfHxhLmVxdWFscyhpLnNwYXRpYWxSZWZlcmVuY2UpP3IqbjplKGEpL2UoaS5zcGF0aWFsUmVmZXJlbmNlKX1jb25zdCBzPXQueC1vLGw9dC55LW8sbT10LngrbyxwPXQueStvLHtzcGF0aWFsUmVmZXJlbmNlOmN9PWk7cmV0dXJuIGEueG1pbj1NYXRoLm1pbihzLG0pLGEueW1pbj1NYXRoLm1pbihsLHApLGEueG1heD1NYXRoLm1heChzLG0pLGEueW1heD1NYXRoLm1heChsLHApLGEuc3BhdGlhbFJlZmVyZW5jZT1jLGF9ZnVuY3Rpb24gaShlLG4saSl7Y29uc3Qgbz1pLnRvTWFwKGUpO2lmKG51bGw9PW8pcmV0dXJuITE7cmV0dXJuIHIobyx0KCksaSxhKS5pbnRlcnNlY3RzKG4pfWNvbnN0IGE9bmV3IG47ZXhwb3J0e3IgYXMgY3JlYXRlUXVlcnlHZW9tZXRyeSxpIGFzIGludGVyc2VjdHNEcmFwZWRHZW9tZXRyeX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=