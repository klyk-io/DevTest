"use strict";
(self["webpackChunkmm"] = self["webpackChunkmm"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_layers_MediaLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ m),
/* harmony export */   b: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(v){const m=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__.ShaderBuilder,{vertex:f,fragment:u}=m;return (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addProjViewLocalOrigin)(f,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,v),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,"vec3"),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.UV0,"vec2"),v.perspectiveInterpolation&&m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.PERSPECTIVEDIVIDE,"float"),m.varyings.add("vpos","vec3"),v.multipassEnabled&&m.varyings.add("depth","float"),f.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main(void) {
      vpos = position;
      ${v.multipassEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0;
      gl_Position = transformPosition(proj, view, vpos);

      ${v.perspectiveInterpolation?"gl_Position *= perspectiveDivide;":""}
    }
  `),m.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__.multipassTerrainTest,v),u.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Texture2DPassUniform("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.FloatPassUniform("opacity",(e=>e.opacity))),m.varyings.add("vTexCoord","vec2"),v.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Alpha?u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}

      float alpha = texture(tex, vTexCoord).a * opacity;
      if (alpha  < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.defaultMaskAlphaCutoff)}) {
        discard;
      }

      fragColor = vec4(alpha);
    }
    `):(u.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ColorConversion),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}
      fragColor = texture(tex, vTexCoord) * opacity;

      if (fragColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.defaultMaskAlphaCutoff)}) {
        discard;
      }

      fragColor = highlightSlice(fragColor, vpos);
      ${v.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.Color?"fragColor = premultiplyAlpha(fragColor);":""}
    }
    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/perspectiveUtils.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/perspectiveUtils.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getProjectiveTransform: () => (/* binding */ j),
/* harmony export */   transformProjective: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunks/mat3f64.js */ "./node_modules/@arcgis/core/chunks/mat3f64.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const f=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),i=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),e=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),p=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();function h(t,r,n){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(f,r[0],r[1],1),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.t)(f,f,(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.t)(i,n)),0===f[2]?(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,f[0],f[1]):(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,f[0]/f[2],f[1]/f[2])}function j(s,n,o){return k(e,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),k(p,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.m)(s,(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.a)(e,e),p),0!==s[8]&&(s[0]/=s[8],s[1]/=s[8],s[2]/=s[8],s[3]/=s[8],s[4]/=s[8],s[5]/=s[8],s[6]/=s[8],s[7]/=s[8],s[8]/=s[8]),s}function k(o,c,u,e,p,h,j,k,v){(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.s)(o,c,e,h,u,p,j,1,1,1),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(f,k,v,1),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.a)(i,o);const[x,b,d]=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.t)(f,f,(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.t)(i,i));return (0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.s)(i,x,0,0,0,b,0,0,0,d),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.m)(o,i,o)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CutVertical: () => (/* binding */ T),
/* harmony export */   normalizeCentralMeridianForDisplay: () => (/* binding */ a),
/* harmony export */   normalizeCentralMeridianSync: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(t){return f(t,!0)}function a(t){return f(t,!1)}function f(i,n){if(null==i)return null;const p=i.spatialReference,a=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.getInfo)(p),f=(0,_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_0__.isSerializable)(i)?i.toJSON():i;if(!a)return f;const I=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__.isWebMercator)(p)?102100:4326,g=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[I].maxX,v=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.cutParams[I].minX;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPoint)(f))return y(f,g,v);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isMultipoint)(f))return f.points=f.points.map((t=>y(t,g,v))),f;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isExtent)(f))return d(f,a);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolygon)(f)||(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolyline)(f)){const t=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getBoundsXY)(S,f),i={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(i.xmin,v)*(2*g),h=0===e?f:(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.updatePolyGeometry)(f,e);return i.xmin+=e,i.xmax+=e,i.xmax>g?P(h,g,n):i.xmin<v?P(h,v,n):h}return f}function d(t,i){if(!i)return t;const s=I(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function y(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,i);t.x+=s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_5__.offsetMagnitude)(n,s);t.x+=i*(-2*s)}}return t}function I(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,r=t.xmax-t.xmin,[u,m]=i.valid,{x,frameId:_}=g(t.xmin,i),{x:l,frameId:c}=g(t.xmax,i),p=x===l&&r>0;if(r>2*m){const t={xmin:h<o?x:l,ymin:n,xmax:m,ymax:e},i={xmin:u,ymin:n,xmax:h<o?l:x,ymax:e},r={xmin:0,ymin:n,xmax:m,ymax:e},p={xmin:u,ymin:n,xmax:0,ymax:e},a=[],f=[];v(t,r)&&a.push(_),v(t,p)&&f.push(_),v(i,r)&&a.push(c),v(i,p)&&f.push(c);for(let s=_+1;s<c;s++)a.push(s),f.push(s);s.push(new C(t,[_]),new C(i,[c]),new C(r,a),new C(p,f))}else x>l||p?s.push(new C({xmin:x,ymin:n,xmax:m,ymax:e},[_]),new C({xmin:u,ymin:n,xmax:l,ymax:e},[c])):s.push(new C({xmin:x,ymin:n,xmax:l,ymax:e},[_]));return s}function g(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function v(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return O(t,s,n)&&O(t,s,h)&&O(t,e,h)&&O(t,e,n)}function O(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function P(t,i,s=!0){const e=!(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPolyline)(t);if(e&&(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__.closeRings)(t),s){return(new T).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,r=h.length,m=-2*i;for(let n=0;n<r;n++){const t=h[n];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class C{constructor(t,i){this.extent=t,this.frameIds=i}}const S=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();class T{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide==-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(this._addPolyVertex(this._lineIn,s<=0?t:this._xCut,i),this._addPolyVertex(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_addPolyVertex(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/MediaElementView.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/MediaElementView.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MediaElementView: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/support/normalizeUtilsSync.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o)}get bounds(){const o=this.coords;return null==o?.extent?null:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.fromExtent)(o.extent)}get coords(){const o=this.element.georeference?.coords;return (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__.projectOrLoad)(o,this.spatialReference).geometry}get normalizedCoords(){return _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__["default"].fromJSON((0,_geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_10__.normalizeCentralMeridianSync)(this.coords))}get normalizedBounds(){const o=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=o?(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.fromExtent)(o):null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"element",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"bounds",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"coords",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"normalizedCoords",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],i.prototype,"normalizedBounds",null),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.MediaElementView")],i);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/MediaLayerView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/MediaLayerView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_perspectiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/perspectiveUtils.js */ "./node_modules/@arcgis/core/core/perspectiveUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/mat3f64.js */ "./node_modules/@arcgis/core/chunks/mat3f64.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_support_MediaElementView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../layers/support/MediaElementView.js */ "./node_modules/@arcgis/core/layers/support/MediaElementView.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../webgl-engine/materials/ImageMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let x=class extends((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_25__["default"])){constructor(){super(...arguments),this.type="media-3d",this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.DrapeSourceType.RasterImage,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_22__.UpdatePolicy.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.debounce)((async(e,t,r)=>{const i=await this._collectMediaElements(e,t,r);this._synchronizeRenderElements(i)}),0)}initialize(){this._renderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);const e=()=>this._updateWithLastDrapingExtent();this.addHandles([(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)((()=>this.layer.effectiveSource),"change",e),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)((()=>this.layer.effectiveSource),"refresh",e)]),this._updatingHandles.add((()=>this.suspended),e)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:"media",element:t,layer:this.layer}:null}_updateWithLastDrapingExtent(){if(null==this._lastDrapingExtent||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this._updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,r){const i=this.layer.effectiveSource;return null==i?new Set:new Set((await Promise.all(e.map((e=>i.queryElements((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.toExtent)(e.extent,t),{signal:r}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){const t=new Set,r=[];this._renderedElements.forEach(((i,n)=>{e.has(n)||(t.add(n),null!=i.renderData&&r.push(i.renderData.renderGeometry),this._removeElement(n,i))})),this._renderer.removeGeometries(r,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_19__.DirtyOperation.REMOVE)}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:r}){this._destroyRenderData(t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),r.remove()}async _createRenderElement(e){const t=new _layers_support_MediaElementView_js__WEBPACK_IMPORTED_MODULE_13__.MediaElementView({spatialReference:this.view.spatialReference,element:e}),r={renderData:null,handle:(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.handlesGroup)([this._updatingHandles.add((()=>e.opacity),(e=>{null!=r.renderData&&r.renderData.material.setParameters({opacity:e})})),this._updatingHandles.add((()=>t.coords),(()=>{null!=r.renderData?this._updateGeometry(t,r,r.renderData):this._initializeRenderData(t,r)})),this._updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,r))),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.destroyHandle)(t)])};this._renderedElements.set(e,r),this._uidToElement.set(e.uid,e),this._updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,r)}_initializeRenderData(e,t){const{coords:r,element:i}=e,{contentWidth:n,contentHeight:s}=i;if(null==r||null==i.content)return void(t.renderData=this._destroyRenderData(t.renderData));if(null!=t.renderData)return;const a=this._createTexture(i.content),d=a.load(this.view._stage.renderView.renderingContext);this.view._stage.add(a),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPromiseLike)(d)&&this._updatingHandles.addPromise(d);const l=new _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_24__.ImageMaterial({initTextureTransparent:!0,textureId:a.id,opacity:i.opacity,transparent:!0,perspectiveInterpolation:!0}),m=this._getPositionAttributeArray(r),p=[0,0,1,0,1,1,0,1],c=this._getPerspectiveDivideAttributeArray(m,n,s),h=[0,1,2,0,2,3],u=new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_18__.Geometry(l,[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_17__.Attribute(m,h,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__.VertexAttribute.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_17__.Attribute(p,h,2,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__.VertexAttribute.PERSPECTIVEDIVIDE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_17__.Attribute(c,h,1,!0)]]),y=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_20__.RenderGeometry(u,{layerUid:this.layer.uid,graphicUid:i.uid});this._renderer.addGeometries([y],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_19__.DirtyOperation.ADD),t.renderData={renderGeometry:y,texture:a,material:l}}_updateGeometry(e,t,r){const{coords:i,element:n}=e;if(null==i||null==n.content)return void(t.renderData=this._destroyRenderData(t.renderData));const s=this._getPositionAttributeArray(i);r.renderGeometry.geometry.setAttributeData(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__.VertexAttribute.POSITION,s);const a=this._getPerspectiveDivideAttributeArray(s,n.contentWidth,n.contentHeight);r.renderGeometry.geometry.setAttributeData(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__.VertexAttribute.PERSPECTIVEDIVIDE,a),this._renderer.modifyGeometries([r.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_19__.DirtyState.GEOMETRY)}_getPositionAttributeArray(e){const[t,r,i,n]=e.rings[0];return[t[0],t[1],_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_16__.drapedZ,n[0],n[1],_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_16__.drapedZ,i[0],i[1],_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_16__.drapedZ,r[0],r[1],_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_16__.drapedZ]}_getPerspectiveDivideAttributeArray(e,t,r){(0,_core_perspectiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.getProjectiveTransform)(P,[0,0,t,0,t,r,0,r],[e[0],e[1],e[3],e[4],e[6],e[7],e[9],e[10]]);const i=P[6]/P[8]*t,n=P[7]/P[8]*r;return[1,1+i,1+i+n,1+n]}_destroyRenderData(e){if(null==e)return null;const t=e.texture;return t.unload(),this.view._stage.remove(t),this._renderer.removeGeometries([e.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_19__.DirtyOperation.REMOVE),null}_createTexture(e){const r=e instanceof HTMLImageElement?e.naturalWidth:e.width,i=e instanceof HTMLImageElement?e.naturalHeight:e.height;if("getFrame"in e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("media-layer-view-3d","animation is not supported");return new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_21__.Texture(e,{wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_26__.TextureWrapMode.CLAMP_TO_EDGE,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_26__.TextureWrapMode.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:r,height:i,mipmap:!0,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){const e=this;return{get numberOfElements(){return e._renderedElements.size}}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],x.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],x.prototype,"layer",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.layers.MediaLayerView3D")],x);const P=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_11__.a)(),M=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMaterial: () => (/* binding */ g),
/* harmony export */   Parameters: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/ImageMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__.TriangleMaterial{constructor(t){super(t,new T),this.supportsEdges=!0,this._vertexAttributeLocations=_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.vertexAttributeLocations,this._configuration=new _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ImageMaterialTechniqueConfiguration}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.OITPolygonOffsetLimit,this._configuration.multipassEnabled=e.multipassEnabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}produces(t,r){if(r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color||r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight){if(t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.DRAPED_MATERIAL)return!0;if(r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight)return t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new E(t)}createBufferWriter(){const t=_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_10__.PositionUVLayout.clone();return this.parameters.perspectiveInterpolation&&t.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PERSPECTIVEDIVIDE),new A(t)}}class E extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_3__.GLTextureMaterial{constructor(t){super({...t,...t.material.parameters})}_updateParameters(t){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ImageMaterialTechnique,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:t.hasOccludees}),this._updateParameters(t))}beginSlot(t){return this._output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&this._output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class A extends _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__.DefaultBufferWriter{write(e,r,s,i,a){for(const n of this.vertexBufferLayout.fields.keys()){const l=s.attributes.get(n);if(l)if(n===_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PERSPECTIVEDIVIDE){(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_7__.assert)(1===l.size);const e=i.getField(n,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.BufferViewFloat);e&&(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__.writeBufferFloat)(l,e,a)}else (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__.writeDefaultAttribute)(n,l,e,r,i,a)}}}class T extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_4__.MaterialParameters{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.CullFaceOptions.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMaterialPassParameters: () => (/* binding */ I),
/* harmony export */   ImageMaterialTechnique: () => (/* binding */ N),
/* harmony export */   ImageMaterialTechniqueConfiguration: () => (/* binding */ C),
/* harmony export */   vertexAttributeLocations: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/ImageMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class I extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.NoParameters{}class N extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_8__.Program(e.rctx,N.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const o=this.configuration,i=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.NONE,s=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.makePipelineState)({blending:o.output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&o.output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||!o.transparent?null:i?E:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitBlending)(e),culling:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.cullingParams)(o.cullFace),depthTest:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthTest)(e)},depthWrite:i?o.writeDepth?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.defaultDepthWriteParams:null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthWrite)(e),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.defaultColorWriteParams,stencilWrite:o.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilWriteMaskOn:null,stencilTest:o.hasOccludees?r?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilBaseAllZerosParams:null,polygonOffset:i||s?null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.getOITPolygonOffset)(o.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}N.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__.ReloadableShaderModule(_chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_13__.I,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_ImageMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ImageMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterial.glsl.js"))));const E=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.BlendFactor.ONE_MINUS_SRC_ALPHA);class C extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT})],C.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.COUNT})],C.prototype,"cullFace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.COUNT})],C.prototype,"transparencyPassType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"multipassEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"cullAboveGround",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"perspectiveInterpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({constValue:!1})],C.prototype,"occlusionPass",void 0);const _=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.UV0,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.PERSPECTIVEDIVIDE,3]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19NZWRpYUxheWVyVmlldzNEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3dUMsY0FBYyxZQUFZLHFHQUFDLEVBQUUsb0JBQW9CLEdBQUcsT0FBTyxtSEFBQyxnQkFBZ0Isa0dBQUMscUJBQXFCLDJGQUFDLG1DQUFtQywyRkFBQywwREFBMEQsMkZBQUMseUhBQXlILDZGQUFDO0FBQ3BpRDtBQUNBO0FBQ0EsUUFBUSx1REFBdUQ7QUFDL0Q7QUFDQTs7QUFFQSxRQUFRLDZEQUE2RDtBQUNyRTtBQUNBLGVBQWUsOEZBQUMsY0FBYyxnSUFBQyx1QkFBdUIsb0hBQUMsMkJBQTJCLDJHQUFDLDBFQUEwRSxtR0FBQyxrQkFBa0IsNkZBQUM7QUFDakw7QUFDQTtBQUNBLFFBQVEsNENBQTRDOztBQUVwRDtBQUNBLHFCQUFxQix5RkFBQyxPQUFPLGlIQUFDLEVBQUU7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG1IQUFDLGFBQWEsNkZBQUM7QUFDakM7QUFDQTtBQUNBLFFBQVEsNENBQTRDO0FBQ3BEOztBQUVBLDBCQUEwQix5RkFBQyxPQUFPLGlIQUFDLEVBQUU7QUFDckM7QUFDQTs7QUFFQTtBQUNBLFFBQVEseUJBQXlCLHFHQUFDLGdEQUFnRDtBQUNsRjtBQUNBLFVBQVUsNkNBQTZDLHVCQUF1QixxQkFBcUIsZUFBZSxHQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNnTyxRQUFRLHFEQUFDLEtBQUsscURBQUMsS0FBSyxxREFBQyxLQUFLLHFEQUFDLEdBQUcsa0JBQWtCLE9BQU8sa0RBQUMsZ0JBQWdCLGtEQUFDLEtBQUssa0RBQUMsZ0JBQWdCLGtEQUFDLGNBQWMsa0RBQUMsd0JBQXdCLGtCQUFrQixpR0FBaUcsa0RBQUMsR0FBRyxrREFBQywwSEFBMEgsOEJBQThCLGtEQUFDLHNCQUFzQixrREFBQyxVQUFVLGtEQUFDLE1BQU0sYUFBYSxrREFBQyxLQUFLLGtEQUFDLE9BQU8sT0FBTyxrREFBQyxzQkFBc0Isa0RBQUMsUUFBcUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0oveEI7QUFDQTtBQUNBO0FBQ0E7QUFDd2QsY0FBYyxlQUFlLGNBQWMsZUFBZSxnQkFBZ0IsdUJBQXVCLDZCQUE2QixrRUFBQyxNQUFNLG9FQUFDLGlCQUFpQixlQUFlLFFBQVEsd0VBQUMsa0JBQWtCLCtEQUFDLFdBQVcsK0RBQUMsU0FBUyxHQUFHLHNEQUFDLG9CQUFvQixHQUFHLDJEQUFDLGtEQUFrRCxHQUFHLHVEQUFDLGtCQUFrQixHQUFHLHdEQUFDLEtBQUsseURBQUMsS0FBSyxRQUFRLDREQUFDLFNBQVMsd0NBQXdDLEdBQUcseUVBQUMsMkJBQTJCLDRFQUFDLE1BQU0saUVBQWlFLFNBQVMsZ0JBQWdCLGVBQWUsa0NBQWtDLDhFQUE4RSxxR0FBcUcsa0JBQWtCLHFCQUFxQixhQUFhLFFBQVEsUUFBUSx5RUFBQyxNQUFNLGdCQUFnQixhQUFhLFFBQVEseUVBQUMsTUFBTSxpQkFBaUIsS0FBSyxZQUFZLFFBQVEsUUFBUSx5RUFBQyxNQUFNLGNBQWMsYUFBYSxRQUFRLHlFQUFDLE1BQU0sZUFBZSxTQUFTLGdCQUFnQixZQUFZLDRCQUE0QixrQ0FBa0MsWUFBWSxjQUFjLGNBQWMsMEJBQTBCLFVBQVUsU0FBUyxrQ0FBa0MsSUFBSSxrQ0FBa0MsSUFBSSw0QkFBNEIsSUFBSSw0QkFBNEIsV0FBVyx3RUFBd0UsY0FBYyxJQUFJLHdCQUF3Qix3REFBd0QsMEJBQTBCLDRCQUE0QixhQUFhLDRCQUE0QixxQkFBcUIsNEJBQTRCLE9BQU8sU0FBUyxnQkFBZ0IseUJBQXlCLFVBQVUsc0dBQXNHLGVBQWUsZ0JBQWdCLE1BQU0sNEJBQTRCLEdBQUcsOENBQThDLGtCQUFrQixrREFBa0QscUJBQXFCLFNBQVMseURBQUMsSUFBSSxNQUFNLDJEQUFDLE9BQU8sdUJBQXVCLG9EQUFvRCxZQUFZLElBQUksS0FBSyxhQUFhLG1CQUFtQixXQUFXLHVDQUF1QyxXQUFXLCtCQUErQixRQUFRLGlCQUFpQiwrQkFBK0IsUUFBUSwwREFBQyxHQUFHLFFBQVEsY0FBYyxtQ0FBbUMsU0FBUyxNQUFNLGlFQUFpRSxLQUFLLHdCQUF3Qix5Q0FBeUMsa0JBQWtCLHNDQUFzQyxTQUFTLHdEQUF3RCwyQkFBMkIsNENBQTRDLGtFQUFrRSxzQkFBc0IsNERBQTRELHlCQUF5QixVQUFVLDBDQUEwQyxVQUFVLDZJQUE2SSxVQUFVLHlCQUF5Qix5QkFBeUIsd0NBQXdDLHdFQUF3RSwrQkFBK0IsZ0NBQWdDLFFBQVEscUNBQXFDLGdIQUFnSCxlQUFlLG1LQUFtSyxlQUFlLHVaQUF1WixzQkFBc0IsaUJBQWlCLDREQUE0RCxtQkFBbUIsaUJBQWlCLHFHQUFxRyxTQUFTLHdDQUF3QyxnQkFBZ0Isc0NBQXNDLDBCQUEwQixjQUFjLGtHQUFrRyxlQUFlLHdHQUEyTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNW5LO0FBQ0E7QUFDQTtBQUNBO0FBQ2ttQixvQkFBb0IseURBQUMsQ0FBQyxlQUFlLFNBQVMsYUFBYSxvQkFBb0IsNEJBQTRCLCtFQUFDLFdBQVcsYUFBYSwwQ0FBMEMsT0FBTyxzRUFBQyxtQ0FBbUMsdUJBQXVCLE9BQU8sNERBQUMsVUFBVSxzR0FBQyxlQUFlLHVCQUF1QixzRUFBc0UsZUFBZSwrRUFBQyxXQUFXLHVEQUFDLEVBQUUsc0ZBQUMsMkNBQTJDLHVEQUFDLEVBQUUsc0ZBQUMsa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMseUNBQXlDLHVEQUFDLEVBQUUsc0ZBQUMsMkNBQTJDLHVEQUFDLEVBQUUsc0ZBQUMsNkNBQTJFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmx6QztBQUNBO0FBQ0E7QUFDQTtBQUMybUIsWUFBWSxzQkFBc0IsY0FBYyxtRkFBbUYsY0FBYyxvQkFBb0Isa0dBQUMsd0VBQXdFLGlDQUFpQyx1Q0FBdUMsZ0JBQWdCLGdFQUFDLHlCQUF5QixnRUFBQywwREFBMEQscUVBQUMsSUFBSSxRQUFRLDJGQUFDLHlFQUF5RSxhQUFhLFlBQVksMkZBQTJGLDhFQUE4RSxpQkFBaUIsb0hBQW9ILHNGQUFzRixPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsOENBQThDLHVEQUFDLEVBQUUsc0ZBQUMsNENBQXFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKL3BEO0FBQ0E7QUFDQTtBQUNBO0FBQzJuRCxvQkFBb0IsNkRBQUMsQ0FBQyw2REFBQyxHQUFHLGNBQWMsOERBQThELDREQUFDLCtCQUErQiw0RUFBQywyR0FBMkcsK0RBQUMsaUJBQWlCLGdEQUFnRCxtQ0FBbUMsS0FBSyxhQUFhLHlGQUF5RixnREFBZ0QsaUJBQWlCLGdFQUFDLDRFQUE0RSwwREFBQyw4Q0FBOEMsMERBQUMsbUdBQW1HLHNCQUFzQix5QkFBeUIsOEJBQThCLHFDQUFxQyxVQUFVLGtDQUFrQyxVQUFVLHdDQUF3QyxNQUFNLCtCQUErQix1SEFBdUgsTUFBTSw4QkFBOEIseUJBQXlCLGdFQUFnRSxJQUFJLG1DQUFtQyxtQ0FBbUMsNEVBQTRFLDhFQUFDLGNBQWMsU0FBUyxjQUFjLDhCQUE4QiwrRUFBK0Usb0NBQW9DLHFCQUFxQix3Q0FBd0Msc0dBQXNHLHFDQUFxQyxpRkFBQyxTQUFTLGlDQUFpQyw2RUFBNkUsa0JBQWtCLHNCQUFzQixFQUFFLHdHQUF3Ryw4QkFBOEIsWUFBWSxrRkFBQyxFQUFFLHNEQUFzRCxLQUFLLHVCQUF1QixrRUFBQyxpREFBaUQseURBQXlELFVBQVUsRUFBRSxrREFBa0QsMEZBQTBGLG9GQUFvRixtRUFBQyxPQUFPLHVIQUF1SCxvQ0FBb0MsMkJBQTJCLE1BQU0sbUJBQW1CLElBQUksK0JBQStCLEdBQUcsNEZBQTRGLDZCQUE2Qiw4RkFBOEYsd0JBQXdCLG9FQUFDLHlDQUF5QyxZQUFZLG9GQUFDLEVBQUUsc0dBQXNHLG1JQUFtSSxvRUFBQyxLQUFLLGtGQUFDLGNBQWMsc0VBQUMsYUFBYSxrRkFBQyxTQUFTLHNFQUFDLGFBQWEsa0ZBQUMsdUJBQXVCLHNFQUFDLG9CQUFvQixnRkFBQyxJQUFJLHlDQUF5QyxFQUFFLGlDQUFpQyxpRkFBQyxvQkFBb0IsdUNBQXVDLHVCQUF1QixNQUFNLG1CQUFtQixHQUFHLDRGQUE0RiwyQ0FBMkMsMkNBQTJDLGtGQUFDLGFBQWEsbUZBQW1GLDJDQUEyQyxrRkFBQyx5RUFBeUUsNkVBQUMsV0FBVyw4QkFBOEIsMEJBQTBCLGlCQUFpQixpRUFBQyxXQUFXLGlFQUFDLFdBQVcsaUVBQUMsV0FBVyxpRUFBQyxFQUFFLDJDQUEyQyxpRkFBQyxpRUFBaUUsa0NBQWtDLHdCQUF3QixzQkFBc0IsdUJBQXVCLGtCQUFrQixnR0FBZ0csaUZBQUMsY0FBYyxrQkFBa0Isc0hBQXNILDRCQUE0QixzREFBQyxxREFBcUQsV0FBVyxrRUFBQyxJQUFJLE1BQU0sRUFBRSw2REFBQyxpQkFBaUIsNkRBQUMsZUFBZSxrSUFBa0ksRUFBRSxXQUFXLGFBQWEsT0FBTyx1QkFBdUIsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLGtDQUFrQyx1REFBQyxFQUFFLHVGQUFDLDhDQUE4QyxRQUFRLHNEQUFDLE9BQTRCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMW1OO0FBQ0E7QUFDQTtBQUNBO0FBQ285QixnQkFBZ0IsbUVBQUMsQ0FBQyxlQUFlLG9FQUFvRSx5RkFBQyx5QkFBeUIsb0dBQUMsQ0FBQyxzQkFBc0IsMGNBQTBjLHVGQUFDLDBPQUEwTyxjQUFjLE9BQU8sNkVBQUMsWUFBWSw2RUFBQyxZQUFZLDZFQUFDLFlBQVksT0FBTywwREFBQywwQkFBMEIsT0FBTyw2RUFBQyxzQkFBc0IsMERBQUMsaUJBQWlCLG1FQUFtRSwwREFBQyxzQkFBc0IsMERBQUMsMkNBQTJDLDBEQUFDLGtCQUFrQixTQUFTLG9CQUFvQixnQkFBZ0IscUJBQXFCLFFBQVEsaUVBQUMsU0FBUyx1REFBdUQsb0VBQUMsOEJBQThCLGdCQUFnQix3RUFBQyxDQUFDLGVBQWUsT0FBTyw4QkFBOEIsRUFBRSxxQkFBcUIsNklBQTZJLHVGQUFDLElBQUksd0JBQXdCLHdGQUF3Riw0QkFBNEIsNkJBQTZCLGFBQWEsc0JBQXNCLDZFQUFDLHVCQUF1Qiw2RUFBQyxnRUFBZ0UsZ0JBQWdCLHdFQUFDLENBQUMsaUJBQWlCLHNEQUFzRCw0QkFBNEIsWUFBWSxvRUFBQyxvQkFBb0Isb0RBQUMsYUFBYSxxQkFBcUIsbUZBQUMsRUFBRSxHQUFHLGlGQUFDLFFBQVEsS0FBSyxzRkFBQyxnQkFBZ0IsZ0JBQWdCLGdFQUFDLENBQUMsY0FBYywrRkFBK0Ysb0VBQUMsK0hBQTBLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjd3RztBQUNBO0FBQ0E7QUFDQTtBQUN5eEMsZ0JBQWdCLDJFQUFDLEVBQUUsZ0JBQWdCLHFGQUFDLENBQUMscUJBQXFCLFdBQVcsb0RBQUMsb0RBQW9ELHVCQUF1QixpQ0FBaUMsK0VBQUMsWUFBWSwrRUFBQyxXQUFXLE9BQU8seUVBQUMsRUFBRSxvQkFBb0IsNkVBQUMsbUJBQW1CLDZFQUFDLGdDQUFnQyxpRkFBQyxZQUFZLHFFQUFDLHdCQUF3QixLQUFLLGtGQUFDLElBQUksMkJBQTJCLDJFQUFDLE1BQU0sbUZBQUMsZUFBZSwyRUFBQyw2QkFBNkIsb0VBQUMsbUNBQW1DLDJFQUFDLENBQUMsMkVBQUMsOEJBQThCLHlGQUFDLGlCQUFpQixFQUFFLHFCQUFxQix5S0FBeUssZUFBZSwwREFBMEQsYUFBYSxtR0FBQyxDQUFDLDZEQUFDLE1BQU0sMlJBQWlDLEdBQUcsUUFBUSw0RUFBQyxDQUFDLHlEQUFDLEtBQUsseURBQUMsc0JBQXNCLGdCQUFnQix1R0FBQyxDQUFDLGNBQWMsZ0NBQWdDLDZFQUFDLHFCQUFxQixvRUFBQyx1SUFBdUksK0VBQUMseUZBQXlGLHVEQUFDLEVBQUUsZ0dBQUMsRUFBRSxNQUFNLDZFQUFDLE9BQU8sZ0NBQWdDLHVEQUFDLEVBQUUsZ0dBQUMsRUFBRSxNQUFNLG9FQUFDLE9BQU8sa0NBQWtDLHVEQUFDLEVBQUUsZ0dBQUMsd0NBQXdDLHVEQUFDLEVBQUUsZ0dBQUMsc0NBQXNDLHVEQUFDLEVBQUUsZ0dBQUMsdUNBQXVDLHVEQUFDLEVBQUUsZ0dBQUMscUNBQXFDLHVEQUFDLEVBQUUsZ0dBQUMsdUNBQXVDLHVEQUFDLEVBQUUsZ0dBQUMsRUFBRSxNQUFNLCtFQUFDLE9BQU8sOENBQThDLHVEQUFDLEVBQUUsZ0dBQUMsMkNBQTJDLHVEQUFDLEVBQUUsZ0dBQUMsMENBQTBDLHVEQUFDLEVBQUUsZ0dBQUMsbURBQW1ELHVEQUFDLEVBQUUsZ0dBQUMsRUFBRSxjQUFjLHVDQUF1QyxrQkFBa0IscUVBQUMsY0FBYyxxRUFBQyxTQUFTLHFFQUFDLHdCQUFvSzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0podEc7QUFDQTtBQUNBO0FBQ0E7QUFDc3BCLG9CQUFvQix3RUFBQyxDQUFDLGtFQUFDLENBQUMsd0RBQUMsY0FBYyx5REFBQyxLQUFLLGVBQWUsbUNBQW1DLDhFQUFDLGtDQUFrQyxhQUFhLHVCQUF1QixzQ0FBc0MsMkVBQTJFLHVEQUFDLG1GQUFtRixFQUFFLFVBQVUsRUFBRSxRQUFRLEdBQUcsVUFBVSxzQkFBc0IsNERBQUMsd0JBQXdCLGtCQUFrQiw2REFBNkQsZ0JBQWdCLHdCQUF3QixrQkFBa0IsNkJBQTZCLG9CQUFvQixzREFBc0QsZUFBZSw4REFBOEQsdUJBQXVCLHlCQUF5QixjQUFjLCtCQUErQixlQUFlLGtDQUFrQyxZQUFZLHVGQUF1RixpQkFBaUIseURBQXlELFFBQVEscUlBQXFJLGFBQWEsV0FBVyx1REFBQyxFQUFFLHNGQUFDLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUseUJBQXlCLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSx1RkFBQyxvQ0FBb0MsVUFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL0ltYWdlTWF0ZXJpYWwuZ2xzbC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9wZXJzcGVjdGl2ZVV0aWxzLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzU3luYy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvTWVkaWFFbGVtZW50Vmlldy5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0xheWVyVmlldzNELmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvTWVkaWFMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9tbS8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL21hdGVyaWFscy9JbWFnZU1hdGVyaWFsLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9JbWFnZU1hdGVyaWFsVGVjaG5pcXVlLmpzIiwid2VicGFjazovL21tLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7U2hhZGVyT3V0cHV0IGFzIGV9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7U2xpY2VEcmF3IGFzIHJ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TbGljZS5nbHNsLmpzXCI7aW1wb3J0e1RyYW5zZm9ybSBhcyBpfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvVHJhbnNmb3JtLmdsc2wuanNcIjtpbXBvcnR7bXVsdGlwYXNzVGVycmFpblRlc3QgYXMgb31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3NoYWRpbmcvTXVsdGlwYXNzVGVycmFpblRlc3QuZ2xzbC5qc1wiO2ltcG9ydHtkZWZhdWx0TWFza0FscGhhQ3V0b2ZmIGFzIHN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL0FscGhhQ3V0b2ZmLmpzXCI7aW1wb3J0e0NvbG9yQ29udmVyc2lvbiBhcyBhfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvdXRpbC9Db2xvckNvbnZlcnNpb24uZ2xzbC5qc1wiO2ltcG9ydHthZGRQcm9qVmlld0xvY2FsT3JpZ2luIGFzIHR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1ZpZXcuZ2xzbC5qc1wiO2ltcG9ydHtGbG9hdFBhc3NVbmlmb3JtIGFzIGR9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdFBhc3NVbmlmb3JtLmpzXCI7aW1wb3J0e2dsc2wgYXMgbH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7U2hhZGVyQnVpbGRlciBhcyBufWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvU2hhZGVyQnVpbGRlci5qc1wiO2ltcG9ydHtUZXh0dXJlMkRQYXNzVW5pZm9ybSBhcyBwfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvVGV4dHVyZTJEUGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7VHJhbnNwYXJlbmN5UGFzc1R5cGUgYXMgZ31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbGliL1RyYW5zcGFyZW5jeVBhc3NUeXBlLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBjfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7ZnVuY3Rpb24gdih2KXtjb25zdCBtPW5ldyBuLHt2ZXJ0ZXg6ZixmcmFnbWVudDp1fT1tO3JldHVybiB0KGYsdiksbS5pbmNsdWRlKGksdiksbS5hdHRyaWJ1dGVzLmFkZChjLlBPU0lUSU9OLFwidmVjM1wiKSxtLmF0dHJpYnV0ZXMuYWRkKGMuVVYwLFwidmVjMlwiKSx2LnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbiYmbS5hdHRyaWJ1dGVzLmFkZChjLlBFUlNQRUNUSVZFRElWSURFLFwiZmxvYXRcIiksbS52YXJ5aW5ncy5hZGQoXCJ2cG9zXCIsXCJ2ZWMzXCIpLHYubXVsdGlwYXNzRW5hYmxlZCYmbS52YXJ5aW5ncy5hZGQoXCJkZXB0aFwiLFwiZmxvYXRcIiksZi5jb2RlLmFkZChsYFxuICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICB2cG9zID0gcG9zaXRpb247XG4gICAgICAke3YubXVsdGlwYXNzRW5hYmxlZD9cImRlcHRoID0gKHZpZXcgKiB2ZWM0KHZwb3MsIDEuMCkpLno7XCI6XCJcIn1cbiAgICAgIHZUZXhDb29yZCA9IHV2MDtcbiAgICAgIGdsX1Bvc2l0aW9uID0gdHJhbnNmb3JtUG9zaXRpb24ocHJvaiwgdmlldywgdnBvcyk7XG5cbiAgICAgICR7di5wZXJzcGVjdGl2ZUludGVycG9sYXRpb24/XCJnbF9Qb3NpdGlvbiAqPSBwZXJzcGVjdGl2ZURpdmlkZTtcIjpcIlwifVxuICAgIH1cbiAgYCksbS5pbmNsdWRlKHIsdiksbS5pbmNsdWRlKG8sdiksdS51bmlmb3Jtcy5hZGQobmV3IHAoXCJ0ZXhcIiwoZT0+ZS50ZXh0dXJlKSksbmV3IGQoXCJvcGFjaXR5XCIsKGU9PmUub3BhY2l0eSkpKSxtLnZhcnlpbmdzLmFkZChcInZUZXhDb29yZFwiLFwidmVjMlwiKSx2Lm91dHB1dD09PWUuQWxwaGE/dS5jb2RlLmFkZChsYFxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGRpc2NhcmRCeVNsaWNlKHZwb3MpO1xuICAgICAgJHt2Lm11bHRpcGFzc0VuYWJsZWQ/XCJ0ZXJyYWluRGVwdGhUZXN0KGRlcHRoKTtcIjpcIlwifVxuXG4gICAgICBmbG9hdCBhbHBoYSA9IHRleHR1cmUodGV4LCB2VGV4Q29vcmQpLmEgKiBvcGFjaXR5O1xuICAgICAgaWYgKGFscGhhICA8ICR7bC5mbG9hdChzKX0pIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cblxuICAgICAgZnJhZ0NvbG9yID0gdmVjNChhbHBoYSk7XG4gICAgfVxuICAgIGApOih1LmluY2x1ZGUoYSksdS5jb2RlLmFkZChsYFxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGRpc2NhcmRCeVNsaWNlKHZwb3MpO1xuICAgICAgJHt2Lm11bHRpcGFzc0VuYWJsZWQ/XCJ0ZXJyYWluRGVwdGhUZXN0KGRlcHRoKTtcIjpcIlwifVxuICAgICAgZnJhZ0NvbG9yID0gdGV4dHVyZSh0ZXgsIHZUZXhDb29yZCkgKiBvcGFjaXR5O1xuXG4gICAgICBpZiAoZnJhZ0NvbG9yLmEgPCAke2wuZmxvYXQocyl9KSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG5cbiAgICAgIGZyYWdDb2xvciA9IGhpZ2hsaWdodFNsaWNlKGZyYWdDb2xvciwgdnBvcyk7XG4gICAgICAke3YudHJhbnNwYXJlbmN5UGFzc1R5cGU9PT1nLkNvbG9yP1wiZnJhZ0NvbG9yID0gcHJlbXVsdGlwbHlBbHBoYShmcmFnQ29sb3IpO1wiOlwiXCJ9XG4gICAgfVxuICAgIGApKSxtfWNvbnN0IG09T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGJ1aWxkOnZ9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7bSBhcyBJLHYgYXMgYn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3QgYXMgcyxtIGFzIHQsYSBhcyByLHMgYXMgbn1mcm9tXCIuLi9jaHVua3MvbWF0My5qc1wiO2ltcG9ydHthIGFzIG99ZnJvbVwiLi4vY2h1bmtzL21hdDNmNjQuanNcIjtpbXBvcnR7cyBhcyBjfWZyb21cIi4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e3MgYXMgYSx0IGFzIG19ZnJvbVwiLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyB1fWZyb21cIi4uL2NodW5rcy92ZWMzZjY0LmpzXCI7Y29uc3QgZj11KCksaT1vKCksZT1vKCkscD1vKCk7ZnVuY3Rpb24gaCh0LHIsbil7cmV0dXJuIGEoZixyWzBdLHJbMV0sMSksbShmLGYscyhpLG4pKSwwPT09ZlsyXT9jKHQsZlswXSxmWzFdKTpjKHQsZlswXS9mWzJdLGZbMV0vZlsyXSl9ZnVuY3Rpb24gaihzLG4sbyl7cmV0dXJuIGsoZSxuWzBdLG5bMV0sblsyXSxuWzNdLG5bNF0sbls1XSxuWzZdLG5bN10pLGsocCxvWzBdLG9bMV0sb1syXSxvWzNdLG9bNF0sb1s1XSxvWzZdLG9bN10pLHQocyxyKGUsZSkscCksMCE9PXNbOF0mJihzWzBdLz1zWzhdLHNbMV0vPXNbOF0sc1syXS89c1s4XSxzWzNdLz1zWzhdLHNbNF0vPXNbOF0sc1s1XS89c1s4XSxzWzZdLz1zWzhdLHNbN10vPXNbOF0sc1s4XS89c1s4XSksc31mdW5jdGlvbiBrKG8sYyx1LGUscCxoLGosayx2KXtuKG8sYyxlLGgsdSxwLGosMSwxLDEpLGEoZixrLHYsMSkscihpLG8pO2NvbnN0W3gsYixkXT1tKGYsZixzKGksaSkpO3JldHVybiBuKGkseCwwLDAsMCxiLDAsMCwwLGQpLHQobyxpLG8pfWV4cG9ydHtqIGFzIGdldFByb2plY3RpdmVUcmFuc2Zvcm0saCBhcyB0cmFuc2Zvcm1Qcm9qZWN0aXZlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTZXJpYWxpemFibGUgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBpfWZyb21cIi4vYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0Qm91bmRzWFkgYXMgc31mcm9tXCIuL2JvdW5kc1V0aWxzLmpzXCI7aW1wb3J0e2Nsb3NlUmluZ3MgYXMgbn1mcm9tXCIuL2Nvb3Jkc1V0aWxzLmpzXCI7aW1wb3J0e2lzUG9pbnQgYXMgZSxpc011bHRpcG9pbnQgYXMgaCxpc0V4dGVudCBhcyBvLGlzUG9seWdvbiBhcyByLGlzUG9seWxpbmUgYXMgdX1mcm9tXCIuL2pzb25VdGlscy5qc1wiO2ltcG9ydHtjdXRQYXJhbXMgYXMgbSx1cGRhdGVQb2x5R2VvbWV0cnkgYXMgeCxvZmZzZXRNYWduaXR1ZGUgYXMgX31mcm9tXCIuL25vcm1hbGl6ZVV0aWxzQ29tbW9uLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgbCxpc1dlYk1lcmNhdG9yIGFzIGN9ZnJvbVwiLi9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtmdW5jdGlvbiBwKHQpe3JldHVybiBmKHQsITApfWZ1bmN0aW9uIGEodCl7cmV0dXJuIGYodCwhMSl9ZnVuY3Rpb24gZihpLG4pe2lmKG51bGw9PWkpcmV0dXJuIG51bGw7Y29uc3QgcD1pLnNwYXRpYWxSZWZlcmVuY2UsYT1sKHApLGY9dChpKT9pLnRvSlNPTigpOmk7aWYoIWEpcmV0dXJuIGY7Y29uc3QgST1jKHApPzEwMjEwMDo0MzI2LGc9bVtJXS5tYXhYLHY9bVtJXS5taW5YO2lmKGUoZikpcmV0dXJuIHkoZixnLHYpO2lmKGgoZikpcmV0dXJuIGYucG9pbnRzPWYucG9pbnRzLm1hcCgodD0+eSh0LGcsdikpKSxmO2lmKG8oZikpcmV0dXJuIGQoZixhKTtpZihyKGYpfHx1KGYpKXtjb25zdCB0PXMoUyxmKSxpPXt4bWluOnRbMF0seW1pbjp0WzFdLHhtYXg6dFsyXSx5bWF4OnRbM119LGU9XyhpLnhtaW4sdikqKDIqZyksaD0wPT09ZT9mOngoZixlKTtyZXR1cm4gaS54bWluKz1lLGkueG1heCs9ZSxpLnhtYXg+Zz9QKGgsZyxuKTppLnhtaW48dj9QKGgsdixuKTpofXJldHVybiBmfWZ1bmN0aW9uIGQodCxpKXtpZighaSlyZXR1cm4gdDtjb25zdCBzPUkodCxpKS5tYXAoKHQ9PnQuZXh0ZW50KSk7cmV0dXJuIHMubGVuZ3RoPDI/c1swXXx8dDpzLmxlbmd0aD4yPyh0LnhtaW49aS52YWxpZFswXSx0LnhtYXg9aS52YWxpZFsxXSx0KTp7cmluZ3M6cy5tYXAoKHQ9PltbdC54bWluLHQueW1pbl0sW3QueG1pbix0LnltYXhdLFt0LnhtYXgsdC55bWF4XSxbdC54bWF4LHQueW1pbl0sW3QueG1pbix0LnltaW5dXSkpfX1mdW5jdGlvbiB5KHQsaSxzKXtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBuPXRbMF07aWYobj5pKXtjb25zdCBzPV8obixpKTt0WzBdPW4rcyooLTIqaSl9ZWxzZSBpZihuPHMpe2NvbnN0IGk9XyhuLHMpO3RbMF09bitpKigtMipzKX19ZWxzZXtjb25zdCBuPXQueDtpZihuPmkpe2NvbnN0IHM9XyhuLGkpO3QueCs9cyooLTIqaSl9ZWxzZSBpZihuPHMpe2NvbnN0IGk9XyhuLHMpO3QueCs9aSooLTIqcyl9fXJldHVybiB0fWZ1bmN0aW9uIEkodCxpKXtjb25zdCBzPVtdLHt5bWluOm4seW1heDplLHhtaW46aCx4bWF4Om99PXQscj10LnhtYXgtdC54bWluLFt1LG1dPWkudmFsaWQse3gsZnJhbWVJZDpffT1nKHQueG1pbixpKSx7eDpsLGZyYW1lSWQ6Y309Zyh0LnhtYXgsaSkscD14PT09bCYmcj4wO2lmKHI+MiptKXtjb25zdCB0PXt4bWluOmg8bz94OmwseW1pbjpuLHhtYXg6bSx5bWF4OmV9LGk9e3htaW46dSx5bWluOm4seG1heDpoPG8/bDp4LHltYXg6ZX0scj17eG1pbjowLHltaW46bix4bWF4Om0seW1heDplfSxwPXt4bWluOnUseW1pbjpuLHhtYXg6MCx5bWF4OmV9LGE9W10sZj1bXTt2KHQscikmJmEucHVzaChfKSx2KHQscCkmJmYucHVzaChfKSx2KGkscikmJmEucHVzaChjKSx2KGkscCkmJmYucHVzaChjKTtmb3IobGV0IHM9XysxO3M8YztzKyspYS5wdXNoKHMpLGYucHVzaChzKTtzLnB1c2gobmV3IEModCxbX10pLG5ldyBDKGksW2NdKSxuZXcgQyhyLGEpLG5ldyBDKHAsZikpfWVsc2UgeD5sfHxwP3MucHVzaChuZXcgQyh7eG1pbjp4LHltaW46bix4bWF4Om0seW1heDplfSxbX10pLG5ldyBDKHt4bWluOnUseW1pbjpuLHhtYXg6bCx5bWF4OmV9LFtjXSkpOnMucHVzaChuZXcgQyh7eG1pbjp4LHltaW46bix4bWF4OmwseW1heDplfSxbX10pKTtyZXR1cm4gc31mdW5jdGlvbiBnKHQsaSl7Y29uc3RbcyxuXT1pLnZhbGlkLGU9MipuO2xldCBoLG89MDtyZXR1cm4gdD5uPyhoPU1hdGguY2VpbChNYXRoLmFicyh0LW4pL2UpLHQtPWgqZSxvPWgpOnQ8cyYmKGg9TWF0aC5jZWlsKE1hdGguYWJzKHQtcykvZSksdCs9aCplLG89LWgpLHt4OnQsZnJhbWVJZDpvfX1mdW5jdGlvbiB2KHQsaSl7Y29uc3R7eG1pbjpzLHltaW46bix4bWF4OmUseW1heDpofT1pO3JldHVybiBPKHQscyxuKSYmTyh0LHMsaCkmJk8odCxlLGgpJiZPKHQsZSxuKX1mdW5jdGlvbiBPKHQsaSxzKXtyZXR1cm4gaT49dC54bWluJiZpPD10LnhtYXgmJnM+PXQueW1pbiYmczw9dC55bWF4fWZ1bmN0aW9uIFAodCxpLHM9ITApe2NvbnN0IGU9IXUodCk7aWYoZSYmbih0KSxzKXtyZXR1cm4obmV3IFQpLmN1dCh0LGkpfWNvbnN0IGg9ZT90LnJpbmdzOnQucGF0aHMsbz1lPzQ6MixyPWgubGVuZ3RoLG09LTIqaTtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCB0PWhbbl07aWYodCYmdC5sZW5ndGg+PW8pe2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgb2YgdClpLnB1c2goW3NbMF0rbSxzWzFdXSk7aC5wdXNoKGkpfX1yZXR1cm4gZT90LnJpbmdzPWg6dC5wYXRocz1oLHR9Y2xhc3MgQ3tjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuZXh0ZW50PXQsdGhpcy5mcmFtZUlkcz1pfX1jb25zdCBTPWkoKTtjbGFzcyBUe2NvbnN0cnVjdG9yKCl7dGhpcy5fbGluZXNJbj1bXSx0aGlzLl9saW5lc091dD1bXX1jdXQodCxpKXtsZXQgcztpZih0aGlzLl94Q3V0PWksdC5yaW5ncyl0aGlzLl9jbG9zZWQ9ITAscz10LnJpbmdzLHRoaXMuX21pblB0cz00O2Vsc2V7aWYoIXQucGF0aHMpcmV0dXJuIG51bGw7dGhpcy5fY2xvc2VkPSExLHM9dC5wYXRocyx0aGlzLl9taW5QdHM9Mn1mb3IoY29uc3QgZSBvZiBzKXtpZighZXx8ZS5sZW5ndGg8dGhpcy5fbWluUHRzKWNvbnRpbnVlO2xldCB0PSEwO2Zvcihjb25zdCBpIG9mIGUpdD8odGhpcy5tb3ZlVG8oaSksdD0hMSk6dGhpcy5saW5lVG8oaSk7dGhpcy5fY2xvc2VkJiZ0aGlzLmNsb3NlKCl9dGhpcy5fcHVzaExpbmVJbigpLHRoaXMuX3B1c2hMaW5lT3V0KCkscz1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLl9saW5lc0luKWUmJmUubGVuZ3RoPj10aGlzLl9taW5QdHMmJnMucHVzaChlKTtjb25zdCBuPS0yKnRoaXMuX3hDdXQ7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbGluZXNPdXQpaWYoZSYmZS5sZW5ndGg+PXRoaXMuX21pblB0cyl7Zm9yKGNvbnN0IHQgb2YgZSl0WzBdKz1uO3MucHVzaChlKX1yZXR1cm4gdGhpcy5fY2xvc2VkP3QucmluZ3M9czp0LnBhdGhzPXMsdH1tb3ZlVG8odCl7dGhpcy5fcHVzaExpbmVJbigpLHRoaXMuX3B1c2hMaW5lT3V0KCksdGhpcy5fcHJldlNpZGU9dGhpcy5fc2lkZSh0WzBdKSx0aGlzLl9tb3ZlVG8odFswXSx0WzFdLHRoaXMuX3ByZXZTaWRlKSx0aGlzLl9wcmV2UHQ9dCx0aGlzLl9maXJzdFB0PXR9bGluZVRvKHQpe2NvbnN0IGk9dGhpcy5fc2lkZSh0WzBdKTtpZihpKnRoaXMuX3ByZXZTaWRlPT0tMSl7Y29uc3Qgcz10aGlzLl9pbnRlcnNlY3QodGhpcy5fcHJldlB0LHQpO3RoaXMuX2xpbmVUbyh0aGlzLl94Q3V0LHMsMCksdGhpcy5fcHJldlNpZGU9MCx0aGlzLl9saW5lVG8odFswXSx0WzFdLGkpfWVsc2UgdGhpcy5fbGluZVRvKHRbMF0sdFsxXSxpKTt0aGlzLl9wcmV2U2lkZT1pLHRoaXMuX3ByZXZQdD10fWNsb3NlKCl7Y29uc3QgdD10aGlzLl9maXJzdFB0LGk9dGhpcy5fcHJldlB0O3RbMF09PT1pWzBdJiZ0WzFdPT09aVsxXXx8dGhpcy5saW5lVG8odCksdGhpcy5fY2hlY2tDbG9zaW5nUHQodGhpcy5fbGluZUluKSx0aGlzLl9jaGVja0Nsb3NpbmdQdCh0aGlzLl9saW5lT3V0KX1fbW92ZVRvKHQsaSxzKXt0aGlzLl9jbG9zZWQ/KHRoaXMuX2xpbmVJbi5wdXNoKFtzPD0wP3Q6dGhpcy5feEN1dCxpXSksdGhpcy5fbGluZU91dC5wdXNoKFtzPj0wP3Q6dGhpcy5feEN1dCxpXSkpOihzPD0wJiZ0aGlzLl9saW5lSW4ucHVzaChbdCxpXSkscz49MCYmdGhpcy5fbGluZU91dC5wdXNoKFt0LGldKSl9X2xpbmVUbyh0LGkscyl7dGhpcy5fY2xvc2VkPyh0aGlzLl9hZGRQb2x5VmVydGV4KHRoaXMuX2xpbmVJbixzPD0wP3Q6dGhpcy5feEN1dCxpKSx0aGlzLl9hZGRQb2x5VmVydGV4KHRoaXMuX2xpbmVPdXQscz49MD90OnRoaXMuX3hDdXQsaSkpOnM8MD8oMD09PXRoaXMuX3ByZXZTaWRlJiZ0aGlzLl9wdXNoTGluZU91dCgpLHRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSk6cz4wPygwPT09dGhpcy5fcHJldlNpZGUmJnRoaXMuX3B1c2hMaW5lSW4oKSx0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pKTp0aGlzLl9wcmV2U2lkZTwwPyh0aGlzLl9saW5lSW4ucHVzaChbdCxpXSksdGhpcy5fbGluZU91dC5wdXNoKFt0LGldKSk6dGhpcy5fcHJldlNpZGU+MCYmKHRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSksdGhpcy5fbGluZUluLnB1c2goW3QsaV0pKX1fYWRkUG9seVZlcnRleCh0LGkscyl7Y29uc3Qgbj10Lmxlbmd0aDtuPjEmJnRbbi0xXVswXT09PWkmJnRbbi0yXVswXT09PWk/dFtuLTFdWzFdPXM6dC5wdXNoKFtpLHNdKX1fY2hlY2tDbG9zaW5nUHQodCl7Y29uc3QgaT10Lmxlbmd0aDtpPjMmJnRbMF1bMF09PT10aGlzLl94Q3V0JiZ0W2ktMl1bMF09PT10aGlzLl94Q3V0JiZ0WzFdWzBdPT09dGhpcy5feEN1dCYmKHRbMF1bMV09dFtpLTJdWzFdLHQucG9wKCkpfV9zaWRlKHQpe3JldHVybiB0PHRoaXMuX3hDdXQ/LTE6dD50aGlzLl94Q3V0PzE6MH1faW50ZXJzZWN0KHQsaSl7Y29uc3Qgcz0odGhpcy5feEN1dC10WzBdKS8oaVswXS10WzBdKTtyZXR1cm4gdFsxXStzKihpWzFdLXRbMV0pfV9wdXNoTGluZUluKCl7dGhpcy5fbGluZUluJiZ0aGlzLl9saW5lSW4ubGVuZ3RoPj10aGlzLl9taW5QdHMmJnRoaXMuX2xpbmVzSW4ucHVzaCh0aGlzLl9saW5lSW4pLHRoaXMuX2xpbmVJbj1bXX1fcHVzaExpbmVPdXQoKXt0aGlzLl9saW5lT3V0JiZ0aGlzLl9saW5lT3V0Lmxlbmd0aD49dGhpcy5fbWluUHRzJiZ0aGlzLl9saW5lc091dC5wdXNoKHRoaXMuX2xpbmVPdXQpLHRoaXMuX2xpbmVPdXQ9W119fWV4cG9ydHtUIGFzIEN1dFZlcnRpY2FsLGEgYXMgbm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuRm9yRGlzcGxheSxwIGFzIG5vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhblN5bmN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIG99ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2dlb21ldHJ5L1BvbHlnb24uanNcIjtpbXBvcnR7cHJvamVjdE9yTG9hZCBhcyBufWZyb21cIi4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24uanNcIjtpbXBvcnR7ZnJvbUV4dGVudCBhcyBwfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuU3luYyBhcyBsfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHNTeW5jLmpzXCI7bGV0IGk9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pfWdldCBib3VuZHMoKXtjb25zdCBvPXRoaXMuY29vcmRzO3JldHVybiBudWxsPT1vPy5leHRlbnQ/bnVsbDpwKG8uZXh0ZW50KX1nZXQgY29vcmRzKCl7Y29uc3Qgbz10aGlzLmVsZW1lbnQuZ2VvcmVmZXJlbmNlPy5jb29yZHM7cmV0dXJuIG4obyx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpLmdlb21ldHJ5fWdldCBub3JtYWxpemVkQ29vcmRzKCl7cmV0dXJuIHMuZnJvbUpTT04obCh0aGlzLmNvb3JkcykpfWdldCBub3JtYWxpemVkQm91bmRzKCl7Y29uc3Qgbz1udWxsIT10aGlzLm5vcm1hbGl6ZWRDb29yZHM/dGhpcy5ub3JtYWxpemVkQ29vcmRzLmV4dGVudDpudWxsO3JldHVybiBudWxsIT1vP3Aobyk6bnVsbH19O28oW2UoKV0saS5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxvKFtlKCldLGkucHJvdG90eXBlLFwiZWxlbWVudFwiLHZvaWQgMCksbyhbZSgpXSxpLnByb3RvdHlwZSxcImJvdW5kc1wiLG51bGwpLG8oW2UoKV0saS5wcm90b3R5cGUsXCJjb29yZHNcIixudWxsKSxvKFtlKCldLGkucHJvdG90eXBlLFwibm9ybWFsaXplZENvb3Jkc1wiLG51bGwpLG8oW2UoKV0saS5wcm90b3R5cGUsXCJub3JtYWxpemVkQm91bmRzXCIsbnVsbCksaT1vKFt0KFwiZXNyaS5sYXllcnMuc3VwcG9ydC5NZWRpYUVsZW1lbnRWaWV3XCIpXSxpKTtleHBvcnR7aSBhcyBNZWRpYUVsZW1lbnRWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3N1cHBvcnRzSGVpZ2h0TW9kZWxJbmZvIGFzIGEscmVqZWN0TGF5ZXJFcnJvciBhcyBsfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvaGVpZ2h0TW9kZWxJbmZvVXRpbHMuanNcIjtjb25zdCBuPW49PntsZXQgYz1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ITEsdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uPSExfXBvc3RzY3JpcHQoZSl7c3VwZXIucG9zdHNjcmlwdChlKSxhKHRoaXMubGF5ZXIpJiZ0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKSl9YXN5bmMgX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCl7Y29uc3QgZT1uZXcgQWJvcnRDb250cm9sbGVyLG89ZS5zaWduYWw7dGhpcy5hZGRIYW5kbGVzKHMoKCgpPT5lLmFib3J0KCkpKSksYXdhaXQgcigoKCk9PnRoaXMudmlldy5kZWZhdWx0c0Zyb21NYXA/LmhlaWdodE1vZGVsSW5mb1JlYWR5KSxvKSx0KG8pO2NvbnN0IGk9bCh0aGlzLmxheWVyLHRoaXMudmlldy5oZWlnaHRNb2RlbEluZm8sdGhpcy5zdXBwb3J0c0hlaWdodFVuaXRDb252ZXJzaW9uKTtpZihpKXRocm93IGl9Y2FuUmVzdW1lKCl7Y29uc3QgZT10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHN1cGVyLmNhblJlc3VtZSgpJiYoIWU/Lm1pblNjYWxlfHwhZS5tYXhTY2FsZXx8ZS5taW5TY2FsZT49ZS5tYXhTY2FsZSl9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXN1cGVyLmdldFN1c3BlbmRJbmZvKCkscz10aGlzLmxheWVyJiZcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlOm51bGw7cmV0dXJuIHMmJnMubWluU2NhbGUmJnMubWF4U2NhbGUmJnMubWluU2NhbGU8cy5tYXhTY2FsZSYmKGUub3V0c2lkZVNjYWxlUmFuZ2U9ITApLGV9fTtyZXR1cm4gZShbbygpXSxjLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW28oKV0sYy5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksYz1lKFtpKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuTGF5ZXJWaWV3M0RcIildLGMpLGN9O2V4cG9ydHtuIGFzIExheWVyVmlldzNEfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgcixoYW5kbGVzR3JvdXAgYXMgaSxkZXN0cm95SGFuZGxlIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtnZXRQcm9qZWN0aXZlVHJhbnNmb3JtIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wZXJzcGVjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIGEsaXNQcm9taXNlTGlrZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e29uIGFzIGR9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGx9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBtfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YSBhcyBwfWZyb21cIi4uLy4uLy4uL2NodW5rcy9tYXQzZjY0LmpzXCI7aW1wb3J0e3RvRXh0ZW50IGFzIGN9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtNZWRpYUVsZW1lbnRWaWV3IGFzIGh9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvTWVkaWFFbGVtZW50Vmlldy5qc1wiO2ltcG9ydHtEcmFwZVNvdXJjZVR5cGUgYXMgdX1mcm9tXCIuL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7TGF5ZXJWaWV3M0QgYXMgeX1mcm9tXCIuL0xheWVyVmlldzNELmpzXCI7aW1wb3J0e2RyYXBlZFogYXMgX31mcm9tXCIuLi90ZXJyYWluL092ZXJsYXlSZW5kZXJlci5qc1wiO2ltcG9ydHtBdHRyaWJ1dGUgYXMgZ31mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL0F0dHJpYnV0ZS5qc1wiO2ltcG9ydHtHZW9tZXRyeSBhcyBFfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnkuanNcIjtpbXBvcnR7RGlydHlPcGVyYXRpb24gYXMgZixEaXJ0eVN0YXRlIGFzIER9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9Nb2RlbERpcnR5VHlwZXMuanNcIjtpbXBvcnR7UmVuZGVyR2VvbWV0cnkgYXMgd31mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL1JlbmRlckdlb21ldHJ5LmpzXCI7aW1wb3J0e1RleHR1cmUgYXMgdn1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbGliL1RleHR1cmUuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIGJ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIFJ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7SW1hZ2VNYXRlcmlhbCBhcyBqfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvSW1hZ2VNYXRlcmlhbC5qc1wiO2ltcG9ydCBUIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnR7VGV4dHVyZVdyYXBNb2RlIGFzIEF9ZnJvbVwiLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtsZXQgeD1jbGFzcyBleHRlbmRzKHkoVCkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJtZWRpYS0zZFwiLHRoaXMuZHJhcGVTb3VyY2VUeXBlPXUuUmFzdGVySW1hZ2UsdGhpcy51cGRhdGVQb2xpY3k9Yi5BU1lOQyx0aGlzLl91aWRUb0VsZW1lbnQ9bmV3IE1hcCx0aGlzLl9yZW5kZXJlZEVsZW1lbnRzPW5ldyBNYXAsdGhpcy5fbGFzdERyYXBpbmdFeHRlbnQ9bnVsbCx0aGlzLl91cGRhdGU9YSgoYXN5bmMoZSx0LHIpPT57Y29uc3QgaT1hd2FpdCB0aGlzLl9jb2xsZWN0TWVkaWFFbGVtZW50cyhlLHQscik7dGhpcy5fc3luY2hyb25pemVSZW5kZXJFbGVtZW50cyhpKX0pLDApfWluaXRpYWxpemUoKXt0aGlzLl9yZW5kZXJlcj10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVnaXN0ZXJHZW9tZXRyeURyYXBlU291cmNlKHRoaXMpO2NvbnN0IGU9KCk9PnRoaXMuX3VwZGF0ZVdpdGhMYXN0RHJhcGluZ0V4dGVudCgpO3RoaXMuYWRkSGFuZGxlcyhbcigoKCk9PnRoaXMudmlldy5iYXNlbWFwVGVycmFpbi5vdmVybGF5TWFuYWdlci51bnJlZ2lzdGVyRHJhcGVTb3VyY2UodGhpcykpKSxkKCgoKT0+dGhpcy5sYXllci5lZmZlY3RpdmVTb3VyY2UpLFwiY2hhbmdlXCIsZSksZCgoKCk9PnRoaXMubGF5ZXIuZWZmZWN0aXZlU291cmNlKSxcInJlZnJlc2hcIixlKV0pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnN1c3BlbmRlZCksZSl9c2V0RHJhcGluZ0V4dGVudChlLHQpe3RoaXMuX2xhc3REcmFwaW5nRXh0ZW50PXtvdmVybGF5czplLHNwYXRpYWxSZWZlcmVuY2U6dH0sdGhpcy5fdXBkYXRlV2l0aExhc3REcmFwaW5nRXh0ZW50KCl9Z2V0SGl0KGUpe2NvbnN0IHQ9dGhpcy5fdWlkVG9FbGVtZW50LmdldChlKTtyZXR1cm4gdD97dHlwZTpcIm1lZGlhXCIsZWxlbWVudDp0LGxheWVyOnRoaXMubGF5ZXJ9Om51bGx9X3VwZGF0ZVdpdGhMYXN0RHJhcGluZ0V4dGVudCgpe2lmKG51bGw9PXRoaXMuX2xhc3REcmFwaW5nRXh0ZW50fHx0aGlzLnN1c3BlbmRlZClyZXR1cm4gdm9pZCh0aGlzLl9yZW5kZXJlciYmdGhpcy5fc3luY2hyb25pemVSZW5kZXJFbGVtZW50cyhuZXcgU2V0KSk7Y29uc3R7b3ZlcmxheXM6ZSxzcGF0aWFsUmVmZXJlbmNlOnR9PXRoaXMuX2xhc3REcmFwaW5nRXh0ZW50O3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3VwZGF0ZShlLHQpLmNhdGNoKCgoKT0+e30pKSl9YXN5bmMgX2NvbGxlY3RNZWRpYUVsZW1lbnRzKGUsdCxyKXtjb25zdCBpPXRoaXMubGF5ZXIuZWZmZWN0aXZlU291cmNlO3JldHVybiBudWxsPT1pP25ldyBTZXQ6bmV3IFNldCgoYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PmkucXVlcnlFbGVtZW50cyhjKGUuZXh0ZW50LHQpLHtzaWduYWw6cn0pKSkpKS5mbGF0KCkpfV9zeW5jaHJvbml6ZVJlbmRlckVsZW1lbnRzKGUpe3RoaXMuX3N5bmNocm9uaXplUmVuZGVyRWxlbWVudHNSZW1vdmUoZSksdGhpcy5fc3luY2hyb25pemVSZW5kZXJFbGVtZW50c0FkZChlKX1fc3luY2hyb25pemVSZW5kZXJFbGVtZW50c1JlbW92ZShlKXtjb25zdCB0PW5ldyBTZXQscj1bXTt0aGlzLl9yZW5kZXJlZEVsZW1lbnRzLmZvckVhY2goKChpLG4pPT57ZS5oYXMobil8fCh0LmFkZChuKSxudWxsIT1pLnJlbmRlckRhdGEmJnIucHVzaChpLnJlbmRlckRhdGEucmVuZGVyR2VvbWV0cnkpLHRoaXMuX3JlbW92ZUVsZW1lbnQobixpKSl9KSksdGhpcy5fcmVuZGVyZXIucmVtb3ZlR2VvbWV0cmllcyhyLGYuUkVNT1ZFKX1fc3luY2hyb25pemVSZW5kZXJFbGVtZW50c0FkZChlKXtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3JlbmRlcmVkRWxlbWVudHMuaGFzKHQpfHx0aGlzLl9jcmVhdGVSZW5kZXJFbGVtZW50KHQpfV9yZW1vdmVFbGVtZW50KGUse3JlbmRlckRhdGE6dCxoYW5kbGU6cn0pe3RoaXMuX2Rlc3Ryb3lSZW5kZXJEYXRhKHQpLHRoaXMuX3JlbmRlcmVkRWxlbWVudHMuZGVsZXRlKGUpLHRoaXMuX3VpZFRvRWxlbWVudC5kZWxldGUoZS51aWQpLHIucmVtb3ZlKCl9YXN5bmMgX2NyZWF0ZVJlbmRlckVsZW1lbnQoZSl7Y29uc3QgdD1uZXcgaCh7c3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxlbGVtZW50OmV9KSxyPXtyZW5kZXJEYXRhOm51bGwsaGFuZGxlOmkoW3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLm9wYWNpdHkpLChlPT57bnVsbCE9ci5yZW5kZXJEYXRhJiZyLnJlbmRlckRhdGEubWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7b3BhY2l0eTplfSl9KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnQuY29vcmRzKSwoKCk9PntudWxsIT1yLnJlbmRlckRhdGE/dGhpcy5fdXBkYXRlR2VvbWV0cnkodCxyLHIucmVuZGVyRGF0YSk6dGhpcy5faW5pdGlhbGl6ZVJlbmRlckRhdGEodCxyKX0pKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS5jb250ZW50KSwoKCk9PnRoaXMuX2luaXRpYWxpemVSZW5kZXJEYXRhKHQscikpKSxuKHQpXSl9O3RoaXMuX3JlbmRlcmVkRWxlbWVudHMuc2V0KGUsciksdGhpcy5fdWlkVG9FbGVtZW50LnNldChlLnVpZCxlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShlLmxvYWQoKS5jYXRjaCgoKCk9Pnt9KSkpLHRoaXMuX2luaXRpYWxpemVSZW5kZXJEYXRhKHQscil9X2luaXRpYWxpemVSZW5kZXJEYXRhKGUsdCl7Y29uc3R7Y29vcmRzOnIsZWxlbWVudDppfT1lLHtjb250ZW50V2lkdGg6bixjb250ZW50SGVpZ2h0OnN9PWk7aWYobnVsbD09cnx8bnVsbD09aS5jb250ZW50KXJldHVybiB2b2lkKHQucmVuZGVyRGF0YT10aGlzLl9kZXN0cm95UmVuZGVyRGF0YSh0LnJlbmRlckRhdGEpKTtpZihudWxsIT10LnJlbmRlckRhdGEpcmV0dXJuO2NvbnN0IGE9dGhpcy5fY3JlYXRlVGV4dHVyZShpLmNvbnRlbnQpLGQ9YS5sb2FkKHRoaXMudmlldy5fc3RhZ2UucmVuZGVyVmlldy5yZW5kZXJpbmdDb250ZXh0KTt0aGlzLnZpZXcuX3N0YWdlLmFkZChhKSxvKGQpJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShkKTtjb25zdCBsPW5ldyBqKHtpbml0VGV4dHVyZVRyYW5zcGFyZW50OiEwLHRleHR1cmVJZDphLmlkLG9wYWNpdHk6aS5vcGFjaXR5LHRyYW5zcGFyZW50OiEwLHBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbjohMH0pLG09dGhpcy5fZ2V0UG9zaXRpb25BdHRyaWJ1dGVBcnJheShyKSxwPVswLDAsMSwwLDEsMSwwLDFdLGM9dGhpcy5fZ2V0UGVyc3BlY3RpdmVEaXZpZGVBdHRyaWJ1dGVBcnJheShtLG4scyksaD1bMCwxLDIsMCwyLDNdLHU9bmV3IEUobCxbW1IuUE9TSVRJT04sbmV3IGcobSxoLDMsITApXSxbUi5VVjAsbmV3IGcocCxoLDIsITApXSxbUi5QRVJTUEVDVElWRURJVklERSxuZXcgZyhjLGgsMSwhMCldXSkseT1uZXcgdyh1LHtsYXllclVpZDp0aGlzLmxheWVyLnVpZCxncmFwaGljVWlkOmkudWlkfSk7dGhpcy5fcmVuZGVyZXIuYWRkR2VvbWV0cmllcyhbeV0sZi5BREQpLHQucmVuZGVyRGF0YT17cmVuZGVyR2VvbWV0cnk6eSx0ZXh0dXJlOmEsbWF0ZXJpYWw6bH19X3VwZGF0ZUdlb21ldHJ5KGUsdCxyKXtjb25zdHtjb29yZHM6aSxlbGVtZW50Om59PWU7aWYobnVsbD09aXx8bnVsbD09bi5jb250ZW50KXJldHVybiB2b2lkKHQucmVuZGVyRGF0YT10aGlzLl9kZXN0cm95UmVuZGVyRGF0YSh0LnJlbmRlckRhdGEpKTtjb25zdCBzPXRoaXMuX2dldFBvc2l0aW9uQXR0cmlidXRlQXJyYXkoaSk7ci5yZW5kZXJHZW9tZXRyeS5nZW9tZXRyeS5zZXRBdHRyaWJ1dGVEYXRhKFIuUE9TSVRJT04scyk7Y29uc3QgYT10aGlzLl9nZXRQZXJzcGVjdGl2ZURpdmlkZUF0dHJpYnV0ZUFycmF5KHMsbi5jb250ZW50V2lkdGgsbi5jb250ZW50SGVpZ2h0KTtyLnJlbmRlckdlb21ldHJ5Lmdlb21ldHJ5LnNldEF0dHJpYnV0ZURhdGEoUi5QRVJTUEVDVElWRURJVklERSxhKSx0aGlzLl9yZW5kZXJlci5tb2RpZnlHZW9tZXRyaWVzKFtyLnJlbmRlckdlb21ldHJ5XSxELkdFT01FVFJZKX1fZ2V0UG9zaXRpb25BdHRyaWJ1dGVBcnJheShlKXtjb25zdFt0LHIsaSxuXT1lLnJpbmdzWzBdO3JldHVyblt0WzBdLHRbMV0sXyxuWzBdLG5bMV0sXyxpWzBdLGlbMV0sXyxyWzBdLHJbMV0sX119X2dldFBlcnNwZWN0aXZlRGl2aWRlQXR0cmlidXRlQXJyYXkoZSx0LHIpe3MoUCxbMCwwLHQsMCx0LHIsMCxyXSxbZVswXSxlWzFdLGVbM10sZVs0XSxlWzZdLGVbN10sZVs5XSxlWzEwXV0pO2NvbnN0IGk9UFs2XS9QWzhdKnQsbj1QWzddL1BbOF0qcjtyZXR1cm5bMSwxK2ksMStpK24sMStuXX1fZGVzdHJveVJlbmRlckRhdGEoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCB0PWUudGV4dHVyZTtyZXR1cm4gdC51bmxvYWQoKSx0aGlzLnZpZXcuX3N0YWdlLnJlbW92ZSh0KSx0aGlzLl9yZW5kZXJlci5yZW1vdmVHZW9tZXRyaWVzKFtlLnJlbmRlckdlb21ldHJ5XSxmLlJFTU9WRSksbnVsbH1fY3JlYXRlVGV4dHVyZShlKXtjb25zdCByPWUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P2UubmF0dXJhbFdpZHRoOmUud2lkdGgsaT1lIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9lLm5hdHVyYWxIZWlnaHQ6ZS5oZWlnaHQ7aWYoXCJnZXRGcmFtZVwiaW4gZSl0aHJvdyBuZXcgdChcIm1lZGlhLWxheWVyLXZpZXctM2RcIixcImFuaW1hdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBuZXcgdihlLHt3cmFwOntzOkEuQ0xBTVBfVE9fRURHRSx0OkEuQ0xBTVBfVE9fRURHRX0scHJlTXVsdGlwbHlBbHBoYTohMCx3aWR0aDpyLGhlaWdodDppLG1pcG1hcDohMCx1cGRhdGVDYWxsYmFjazooKT0+dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLm92ZXJsYXlNYW5hZ2VyLnNldERyYXdUZXh0dXJlc0RpcnR5KCl9KX1nZXQgdGVzdCgpe2NvbnN0IGU9dGhpcztyZXR1cm57Z2V0IG51bWJlck9mRWxlbWVudHMoKXtyZXR1cm4gZS5fcmVuZGVyZWRFbGVtZW50cy5zaXplfX19fTtlKFtsKHtyZWFkT25seTohMH0pXSx4LnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2woKV0seC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCkseD1lKFttKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuTWVkaWFMYXllclZpZXczRFwiKV0seCk7Y29uc3QgUD1wKCksTT14O2V4cG9ydHtNIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtCdWZmZXJWaWV3RmxvYXQgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2J1ZmZlci9CdWZmZXJWaWV3LmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyBlfWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnR7Q3VsbEZhY2VPcHRpb25zIGFzIHJ9ZnJvbVwiLi4vbGliL2Jhc2ljSW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtHTFRleHR1cmVNYXRlcmlhbCBhcyBzfWZyb21cIi4uL2xpYi9HTFRleHR1cmVNYXRlcmlhbC5qc1wiO2ltcG9ydHtNYXRlcmlhbFBhcmFtZXRlcnMgYXMgaX1mcm9tXCIuLi9saWIvTWF0ZXJpYWwuanNcIjtpbXBvcnR7T0lUUG9seWdvbk9mZnNldExpbWl0IGFzIGF9ZnJvbVwiLi4vbGliL09yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kuanNcIjtpbXBvcnR7UmVuZGVyU2xvdCBhcyBufWZyb21cIi4uL2xpYi9SZW5kZXJTbG90LmpzXCI7aW1wb3J0e2Fzc2VydCBhcyBvfWZyb21cIi4uL2xpYi9VdGlsLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyB1fWZyb21cIi4uL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7RGVmYXVsdEJ1ZmZlcldyaXRlciBhcyBsfWZyb21cIi4vRGVmYXVsdEJ1ZmZlcldyaXRlci5qc1wiO2ltcG9ydHtQb3NpdGlvblVWTGF5b3V0IGFzIHB9ZnJvbVwiLi9EZWZhdWx0TGF5b3V0cy5qc1wiO2ltcG9ydHtUcmlhbmdsZU1hdGVyaWFsIGFzIGN9ZnJvbVwiLi9UcmlhbmdsZU1hdGVyaWFsLmpzXCI7aW1wb3J0e3dyaXRlQnVmZmVyRmxvYXQgYXMgaCx3cml0ZURlZmF1bHRBdHRyaWJ1dGUgYXMgbX1mcm9tXCIuL2ludGVybmFsL2J1ZmZlcldyaXRlclV0aWxzLmpzXCI7aW1wb3J0e3ZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucyBhcyBmLEltYWdlTWF0ZXJpYWxUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIGQsSW1hZ2VNYXRlcmlhbFRlY2huaXF1ZSBhcyBffWZyb21cIi4uL3NoYWRlcnMvSW1hZ2VNYXRlcmlhbFRlY2huaXF1ZS5qc1wiO2NsYXNzIGcgZXh0ZW5kcyBje2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsbmV3IFQpLHRoaXMuc3VwcG9ydHNFZGdlcz0hMCx0aGlzLl92ZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnM9Zix0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBkfWdldENvbmZpZ3VyYXRpb24odCxlKXtyZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbi5vdXRwdXQ9dCx0aGlzLl9jb25maWd1cmF0aW9uLmN1bGxGYWNlPXRoaXMucGFyYW1ldGVycy5jdWxsRmFjZSx0aGlzLl9jb25maWd1cmF0aW9uLmhhc1NsaWNlUGxhbmU9dGhpcy5wYXJhbWV0ZXJzLmhhc1NsaWNlUGxhbmUsdGhpcy5fY29uZmlndXJhdGlvbi50cmFuc3BhcmVudD10aGlzLnBhcmFtZXRlcnMudHJhbnNwYXJlbnQsdGhpcy5fY29uZmlndXJhdGlvbi53cml0ZURlcHRoPXRoaXMucGFyYW1ldGVycy53cml0ZURlcHRoLHRoaXMuX2NvbmZpZ3VyYXRpb24uaGFzT2NjbHVkZWVzPXRoaXMucGFyYW1ldGVycy5oYXNPY2NsdWRlZXMsdGhpcy5fY29uZmlndXJhdGlvbi50cmFuc3BhcmVuY3lQYXNzVHlwZT1lLnRyYW5zcGFyZW5jeVBhc3NUeXBlLHRoaXMuX2NvbmZpZ3VyYXRpb24uZW5hYmxlT2Zmc2V0PWUuY2FtZXJhLnJlbGF0aXZlRWxldmF0aW9uPGEsdGhpcy5fY29uZmlndXJhdGlvbi5tdWx0aXBhc3NFbmFibGVkPWUubXVsdGlwYXNzRW5hYmxlZCx0aGlzLl9jb25maWd1cmF0aW9uLmN1bGxBYm92ZUdyb3VuZD1lLm11bHRpcGFzc1RlcnJhaW4uY3VsbEFib3ZlR3JvdW5kLHRoaXMuX2NvbmZpZ3VyYXRpb24ucGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uPXRoaXMucGFyYW1ldGVycy5wZXJzcGVjdGl2ZUludGVycG9sYXRpb24sdGhpcy5fY29uZmlndXJhdGlvbn1wcm9kdWNlcyh0LHIpe2lmKHI9PT1lLkNvbG9yfHxyPT09ZS5BbHBoYXx8cj09PWUuSGlnaGxpZ2h0KXtpZih0PT09bi5EUkFQRURfTUFURVJJQUwpcmV0dXJuITA7aWYocj09PWUuSGlnaGxpZ2h0KXJldHVybiB0PT09bi5PUEFRVUVfTUFURVJJQUw7cmV0dXJuIHQ9PT0odGhpcy5wYXJhbWV0ZXJzLnRyYW5zcGFyZW50P3RoaXMucGFyYW1ldGVycy53cml0ZURlcHRoP24uVFJBTlNQQVJFTlRfTUFURVJJQUw6bi5UUkFOU1BBUkVOVF9ERVBUSF9XUklURV9ESVNBQkxFRF9NQVRFUklBTDpuLk9QQVFVRV9NQVRFUklBTCl9cmV0dXJuITF9Y3JlYXRlR0xNYXRlcmlhbCh0KXtyZXR1cm4gbmV3IEUodCl9Y3JlYXRlQnVmZmVyV3JpdGVyKCl7Y29uc3QgdD1wLmNsb25lKCk7cmV0dXJuIHRoaXMucGFyYW1ldGVycy5wZXJzcGVjdGl2ZUludGVycG9sYXRpb24mJnQuZjMyKHUuUEVSU1BFQ1RJVkVESVZJREUpLG5ldyBBKHQpfX1jbGFzcyBFIGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih7Li4udCwuLi50Lm1hdGVyaWFsLnBhcmFtZXRlcnN9KX1fdXBkYXRlUGFyYW1ldGVycyh0KXtyZXR1cm4gdGhpcy51cGRhdGVUZXh0dXJlKHRoaXMuX21hdGVyaWFsLnBhcmFtZXRlcnMudGV4dHVyZUlkKSx0aGlzLl9tYXRlcmlhbC5zZXRQYXJhbWV0ZXJzKHRoaXMudGV4dHVyZUJpbmRQYXJhbWV0ZXJzKSx0aGlzLmVuc3VyZVRlY2huaXF1ZShfLHQpfV91cGRhdGVPY2NsdWRlZVN0YXRlKHQpe3QuaGFzT2NjbHVkZWVzIT09dGhpcy5fbWF0ZXJpYWwucGFyYW1ldGVycy5oYXNPY2NsdWRlZXMmJih0aGlzLl9tYXRlcmlhbC5zZXRQYXJhbWV0ZXJzKHtoYXNPY2NsdWRlZXM6dC5oYXNPY2NsdWRlZXN9KSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKHQpKX1iZWdpblNsb3QodCl7cmV0dXJuIHRoaXMuX291dHB1dCE9PWUuQ29sb3ImJnRoaXMuX291dHB1dCE9PWUuQWxwaGF8fHRoaXMuX3VwZGF0ZU9jY2x1ZGVlU3RhdGUodCksdGhpcy5fdXBkYXRlUGFyYW1ldGVycyh0KX19Y2xhc3MgQSBleHRlbmRzIGx7d3JpdGUoZSxyLHMsaSxhKXtmb3IoY29uc3QgbiBvZiB0aGlzLnZlcnRleEJ1ZmZlckxheW91dC5maWVsZHMua2V5cygpKXtjb25zdCBsPXMuYXR0cmlidXRlcy5nZXQobik7aWYobClpZihuPT09dS5QRVJTUEVDVElWRURJVklERSl7bygxPT09bC5zaXplKTtjb25zdCBlPWkuZ2V0RmllbGQobix0KTtlJiZoKGwsZSxhKX1lbHNlIG0obixsLGUscixpLGEpfX19Y2xhc3MgVCBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHJhbnNwYXJlbnQ9ITEsdGhpcy53cml0ZURlcHRoPSEwLHRoaXMuaGFzU2xpY2VQbGFuZT0hMSx0aGlzLmN1bGxGYWNlPXIuTm9uZSx0aGlzLmhhc09jY2x1ZGVlcz0hMSx0aGlzLm9wYWNpdHk9MSx0aGlzLnRleHR1cmVJZD1udWxsLHRoaXMuaW5pdFRleHR1cmVUcmFuc3BhcmVudD0hMCx0aGlzLnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbj0hMX19ZXhwb3J0e2cgYXMgSW1hZ2VNYXRlcmlhbCxUIGFzIFBhcmFtZXRlcnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtTaGFkZXJPdXRwdXQgYXMgdH1mcm9tXCIuLi9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e05vUGFyYW1ldGVycyBhcyByfWZyb21cIi4uL2NvcmUvc2hhZGVyTW9kdWxlcy9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e1JlbG9hZGFibGVTaGFkZXJNb2R1bGUgYXMgb31mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9SZWxvYWRhYmxlU2hhZGVyTW9kdWxlLmpzXCI7aW1wb3J0e1NoYWRlclRlY2huaXF1ZSBhcyBpfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZS5qc1wiO2ltcG9ydHtwYXJhbWV0ZXIgYXMgc31mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0N1bGxGYWNlT3B0aW9ucyBhcyBufWZyb21cIi4uL2xpYi9iYXNpY0ludGVyZmFjZXMuanNcIjtpbXBvcnR7b2l0QmxlbmRpbmcgYXMgYSxvaXREZXB0aFRlc3QgYXMgbCxvaXREZXB0aFdyaXRlIGFzIHAsZ2V0T0lUUG9seWdvbk9mZnNldCBhcyBjfWZyb21cIi4uL2xpYi9PcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5LmpzXCI7aW1wb3J0e1Byb2dyYW0gYXMgdX1mcm9tXCIuLi9saWIvUHJvZ3JhbS5qc1wiO2ltcG9ydHtzdGVuY2lsV3JpdGVNYXNrT24gYXMgaCxzdGVuY2lsVG9vbE1hc2tCYXNlUGFyYW1zIGFzIGQsc3RlbmNpbEJhc2VBbGxaZXJvc1BhcmFtcyBhcyBtfWZyb21cIi4uL2xpYi9TdGVuY2lsVXRpbHMuanNcIjtpbXBvcnR7VHJhbnNwYXJlbmN5UGFzc1R5cGUgYXMgZn1mcm9tXCIuLi9saWIvVHJhbnNwYXJlbmN5UGFzc1R5cGUuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHl9ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtEZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBifWZyb21cIi4uL21hdGVyaWFscy9EZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtJIGFzIFB9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL0ltYWdlTWF0ZXJpYWwuZ2xzbC5qc1wiO2ltcG9ydHtCbGVuZEZhY3RvciBhcyBnfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e3NpbXBsZUJsZW5kaW5nUGFyYW1zIGFzIFQsbWFrZVBpcGVsaW5lU3RhdGUgYXMgTyxjdWxsaW5nUGFyYW1zIGFzIGosZGVmYXVsdERlcHRoV3JpdGVQYXJhbXMgYXMgUyxkZWZhdWx0Q29sb3JXcml0ZVBhcmFtcyBhcyB2fWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgSSBleHRlbmRzIHJ7fWNsYXNzIE4gZXh0ZW5kcyBpe2luaXRpYWxpemVQcm9ncmFtKGUpe3JldHVybiBuZXcgdShlLnJjdHgsTi5zaGFkZXIuZ2V0KCkuYnVpbGQodGhpcy5jb25maWd1cmF0aW9uKSxfKX1fc2V0UGlwZWxpbmVTdGF0ZShlLHIpe2NvbnN0IG89dGhpcy5jb25maWd1cmF0aW9uLGk9ZT09PWYuTk9ORSxzPWU9PT1mLkZyb250RmFjZTtyZXR1cm4gTyh7YmxlbmRpbmc6by5vdXRwdXQhPT10LkNvbG9yJiZvLm91dHB1dCE9PXQuQWxwaGF8fCFvLnRyYW5zcGFyZW50P251bGw6aT9FOmEoZSksY3VsbGluZzpqKG8uY3VsbEZhY2UpLGRlcHRoVGVzdDp7ZnVuYzpsKGUpfSxkZXB0aFdyaXRlOmk/by53cml0ZURlcHRoP1M6bnVsbDpwKGUpLGNvbG9yV3JpdGU6dixzdGVuY2lsV3JpdGU6by5oYXNPY2NsdWRlZXM/aDpudWxsLHN0ZW5jaWxUZXN0Om8uaGFzT2NjbHVkZWVzP3I/ZDptOm51bGwscG9seWdvbk9mZnNldDppfHxzP251bGw6YyhvLmVuYWJsZU9mZnNldCl9KX1pbml0aWFsaXplUGlwZWxpbmUoKXtyZXR1cm4gdGhpcy5fb2NjbHVkZWVQaXBlbGluZVN0YXRlPXRoaXMuX3NldFBpcGVsaW5lU3RhdGUodGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcGFyZW5jeVBhc3NUeXBlLCEwKSx0aGlzLl9zZXRQaXBlbGluZVN0YXRlKHRoaXMuY29uZmlndXJhdGlvbi50cmFuc3BhcmVuY3lQYXNzVHlwZSwhMSl9Z2V0UGlwZWxpbmUoZSl7cmV0dXJuIGU/dGhpcy5fb2NjbHVkZWVQaXBlbGluZVN0YXRlOnN1cGVyLmdldFBpcGVsaW5lKCl9fU4uc2hhZGVyPW5ldyBvKFAsKCgpPT5pbXBvcnQoXCIuL0ltYWdlTWF0ZXJpYWwuZ2xzbC5qc1wiKSkpO2NvbnN0IEU9VChnLk9ORSxnLk9ORV9NSU5VU19TUkNfQUxQSEEpO2NsYXNzIEMgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm91dHB1dD10LkNvbG9yLHRoaXMuY3VsbEZhY2U9bi5Ob25lLHRoaXMuaGFzU2xpY2VQbGFuZT0hMSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuZW5hYmxlT2Zmc2V0PSEwLHRoaXMud3JpdGVEZXB0aD0hMCx0aGlzLmhhc09jY2x1ZGVlcz0hMSx0aGlzLnRyYW5zcGFyZW5jeVBhc3NUeXBlPWYuTk9ORSx0aGlzLm11bHRpcGFzc0VuYWJsZWQ9ITEsdGhpcy5jdWxsQWJvdmVHcm91bmQ9ITEsdGhpcy5wZXJzcGVjdGl2ZUludGVycG9sYXRpb249ITB9fWUoW3Moe2NvdW50OnQuQ09VTlR9KV0sQy5wcm90b3R5cGUsXCJvdXRwdXRcIix2b2lkIDApLGUoW3Moe2NvdW50Om4uQ09VTlR9KV0sQy5wcm90b3R5cGUsXCJjdWxsRmFjZVwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcImhhc1NsaWNlUGxhbmVcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJ0cmFuc3BhcmVudFwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcImVuYWJsZU9mZnNldFwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcIndyaXRlRGVwdGhcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJoYXNPY2NsdWRlZXNcIix2b2lkIDApLGUoW3Moe2NvdW50OmYuQ09VTlR9KV0sQy5wcm90b3R5cGUsXCJ0cmFuc3BhcmVuY3lQYXNzVHlwZVwiLHZvaWQgMCksZShbcygpXSxDLnByb3RvdHlwZSxcIm11bHRpcGFzc0VuYWJsZWRcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJjdWxsQWJvdmVHcm91bmRcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJwZXJzcGVjdGl2ZUludGVycG9sYXRpb25cIix2b2lkIDApLGUoW3Moe2NvbnN0VmFsdWU6ITF9KV0sQy5wcm90b3R5cGUsXCJvY2NsdXNpb25QYXNzXCIsdm9pZCAwKTtjb25zdCBfPW5ldyBNYXAoW1t5LlBPU0lUSU9OLDBdLFt5LlVWMCwyXSxbeS5QRVJTUEVDVElWRURJVklERSwzXV0pO2V4cG9ydHtJIGFzIEltYWdlTWF0ZXJpYWxQYXNzUGFyYW1ldGVycyxOIGFzIEltYWdlTWF0ZXJpYWxUZWNobmlxdWUsQyBhcyBJbWFnZU1hdGVyaWFsVGVjaG5pcXVlQ29uZmlndXJhdGlvbixfIGFzIHZlcnRleEF0dHJpYnV0ZUxvY2F0aW9uc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBzfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMocyhuKHIuRXZlbnRlZE1peGluKHQpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgcCx0aGlzLmxheWVyPW51bGwsdGhpcy5wYXJlbnQ9bnVsbH1pbml0aWFsaXplKCl7dGhpcy53aGVuKCkuY2F0Y2goKGU9PntpZihcImxheWVydmlldzpjcmVhdGUtZXJyb3JcIiE9PWUubmFtZSl7Y29uc3QgdD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmlkfHxcIm5vIGlkXCIscj10aGlzLmxheWVyPy50aXRsZXx8XCJubyB0aXRsZVwiO2kuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI3Jlc29sdmUoKVwiLGBGYWlsZWQgdG8gcmVzb2x2ZSBsYXllciB2aWV3IChsYXllciB0aXRsZTogJyR7cn0nLCBpZDogJyR7dH0nKWAsZSl9fSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXM9byh0aGlzLl91cGRhdGluZ0hhbmRsZXMpfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybih0aGlzLmxheWVyPy5vcGFjaXR5Pz8xKSoodGhpcy5wYXJlbnQ/LmZ1bGxPcGFjaXR5Pz8xKX1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHZpc2libGUoKXtyZXR1cm4hMD09PXRoaXMubGF5ZXI/LnZpc2libGV9c2V0IHZpc2libGUoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ2aXNpYmxlXCIsZSl9Y2FuUmVzdW1lKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiYhdGhpcy5wYXJlbnQ/LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeXx8ITF9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXRoaXMucGFyZW50Py5zdXNwZW5kZWQ/dGhpcy5wYXJlbnQuc3VzcGVuZEluZm86e30sdD10aGlzO3JldHVybiB0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCksdGhpcy52aXNpYmxlfHwoZS5sYXllckludmlzaWJsZT0hMCksZX1pc1VwZGF0aW5nKCl7cmV0dXJuITF9fTtlKFthKCldLGQucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2Eoe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZD1lKFtsKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=