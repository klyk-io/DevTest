/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/quill@1.3.7/blots/embed.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Parchment from"parchment";import TextBlot from"./text";const GUARD_TEXT="\ufeff";class Embed extends Parchment.Embed{constructor(t){super(t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable",!1),[].slice.call(this.domNode.childNodes).forEach(t=>{this.contentNode.appendChild(t)}),this.leftGuard=document.createTextNode(GUARD_TEXT),this.rightGuard=document.createTextNode(GUARD_TEXT),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e,r,s=t.data.split(GUARD_TEXT).join("");if(t===this.leftGuard)if(this.prev instanceof TextBlot){let t=this.prev.length();this.prev.insertAt(t,s),e={startNode:this.prev.domNode,startOffset:t+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(Parchment.create(r),this),e={startNode:r,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof TextBlot?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(Parchment.create(r),this.next),e={startNode:r,startOffset:s.length}));return t.data=GUARD_TEXT,e}update(t,e){t.forEach(t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){let r=this.restore(t.target);r&&(e.range=r)}})}}export default Embed;
//# sourceMappingURL=/sm/bf821bef8b95141f0173b7f9740a759659f01afef9a96060be663e5cd616c37f.map