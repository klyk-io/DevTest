"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_views_2d_layers_graphics_BaseGraphicContainer_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureContainer: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Queue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Queue.js */ "./node_modules/@arcgis/core/core/Queue.js");
/* harmony import */ var _webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/AttributeStoreView.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/* harmony import */ var _webgl_WGLRendererInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/WGLRendererInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(e){super(e),this._rendererInfo=new _webgl_WGLRendererInfo_js__WEBPACK_IMPORTED_MODULE_4__.WGLRendererInfo,this._materialItemsRequestQueue=new _core_Queue_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.attributeView=new _webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_2__.AttributeStoreView((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable("textureFloat"),e.context.capabilities.enable("vao"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushInfo.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLRendererInfo: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/support/lengthUtils.js */ "./node_modules/@arcgis/core/renderers/support/lengthUtils.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _techniques_Technique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./techniques/Technique.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/Technique.js");
/* harmony import */ var _techniques_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./techniques/utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/utils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:"geographic",vvOpacityEnabled:!1},this._technique=_techniques_Technique_js__WEBPACK_IMPORTED_MODULE_4__.Technique}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case"static":return t;case"level-dependent":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=(0,_techniques_utils_js__WEBPACK_IMPORTED_MODULE_5__.getTechniqueFromRenderer)(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_6__.getWebGLCapabilities)("2d").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isDefined)(t.minSize)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isDefined)(t.maxSize))if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(t.minSize)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(t.maxSize))i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.minSize),l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.maxSize);else{const s=r.scale;i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(s,t.minSize.stops)),l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(r.spatialReference)/_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_2__.meterIn[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../engine/FeatureContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js");
/* harmony import */ var _GraphicBoundsRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicBoundsRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n=class extends _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_1__.FeatureContainer{constructor(e){super(e),this.hasHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.destroyMaybe)(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new _GraphicBoundsRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"](e),this.requestRender()}get hasLabels(){return!1}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.CompareFunction.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec2f32.js */ "./node_modules/@arcgis/core/chunks/vec2f32.js");
/* harmony import */ var _chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3f32.js */ "./node_modules/@arcgis/core/chunks/vec3f32.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../engine/DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const v=Math.PI/180,x=4;class b extends _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_6__.DisplayObject{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv("u_dvsMat3",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.LINES,8*r.length,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.DataType.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}_createShaderProgram(t){if(this._program)return;const e="precision highp float;\n        uniform mat3 u_dvsMat3;\n\n        attribute vec2 a_position;\n\n        void main() {\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\n        }",r="precision mediump float;\n      void main() {\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\n      }";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:_,resolution:c,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeMapX)(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*_[0],B=h*_[1],M=c*y,j=c*B,A=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.g)(this._dvsMat3);(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.m)(A,A,u),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(A,A,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(y/2,B/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.d)(A,A,(0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(_[0]/M,-B/j,1)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.r)(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_10__.VertexArrayObject(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_7__.createProgramDescriptor)("bounds",{geometry:[{location:0,name:"a_position",count:2,type:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.DataType.FLOAT}]});


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19ncmFwaGljc19CYXNlR3JhcGhpY0NvbnRhaW5lcl9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDNlEsZ0JBQWdCLCtEQUFDLENBQUMsZUFBZSxnQ0FBZ0Msc0VBQUMscUNBQXFDLHNEQUFDLHdCQUF3Qiw0RUFBQyxzQ0FBc0MsVUFBVSxzSUFBc0ksdUJBQXVCLHVEQUF1RCw0QkFBNEIsNkJBQTZCLFFBQVEscUVBQUMsR0FBRyw2Q0FBNkMsa0NBQWtDLGlDQUFpQyxZQUFZLGdJQUFnSSw0Q0FBNEMsS0FBSyxFQUFFLCtFQUErRSxrQkFBa0Isa0JBQWtCLHlDQUF5QywyREFBMkQsb0JBQW9CLHFGQUFxRixzQkFBc0Isb0NBQW9DLDhFQUE4RSwwQkFBMEIsK0JBQStCLGtDQUFrQyxFQUFFLE1BQU0sdUJBQXVCLHlFQUF5RSx5QkFBeUIsc0NBQXNDLHdCQUF3Qix3QkFBd0IsSUFBSSxhQUFhLGFBQTJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o1ekQ7QUFDQTtBQUNBO0FBQ0E7QUFDeU0saUlBQWlJLGdCQUFnQix3REFBQyxDQUFDLGVBQWUsNkJBQTZCLDJCQUEyQixTQUFTLGtCQUFrQix5RUFBeUUsc0JBQXNCLE1BQU0sUUFBUSxpQ0FBaUMsa0pBQWtKLHVCQUF1QixxQ0FBcUMsb0NBQW9DLHdCQUF3QixtRUFBQyxZQUFZLG1EQUFDLE9BQU8sbURBQUMsS0FBSyxtREFBQyw4Q0FBOEMsR0FBRyx3REFBRyxtREFBbUQseUJBQXlCLGdFQUFDLFlBQVksbURBQUMsZ0NBQWdDLEtBQUssbUJBQW1CLHFCQUFxQix1QkFBdUIsUUFBUSwrQ0FBb0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKaHJDO0FBQ0E7QUFDQTtBQUNBO0FBQ3ViLGdCQUFnQixpQkFBaUIsd0NBQXdDLFlBQVksSUFBSSxxQkFBcUIsbURBQW1ELDZDQUE2QyxtQkFBbUIsUUFBUSxjQUFjLGlSQUFpUix3R0FBd0csaUJBQWlCLCtEQUFDLENBQUMsdUJBQXVCLCtCQUErQixvQkFBb0Isc0JBQXNCLGdEQUFnRCxjQUFjLHlCQUF5QixzQ0FBc0MsZUFBZSxrQkFBa0IsOEVBQThFLGdFQUFnRSx3QkFBd0Isd0JBQXdCLElBQUksZ0JBQWdCLDJCQUEyQixrQ0FBa0MsVUFBVSx5RUFBeUUsZUFBZSxzREFBc0QsOEVBQUMsNEZBQTRGLGVBQWUsT0FBTyx5SEFBeUgsNEVBQUMsNkJBQTZCLG1CQUFtQixnR0FBZ0csa0JBQWtCLDJEQUEyRCw0QkFBNEIsbUNBQW1DLGlHQUFpRyxlQUFlLE1BQU0scUNBQXFDLHNCQUFzQixRQUFRLEdBQUcsb0RBQUMsYUFBYSxvREFBQyxlQUFlLG1EQUFDLGFBQWEsbURBQUMsY0FBYywyREFBQyxjQUFjLDJEQUFDLFlBQVksS0FBSyxnQkFBZ0IsRUFBRSwyREFBQyx5QkFBeUIsMkRBQUMsdUJBQXVCLGdFQUFnRSw2Q0FBNkMsMkRBQUMsOENBQThDLFFBQVEseUVBQUMscUJBQXFCLHNFQUFDLG1CQUFtQixpREFBaUQsb0RBQW9ELGdCQUFnQixzRkFBc0Ysa0JBQWtCLGdHQUFnRyxtQkFBbUIscURBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnByRztBQUNBO0FBQ0E7QUFDQTtBQUNpTyxvQkFBb0IseUVBQUMsQ0FBQyxlQUFlLGtDQUFrQyxVQUFVLHFDQUFxQyw0REFBQyx1QkFBdUIseUJBQXlCLHlCQUF5QixpRUFBQyx5QkFBeUIsZ0JBQWdCLFNBQVMsZ0JBQWdCLG1FQUFtRSxlQUFlLDZDQUE2QyxxQkFBcUIsNkZBQTZGLDREQUFDLDZEQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeHlCO0FBQ0E7QUFDQTtBQUNBO0FBQ2d0Qix3QkFBd0IsZ0JBQWdCLG1FQUFDLENBQUMsZUFBZSx1R0FBdUcscURBQUMsc0JBQXNCLFFBQVEsbUJBQW1CLFVBQVUsNkdBQTZHLDREQUFDLGdCQUFnQixZQUFZLE1BQU0sVUFBVSx1QkFBdUIscUJBQXFCLDBOQUEwTix3REFBQyxLQUFLLHdEQUFDLGtEQUFrRCxzQkFBc0IsdUhBQXVILDBEQUFDLGtCQUFrQixxREFBQyw2QkFBNkIsb0JBQW9CLE9BQU8sSUFBSSxxREFBQyxJQUFJLHdCQUF3Qix3QkFBd0IsK0JBQStCLGlDQUFpQyxzQ0FBc0MseUJBQXlCLGlFQUFpRSxpREFBaUQsV0FBVyw2QkFBNkIscUJBQXFCLG9EQUFvRCxTQUFTLEVBQUUseURBQXlELGlDQUFpQyxNQUFNLFFBQVEsSUFBSSxzRUFBc0UsVUFBVSxRQUFRLG9CQUFvQixrRkFBQyx1QkFBdUIsNENBQTRDLHNDQUFzQyxrREFBQyxnQkFBZ0Isa0RBQUMsUUFBUSxrREFBQyxLQUFLLHFEQUFDLFdBQVcsa0RBQUMsS0FBSyxxREFBQyxpQkFBaUIsa0RBQUMsU0FBUyx1QkFBdUIsTUFBTSxRQUFRLHNGQUFzRixZQUFZLG9QQUFvUCw4RUFBOEUsZ0VBQUMsZ0JBQWdCLGtEQUFDLHlGQUF5RixnRUFBQyxlQUFlLGtEQUFDLDZCQUE2QixZQUFZLGNBQWMsMkVBQUMsaUNBQWlDLDRCQUE0QixzQkFBc0IsWUFBWSwrRUFBQyxXQUFXLFdBQVcsMENBQTBDLHFEQUFDLE9BQU8sRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9GZWF0dXJlQ29udGFpbmVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9UaWxlQ29udGFpbmVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9XR0xSZW5kZXJlckluZm8uanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0Jhc2VHcmFwaGljQ29udGFpbmVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9ncmFwaGljcy9HcmFwaGljQm91bmRzUmVuZGVyZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9RdWV1ZS5qc1wiO2ltcG9ydHtBdHRyaWJ1dGVTdG9yZVZpZXcgYXMgcn1mcm9tXCIuL3dlYmdsL0F0dHJpYnV0ZVN0b3JlVmlldy5qc1wiO2ltcG9ydCBzIGZyb21cIi4vd2ViZ2wvVGlsZUNvbnRhaW5lci5qc1wiO2ltcG9ydHtXR0xSZW5kZXJlckluZm8gYXMgaX1mcm9tXCIuL3dlYmdsL1dHTFJlbmRlcmVySW5mby5qc1wiO2NsYXNzIG8gZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3JlbmRlcmVySW5mbz1uZXcgaSx0aGlzLl9tYXRlcmlhbEl0ZW1zUmVxdWVzdFF1ZXVlPW5ldyB0LHRoaXMuYXR0cmlidXRlVmlldz1uZXcgcigoKCk9PnRoaXMub25BdHRyaWJ1dGVTdG9yZVVwZGF0ZSgpKSl9ZGVzdHJveSgpe3RoaXMuY2hpbGRyZW4uZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy5hdHRyaWJ1dGVWaWV3LmRlc3Ryb3koKSx0aGlzLl9tYXRlcmlhbEl0ZW1zUmVxdWVzdFF1ZXVlLmNsZWFyKCl9c2V0UmVuZGVyZXJJbmZvKGUsdCxyKXt0aGlzLl9yZW5kZXJlckluZm8uc2V0SW5mbyhlLHQsciksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9YXN5bmMgZ2V0TWF0ZXJpYWxJdGVtcyh0LHIpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW107Y29uc3Qgcz1lKCk7cmV0dXJuIHRoaXMuX21hdGVyaWFsSXRlbXNSZXF1ZXN0UXVldWUucHVzaCh7aXRlbXM6dCxhYm9ydE9wdGlvbnM6cixyZXNvbHZlcjpzfSksdGhpcy5yZXF1ZXN0UmVuZGVyKCkscy5wcm9taXNlfWRvUmVuZGVyKGUpe2lmKGUuY29udGV4dC5jYXBhYmlsaXRpZXMuZW5hYmxlKFwidGV4dHVyZUZsb2F0XCIpLGUuY29udGV4dC5jYXBhYmlsaXRpZXMuZW5hYmxlKFwidmFvXCIpLHRoaXMuX21hdGVyaWFsSXRlbXNSZXF1ZXN0UXVldWUubGVuZ3RoPjApe2xldCB0PXRoaXMuX21hdGVyaWFsSXRlbXNSZXF1ZXN0UXVldWUucG9wKCk7Zm9yKDt0Oyl0aGlzLl9wcm9jZXNzTWF0ZXJpYWxJdGVtUmVxdWVzdChlLHQpLHQ9dGhpcy5fbWF0ZXJpYWxJdGVtc1JlcXVlc3RRdWV1ZS5wb3AoKX1zdXBlci5kb1JlbmRlcihlKX1yZW5kZXJDaGlsZHJlbihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLmNoaWxkcmVuKXQuY29tbWl0KGUpO3RoaXMuX3JlbmRlcmVySW5mby51cGRhdGUoZS5zdGF0ZSksc3VwZXIucmVuZGVyQ2hpbGRyZW4oZSl9dXBkYXRlVHJhbnNmb3JtcyhlKXtpZih0aGlzLmNoaWxkcmVuLnNvbWUoKGU9PmUuaGFzRGF0YSkpKWZvcihjb25zdCB0IG9mIHRoaXMuY2hpbGRyZW4pdC5zZXRUcmFuc2Zvcm0oZSl9Y3JlYXRlUmVuZGVyUGFyYW1zKGUpe2NvbnN0IHQ9c3VwZXIuY3JlYXRlUmVuZGVyUGFyYW1zKGUpO3JldHVybiB0LnJlbmRlcmVySW5mbz10aGlzLl9yZW5kZXJlckluZm8sdC5hdHRyaWJ1dGVWaWV3PXRoaXMuYXR0cmlidXRlVmlldyx0fW9uQXR0cmlidXRlU3RvcmVVcGRhdGUoKXt9X3Byb2Nlc3NNYXRlcmlhbEl0ZW1SZXF1ZXN0KGUse2l0ZW1zOnQsYWJvcnRPcHRpb25zOnIscmVzb2x2ZXI6c30pe2NvbnN0e3BhaW50ZXI6aSxwaXhlbFJhdGlvOm99PWUsYT10Lm1hcCgoZT0+aS50ZXh0dXJlTWFuYWdlci5yYXN0ZXJpemVJdGVtKGUuc3ltYm9sLG8sZS5nbHlwaElkcyxyKSkpO1Byb21pc2UuYWxsKGEpLnRoZW4oKGU9PntpZighdGhpcy5zdGFnZSlyZXR1cm4gdm9pZCBzLnJlamVjdCgpO2NvbnN0IHI9ZS5tYXAoKChlLHIpPT4oe2lkOnRbcl0uaWQsbW9zYWljSXRlbTplfSkpKTtzLnJlc29sdmUocil9KSxzLnJlamVjdCl9fWV4cG9ydHtvIGFzIEZlYXR1cmVDb250YWluZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7V0dMRHJhd1BoYXNlIGFzIGV9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydCByIGZyb21cIi4vV0dMQ29udGFpbmVyLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9icnVzaGVzL1dHTEJydXNoSW5mby5qc1wiO2ltcG9ydCB0IGZyb21cIi4vYnJ1c2hlcy9XR0xCcnVzaFN0ZW5jaWwuanNcIjtjb25zdCBuPShlLHIpPT5lLmtleS5sZXZlbC1yLmtleS5sZXZlbCE9MD9lLmtleS5sZXZlbC1yLmtleS5sZXZlbDplLmtleS5yb3ctci5rZXkucm93IT0wP2Uua2V5LnJvdy1yLmtleS5yb3c6ZS5rZXkuY29sLXIua2V5LmNvbDtjbGFzcyBpIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3RpbGVJbmZvVmlldz1lfWdldCByZXF1aXJlc0RlZGljYXRlZEZCTygpe3JldHVybiExfXJlbmRlckNoaWxkcmVuKGUpe3RoaXMuc29ydENoaWxkcmVuKG4pLHRoaXMuc2V0U3RlbmNpbFJlZmVyZW5jZShlKSxzdXBlci5yZW5kZXJDaGlsZHJlbihlKX1jcmVhdGVSZW5kZXJQYXJhbXMoZSl7Y29uc3R7c3RhdGU6cn09ZSxzPXN1cGVyLmNyZWF0ZVJlbmRlclBhcmFtcyhlKTtyZXR1cm4gcy5yZXF1aXJlZExldmVsPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRDbG9zZXN0SW5mb0ZvclNjYWxlKHIuc2NhbGUpLmxldmVsLHMuZGlzcGxheUxldmVsPXRoaXMuX3RpbGVJbmZvVmlldy50aWxlSW5mby5zY2FsZVRvWm9vbShyLnNjYWxlKSxzfXByZXBhcmVSZW5kZXJQYXNzZXMocil7Y29uc3Qgbj1zdXBlci5wcmVwYXJlUmVuZGVyUGFzc2VzKHIpO3JldHVybiBuLnB1c2goci5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJzdGVuY2lsXCIsYnJ1c2hlczpbdF0sZHJhd1BoYXNlOmUuREVCVUd8ZS5NQVB8ZS5ISUdITElHSFQsdGFyZ2V0OigpPT50aGlzLmdldFN0ZW5jaWxUYXJnZXQoKX0pKSxoYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpJiZuLnB1c2goci5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJ0aWxlSW5mb1wiLGJydXNoZXM6W3NdLGRyYXdQaGFzZTplLkRFQlVHLHRhcmdldDooKT0+dGhpcy5jaGlsZHJlbn0pKSxufWdldFN0ZW5jaWxUYXJnZXQoKXtyZXR1cm4gdGhpcy5jaGlsZHJlbn1zZXRTdGVuY2lsUmVmZXJlbmNlKGUpe2xldCByPTE7Zm9yKGNvbnN0IHMgb2YgdGhpcy5jaGlsZHJlbilzLnN0ZW5jaWxSZWY9cisrfX1leHBvcnR7aSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cHQycHggYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e21ldGVySW4gYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9sZW5ndGhVdGlscy5qc1wiO2ltcG9ydHtpc0RlZmluZWQgYXMgcyxpc051bWJlciBhcyBhfWZyb21cIi4vVXRpbHMuanNcIjtpbXBvcnR7VGVjaG5pcXVlIGFzIGx9ZnJvbVwiLi90ZWNobmlxdWVzL1RlY2huaXF1ZS5qc1wiO2ltcG9ydHtnZXRUZWNobmlxdWVGcm9tUmVuZGVyZXIgYXMgcn1mcm9tXCIuL3RlY2huaXF1ZXMvdXRpbHMuanNcIjtpbXBvcnR7Z2V0V2ViR0xDYXBhYmlsaXRpZXMgYXMgb31mcm9tXCIuLi8uLi8uLi93ZWJnbC9jYXBhYmlsaXRpZXMuanNcIjtmdW5jdGlvbiBuKGUsdCl7Y29uc3QgaT10Lmxlbmd0aDtpZihlPHRbMF0udmFsdWV8fDE9PT1pKXJldHVybiB0WzBdLnNpemU7Zm9yKGxldCBzPTE7czxpO3MrKylpZihlPHRbc10udmFsdWUpe2NvbnN0IGk9KGUtdFtzLTFdLnZhbHVlKS8odFtzXS52YWx1ZS10W3MtMV0udmFsdWUpO3JldHVybiB0W3MtMV0uc2l6ZStpKih0W3NdLnNpemUtdFtzLTFdLnNpemUpfXJldHVybiB0W2ktMV0uc2l6ZX1jbGFzcyB2e2NvbnN0cnVjdG9yKCl7dGhpcy5zeW1ib2xMZXZlbHM9W10sdGhpcy52dkNvbG9yVmFsdWVzPW5ldyBGbG9hdDMyQXJyYXkoOCksdGhpcy52dkNvbG9ycz1uZXcgRmxvYXQzMkFycmF5KDMyKSx0aGlzLnZ2T3BhY2l0eVZhbHVlcz1uZXcgRmxvYXQzMkFycmF5KDgpLHRoaXMudnZPcGFjaXRpZXM9bmV3IEZsb2F0MzJBcnJheSg4KSx0aGlzLnZ2U2l6ZU1pbk1heFZhbHVlPW5ldyBGbG9hdDMyQXJyYXkoNCksdGhpcy5vdXRzaWRlTGFiZWxzVmlzaWJsZT0hMSx0aGlzLl92dk1hdGVyaWFsUGFyYW1ldGVycz17dnZTaXplRW5hYmxlZDohMSx2dkNvbG9yRW5hYmxlZDohMSx2dlJvdGF0aW9uRW5hYmxlZDohMSx2dlJvdGF0aW9uVHlwZTpcImdlb2dyYXBoaWNcIix2dk9wYWNpdHlFbmFibGVkOiExfSx0aGlzLl90ZWNobmlxdWU9bH1nZXRTaXplVlZGaWVsZFN0b3BzKGUpe2NvbnN0IHQ9dGhpcy5fdnZTaXplRmllbGRTdG9wcztpZih0KXN3aXRjaCh0LnR5cGUpe2Nhc2VcInN0YXRpY1wiOnJldHVybiB0O2Nhc2VcImxldmVsLWRlcGVuZGVudFwiOnJldHVybiB0LmxldmVsc1tlXT8/KCgpPT57bGV0IGk9MS8wLHM9MDtmb3IoY29uc3QgbyBpbiB0LmxldmVscyl7Y29uc3QgdD1wYXJzZUZsb2F0KG8pLGE9TWF0aC5hYnMoZS10KTthPGkmJihpPWEscz10KX1pZihpPT09MS8wKXJldHVybntzaXplczpuZXcgRmxvYXQzMkFycmF5KFswLDAsMCwwLDAsMF0pLHZhbHVlczpuZXcgRmxvYXQzMkFycmF5KFswLDAsMCwwLDAsMF0pfTtjb25zdCBhPTIqKigoZS1zKS8yKSxsPXQubGV2ZWxzW3NdLHI9bmV3IEZsb2F0MzJBcnJheShsLnZhbHVlcyk7cmV0dXJuIHJbMl0qPWEsclszXSo9YSx7c2l6ZXM6bC5zaXplcyx2YWx1ZXM6cn19KSgpO2RlZmF1bHQ6cmV0dXJufX1nZXQgdnZNYXRlcmlhbFBhcmFtZXRlcnMoKXtyZXR1cm4gdGhpcy5fdnZNYXRlcmlhbFBhcmFtZXRlcnN9dXBkYXRlKGUpe251bGwhPXRoaXMuX3Z2SW5mbyYmdGhpcy5fdXBkYXRlVmlzdWFsVmFyaWFibGVzKHRoaXMuX3Z2SW5mby52dlJhbmdlcyxlKX1zZXRJbmZvKGUsdCxpKXt0aGlzLl91cGRhdGVFZmZlY3RzKGkpLHRoaXMuX3Z2SW5mbz10LHRoaXMuX3RlY2huaXF1ZT1yKGUpLHRoaXMucmVuZGVyZXJTY2hlbWE9dGhpcy5fdGVjaG5pcXVlLmNyZWF0ZU9yVXBkYXRlUmVuZGVyZXJTY2hlbWEodGhpcy5yZW5kZXJlclNjaGVtYSxlKX1nZXRWYXJpYXRpb24oKXtyZXR1cm57Li4udGhpcy5fdGVjaG5pcXVlLmdldFZhcmlhdGlvbih0aGlzLnJlbmRlcmVyU2NoZW1hKSxvdXRzaWRlTGFiZWxzVmlzaWJsZTp0aGlzLm91dHNpZGVMYWJlbHNWaXNpYmxlLHN1cHBvcnRzVGV4dHVyZUZsb2F0Om8oXCIyZFwiKS5zdXBwb3J0c1RleHR1cmVGbG9hdH19Z2V0VmFyaWF0aW9uSGFzaCgpe3JldHVybiB0aGlzLl90ZWNobmlxdWUuZ2V0VmFyaWF0aW9uSGFzaCh0aGlzLnJlbmRlcmVyU2NoZW1hKTw8MXwodGhpcy5vdXRzaWRlTGFiZWxzVmlzaWJsZT8xOjApfV91cGRhdGVFZmZlY3RzKGUpe3RoaXMub3V0c2lkZUxhYmVsc1Zpc2libGU9bnVsbCE9ZSYmZS5leGNsdWRlZExhYmVsc1Zpc2libGV9X3VwZGF0ZVZpc3VhbFZhcmlhYmxlcyhsLHIpe2NvbnN0IG89dGhpcy5fdnZNYXRlcmlhbFBhcmFtZXRlcnM7aWYoby52dk9wYWNpdHlFbmFibGVkPSExLG8udnZTaXplRW5hYmxlZD0hMSxvLnZ2Q29sb3JFbmFibGVkPSExLG8udnZSb3RhdGlvbkVuYWJsZWQ9ITEsIWwpcmV0dXJuO2NvbnN0IHY9bC5zaXplO2lmKHYpe2lmKG8udnZTaXplRW5hYmxlZD0hMCx2Lm1pbk1heFZhbHVlKXtjb25zdCB0PXYubWluTWF4VmFsdWU7bGV0IGksbDtpZihzKHQubWluU2l6ZSkmJnModC5tYXhTaXplKSlpZihhKHQubWluU2l6ZSkmJmEodC5tYXhTaXplKSlpPWUodC5taW5TaXplKSxsPWUodC5tYXhTaXplKTtlbHNle2NvbnN0IHM9ci5zY2FsZTtpPWUobihzLHQubWluU2l6ZS5zdG9wcykpLGw9ZShuKHMsdC5tYXhTaXplLnN0b3BzKSl9dGhpcy52dlNpemVNaW5NYXhWYWx1ZS5zZXQoW3QubWluRGF0YVZhbHVlLHQubWF4RGF0YVZhbHVlLGksbF0pfWlmKHYuc2NhbGVTdG9wcyYmKHRoaXMudnZTaXplU2NhbGVTdG9wc1ZhbHVlPWUobihyLnNjYWxlLHYuc2NhbGVTdG9wcy5zdG9wcykpKSx2LnVuaXRWYWx1ZSl7Y29uc3QgZT10KHIuc3BhdGlhbFJlZmVyZW5jZSkvaVt2LnVuaXRWYWx1ZS51bml0XTt0aGlzLnZ2U2l6ZVVuaXRWYWx1ZVRvUGl4ZWxzUmF0aW89ZS9yLnJlc29sdXRpb259di5maWVsZFN0b3BzJiYodGhpcy5fdnZTaXplRmllbGRTdG9wcz12LmZpZWxkU3RvcHMpfWNvbnN0IHU9bC5jb2xvcjt1JiYoby52dkNvbG9yRW5hYmxlZD0hMCx0aGlzLnZ2Q29sb3JWYWx1ZXMuc2V0KHUudmFsdWVzKSx0aGlzLnZ2Q29sb3JzLnNldCh1LmNvbG9ycykpO2NvbnN0IGM9bC5vcGFjaXR5O2MmJihvLnZ2T3BhY2l0eUVuYWJsZWQ9ITAsdGhpcy52dk9wYWNpdHlWYWx1ZXMuc2V0KGMudmFsdWVzKSx0aGlzLnZ2T3BhY2l0aWVzLnNldChjLm9wYWNpdGllcykpO2NvbnN0IGg9bC5yb3RhdGlvbjtoJiYoby52dlJvdGF0aW9uRW5hYmxlZD0hMCxvLnZ2Um90YXRpb25UeXBlPWgudHlwZSl9fWV4cG9ydHt2IGFzIFdHTFJlbmRlcmVySW5mb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RmVhdHVyZUNvbnRhaW5lciBhcyB0fWZyb21cIi4uLy4uL2VuZ2luZS9GZWF0dXJlQ29udGFpbmVyLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9HcmFwaGljQm91bmRzUmVuZGVyZXIuanNcIjtpbXBvcnR7Q29tcGFyZUZ1bmN0aW9uIGFzIHN9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtsZXQgbj1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5oYXNIaWdobGlnaHQ9KCk9PiEwfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fYm91bmRzUmVuZGVyZXI9ZSh0aGlzLl9ib3VuZHNSZW5kZXJlcil9ZW5hYmxlUmVuZGVyaW5nQm91bmRzKGUpe3RoaXMuX2JvdW5kc1JlbmRlcmVyPW5ldyByKGUpLHRoaXMucmVxdWVzdFJlbmRlcigpfWdldCBoYXNMYWJlbHMoKXtyZXR1cm4hMX1vblRpbGVEYXRhKGUsdCl7ZS5wYXRjaCh0KSx0aGlzLmNvbnRhaW5zKGUpfHx0aGlzLmFkZENoaWxkKGUpLHRoaXMucmVxdWVzdFJlbmRlcigpfW9uVGlsZUVycm9yKGUpe2UuY2xlYXIoKSx0aGlzLmNvbnRhaW5zKGUpfHx0aGlzLmFkZENoaWxkKGUpfV9yZW5kZXJDaGlsZHJlbihlLHQpe2Zvcihjb25zdCByIG9mIHRoaXMuY2hpbGRyZW4pci5pc1JlYWR5JiZyLmhhc0RhdGEmJihyLmNvbW1pdChlKSxlLmNvbnRleHQuc2V0U3RlbmNpbEZ1bmN0aW9uKHMuRVFVQUwsci5zdGVuY2lsUmVmLDI1NSksci5nZXREaXNwbGF5TGlzdCgpLnJlcGxheShlLHIsdCkpfX07ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZyBhcyBlLG0gYXMgcixoIGFzIHMsZCBhcyBpLHIgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0My5qc1wiO2ltcG9ydHtjIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL21hdDNmMzIuanNcIjtpbXBvcnR7ZiBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMyZjMyLmpzXCI7aW1wb3J0e2Z9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmMzIuanNcIjtpbXBvcnR7bm9ybWFsaXplTWFwWCBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHMuanNcIjtpbXBvcnR7RGlzcGxheU9iamVjdCBhcyB1fWZyb21cIi4uLy4uL2VuZ2luZS9EaXNwbGF5T2JqZWN0LmpzXCI7aW1wb3J0e2NyZWF0ZVByb2dyYW1EZXNjcmlwdG9yIGFzIF99ZnJvbVwiLi4vLi4vZW5naW5lL3dlYmdsL1V0aWxzLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyBjfWZyb21cIi4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtCbGVuZEZhY3RvciBhcyBoLFByaW1pdGl2ZVR5cGUgYXMgbSxEYXRhVHlwZSBhcyBkLFVzYWdlIGFzIHB9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VmVydGV4QXJyYXlPYmplY3QgYXMgZ31mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2NvbnN0IHY9TWF0aC5QSS8xODAseD00O2NsYXNzIGIgZXh0ZW5kcyB1e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fcHJvZ3JhbT1udWxsLHRoaXMuX3Zhbz1udWxsLHRoaXMuX3ZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGV4QnVmZmVyPW51bGwsdGhpcy5fZHZzTWF0Mz1hKCksdGhpcy5fbG9jYWxPcmlnaW49e3g6MCx5OjB9LHRoaXMuX2dldEJvdW5kcz10fWRlc3Ryb3koKXt0aGlzLl92YW8mJih0aGlzLl92YW8uZGlzcG9zZSgpLHRoaXMuX3Zhbz1udWxsLHRoaXMuX3ZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGV4QnVmZmVyPW51bGwpLHRoaXMuX3Byb2dyYW09dCh0aGlzLl9wcm9ncmFtKX1kb1JlbmRlcih0KXtjb25zdHtjb250ZXh0OmV9PXQscj10aGlzLl9nZXRCb3VuZHMoKTtpZihyLmxlbmd0aDwxKXJldHVybjt0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUpLHRoaXMuX3VwZGF0ZU1hdHJpY2VzQW5kTG9jYWxPcmlnaW4odCksdGhpcy5fdXBkYXRlQnVmZmVyRGF0YShlLHIpLGUuc2V0QmxlbmRpbmdFbmFibGVkKCEwKSxlLnNldERlcHRoVGVzdEVuYWJsZWQoITEpLGUuc2V0U3RlbmNpbFdyaXRlTWFzaygwKSxlLnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMSksZS5zZXRCbGVuZEZ1bmN0aW9uKGguT05FLGguT05FX01JTlVTX1NSQ19BTFBIQSksZS5zZXRDb2xvck1hc2soITAsITAsITAsITApO2NvbnN0IHM9dGhpcy5fcHJvZ3JhbTtlLmJpbmRWQU8odGhpcy5fdmFvKSxlLnVzZVByb2dyYW0ocykscy5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kdnNNYXQzXCIsdGhpcy5fZHZzTWF0MyksZS5nbC5saW5lV2lkdGgoMSksZS5kcmF3RWxlbWVudHMobS5MSU5FUyw4KnIubGVuZ3RoLGQuVU5TSUdORURfSU5ULDApLGUuYmluZFZBTygpfV9jcmVhdGVUcmFuc2Zvcm1zKCl7cmV0dXJue2R2czphKCl9fV9jcmVhdGVTaGFkZXJQcm9ncmFtKHQpe2lmKHRoaXMuX3Byb2dyYW0pcmV0dXJuO2NvbnN0IGU9XCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgICAgICB1bmlmb3JtIG1hdDMgdV9kdnNNYXQzO1xcblxcbiAgICAgICAgYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcXG5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgbWVkaXVtcCB2ZWMzIHBvcyA9IHVfZHZzTWF0MyAqIHZlYzMoYV9wb3NpdGlvbiwgMS4wKTtcXG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcy54eSwgMC4wLCAxLjApO1xcbiAgICAgICAgfVwiLHI9XCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuNzUsIDAuMCwgMC4wLCAwLjc1KTtcXG4gICAgICB9XCI7dGhpcy5fcHJvZ3JhbT10LnByb2dyYW1DYWNoZS5hY3F1aXJlKGUscix5KCkuYXR0cmlidXRlcyl9X3VwZGF0ZU1hdHJpY2VzQW5kTG9jYWxPcmlnaW4odCl7Y29uc3R7c3RhdGU6YX09dCx7ZGlzcGxheU1hdDM6dSxzaXplOl8scmVzb2x1dGlvbjpjLHBpeGVsUmF0aW86aCxyb3RhdGlvbjptLHZpZXdwb2ludDpkfT1hLHA9diptLHt4OmcseTp4fT1kLnRhcmdldEdlb21ldHJ5LGI9bChnLGEuc3BhdGlhbFJlZmVyZW5jZSk7dGhpcy5fbG9jYWxPcmlnaW4ueD1iLHRoaXMuX2xvY2FsT3JpZ2luLnk9eDtjb25zdCB5PWgqX1swXSxCPWgqX1sxXSxNPWMqeSxqPWMqQixBPWUodGhpcy5fZHZzTWF0Myk7cihBLEEsdSkscyhBLEEsbih5LzIsQi8yKSksaShBLEEsZihfWzBdL00sLUIvaiwxKSksbyhBLEEsLXApfV91cGRhdGVCdWZmZXJEYXRhKHQsZSl7Y29uc3R7eDpyLHk6c309dGhpcy5fbG9jYWxPcmlnaW4saT0yKngqZS5sZW5ndGgsbz1uZXcgRmxvYXQzMkFycmF5KGkpLGE9bmV3IFVpbnQzMkFycmF5KDgqZS5sZW5ndGgpO2xldCBuPTAsZj0wO2Zvcihjb25zdCBsIG9mIGUpbCYmKG9bMipuXT1sWzBdLXIsb1syKm4rMV09bFsxXS1zLG9bMipuKzJdPWxbMF0tcixvWzIqbiszXT1sWzNdLXMsb1syKm4rNF09bFsyXS1yLG9bMipuKzVdPWxbM10tcyxvWzIqbis2XT1sWzJdLXIsb1syKm4rN109bFsxXS1zLGFbZl09biswLGFbZisxXT1uKzMsYVtmKzJdPW4rMyxhW2YrM109bisyLGFbZis0XT1uKzIsYVtmKzVdPW4rMSxhW2YrNl09bisxLGFbZis3XT1uKzAsbis9NCxmKz04KTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXI/dGhpcy5fdmVydGV4QnVmZmVyLnNldERhdGEoby5idWZmZXIpOnRoaXMuX3ZlcnRleEJ1ZmZlcj1jLmNyZWF0ZVZlcnRleCh0LHAuRFlOQU1JQ19EUkFXLG8uYnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj90aGlzLl9pbmRleEJ1ZmZlci5zZXREYXRhKGEpOnRoaXMuX2luZGV4QnVmZmVyPWMuY3JlYXRlSW5kZXgodCxwLkRZTkFNSUNfRFJBVyxhKSwhdGhpcy5fdmFvKXtjb25zdCBlPXkoKTt0aGlzLl92YW89bmV3IGcodCxlLmF0dHJpYnV0ZXMsZS5idWZmZXJMYXlvdXRzLHtnZW9tZXRyeTp0aGlzLl92ZXJ0ZXhCdWZmZXJ9LHRoaXMuX2luZGV4QnVmZmVyKX19fWNvbnN0IHk9KCk9Pl8oXCJib3VuZHNcIix7Z2VvbWV0cnk6W3tsb2NhdGlvbjowLG5hbWU6XCJhX3Bvc2l0aW9uXCIsY291bnQ6Mix0eXBlOmQuRkxPQVR9XX0pO2V4cG9ydHtiIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9