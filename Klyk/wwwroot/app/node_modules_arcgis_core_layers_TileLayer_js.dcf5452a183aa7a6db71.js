"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["node_modules_arcgis_core_layers_TileLayer_js"],{

/***/ "./node_modules/@arcgis/core/layers/TileLayer.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/TileLayer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ k)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/loadAll.js */ "./node_modules/@arcgis/core/core/loadAll.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/APIKeyMixin.js */ "./node_modules/@arcgis/core/layers/mixins/APIKeyMixin.js");
/* harmony import */ var _mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/ArcGISCachedService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js");
/* harmony import */ var _mixins_ArcGISMapService_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/ArcGISMapService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_SublayersOwner_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/SublayersOwner.js */ "./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js");
/* harmony import */ var _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/Sublayer.js */ "./node_modules/@arcgis/core/layers/support/Sublayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var W;const B=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let C=W=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_21__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_26__.ScaleRangeLayer)((0,_mixins_SublayersOwner_js__WEBPACK_IMPORTED_MODULE_27__.SublayersOwner)((0,_mixins_ArcGISCachedService_js__WEBPACK_IMPORTED_MODULE_18__.ArcGISCachedService)((0,_mixins_ArcGISMapService_js__WEBPACK_IMPORTED_MODULE_19__.ArcGISMapService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_23__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_24__.PortalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_20__.ArcGISService)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.MultiOriginJSONMixin)((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__.HandleOwnerMixin)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_25__.RefreshableLayer)((0,_mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_17__.APIKeyMixin)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_22__.CustomParametersMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_16__["default"])))))))))))))){constructor(...e){super(...e),this.listMode="show",this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError).then((()=>this._fetchService(r)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,r){return(e=e||r.tileInfo&&r.tileInfo.spatialReference)&&_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(e)}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],a={writeSublayerStructure:!1,...s};i.forEach((e=>{const r=e.write({},a);o.push(r)}));o.some((e=>Object.keys(e).length>1))&&(r.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.urlToObject)(e).path)):null}fetchTile(e,t,s,i={}){const{signal:o}=i,a=this.getTileUrl(e,t,s),l={responseType:"image",signal:o,query:{...this.refreshParameters}};return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a,l).then((e=>e.data))}async fetchImageBitmapTile(e,t,s,i={}){const{signal:o}=i;if(this.fetchTile!==W.prototype.fetchTile){const r=await this.fetchTile(e,t,s,i);return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_30__.createTileBitmap)(r,e,t,s,o)}const a=this.getTileUrl(e,t,s),l={responseType:"blob",signal:o,query:{...this.refreshParameters}},{data:n}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a,l);return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_30__.createTileBitmap)(n,e,t,s,o)}getTileUrl(e,r,t){const s=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.objectToQuery)({...this.parsedUrl?.query,blankTile:!s&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[r%o.length]:this.parsedUrl?.path}/tile/${e}/${r}/${t}${i?"?"+i:""}`}loadAll(){return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_4__.loadAll)(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((s,i)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void s({data:this.sourceJSON})}if(!this.parsedUrl)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tile-layer:undefined-url","layer's url is not defined");const o=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.parse)(this.parsedUrl.path);if(null!=o&&"ImageServer"===o.serverType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(s,i)})).then((r=>{let t=this.url;if(r.ssl&&(t=this.url=t.replace(/^http:/i,"https:")),this.sourceJSON=r.data,this.read(r.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.isHostedAgolService)(t))return this._fetchServerVersion(t,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,s){if(!(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.isArcGISUrl)(e))return Promise.reject();const i=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(i,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:s}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tile-layer:version-not-available")}))}_getMapName(e){const r=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return r?r[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let r;e=e.toLowerCase();for(let t=0,s=B.length;t<s;t++)if(r=B[t],r.toLowerCase().includes(e))return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__.makeAbsolute)("//static.arcgis.com/attribution/"+r);return null}_getDefaultTileServers(e){if(null==e)return[];const r=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),t=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return r||t?[e,e.replace(r?/server\.arcgisonline/i:/services\.arcgisonline/i,r?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[N]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],C.prototype,"attributionDataUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["show","hide","hide-children"]})],C.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!0,write:!0}})],C.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],C.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],C.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean})],C.prototype,"resampling",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],C.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]})],C.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__.reader)("spatialReference",["spatialReference","tileInfo"])],C.prototype,"readSpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],C.prototype,"path",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],C.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__.writer)("sublayers",{layers:{type:[_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_31__["default"]]}})],C.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!1,write:!1}})],C.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],C.prototype,"tileServers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_9__.cast)("tileServers")],C.prototype,"castTileServers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,json:{read:!1}})],C.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_29__.url)],C.prototype,"url",void 0),C=W=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.TileLayer")],C);const N=Symbol("default-fetch-tile");C.prototype.fetchTile[N]=!0;const k=C;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19UaWxlTGF5ZXJfanMuZGNmNTQ1MmExODNhYTdhNmRiNzEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDdXlELE1BQU0saWNBQWljLHNCQUFzQixrRUFBQyxDQUFDLDRFQUFDLENBQUMsMEVBQUMsQ0FBQyxvRkFBQyxDQUFDLDhFQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHdFQUFDLENBQUMscUZBQUMsQ0FBQyxzRUFBQyxDQUFDLDhFQUFDLENBQUMsb0VBQUMsQ0FBQyx3RkFBQyxDQUFDLGtEQUFDLGVBQWUsa0JBQWtCLG1QQUFtUCx1QkFBdUIsMEJBQTBCLFdBQVcsR0FBRyxRQUFRLDhCQUE4QixxREFBcUQsK0JBQStCLFVBQVUsb0VBQUMsMkRBQTJELHlCQUF5QiwyQ0FBMkMsK0RBQStELDBCQUEwQixzREFBc0Qsc0VBQUMsYUFBYSx3QkFBd0IsMkJBQTJCLHVDQUF1QyxZQUFZLGdEQUFnRCxnQ0FBZ0MsZUFBZSxrQkFBa0IsSUFBSSxVQUFVLEdBQUcsbURBQW1ELGtCQUFrQix5REFBeUQsbUJBQW1CLGtDQUFrQyw4REFBQyxnQkFBZ0Isb0JBQW9CLEVBQUUsTUFBTSxTQUFTLCtCQUErQixxQ0FBcUMsNEJBQTRCLE9BQU8sdURBQUMsd0JBQXdCLHFDQUFxQyxFQUFFLE1BQU0sU0FBUyxHQUFHLDJDQUEyQyxzQ0FBc0MsT0FBTywrRUFBQyxZQUFZLGtDQUFrQyxvQ0FBb0MsMkJBQTJCLEVBQUUsT0FBTyxPQUFPLHVEQUFDLE1BQU0sT0FBTywrRUFBQyxZQUFZLGtCQUFrQixnRkFBZ0YsZ0VBQUMsRUFBRSx1RkFBdUYscUJBQXFCLFNBQVMsK0NBQStDLFFBQVEsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsV0FBVyxFQUFFLFVBQVUsT0FBTyx5REFBQyxXQUFXLHFCQUFxQixHQUFHLGlCQUFpQiw0QkFBNEIsb0JBQW9CLCtFQUErRSxzREFBQyxvRkFBb0YsZUFBZSxxQkFBcUIsRUFBRSw2QkFBNkIsc0RBQUMsMERBQTBELFFBQVEsa0VBQUMsc0JBQXNCLG1EQUFtRCxzREFBQyxvRkFBb0YsdURBQUMsc0JBQXNCLE9BQU8sNEVBQTRFLDhCQUE4QixZQUFZLGFBQWEsZUFBZSw4RkFBOEYsb0NBQW9DLHdCQUF3QixnRkFBQyxtREFBbUQsV0FBVyxpQkFBaUIsRUFBRSxnQkFBZ0IsR0FBRyxHQUFHLHlCQUF5QixJQUFJLHdFQUFDLDRCQUE0QixrREFBa0QsT0FBTyx1REFBQyxJQUFJLE9BQU8sb0RBQW9ELDhCQUE4QixZQUFZLDhEQUE4RCxVQUFVLHNEQUFDLHFDQUFxQyxHQUFHLGVBQWUsZ0xBQWdMLHFCQUFxQiwwQkFBMEIsdUJBQXVCLE1BQU0sa0JBQWtCLHVCQUF1QixJQUFJLGlEQUFpRCwrREFBQyx1Q0FBdUMsWUFBWSwwQkFBMEIsb0JBQW9CLHNJQUFzSSxrSUFBa0ksNkJBQTZCLDJCQUEyQix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLHFDQUFxQyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLE1BQU0sa0JBQWtCLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsbUJBQW1CLGVBQWUsZ0NBQWdDLFdBQVcsSUFBSSxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGdEQUFnRCw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGFBQWEsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxLQUFLLHNFQUFDLENBQUMsMENBQTBDLHVEQUFDLEVBQUUsbUZBQUMsK0ZBQStGLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsU0FBUyxhQUFhLGtCQUFrQixVQUFVLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxtQ0FBbUMsdURBQUMsRUFBRSxtRkFBQyxjQUFjLFFBQVEsTUFBTSw2REFBQyxHQUFHLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsTUFBTSxrQkFBa0Isc0NBQXNDLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsOEVBQUMscURBQXFELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxrQkFBa0IsU0FBUyw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQyxDQUFDLDhEQUFDLGlDQUFpQyx1REFBQyxFQUFFLHVGQUFDLDhCQUE4QixxQ0FBcUMsNEJBQTRCLFVBQStCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL1RpbGVMYXllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCB0IGZyb21cIi4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7SGFuZGxlT3duZXJNaXhpbiBhcyBzfWZyb21cIi4uL2NvcmUvSGFuZGxlT3duZXIuanNcIjtpbXBvcnR7bG9hZEFsbCBhcyBpfWZyb21cIi4uL2NvcmUvbG9hZEFsbC5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBvfWZyb21cIi4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRFcnJvciBhcyBhfWZyb21cIi4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3VybFRvT2JqZWN0IGFzIGwsb2JqZWN0VG9RdWVyeSBhcyBuLG1ha2VBYnNvbHV0ZSBhcyBwfWZyb21cIi4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgY31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Nhc3QgYXMgdX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2Nhc3QuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIG19ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3dyaXRlciBhcyBkfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvd3JpdGVyLmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCBmIGZyb21cIi4vTGF5ZXIuanNcIjtpbXBvcnR7QVBJS2V5TWl4aW4gYXMgdn1mcm9tXCIuL21peGlucy9BUElLZXlNaXhpbi5qc1wiO2ltcG9ydHtBcmNHSVNDYWNoZWRTZXJ2aWNlIGFzIGd9ZnJvbVwiLi9taXhpbnMvQXJjR0lTQ2FjaGVkU2VydmljZS5qc1wiO2ltcG9ydHtBcmNHSVNNYXBTZXJ2aWNlIGFzIFN9ZnJvbVwiLi9taXhpbnMvQXJjR0lTTWFwU2VydmljZS5qc1wiO2ltcG9ydHtBcmNHSVNTZXJ2aWNlIGFzIF99ZnJvbVwiLi9taXhpbnMvQXJjR0lTU2VydmljZS5qc1wiO2ltcG9ydHtCbGVuZExheWVyIGFzIGp9ZnJvbVwiLi9taXhpbnMvQmxlbmRMYXllci5qc1wiO2ltcG9ydHtDdXN0b21QYXJhbWV0ZXJzTWl4aW4gYXMgVH1mcm9tXCIuL21peGlucy9DdXN0b21QYXJhbWV0ZXJzTWl4aW4uanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyBifWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgd31mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHtSZWZyZXNoYWJsZUxheWVyIGFzIE99ZnJvbVwiLi9taXhpbnMvUmVmcmVzaGFibGVMYXllci5qc1wiO2ltcG9ydHtTY2FsZVJhbmdlTGF5ZXIgYXMgTH1mcm9tXCIuL21peGlucy9TY2FsZVJhbmdlTGF5ZXIuanNcIjtpbXBvcnR7U3VibGF5ZXJzT3duZXIgYXMgUn1mcm9tXCIuL21peGlucy9TdWJsYXllcnNPd25lci5qc1wiO2ltcG9ydHtwYXJzZSBhcyBVLGlzSG9zdGVkQWdvbFNlcnZpY2UgYXMgUCxpc0FyY0dJU1VybCBhcyB4fWZyb21cIi4vc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHt1cmwgYXMgQX1mcm9tXCIuL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtjcmVhdGVUaWxlQml0bWFwIGFzIE19ZnJvbVwiLi9zdXBwb3J0L2ltYWdlQml0bWFwVXRpbHMuanNcIjtpbXBvcnQgSSBmcm9tXCIuL3N1cHBvcnQvU3VibGF5ZXIuanNcIjt2YXIgVztjb25zdCBCPVtcIkNhbnZhcy9Xb3JsZF9EYXJrX0dyYXlfQmFzZVwiLFwiQ2FudmFzL1dvcmxkX0RhcmtfR3JheV9SZWZlcmVuY2VcIixcIkNhbnZhcy9Xb3JsZF9MaWdodF9HcmF5X0Jhc2VcIixcIkNhbnZhcy9Xb3JsZF9MaWdodF9HcmF5X1JlZmVyZW5jZVwiLFwiRWxldmF0aW9uL1dvcmxkX0hpbGxzaGFkZVwiLFwiRWxldmF0aW9uL1dvcmxkX0hpbGxzaGFkZV9EYXJrXCIsXCJPY2Vhbi9Xb3JsZF9PY2Vhbl9CYXNlXCIsXCJPY2Vhbi9Xb3JsZF9PY2Vhbl9SZWZlcmVuY2VcIixcIk9jZWFuX0Jhc2VtYXBcIixcIlJlZmVyZW5jZS9Xb3JsZF9Cb3VuZGFyaWVzX2FuZF9QbGFjZXNcIixcIlJlZmVyZW5jZS9Xb3JsZF9Cb3VuZGFyaWVzX2FuZF9QbGFjZXNfQWx0ZXJuYXRlXCIsXCJSZWZlcmVuY2UvV29ybGRfVHJhbnNwb3J0YXRpb25cIixcIldvcmxkX0ltYWdlcnlcIixcIldvcmxkX1N0cmVldF9NYXBcIixcIldvcmxkX1RvcG9fTWFwXCJdO2xldCBDPVc9Y2xhc3MgZXh0ZW5kcyhqKEwoUihnKFMoYih3KF8obyhzKE8odihUKGYpKSkpKSkpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmxpc3RNb2RlPVwic2hvd1wiLHRoaXMuaXNSZWZlcmVuY2U9bnVsbCx0aGlzLm9wZXJhdGlvbmFsTGF5ZXJUeXBlPVwiQXJjR0lTVGlsZWRNYXBTZXJ2aWNlTGF5ZXJcIix0aGlzLnJlc2FtcGxpbmc9ITAsdGhpcy5zb3VyY2VKU09OPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5wYXRoPW51bGwsdGhpcy5zdWJsYXllcnM9bnVsbCx0aGlzLnR5cGU9XCJ0aWxlXCIsdGhpcy51cmw9bnVsbH1ub3JtYWxpemVDdG9yQXJncyhlLHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi5yfTplfWxvYWQoZSl7Y29uc3Qgcj1udWxsIT1lP2Uuc2lnbmFsOm51bGw7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLmxvYWRGcm9tUG9ydGFsKHtzdXBwb3J0ZWRUeXBlczpbXCJNYXAgU2VydmljZVwiXX0sZSkuY2F0Y2goYSkudGhlbigoKCk9PnRoaXMuX2ZldGNoU2VydmljZShyKSkpKSxQcm9taXNlLnJlc29sdmUodGhpcyl9Z2V0IGF0dHJpYnV0aW9uRGF0YVVybCgpe2NvbnN0IGU9dGhpcy5wYXJzZWRVcmw/LnBhdGgudG9Mb3dlckNhc2UoKTtyZXR1cm4gZT90aGlzLl9nZXREZWZhdWx0QXR0cmlidXRpb24odGhpcy5fZ2V0TWFwTmFtZShlKSk6bnVsbH1yZWFkU3BhdGlhbFJlZmVyZW5jZShlLHIpe3JldHVybihlPWV8fHIudGlsZUluZm8mJnIudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZSkmJnkuZnJvbUpTT04oZSl9d3JpdGVTdWJsYXllcnMoZSxyLHQscyl7aWYoIXRoaXMubG9hZGVkfHwhZSlyZXR1cm47Y29uc3QgaT1lLnNsaWNlKCkucmV2ZXJzZSgpLmZsYXR0ZW4oKCh7c3VibGF5ZXJzOmV9KT0+ZSYmZS50b0FycmF5KCkucmV2ZXJzZSgpKSkudG9BcnJheSgpLG89W10sYT17d3JpdGVTdWJsYXllclN0cnVjdHVyZTohMSwuLi5zfTtpLmZvckVhY2goKGU9Pntjb25zdCByPWUud3JpdGUoe30sYSk7by5wdXNoKHIpfSkpO28uc29tZSgoZT0+T2JqZWN0LmtleXMoZSkubGVuZ3RoPjEpKSYmKHIubGF5ZXJzPW8pfWdldCB0aWxlU2VydmVycygpe3JldHVybiB0aGlzLl9nZXREZWZhdWx0VGlsZVNlcnZlcnModGhpcy5wYXJzZWRVcmw/LnBhdGgpfWNhc3RUaWxlU2VydmVycyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLm1hcCgoZT0+bChlKS5wYXRoKSk6bnVsbH1mZXRjaFRpbGUoZSx0LHMsaT17fSl7Y29uc3R7c2lnbmFsOm99PWksYT10aGlzLmdldFRpbGVVcmwoZSx0LHMpLGw9e3Jlc3BvbnNlVHlwZTpcImltYWdlXCIsc2lnbmFsOm8scXVlcnk6ey4uLnRoaXMucmVmcmVzaFBhcmFtZXRlcnN9fTtyZXR1cm4gcihhLGwpLnRoZW4oKGU9PmUuZGF0YSkpfWFzeW5jIGZldGNoSW1hZ2VCaXRtYXBUaWxlKGUsdCxzLGk9e30pe2NvbnN0e3NpZ25hbDpvfT1pO2lmKHRoaXMuZmV0Y2hUaWxlIT09Vy5wcm90b3R5cGUuZmV0Y2hUaWxlKXtjb25zdCByPWF3YWl0IHRoaXMuZmV0Y2hUaWxlKGUsdCxzLGkpO3JldHVybiBNKHIsZSx0LHMsbyl9Y29uc3QgYT10aGlzLmdldFRpbGVVcmwoZSx0LHMpLGw9e3Jlc3BvbnNlVHlwZTpcImJsb2JcIixzaWduYWw6byxxdWVyeTp7Li4udGhpcy5yZWZyZXNoUGFyYW1ldGVyc319LHtkYXRhOm59PWF3YWl0IHIoYSxsKTtyZXR1cm4gTShuLGUsdCxzLG8pfWdldFRpbGVVcmwoZSxyLHQpe2NvbnN0IHM9IXRoaXMuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNUaWxlTWFwJiZ0aGlzLnN1cHBvcnRzQmxhbmtUaWxlLGk9bih7Li4udGhpcy5wYXJzZWRVcmw/LnF1ZXJ5LGJsYW5rVGlsZTohcyYmbnVsbCwuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5hcGlLZXl9KSxvPXRoaXMudGlsZVNlcnZlcnM7cmV0dXJuYCR7byYmby5sZW5ndGg/b1tyJW8ubGVuZ3RoXTp0aGlzLnBhcnNlZFVybD8ucGF0aH0vdGlsZS8ke2V9LyR7cn0vJHt0fSR7aT9cIj9cIitpOlwiXCJ9YH1sb2FkQWxsKCl7cmV0dXJuIGkodGhpcywoZT0+e2UodGhpcy5hbGxTdWJsYXllcnMpfSkpfV9mZXRjaFNlcnZpY2UoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgocyxpKT0+e2lmKHRoaXMuc291cmNlSlNPTil7aWYobnVsbCE9dGhpcy5zb3VyY2VKU09OLmJhbmRDb3VudCYmbnVsbCE9dGhpcy5zb3VyY2VKU09OLnBpeGVsU2l6ZVgpdGhyb3cgbmV3IHQoXCJ0aWxlLWxheWVyOnVuc3VwcG9ydGVkLXVybFwiLFwidXNlIEltYWdlcnlUaWxlTGF5ZXIgdG8gb3BlbiBhIHRpbGVkIGltYWdlIHNlcnZpY2VcIik7cmV0dXJuIHZvaWQgcyh7ZGF0YTp0aGlzLnNvdXJjZUpTT059KX1pZighdGhpcy5wYXJzZWRVcmwpdGhyb3cgbmV3IHQoXCJ0aWxlLWxheWVyOnVuZGVmaW5lZC11cmxcIixcImxheWVyJ3MgdXJsIGlzIG5vdCBkZWZpbmVkXCIpO2NvbnN0IG89VSh0aGlzLnBhcnNlZFVybC5wYXRoKTtpZihudWxsIT1vJiZcIkltYWdlU2VydmVyXCI9PT1vLnNlcnZlclR5cGUpdGhyb3cgbmV3IHQoXCJ0aWxlLWxheWVyOnVuc3VwcG9ydGVkLXVybFwiLFwidXNlIEltYWdlcnlUaWxlTGF5ZXIgdG8gb3BlbiBhIHRpbGVkIGltYWdlIHNlcnZpY2VcIik7cih0aGlzLnBhcnNlZFVybC5wYXRoLHtxdWVyeTp7ZjpcImpzb25cIiwuLi50aGlzLnBhcnNlZFVybC5xdWVyeSwuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5hcGlLZXl9LHJlc3BvbnNlVHlwZTpcImpzb25cIixzaWduYWw6ZX0pLnRoZW4ocyxpKX0pKS50aGVuKChyPT57bGV0IHQ9dGhpcy51cmw7aWYoci5zc2wmJih0PXRoaXMudXJsPXQucmVwbGFjZSgvXmh0dHA6L2ksXCJodHRwczpcIikpLHRoaXMuc291cmNlSlNPTj1yLmRhdGEsdGhpcy5yZWFkKHIuZGF0YSx7b3JpZ2luOlwic2VydmljZVwiLHVybDp0aGlzLnBhcnNlZFVybH0pLDEwLjE9PT10aGlzLnZlcnNpb24mJiFQKHQpKXJldHVybiB0aGlzLl9mZXRjaFNlcnZlclZlcnNpb24odCxlKS50aGVuKChlPT57dGhpcy5yZWFkKHtjdXJyZW50VmVyc2lvbjplfSl9KSkuY2F0Y2goKCgpPT57fSkpfSkpfV9mZXRjaFNlcnZlclZlcnNpb24oZSxzKXtpZigheChlKSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtjb25zdCBpPWUucmVwbGFjZSgvKC4qXFwvcmVzdClcXC8uKi9pLFwiJDFcIikrXCIvaW5mb1wiO3JldHVybiByKGkse3F1ZXJ5OntmOlwianNvblwiLC4uLnRoaXMuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLmFwaUtleX0scmVzcG9uc2VUeXBlOlwianNvblwiLHNpZ25hbDpzfSkudGhlbigoZT0+e2lmKGUuZGF0YSYmZS5kYXRhLmN1cnJlbnRWZXJzaW9uKXJldHVybiBlLmRhdGEuY3VycmVudFZlcnNpb247dGhyb3cgbmV3IHQoXCJ0aWxlLWxheWVyOnZlcnNpb24tbm90LWF2YWlsYWJsZVwiKX0pKX1fZ2V0TWFwTmFtZShlKXtjb25zdCByPWUubWF0Y2goL14oPzpodHRwcz86KT9cXC9cXC8oc2VydmVyXFwuYXJjZ2lzb25saW5lXFwuY29tfHNlcnZpY2VzXFwuYXJjZ2lzb25saW5lXFwuY29tfGliYXNlbWFwcy1hcGlcXC5hcmNnaXNcXC5jb20pXFwvYXJjZ2lzXFwvcmVzdFxcL3NlcnZpY2VzXFwvKFteXFwvXSsoXFwvW15cXC9dKykqKVxcL21hcHNlcnZlci9pKTtyZXR1cm4gcj9yWzJdOnZvaWQgMH1fZ2V0RGVmYXVsdEF0dHJpYnV0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7bGV0IHI7ZT1lLnRvTG93ZXJDYXNlKCk7Zm9yKGxldCB0PTAscz1CLmxlbmd0aDt0PHM7dCsrKWlmKHI9Qlt0XSxyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZSkpcmV0dXJuIHAoXCIvL3N0YXRpYy5hcmNnaXMuY29tL2F0dHJpYnV0aW9uL1wiK3IpO3JldHVybiBudWxsfV9nZXREZWZhdWx0VGlsZVNlcnZlcnMoZSl7aWYobnVsbD09ZSlyZXR1cm5bXTtjb25zdCByPS0xIT09ZS5zZWFyY2goL14oPzpodHRwcz86KT9cXC9cXC9zZXJ2ZXJcXC5hcmNnaXNvbmxpbmVcXC5jb20vaSksdD0tMSE9PWUuc2VhcmNoKC9eKD86aHR0cHM/Oik/XFwvXFwvc2VydmljZXNcXC5hcmNnaXNvbmxpbmVcXC5jb20vaSk7cmV0dXJuIHJ8fHQ/W2UsZS5yZXBsYWNlKHI/L3NlcnZlclxcLmFyY2dpc29ubGluZS9pOi9zZXJ2aWNlc1xcLmFyY2dpc29ubGluZS9pLHI/XCJzZXJ2aWNlcy5hcmNnaXNvbmxpbmVcIjpcInNlcnZlci5hcmNnaXNvbmxpbmVcIildOltdfWdldCBoYXNPdmVycmlkZGVuRmV0Y2hUaWxlKCl7cmV0dXJuIXRoaXMuZmV0Y2hUaWxlW05dfX07ZShbYyh7cmVhZE9ubHk6ITB9KV0sQy5wcm90b3R5cGUsXCJhdHRyaWJ1dGlvbkRhdGFVcmxcIixudWxsKSxlKFtjKHt0eXBlOltcInNob3dcIixcImhpZGVcIixcImhpZGUtY2hpbGRyZW5cIl19KV0sQy5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCksZShbYyh7anNvbjp7cmVhZDohMCx3cml0ZTohMH19KV0sQy5wcm90b3R5cGUsXCJibGVuZE1vZGVcIix2b2lkIDApLGUoW2Moe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOiExLHdyaXRlOntlbmFibGVkOiEwLG92ZXJyaWRlUG9saWN5OigpPT4oe2VuYWJsZWQ6ITF9KX19fSldLEMucHJvdG90eXBlLFwiaXNSZWZlcmVuY2VcIix2b2lkIDApLGUoW2Moe3JlYWRPbmx5OiEwLHR5cGU6W1wiQXJjR0lTVGlsZWRNYXBTZXJ2aWNlTGF5ZXJcIl19KV0sQy5wcm90b3R5cGUsXCJvcGVyYXRpb25hbExheWVyVHlwZVwiLHZvaWQgMCksZShbYyh7dHlwZTpCb29sZWFufSldLEMucHJvdG90eXBlLFwicmVzYW1wbGluZ1wiLHZvaWQgMCksZShbYygpXSxDLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLGUoW2Moe3R5cGU6eX0pXSxDLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW20oXCJzcGF0aWFsUmVmZXJlbmNlXCIsW1wic3BhdGlhbFJlZmVyZW5jZVwiLFwidGlsZUluZm9cIl0pXSxDLnByb3RvdHlwZSxcInJlYWRTcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbYyh7dHlwZTpTdHJpbmcsanNvbjp7b3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7cmVhZDohMCx3cml0ZTohMH19LHJlYWQ6ITF9fSldLEMucHJvdG90eXBlLFwicGF0aFwiLHZvaWQgMCksZShbYyh7cmVhZE9ubHk6ITB9KV0sQy5wcm90b3R5cGUsXCJzdWJsYXllcnNcIix2b2lkIDApLGUoW2QoXCJzdWJsYXllcnNcIix7bGF5ZXJzOnt0eXBlOltJXX19KV0sQy5wcm90b3R5cGUsXCJ3cml0ZVN1YmxheWVyc1wiLG51bGwpLGUoW2Moe2pzb246e3JlYWQ6ITEsd3JpdGU6ITF9fSldLEMucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlKFtjKCldLEMucHJvdG90eXBlLFwidGlsZVNlcnZlcnNcIixudWxsKSxlKFt1KFwidGlsZVNlcnZlcnNcIildLEMucHJvdG90eXBlLFwiY2FzdFRpbGVTZXJ2ZXJzXCIsbnVsbCksZShbYyh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sQy5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtjKEEpXSxDLnByb3RvdHlwZSxcInVybFwiLHZvaWQgMCksQz1XPWUoW2goXCJlc3JpLmxheWVycy5UaWxlTGF5ZXJcIildLEMpO2NvbnN0IE49U3ltYm9sKFwiZGVmYXVsdC1mZXRjaC10aWxlXCIpO0MucHJvdG90eXBlLmZldGNoVGlsZVtOXT0hMDtjb25zdCBrPUM7ZXhwb3J0e2sgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=