"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_graphics_sources_FeatureLayerSource_js"],{

/***/ "./node_modules/@arcgis/core/chunks/mat4f64.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/mat4f64.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ o),
/* harmony export */   a: () => (/* binding */ n),
/* harmony export */   b: () => (/* binding */ r),
/* harmony export */   c: () => (/* binding */ e),
/* harmony export */   f: () => (/* binding */ t),
/* harmony export */   m: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function t(e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p){return[e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p]}function n(e,r){return new Float64Array(e,r,16)}const o=e(),a=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec32.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec32.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ n),
/* harmony export */   b: () => (/* binding */ f),
/* harmony export */   c: () => (/* binding */ t),
/* harmony export */   d: () => (/* binding */ i),
/* harmony export */   e: () => (/* binding */ o),
/* harmony export */   f: () => (/* binding */ a),
/* harmony export */   n: () => (/* binding */ s),
/* harmony export */   s: () => (/* binding */ u),
/* harmony export */   t: () => (/* binding */ r),
/* harmony export */   v: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/support/buffer/math/common.js */ "./node_modules/@arcgis/core/geometry/support/buffer/math/common.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(e,t,f){r(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function r(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__.mathLogger.error("source and destination buffers need to have the same number of elements"),t;const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[4],c=f[5],l=f[6],p=f[8],y=f[9],h=f[10],m=f[12],B=f[13],g=f[14];let S=0,M=0;for(let e=0;e<u;e++){const e=r[S],f=r[S+1],u=r[S+2];t[M]=i*e+d*f+p*u+m,t[M+1]=s*e+c*f+y*u+B,t[M+2]=a*e+l*f+h*u+g,S+=o,M+=n}return t}function f(e,t,r){n(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function n(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return void _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__.mathLogger.error("source and destination buffers need to have the same number of elements");const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[3],c=f[4],l=f[5],p=f[6],y=f[7],h=f[8];let m=0,B=0;for(let e=0;e<u;e++){const e=r[m],f=r[m+1],u=r[m+2];t[B]=i*e+d*f+p*u,t[B+1]=s*e+c*f+y*u,t[B+2]=a*e+l*f+h*u,m+=o,B+=n}}function o(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,f=3){const n=Math.min(e.length/f,t.count),o=t.typedBuffer,u=t.typedBufferStride;let i=0,s=0;for(let a=0;a<n;a++)e[s]=r*o[i],e[s+1]=r*o[i+1],e[s+2]=r*o[i+2],i+=u,s+=f}function i(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t,r=3,f=r){const n=Math.min(e.length/r,t.length/f);let o=0,u=0;for(let i=0;i<n;i++){const n=t[o],i=t[o+1],s=t[o+2],a=n*n+i*i+s*s;if(a>0){const t=1/Math.sqrt(a);e[u]=t*n,e[u+1]=t*i,e[u+2]=t*s}o+=f,u+=r}}function a(e,t,r){const f=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,i=t.typedBufferStride;let s=0,a=0;for(let d=0;d<f;d++)n[a]=u[s]>>r,n[a+1]=u[s+1]>>r,n[a+2]=u[s+2]>>r,s+=i,a+=o}const d=Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:i,scale:u,scaleView:o,shiftRight:a,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let a=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__.ClonableMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport)){constructor(e){super(e),this.type="georeferenced-relative",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)()}getOriginPoint(e){const[r,o,t]=this.origin;return new _Point_js__WEBPACK_IMPORTED_MODULE_10__["default"]({x:r,y:o,z:t,spatialReference:e})}setOriginFormPoint({x:e,y:r,z:o}){this.origin=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.f)(e,r,o??0)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_7__.enumeration)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],a.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"origin",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],a);const m=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/buffer/math/common.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/buffer/math/common.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mathLogger: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.support.buffer.math");


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/External.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/External.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ServiceAsset: () => (/* binding */ a),
/* harmony export */   ServiceAssetPart: () => (/* binding */ i),
/* harmony export */   assetFormatId: () => (/* binding */ g),
/* harmony export */   assetIsOnService: () => (/* binding */ b),
/* harmony export */   externalIsOnService: () => (/* binding */ m),
/* harmony export */   externalSourceToMultiPart: () => (/* binding */ N),
/* harmony export */   externalSourcesAreEqual: () => (/* binding */ h),
/* harmony export */   isDisplayAsset: () => (/* binding */ p),
/* harmony export */   isDisplayExternal: () => (/* binding */ o),
/* harmony export */   isDisplaySource: () => (/* binding */ l),
/* harmony export */   isOriginalExternal: () => (/* binding */ A),
/* harmony export */   sourceIsOnService: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../layers/support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a{constructor(t,r,e){this.assetName=t,this.assetMimeType=r,this.parts=e}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.equals)(this.parts,t.parts,((t,r)=>t.equals(r)))}isOnService(t){return this.parts.every((r=>r.isOnService(t)))}makeHash(){let t="";for(const r of this.parts)t+=r.partHash;return t}async toBlob(t){const{parts:r}=this;if(1===r.length)return r[0].toBlob(t);const s=await Promise.all(r.map((r=>r.toBlob(t))));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),new Blob(s)}}class i{constructor(t,r){this.partUrl=t,this.partHash=r}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith(`${t.path}/assets/`)}async toBlob(r){const{data:s}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this.partUrl,{responseType:"blob"});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r),s}}function o(t){return l(t?.source)}function u(t){if(!Array.isArray(t))return!1;return t.every((t=>t instanceof a))}const c=/^(model\/gltf\+json)|(model\/gltf-binary)$/,f=/\.(gltf|glb)/i;function l(t){if(!t)return!1;if(Array.isArray(t)){return t.some(p)}return p(t)}function p(t){if(t instanceof File){const{type:r,name:e}=t;return c.test(r)||f.test(e)}return c.test(t.assetMimeType)||f.test(t.assetName)}function m(t,r){if(!t)return!1;const{source:e}=t;return y(e,r)}function h(t,r){if(t===r)return!0;const{source:e}=t,{source:s}=r;if(e===s)return!0;if(u(e)&&u(s)){if(e.length!==s.length)return!1;const t=(t,r)=>t.assetName<r.assetName?-1:t.assetName>r.assetName?1:0,r=[...e].sort(t),n=[...s].sort(t);for(let e=0;e<r.length;++e)if(!r[e].equals(n[e]))return!1;return!0}return!1}function y(t,r){if(Array.isArray(t)){return t.every((t=>b(t,r)))}return b(t,r)}function b(t,r){return t instanceof a&&t.isOnService(r)}function g(t,r){return t instanceof File?(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.getFilenameFormatId)(t.name,r)??(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.getMimeTypeFormatId)(t.type,r):(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.getMimeTypeFormatId)(t.assetMimeType,r)??(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_3__.getFilenameFormatId)(t.assetName,r)}function N(t){return Array.isArray(t)?t:[t]}function A(t){return!!t.original}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toRelativeVertexSpace: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _MeshGeoreferencedRelativeVertexSpace_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MeshGeoreferencedRelativeVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(t){const{vertexSpace:n}=t;if(n.isRelative)return t.clone();const{anchor:i}=t,c=i.clone(),a=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.f)(s,[-c.x,-c.y,-c.z]),m=new _MeshGeoreferencedRelativeVertexSpace_js__WEBPACK_IMPORTED_MODULE_2__["default"]({origin:[c.x,c.y,c.z]}),p=t.cloneWithVertexSpace(m),{position:f}=p.vertexAttributes;return p.vertexAttributes.position=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)(new Float64Array(f.length),f,a),p.vertexAttributesChanged(),p}const s=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryCapabilities: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../kernel.js */ "./node_modules/@arcgis/core/kernel.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../geometry/support/meshVertexSpaceUtils.js */ "./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js");
/* harmony import */ var _geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../geometry/support/meshUtils/External.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/External.js");
/* harmony import */ var _editingSupport_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../editingSupport.js */ "./node_modules/@arcgis/core/layers/graphics/editingSupport.js");
/* harmony import */ var _support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/clientSideDefaults.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js");
/* harmony import */ var _support_QueryTask_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/QueryTask.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/* harmony import */ var _rest_query_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../rest/query/executeQueryJSON.js */ "./node_modules/@arcgis/core/rest/query/executeQueryJSON.js");
/* harmony import */ var _rest_query_operations_editsZScale_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../rest/query/operations/editsZScale.js */ "./node_modules/@arcgis/core/rest/query/operations/editsZScale.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const U=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_9__.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),k=new Set(["Feature Layer","Oriented Imagery Layer","Table"]),Q=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_9__.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});let C=class extends _core_Loadable_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this.type="feature-layer",this.refresh=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_13__.debounce)((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}})),this._ongoingAssetUploads=new Map}load(e){const t=null!=e?e.signal:null,s=this.layer.sourceJSON;return this.addResolvingPromise(this._fetchService(s,t)),Promise.resolve(this)}get queryTask(){const{capabilities:e,parsedUrl:t,dynamicDataSource:s,infoFor3D:r,gdbVersion:a,spatialReference:i,fieldsIndex:o}=this.layer,n=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-pbf")&&e?.query.supportsFormatPBF&&null==r,u=e?.operations?.supportsQueryAttachments??!1;return new _support_QueryTask_js__WEBPACK_IMPORTED_MODULE_27__["default"]({url:t.path,pbfSupported:n,fieldsIndex:o,infoFor3D:r,dynamicDataSource:s,gdbVersion:a,sourceSpatialReference:i,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+"/"+s+"/addAttachment",i=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,i.query);try{const e=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(a,{body:o});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(n){throw this._createAttachmentErrorResult(s,n)}}async updateAttachment(e,t,s){await this.load();const a=e.attributes[this.layer.objectIdField],i=this.layer.parsedUrl.path+"/"+a+"/updateAttachment",o=this._getLayerRequestOptions({query:{attachmentId:t}}),n=this._getFormDataForAttachment(s,o.query);try{const e=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i,{body:n});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async applyEdits(e,t){await this.load();const{layer:a}=this,o=a.infoFor3D,n=null!=o,u=n||(t?.globalIdUsed??!1),l=n?await this._uploadMeshesAndGetAssetMapEditsJSON(e):null,d=e.addFeatures?.map((e=>this._getFeatureJSON(e,o)))??[],c=(await Promise.all(d)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__.isSome),p=e.updateFeatures?.map((e=>this._getFeatureJSON(e,o)))??[],h=(await Promise.all(p)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__.isSome),y=this._getFeatureIds(e.deleteFeatures,u);(0,_rest_query_operations_editsZScale_js__WEBPACK_IMPORTED_MODULE_31__.unapplyEditsZUnitScaling)(c,h,a.spatialReference);const m=await this._getAttachmentEditsJSON(e),f=a.capabilities.editing.supportsAsyncApplyEdits&&n,g={gdbVersion:t?.gdbVersion||a.gdbVersion,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:u,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,sessionId:t?.sessionId,async:f};t?.returnServiceEditsOption?(g.edits=JSON.stringify([{id:a.layerId,adds:c,updates:h,deletes:y,attachments:m,assetMaps:l}]),g.returnServiceEditsOption=U.toJSON(t?.returnServiceEditsOption),g.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(g.adds=c.length?JSON.stringify(c):null,g.updates=h.length?JSON.stringify(h):null,g.deletes=y.length?u?JSON.stringify(y):y.join(","):null,g.attachments=m&&JSON.stringify(m),g.assetMaps=null!=l?JSON.stringify(l):void 0);const R=this._getLayerRequestOptions({method:"post",query:g}),S=t?.returnServiceEditsOption?a.url:a.parsedUrl.path,b=f?await this._asyncApplyEdits(S+"/applyEdits",R):await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(S+"/applyEdits",R);if(!a.capabilities.operations?.supportsEditing&&a.effectiveCapabilities?.operations?.supportsEditing){const e=_kernel_js__WEBPACK_IMPORTED_MODULE_3__.id?.findCredential(a.url);await(e?.refreshToken())}return this._createEditsResult(b)}async deleteAttachments(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+"/"+s+"/deleteAttachments";try{return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(i){throw this._createAttachmentErrorResult(s,i)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:s,url:i}=this.layer,{data:o}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(`${i}/${s}`,t),{id:n,extent:u,fullExtent:l,timeExtent:d}=o,c=u||l;return{id:n,fullExtent:c&&_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(c),timeExtent:d&&_TimeExtent_js__WEBPACK_IMPORTED_MODULE_5__["default"].fromJSON({start:d[0],end:d[1]})}}))}async queryAttachments(e,t={}){await this.load();const s=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_28__.isHostedAgolService)(this.layer.url))return"unavailable";const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_15__.join)(this.layer.url,"status"),t=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(e,{query:{f:"json"}});return Q.fromJSON(t.data.status)}async uploadAssets(e,t){const{uploadAssets:s}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_graphics_sources_support_uploadAssets_js").then(__webpack_require__.bind(__webpack_require__, /*! ./support/uploadAssets.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js"));return s(e,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},t)}async _asyncApplyEdits(e,t){const s=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(e,t)).data.statusUrl;for(;;){const e=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(s,{query:{f:"json"},responseType:"json"})).data;switch(e.status){case"Completed":return (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(e.resultUrl,{query:{f:"json"},responseType:"json"});case"CompletedWithErrors":throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_7__["default"]("async-applyEdits-failed","asynchronous applyEdits call failed.");case"Failed ImportChanges":case"InProgress":case"Pending":case"ExportAttachments":case"ExportChanges":case"ExportingData":case"ExportingSnapshot":case"ImportAttachments":case"ProvisioningReplica":case"UnRegisteringReplica":break;default:throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_7__["default"]("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)")}await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_13__.after)(D)}}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const{data:s}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:t}));e=s}this.sourceJSON=await this._patchServiceJSON(e,t);const s=e.type;if(!k.has(s))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_7__["default"]("feature-layer-source:unsupported-type",`Source type "${s}" is not supported`)}async _patchServiceJSON(e,t){if("Table"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=(0,_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_26__.createDrawingInfo)(e.geometryType).renderer;(0,_core_object_js__WEBPACK_IMPORTED_MODULE_12__.setDeepValue)("drawingInfo.renderer",t,e)}if("esriGeometryMultiPatch"===e.geometryType&&e.infoFor3D&&(e.geometryType="mesh"),null==e.extent)try{const{data:s}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this.layer.url,this._getLayerRequestOptions({signal:t}));s.spatialReference&&(e.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:s.spatialReference})}catch(s){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_13__.throwIfAbortError)(s)}return e}async _getFeatureJSON(e,t){const{geometry:s}=e,r={...e.attributes};if(null!=t&&"mesh"===s?.type){const{transformFieldRoles:e}=t,{origin:a,spatialReference:i,transform:o}=s,n=this.layer.spatialReference;await (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_21__.initializeProjection)(i,n);const u=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_21__.project)(a,n);if(r[e.originX]=u.x,r[e.originY]=u.y,r[e.originZ]=u.z??0,null!=o){const{translation:t,scale:a,rotation:u}=o,{vertexSpace:l}=s,d=l.isGeoreferenced?1:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_14__.getMetersPerCartesianUnitForSR)(i)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_14__.getMetersPerCartesianUnitForSR)(n);r[e.translationX]=t[0]*d,r[e.translationY]=-t[2]*d,r[e.translationZ]=t[1]*d,r[e.scaleX]=a[0],r[e.scaleY]=a[2],r[e.scaleZ]=a[1],r[e.rotationX]=u[0],r[e.rotationY]=u[2],r[e.rotationZ]=u[1],r[e.rotationDeg]=u[3]}return{geometry:null,attributes:r}}return null==s?{attributes:r}:"mesh"===s.type||"extent"===s.type?null:{geometry:s.toJSON(),attributes:r}}async _getAttachmentEditsJSON(e){const t=await Promise.all((e.addAttachments??[]).map((e=>this._getAttachmentEditJSON(e)))),s=await Promise.all((e.updateAttachments??[]).map((e=>this._getAttachmentEditJSON(e)))),r=e.deleteAttachments??[];return t.length||s.length||r.length?{adds:t,updates:s,deletes:[...r]}:null}async _getAttachmentEditJSON(e){const{feature:t,attachment:s}=e,{globalId:r,name:a,contentType:i,data:o,uploadId:n}=s,u={globalId:r,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(u.parentGlobalId="attributes"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),n)u.uploadId=n;else if(o){const e=await (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_15__.parseData)(o);e&&(u.contentType=e.mediaType,u.data=e.data),o instanceof File&&(u.name=o.name)}return a&&(u.name=a),i&&(u.contentType=i),u}async _uploadMeshesAndGetAssetMapEditsJSON(e){const{addAssetFeatures:t}=e;if(!t?.length)return null;const s=await this._filterRedundantAssetMaps(t);if(!t?.length)return null;const r=new Array,a=new Map;for(const i of s){const{geometry:e}=i,{vertexSpace:t}=e;if(t.isRelative)r.push(e);else{const t=(0,_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_23__.toRelativeVertexSpace)(e);a.set(t,e),i.geometry=t,r.push(t)}}await this.uploadAssets(r);for(const[i,o]of a)o.addExternalSources(i.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(s),updates:[],deletes:[]}}_getAssetMapEditsJSON(e){const t=new Array,s=this.layer.globalIdField,r=this.layer.parsedUrl;for(const a of e){const e=a.geometry,{metadata:i}=e,o=i.getExternalSourcesOnService(r),n=a.getAttribute(s);if(0===o.length){_core_Logger_js__WEBPACK_IMPORTED_MODULE_11__["default"].getLogger(this).error(`Skipping feature ${n}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);continue}const{source:u}=o.find(_geometry_support_meshUtils_External_js__WEBPACK_IMPORTED_MODULE_24__.isOriginalExternal)??o[0],{vertexSpace:d}=e,c=d.isGeoreferenced?["PROJECT_VERTICES"]:[];for(const s of u)1===s.parts.length?t.push({globalId:(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_16__.generateBracedUUID)(),parentGlobalId:n,assetName:s.assetName,assetHash:s.parts[0].partHash,flags:c}):_core_Logger_js__WEBPACK_IMPORTED_MODULE_11__["default"].getLogger(this).error(`Skipping asset ${s.assetName}. It does not have exactly one part, so we cannot map it to a feature.`)}return t}_getFeatureIds(e,t){if(!e||0===e.length)return[];if(t&&(0,_editingSupport_js__WEBPACK_IMPORTED_MODULE_25__.isFeatureIdentifierArrayWithGlobalId)(e))return e.map((e=>e.globalId));if((0,_editingSupport_js__WEBPACK_IMPORTED_MODULE_25__.isFeatureIdentifierArrayWithObjectId)(e))return e.map((e=>e.objectId));const{layer:s}=this,r=t?s.globalIdField:s.objectIdField;return r?e.map((e=>e.getAttribute(r))):[]}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,r=[];let a=null;if(Array.isArray(t))for(const u of t)r.push({id:u.id,editedFeatures:u.editedFeatures}),u.id===s&&(a={addResults:u.addResults??[],updateResults:u.updateResults??[],deleteResults:u.deleteResults??[],attachments:u.attachments,editMoment:u.editMoment});else a=t;const i=a?.assetMaps;if(i){for(const e of i.addResults)e.success||_core_Logger_js__WEBPACK_IMPORTED_MODULE_11__["default"].getLogger(this).error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of i.updateResults)e.success||_core_Logger_js__WEBPACK_IMPORTED_MODULE_11__["default"].getLogger(this).error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const o=a?.attachments,n={addFeatureResults:a?.addResults?.map(this._createFeatureEditResult,this)??[],updateFeatureResults:a?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:a?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:o&&o.addResults?o.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:o&&o.updateResults?o.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:o&&o.deleteResults?o.deleteResults.map(this._createFeatureEditResult,this):[]};if(a?.editMoment&&(n.editMoment=a.editMoment),r.length>0){n.editedFeatureResults=[];for(const e of r){const{editedFeatures:t}=e,s=t?.spatialReference?new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_33__["default"](t.spatialReference):null;n.editedFeatureResults.push({layerId:e.id,editedFeatures:{adds:t?.adds?.map((e=>this._createEditedFeature(e,s)))||[],updates:t?.updates?.map((e=>({original:this._createEditedFeature(e[0],s),current:this._createEditedFeature(e[1],s)})))||[],deletes:t?.deletes?.map((e=>this._createEditedFeature(e,s)))||[],spatialReference:s}})}}return n}_createEditedFeature(e,s){return new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({attributes:e.attributes,geometry:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_22__.fromJSON)({...e.geometry,spatialReference:s})})}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new _core_Error_js__WEBPACK_IMPORTED_MODULE_7__["default"]("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const s=t.details.messages&&t.details.messages[0]||t.message,r=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_7__["default"]("feature-layer-source:attachment-failure",s,{code:r})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const r in t){const e=t[r];null!=e&&(s.set?s.set(r,e):s.append(r,e))}return s}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:s,dynamicDataSource:r}=this.layer;return{...e,query:{gdbVersion:s,layer:r?JSON.stringify({source:r}):void 0,...t.query,f:"json",...this._createRequestQueryOptions(e)},responseType:"json"}}async _filterRedundantAssetMaps(e){const{layer:t}=this,{globalIdField:s,infoFor3D:r,parsedUrl:a}=t;if(null==r||null==s)return e;const o=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_29__.getAssetMapTable)(r);if(null==o)return e;const n=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_15__.join)(a.path,`../${o.id}`),u=new Array,l=new Array;for(const i of e)i.geometry.metadata.getExternalSourcesOnService(a).length>0?l.push(i):u.push(i);const d=l.map((e=>e.getAttribute(s))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__.isSome);if(0===d.length)return e;const{assetMapFieldRoles:{parentGlobalId:c,assetHash:p}}=r,h=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_32__["default"];h.where=`${c} IN (${d.map((e=>`'${e}'`))})`,h.outFields=[p,c],h.returnGeometry=!1;const y=await (0,_rest_query_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_30__.executeQueryJSON)(n,h),{features:f}=y;return 0===f.length?e:[...u,...l.filter((e=>{const t=e.getAttribute(s);if(!t)return!0;const{metadata:r}=e.geometry,i=f.filter((e=>e.getAttribute(c)===t));if(0===i.length)return!0;const o=i.map((e=>e.getAttribute(p)));return r.getExternalSourcesOnService(a).flatMap((({source:e})=>e.flatMap((e=>e.parts.map((e=>e.partHash)))))).some((e=>o.every((t=>e!==t))))}))]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)()],C.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({constructOnly:!0})],C.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_17__.property)({readOnly:!0})],C.prototype,"queryTask",null),C=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_19__.subclass)("esri.layers.graphics.sources.FeatureLayerSource")],C);const D=1e3,L=C;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/* harmony import */ var _support_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../support/source/DataLayerSource.js */ "./node_modules/@arcgis/core/layers/support/source/DataLayerSource.js");
/* harmony import */ var _rest_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../rest/utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _rest_query_executeForCount_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../rest/query/executeForCount.js */ "./node_modules/@arcgis/core/rest/query/executeForCount.js");
/* harmony import */ var _rest_query_executeForExtent_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../rest/query/executeForExtent.js */ "./node_modules/@arcgis/core/rest/query/executeForExtent.js");
/* harmony import */ var _rest_query_executeForIds_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../rest/query/executeForIds.js */ "./node_modules/@arcgis/core/rest/query/executeForIds.js");
/* harmony import */ var _rest_query_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../rest/query/executeQueryJSON.js */ "./node_modules/@arcgis/core/rest/query/executeQueryJSON.js");
/* harmony import */ var _rest_query_executeQueryPBF_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../rest/query/executeQueryPBF.js */ "./node_modules/@arcgis/core/rest/query/executeQueryPBF.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let F=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.url=null}get parsedUrl(){return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.urlToObject)(this.url)}async execute(e,t){const r=await this.executeJSON(e,t);return this.featureSetFromJSON(e,r,t)}async executeJSON(e,t){const r=this._normalizeQuery(e),o=null!=e.outStatistics?.[0],s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-pbf-statistics"),i=!o||s;let u;if(this.pbfSupported&&i)try{u=await (0,_rest_query_executeQueryPBF_js__WEBPACK_IMPORTED_MODULE_17__.executeRawQueryPBF)(this.url,r,t)}catch(a){if("query:parsing-pbf"!==a.name)throw a;this.pbfSupported=!1}return this.pbfSupported&&i||(u=await (0,_rest_query_executeQueryJSON_js__WEBPACK_IMPORTED_MODULE_16__.executeRawQueryJSON)(this.url,r,t)),this._normalizeFields(u.fields),u}async featureSetFromJSON(e,t,r){if(!this._queryIs3DObjectFormat(e)||null==this.infoFor3D||!t.features)return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(t);const{meshFeatureSetFromJSON:s}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_geometry_support_buffer_BufferView_js"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_geometry_support_meshUtils_georeference_js"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_chunks_quatf64_js-node_modules_arcgis_core_chunks_vec-bbfffa")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/support/meshFeatureSet.js */ "./node_modules/@arcgis/core/rest/support/meshFeatureSet.js")),r);return s(e,this.infoFor3D,t)}executeForCount(e,t){return (0,_rest_query_executeForCount_js__WEBPACK_IMPORTED_MODULE_13__.executeForCount)(this.url,this._normalizeQuery(e),t)}executeForExtent(e,t){return (0,_rest_query_executeForExtent_js__WEBPACK_IMPORTED_MODULE_14__.executeForExtent)(this.url,this._normalizeQuery(e),t)}executeForIds(e,t){return (0,_rest_query_executeForIds_js__WEBPACK_IMPORTED_MODULE_15__.executeForIds)(this.url,this._normalizeQuery(e),t)}async executeRelationshipQuery(e,t){const[{default:r},{executeRelationshipQuery:s}]=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(Promise.all([Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/support/RelationshipQuery.js */ "./node_modules/@arcgis/core/rest/support/RelationshipQuery.js")),__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_executeRelationshipQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/executeRelationshipQuery.js */ "./node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js"))]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),s(this.url,e,t)}async executeRelationshipQueryForCount(e,t){const[{default:r},{executeRelationshipQueryForCount:s}]=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(Promise.all([Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/support/RelationshipQuery.js */ "./node_modules/@arcgis/core/rest/support/RelationshipQuery.js")),__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_executeRelationshipQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/executeRelationshipQuery.js */ "./node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js"))]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),s(this.url,e,t)}async executeAttachmentQuery(e,t){const{executeAttachmentQuery:r,fetchAttachments:s,processAttachmentQueryResult:i}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_operations_queryAttachments_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/operations/queryAttachments.js */ "./node_modules/@arcgis/core/rest/query/operations/queryAttachments.js")),t),u=(0,_rest_utils_js__WEBPACK_IMPORTED_MODULE_12__.parseUrl)(this.url);return i(u,await(this.queryAttachmentsSupported?r(u,e,t):s(u,e,t)))}async executeTopFeaturesQuery(e,t){const{executeTopFeaturesQuery:r}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_executeTopFeaturesQuery_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/executeTopFeaturesQuery.js */ "./node_modules/@arcgis/core/rest/query/executeTopFeaturesQuery.js")),t);return r(this.parsedUrl,e,this.sourceSpatialReference,t)}async executeForTopIds(e,t){const{executeForTopIds:r}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_executeForTopIds_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/executeForTopIds.js */ "./node_modules/@arcgis/core/rest/query/executeForTopIds.js")),t);return r(this.parsedUrl,e,t)}async executeForTopExtents(e,t){const{executeForTopExtents:r}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_executeForTopExtents_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/executeForTopExtents.js */ "./node_modules/@arcgis/core/rest/query/executeForTopExtents.js")),t);return r(this.parsedUrl,e,t)}async executeForTopCount(e,t){const{executeForTopCount:r}=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOrAbort)(__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_rest_query_executeForTopCount_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rest/query/executeForTopCount.js */ "./node_modules/@arcgis/core/rest/query/executeForTopCount.js")),t);return r(this.parsedUrl,e,t)}_normalizeQuery(e){let t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_19__["default"].from(e);t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?_support_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_11__.DataLayerSource.from(e.dynamicDataSource):this.dynamicDataSource);const{infoFor3D:o}=this;if(null!=o&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;const{supportedFormats:s,queryFormats:i}=o,u=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_10__.getMimeTypeFormatId)("model/gltf-binary",s)??(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_10__.getFilenameFormatId)("glb",s),c=(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_10__.getMimeTypeFormatId)("model/gltf+json",s)??(0,_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_10__.getFilenameFormatId)("gtlf",s);for(const e of i){if(e===u){t.formatOf3DObjects=e;break}e!==c||t.formatOf3DObjects||(t.formatOf3DObjects=e)}if(!t.formatOf3DObjects)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==t.outFields||!t.outFields.includes("*")){t=t===e?t.clone():t,null==t.outFields&&(t.outFields=[]);const{originX:r,originY:s,originZ:i,translationX:u,translationY:a,translationZ:n,scaleX:c,scaleY:p,scaleZ:l,rotationX:m,rotationY:y,rotationZ:d,rotationDeg:f}=o.transformFieldRoles;t.outFields.push(r,s,i,u,a,n,c,p,l,m,y,d,f)}}return t}_normalizeFields(e){if(null!=this.fieldsIndex&&null!=e)for(const t of e){const e=this.fieldsIndex.get(t.name);e&&Object.assign(t,e.toJSON())}}_queryIs3DObjectFormat(e){return null!=this.infoFor3D&&!0===e.returnGeometry&&"xyFootprint"!==e.multipatchOption&&!e.outStatistics}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_source_DataLayerSource_js__WEBPACK_IMPORTED_MODULE_11__.DataLayerSource})],F.prototype,"dynamicDataSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],F.prototype,"fieldsIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],F.prototype,"gdbVersion",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],F.prototype,"infoFor3D",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],F.prototype,"parsedUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],F.prototype,"pbfSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],F.prototype,"queryAttachmentsSupported",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],F.prototype,"sourceSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:String})],F.prototype,"url",void 0),F=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.tasks.QueryTask")],F);const x=F;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createCapabilities: () => (/* binding */ c),
/* harmony export */   createDefaultAttributesFunction: () => (/* binding */ i),
/* harmony export */   createDefaultTemplate: () => (/* binding */ a),
/* harmony export */   createDrawingInfo: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/QueryEngineCapabilities.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js");
/* harmony import */ var _symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../symbols/support/defaultsJSON.js */ "./node_modules/@arcgis/core/symbols/support/defaultsJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPointSymbolJSON:"esriGeometryPolyline"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolylineSymbolJSON:_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolygonSymbolJSON}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions"))return()=>({[s]:null,...t});try{let r=`this.${s} = null;`;for(const s in t){r+=`this${u.test(s)?`.${s}`:`["${s}"]`} = ${JSON.stringify(t[s])};`}const e=new Function(`\n      return class AttributesClass$${n++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(s={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(s)}}]}function c(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:_data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/query/executeForExtent.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/query/executeForExtent.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   executeForExtent: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function m(m,n,s){const p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.parseUrl)(m);return (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_2__.executeQueryForExtent)(p,_support_Query_js__WEBPACK_IMPORTED_MODULE_3__["default"].from(n),{...s}).then((t=>({count:t.data.count,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__["default"].fromJSON(t.data.extent)})))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19ncmFwaGljc19zb3VyY2VzX0ZlYXR1cmVMYXllclNvdXJjZV9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdDQUF3QyxjQUFjLDhGQUE4Riw0Q0FBNEMsd0NBQXdDLGdCQUFnQixnQ0FBZ0MsbURBQW1ELHFFQUFxRSxxQkFBcUIsZUFBZSxHQUFxRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0ZjtBQUNBO0FBQ0E7QUFDQTtBQUN1RSxrQkFBa0IseUVBQXlFLDBCQUEwQiw2Q0FBNkMsK0VBQUMsb0ZBQW9GLDJHQUEyRyxZQUFZLFlBQVksSUFBSSxLQUFLLCtCQUErQix1RUFBdUUsU0FBUyxrQkFBa0IseUVBQXlFLDBCQUEwQixrREFBa0QsK0VBQUMsa0ZBQWtGLGtGQUFrRixZQUFZLFlBQVksSUFBSSxLQUFLLCtCQUErQixrRUFBa0Usa0JBQWtCLHlDQUF5QyxzQkFBc0IsMkVBQTJFLFlBQVksWUFBWSxJQUFJLDBEQUEwRCxnQkFBZ0IsdUVBQXVFLHdCQUF3Qix3Q0FBd0MsWUFBWSxZQUFZLElBQUksS0FBSyw2Q0FBNkMsUUFBUSx1QkFBdUIsK0JBQStCLFdBQVcsa0JBQWtCLDhHQUE4RyxZQUFZLFlBQVksSUFBSSw2REFBNkQsNkNBQTZDLG9KQUFvSixxQkFBcUIsZUFBZSxHQUFpRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdGpFO0FBQ0E7QUFDQTtBQUNBO0FBQ29rQixvQkFBb0IsZ0VBQUMsQ0FBQyw2REFBQyxHQUFHLGVBQWUsbUdBQW1HLHFEQUFDLEdBQUcsa0JBQWtCLHlCQUF5QixXQUFXLGtEQUFDLEVBQUUsK0JBQStCLEVBQUUsb0JBQW9CLFlBQVksRUFBRSxZQUFZLHFEQUFDLGFBQWEsdURBQUMsRUFBRSw0RkFBQyxFQUFFLCtDQUErQyxFQUFFLFlBQVksOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxtQ0FBbUMsVUFBVSxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxtRUFBbUUsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdG9DO0FBQ0E7QUFDQTtBQUNBO0FBQzBDLFFBQVEsdURBQUMsZ0RBQXdFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM0g7QUFDQTtBQUNBO0FBQ0E7QUFDMlAsUUFBUSxtQkFBbUIsbURBQW1ELFVBQVUscUZBQXFGLDJEQUFDLDBDQUEwQyxlQUFlLCtDQUErQyxXQUFXLFNBQVMsd0NBQXdDLFNBQVMsZ0JBQWdCLE1BQU0sUUFBUSxNQUFNLHNDQUFzQyxtREFBbUQsT0FBTyxxRUFBQyxpQkFBaUIsUUFBUSxpQkFBaUIsK0JBQStCLFVBQVUsc0VBQXNFLGVBQWUsa0NBQWtDLE9BQU8sV0FBVyxnQkFBZ0IsTUFBTSxPQUFPLE9BQU8sdURBQUMsZUFBZSxvQkFBb0IsRUFBRSxPQUFPLHFFQUFDLE9BQU8sY0FBYyxvQkFBb0IsY0FBYyw4QkFBOEIsb0NBQW9DLHVFQUF1RSxjQUFjLGVBQWUscUJBQXFCLGlCQUFpQixZQUFZLGNBQWMsc0JBQXNCLE1BQU0sY0FBYyxHQUFHLDRCQUE0QixvREFBb0QsZ0JBQWdCLGVBQWUsTUFBTSxTQUFTLEdBQUcsY0FBYyxnQkFBZ0Isa0JBQWtCLE1BQU0sU0FBUyxJQUFJLFNBQVMsR0FBRyxrQkFBa0IsZUFBZSxnQ0FBZ0Msd0dBQXdHLFlBQVksV0FBVyxtQ0FBbUMsU0FBUyxTQUFTLGdCQUFnQixxQkFBcUIsNEJBQTRCLGNBQWMsZ0JBQWdCLHdDQUF3QyxnQkFBZ0IseUJBQXlCLGlGQUFDLFlBQVksaUZBQUMsV0FBVyxpRkFBQyxxQkFBcUIsaUZBQUMsZ0JBQWdCLGNBQWMsOEJBQThCLGNBQWMsbUJBQWdUOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmwzRTtBQUNBO0FBQ0E7QUFDQTtBQUN3TCxjQUFjLE1BQU0sY0FBYyxHQUFHLGlDQUFpQyxNQUFNLFNBQVMsaUJBQWlCLGtEQUFDLDJCQUEyQixnRkFBQyxFQUFFLHFCQUFxQiwrQkFBK0IsV0FBVyxvQkFBb0IsbUNBQW1DLG1EQUFDLCtEQUErRCxRQUFRLHFEQUFDLEdBQXNDOzs7Ozs7Ozs7Ozs7Ozs7QUNKbGlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxSUFBcUksc0NBQXNDLG90QkFBbXZCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnY2QjtBQUNBO0FBQ0E7QUFDQTtBQUM4K0QsWUFBWSxxREFBQyxFQUFFLHVFQUF1RSxzRUFBc0UscURBQUMsRUFBRSxrRUFBa0UsRUFBRSxvQkFBb0IsMERBQUMsQ0FBQyxjQUFjLDJEQUEyRCxnRUFBQyxZQUFZLGtCQUFrQixrREFBa0Qsa0JBQWtCLDJCQUEyQixJQUFJLCtCQUErQixNQUFNLE9BQU8sMkJBQTJCLHNEQUFzRCxPQUFPLHlCQUF5QixzRUFBc0UsT0FBTyxxQ0FBcUMsUUFBUSxzREFBc0QsK0VBQStFLGdCQUFnQixNQUFNLHlHQUF5RyxjQUFjLHdEQUFHLHdHQUF3RyxXQUFXLDhEQUFDLEVBQUUsMElBQTBJLEVBQUUseUJBQXlCLGtCQUFrQiwrS0FBK0ssSUFBSSxjQUFjLHVEQUFDLElBQUksT0FBTyxFQUFFLGlFQUFpRSxTQUFTLDhDQUE4Qyw4QkFBOEIsa0JBQWtCLHFJQUFxSSxPQUFPLGdCQUFnQiw4Q0FBOEMsSUFBSSxjQUFjLHVEQUFDLElBQUksT0FBTyxFQUFFLG9FQUFvRSxTQUFTLDhDQUE4QyxzQkFBc0Isa0JBQWtCLE1BQU0sUUFBUSw4TUFBOE0sdURBQUMsOEZBQThGLHVEQUFDLDRDQUE0QyxnR0FBQyx5QkFBeUIscUdBQXFHLHdOQUF3TixzREFBc0Qsa0VBQWtFLCtWQUErVixzQ0FBc0Msc0JBQXNCLGdIQUFnSCx1REFBQyxvQkFBb0Isc0dBQXNHLFFBQVEsMENBQUMsd0JBQXdCLHlCQUF5QixrQ0FBa0MsNkJBQTZCLGtCQUFrQixzR0FBc0csSUFBSSxhQUFhLHVEQUFDLGlDQUFpQyxPQUFPLDBCQUEwQixlQUFlLG9FQUFvRSxTQUFTLDhDQUE4QywyQkFBMkIsRUFBRSxpQkFBaUIsa0JBQWtCLFNBQVMsa0JBQWtCLHNDQUFzQyxZQUFZLGtCQUFrQixHQUFHLGdCQUFnQixhQUFhLE9BQU8sT0FBTyx1REFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sd0NBQXdDLFVBQVUsT0FBTyxtQkFBbUIsNERBQUMsMkJBQTJCLHNEQUFDLFdBQVcsb0JBQW9CLEdBQUcsR0FBRyw2QkFBNkIsRUFBRSxrQkFBa0Isd0NBQXdDLGtEQUFrRCx5QkFBeUIsbURBQW1ELDhDQUE4QyxFQUFFLDZCQUE2Qix1REFBdUQsOENBQThDLEVBQUUsMEJBQTBCLHlEQUF5RCw4Q0FBOEMsRUFBRSw2QkFBNkIsMkRBQTJELDhDQUE4QyxFQUFFLHVCQUF1Qiw0REFBNEQsOENBQThDLEVBQUUsZ0NBQWdDLG9FQUFvRSw4Q0FBOEMsRUFBRSxxQ0FBcUMsNEVBQTRFLDhDQUE4QyxFQUFFLDRCQUE0QixtRUFBbUUsOENBQThDLEVBQUUsNkJBQTZCLDREQUE0RCw4Q0FBOEMsRUFBRSwyQkFBMkIsZ0VBQWdFLDhDQUE4QyxFQUFFLHlCQUF5Qiw4REFBOEQsOENBQThDLEVBQUUsOEJBQThCLElBQUksZ0ZBQUMscUNBQXFDLFFBQVEsd0RBQUMsa0NBQWtDLHVEQUFDLElBQUksT0FBTyxVQUFVLEVBQUUsaUNBQWlDLHdCQUF3QixNQUFNLGVBQWUsT0FBTyxxUkFBbUMsQ0FBQyxZQUFZLDBEQUEwRCxJQUFJLDRCQUE0QixlQUFlLHVEQUFDLHNCQUFzQixNQUFNLEVBQUUsZUFBZSx1REFBQyxJQUFJLE9BQU8sU0FBUyxxQkFBcUIsUUFBUSxpQkFBaUIsdUJBQXVCLHVEQUFDLGNBQWMsT0FBTyxTQUFTLHFCQUFxQixFQUFFLG9DQUFvQyxzREFBQyxtRUFBbUUscU9BQXFPLGtCQUFrQixzREFBQyw4RkFBOEYsTUFBTSw2REFBQyxLQUFLLDhCQUE4QixTQUFTLG9FQUFvRSw4RUFBOEUseUJBQXlCLE9BQU8sTUFBTSxPQUFPLE9BQU8sdURBQUMseURBQXlELE1BQU0sd0RBQUcsbUNBQW1DLHlCQUF5QixHQUFHLFVBQVUsR0FBRyxJQUFJLGtEQUFrRCxlQUFlLHVCQUF1QixzREFBQyx5REFBeUQsRUFBRSxxQkFBcUIsNkJBQTZCLGtGQUFrRixRQUFRLGtGQUFDLDBCQUEwQiw4REFBQyw2QkFBNkIsc0dBQXNHLE1BQU0sT0FBTyxPQUFPLHVEQUFDLDhDQUE4QyxTQUFTLEdBQUcsK0JBQStCLGdFQUFnRSxFQUFFLFNBQVMseUVBQUMsSUFBSSxTQUFTLDJCQUEyQixNQUFNLFdBQVcsTUFBTSxpQkFBaUIsOEJBQThCLE1BQU0sc0JBQXNCLElBQUksd0NBQXdDLGlDQUFpQyxNQUFNLDhFQUFDLE1BQU0sUUFBUSxpRUFBQyxNQUFNLGtFQUFrRSxNQUFNLGlDQUFpQyxJQUFJLGNBQWMseUJBQXlCLG1GQUFDLElBQUksbUZBQUMsSUFBSSxpTkFBaU4sT0FBTyw0QkFBNEIsZ0JBQWdCLGFBQWEsMENBQTBDLGtDQUFrQyxpQ0FBaUMsNk1BQTZNLHFDQUFxQyxnQ0FBZ0MsTUFBTSxnQ0FBZ0MsTUFBTSx1QkFBdUIsSUFBSSxrREFBa0QsTUFBTSxtRkFBbUYseUhBQXlILFdBQVcsY0FBYyw2REFBQyxJQUFJLGdGQUFnRiw0Q0FBNEMsOENBQThDLE1BQU0sbUJBQW1CLEdBQUcsMEJBQTBCLGdEQUFnRCwwQkFBMEIsNEJBQTRCLGtCQUFrQixNQUFNLFdBQVcsSUFBSSxjQUFjLEdBQUcsMEJBQTBCLEtBQUssUUFBUSxpR0FBQyxJQUFJLG1DQUFtQywyQkFBMkIsMEVBQTBFLE9BQU8sMERBQTBELHlCQUF5QixvRUFBb0Usa0JBQWtCLG9CQUFvQixXQUFXLDBEQUEwRCxpQkFBaUIsd0RBQUMsMkNBQTJDLEVBQUUsb0dBQW9HLFNBQVMsTUFBTSxTQUFTLFFBQVEsd0ZBQUMsU0FBUyxjQUFjLCtDQUErQyw0Q0FBNEMsU0FBUyxrRUFBQyxnRkFBZ0YsRUFBRSx3REFBQyx5Q0FBeUMsWUFBWSx5RUFBeUUsU0FBUyxvQkFBb0IsNkJBQTZCLE1BQU0seUZBQUMsa0NBQWtDLEdBQUcseUZBQUMsa0NBQWtDLE1BQU0sUUFBUSwwQ0FBMEMsMENBQTBDLHNCQUFzQixnQkFBZ0IsVUFBVSxpQkFBaUIsV0FBVyw2Q0FBNkMsd0NBQXdDLGdCQUFnQixrSkFBa0osRUFBRSxTQUFTLHFCQUFxQixNQUFNLHVDQUF1Qyx3REFBQyx1RUFBdUUsV0FBVyxJQUFJLDBDQUEwQyx3REFBQyx1RUFBdUUsV0FBVyxJQUFJLDBCQUEwQiw2aEJBQTZoQiwwREFBMEQsMEJBQTBCLGtCQUFrQixNQUFNLGlCQUFpQiw2QkFBNkIsc0VBQUMsMEJBQTBCLDZCQUE2Qiw2QkFBNkIseUZBQXlGLHFGQUFxRiw2RkFBNkYsR0FBRyxTQUFTLDBCQUEwQixXQUFXLG1EQUFDLEVBQUUsaUNBQWlDLHlFQUFDLEVBQUUsaUNBQWlDLEVBQUUsRUFBRSw0QkFBNEIsc0NBQXNDLGdDQUFnQyxPQUFPLG9EQUFvRCxzREFBQyxvREFBb0QsWUFBWSxRQUFRLGtDQUFrQywyR0FBMkcsT0FBTyxtQ0FBbUMsc0RBQUMsOENBQThDLE9BQU8sR0FBRywrQkFBK0IsbUVBQW1FLHVCQUF1QixhQUFhLDBDQUEwQyxTQUFTLDRCQUE0QixFQUFFLE1BQU0sNkNBQTZDLFlBQVksT0FBTyxZQUFZLHFDQUFxQyxTQUFTLG1FQUFtRSxzQkFBc0IsbUNBQW1DLE1BQU0sUUFBUSxPQUFPLHdDQUF3QyxHQUFHLDZCQUE2QixRQUFRLHdFQUFDLElBQUksb0JBQW9CLFFBQVEsd0RBQUMsY0FBYyxLQUFLLDJCQUEyQixpR0FBaUcsNkNBQTZDLHVEQUFDLEVBQUUseUJBQXlCLE1BQU0sb0JBQW9CLDhCQUE4QixTQUFTLCtEQUFDLENBQUMsV0FBVyxHQUFHLE1BQU0sY0FBYyxFQUFFLEtBQUsseUNBQXlDLGNBQWMsa0ZBQUMsT0FBTyxXQUFXLEdBQUcsNkNBQTZDLDBCQUEwQixlQUFlLE1BQU0sV0FBVyxtREFBbUQseUJBQXlCLHNDQUFzQyxtREFBbUQsU0FBUyxpRkFBaUYsTUFBTSx1REFBQyxFQUFFLHVGQUFDLCtCQUErQix1REFBQyxFQUFFLHVGQUFDLEVBQUUsaUJBQWlCLCtCQUErQix1REFBQyxFQUFFLHVGQUFDLEVBQUUsWUFBWSxtQ0FBbUMsdURBQUMsRUFBRSx1RkFBQyx3REFBd0QsZ0JBQXFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3bWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ3d2QyxvQkFBb0IseURBQUMsQ0FBQyxlQUFlLDBNQUEwTSxnQkFBZ0IsT0FBTyw4REFBQyxXQUFXLG1CQUFtQixvQ0FBb0Msc0NBQXNDLHVCQUF1QiwrREFBK0Qsd0RBQUcsd0NBQXdDLE1BQU0sNEJBQTRCLFFBQVEsbUZBQUMsZUFBZSxTQUFTLHdDQUF3QyxxQkFBcUIsc0NBQXNDLHFGQUFDLGtEQUFrRCxnQ0FBZ0MsNkVBQTZFLG9FQUFDLGFBQWEsTUFBTSx5QkFBeUIsT0FBTyxrRUFBQyxDQUFDLG9oQkFBb0QsSUFBSSw2QkFBNkIscUJBQXFCLE9BQU8sZ0ZBQUMscUNBQXFDLHNCQUFzQixPQUFPLGtGQUFDLHFDQUFxQyxtQkFBbUIsT0FBTyw0RUFBQyxxQ0FBcUMsb0NBQW9DLE9BQU8sVUFBVSxFQUFFLDJCQUEyQixRQUFRLGtFQUFDLGNBQWMsME1BQXVELENBQUMsNFJBQTRELE1BQU0sdU1BQXVNLDRDQUE0QyxPQUFPLFVBQVUsRUFBRSxtQ0FBbUMsUUFBUSxrRUFBQyxjQUFjLDBNQUF1RCxDQUFDLDRSQUE0RCxNQUFNLHVNQUF1TSxrQ0FBa0MsTUFBTSwyRUFBMkUsT0FBTyxrRUFBQyxDQUFDLHFTQUErRCxNQUFNLHlEQUFDLFdBQVcsb0VBQW9FLG1DQUFtQyxNQUFNLDBCQUEwQixPQUFPLGtFQUFDLENBQUMseVJBQTJELElBQUkseURBQXlELDRCQUE0QixNQUFNLG1CQUFtQixPQUFPLGtFQUFDLENBQUMsb1FBQW9ELElBQUksNkJBQTZCLGdDQUFnQyxNQUFNLHVCQUF1QixPQUFPLGtFQUFDLENBQUMsZ1JBQXdELElBQUksNkJBQTZCLDhCQUE4QixNQUFNLHFCQUFxQixPQUFPLGtFQUFDLENBQUMsMFFBQXNELElBQUksNkJBQTZCLG1CQUFtQixNQUFNLCtEQUFDLFNBQVMsa09BQWtPLGdGQUFDLG1EQUFtRCxNQUFNLFlBQVksTUFBTSw0Q0FBNEMsNkNBQTZDLE1BQU0sa0NBQWtDLEtBQUssMkVBQUMseUJBQXlCLDJFQUFDLFlBQVksMkVBQUMsdUJBQXVCLDJFQUFDLFdBQVcsa0JBQWtCLFVBQVUsc0JBQXNCLE1BQU0sb0RBQW9ELGtDQUFrQyxzREFBQyw0SUFBNEksa0RBQWtELHdEQUF3RCxNQUFNLHdKQUF3Six1QkFBdUIsNkNBQTZDLFNBQVMsb0JBQW9CLHFEQUFxRCxxQ0FBcUMsZ0NBQWdDLDBCQUEwQiwyR0FBMkcsdURBQUMsRUFBRSxzRkFBQyxFQUFFLEtBQUssZ0ZBQUMsQ0FBQywyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxzQ0FBc0MsdURBQUMsRUFBRSxzRkFBQyxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsb0RBQW9ELHVEQUFDLEVBQUUsc0ZBQUMsaURBQWlELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLDZCQUE2QixVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0aE07QUFDQTtBQUNBO0FBQ0E7QUFDc1QsY0FBYyxPQUFPLFVBQVUsMkVBQTJFLG9GQUFDLDRCQUE0Qix1RkFBQyxDQUFDLHNGQUFDLEdBQUcscUNBQXFDLFFBQVEsZ0JBQWdCLEdBQUcsd0RBQUcsc0NBQXNDLGNBQWMsRUFBRSxJQUFJLGNBQWMsR0FBRyxPQUFPLEVBQUUsa0JBQWtCLFVBQVUsY0FBYyxFQUFFLE9BQU8sRUFBRSxLQUFLLElBQUksc0JBQXNCLEVBQUUsNkRBQTZELE1BQU0seUJBQXlCLGNBQWMsR0FBRyxXQUFXLFNBQVMsV0FBVyxnQkFBZ0IsU0FBUyxZQUFZLGNBQWMsR0FBRyxlQUFlLEVBQUUsUUFBUSw2Q0FBNkMsV0FBVyxvREFBQyxLQUFLLEVBQUUsZ0JBQWdCLE9BQU8sV0FBVyxxQkFBcUIsdUJBQXVCLDhEQUE4RCxXQUFXLG1DQUFtQyxhQUFhLHdXQUF3VyxPQUFPLCtFQUFDLGVBQWUsK0VBQStFLG1CQUFtQixxQkFBcUIsVUFBVSxpVUFBd2I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjFrRTtBQUNBO0FBQ0E7QUFDQTtBQUMwTSx3QkFBd0IsUUFBUSxtREFBQyxJQUFJLE9BQU8sMkVBQUMsR0FBRyx5REFBQyxVQUFVLEtBQUssYUFBYSwwQkFBMEIsMkRBQUMseUJBQXlCLElBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL21hdDRmNjQuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL3ZlYzMyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvTWVzaEdlb3JlZmVyZW5jZWRSZWxhdGl2ZVZlcnRleFNwYWNlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvYnVmZmVyL21hdGgvY29tbW9uLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL0V4dGVybmFsLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFZlcnRleFNwYWNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmVDYXBhYmlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvRmVhdHVyZUxheWVyU291cmNlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvUXVlcnlUYXNrLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvY2xpZW50U2lkZURlZmF1bHRzLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3QvcXVlcnkvZXhlY3V0ZUZvckV4dGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZSgpe3JldHVyblsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXX1mdW5jdGlvbiByKGUpe3JldHVybltlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdXX1mdW5jdGlvbiB0KGUscix0LG4sbyxhLHUsYyxmLGwscyxpLGIsXyxtLHApe3JldHVybltlLHIsdCxuLG8sYSx1LGMsZixsLHMsaSxiLF8sbSxwXX1mdW5jdGlvbiBuKGUscil7cmV0dXJuIG5ldyBGbG9hdDY0QXJyYXkoZSxyLDE2KX1jb25zdCBvPWUoKSxhPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxJREVOVElUWTpvLGNsb25lOnIsY3JlYXRlOmUsY3JlYXRlVmlldzpuLGZyb21WYWx1ZXM6dH0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtvIGFzIEksbiBhcyBhLHIgYXMgYixlIGFzIGMsdCBhcyBmLGEgYXMgbX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21hdGhMb2dnZXIgYXMgZX1mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L2J1ZmZlci9tYXRoL2NvbW1vbi5qc1wiO2Z1bmN0aW9uIHQoZSx0LGYpe3IoZS50eXBlZEJ1ZmZlcix0LnR5cGVkQnVmZmVyLGYsZS50eXBlZEJ1ZmZlclN0cmlkZSx0LnR5cGVkQnVmZmVyU3RyaWRlKX1mdW5jdGlvbiByKHQscixmLG49MyxvPW4pe2lmKHQubGVuZ3RoL24hPT1NYXRoLmNlaWwoci5sZW5ndGgvbykpcmV0dXJuIGUuZXJyb3IoXCJzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGJ1ZmZlcnMgbmVlZCB0byBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50c1wiKSx0O2NvbnN0IHU9dC5sZW5ndGgvbixpPWZbMF0scz1mWzFdLGE9ZlsyXSxkPWZbNF0sYz1mWzVdLGw9Zls2XSxwPWZbOF0seT1mWzldLGg9ZlsxMF0sbT1mWzEyXSxCPWZbMTNdLGc9ZlsxNF07bGV0IFM9MCxNPTA7Zm9yKGxldCBlPTA7ZTx1O2UrKyl7Y29uc3QgZT1yW1NdLGY9cltTKzFdLHU9cltTKzJdO3RbTV09aSplK2QqZitwKnUrbSx0W00rMV09cyplK2MqZit5KnUrQix0W00rMl09YSplK2wqZitoKnUrZyxTKz1vLE0rPW59cmV0dXJuIHR9ZnVuY3Rpb24gZihlLHQscil7bihlLnR5cGVkQnVmZmVyLHQudHlwZWRCdWZmZXIscixlLnR5cGVkQnVmZmVyU3RyaWRlLHQudHlwZWRCdWZmZXJTdHJpZGUpfWZ1bmN0aW9uIG4odCxyLGYsbj0zLG89bil7aWYodC5sZW5ndGgvbiE9PU1hdGguY2VpbChyLmxlbmd0aC9vKSlyZXR1cm4gdm9pZCBlLmVycm9yKFwic291cmNlIGFuZCBkZXN0aW5hdGlvbiBidWZmZXJzIG5lZWQgdG8gaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgZWxlbWVudHNcIik7Y29uc3QgdT10Lmxlbmd0aC9uLGk9ZlswXSxzPWZbMV0sYT1mWzJdLGQ9ZlszXSxjPWZbNF0sbD1mWzVdLHA9Zls2XSx5PWZbN10saD1mWzhdO2xldCBtPTAsQj0wO2ZvcihsZXQgZT0wO2U8dTtlKyspe2NvbnN0IGU9clttXSxmPXJbbSsxXSx1PXJbbSsyXTt0W0JdPWkqZStkKmYrcCp1LHRbQisxXT1zKmUrYypmK3kqdSx0W0IrMl09YSplK2wqZitoKnUsbSs9byxCKz1ufX1mdW5jdGlvbiBvKGUsdCxyKXt1KGUudHlwZWRCdWZmZXIsdCxyLGUudHlwZWRCdWZmZXJTdHJpZGUpfWZ1bmN0aW9uIHUoZSx0LHIsZj0zKXtjb25zdCBuPU1hdGgubWluKGUubGVuZ3RoL2YsdC5jb3VudCksbz10LnR5cGVkQnVmZmVyLHU9dC50eXBlZEJ1ZmZlclN0cmlkZTtsZXQgaT0wLHM9MDtmb3IobGV0IGE9MDthPG47YSsrKWVbc109cipvW2ldLGVbcysxXT1yKm9baSsxXSxlW3MrMl09cipvW2krMl0saSs9dSxzKz1mfWZ1bmN0aW9uIGkoZSx0KXtzKGUudHlwZWRCdWZmZXIsdC50eXBlZEJ1ZmZlcixlLnR5cGVkQnVmZmVyU3RyaWRlLHQudHlwZWRCdWZmZXJTdHJpZGUpfWZ1bmN0aW9uIHMoZSx0LHI9MyxmPXIpe2NvbnN0IG49TWF0aC5taW4oZS5sZW5ndGgvcix0Lmxlbmd0aC9mKTtsZXQgbz0wLHU9MDtmb3IobGV0IGk9MDtpPG47aSsrKXtjb25zdCBuPXRbb10saT10W28rMV0scz10W28rMl0sYT1uKm4raSppK3MqcztpZihhPjApe2NvbnN0IHQ9MS9NYXRoLnNxcnQoYSk7ZVt1XT10Km4sZVt1KzFdPXQqaSxlW3UrMl09dCpzfW8rPWYsdSs9cn19ZnVuY3Rpb24gYShlLHQscil7Y29uc3QgZj1NYXRoLm1pbihlLmNvdW50LHQuY291bnQpLG49ZS50eXBlZEJ1ZmZlcixvPWUudHlwZWRCdWZmZXJTdHJpZGUsdT10LnR5cGVkQnVmZmVyLGk9dC50eXBlZEJ1ZmZlclN0cmlkZTtsZXQgcz0wLGE9MDtmb3IobGV0IGQ9MDtkPGY7ZCsrKW5bYV09dVtzXT4+cixuW2ErMV09dVtzKzFdPj5yLG5bYSsyXT11W3MrMl0+PnIscys9aSxhKz1vfWNvbnN0IGQ9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLG5vcm1hbGl6ZTpzLG5vcm1hbGl6ZVZpZXc6aSxzY2FsZTp1LHNjYWxlVmlldzpvLHNoaWZ0UmlnaHQ6YSx0cmFuc2Zvcm1NYXQzOm4sdHJhbnNmb3JtTWF0M1ZpZXc6Zix0cmFuc2Zvcm1NYXQ0OnIsdHJhbnNmb3JtTWF0NFZpZXc6dH0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtuIGFzIGEsZiBhcyBiLHQgYXMgYyxpIGFzIGQsbyBhcyBlLGEgYXMgZixzIGFzIG4sdSBhcyBzLHIgYXMgdCxkIGFzIHZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtDbG9uYWJsZU1peGluIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9DbG9uYWJsZS5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBvfWZyb21cIi4uLy4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2VudW1lcmF0aW9uIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9lbnVtZXJhdGlvbi5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7YyBhcyBwLGYgYXMgY31mcm9tXCIuLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL1BvaW50LmpzXCI7bGV0IGE9Y2xhc3MgZXh0ZW5kcyhyKG8pKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnR5cGU9XCJnZW9yZWZlcmVuY2VkLXJlbGF0aXZlXCIsdGhpcy5pc1JlbGF0aXZlPSEwLHRoaXMuaXNHZW9yZWZlcmVuY2VkPSEwLHRoaXMub3JpZ2luPXAoKX1nZXRPcmlnaW5Qb2ludChlKXtjb25zdFtyLG8sdF09dGhpcy5vcmlnaW47cmV0dXJuIG5ldyBuKHt4OnIseTpvLHo6dCxzcGF0aWFsUmVmZXJlbmNlOmV9KX1zZXRPcmlnaW5Gb3JtUG9pbnQoe3g6ZSx5OnIsejpvfSl7dGhpcy5vcmlnaW49YyhlLHIsbz8/MCl9fTtlKFtzKHtnZW9yZWZlcmVuY2VkUmVsYXRpdmU6XCJnZW9yZWZlcmVuY2VkLXJlbGF0aXZlXCJ9LHtyZWFkT25seTohMH0pXSxhLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3Qoe3R5cGU6W051bWJlcl0sbm9uTnVsbGFibGU6ITAsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwib3JpZ2luXCIsdm9pZCAwKSxhPWUoW2koXCJlc3JpLmdlb21ldHJ5LnN1cHBvcnQuTWVzaEdlb3JlZmVyZW5jZWRSZWxhdGl2ZVZlcnRleFNwYWNlXCIpXSxhKTtjb25zdCBtPWE7ZXhwb3J0e20gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtjb25zdCBlPXIuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4zZC5zdXBwb3J0LmJ1ZmZlci5tYXRoXCIpO2V4cG9ydHtlIGFzIG1hdGhMb2dnZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7Z2V0RmlsZW5hbWVGb3JtYXRJZCBhcyBzLGdldE1pbWVUeXBlRm9ybWF0SWQgYXMgbn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9pbmZvRm9yM0QuanNcIjtjbGFzcyBhe2NvbnN0cnVjdG9yKHQscixlKXt0aGlzLmFzc2V0TmFtZT10LHRoaXMuYXNzZXRNaW1lVHlwZT1yLHRoaXMucGFydHM9ZX1lcXVhbHModCl7cmV0dXJuIHRoaXM9PT10fHx0aGlzLmFzc2V0TmFtZT09PXQuYXNzZXROYW1lJiZ0aGlzLmFzc2V0TWltZVR5cGU9PT10LmFzc2V0TWltZVR5cGUmJnIodGhpcy5wYXJ0cyx0LnBhcnRzLCgodCxyKT0+dC5lcXVhbHMocikpKX1pc09uU2VydmljZSh0KXtyZXR1cm4gdGhpcy5wYXJ0cy5ldmVyeSgocj0+ci5pc09uU2VydmljZSh0KSkpfW1ha2VIYXNoKCl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgciBvZiB0aGlzLnBhcnRzKXQrPXIucGFydEhhc2g7cmV0dXJuIHR9YXN5bmMgdG9CbG9iKHQpe2NvbnN0e3BhcnRzOnJ9PXRoaXM7aWYoMT09PXIubGVuZ3RoKXJldHVybiByWzBdLnRvQmxvYih0KTtjb25zdCBzPWF3YWl0IFByb21pc2UuYWxsKHIubWFwKChyPT5yLnRvQmxvYih0KSkpKTtyZXR1cm4gZSh0KSxuZXcgQmxvYihzKX19Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0LHIpe3RoaXMucGFydFVybD10LHRoaXMucGFydEhhc2g9cn1lcXVhbHModCl7cmV0dXJuIHRoaXM9PT10fHx0aGlzLnBhcnRVcmw9PT10LnBhcnRVcmwmJnRoaXMucGFydEhhc2g9PT10LnBhcnRIYXNofWlzT25TZXJ2aWNlKHQpe3JldHVybiB0aGlzLnBhcnRVcmwuc3RhcnRzV2l0aChgJHt0LnBhdGh9L2Fzc2V0cy9gKX1hc3luYyB0b0Jsb2Iocil7Y29uc3R7ZGF0YTpzfT1hd2FpdCB0KHRoaXMucGFydFVybCx7cmVzcG9uc2VUeXBlOlwiYmxvYlwifSk7cmV0dXJuIGUociksc319ZnVuY3Rpb24gbyh0KXtyZXR1cm4gbCh0Py5zb3VyY2UpfWZ1bmN0aW9uIHUodCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuITE7cmV0dXJuIHQuZXZlcnkoKHQ9PnQgaW5zdGFuY2VvZiBhKSl9Y29uc3QgYz0vXihtb2RlbFxcL2dsdGZcXCtqc29uKXwobW9kZWxcXC9nbHRmLWJpbmFyeSkkLyxmPS9cXC4oZ2x0ZnxnbGIpL2k7ZnVuY3Rpb24gbCh0KXtpZighdClyZXR1cm4hMTtpZihBcnJheS5pc0FycmF5KHQpKXtyZXR1cm4gdC5zb21lKHApfXJldHVybiBwKHQpfWZ1bmN0aW9uIHAodCl7aWYodCBpbnN0YW5jZW9mIEZpbGUpe2NvbnN0e3R5cGU6cixuYW1lOmV9PXQ7cmV0dXJuIGMudGVzdChyKXx8Zi50ZXN0KGUpfXJldHVybiBjLnRlc3QodC5hc3NldE1pbWVUeXBlKXx8Zi50ZXN0KHQuYXNzZXROYW1lKX1mdW5jdGlvbiBtKHQscil7aWYoIXQpcmV0dXJuITE7Y29uc3R7c291cmNlOmV9PXQ7cmV0dXJuIHkoZSxyKX1mdW5jdGlvbiBoKHQscil7aWYodD09PXIpcmV0dXJuITA7Y29uc3R7c291cmNlOmV9PXQse3NvdXJjZTpzfT1yO2lmKGU9PT1zKXJldHVybiEwO2lmKHUoZSkmJnUocykpe2lmKGUubGVuZ3RoIT09cy5sZW5ndGgpcmV0dXJuITE7Y29uc3QgdD0odCxyKT0+dC5hc3NldE5hbWU8ci5hc3NldE5hbWU/LTE6dC5hc3NldE5hbWU+ci5hc3NldE5hbWU/MTowLHI9Wy4uLmVdLnNvcnQodCksbj1bLi4uc10uc29ydCh0KTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoOysrZSlpZighcltlXS5lcXVhbHMobltlXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24geSh0LHIpe2lmKEFycmF5LmlzQXJyYXkodCkpe3JldHVybiB0LmV2ZXJ5KCh0PT5iKHQscikpKX1yZXR1cm4gYih0LHIpfWZ1bmN0aW9uIGIodCxyKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGEmJnQuaXNPblNlcnZpY2Uocil9ZnVuY3Rpb24gZyh0LHIpe3JldHVybiB0IGluc3RhbmNlb2YgRmlsZT9zKHQubmFtZSxyKT8/bih0LnR5cGUscik6bih0LmFzc2V0TWltZVR5cGUscik/P3ModC5hc3NldE5hbWUscil9ZnVuY3Rpb24gTih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Olt0XX1mdW5jdGlvbiBBKHQpe3JldHVybiEhdC5vcmlnaW5hbH1leHBvcnR7YSBhcyBTZXJ2aWNlQXNzZXQsaSBhcyBTZXJ2aWNlQXNzZXRQYXJ0LGcgYXMgYXNzZXRGb3JtYXRJZCxiIGFzIGFzc2V0SXNPblNlcnZpY2UsbSBhcyBleHRlcm5hbElzT25TZXJ2aWNlLE4gYXMgZXh0ZXJuYWxTb3VyY2VUb011bHRpUGFydCxoIGFzIGV4dGVybmFsU291cmNlc0FyZUVxdWFsLHAgYXMgaXNEaXNwbGF5QXNzZXQsbyBhcyBpc0Rpc3BsYXlFeHRlcm5hbCxsIGFzIGlzRGlzcGxheVNvdXJjZSxBIGFzIGlzT3JpZ2luYWxFeHRlcm5hbCx5IGFzIHNvdXJjZUlzT25TZXJ2aWNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZiBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy9tYXQ0LmpzXCI7aW1wb3J0e2MgYXMgdH1mcm9tXCIuLi8uLi9jaHVua3MvbWF0NGY2NC5qc1wiO2ltcG9ydCByIGZyb21cIi4vTWVzaEdlb3JlZmVyZW5jZWRSZWxhdGl2ZVZlcnRleFNwYWNlLmpzXCI7aW1wb3J0e3QgYXMgb31mcm9tXCIuLi8uLi9jaHVua3MvdmVjMzIuanNcIjtmdW5jdGlvbiBuKHQpe2NvbnN0e3ZlcnRleFNwYWNlOm59PXQ7aWYobi5pc1JlbGF0aXZlKXJldHVybiB0LmNsb25lKCk7Y29uc3R7YW5jaG9yOml9PXQsYz1pLmNsb25lKCksYT1lKHMsWy1jLngsLWMueSwtYy56XSksbT1uZXcgcih7b3JpZ2luOltjLngsYy55LGMuel19KSxwPXQuY2xvbmVXaXRoVmVydGV4U3BhY2UobSkse3Bvc2l0aW9uOmZ9PXAudmVydGV4QXR0cmlidXRlcztyZXR1cm4gcC52ZXJ0ZXhBdHRyaWJ1dGVzLnBvc2l0aW9uPW8obmV3IEZsb2F0NjRBcnJheShmLmxlbmd0aCksZixhKSxwLnZlcnRleEF0dHJpYnV0ZXNDaGFuZ2VkKCkscH1jb25zdCBzPXQoKTtleHBvcnR7biBhcyB0b1JlbGF0aXZlVmVydGV4U3BhY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHQ9e3N1cHBvcnRzU3RhdGlzdGljczohMCxzdXBwb3J0c1BlcmNlbnRpbGVTdGF0aXN0aWNzOiEwLHN1cHBvcnRzU3BhdGlhbEFnZ3JlZ2F0aW9uU3RhdGlzdGljczohMSxzdXBwb3J0ZWRTcGF0aWFsQWdncmVnYXRpb25TdGF0aXN0aWNzOntlbnZlbG9wZTohMSxjZW50cm9pZDohMSxjb252ZXhIdWxsOiExfSxzdXBwb3J0c0NlbnRyb2lkOiEwLHN1cHBvcnRzQ2FjaGVIaW50OiExLHN1cHBvcnRzRGlzdGFuY2U6ITAsc3VwcG9ydHNEaXN0aW5jdDohMCxzdXBwb3J0c0V4dGVudDohMCxzdXBwb3J0c0dlb21ldHJ5UHJvcGVydGllczohMSxzdXBwb3J0c0hhdmluZ0NsYXVzZTohMCxzdXBwb3J0c09yZGVyQnk6ITAsc3VwcG9ydHNQYWdpbmF0aW9uOiEwLHN1cHBvcnRzUXVhbnRpemF0aW9uOiEwLHN1cHBvcnRzUXVhbnRpemF0aW9uRWRpdE1vZGU6ITEsc3VwcG9ydHNRdWVyeUdlb21ldHJ5OiEwLHN1cHBvcnRzUmVzdWx0VHlwZTohMSxzdXBwb3J0c1NxbEV4cHJlc3Npb246ITAsc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3RvcjohMSxzdXBwb3J0c1N0YW5kYXJkaXplZFF1ZXJpZXNPbmx5OiEwLHN1cHBvcnRzVG9wRmVhdHVyZXNRdWVyeTohMSxzdXBwb3J0c1F1ZXJ5QnlPdGhlcnM6ITAsc3VwcG9ydHNIaXN0b3JpY01vbWVudDohMSxzdXBwb3J0c0Zvcm1hdFBCRjohMSxzdXBwb3J0c0Rpc2pvaW50U3BhdGlhbFJlbGF0aW9uc2hpcDohMCxzdXBwb3J0c0RlZmF1bHRTcGF0aWFsUmVmZXJlbmNlOiExLHN1cHBvcnRzRnVsbFRleHRTZWFyY2g6ITEsc3VwcG9ydHNDb21wYWN0R2VvbWV0cnk6ITEsbWF4UmVjb3JkQ291bnRGYWN0b3I6dm9pZCAwLG1heFJlY29yZENvdW50OnZvaWQgMCxzdGFuZGFyZE1heFJlY29yZENvdW50OnZvaWQgMCx0aWxlTWF4UmVjb3JkQ291bnQ6dm9pZCAwfTtleHBvcnR7dCBhcyBxdWVyeUNhcGFiaWxpdGllc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7aWQgYXMgc31mcm9tXCIuLi8uLi8uLi9rZXJuZWwuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vVGltZUV4dGVudC5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtKU09OTWFwIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9qc29uTWFwLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2FkYWJsZS5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3NldERlZXBWYWx1ZSBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvb2JqZWN0LmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIGMsYWZ0ZXIgYXMgcCx0aHJvd0lmQWJvcnRFcnJvciBhcyBofWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlckNhcnRlc2lhblVuaXRGb3JTUiBhcyB5fWZyb21cIi4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e2pvaW4gYXMgbSxwYXJzZURhdGEgYXMgZn1mcm9tXCIuLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e2dlbmVyYXRlQnJhY2VkVVVJRCBhcyBnfWZyb21cIi4uLy4uLy4uL2NvcmUvdXVpZC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBSfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgU31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e2luaXRpYWxpemVQcm9qZWN0aW9uIGFzIEYscHJvamVjdCBhcyBFfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24uanNcIjtpbXBvcnR7ZnJvbUpTT04gYXMgd31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHt0b1JlbGF0aXZlVmVydGV4U3BhY2UgYXMgcX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hWZXJ0ZXhTcGFjZVV0aWxzLmpzXCI7aW1wb3J0e2lzT3JpZ2luYWxFeHRlcm5hbCBhcyBffWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL0V4dGVybmFsLmpzXCI7aW1wb3J0e2lzRmVhdHVyZUlkZW50aWZpZXJBcnJheVdpdGhHbG9iYWxJZCBhcyBPLGlzRmVhdHVyZUlkZW50aWZpZXJBcnJheVdpdGhPYmplY3RJZCBhcyBBfWZyb21cIi4uL2VkaXRpbmdTdXBwb3J0LmpzXCI7aW1wb3J0e2NyZWF0ZURyYXdpbmdJbmZvIGFzIEl9ZnJvbVwiLi9zdXBwb3J0L2NsaWVudFNpZGVEZWZhdWx0cy5qc1wiO2ltcG9ydCBqIGZyb21cIi4vc3VwcG9ydC9RdWVyeVRhc2suanNcIjtpbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyB4fWZyb21cIi4uLy4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7Z2V0QXNzZXRNYXBUYWJsZSBhcyBUfWZyb21cIi4uLy4uL3N1cHBvcnQvaW5mb0ZvcjNELmpzXCI7aW1wb3J0e2V4ZWN1dGVRdWVyeUpTT04gYXMgTn1mcm9tXCIuLi8uLi8uLi9yZXN0L3F1ZXJ5L2V4ZWN1dGVRdWVyeUpTT04uanNcIjtpbXBvcnR7dW5hcHBseUVkaXRzWlVuaXRTY2FsaW5nIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vcmVzdC9xdWVyeS9vcGVyYXRpb25zL2VkaXRzWlNjYWxlLmpzXCI7aW1wb3J0IEogZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0IE0gZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2NvbnN0IFU9bmV3IG4oe29yaWdpbmFsQW5kQ3VycmVudEZlYXR1cmVzOlwib3JpZ2luYWwtYW5kLWN1cnJlbnQtZmVhdHVyZXNcIixub25lOlwibm9uZVwifSksaz1uZXcgU2V0KFtcIkZlYXR1cmUgTGF5ZXJcIixcIk9yaWVudGVkIEltYWdlcnkgTGF5ZXJcIixcIlRhYmxlXCJdKSxRPW5ldyBuKHtTdGFydGVkOlwicHVibGlzaGVkXCIsUHVibGlzaGluZzpcInB1Ymxpc2hpbmdcIixTdG9wcGVkOlwidW5hdmFpbGFibGVcIn0pO2xldCBDPWNsYXNzIGV4dGVuZHMgdXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwiZmVhdHVyZS1sYXllclwiLHRoaXMucmVmcmVzaD1jKChhc3luYygpPT57YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3QgZT10aGlzLnNvdXJjZUpTT04uZWRpdGluZ0luZm8/Lmxhc3RFZGl0RGF0ZTtpZihudWxsPT1lKXJldHVybntkYXRhQ2hhbmdlZDohMCx1cGRhdGVzOnt9fTt0cnl7YXdhaXQgdGhpcy5fZmV0Y2hTZXJ2aWNlKG51bGwpfWNhdGNoe3JldHVybntkYXRhQ2hhbmdlZDohMCx1cGRhdGVzOnt9fX1jb25zdCB0PWUhPT10aGlzLnNvdXJjZUpTT04uZWRpdGluZ0luZm8/Lmxhc3RFZGl0RGF0ZTtyZXR1cm57ZGF0YUNoYW5nZWQ6dCx1cGRhdGVzOnQ/e2VkaXRpbmdJbmZvOnRoaXMuc291cmNlSlNPTi5lZGl0aW5nSW5mbyxleHRlbnQ6dGhpcy5zb3VyY2VKU09OLmV4dGVudH06bnVsbH19KSksdGhpcy5fb25nb2luZ0Fzc2V0VXBsb2Fkcz1uZXcgTWFwfWxvYWQoZSl7Y29uc3QgdD1udWxsIT1lP2Uuc2lnbmFsOm51bGwscz10aGlzLmxheWVyLnNvdXJjZUpTT047cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl9mZXRjaFNlcnZpY2Uocyx0KSksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfWdldCBxdWVyeVRhc2soKXtjb25zdHtjYXBhYmlsaXRpZXM6ZSxwYXJzZWRVcmw6dCxkeW5hbWljRGF0YVNvdXJjZTpzLGluZm9Gb3IzRDpyLGdkYlZlcnNpb246YSxzcGF0aWFsUmVmZXJlbmNlOmksZmllbGRzSW5kZXg6b309dGhpcy5sYXllcixuPWhhcyhcImZlYXR1cmVsYXllci1wYmZcIikmJmU/LnF1ZXJ5LnN1cHBvcnRzRm9ybWF0UEJGJiZudWxsPT1yLHU9ZT8ub3BlcmF0aW9ucz8uc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzPz8hMTtyZXR1cm4gbmV3IGooe3VybDp0LnBhdGgscGJmU3VwcG9ydGVkOm4sZmllbGRzSW5kZXg6byxpbmZvRm9yM0Q6cixkeW5hbWljRGF0YVNvdXJjZTpzLGdkYlZlcnNpb246YSxzb3VyY2VTcGF0aWFsUmVmZXJlbmNlOmkscXVlcnlBdHRhY2htZW50c1N1cHBvcnRlZDp1fSl9YXN5bmMgYWRkQXR0YWNobWVudChlLHQpe2F3YWl0IHRoaXMubG9hZCgpO2NvbnN0IHM9ZS5hdHRyaWJ1dGVzW3RoaXMubGF5ZXIub2JqZWN0SWRGaWVsZF0sYT10aGlzLmxheWVyLnBhcnNlZFVybC5wYXRoK1wiL1wiK3MrXCIvYWRkQXR0YWNobWVudFwiLGk9dGhpcy5fZ2V0TGF5ZXJSZXF1ZXN0T3B0aW9ucygpLG89dGhpcy5fZ2V0Rm9ybURhdGFGb3JBdHRhY2htZW50KHQsaS5xdWVyeSk7dHJ5e2NvbnN0IGU9YXdhaXQgcihhLHtib2R5Om99KTtyZXR1cm4gdGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQoZS5kYXRhLmFkZEF0dGFjaG1lbnRSZXN1bHQpfWNhdGNoKG4pe3Rocm93IHRoaXMuX2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChzLG4pfX1hc3luYyB1cGRhdGVBdHRhY2htZW50KGUsdCxzKXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCBhPWUuYXR0cmlidXRlc1t0aGlzLmxheWVyLm9iamVjdElkRmllbGRdLGk9dGhpcy5sYXllci5wYXJzZWRVcmwucGF0aCtcIi9cIithK1wiL3VwZGF0ZUF0dGFjaG1lbnRcIixvPXRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoe3F1ZXJ5OnthdHRhY2htZW50SWQ6dH19KSxuPXRoaXMuX2dldEZvcm1EYXRhRm9yQXR0YWNobWVudChzLG8ucXVlcnkpO3RyeXtjb25zdCBlPWF3YWl0IHIoaSx7Ym9keTpufSk7cmV0dXJuIHRoaXMuX2NyZWF0ZUZlYXR1cmVFZGl0UmVzdWx0KGUuZGF0YS51cGRhdGVBdHRhY2htZW50UmVzdWx0KX1jYXRjaCh1KXt0aHJvdyB0aGlzLl9jcmVhdGVBdHRhY2htZW50RXJyb3JSZXN1bHQoYSx1KX19YXN5bmMgYXBwbHlFZGl0cyhlLHQpe2F3YWl0IHRoaXMubG9hZCgpO2NvbnN0e2xheWVyOmF9PXRoaXMsbz1hLmluZm9Gb3IzRCxuPW51bGwhPW8sdT1ufHwodD8uZ2xvYmFsSWRVc2VkPz8hMSksbD1uP2F3YWl0IHRoaXMuX3VwbG9hZE1lc2hlc0FuZEdldEFzc2V0TWFwRWRpdHNKU09OKGUpOm51bGwsZD1lLmFkZEZlYXR1cmVzPy5tYXAoKGU9PnRoaXMuX2dldEZlYXR1cmVKU09OKGUsbykpKT8/W10sYz0oYXdhaXQgUHJvbWlzZS5hbGwoZCkpLmZpbHRlcihpKSxwPWUudXBkYXRlRmVhdHVyZXM/Lm1hcCgoZT0+dGhpcy5fZ2V0RmVhdHVyZUpTT04oZSxvKSkpPz9bXSxoPShhd2FpdCBQcm9taXNlLmFsbChwKSkuZmlsdGVyKGkpLHk9dGhpcy5fZ2V0RmVhdHVyZUlkcyhlLmRlbGV0ZUZlYXR1cmVzLHUpO3YoYyxoLGEuc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3QgbT1hd2FpdCB0aGlzLl9nZXRBdHRhY2htZW50RWRpdHNKU09OKGUpLGY9YS5jYXBhYmlsaXRpZXMuZWRpdGluZy5zdXBwb3J0c0FzeW5jQXBwbHlFZGl0cyYmbixnPXtnZGJWZXJzaW9uOnQ/LmdkYlZlcnNpb258fGEuZ2RiVmVyc2lvbixyb2xsYmFja09uRmFpbHVyZTp0Py5yb2xsYmFja09uRmFpbHVyZUVuYWJsZWQsdXNlR2xvYmFsSWRzOnUscmV0dXJuRWRpdE1vbWVudDp0Py5yZXR1cm5FZGl0TW9tZW50LHVzZVByZXZpb3VzRWRpdE1vbWVudDp0Py51c2VQcmV2aW91c0VkaXRNb21lbnQsc2Vzc2lvbklkOnQ/LnNlc3Npb25JZCxhc3luYzpmfTt0Py5yZXR1cm5TZXJ2aWNlRWRpdHNPcHRpb24/KGcuZWRpdHM9SlNPTi5zdHJpbmdpZnkoW3tpZDphLmxheWVySWQsYWRkczpjLHVwZGF0ZXM6aCxkZWxldGVzOnksYXR0YWNobWVudHM6bSxhc3NldE1hcHM6bH1dKSxnLnJldHVyblNlcnZpY2VFZGl0c09wdGlvbj1VLnRvSlNPTih0Py5yZXR1cm5TZXJ2aWNlRWRpdHNPcHRpb24pLGcucmV0dXJuU2VydmljZUVkaXRzSW5Tb3VyY2VTUj10Py5yZXR1cm5TZXJ2aWNlRWRpdHNJblNvdXJjZVNSKTooZy5hZGRzPWMubGVuZ3RoP0pTT04uc3RyaW5naWZ5KGMpOm51bGwsZy51cGRhdGVzPWgubGVuZ3RoP0pTT04uc3RyaW5naWZ5KGgpOm51bGwsZy5kZWxldGVzPXkubGVuZ3RoP3U/SlNPTi5zdHJpbmdpZnkoeSk6eS5qb2luKFwiLFwiKTpudWxsLGcuYXR0YWNobWVudHM9bSYmSlNPTi5zdHJpbmdpZnkobSksZy5hc3NldE1hcHM9bnVsbCE9bD9KU09OLnN0cmluZ2lmeShsKTp2b2lkIDApO2NvbnN0IFI9dGhpcy5fZ2V0TGF5ZXJSZXF1ZXN0T3B0aW9ucyh7bWV0aG9kOlwicG9zdFwiLHF1ZXJ5Omd9KSxTPXQ/LnJldHVyblNlcnZpY2VFZGl0c09wdGlvbj9hLnVybDphLnBhcnNlZFVybC5wYXRoLGI9Zj9hd2FpdCB0aGlzLl9hc3luY0FwcGx5RWRpdHMoUytcIi9hcHBseUVkaXRzXCIsUik6YXdhaXQgcihTK1wiL2FwcGx5RWRpdHNcIixSKTtpZighYS5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucz8uc3VwcG9ydHNFZGl0aW5nJiZhLmVmZmVjdGl2ZUNhcGFiaWxpdGllcz8ub3BlcmF0aW9ucz8uc3VwcG9ydHNFZGl0aW5nKXtjb25zdCBlPXM/LmZpbmRDcmVkZW50aWFsKGEudXJsKTthd2FpdChlPy5yZWZyZXNoVG9rZW4oKSl9cmV0dXJuIHRoaXMuX2NyZWF0ZUVkaXRzUmVzdWx0KGIpfWFzeW5jIGRlbGV0ZUF0dGFjaG1lbnRzKGUsdCl7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3Qgcz1lLmF0dHJpYnV0ZXNbdGhpcy5sYXllci5vYmplY3RJZEZpZWxkXSxhPXRoaXMubGF5ZXIucGFyc2VkVXJsLnBhdGgrXCIvXCIrcytcIi9kZWxldGVBdHRhY2htZW50c1wiO3RyeXtyZXR1cm4oYXdhaXQgcihhLHRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoe3F1ZXJ5OnthdHRhY2htZW50SWRzOnQuam9pbihcIixcIil9LG1ldGhvZDpcInBvc3RcIn0pKSkuZGF0YS5kZWxldGVBdHRhY2htZW50UmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQpfWNhdGNoKGkpe3Rocm93IHRoaXMuX2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChzLGkpfX1mZXRjaFJlY29tcHV0ZWRFeHRlbnRzKGU9e30pe2NvbnN0IHQ9ZS5zaWduYWw7cmV0dXJuIHRoaXMubG9hZCh7c2lnbmFsOnR9KS50aGVuKChhc3luYygpPT57Y29uc3QgdD10aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHsuLi5lLHF1ZXJ5OntyZXR1cm5VcGRhdGVzOiEwfX0pLHtsYXllcklkOnMsdXJsOml9PXRoaXMubGF5ZXIse2RhdGE6b309YXdhaXQgcihgJHtpfS8ke3N9YCx0KSx7aWQ6bixleHRlbnQ6dSxmdWxsRXh0ZW50OmwsdGltZUV4dGVudDpkfT1vLGM9dXx8bDtyZXR1cm57aWQ6bixmdWxsRXh0ZW50OmMmJmIuZnJvbUpTT04oYyksdGltZUV4dGVudDpkJiZhLmZyb21KU09OKHtzdGFydDpkWzBdLGVuZDpkWzFdfSl9fSkpfWFzeW5jIHF1ZXJ5QXR0YWNobWVudHMoZSx0PXt9KXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCBzPXRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnModCk7cmV0dXJuIHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVBdHRhY2htZW50UXVlcnkoZSxzKX1hc3luYyBxdWVyeUZlYXR1cmVzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGUoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlGZWF0dXJlc0pTT04oZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUpTT04oZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlPYmplY3RJZHMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUZvcklkcyhlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlRm9yQ291bnQoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlFeHRlbnQoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUZvckV4dGVudChlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBxdWVyeVJlbGF0ZWRGZWF0dXJlcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlUmVsYXRpb25zaGlwUXVlcnkoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlSZWxhdGVkRmVhdHVyZXNDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlUmVsYXRpb25zaGlwUXVlcnlGb3JDb3VudChlLHsuLi50LHF1ZXJ5OnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnModCl9KX1hc3luYyBxdWVyeVRvcEZlYXR1cmVzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVUb3BGZWF0dXJlc1F1ZXJ5KGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIHF1ZXJ5VG9wT2JqZWN0SWRzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVGb3JUb3BJZHMoZSx7Li4udCxxdWVyeTp0aGlzLl9jcmVhdGVSZXF1ZXN0UXVlcnlPcHRpb25zKHQpfSl9YXN5bmMgcXVlcnlUb3BFeHRlbnRzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVGb3JUb3BFeHRlbnRzKGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIHF1ZXJ5VG9wQ291bnQoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUZvclRvcENvdW50KGUsey4uLnQscXVlcnk6dGhpcy5fY3JlYXRlUmVxdWVzdFF1ZXJ5T3B0aW9ucyh0KX0pfWFzeW5jIGZldGNoUHVibGlzaGluZ1N0YXR1cygpe2lmKCF4KHRoaXMubGF5ZXIudXJsKSlyZXR1cm5cInVuYXZhaWxhYmxlXCI7Y29uc3QgZT1tKHRoaXMubGF5ZXIudXJsLFwic3RhdHVzXCIpLHQ9YXdhaXQgcihlLHtxdWVyeTp7ZjpcImpzb25cIn19KTtyZXR1cm4gUS5mcm9tSlNPTih0LmRhdGEuc3RhdHVzKX1hc3luYyB1cGxvYWRBc3NldHMoZSx0KXtjb25zdHt1cGxvYWRBc3NldHM6c309YXdhaXQgaW1wb3J0KFwiLi9zdXBwb3J0L3VwbG9hZEFzc2V0cy5qc1wiKTtyZXR1cm4gcyhlLHtsYXllcjp0aGlzLmxheWVyLG9uZ29pbmdVcGxvYWRzOnRoaXMuX29uZ29pbmdBc3NldFVwbG9hZHN9LHQpfWFzeW5jIF9hc3luY0FwcGx5RWRpdHMoZSx0KXtjb25zdCBzPShhd2FpdCByKGUsdCkpLmRhdGEuc3RhdHVzVXJsO2Zvcig7Oyl7Y29uc3QgZT0oYXdhaXQgcihzLHtxdWVyeTp7ZjpcImpzb25cIn0scmVzcG9uc2VUeXBlOlwianNvblwifSkpLmRhdGE7c3dpdGNoKGUuc3RhdHVzKXtjYXNlXCJDb21wbGV0ZWRcIjpyZXR1cm4gcihlLnJlc3VsdFVybCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIn0pO2Nhc2VcIkNvbXBsZXRlZFdpdGhFcnJvcnNcIjp0aHJvdyBuZXcgbyhcImFzeW5jLWFwcGx5RWRpdHMtZmFpbGVkXCIsXCJhc3luY2hyb25vdXMgYXBwbHlFZGl0cyBjYWxsIGZhaWxlZC5cIik7Y2FzZVwiRmFpbGVkIEltcG9ydENoYW5nZXNcIjpjYXNlXCJJblByb2dyZXNzXCI6Y2FzZVwiUGVuZGluZ1wiOmNhc2VcIkV4cG9ydEF0dGFjaG1lbnRzXCI6Y2FzZVwiRXhwb3J0Q2hhbmdlc1wiOmNhc2VcIkV4cG9ydGluZ0RhdGFcIjpjYXNlXCJFeHBvcnRpbmdTbmFwc2hvdFwiOmNhc2VcIkltcG9ydEF0dGFjaG1lbnRzXCI6Y2FzZVwiUHJvdmlzaW9uaW5nUmVwbGljYVwiOmNhc2VcIlVuUmVnaXN0ZXJpbmdSZXBsaWNhXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgbyhcImFzeW5jLWFwcGx5RWRpdHMtZmFpbGVkXCIsXCJhc3luY2hyb25vdXMgYXBwbHlFZGl0cyBjYWxsIGZhaWxlZCAodW5kZWZpbmVkIHJlc3BvbnNlIHN0YXR1cylcIil9YXdhaXQgcChEKX19X2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnMoZSl7Y29uc3QgdD17Li4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLHRva2VuOnRoaXMubGF5ZXIuYXBpS2V5LC4uLmU/LnF1ZXJ5fTtyZXR1cm4gdGhpcy5sYXllci5kYXRlc0luVW5rbm93blRpbWV6b25lJiYodC50aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudD0hMCksdH1hc3luYyBfZmV0Y2hTZXJ2aWNlKGUsdCl7aWYoIWUpe2NvbnN0e2RhdGE6c309YXdhaXQgcih0aGlzLmxheWVyLnBhcnNlZFVybC5wYXRoLHRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoe3F1ZXJ5OmhhcyhcImZlYXR1cmVsYXllci1hZHZhbmNlZC1zeW1ib2xzXCIpP3tyZXR1cm5BZHZhbmNlZFN5bWJvbHM6ITB9Ont9LHNpZ25hbDp0fSkpO2U9c310aGlzLnNvdXJjZUpTT049YXdhaXQgdGhpcy5fcGF0Y2hTZXJ2aWNlSlNPTihlLHQpO2NvbnN0IHM9ZS50eXBlO2lmKCFrLmhhcyhzKSl0aHJvdyBuZXcgbyhcImZlYXR1cmUtbGF5ZXItc291cmNlOnVuc3VwcG9ydGVkLXR5cGVcIixgU291cmNlIHR5cGUgXCIke3N9XCIgaXMgbm90IHN1cHBvcnRlZGApfWFzeW5jIF9wYXRjaFNlcnZpY2VKU09OKGUsdCl7aWYoXCJUYWJsZVwiIT09ZS50eXBlJiZlLmdlb21ldHJ5VHlwZSYmIWU/LmRyYXdpbmdJbmZvPy5yZW5kZXJlciYmIWUuZGVmYXVsdFN5bWJvbCl7Y29uc3QgdD1JKGUuZ2VvbWV0cnlUeXBlKS5yZW5kZXJlcjtkKFwiZHJhd2luZ0luZm8ucmVuZGVyZXJcIix0LGUpfWlmKFwiZXNyaUdlb21ldHJ5TXVsdGlQYXRjaFwiPT09ZS5nZW9tZXRyeVR5cGUmJmUuaW5mb0ZvcjNEJiYoZS5nZW9tZXRyeVR5cGU9XCJtZXNoXCIpLG51bGw9PWUuZXh0ZW50KXRyeXtjb25zdHtkYXRhOnN9PWF3YWl0IHIodGhpcy5sYXllci51cmwsdGhpcy5fZ2V0TGF5ZXJSZXF1ZXN0T3B0aW9ucyh7c2lnbmFsOnR9KSk7cy5zcGF0aWFsUmVmZXJlbmNlJiYoZS5leHRlbnQ9e3htaW46MCx5bWluOjAseG1heDowLHltYXg6MCxzcGF0aWFsUmVmZXJlbmNlOnMuc3BhdGlhbFJlZmVyZW5jZX0pfWNhdGNoKHMpe2gocyl9cmV0dXJuIGV9YXN5bmMgX2dldEZlYXR1cmVKU09OKGUsdCl7Y29uc3R7Z2VvbWV0cnk6c309ZSxyPXsuLi5lLmF0dHJpYnV0ZXN9O2lmKG51bGwhPXQmJlwibWVzaFwiPT09cz8udHlwZSl7Y29uc3R7dHJhbnNmb3JtRmllbGRSb2xlczplfT10LHtvcmlnaW46YSxzcGF0aWFsUmVmZXJlbmNlOmksdHJhbnNmb3JtOm99PXMsbj10aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2U7YXdhaXQgRihpLG4pO2NvbnN0IHU9RShhLG4pO2lmKHJbZS5vcmlnaW5YXT11LngscltlLm9yaWdpblldPXUueSxyW2Uub3JpZ2luWl09dS56Pz8wLG51bGwhPW8pe2NvbnN0e3RyYW5zbGF0aW9uOnQsc2NhbGU6YSxyb3RhdGlvbjp1fT1vLHt2ZXJ0ZXhTcGFjZTpsfT1zLGQ9bC5pc0dlb3JlZmVyZW5jZWQ/MTp5KGkpL3kobik7cltlLnRyYW5zbGF0aW9uWF09dFswXSpkLHJbZS50cmFuc2xhdGlvblldPS10WzJdKmQscltlLnRyYW5zbGF0aW9uWl09dFsxXSpkLHJbZS5zY2FsZVhdPWFbMF0scltlLnNjYWxlWV09YVsyXSxyW2Uuc2NhbGVaXT1hWzFdLHJbZS5yb3RhdGlvblhdPXVbMF0scltlLnJvdGF0aW9uWV09dVsyXSxyW2Uucm90YXRpb25aXT11WzFdLHJbZS5yb3RhdGlvbkRlZ109dVszXX1yZXR1cm57Z2VvbWV0cnk6bnVsbCxhdHRyaWJ1dGVzOnJ9fXJldHVybiBudWxsPT1zP3thdHRyaWJ1dGVzOnJ9OlwibWVzaFwiPT09cy50eXBlfHxcImV4dGVudFwiPT09cy50eXBlP251bGw6e2dlb21ldHJ5OnMudG9KU09OKCksYXR0cmlidXRlczpyfX1hc3luYyBfZ2V0QXR0YWNobWVudEVkaXRzSlNPTihlKXtjb25zdCB0PWF3YWl0IFByb21pc2UuYWxsKChlLmFkZEF0dGFjaG1lbnRzPz9bXSkubWFwKChlPT50aGlzLl9nZXRBdHRhY2htZW50RWRpdEpTT04oZSkpKSkscz1hd2FpdCBQcm9taXNlLmFsbCgoZS51cGRhdGVBdHRhY2htZW50cz8/W10pLm1hcCgoZT0+dGhpcy5fZ2V0QXR0YWNobWVudEVkaXRKU09OKGUpKSkpLHI9ZS5kZWxldGVBdHRhY2htZW50cz8/W107cmV0dXJuIHQubGVuZ3RofHxzLmxlbmd0aHx8ci5sZW5ndGg/e2FkZHM6dCx1cGRhdGVzOnMsZGVsZXRlczpbLi4ucl19Om51bGx9YXN5bmMgX2dldEF0dGFjaG1lbnRFZGl0SlNPTihlKXtjb25zdHtmZWF0dXJlOnQsYXR0YWNobWVudDpzfT1lLHtnbG9iYWxJZDpyLG5hbWU6YSxjb250ZW50VHlwZTppLGRhdGE6byx1cGxvYWRJZDpufT1zLHU9e2dsb2JhbElkOnIscGFyZW50R2xvYmFsSWQ6bnVsbCxjb250ZW50VHlwZTpudWxsLG5hbWU6bnVsbCx1cGxvYWRJZDpudWxsLGRhdGE6bnVsbH07aWYodCYmKHUucGFyZW50R2xvYmFsSWQ9XCJhdHRyaWJ1dGVzXCJpbiB0P3QuYXR0cmlidXRlcyYmdC5hdHRyaWJ1dGVzW3RoaXMubGF5ZXIuZ2xvYmFsSWRGaWVsZF06dC5nbG9iYWxJZCksbil1LnVwbG9hZElkPW47ZWxzZSBpZihvKXtjb25zdCBlPWF3YWl0IGYobyk7ZSYmKHUuY29udGVudFR5cGU9ZS5tZWRpYVR5cGUsdS5kYXRhPWUuZGF0YSksbyBpbnN0YW5jZW9mIEZpbGUmJih1Lm5hbWU9by5uYW1lKX1yZXR1cm4gYSYmKHUubmFtZT1hKSxpJiYodS5jb250ZW50VHlwZT1pKSx1fWFzeW5jIF91cGxvYWRNZXNoZXNBbmRHZXRBc3NldE1hcEVkaXRzSlNPTihlKXtjb25zdHthZGRBc3NldEZlYXR1cmVzOnR9PWU7aWYoIXQ/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBzPWF3YWl0IHRoaXMuX2ZpbHRlclJlZHVuZGFudEFzc2V0TWFwcyh0KTtpZighdD8ubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9bmV3IEFycmF5LGE9bmV3IE1hcDtmb3IoY29uc3QgaSBvZiBzKXtjb25zdHtnZW9tZXRyeTplfT1pLHt2ZXJ0ZXhTcGFjZTp0fT1lO2lmKHQuaXNSZWxhdGl2ZSlyLnB1c2goZSk7ZWxzZXtjb25zdCB0PXEoZSk7YS5zZXQodCxlKSxpLmdlb21ldHJ5PXQsci5wdXNoKHQpfX1hd2FpdCB0aGlzLnVwbG9hZEFzc2V0cyhyKTtmb3IoY29uc3RbaSxvXW9mIGEpby5hZGRFeHRlcm5hbFNvdXJjZXMoaS5tZXRhZGF0YS5leHRlcm5hbFNvdXJjZXMuaXRlbXMpO3JldHVybnthZGRzOnRoaXMuX2dldEFzc2V0TWFwRWRpdHNKU09OKHMpLHVwZGF0ZXM6W10sZGVsZXRlczpbXX19X2dldEFzc2V0TWFwRWRpdHNKU09OKGUpe2NvbnN0IHQ9bmV3IEFycmF5LHM9dGhpcy5sYXllci5nbG9iYWxJZEZpZWxkLHI9dGhpcy5sYXllci5wYXJzZWRVcmw7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1hLmdlb21ldHJ5LHttZXRhZGF0YTppfT1lLG89aS5nZXRFeHRlcm5hbFNvdXJjZXNPblNlcnZpY2Uociksbj1hLmdldEF0dHJpYnV0ZShzKTtpZigwPT09by5sZW5ndGgpe2wuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBTa2lwcGluZyBmZWF0dXJlICR7bn0uIFRoZSBtZXNoIGl0IGlzIGFzc29jaWF0ZWQgd2l0aCBoYXMgbm90IGJlZW4gdXBsb2FkZWQgdG8gdGhlIHNlcnZpY2UgYW5kIGNhbm5vdCBiZSBtYXBwZWQgdG8gaXQuYCk7Y29udGludWV9Y29uc3R7c291cmNlOnV9PW8uZmluZChfKT8/b1swXSx7dmVydGV4U3BhY2U6ZH09ZSxjPWQuaXNHZW9yZWZlcmVuY2VkP1tcIlBST0pFQ1RfVkVSVElDRVNcIl06W107Zm9yKGNvbnN0IHMgb2YgdSkxPT09cy5wYXJ0cy5sZW5ndGg/dC5wdXNoKHtnbG9iYWxJZDpnKCkscGFyZW50R2xvYmFsSWQ6bixhc3NldE5hbWU6cy5hc3NldE5hbWUsYXNzZXRIYXNoOnMucGFydHNbMF0ucGFydEhhc2gsZmxhZ3M6Y30pOmwuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBTa2lwcGluZyBhc3NldCAke3MuYXNzZXROYW1lfS4gSXQgZG9lcyBub3QgaGF2ZSBleGFjdGx5IG9uZSBwYXJ0LCBzbyB3ZSBjYW5ub3QgbWFwIGl0IHRvIGEgZmVhdHVyZS5gKX1yZXR1cm4gdH1fZ2V0RmVhdHVyZUlkcyhlLHQpe2lmKCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuW107aWYodCYmTyhlKSlyZXR1cm4gZS5tYXAoKGU9PmUuZ2xvYmFsSWQpKTtpZihBKGUpKXJldHVybiBlLm1hcCgoZT0+ZS5vYmplY3RJZCkpO2NvbnN0e2xheWVyOnN9PXRoaXMscj10P3MuZ2xvYmFsSWRGaWVsZDpzLm9iamVjdElkRmllbGQ7cmV0dXJuIHI/ZS5tYXAoKGU9PmUuZ2V0QXR0cmlidXRlKHIpKSk6W119X2NyZWF0ZUVkaXRzUmVzdWx0KGUpe2NvbnN0IHQ9ZS5kYXRhLHtsYXllcklkOnN9PXRoaXMubGF5ZXIscj1bXTtsZXQgYT1udWxsO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKGNvbnN0IHUgb2YgdClyLnB1c2goe2lkOnUuaWQsZWRpdGVkRmVhdHVyZXM6dS5lZGl0ZWRGZWF0dXJlc30pLHUuaWQ9PT1zJiYoYT17YWRkUmVzdWx0czp1LmFkZFJlc3VsdHM/P1tdLHVwZGF0ZVJlc3VsdHM6dS51cGRhdGVSZXN1bHRzPz9bXSxkZWxldGVSZXN1bHRzOnUuZGVsZXRlUmVzdWx0cz8/W10sYXR0YWNobWVudHM6dS5hdHRhY2htZW50cyxlZGl0TW9tZW50OnUuZWRpdE1vbWVudH0pO2Vsc2UgYT10O2NvbnN0IGk9YT8uYXNzZXRNYXBzO2lmKGkpe2Zvcihjb25zdCBlIG9mIGkuYWRkUmVzdWx0cyllLnN1Y2Nlc3N8fGwuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBGYWlsZWQgdG8gbWFwIGFzc2V0IHRvIGZlYXR1cmUgd2l0aCBnbG9iYWxJZCAke2UuZ2xvYmFsSWR9LmApO2Zvcihjb25zdCBlIG9mIGkudXBkYXRlUmVzdWx0cyllLnN1Y2Nlc3N8fGwuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBGYWlsZWQgdG8gbWFwIGFzc2V0IHRvIGZlYXR1cmUgd2l0aCBnbG9iYWxJZCAke2UuZ2xvYmFsSWR9LmApfWNvbnN0IG89YT8uYXR0YWNobWVudHMsbj17YWRkRmVhdHVyZVJlc3VsdHM6YT8uYWRkUmVzdWx0cz8ubWFwKHRoaXMuX2NyZWF0ZUZlYXR1cmVFZGl0UmVzdWx0LHRoaXMpPz9bXSx1cGRhdGVGZWF0dXJlUmVzdWx0czphPy51cGRhdGVSZXN1bHRzPy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk/P1tdLGRlbGV0ZUZlYXR1cmVSZXN1bHRzOmE/LmRlbGV0ZVJlc3VsdHM/Lm1hcCh0aGlzLl9jcmVhdGVGZWF0dXJlRWRpdFJlc3VsdCx0aGlzKT8/W10sYWRkQXR0YWNobWVudFJlc3VsdHM6byYmby5hZGRSZXN1bHRzP28uYWRkUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sdXBkYXRlQXR0YWNobWVudFJlc3VsdHM6byYmby51cGRhdGVSZXN1bHRzP28udXBkYXRlUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sZGVsZXRlQXR0YWNobWVudFJlc3VsdHM6byYmby5kZWxldGVSZXN1bHRzP28uZGVsZXRlUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W119O2lmKGE/LmVkaXRNb21lbnQmJihuLmVkaXRNb21lbnQ9YS5lZGl0TW9tZW50KSxyLmxlbmd0aD4wKXtuLmVkaXRlZEZlYXR1cmVSZXN1bHRzPVtdO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0e2VkaXRlZEZlYXR1cmVzOnR9PWUscz10Py5zcGF0aWFsUmVmZXJlbmNlP25ldyBNKHQuc3BhdGlhbFJlZmVyZW5jZSk6bnVsbDtuLmVkaXRlZEZlYXR1cmVSZXN1bHRzLnB1c2goe2xheWVySWQ6ZS5pZCxlZGl0ZWRGZWF0dXJlczp7YWRkczp0Py5hZGRzPy5tYXAoKGU9PnRoaXMuX2NyZWF0ZUVkaXRlZEZlYXR1cmUoZSxzKSkpfHxbXSx1cGRhdGVzOnQ/LnVwZGF0ZXM/Lm1hcCgoZT0+KHtvcmlnaW5hbDp0aGlzLl9jcmVhdGVFZGl0ZWRGZWF0dXJlKGVbMF0scyksY3VycmVudDp0aGlzLl9jcmVhdGVFZGl0ZWRGZWF0dXJlKGVbMV0scyl9KSkpfHxbXSxkZWxldGVzOnQ/LmRlbGV0ZXM/Lm1hcCgoZT0+dGhpcy5fY3JlYXRlRWRpdGVkRmVhdHVyZShlLHMpKSl8fFtdLHNwYXRpYWxSZWZlcmVuY2U6c319KX19cmV0dXJuIG59X2NyZWF0ZUVkaXRlZEZlYXR1cmUoZSxzKXtyZXR1cm4gbmV3IHQoe2F0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzLGdlb21ldHJ5Oncoey4uLmUuZ2VvbWV0cnksc3BhdGlhbFJlZmVyZW5jZTpzfSl9KX1fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQoZSl7Y29uc3QgdD0hMD09PWUuc3VjY2Vzcz9udWxsOmUuZXJyb3J8fHtjb2RlOnZvaWQgMCxkZXNjcmlwdGlvbjp2b2lkIDB9O3JldHVybntvYmplY3RJZDplLm9iamVjdElkLGdsb2JhbElkOmUuZ2xvYmFsSWQsZXJyb3I6dD9uZXcgbyhcImZlYXR1cmUtbGF5ZXItc291cmNlOmVkaXQtZmFpbHVyZVwiLHQuZGVzY3JpcHRpb24se2NvZGU6dC5jb2RlfSk6bnVsbH19X2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChlLHQpe2NvbnN0IHM9dC5kZXRhaWxzLm1lc3NhZ2VzJiZ0LmRldGFpbHMubWVzc2FnZXNbMF18fHQubWVzc2FnZSxyPXQuZGV0YWlscy5odHRwU3RhdHVzfHx0LmRldGFpbHMubWVzc2FnZUNvZGU7cmV0dXJue29iamVjdElkOmUsZ2xvYmFsSWQ6bnVsbCxlcnJvcjpuZXcgbyhcImZlYXR1cmUtbGF5ZXItc291cmNlOmF0dGFjaG1lbnQtZmFpbHVyZVwiLHMse2NvZGU6cn0pfX1fZ2V0Rm9ybURhdGFGb3JBdHRhY2htZW50KGUsdCl7Y29uc3Qgcz1lIGluc3RhbmNlb2YgRm9ybURhdGE/ZTplJiZlLmVsZW1lbnRzP25ldyBGb3JtRGF0YShlKTpudWxsO2lmKHMpZm9yKGNvbnN0IHIgaW4gdCl7Y29uc3QgZT10W3JdO251bGwhPWUmJihzLnNldD9zLnNldChyLGUpOnMuYXBwZW5kKHIsZSkpfXJldHVybiBzfV9nZXRMYXllclJlcXVlc3RPcHRpb25zKGU9e30pe2NvbnN0e3BhcnNlZFVybDp0LGdkYlZlcnNpb246cyxkeW5hbWljRGF0YVNvdXJjZTpyfT10aGlzLmxheWVyO3JldHVybnsuLi5lLHF1ZXJ5OntnZGJWZXJzaW9uOnMsbGF5ZXI6cj9KU09OLnN0cmluZ2lmeSh7c291cmNlOnJ9KTp2b2lkIDAsLi4udC5xdWVyeSxmOlwianNvblwiLC4uLnRoaXMuX2NyZWF0ZVJlcXVlc3RRdWVyeU9wdGlvbnMoZSl9LHJlc3BvbnNlVHlwZTpcImpzb25cIn19YXN5bmMgX2ZpbHRlclJlZHVuZGFudEFzc2V0TWFwcyhlKXtjb25zdHtsYXllcjp0fT10aGlzLHtnbG9iYWxJZEZpZWxkOnMsaW5mb0ZvcjNEOnIscGFyc2VkVXJsOmF9PXQ7aWYobnVsbD09cnx8bnVsbD09cylyZXR1cm4gZTtjb25zdCBvPVQocik7aWYobnVsbD09bylyZXR1cm4gZTtjb25zdCBuPW0oYS5wYXRoLGAuLi8ke28uaWR9YCksdT1uZXcgQXJyYXksbD1uZXcgQXJyYXk7Zm9yKGNvbnN0IGkgb2YgZSlpLmdlb21ldHJ5Lm1ldGFkYXRhLmdldEV4dGVybmFsU291cmNlc09uU2VydmljZShhKS5sZW5ndGg+MD9sLnB1c2goaSk6dS5wdXNoKGkpO2NvbnN0IGQ9bC5tYXAoKGU9PmUuZ2V0QXR0cmlidXRlKHMpKSkuZmlsdGVyKGkpO2lmKDA9PT1kLmxlbmd0aClyZXR1cm4gZTtjb25zdHthc3NldE1hcEZpZWxkUm9sZXM6e3BhcmVudEdsb2JhbElkOmMsYXNzZXRIYXNoOnB9fT1yLGg9bmV3IEo7aC53aGVyZT1gJHtjfSBJTiAoJHtkLm1hcCgoZT0+YCcke2V9J2ApKX0pYCxoLm91dEZpZWxkcz1bcCxjXSxoLnJldHVybkdlb21ldHJ5PSExO2NvbnN0IHk9YXdhaXQgTihuLGgpLHtmZWF0dXJlczpmfT15O3JldHVybiAwPT09Zi5sZW5ndGg/ZTpbLi4udSwuLi5sLmZpbHRlcigoZT0+e2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUocyk7aWYoIXQpcmV0dXJuITA7Y29uc3R7bWV0YWRhdGE6cn09ZS5nZW9tZXRyeSxpPWYuZmlsdGVyKChlPT5lLmdldEF0dHJpYnV0ZShjKT09PXQpKTtpZigwPT09aS5sZW5ndGgpcmV0dXJuITA7Y29uc3Qgbz1pLm1hcCgoZT0+ZS5nZXRBdHRyaWJ1dGUocCkpKTtyZXR1cm4gci5nZXRFeHRlcm5hbFNvdXJjZXNPblNlcnZpY2UoYSkuZmxhdE1hcCgoKHtzb3VyY2U6ZX0pPT5lLmZsYXRNYXAoKGU9PmUucGFydHMubWFwKChlPT5lLnBhcnRIYXNoKSkpKSkpLnNvbWUoKGU9Pm8uZXZlcnkoKHQ9PmUhPT10KSkpKX0pKV19fTtlKFtSKCldLEMucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbUih7Y29uc3RydWN0T25seTohMH0pXSxDLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtSKHtyZWFkT25seTohMH0pXSxDLnByb3RvdHlwZSxcInF1ZXJ5VGFza1wiLG51bGwpLEM9ZShbUyhcImVzcmkubGF5ZXJzLmdyYXBoaWNzLnNvdXJjZXMuRmVhdHVyZUxheWVyU291cmNlXCIpXSxDKTtjb25zdCBEPTFlMyxMPUM7ZXhwb3J0e0wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3doZW5PckFib3J0IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7dXJsVG9PYmplY3QgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtnZXRNaW1lVHlwZUZvcm1hdElkIGFzIGEsZ2V0RmlsZW5hbWVGb3JtYXRJZCBhcyBufWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvaW5mb0ZvcjNELmpzXCI7aW1wb3J0e0RhdGFMYXllclNvdXJjZSBhcyBjfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvc291cmNlL0RhdGFMYXllclNvdXJjZS5qc1wiO2ltcG9ydHtwYXJzZVVybCBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL3Jlc3QvdXRpbHMuanNcIjtpbXBvcnR7ZXhlY3V0ZUZvckNvdW50IGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9leGVjdXRlRm9yQ291bnQuanNcIjtpbXBvcnR7ZXhlY3V0ZUZvckV4dGVudCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvZXhlY3V0ZUZvckV4dGVudC5qc1wiO2ltcG9ydHtleGVjdXRlRm9ySWRzIGFzIHl9ZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9leGVjdXRlRm9ySWRzLmpzXCI7aW1wb3J0e2V4ZWN1dGVSYXdRdWVyeUpTT04gYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L2V4ZWN1dGVRdWVyeUpTT04uanNcIjtpbXBvcnR7ZXhlY3V0ZVJhd1F1ZXJ5UEJGIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9leGVjdXRlUXVlcnlQQkYuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBTIGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2xldCBGPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmR5bmFtaWNEYXRhU291cmNlPW51bGwsdGhpcy5maWVsZHNJbmRleD1udWxsLHRoaXMuZ2RiVmVyc2lvbj1udWxsLHRoaXMuaW5mb0ZvcjNEPW51bGwsdGhpcy5wYmZTdXBwb3J0ZWQ9ITEsdGhpcy5xdWVyeUF0dGFjaG1lbnRzU3VwcG9ydGVkPSExLHRoaXMuc291cmNlU3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMudXJsPW51bGx9Z2V0IHBhcnNlZFVybCgpe3JldHVybiBzKHRoaXMudXJsKX1hc3luYyBleGVjdXRlKGUsdCl7Y29uc3Qgcj1hd2FpdCB0aGlzLmV4ZWN1dGVKU09OKGUsdCk7cmV0dXJuIHRoaXMuZmVhdHVyZVNldEZyb21KU09OKGUscix0KX1hc3luYyBleGVjdXRlSlNPTihlLHQpe2NvbnN0IHI9dGhpcy5fbm9ybWFsaXplUXVlcnkoZSksbz1udWxsIT1lLm91dFN0YXRpc3RpY3M/LlswXSxzPWhhcyhcImZlYXR1cmVsYXllci1wYmYtc3RhdGlzdGljc1wiKSxpPSFvfHxzO2xldCB1O2lmKHRoaXMucGJmU3VwcG9ydGVkJiZpKXRyeXt1PWF3YWl0IGYodGhpcy51cmwscix0KX1jYXRjaChhKXtpZihcInF1ZXJ5OnBhcnNpbmctcGJmXCIhPT1hLm5hbWUpdGhyb3cgYTt0aGlzLnBiZlN1cHBvcnRlZD0hMX1yZXR1cm4gdGhpcy5wYmZTdXBwb3J0ZWQmJml8fCh1PWF3YWl0IGQodGhpcy51cmwscix0KSksdGhpcy5fbm9ybWFsaXplRmllbGRzKHUuZmllbGRzKSx1fWFzeW5jIGZlYXR1cmVTZXRGcm9tSlNPTihlLHQscil7aWYoIXRoaXMuX3F1ZXJ5SXMzRE9iamVjdEZvcm1hdChlKXx8bnVsbD09dGhpcy5pbmZvRm9yM0R8fCF0LmZlYXR1cmVzKXJldHVybiBoLmZyb21KU09OKHQpO2NvbnN0e21lc2hGZWF0dXJlU2V0RnJvbUpTT046c309YXdhaXQgbyhpbXBvcnQoXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvbWVzaEZlYXR1cmVTZXQuanNcIikscik7cmV0dXJuIHMoZSx0aGlzLmluZm9Gb3IzRCx0KX1leGVjdXRlRm9yQ291bnQoZSx0KXtyZXR1cm4gbCh0aGlzLnVybCx0aGlzLl9ub3JtYWxpemVRdWVyeShlKSx0KX1leGVjdXRlRm9yRXh0ZW50KGUsdCl7cmV0dXJuIG0odGhpcy51cmwsdGhpcy5fbm9ybWFsaXplUXVlcnkoZSksdCl9ZXhlY3V0ZUZvcklkcyhlLHQpe3JldHVybiB5KHRoaXMudXJsLHRoaXMuX25vcm1hbGl6ZVF1ZXJ5KGUpLHQpfWFzeW5jIGV4ZWN1dGVSZWxhdGlvbnNoaXBRdWVyeShlLHQpe2NvbnN0W3tkZWZhdWx0OnJ9LHtleGVjdXRlUmVsYXRpb25zaGlwUXVlcnk6c31dPWF3YWl0IG8oUHJvbWlzZS5hbGwoW2ltcG9ydChcIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9SZWxhdGlvbnNoaXBRdWVyeS5qc1wiKSxpbXBvcnQoXCIuLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L2V4ZWN1dGVSZWxhdGlvbnNoaXBRdWVyeS5qc1wiKV0pLHQpO3JldHVybiBlPXIuZnJvbShlKSwodGhpcy5nZGJWZXJzaW9ufHx0aGlzLmR5bmFtaWNEYXRhU291cmNlKSYmKChlPWUuY2xvbmUoKSkuZ2RiVmVyc2lvbj1lLmdkYlZlcnNpb258fHRoaXMuZ2RiVmVyc2lvbixlLmR5bmFtaWNEYXRhU291cmNlPWUuZHluYW1pY0RhdGFTb3VyY2V8fHRoaXMuZHluYW1pY0RhdGFTb3VyY2UpLHModGhpcy51cmwsZSx0KX1hc3luYyBleGVjdXRlUmVsYXRpb25zaGlwUXVlcnlGb3JDb3VudChlLHQpe2NvbnN0W3tkZWZhdWx0OnJ9LHtleGVjdXRlUmVsYXRpb25zaGlwUXVlcnlGb3JDb3VudDpzfV09YXdhaXQgbyhQcm9taXNlLmFsbChbaW1wb3J0KFwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1JlbGF0aW9uc2hpcFF1ZXJ5LmpzXCIpLGltcG9ydChcIi4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvZXhlY3V0ZVJlbGF0aW9uc2hpcFF1ZXJ5LmpzXCIpXSksdCk7cmV0dXJuIGU9ci5mcm9tKGUpLCh0aGlzLmdkYlZlcnNpb258fHRoaXMuZHluYW1pY0RhdGFTb3VyY2UpJiYoKGU9ZS5jbG9uZSgpKS5nZGJWZXJzaW9uPWUuZ2RiVmVyc2lvbnx8dGhpcy5nZGJWZXJzaW9uLGUuZHluYW1pY0RhdGFTb3VyY2U9ZS5keW5hbWljRGF0YVNvdXJjZXx8dGhpcy5keW5hbWljRGF0YVNvdXJjZSkscyh0aGlzLnVybCxlLHQpfWFzeW5jIGV4ZWN1dGVBdHRhY2htZW50UXVlcnkoZSx0KXtjb25zdHtleGVjdXRlQXR0YWNobWVudFF1ZXJ5OnIsZmV0Y2hBdHRhY2htZW50czpzLHByb2Nlc3NBdHRhY2htZW50UXVlcnlSZXN1bHQ6aX09YXdhaXQgbyhpbXBvcnQoXCIuLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnlBdHRhY2htZW50cy5qc1wiKSx0KSx1PXAodGhpcy51cmwpO3JldHVybiBpKHUsYXdhaXQodGhpcy5xdWVyeUF0dGFjaG1lbnRzU3VwcG9ydGVkP3IodSxlLHQpOnModSxlLHQpKSl9YXN5bmMgZXhlY3V0ZVRvcEZlYXR1cmVzUXVlcnkoZSx0KXtjb25zdHtleGVjdXRlVG9wRmVhdHVyZXNRdWVyeTpyfT1hd2FpdCBvKGltcG9ydChcIi4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvZXhlY3V0ZVRvcEZlYXR1cmVzUXVlcnkuanNcIiksdCk7cmV0dXJuIHIodGhpcy5wYXJzZWRVcmwsZSx0aGlzLnNvdXJjZVNwYXRpYWxSZWZlcmVuY2UsdCl9YXN5bmMgZXhlY3V0ZUZvclRvcElkcyhlLHQpe2NvbnN0e2V4ZWN1dGVGb3JUb3BJZHM6cn09YXdhaXQgbyhpbXBvcnQoXCIuLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L2V4ZWN1dGVGb3JUb3BJZHMuanNcIiksdCk7cmV0dXJuIHIodGhpcy5wYXJzZWRVcmwsZSx0KX1hc3luYyBleGVjdXRlRm9yVG9wRXh0ZW50cyhlLHQpe2NvbnN0e2V4ZWN1dGVGb3JUb3BFeHRlbnRzOnJ9PWF3YWl0IG8oaW1wb3J0KFwiLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9leGVjdXRlRm9yVG9wRXh0ZW50cy5qc1wiKSx0KTtyZXR1cm4gcih0aGlzLnBhcnNlZFVybCxlLHQpfWFzeW5jIGV4ZWN1dGVGb3JUb3BDb3VudChlLHQpe2NvbnN0e2V4ZWN1dGVGb3JUb3BDb3VudDpyfT1hd2FpdCBvKGltcG9ydChcIi4uLy4uLy4uLy4uL3Jlc3QvcXVlcnkvZXhlY3V0ZUZvclRvcENvdW50LmpzXCIpLHQpO3JldHVybiByKHRoaXMucGFyc2VkVXJsLGUsdCl9X25vcm1hbGl6ZVF1ZXJ5KGUpe2xldCB0PVMuZnJvbShlKTt0LnNvdXJjZVNwYXRpYWxSZWZlcmVuY2U9dC5zb3VyY2VTcGF0aWFsUmVmZXJlbmNlfHx0aGlzLnNvdXJjZVNwYXRpYWxSZWZlcmVuY2UsKHRoaXMuZ2RiVmVyc2lvbnx8dGhpcy5keW5hbWljRGF0YVNvdXJjZSkmJih0PXQ9PT1lP3QuY2xvbmUoKTp0LHQuZ2RiVmVyc2lvbj1lLmdkYlZlcnNpb258fHRoaXMuZ2RiVmVyc2lvbix0LmR5bmFtaWNEYXRhU291cmNlPWUuZHluYW1pY0RhdGFTb3VyY2U/Yy5mcm9tKGUuZHluYW1pY0RhdGFTb3VyY2UpOnRoaXMuZHluYW1pY0RhdGFTb3VyY2UpO2NvbnN0e2luZm9Gb3IzRDpvfT10aGlzO2lmKG51bGwhPW8mJnRoaXMuX3F1ZXJ5SXMzRE9iamVjdEZvcm1hdChlKSl7dD10PT09ZT90LmNsb25lKCk6dCx0LmZvcm1hdE9mM0RPYmplY3RzPW51bGw7Y29uc3R7c3VwcG9ydGVkRm9ybWF0czpzLHF1ZXJ5Rm9ybWF0czppfT1vLHU9YShcIm1vZGVsL2dsdGYtYmluYXJ5XCIscyk/P24oXCJnbGJcIixzKSxjPWEoXCJtb2RlbC9nbHRmK2pzb25cIixzKT8/bihcImd0bGZcIixzKTtmb3IoY29uc3QgZSBvZiBpKXtpZihlPT09dSl7dC5mb3JtYXRPZjNET2JqZWN0cz1lO2JyZWFrfWUhPT1jfHx0LmZvcm1hdE9mM0RPYmplY3RzfHwodC5mb3JtYXRPZjNET2JqZWN0cz1lKX1pZighdC5mb3JtYXRPZjNET2JqZWN0cyl0aHJvdyBuZXcgcihcInF1ZXJ5OnVuc3VwcG9ydGVkLTNkLXF1ZXJ5LWZvcm1hdHNcIixcIkNvdWxkIG5vdCBmaW5kIGFueSBzdXBwb3J0ZWQgM0Qgb2JqZWN0IHF1ZXJ5IGZvcm1hdC4gT25seSBzdXBwb3J0ZWQgZm9ybWF0cyBhcmUgM0RfZ2xiIGFuZCAzRF9nbHRmXCIpO2lmKG51bGw9PXQub3V0RmllbGRzfHwhdC5vdXRGaWVsZHMuaW5jbHVkZXMoXCIqXCIpKXt0PXQ9PT1lP3QuY2xvbmUoKTp0LG51bGw9PXQub3V0RmllbGRzJiYodC5vdXRGaWVsZHM9W10pO2NvbnN0e29yaWdpblg6cixvcmlnaW5ZOnMsb3JpZ2luWjppLHRyYW5zbGF0aW9uWDp1LHRyYW5zbGF0aW9uWTphLHRyYW5zbGF0aW9uWjpuLHNjYWxlWDpjLHNjYWxlWTpwLHNjYWxlWjpsLHJvdGF0aW9uWDptLHJvdGF0aW9uWTp5LHJvdGF0aW9uWjpkLHJvdGF0aW9uRGVnOmZ9PW8udHJhbnNmb3JtRmllbGRSb2xlczt0Lm91dEZpZWxkcy5wdXNoKHIscyxpLHUsYSxuLGMscCxsLG0seSxkLGYpfX1yZXR1cm4gdH1fbm9ybWFsaXplRmllbGRzKGUpe2lmKG51bGwhPXRoaXMuZmllbGRzSW5kZXgmJm51bGwhPWUpZm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10aGlzLmZpZWxkc0luZGV4LmdldCh0Lm5hbWUpO2UmJk9iamVjdC5hc3NpZ24odCxlLnRvSlNPTigpKX19X3F1ZXJ5SXMzRE9iamVjdEZvcm1hdChlKXtyZXR1cm4gbnVsbCE9dGhpcy5pbmZvRm9yM0QmJiEwPT09ZS5yZXR1cm5HZW9tZXRyeSYmXCJ4eUZvb3RwcmludFwiIT09ZS5tdWx0aXBhdGNoT3B0aW9uJiYhZS5vdXRTdGF0aXN0aWNzfX07ZShbaSh7dHlwZTpjfSldLEYucHJvdG90eXBlLFwiZHluYW1pY0RhdGFTb3VyY2VcIix2b2lkIDApLGUoW2koKV0sRi5wcm90b3R5cGUsXCJmaWVsZHNJbmRleFwiLHZvaWQgMCksZShbaSgpXSxGLnByb3RvdHlwZSxcImdkYlZlcnNpb25cIix2b2lkIDApLGUoW2koKV0sRi5wcm90b3R5cGUsXCJpbmZvRm9yM0RcIix2b2lkIDApLGUoW2koe3JlYWRPbmx5OiEwfSldLEYucHJvdG90eXBlLFwicGFyc2VkVXJsXCIsbnVsbCksZShbaSgpXSxGLnByb3RvdHlwZSxcInBiZlN1cHBvcnRlZFwiLHZvaWQgMCksZShbaSgpXSxGLnByb3RvdHlwZSxcInF1ZXJ5QXR0YWNobWVudHNTdXBwb3J0ZWRcIix2b2lkIDApLGUoW2koKV0sRi5wcm90b3R5cGUsXCJzb3VyY2VTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtpKHt0eXBlOlN0cmluZ30pXSxGLnByb3RvdHlwZSxcInVybFwiLHZvaWQgMCksRj1lKFt1KFwiZXNyaS50YXNrcy5RdWVyeVRhc2tcIildLEYpO2NvbnN0IHg9RjtleHBvcnR7eCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e3F1ZXJ5Q2FwYWJpbGl0aWVzIGFzIHN9ZnJvbVwiLi4vLi4vZGF0YS9RdWVyeUVuZ2luZUNhcGFiaWxpdGllcy5qc1wiO2ltcG9ydHtkZWZhdWx0UG9pbnRTeW1ib2xKU09OIGFzIHIsZGVmYXVsdFBvbHlsaW5lU3ltYm9sSlNPTiBhcyBlLGRlZmF1bHRQb2x5Z29uU3ltYm9sSlNPTiBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9kZWZhdWx0c0pTT04uanNcIjtmdW5jdGlvbiBvKHQpe3JldHVybntyZW5kZXJlcjp7dHlwZTpcInNpbXBsZVwiLHN5bWJvbDpcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10fHxcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIj09PXQ/cjpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10P2U6cH19fWNvbnN0IHU9L15bXyRhLXpBLVpdW18kYS16QS1aMC05XSokLztsZXQgbj0xO2Z1bmN0aW9uIGkodCxzKXtpZihoYXMoXCJlc3JpLWNzcC1yZXN0cmljdGlvbnNcIikpcmV0dXJuKCk9Pih7W3NdOm51bGwsLi4udH0pO3RyeXtsZXQgcj1gdGhpcy4ke3N9ID0gbnVsbDtgO2Zvcihjb25zdCBzIGluIHQpe3IrPWB0aGlzJHt1LnRlc3Qocyk/YC4ke3N9YDpgW1wiJHtzfVwiXWB9ID0gJHtKU09OLnN0cmluZ2lmeSh0W3NdKX07YH1jb25zdCBlPW5ldyBGdW5jdGlvbihgXFxuICAgICAgcmV0dXJuIGNsYXNzIEF0dHJpYnV0ZXNDbGFzcyQke24rK30ge1xcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XFxuICAgICAgICAgICR7cn07XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBgKSgpO3JldHVybigpPT5uZXcgZX1jYXRjaChyKXtyZXR1cm4oKT0+KHtbc106bnVsbCwuLi50fSl9fWZ1bmN0aW9uIGEocz17fSl7cmV0dXJuW3tuYW1lOlwiTmV3IEZlYXR1cmVcIixkZXNjcmlwdGlvbjpcIlwiLHByb3RvdHlwZTp7YXR0cmlidXRlczp0KHMpfX1dfWZ1bmN0aW9uIGModCxyKXtyZXR1cm57YW5hbHl0aWNzOntzdXBwb3J0c0NhY2hlSGludDohMX0sYXR0YWNobWVudDpudWxsLGRhdGE6e2lzVmVyc2lvbmVkOiExLHN1cHBvcnRzQXR0YWNobWVudDohMSxzdXBwb3J0c006ITEsc3VwcG9ydHNaOnR9LG1ldGFkYXRhOntzdXBwb3J0c0FkdmFuY2VkRmllbGRQcm9wZXJ0aWVzOiExfSxvcGVyYXRpb25zOntzdXBwb3J0c0NhbGN1bGF0ZTohMSxzdXBwb3J0c1RydW5jYXRlOiExLHN1cHBvcnRzVmFsaWRhdGVTcWw6ITEsc3VwcG9ydHNBZGQ6cixzdXBwb3J0c0RlbGV0ZTpyLHN1cHBvcnRzRWRpdGluZzpyLHN1cHBvcnRzQ2hhbmdlVHJhY2tpbmc6ITEsc3VwcG9ydHNRdWVyeTohMCxzdXBwb3J0c1F1ZXJ5QW5hbHl0aWNzOiExLHN1cHBvcnRzUXVlcnlBdHRhY2htZW50czohMSxzdXBwb3J0c1F1ZXJ5VG9wRmVhdHVyZXM6ITEsc3VwcG9ydHNSZXNpemVBdHRhY2htZW50czohMSxzdXBwb3J0c1N5bmM6ITEsc3VwcG9ydHNVcGRhdGU6cixzdXBwb3J0c0V4Y2VlZHNMaW1pdFN0YXRpc3RpY3M6ITAsc3VwcG9ydHNBc3luY0NvbnZlcnQzRDohMX0scXVlcnk6cyxxdWVyeVJlbGF0ZWQ6e3N1cHBvcnRzQ291bnQ6ITAsc3VwcG9ydHNPcmRlckJ5OiEwLHN1cHBvcnRzUGFnaW5hdGlvbjohMCxzdXBwb3J0c0NhY2hlSGludDohMX0scXVlcnlUb3BGZWF0dXJlczp7c3VwcG9ydHNDYWNoZUhpbnQ6ITF9LGVkaXRpbmc6e3N1cHBvcnRzR2VvbWV0cnlVcGRhdGU6cixzdXBwb3J0c0dsb2JhbElkOiExLHN1cHBvcnRzUmV0dXJuU2VydmljZUVkaXRzSW5Tb3VyY2VTcGF0aWFsUmVmZXJlbmNlOiExLHN1cHBvcnRzUm9sbGJhY2tPbkZhaWx1cmU6ITEsc3VwcG9ydHNVcGRhdGVXaXRob3V0TTohMSxzdXBwb3J0c1VwbG9hZFdpdGhJdGVtSWQ6ITEsc3VwcG9ydHNEZWxldGVCeUFub255bW91czohMSxzdXBwb3J0c0RlbGV0ZUJ5T3RoZXJzOiExLHN1cHBvcnRzVXBkYXRlQnlBbm9ueW1vdXM6ITEsc3VwcG9ydHNVcGRhdGVCeU90aGVyczohMSxzdXBwb3J0c0FzeW5jQXBwbHlFZGl0czohMX19fWV4cG9ydHtjIGFzIGNyZWF0ZUNhcGFiaWxpdGllcyxpIGFzIGNyZWF0ZURlZmF1bHRBdHRyaWJ1dGVzRnVuY3Rpb24sYSBhcyBjcmVhdGVEZWZhdWx0VGVtcGxhdGUsbyBhcyBjcmVhdGVEcmF3aW5nSW5mb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtwYXJzZVVybCBhcyB0fWZyb21cIi4uL3V0aWxzLmpzXCI7aW1wb3J0e2V4ZWN1dGVRdWVyeUZvckV4dGVudCBhcyBvfWZyb21cIi4vb3BlcmF0aW9ucy9xdWVyeS5qc1wiO2ltcG9ydCByIGZyb21cIi4uL3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjthc3luYyBmdW5jdGlvbiBtKG0sbixzKXtjb25zdCBwPXQobSk7cmV0dXJuIG8ocCxyLmZyb20obiksey4uLnN9KS50aGVuKCh0PT4oe2NvdW50OnQuZGF0YS5jb3VudCxleHRlbnQ6ZS5mcm9tSlNPTih0LmRhdGEuZXh0ZW50KX0pKSl9ZXhwb3J0e20gYXMgZXhlY3V0ZUZvckV4dGVudH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=