"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_views_2d_layers_features_support_AttributeStore_js-no-ec131a"],{

/***/ "./node_modules/@arcgis/core/arcade/ArcadeDate.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/ArcadeDate.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcadeDate: () => (/* binding */ c),
/* harmony export */   ArcadeDateError: () => (/* binding */ d),
/* harmony export */   ArcadeDateErrorCodes: () => (/* binding */ o),
/* harmony export */   ArcadeDateErrorMessages: () => (/* binding */ a),
/* harmony export */   UnknownTimeZone: () => (/* binding */ i),
/* harmony export */   createDateTimeZone: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _executionError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./executionError.js */ "./node_modules/@arcgis/core/arcade/executionError.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i{}var o;i.instance=new luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone("Etc/UTC"),function(e){e.TimeZoneNotRecognised="TimeZoneNotRecognised"}(o||(o={}));const a={[o.TimeZoneNotRecognised]:"Timezone identifier has not been recognised."};class d extends Error{constructor(t,n){super((0,_executionError_js__WEBPACK_IMPORTED_MODULE_0__.doSubstitutions)(a[t],n)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class c{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,r=1,s=0,i=0,o=0,a=0,d){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(a))return null;let m=0;const h=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.local(e,t).daysInMonth;r<1&&(m=r-1,r=1),r>h&&(m=r-h,r=h);let l=0;t>12?(l=t-12,t=12):t<1&&(l=t-1,t=1);let f=0;i>59?(f=i-59,i=59):i<0&&(f=i,i=0);let w=0;o>59?(w=o-59,o=59):o<0&&(w=o,o=0);let T=0;a>999?(T=a-999,a=999):a<0&&(T=a,a=0);let y=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromObject({day:r,year:e,month:t,hour:s,minute:i,second:o,millisecond:a},{zone:u(d)});return 0!==l&&(y=y.plus({months:l})),0!==m&&(y=y.plus({days:m})),0!==f&&(y=y.plus({minutes:f})),0!==w&&(y=y.plus({seconds:w})),0!==T&&(y=y.plus({milliseconds:T})),new c(y)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){const n=u(t);return e.isUnknownTimeZone||n===i.instance?c.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e._date.setZone(t))}static dateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:t}))}static unknownEpochToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:i.instance}))}static unknownDateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e.getTime(),{zone:i.instance}))}static epochToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:t}))}static dateTimeToArcadeDate(e){return new c(e)}clone(){return new c(this._date)}changeTimeZone(e){const t=u(e);return c.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=u(t);return e.zone===i.instance||n===i.instance?c.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e.setZone(n))}static nowToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(new Date,{zone:e}))}static nowUTCToArcadeDate(){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===c.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===i.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"utc":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new c(this._date.plus(e))}diff(e,t="milliseconds"){return this._date.diff(e._date,t)[t]}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toFormat(e,t){return this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLString(){return"timestamp '"+this._date.toFormat("yyyy-LL-dd HH:mm:ss")+"'"}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new c(this._date.toUTC())}toLocal(){return new c(this._date.toLocal())}toString(){return this.toISOString(!0)}}function u(e){if(e instanceof luxon__WEBPACK_IMPORTED_MODULE_1__.Zone)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"utc";if("unknown"===e.toLowerCase())return i.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=luxon__WEBPACK_IMPORTED_MODULE_1__.FixedOffsetZone.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const n=luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone.create(e);if(!n.isValid)throw new d(o.TimeZoneNotRecognised);return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DateTimeReferenceFieldIndex: () => (/* binding */ T),
/* harmony export */   convertTimeReference: () => (/* binding */ m),
/* harmony export */   convertToIANA: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../time/TimeReference.js */ "./node_modules/@arcgis/core/time/TimeReference.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/* harmony import */ var _time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../time/timeReferenceUtils.js */ "./node_modules/@arcgis/core/time/timeReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e){return e instanceof _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__["default"]}function m(n){if(!n)return null;if(l(n)&&(n=c(n.toJSON())),n instanceof luxon__WEBPACK_IMPORTED_MODULE_3__.Zone)return n;if("unknown"===n.toLowerCase())return _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.UnknownTimeZone.instance;if("system"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.SystemZone.instance;if("utc"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.utcInstance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(n)){const e=luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.parseSpecifier("UTC"+(n.startsWith("+")||n.startsWith("-")?"":"+")+n);if(e)return e}const a=luxon__WEBPACK_IMPORTED_MODULE_3__.IANAZone.create(n);if(!a.isValid)throw new _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateError(_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateErrorCodes.TimeZoneNotRecognised);return a}function c(e){return e?.timeZoneIANA?e?.timeZoneIANA:e?.timeZone?(0,_time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertLegacyTimeZone)(e,""):""}class T{constructor(){this.dateTimeReferenceMetaData=null,this._fieldTimeZoneIndex={},this._fieldIndex=null,this._ianaPreferred=null,this._ianaTimeInfo=null,this._ianaEditFields=null,this._ianaLayerDateFields=null}static create(e,t){const i=new T;return i.dateTimeReferenceMetaData=t,i._fieldIndex=e instanceof _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"]?e:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](e),i}static createFromLayer(e){if(!e)return null;if(!e.fieldsIndex)return!e.declaredClass&&e.fields?T.create(e.fields,e):null;const t=new T;return t._fieldIndex=e.fieldsIndex,t.dateTimeReferenceMetaData={timeInfo:e?.timeInfo?.toJSON()??null,editFieldsInfo:e?.editFieldsInfo?.toJSON()??null,dateFieldsTimeReference:e?.dateFieldsTimeReference?.toJSON()??null,preferredTimeReference:e?.preferredTimeReference?.toJSON()??null,datesInUnknownTimezone:!0===e?.datesInUnknownTimezone},t}fieldTimeZone(e){const t=this._fieldIndex?.get(e);if(!t)return null;if("date"!==t.type&&"esriFieldTypeDate"!==t.type)return null;const i=this._fieldTimeZoneIndex[t.name];if(void 0!==i)return i;const n=[{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.creationDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.editDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.startTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.endTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone}];for(const r of n)if(r.field===t.name){const e=this.convertToIANA(r.timeReference,r.isunknown);return this._fieldTimeZoneIndex[t.name]=e,e}const a=this.convertToIANA(this.dateTimeReferenceMetaData?.dateFieldsTimeReference,this.dateTimeReferenceMetaData?.datesInUnknownTimezone);return this._fieldTimeZoneIndex[t.name]=a,a}convertToIANA(e,t){return t?"unknown":c(e)}get layerPreferredTimeZone(){if(null!==this._ianaPreferred)return this._ianaPreferred;this._ianaPreferred="";const e=this.dateTimeReferenceMetaData?.preferredTimeReference;return this._ianaPreferred=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaPreferred}get layerTimeInfoTimeZone(){if(null!==this._ianaTimeInfo)return this._ianaTimeInfo;this._ianaTimeInfo="";const e=this.dateTimeReferenceMetaData?.timeInfo?.timeReference;return this._ianaTimeInfo=this.convertToIANA(e,!1),this._ianaTimeInfo}get layerEditFieldsTimeZone(){if(null!==this._ianaEditFields)return this._ianaEditFields;this._ianaEditFields="";const e=this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference;return this._ianaEditFields=this.convertToIANA(e,this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaEditFields}get layerDateFieldsTimeZone(){if(null!==this._ianaLayerDateFields)return this._ianaLayerDateFields;this._ianaLayerDateFields="";const e=this.dateTimeReferenceMetaData?.dateFieldsTimeReference;return this._ianaLayerDateFields=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaLayerDateFields}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/support/WatchUpdatingTracking.js */ "./node_modules/@arcgis/core/core/support/WatchUpdatingTracking.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engine/webgl/util/debug.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js");
/* harmony import */ var _tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tileRenderers/support/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const E=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.layers.2d.features.support.AttributeStore"),k=(0,_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.createDebugLogger)(_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.DEBUG_ATTR_UPDATES,E),D={sharedArrayBuffer:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-shared-array-buffer"),atomics:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-atomics")};function F(t,e){return i=>e(t(i))}class I{constructor(t,e,i,s){this.size=0,this.texelSize=4,this.dirtyStart=0,this.dirtyEnd=0;const{pixelType:r,layout:a,textureOnly:n}=s;this.textureOnly=n||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,n||(this.data=this._initData(r,i,t,e))}get buffer(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=this.data;for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){this.data[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){this.data[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);return this.data[i*this.texelSize+e]}setData(t,e,i){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t),r=1<<e;0!=(this.layout&r)?null!=this.data&&(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):E.error("mapview-attributes-store","Tried to set a value for a texel's readonly component")}lock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=this.data;e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||"local"===this._ctype),r=this.pixelType,a=this.layout,n=this.data;return{start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&"local"!==s?SharedArrayBuffer:ArrayBuffer,a=(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__.getPixelArrayCtor)(t),n=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let o=0;o<n.length;o+=4)n[o+1]=255;return n}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class B{constructor(t,e){this._client=t,this.config=e,this.updatingHandles=new _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__.WatchUpdatingTracking,this._blocks=new Array,this._filters=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.MAX_FILTERS),this._attributeComputeInfo=null,this._targetType=0,this._abortController=new AbortController,this._hasScaleExpr=!1,this._size=32,this._nextUpdate=null,this._currUpdate=null,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.FLOAT:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE;k(`Creating AttributeStore ${D.sharedArrayBuffer?"with":"without"} shared memory`),this._blockDescriptors=[{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:1},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort(),this.updatingHandles.destroy()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}get hasHighlight(){return this._idsToHighlight.size>0}isUpdating(){const t=this.updatingHandles.updating||!!this._nextUpdate;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating AttributeStore: ${t}\n  -> updatingHandles ${this.updatingHandles.updating} (currUpdate: ${!!this._currUpdate})\n  -> nextUpdate: ${!!this._nextUpdate}\n`),t}update(t,e){this.config=e;const i=e.schema.processors[0].storage,s=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__.diff)(this._schema,i);if((t.targets.feature||t.targets.aggregate)&&(t.storage.data=!0),s&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:",s),t.storage.data=!0,this._schema=i,this._attributeComputeInfo=null,null!=i)){switch(i.target){case"feature":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_FEATURE;break;case"aggregate":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_AGGREGATE}if("subtype"===i.type){this._attributeComputeInfo={isSubtype:!0,subtypeField:i.subtypeField,map:new Map};for(const t in i.mapping){const e=i.mapping[t];if(null!=e&&null!=e.vvMapping)for(const i of e.vvMapping)this._bindAttribute(i,parseInt(t,10))}}else{if(this._attributeComputeInfo={isSubtype:!1,map:new Map},null!=i.vvMapping)for(const t of i.vvMapping)this._bindAttribute(t);if(null!=i.attributeMapping)for(const t of i.attributeMapping)this._bindAttribute(t)}}}onTileData(t,e){if(null==e.addOrUpdate)return;const i=e.addOrUpdate.getCursor();for(;i.next();){const t=i.getDisplayId();this.setAttributeData(t,i)}}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(t,e,i){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters");const{service:s,spatialReference:r}=i,{filters:a}=e,n=a.map(((t,e)=>this._updateFilter(t,e,s,r))),o=(await Promise.all(n)).some((t=>t));(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters - finsihed"),o&&(t.storage.filters=!0,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:","Filters changed"))}setData(t,e,i,s){const r=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.HIGHLIGHT_FLAG:0}unsetAttributeData(t){const e=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);if(this._ensureSizeForTexel(s),this._getBlock(0).setData(s,0,this.getFilterFlags(e)),this._targetType!==(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdType)(t))return;const r=this._attributeComputeInfo,a=this.config.supportsTextureFloat?1:2,n=4;let o=null;r&&(o=r.isSubtype?r.map.get(e.readAttribute(r.subtypeField)):r.map,o&&o.size&&o.forEach(((t,r)=>{const o=r*a%n,l=Math.floor(r*a/n),h=this._getBlock(l+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_VV),u=t(e);if(this.config.supportsTextureFloat)h.setData(s,o,u);else if(u===_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER)h.setData(s,o,255),h.setData(s,o+1,255);else{const t=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)(Math.round(u),-32767,32766)+32768,e=255&t,r=(65280&t)>>8;h.setData(s,o,e),h.setData(s,o+1,r)}})))}sendUpdates(){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate"),this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createResolver)(),this.updatingHandles.addPromise(this._nextUpdate.promise),this._nextUpdate.promise;const e={blocks:this._blocks.map((t=>null!=t?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const t=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}else (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::No additional updates queued")};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::client.update");const i=this.updatingHandles.addPromise(this._client.update(e,this._signal).then(t).catch(t));return this._client.render(this._signal),i})).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e))return this._createResourcesPromise=null,this._createResources();E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client update",e))})),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t,e){function i(){const{normalizationField:e}=t;return e?i=>{const s=i.readAttribute(e);if(!s)return null;return i.readAttribute(t.field)/s}:e=>e.readAttribute(t.field)}function s(){return t.normalizationField&&E.warn("mapview-arcade","Ignoring normalizationField specified with an arcade expression which is not supported."),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let r;if(null!=t.fieldIndex)r=s();else{if(!t.field)return;r=i()}const{valueRepresentation:a}=t;if(a){r=F(r,(t=>(0,_tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__.getVisualVariableSizeValueRepresentationRatio)(t,a)))}const n=t=>null===t||isNaN(t)||t===1/0||t===-1/0?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER:t,o=this._attributeComputeInfo;if(o.isSubtype){const i=o.map.get(e)??new Map;i.set(t.binding,F(r,n)),o.map.set(e,i)}else o.map.set(t.binding,F(r,n))}_createResources(){if(null!=this._createResourcesPromise)return this._createResourcesPromise;this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_ANIMATION),this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_GPGPU),k("Initializing AttributeStore");const e={shared:D.sharedArrayBuffer&&!("local"===this._client.type),size:this._size,blocks:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.mapMany)(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},i=this._client.initialize(e,this._signal).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)?this._createResourcesPromise=null:E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client initialization",e))}));return this._createResourcesPromise=i,i.then((()=>null==this._createResourcesPromise?this._createResources():void 0)),i}_getBlock(t){const e=this._blocks[t];if(null!=e)return e;k(`Initializing AttributeBlock at index ${t}`);const i=D.sharedArrayBuffer,s=this._client.type,r=new I(i,s,this._size,this._blockDescriptors[t]);return this._blocks[t]=r,this._createResourcesPromise=null,r}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return k("Expanding block size to",t,this._blocks),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.forEachSome)(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-limitations","Maximum number of onscreen features exceeded.")),-1}async _updateFilter(t,e,i,s){const r=this._filters[e],a=null!=r&&r.hash;if(!r&&!t)return!1;if(a===JSON.stringify(t))return!1;if(null==t){if(!r)return!1;const t=1<<e+1,i=this._getBlock(0);return this._filters[e]=null,i.setComponentAllTexels(0,t),this.sendUpdates(),!0}const n=await this._getFilter(e,i);return await n.update(t,s),!0}async _getFilter(t,e){const i=this._filters[t];if(null!=i)return i;const{default:s}=await Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_layers_graphics_data_spatialQuerySupport_js-node_modu-83ead7"), __webpack_require__.e("defaultVendors-node_modules_arcgis_core_views_2d_layers_features_FeatureStore2D_js"), __webpack_require__.e("node_modules_arcgis_core_views_2d_layers_features_support_FeatureFilter_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ./FeatureFilter.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilter.js")),r=new s({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__["default"](e.fields)});return this._filters[t]=r,r}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let e=0;const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdFilterMask)(t.getDisplayId());for(let r=0;r<this._filters.length;r++){const s=!!(i&1<<r),a=this._filters[r];e|=(!s||null==a||a.check(t)?1:0)<<r}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlag(e)}return e<<1|s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComputedAttributeStorage: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayIdGenerator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}class r{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__.DisplayIdGenerator,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const e=this._bitsets.length;return this._bitsets.push(_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__.StaticBitSet.create(this._allocatedSize,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);n(this._numerics[t],e,0)}_ensureInstanceId(t){n(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);n(this._strings[t],e,null)}createDisplayId(t=!1){const s=this._idGenerator.createId();return s>this._allocatedSize&&this._expand(),(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(s,t)}releaseDisplayId(e){for(const t of this._bitsets)t.unset(e);return this._idGenerator.releaseId(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)}getComputedNumeric(e,s){return this.getComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedNumeric(e,s,i){return this.setComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,i,0)}getComputedString(e,s){return this.getComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedString(e,s,i){return this.setComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0,i)}getComputedNumericAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureNumeric(s,i),this._numerics[s][i]}setComputedNumericAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureNumeric(s,n),this._numerics[s][n]=i}getInstanceId(e){const s=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureInstanceId(s),this._instanceIds[s]}setInstanceId(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureInstanceId(i),this._instanceIds[i]=s}getComputedStringAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureString(s,i),this._strings[s][i]}setComputedStringAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureString(s,n),this._strings[s][n]=i}getXMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)]}getYMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+1]}getXMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+2]}getYMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+3]}setBounds(e,s){const i=s.readHydratedGeometry();if(!i||!i.coords.length)return!1;let r=1/0,u=1/0,o=-1/0,h=-1/0;i.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),o=Math.max(o,t),h=Math.max(h,e)}));const d=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return n(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=o,this._bounds[4*d+3]=h,!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayIdGenerator: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r{constructor(){this._freeIds=[],this._idCounter=1}createId(r=!1){return (0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(this._getFreeId(),r)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReader: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../arcade/ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../arcade/arcadeTimeUtils.js */ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d=0;const h=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-thresholds")??[.5,.5,.5,.5],u=h[0],l=h[1],c=h[2],m=h[3],f=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-payload-size-factors")??[1,2,4],g=f[0],y=f[1],_=f[2],p=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-mobile-factor")??2,x=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-mobile");class I{constructor(e,t){this.type="FeatureSetReader",this.arcadeDeclaredClass="esri.arcade.Feature",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._deleted=null,this._joined=[],this._objectIdToIndex=null,this._level=0,this._datetimeMetadata=null,this.contextTimeReference=null,this.instance=e,this._layerSchema=t}static createInstance(){return d++,d=d>65535?0:d,d}get isEmpty(){return null!=this._deleted&&this._deleted.countSet()===this.getSize()}set level(e){this._level=e}getAreaSimplificationThreshold(e,t){let r=1;const s=x?p:1;t>4e6?r=_*s:t>1e6?r=y*s:t>5e5?r=g*s:t>1e5&&(r=s);let i=0;e>4e3?i=m*r:e>2e3?i=c*r:e>100?i=l:e>15&&(i=u);let n=8;return this._level<4?n=1:this._level<5?n=2:this._level<6&&(n=4),i*n}createQuantizedExtrudedQuad(e,t){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"]([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}parseTimestampOffset(e){return e}setArcadeSpatialReference(e){this._arcadeSpatialReference=e}attachStorage(e){this._storage=e}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(e){return this.getComputedNumericAtIndex(0)}setComputedNumeric(e,t){return this.setComputedNumericAtIndex(t,0)}getComputedString(e){return this.getComputedStringAtIndex(0)}setComputedString(e,t){return this.setComputedStringAtIndex(0,t)}getComputedNumericAtIndex(e){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),e)}setComputedNumericAtIndex(e,t){this._storage.setComputedNumericAtIndex(this.getDisplayId(),e,t)}getComputedStringAtIndex(e){return this._storage.getComputedStringAtIndex(this.getDisplayId(),e)}setComputedStringAtIndex(e,t){return this._storage.setComputedStringAtIndex(this.getDisplayId(),e,t)}transform(e,t,r,s){const i=this.copy();return i._tx+=e,i._ty+=t,i._sx*=r,i._sy*=s,i}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)}geometry(){const e=this.readHydratedGeometry(),t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToGeometry)(e,this.geometryType,this.hasZ,this.hasM),r=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__.fromJSON)(t);return r&&(r.spatialReference=this._arcadeSpatialReference),r}get dateTimeReferenceFieldIndex(){return this._datetimeMetadata||(this._datetimeMetadata=_arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__.DateTimeReferenceFieldIndex.create(this._layerSchema.fields,this._layerSchema)),this._datetimeMetadata}autocastArcadeDate(t,r){return r&&r instanceof Date?this.isUnknownDateTimeField(t)?_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.unknownDateJSToArcadeDate(r):_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.dateJSAndZoneToArcadeDate(r,this.contextTimeReference?.timeZone??"system"):r}isUnknownDateTimeField(e){return"unknown"===this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)}fieldSourceTimeZone(e){return this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)??""}get layerPreferredTimeZone(){return this.dateTimeReferenceFieldIndex?.layerPreferredTimeZone??""}field(e){if(this.hasField(e))return this.autocastArcadeDate(e,this.readAttribute(e,!0));for(const t of this._joined)if(t.setIndex(this.getIndex()),t.hasField(e)){const r=t._readAttribute(e,!0);return this.autocastArcadeDate(e,r)}throw new Error(`Field ${e} does not exist`)}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this.fields.fields.map((e=>e.name))}castToText(e=!1){if(!e)return JSON.stringify(this.readLegacyFeature());const t=this.readLegacyFeature();if(!t)return JSON.stringify(null);const r={geometry:t.geometry,attributes:{...t.attributes??{}}};for(const s in r.attributes){const e=r.attributes[s];e instanceof Date&&(r.attributes[s]=e.getTime())}return JSON.stringify(r)}gdbVersion(){return null}fullSchema(){return this._layerSchema}castAsJson(e=null){return{attributes:this._readAttributes(),geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}removeIds(e){if(null==this._objectIdToIndex){const e=new Map,t=this.getCursor();for(;t.next();){const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrapOrThrow)(t.getObjectId());e.set(s,t.getIndex())}this._objectIdToIndex=e}const t=this._objectIdToIndex;for(const r of e)t.has(r)&&this.removeAtIndex(t.get(r))}removeAtIndex(e){null==this._deleted&&(this._deleted=_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__.StaticBitSet.create(this.getSize())),this._deleted.set(e)}readGeometryForDisplay(){return this.readUnquantizedGeometry(!0)}readLegacyGeometryForDisplay(){return this.readLegacyGeometry(!0)}*features(){const e=this.getCursor();for(;e.next();)yield e.readOptimizedFeature()}_getExists(){return null==this._deleted||!this._deleted.has(this.getIndex())}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const e=this.readUnquantizedGeometry();if(!e||e.hasIndeterminateRingOrder)return null;const t=this.getQuantizationTransform()??null;return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],e,this.hasM,this.hasZ,t)}copyInto(e){e.seen=this.seen,e._storage=this._storage,e._arcadeSpatialReference=this._arcadeSpatialReference,e._joined=this._joined,e._tx=this._tx,e._ty=this._ty,e._sx=this._sx,e._sy=this._sy,e._deleted=this._deleted,e._objectIdToIndex=this._objectIdToIndex}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderJSON: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function d({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class h extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{static fromFeatures(e,r){const{objectIdField:s,geometryType:i}=r,n=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatures)([],e,i,!1,!1,s);for(let t=0;t<n.length;t++)n[t].displayId=e[t].displayId;return h.fromOptimizedFeatures(n,r)}static fromFeatureSet(t,r){const s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatureSet)(t,r.objectIdField);return h.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(t,e){const{features:r}=t,s=h.fromOptimizedFeatures(r,e);return s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform,s._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),s}static fromOptimizedFeatures(t,e,r){const s=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader.createInstance(),i=new h(s,t,e);return i._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),i._transform=r,i}constructor(t,e,r){super(t,r),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=r?.geometryType,this._features=e}get fields(){return this._fieldsIndex}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}removeIds(t){const e=new Set(t);this._features=this._features.filter((t=>!(null!=t.objectId&&e.has(t.objectId))))}append(t){for(const e of t)this._features.push(e)}getSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t="";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new h(this.instance,this._features,this.fullSchema());return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToFeature)(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readUnquantizedGeometry();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToGeometry)(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const t=this.readCentroid();return null==t?null:{x:t.coords[0]*this._sx+this._tx,y:t.coords[1]*this._sy+this._ty}}readGeometryArea(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getQuantizedArea)(this._current.geometry,2):0}readUnquantizedGeometry(){const t=this.readGeometry();if("esriGeometryPoint"===this.geometryType||!t)return t;const e=t.clone();return d(e),e}readHydratedGeometry(){const t=this._current.geometry;if(null==t)return null;const e=t.clone();return null!=this._transform&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.unquantizeOptimizedGeometry)(e,e,this.hasZ,this.hasM,this._transform),e}getXHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[0],e=this.getQuantizationTransform();return null==e?t:t*e.scale[0]+e.translate[0]}getYHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[1],e=this.getQuantizationTransform();return null==e?t:e.translate[1]-t*e.scale[1]}getX(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[0]*this._sx+this._tx:0}getY(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[1]*this._sy+this._ty:0}readGeometry(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)){if(null!=this._current.centroid){const[t,e]=this._current.centroid.coords;return this.createQuantizedExtrudedQuad(t,e)}return null}const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._computeCentroid():this._current.centroid}_readAttribute(t,e){const r=this._fieldsIndex.get(t);if(!r)return;let s=this._current.attributes[r.name];return null==s?s:("esriFieldTypeTimestampOffset"===this.fields.get(t)?.type&&(s=this.parseTimestampOffset(s)),e&&this.fields.isDateField(t)?new Date(s):s)}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._fieldsIndex=this._fieldsIndex}_readAttributes(){return this._current.attributes}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StaticBitSet: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}constructor(t,e){this._mask=0,this._buf=t,this._mask=e}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19mZWF0dXJlc19zdXBwb3J0X0F0dHJpYnV0ZVN0b3JlX2pzLW5vLWVjMTMxYS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvSSxTQUFTLE1BQU0sZUFBZSwyQ0FBQyx3QkFBd0IsZ0RBQWdELFNBQVMsR0FBRyxTQUFTLDBFQUEwRSxzQkFBc0IsaUJBQWlCLE1BQU0sbUVBQUMsOEhBQThILFFBQVEsZUFBZSw2REFBNkQsZ0RBQWdELG9GQUFvRixRQUFRLFFBQVEsMkNBQUMsd0JBQXdCLGtDQUFrQyxRQUFRLG9DQUFvQyxRQUFRLGtDQUFrQyxRQUFRLGtDQUFrQyxRQUFRLHFDQUFxQyxNQUFNLDJDQUFDLGFBQWEsNERBQTRELEVBQUUsVUFBVSxFQUFFLHlCQUF5QixTQUFTLHFCQUFxQixPQUFPLHFCQUFxQixVQUFVLHFCQUFxQixVQUFVLHFCQUFxQixlQUFlLFlBQVkseUNBQXlDLGtFQUFrRSwwQ0FBMEMsYUFBYSxvSkFBb0osNkJBQTZCLGFBQWEsMkNBQUMsZUFBZSxjQUFjLEdBQUcsK0NBQStDLGFBQWEsMkNBQUMsZUFBZSxPQUFPLEdBQUcsbUNBQW1DLGFBQWEsMkNBQUMsZUFBZSxnQkFBZ0IsR0FBRyxvQ0FBb0MsYUFBYSwyQ0FBQyx5QkFBeUIsZ0JBQWdCLEdBQUcsdUNBQXVDLGFBQWEsMkNBQUMsZUFBZSxPQUFPLEdBQUcsK0JBQStCLGdCQUFnQixRQUFRLHlCQUF5QixrQkFBa0IsYUFBYSxxREFBcUQsd0NBQXdDLGFBQWEsMElBQTBJLDBCQUEwQixhQUFhLDJDQUFDLHNCQUFzQixPQUFPLEdBQUcsNEJBQTRCLGFBQWEsMkNBQUMsUUFBUSxlQUFlLDhFQUE4RSxVQUFVLHlJQUF5SSx3QkFBd0Isb0NBQW9DLGNBQWMsMEJBQTBCLFdBQVcsdUJBQXVCLGFBQWEseUJBQXlCLFVBQVUsc0JB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WSxtQkFBbUIsNkJBQTZCLFlBQVksUUFBUSxZQUFZLG1CQUFtQiw2QkFBNkIsWUFBWSxNQUFNLFlBQVksbUJBQW1CLDZCQUE2QixTQUFTLFFBQVEsWUFBWSxtQkFBbUIsMkJBQTJCLFlBQVksUUFBUSwyQ0FBMkMsUUFBUSxZQUFZLG1CQUFtQixtQkFBbUIsY0FBYyxZQUFZLG1CQUFtQixLQUFLLDBCQUEwQixVQUFVLEVBQUUsRUFBRSx1QkFBdUIsV0FBVyxRQUFRLDRCQUE0QixJQUFJLE1BQWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL0FyY2FkZURhdGUuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvYXJjYWRlL2FyY2FkZVRpbWVVdGlscy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9BdHRyaWJ1dGVTdG9yZS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9Db21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRGlzcGxheUlkR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlckpTT04uanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvU3RhdGljQml0U2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZG9TdWJzdGl0dXRpb25zIGFzIGV9ZnJvbVwiLi9leGVjdXRpb25FcnJvci5qc1wiO2ltcG9ydHtJQU5BWm9uZSBhcyB0LERhdGVUaW1lIGFzIG4sWm9uZSBhcyByLEZpeGVkT2Zmc2V0Wm9uZSBhcyBzfWZyb21cImx1eG9uXCI7Y2xhc3MgaXt9dmFyIG87aS5pbnN0YW5jZT1uZXcgdChcIkV0Yy9VVENcIiksZnVuY3Rpb24oZSl7ZS5UaW1lWm9uZU5vdFJlY29nbmlzZWQ9XCJUaW1lWm9uZU5vdFJlY29nbmlzZWRcIn0ob3x8KG89e30pKTtjb25zdCBhPXtbby5UaW1lWm9uZU5vdFJlY29nbmlzZWRdOlwiVGltZXpvbmUgaWRlbnRpZmllciBoYXMgbm90IGJlZW4gcmVjb2duaXNlZC5cIn07Y2xhc3MgZCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsbil7c3VwZXIoZShhW3RdLG4pKSx0aGlzLmRlY2xhcmVkUm9vdENsYXNzPVwiZXNyaS5hcmNhZGUuYXJjYWRlZGF0ZS5kYXRlZXJyb3JcIixFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxkKX19Y2xhc3MgY3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9kYXRlPWUsdGhpcy5kZWNsYXJlZFJvb3RDbGFzcz1cImVzcmkuYXJjYWRlLmFyY2FkZWRhdGVcIn1zdGF0aWMgZnJvbVBhcnRzKGU9MCx0PTEscj0xLHM9MCxpPTAsbz0wLGE9MCxkKXtpZihpc05hTihlKXx8aXNOYU4odCl8fGlzTmFOKHIpfHxpc05hTihzKXx8aXNOYU4oaSl8fGlzTmFOKG8pfHxpc05hTihhKSlyZXR1cm4gbnVsbDtsZXQgbT0wO2NvbnN0IGg9bi5sb2NhbChlLHQpLmRheXNJbk1vbnRoO3I8MSYmKG09ci0xLHI9MSkscj5oJiYobT1yLWgscj1oKTtsZXQgbD0wO3Q+MTI/KGw9dC0xMix0PTEyKTp0PDEmJihsPXQtMSx0PTEpO2xldCBmPTA7aT41OT8oZj1pLTU5LGk9NTkpOmk8MCYmKGY9aSxpPTApO2xldCB3PTA7bz41OT8odz1vLTU5LG89NTkpOm88MCYmKHc9byxvPTApO2xldCBUPTA7YT45OTk/KFQ9YS05OTksYT05OTkpOmE8MCYmKFQ9YSxhPTApO2xldCB5PW4uZnJvbU9iamVjdCh7ZGF5OnIseWVhcjplLG1vbnRoOnQsaG91cjpzLG1pbnV0ZTppLHNlY29uZDpvLG1pbGxpc2Vjb25kOmF9LHt6b25lOnUoZCl9KTtyZXR1cm4gMCE9PWwmJih5PXkucGx1cyh7bW9udGhzOmx9KSksMCE9PW0mJih5PXkucGx1cyh7ZGF5czptfSkpLDAhPT1mJiYoeT15LnBsdXMoe21pbnV0ZXM6Zn0pKSwwIT09dyYmKHk9eS5wbHVzKHtzZWNvbmRzOnd9KSksMCE9PVQmJih5PXkucGx1cyh7bWlsbGlzZWNvbmRzOlR9KSksbmV3IGMoeSl9c3RhdGljIGdldCBzeXN0ZW1UaW1lWm9uZUNhbm9uaWNhbE5hbWUoKXtyZXR1cm4gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lPz9cInN5c3RlbVwifXN0YXRpYyBhcmNhZGVEYXRlQW5kWm9uZVRvQXJjYWRlRGF0ZShlLHQpe2NvbnN0IG49dSh0KTtyZXR1cm4gZS5pc1Vua25vd25UaW1lWm9uZXx8bj09PWkuaW5zdGFuY2U/Yy5mcm9tUGFydHMoZS55ZWFyLGUubW9udGhKUysxLGUuZGF5LGUuaG91cixlLm1pbnV0ZSxlLnNlY29uZCxlLm1pbGxpc2Vjb25kLG4pOm5ldyBjKGUuX2RhdGUuc2V0Wm9uZSh0KSl9c3RhdGljIGRhdGVKU1RvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tSlNEYXRlKGUse3pvbmU6XCJzeXN0ZW1cIn0pKX1zdGF0aWMgZGF0ZUpTQW5kWm9uZVRvQXJjYWRlRGF0ZShlLHQ9XCJzeXN0ZW1cIil7cmV0dXJuIG5ldyBjKG4uZnJvbUpTRGF0ZShlLHt6b25lOnR9KSl9c3RhdGljIHVua25vd25FcG9jaFRvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tTWlsbGlzKGUse3pvbmU6aS5pbnN0YW5jZX0pKX1zdGF0aWMgdW5rbm93bkRhdGVKU1RvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tTWlsbGlzKGUuZ2V0VGltZSgpLHt6b25lOmkuaW5zdGFuY2V9KSl9c3RhdGljIGVwb2NoVG9BcmNhZGVEYXRlKGUsdD1cInN5c3RlbVwiKXtyZXR1cm4gbmV3IGMobi5mcm9tTWlsbGlzKGUse3pvbmU6dH0pKX1zdGF0aWMgZGF0ZVRpbWVUb0FyY2FkZURhdGUoZSl7cmV0dXJuIG5ldyBjKGUpfWNsb25lKCl7cmV0dXJuIG5ldyBjKHRoaXMuX2RhdGUpfWNoYW5nZVRpbWVab25lKGUpe2NvbnN0IHQ9dShlKTtyZXR1cm4gYy5kYXRlVGltZVRvQXJjYWRlRGF0ZSh0aGlzLl9kYXRlLnNldFpvbmUodCkpfXN0YXRpYyBkYXRlVGltZUFuZFpvbmVUb0FyY2FkZURhdGUoZSx0KXtjb25zdCBuPXUodCk7cmV0dXJuIGUuem9uZT09PWkuaW5zdGFuY2V8fG49PT1pLmluc3RhbmNlP2MuZnJvbVBhcnRzKGUueWVhcixlLm1vbnRoLGUuZGF5LGUuaG91cixlLm1pbnV0ZSxlLnNlY29uZCxlLm1pbGxpc2Vjb25kLG4pOm5ldyBjKGUuc2V0Wm9uZShuKSl9c3RhdGljIG5vd1RvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMobi5mcm9tSlNEYXRlKG5ldyBEYXRlLHt6b25lOmV9KSl9c3RhdGljIG5vd1VUQ1RvQXJjYWRlRGF0ZSgpe3JldHVybiBuZXcgYyhuLnV0YygpKX1nZXQgaXNTeXN0ZW0oKXtyZXR1cm5cInN5c3RlbVwiPT09dGhpcy50aW1lWm9uZXx8dGhpcy50aW1lWm9uZT09PWMuc3lzdGVtVGltZVpvbmVDYW5vbmljYWxOYW1lfWVxdWFscyhlKXtyZXR1cm4gdGhpcy5pc1N5c3RlbSYmZS5pc1N5c3RlbT90aGlzLnRvTnVtYmVyKCk9PT1lLnRvTnVtYmVyKCk6dGhpcy5pc1Vua25vd25UaW1lWm9uZT09PWUuaXNVbmtub3duVGltZVpvbmUmJnRoaXMuX2RhdGUuZXF1YWxzKGUuX2RhdGUpfWdldCBpc1Vua25vd25UaW1lWm9uZSgpe3JldHVybiB0aGlzLl9kYXRlLnpvbmU9PT1pLmluc3RhbmNlfWdldCBpc1ZhbGlkKCl7cmV0dXJuIHRoaXMuX2RhdGUuaXNWYWxpZH1nZXQgaG91cigpe3JldHVybiB0aGlzLl9kYXRlLmhvdXJ9Z2V0IHNlY29uZCgpe3JldHVybiB0aGlzLl9kYXRlLnNlY29uZH1nZXQgZGF5KCl7cmV0dXJuIHRoaXMuX2RhdGUuZGF5fWdldCBkYXlPZldlZWtJU08oKXtyZXR1cm4gdGhpcy5fZGF0ZS53ZWVrZGF5fWdldCBkYXlPZldlZWtKUygpe2xldCBlPXRoaXMuX2RhdGUud2Vla2RheTtyZXR1cm4gZT42JiYoZT0wKSxlfWdldCBtaWxsaXNlY29uZCgpe3JldHVybiB0aGlzLl9kYXRlLm1pbGxpc2Vjb25kfWdldCBtb250aElTTygpe3JldHVybiB0aGlzLl9kYXRlLm1vbnRofWdldCB3ZWVrSVNPKCl7cmV0dXJuIHRoaXMuX2RhdGUud2Vla051bWJlcn1nZXQgeWVhcklTTygpe3JldHVybiB0aGlzLl9kYXRlLndlZWtZZWFyfWdldCBtb250aEpTKCl7cmV0dXJuIHRoaXMuX2RhdGUubW9udGgtMX1nZXQgeWVhcigpe3JldHVybiB0aGlzLl9kYXRlLnllYXJ9Z2V0IG1pbnV0ZSgpe3JldHVybiB0aGlzLl9kYXRlLm1pbnV0ZX1nZXQgem9uZSgpe3JldHVybiB0aGlzLl9kYXRlLnpvbmV9Z2V0IHRpbWVab25lT2Zmc2V0KCl7cmV0dXJuIHRoaXMuaXNVbmtub3duVGltZVpvbmU/MDp0aGlzLl9kYXRlLm9mZnNldH1nZXQgdGltZVpvbmUoKXtpZih0aGlzLmlzVW5rbm93blRpbWVab25lKXJldHVyblwidW5rbm93blwiO2lmKFwic3lzdGVtXCI9PT10aGlzLl9kYXRlLnpvbmUudHlwZSlyZXR1cm5cInN5c3RlbVwiO2NvbnN0IGU9dGhpcy56b25lO3JldHVyblwiZml4ZWRcIj09PWUudHlwZT8wPT09ZS5maXhlZD9cInV0Y1wiOmUuZm9ybWF0T2Zmc2V0KDAsXCJzaG9ydFwiKTplLm5hbWV9c3RyaW5naWZ5KCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9KU0RhdGUoKSl9cGx1cyhlKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZS5wbHVzKGUpKX1kaWZmKGUsdD1cIm1pbGxpc2Vjb25kc1wiKXtyZXR1cm4gdGhpcy5fZGF0ZS5kaWZmKGUuX2RhdGUsdClbdF19dG9JU09TdHJpbmcoZSl7cmV0dXJuIGU/dGhpcy5fZGF0ZS50b0lTTyh7c3VwcHJlc3NNaWxsaXNlY29uZHM6ITAsaW5jbHVkZU9mZnNldDohdGhpcy5pc1Vua25vd25UaW1lWm9uZX0pOnRoaXMuX2RhdGUudG9JU08oe2luY2x1ZGVPZmZzZXQ6IXRoaXMuaXNVbmtub3duVGltZVpvbmV9KX10b0Zvcm1hdChlLHQpe3JldHVybiB0aGlzLl9kYXRlLnRvRm9ybWF0KGUsdCl9dG9KU0RhdGUoKXtyZXR1cm4gdGhpcy5fZGF0ZS50b0pTRGF0ZSgpfXRvU1FMU3RyaW5nKCl7cmV0dXJuXCJ0aW1lc3RhbXAgJ1wiK3RoaXMuX2RhdGUudG9Gb3JtYXQoXCJ5eXl5LUxMLWRkIEhIOm1tOnNzXCIpK1wiJ1wifXRvRGF0ZVRpbWUoKXtyZXR1cm4gdGhpcy5fZGF0ZX10b051bWJlcigpe3JldHVybiB0aGlzLl9kYXRlLnRvTWlsbGlzKCl9Z2V0VGltZSgpe3JldHVybiB0aGlzLl9kYXRlLnRvTWlsbGlzKCl9dG9VVEMoKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZS50b1VUQygpKX10b0xvY2FsKCl7cmV0dXJuIG5ldyBjKHRoaXMuX2RhdGUudG9Mb2NhbCgpKX10b1N0cmluZygpe3JldHVybiB0aGlzLnRvSVNPU3RyaW5nKCEwKX19ZnVuY3Rpb24gdShlKXtpZihlIGluc3RhbmNlb2YgcilyZXR1cm4gZTtpZihcInN5c3RlbVwiPT09ZS50b0xvd2VyQ2FzZSgpKXJldHVyblwic3lzdGVtXCI7aWYoXCJ1dGNcIj09PWUudG9Mb3dlckNhc2UoKSlyZXR1cm5cInV0Y1wiO2lmKFwidW5rbm93blwiPT09ZS50b0xvd2VyQ2FzZSgpKXJldHVybiBpLmluc3RhbmNlO2lmKC9eW1xcK1xcLV0/WzAtOV17MSwyfShbOl1bMC05XXsyfSk/JC8udGVzdChlKSl7Y29uc3QgdD1zLnBhcnNlU3BlY2lmaWVyKFwiVVRDXCIrKGUuc3RhcnRzV2l0aChcIitcIil8fGUuc3RhcnRzV2l0aChcIi1cIik/XCJcIjpcIitcIikrZSk7aWYodClyZXR1cm4gdH1jb25zdCBuPXQuY3JlYXRlKGUpO2lmKCFuLmlzVmFsaWQpdGhyb3cgbmV3IGQoby5UaW1lWm9uZU5vdFJlY29nbmlzZWQpO3JldHVybiBufWV4cG9ydHtjIGFzIEFyY2FkZURhdGUsZCBhcyBBcmNhZGVEYXRlRXJyb3IsbyBhcyBBcmNhZGVEYXRlRXJyb3JDb2RlcyxhIGFzIEFyY2FkZURhdGVFcnJvck1lc3NhZ2VzLGkgYXMgVW5rbm93blRpbWVab25lLHUgYXMgY3JlYXRlRGF0ZVRpbWVab25lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7VW5rbm93blRpbWVab25lIGFzIGUsQXJjYWRlRGF0ZUVycm9yIGFzIHQsQXJjYWRlRGF0ZUVycm9yQ29kZXMgYXMgaX1mcm9tXCIuL0FyY2FkZURhdGUuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL3RpbWUvVGltZVJlZmVyZW5jZS5qc1wiO2ltcG9ydHtab25lIGFzIHIsU3lzdGVtWm9uZSBhcyBzLEZpeGVkT2Zmc2V0Wm9uZSBhcyBkLElBTkFab25lIGFzIG99ZnJvbVwibHV4b25cIjtpbXBvcnR7Y29udmVydExlZ2FjeVRpbWVab25lIGFzIGZ9ZnJvbVwiLi4vdGltZS90aW1lUmVmZXJlbmNlVXRpbHMuanNcIjtmdW5jdGlvbiBsKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYX1mdW5jdGlvbiBtKG4pe2lmKCFuKXJldHVybiBudWxsO2lmKGwobikmJihuPWMobi50b0pTT04oKSkpLG4gaW5zdGFuY2VvZiByKXJldHVybiBuO2lmKFwidW5rbm93blwiPT09bi50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmluc3RhbmNlO2lmKFwic3lzdGVtXCI9PT1uLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHMuaW5zdGFuY2U7aWYoXCJ1dGNcIj09PW4udG9Mb3dlckNhc2UoKSlyZXR1cm4gZC51dGNJbnN0YW5jZTtpZigvXltcXCtcXC1dP1swLTldezEsMn0oWzpdWzAtOV17Mn0pPyQvLnRlc3Qobikpe2NvbnN0IGU9ZC5wYXJzZVNwZWNpZmllcihcIlVUQ1wiKyhuLnN0YXJ0c1dpdGgoXCIrXCIpfHxuLnN0YXJ0c1dpdGgoXCItXCIpP1wiXCI6XCIrXCIpK24pO2lmKGUpcmV0dXJuIGV9Y29uc3QgYT1vLmNyZWF0ZShuKTtpZighYS5pc1ZhbGlkKXRocm93IG5ldyB0KGkuVGltZVpvbmVOb3RSZWNvZ25pc2VkKTtyZXR1cm4gYX1mdW5jdGlvbiBjKGUpe3JldHVybiBlPy50aW1lWm9uZUlBTkE/ZT8udGltZVpvbmVJQU5BOmU/LnRpbWVab25lP2YoZSxcIlwiKTpcIlwifWNsYXNzIFR7Y29uc3RydWN0b3IoKXt0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE9bnVsbCx0aGlzLl9maWVsZFRpbWVab25lSW5kZXg9e30sdGhpcy5fZmllbGRJbmRleD1udWxsLHRoaXMuX2lhbmFQcmVmZXJyZWQ9bnVsbCx0aGlzLl9pYW5hVGltZUluZm89bnVsbCx0aGlzLl9pYW5hRWRpdEZpZWxkcz1udWxsLHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM9bnVsbH1zdGF0aWMgY3JlYXRlKGUsdCl7Y29uc3QgaT1uZXcgVDtyZXR1cm4gaS5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPXQsaS5fZmllbGRJbmRleD1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpLGl9c3RhdGljIGNyZWF0ZUZyb21MYXllcihlKXtpZighZSlyZXR1cm4gbnVsbDtpZighZS5maWVsZHNJbmRleClyZXR1cm4hZS5kZWNsYXJlZENsYXNzJiZlLmZpZWxkcz9ULmNyZWF0ZShlLmZpZWxkcyxlKTpudWxsO2NvbnN0IHQ9bmV3IFQ7cmV0dXJuIHQuX2ZpZWxkSW5kZXg9ZS5maWVsZHNJbmRleCx0LmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE9e3RpbWVJbmZvOmU/LnRpbWVJbmZvPy50b0pTT04oKT8/bnVsbCxlZGl0RmllbGRzSW5mbzplPy5lZGl0RmllbGRzSW5mbz8udG9KU09OKCk/P251bGwsZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U6ZT8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U/LnRvSlNPTigpPz9udWxsLHByZWZlcnJlZFRpbWVSZWZlcmVuY2U6ZT8ucHJlZmVycmVkVGltZVJlZmVyZW5jZT8udG9KU09OKCk/P251bGwsZGF0ZXNJblVua25vd25UaW1lem9uZTohMD09PWU/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9LHR9ZmllbGRUaW1lWm9uZShlKXtjb25zdCB0PXRoaXMuX2ZpZWxkSW5kZXg/LmdldChlKTtpZighdClyZXR1cm4gbnVsbDtpZihcImRhdGVcIiE9PXQudHlwZSYmXCJlc3JpRmllbGRUeXBlRGF0ZVwiIT09dC50eXBlKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5fZmllbGRUaW1lWm9uZUluZGV4W3QubmFtZV07aWYodm9pZCAwIT09aSlyZXR1cm4gaTtjb25zdCBuPVt7ZmllbGQ6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5lZGl0RmllbGRzSW5mbz8uY3JlYXRpb25EYXRlRmllbGQsdGltZVJlZmVyZW5jZTp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSxpc3Vua25vd246ITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9LHtmaWVsZDp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5lZGl0RGF0ZUZpZWxkLHRpbWVSZWZlcmVuY2U6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5lZGl0RmllbGRzSW5mbz8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2UsaXN1bmtub3duOiEwPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlc0luVW5rbm93blRpbWV6b25lfSx7ZmllbGQ6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8uc3RhcnRUaW1lRmllbGQsdGltZVJlZmVyZW5jZTp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LnRpbWVJbmZvPy50aW1lUmVmZXJlbmNlLGlzdW5rbm93bjohMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZX0se2ZpZWxkOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LmVuZFRpbWVGaWVsZCx0aW1lUmVmZXJlbmNlOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LnRpbWVSZWZlcmVuY2UsaXN1bmtub3duOiEwPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlc0luVW5rbm93blRpbWV6b25lfV07Zm9yKGNvbnN0IHIgb2YgbilpZihyLmZpZWxkPT09dC5uYW1lKXtjb25zdCBlPXRoaXMuY29udmVydFRvSUFOQShyLnRpbWVSZWZlcmVuY2Usci5pc3Vua25vd24pO3JldHVybiB0aGlzLl9maWVsZFRpbWVab25lSW5kZXhbdC5uYW1lXT1lLGV9Y29uc3QgYT10aGlzLmNvbnZlcnRUb0lBTkEodGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSx0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpO3JldHVybiB0aGlzLl9maWVsZFRpbWVab25lSW5kZXhbdC5uYW1lXT1hLGF9Y29udmVydFRvSUFOQShlLHQpe3JldHVybiB0P1widW5rbm93blwiOmMoZSl9Z2V0IGxheWVyUHJlZmVycmVkVGltZVpvbmUoKXtpZihudWxsIT09dGhpcy5faWFuYVByZWZlcnJlZClyZXR1cm4gdGhpcy5faWFuYVByZWZlcnJlZDt0aGlzLl9pYW5hUHJlZmVycmVkPVwiXCI7Y29uc3QgZT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LnByZWZlcnJlZFRpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFQcmVmZXJyZWQ9dGhpcy5jb252ZXJ0VG9JQU5BKGUsITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpLHRoaXMuX2lhbmFQcmVmZXJyZWR9Z2V0IGxheWVyVGltZUluZm9UaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hVGltZUluZm8pcmV0dXJuIHRoaXMuX2lhbmFUaW1lSW5mbzt0aGlzLl9pYW5hVGltZUluZm89XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LnRpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFUaW1lSW5mbz10aGlzLmNvbnZlcnRUb0lBTkEoZSwhMSksdGhpcy5faWFuYVRpbWVJbmZvfWdldCBsYXllckVkaXRGaWVsZHNUaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hRWRpdEZpZWxkcylyZXR1cm4gdGhpcy5faWFuYUVkaXRGaWVsZHM7dGhpcy5faWFuYUVkaXRGaWVsZHM9XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZWRpdEZpZWxkc0luZm8/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlO3JldHVybiB0aGlzLl9pYW5hRWRpdEZpZWxkcz10aGlzLmNvbnZlcnRUb0lBTkEoZSx0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpLHRoaXMuX2lhbmFFZGl0RmllbGRzfWdldCBsYXllckRhdGVGaWVsZHNUaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hTGF5ZXJEYXRlRmllbGRzKXJldHVybiB0aGlzLl9pYW5hTGF5ZXJEYXRlRmllbGRzO3RoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM9XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM9dGhpcy5jb252ZXJ0VG9JQU5BKGUsITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmUpLHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHN9fWV4cG9ydHtUIGFzIERhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCxtIGFzIGNvbnZlcnRUaW1lUmVmZXJlbmNlLGMgYXMgY29udmVydFRvSUFOQX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtjbGFtcCBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e21hcE1hbnkgYXMgcyxmb3JFYWNoU29tZSBhcyByLGFwcGx5U29tZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7Y3JlYXRlUmVzb2x2ZXIgYXMgbixpc0Fib3J0RXJyb3IgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtkaWZmIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGlmZlV0aWxzLmpzXCI7aW1wb3J0e1dhdGNoVXBkYXRpbmdUcmFja2luZyBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9XYXRjaFVwZGF0aW5nVHJhY2tpbmcuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtNQVhfRklMVEVSUyBhcyBkLEhJR0hMSUdIVF9GTEFHIGFzIHAsQVRUUklCVVRFX0RBVEFfVlYgYXMgYyxOQU5fTUFHSUNfTlVNQkVSIGFzIGcsQVRUUklCVVRFX0RBVEFfQU5JTUFUSU9OIGFzIF8sQVRUUklCVVRFX0RBVEFfR1BHUFUgYXMgZn1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7RElTUExBWV9JRF9UWVBFX0FHR1JFR0FURSBhcyBtLERJU1BMQVlfSURfVFlQRV9GRUFUVVJFIGFzIHksZ2V0RGlzcGxheUlkVGV4ZWwgYXMgYixnZXREaXNwbGF5SWRUeXBlIGFzIHgsZ2V0RGlzcGxheUlkRmlsdGVyTWFzayBhcyBTfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7Z2V0UGl4ZWxBcnJheUN0b3IgYXMgVH1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlRGVidWdMb2dnZXIgYXMgeixERUJVR19BVFRSX1VQREFURVMgYXMgVX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvdXRpbC9kZWJ1Zy5qc1wiO2ltcG9ydHtnZXRWaXN1YWxWYXJpYWJsZVNpemVWYWx1ZVJlcHJlc2VudGF0aW9uUmF0aW8gYXMgQX1mcm9tXCIuLi90aWxlUmVuZGVyZXJzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVzVXRpbHMuanNcIjtpbXBvcnR7UGl4ZWxUeXBlIGFzIHd9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjb25zdCBFPWUuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy5sYXllcnMuMmQuZmVhdHVyZXMuc3VwcG9ydC5BdHRyaWJ1dGVTdG9yZVwiKSxrPXooVSxFKSxEPXtzaGFyZWRBcnJheUJ1ZmZlcjpoYXMoXCJlc3JpLXNoYXJlZC1hcnJheS1idWZmZXJcIiksYXRvbWljczpoYXMoXCJlc3JpLWF0b21pY3NcIil9O2Z1bmN0aW9uIEYodCxlKXtyZXR1cm4gaT0+ZSh0KGkpKX1jbGFzcyBJe2NvbnN0cnVjdG9yKHQsZSxpLHMpe3RoaXMuc2l6ZT0wLHRoaXMudGV4ZWxTaXplPTQsdGhpcy5kaXJ0eVN0YXJ0PTAsdGhpcy5kaXJ0eUVuZD0wO2NvbnN0e3BpeGVsVHlwZTpyLGxheW91dDphLHRleHR1cmVPbmx5Om59PXM7dGhpcy50ZXh0dXJlT25seT1ufHwhMSx0aGlzLnBpeGVsVHlwZT1yLHRoaXMuX2N0eXBlPWUsdGhpcy5sYXlvdXQ9YSx0aGlzLl9yZXNldFJhbmdlKCksdGhpcy5fc2hhcmVkPXQsdGhpcy5zaXplPWksbnx8KHRoaXMuZGF0YT10aGlzLl9pbml0RGF0YShyLGksdCxlKSl9Z2V0IGJ1ZmZlcigpe3JldHVybiBhKHRoaXMuZGF0YSwodD0+dC5idWZmZXIpKX11bnNldENvbXBvbmVudEFsbFRleGVscyh0LGUpe2NvbnN0IGk9dGhpcy5kYXRhO2ZvcihsZXQgcz0wO3M8dGhpcy5zaXplKnRoaXMuc2l6ZTtzKyspaVtzKnRoaXMudGV4ZWxTaXplK3RdJj1+ZTt0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPXRoaXMuc2l6ZSp0aGlzLnNpemUtMX1zZXRDb21wb25lbnRBbGxUZXhlbHModCxlKXtjb25zdCBpPXRoaXMuZGF0YTtmb3IobGV0IHM9MDtzPHRoaXMuc2l6ZSp0aGlzLnNpemU7cysrKWlbcyp0aGlzLnRleGVsU2l6ZSt0XXw9MjU1JmU7dGhpcy5kaXJ0eVN0YXJ0PTAsdGhpcy5kaXJ0eUVuZD10aGlzLnNpemUqdGhpcy5zaXplLTF9c2V0Q29tcG9uZW50KHQsZSxpKXtjb25zdCBzPXRoaXMuZGF0YTtmb3IoY29uc3QgciBvZiBpKXNbcip0aGlzLnRleGVsU2l6ZSt0XXw9ZSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LHIpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxyKX1zZXRDb21wb25lbnRUZXhlbCh0LGUsaSl7dGhpcy5kYXRhW2kqdGhpcy50ZXhlbFNpemUrdF18PWUsdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxpKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQsaSl9dW5zZXRDb21wb25lbnRUZXhlbCh0LGUsaSl7dGhpcy5kYXRhW2kqdGhpcy50ZXhlbFNpemUrdF0mPX5lLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQsaSksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLGkpfWdldERhdGEodCxlKXtjb25zdCBpPWIodCk7cmV0dXJuIHRoaXMuZGF0YVtpKnRoaXMudGV4ZWxTaXplK2VdfXNldERhdGEodCxlLGkpe2NvbnN0IHM9Yih0KSxyPTE8PGU7MCE9KHRoaXMubGF5b3V0JnIpP251bGwhPXRoaXMuZGF0YSYmKHRoaXMuZGF0YVtzKnRoaXMudGV4ZWxTaXplK2VdPWksdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxzKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQscykpOkUuZXJyb3IoXCJtYXB2aWV3LWF0dHJpYnV0ZXMtc3RvcmVcIixcIlRyaWVkIHRvIHNldCBhIHZhbHVlIGZvciBhIHRleGVsJ3MgcmVhZG9ubHkgY29tcG9uZW50XCIpfWxvY2soKXt0aGlzLnBpeGVsVHlwZT09PXcuVU5TSUdORURfQllURSYmdGhpcy5fc2hhcmVkJiZELmF0b21pY3MmJlwibG9jYWxcIiE9PXRoaXMuX2N0eXBlJiZBdG9taWNzLnN0b3JlKHRoaXMuZGF0YSwwLDEpfXVubG9jaygpe3RoaXMucGl4ZWxUeXBlPT09dy5VTlNJR05FRF9CWVRFJiZ0aGlzLl9zaGFyZWQmJkQuYXRvbWljcyYmXCJsb2NhbFwiIT09dGhpcy5fY3R5cGUmJkF0b21pY3Muc3RvcmUodGhpcy5kYXRhLDAsMCl9ZXhwYW5kKHQpe2lmKHRoaXMuc2l6ZT10LCF0aGlzLnRleHR1cmVPbmx5KXtjb25zdCBlPXRoaXMuX2luaXREYXRhKHRoaXMucGl4ZWxUeXBlLHQsdGhpcy5fc2hhcmVkLHRoaXMuX2N0eXBlKSxpPXRoaXMuZGF0YTtlLnNldChpKSx0aGlzLmRhdGE9ZX19dG9NZXNzYWdlKCl7Y29uc3QgdD10aGlzLmRpcnR5U3RhcnQsZT10aGlzLmRpcnR5RW5kLGk9dGhpcy50ZXhlbFNpemU7aWYodD5lKXJldHVybiBudWxsO3RoaXMuX3Jlc2V0UmFuZ2UoKTtjb25zdCBzPSEodGhpcy5fc2hhcmVkfHxcImxvY2FsXCI9PT10aGlzLl9jdHlwZSkscj10aGlzLnBpeGVsVHlwZSxhPXRoaXMubGF5b3V0LG49dGhpcy5kYXRhO3JldHVybntzdGFydDp0LGVuZDplLGRhdGE6cyYmbi5zbGljZSh0KmksKGUrMSkqaSl8fG51bGwscGl4ZWxUeXBlOnIsbGF5b3V0OmF9fV9pbml0RGF0YSh0LGUsaSxzKXtjb25zdCByPWkmJlwibG9jYWxcIiE9PXM/U2hhcmVkQXJyYXlCdWZmZXI6QXJyYXlCdWZmZXIsYT1UKHQpLG49bmV3IGEobmV3IHIoZSplKjQqYS5CWVRFU19QRVJfRUxFTUVOVCkpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bys9NCluW28rMV09MjU1O3JldHVybiBufV9yZXNldFJhbmdlKCl7dGhpcy5kaXJ0eVN0YXJ0PTIxNDc0ODM2NDcsdGhpcy5kaXJ0eUVuZD0wfX1jbGFzcyBCe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fY2xpZW50PXQsdGhpcy5jb25maWc9ZSx0aGlzLnVwZGF0aW5nSGFuZGxlcz1uZXcgaCx0aGlzLl9ibG9ja3M9bmV3IEFycmF5LHRoaXMuX2ZpbHRlcnM9bmV3IEFycmF5KGQpLHRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPW51bGwsdGhpcy5fdGFyZ2V0VHlwZT0wLHRoaXMuX2Fib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2hhc1NjYWxlRXhwcj0hMSx0aGlzLl9zaXplPTMyLHRoaXMuX25leHRVcGRhdGU9bnVsbCx0aGlzLl9jdXJyVXBkYXRlPW51bGwsdGhpcy5faWRzVG9IaWdobGlnaHQ9bmV3IFNldDtjb25zdCBpPWUuc3VwcG9ydHNUZXh0dXJlRmxvYXQ/dy5GTE9BVDp3LlVOU0lHTkVEX0JZVEU7ayhgQ3JlYXRpbmcgQXR0cmlidXRlU3RvcmUgJHtELnNoYXJlZEFycmF5QnVmZmVyP1wid2l0aFwiOlwid2l0aG91dFwifSBzaGFyZWQgbWVtb3J5YCksdGhpcy5fYmxvY2tEZXNjcmlwdG9ycz1be3BpeGVsVHlwZTp3LlVOU0lHTkVEX0JZVEUsbGF5b3V0OjF9LHtwaXhlbFR5cGU6dy5VTlNJR05FRF9CWVRFLGxheW91dDoxNSx0ZXh0dXJlT25seTohMH0se3BpeGVsVHlwZTp3LlVOU0lHTkVEX0JZVEUsbGF5b3V0OjE1LHRleHR1cmVPbmx5OiEwfSx7cGl4ZWxUeXBlOmksbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOmksbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOmksbGF5b3V0OjE1fSx7cGl4ZWxUeXBlOmksbGF5b3V0OjE1fV0sdGhpcy5fYmxvY2tzPXRoaXMuX2Jsb2NrRGVzY3JpcHRvcnMubWFwKCgoKT0+bnVsbCkpfWRlc3Ryb3koKXt0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQoKSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCl9Z2V0IGhhc1NjYWxlRXhwcigpe3JldHVybiB0aGlzLl9oYXNTY2FsZUV4cHJ9Z2V0IF9zaWduYWwoKXtyZXR1cm4gdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH1nZXQgaGFzSGlnaGxpZ2h0KCl7cmV0dXJuIHRoaXMuX2lkc1RvSGlnaGxpZ2h0LnNpemU+MH1pc1VwZGF0aW5nKCl7Y29uc3QgdD10aGlzLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZ3x8ISF0aGlzLl9uZXh0VXBkYXRlO3JldHVybiBoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSYmY29uc29sZS5sb2coYFVwZGF0aW5nIEF0dHJpYnV0ZVN0b3JlOiAke3R9XFxuICAtPiB1cGRhdGluZ0hhbmRsZXMgJHt0aGlzLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZ30gKGN1cnJVcGRhdGU6ICR7ISF0aGlzLl9jdXJyVXBkYXRlfSlcXG4gIC0+IG5leHRVcGRhdGU6ICR7ISF0aGlzLl9uZXh0VXBkYXRlfVxcbmApLHR9dXBkYXRlKHQsZSl7dGhpcy5jb25maWc9ZTtjb25zdCBpPWUuc2NoZW1hLnByb2Nlc3NvcnNbMF0uc3RvcmFnZSxzPWwodGhpcy5fc2NoZW1hLGkpO2lmKCh0LnRhcmdldHMuZmVhdHVyZXx8dC50YXJnZXRzLmFnZ3JlZ2F0ZSkmJih0LnN0b3JhZ2UuZGF0YT0hMCkscyYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gQXR0cmlidXRlU3RvcmU6XCIscyksdC5zdG9yYWdlLmRhdGE9ITAsdGhpcy5fc2NoZW1hPWksdGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm89bnVsbCxudWxsIT1pKSl7c3dpdGNoKGkudGFyZ2V0KXtjYXNlXCJmZWF0dXJlXCI6dGhpcy5fdGFyZ2V0VHlwZT15O2JyZWFrO2Nhc2VcImFnZ3JlZ2F0ZVwiOnRoaXMuX3RhcmdldFR5cGU9bX1pZihcInN1YnR5cGVcIj09PWkudHlwZSl7dGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm89e2lzU3VidHlwZTohMCxzdWJ0eXBlRmllbGQ6aS5zdWJ0eXBlRmllbGQsbWFwOm5ldyBNYXB9O2Zvcihjb25zdCB0IGluIGkubWFwcGluZyl7Y29uc3QgZT1pLm1hcHBpbmdbdF07aWYobnVsbCE9ZSYmbnVsbCE9ZS52dk1hcHBpbmcpZm9yKGNvbnN0IGkgb2YgZS52dk1hcHBpbmcpdGhpcy5fYmluZEF0dHJpYnV0ZShpLHBhcnNlSW50KHQsMTApKX19ZWxzZXtpZih0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz17aXNTdWJ0eXBlOiExLG1hcDpuZXcgTWFwfSxudWxsIT1pLnZ2TWFwcGluZylmb3IoY29uc3QgdCBvZiBpLnZ2TWFwcGluZyl0aGlzLl9iaW5kQXR0cmlidXRlKHQpO2lmKG51bGwhPWkuYXR0cmlidXRlTWFwcGluZylmb3IoY29uc3QgdCBvZiBpLmF0dHJpYnV0ZU1hcHBpbmcpdGhpcy5fYmluZEF0dHJpYnV0ZSh0KX19fW9uVGlsZURhdGEodCxlKXtpZihudWxsPT1lLmFkZE9yVXBkYXRlKXJldHVybjtjb25zdCBpPWUuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtpLm5leHQoKTspe2NvbnN0IHQ9aS5nZXREaXNwbGF5SWQoKTt0aGlzLnNldEF0dHJpYnV0ZURhdGEodCxpKX19YXN5bmMgc2V0SGlnaGxpZ2h0KHQsZSl7Y29uc3QgaT0xLHM9dGhpcy5fZ2V0QmxvY2soMCkscj1lLm1hcCgodD0+Yih0KSkpO3MubG9jaygpLHMudW5zZXRDb21wb25lbnRBbGxUZXhlbHMoMCxpKSxzLnNldENvbXBvbmVudCgwLGkscikscy51bmxvY2soKSx0aGlzLl9pZHNUb0hpZ2hsaWdodC5jbGVhcigpO2Zvcihjb25zdCBhIG9mIHQpdGhpcy5faWRzVG9IaWdobGlnaHQuYWRkKGEpO2F3YWl0IHRoaXMuc2VuZFVwZGF0ZXMoKX1hc3luYyB1cGRhdGVGaWx0ZXJzKHQsZSxpKXtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjp1cGRhdGVGaWx0ZXJzXCIpO2NvbnN0e3NlcnZpY2U6cyxzcGF0aWFsUmVmZXJlbmNlOnJ9PWkse2ZpbHRlcnM6YX09ZSxuPWEubWFwKCgodCxlKT0+dGhpcy5fdXBkYXRlRmlsdGVyKHQsZSxzLHIpKSksbz0oYXdhaXQgUHJvbWlzZS5hbGwobikpLnNvbWUoKHQ9PnQpKTtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjp1cGRhdGVGaWx0ZXJzIC0gZmluc2loZWRcIiksbyYmKHQuc3RvcmFnZS5maWx0ZXJzPSEwLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gQXR0cmlidXRlU3RvcmU6XCIsXCJGaWx0ZXJzIGNoYW5nZWRcIikpfXNldERhdGEodCxlLGkscyl7Y29uc3Qgcj1iKHQpO3RoaXMuX2Vuc3VyZVNpemVGb3JUZXhlbChyKSx0aGlzLl9nZXRCbG9jayhlKS5zZXREYXRhKHQsaSxzKX1nZXREYXRhKHQsZSxpKXtyZXR1cm4gdGhpcy5fZ2V0QmxvY2soZSkuZ2V0RGF0YSh0LGkpfWdldEhpZ2hsaWdodEZsYWcodCl7cmV0dXJuIHRoaXMuX2lkc1RvSGlnaGxpZ2h0Lmhhcyh0KT9wOjB9dW5zZXRBdHRyaWJ1dGVEYXRhKHQpe2NvbnN0IGU9Yih0KTt0aGlzLl9nZXRCbG9jaygwKS5zZXREYXRhKGUsMCwwKX1zZXRBdHRyaWJ1dGVEYXRhKHQsZSl7Y29uc3Qgcz1iKHQpO2lmKHRoaXMuX2Vuc3VyZVNpemVGb3JUZXhlbChzKSx0aGlzLl9nZXRCbG9jaygwKS5zZXREYXRhKHMsMCx0aGlzLmdldEZpbHRlckZsYWdzKGUpKSx0aGlzLl90YXJnZXRUeXBlIT09eCh0KSlyZXR1cm47Y29uc3Qgcj10aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbyxhPXRoaXMuY29uZmlnLnN1cHBvcnRzVGV4dHVyZUZsb2F0PzE6MixuPTQ7bGV0IG89bnVsbDtyJiYobz1yLmlzU3VidHlwZT9yLm1hcC5nZXQoZS5yZWFkQXR0cmlidXRlKHIuc3VidHlwZUZpZWxkKSk6ci5tYXAsbyYmby5zaXplJiZvLmZvckVhY2goKCh0LHIpPT57Y29uc3Qgbz1yKmElbixsPU1hdGguZmxvb3IociphL24pLGg9dGhpcy5fZ2V0QmxvY2sobCtjKSx1PXQoZSk7aWYodGhpcy5jb25maWcuc3VwcG9ydHNUZXh0dXJlRmxvYXQpaC5zZXREYXRhKHMsbyx1KTtlbHNlIGlmKHU9PT1nKWguc2V0RGF0YShzLG8sMjU1KSxoLnNldERhdGEocyxvKzEsMjU1KTtlbHNle2NvbnN0IHQ9aShNYXRoLnJvdW5kKHUpLC0zMjc2NywzMjc2NikrMzI3NjgsZT0yNTUmdCxyPSg2NTI4MCZ0KT4+ODtoLnNldERhdGEocyxvLGUpLGguc2V0RGF0YShzLG8rMSxyKX19KSkpfXNlbmRVcGRhdGVzKCl7aWYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBdHRyaWJ1dGVTdG9yZTo6c2VuZFVwZGF0ZVwiKSx0aGlzLl9uZXh0VXBkYXRlKXJldHVybiB0aGlzLl9uZXh0VXBkYXRlLnByb21pc2U7aWYodGhpcy5fY3VyclVwZGF0ZSlyZXR1cm4gdGhpcy5fbmV4dFVwZGF0ZT1uKCksdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9uZXh0VXBkYXRlLnByb21pc2UpLHRoaXMuX25leHRVcGRhdGUucHJvbWlzZTtjb25zdCBlPXtibG9ja3M6dGhpcy5fYmxvY2tzLm1hcCgodD0+bnVsbCE9dD90LnRvTWVzc2FnZSgpOm51bGwpKX07cmV0dXJuIHRoaXMuX2N1cnJVcGRhdGU9dGhpcy5fY3JlYXRlUmVzb3VyY2VzKCkudGhlbigoKCk9Pntjb25zdCB0PSgpPT57aWYodGhpcy5fY3VyclVwZGF0ZT1udWxsLHRoaXMuX25leHRVcGRhdGUpe2NvbnN0IHQ9dGhpcy5fbmV4dFVwZGF0ZTt0aGlzLl9uZXh0VXBkYXRlPW51bGwsdGhpcy5zZW5kVXBkYXRlcygpLnRoZW4oKCgpPT50LnJlc29sdmUoKSkpfWVsc2UgaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBdHRyaWJ1dGVTdG9yZTo6c2VuZFVwZGF0ZTo6Tm8gYWRkaXRpb25hbCB1cGRhdGVzIHF1ZXVlZFwiKX07aGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBdHRyaWJ1dGVTdG9yZTo6c2VuZFVwZGF0ZTo6Y2xpZW50LnVwZGF0ZVwiKTtjb25zdCBpPXRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fY2xpZW50LnVwZGF0ZShlLHRoaXMuX3NpZ25hbCkudGhlbih0KS5jYXRjaCh0KSk7cmV0dXJuIHRoaXMuX2NsaWVudC5yZW5kZXIodGhpcy5fc2lnbmFsKSxpfSkpLmNhdGNoKChlPT57aWYobyhlKSlyZXR1cm4gdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsLHRoaXMuX2NyZWF0ZVJlc291cmNlcygpO0UuZXJyb3IobmV3IHQoXCJtYXB2aWV3LWF0dHJpYnV0ZS1zdG9yZVwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3IgZHVyaW5nIGNsaWVudCB1cGRhdGVcIixlKSl9KSksdGhpcy5fY3VyclVwZGF0ZX1fZW5zdXJlU2l6ZUZvclRleGVsKHQpe2Zvcig7dD49dGhpcy5fc2l6ZSp0aGlzLl9zaXplOylpZih0aGlzLl9leHBhbmQoKSlyZXR1cm59X2JpbmRBdHRyaWJ1dGUodCxlKXtmdW5jdGlvbiBpKCl7Y29uc3R7bm9ybWFsaXphdGlvbkZpZWxkOmV9PXQ7cmV0dXJuIGU/aT0+e2NvbnN0IHM9aS5yZWFkQXR0cmlidXRlKGUpO2lmKCFzKXJldHVybiBudWxsO3JldHVybiBpLnJlYWRBdHRyaWJ1dGUodC5maWVsZCkvc306ZT0+ZS5yZWFkQXR0cmlidXRlKHQuZmllbGQpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gdC5ub3JtYWxpemF0aW9uRmllbGQmJkUud2FybihcIm1hcHZpZXctYXJjYWRlXCIsXCJJZ25vcmluZyBub3JtYWxpemF0aW9uRmllbGQgc3BlY2lmaWVkIHdpdGggYW4gYXJjYWRlIGV4cHJlc3Npb24gd2hpY2ggaXMgbm90IHN1cHBvcnRlZC5cIiksZT0+ZS5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHQuZmllbGRJbmRleCl9bGV0IHI7aWYobnVsbCE9dC5maWVsZEluZGV4KXI9cygpO2Vsc2V7aWYoIXQuZmllbGQpcmV0dXJuO3I9aSgpfWNvbnN0e3ZhbHVlUmVwcmVzZW50YXRpb246YX09dDtpZihhKXtyPUYociwodD0+QSh0LGEpKSl9Y29uc3Qgbj10PT5udWxsPT09dHx8aXNOYU4odCl8fHQ9PT0xLzB8fHQ9PT0tMS8wP2c6dCxvPXRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvO2lmKG8uaXNTdWJ0eXBlKXtjb25zdCBpPW8ubWFwLmdldChlKT8/bmV3IE1hcDtpLnNldCh0LmJpbmRpbmcsRihyLG4pKSxvLm1hcC5zZXQoZSxpKX1lbHNlIG8ubWFwLnNldCh0LmJpbmRpbmcsRihyLG4pKX1fY3JlYXRlUmVzb3VyY2VzKCl7aWYobnVsbCE9dGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZSlyZXR1cm4gdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZTt0aGlzLl9nZXRCbG9jayhfKSx0aGlzLl9nZXRCbG9jayhmKSxrKFwiSW5pdGlhbGl6aW5nIEF0dHJpYnV0ZVN0b3JlXCIpO2NvbnN0IGU9e3NoYXJlZDpELnNoYXJlZEFycmF5QnVmZmVyJiYhKFwibG9jYWxcIj09PXRoaXMuX2NsaWVudC50eXBlKSxzaXplOnRoaXMuX3NpemUsYmxvY2tzOnModGhpcy5fYmxvY2tzLCh0PT4oe3RleHR1cmVPbmx5OnQudGV4dHVyZU9ubHksYnVmZmVyOnQuYnVmZmVyLHBpeGVsVHlwZTp0LnBpeGVsVHlwZX0pKSl9LGk9dGhpcy5fY2xpZW50LmluaXRpYWxpemUoZSx0aGlzLl9zaWduYWwpLmNhdGNoKChlPT57byhlKT90aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGw6RS5lcnJvcihuZXcgdChcIm1hcHZpZXctYXR0cmlidXRlLXN0b3JlXCIsXCJFbmNvdW50ZXJlZCBhbiBlcnJvciBkdXJpbmcgY2xpZW50IGluaXRpYWxpemF0aW9uXCIsZSkpfSkpO3JldHVybiB0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPWksaS50aGVuKCgoKT0+bnVsbD09dGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT90aGlzLl9jcmVhdGVSZXNvdXJjZXMoKTp2b2lkIDApKSxpfV9nZXRCbG9jayh0KXtjb25zdCBlPXRoaXMuX2Jsb2Nrc1t0XTtpZihudWxsIT1lKXJldHVybiBlO2soYEluaXRpYWxpemluZyBBdHRyaWJ1dGVCbG9jayBhdCBpbmRleCAke3R9YCk7Y29uc3QgaT1ELnNoYXJlZEFycmF5QnVmZmVyLHM9dGhpcy5fY2xpZW50LnR5cGUscj1uZXcgSShpLHMsdGhpcy5fc2l6ZSx0aGlzLl9ibG9ja0Rlc2NyaXB0b3JzW3RdKTtyZXR1cm4gdGhpcy5fYmxvY2tzW3RdPXIsdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsLHJ9X2V4cGFuZCgpe2lmKHRoaXMuX3NpemU8dGhpcy5jb25maWcubWF4VGV4dHVyZVNpemUpe2NvbnN0IHQ9dGhpcy5fc2l6ZTw8PTE7cmV0dXJuIGsoXCJFeHBhbmRpbmcgYmxvY2sgc2l6ZSB0b1wiLHQsdGhpcy5fYmxvY2tzKSxyKHRoaXMuX2Jsb2NrcywoZT0+ZS5leHBhbmQodCkpKSx0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGwsdGhpcy5fc2l6ZT10LDB9cmV0dXJuIEUuZXJyb3IobmV3IHQoXCJtYXB2aWV3LWxpbWl0YXRpb25zXCIsXCJNYXhpbXVtIG51bWJlciBvZiBvbnNjcmVlbiBmZWF0dXJlcyBleGNlZWRlZC5cIikpLC0xfWFzeW5jIF91cGRhdGVGaWx0ZXIodCxlLGkscyl7Y29uc3Qgcj10aGlzLl9maWx0ZXJzW2VdLGE9bnVsbCE9ciYmci5oYXNoO2lmKCFyJiYhdClyZXR1cm4hMTtpZihhPT09SlNPTi5zdHJpbmdpZnkodCkpcmV0dXJuITE7aWYobnVsbD09dCl7aWYoIXIpcmV0dXJuITE7Y29uc3QgdD0xPDxlKzEsaT10aGlzLl9nZXRCbG9jaygwKTtyZXR1cm4gdGhpcy5fZmlsdGVyc1tlXT1udWxsLGkuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKDAsdCksdGhpcy5zZW5kVXBkYXRlcygpLCEwfWNvbnN0IG49YXdhaXQgdGhpcy5fZ2V0RmlsdGVyKGUsaSk7cmV0dXJuIGF3YWl0IG4udXBkYXRlKHQscyksITB9YXN5bmMgX2dldEZpbHRlcih0LGUpe2NvbnN0IGk9dGhpcy5fZmlsdGVyc1t0XTtpZihudWxsIT1pKXJldHVybiBpO2NvbnN0e2RlZmF1bHQ6c309YXdhaXQgaW1wb3J0KFwiLi9GZWF0dXJlRmlsdGVyLmpzXCIpLHI9bmV3IHMoe2dlb21ldHJ5VHlwZTplLmdlb21ldHJ5VHlwZSxoYXNNOiExLGhhc1o6ITEsdGltZUluZm86ZS50aW1lSW5mbyxmaWVsZHNJbmRleDpuZXcgdShlLmZpZWxkcyl9KTtyZXR1cm4gdGhpcy5fZmlsdGVyc1t0XT1yLHJ9aXNWaXNpYmxlKHQpe3JldHVybiEhKDImdGhpcy5fZ2V0QmxvY2soMCkuZ2V0RGF0YSh0LDApKX1nZXRGaWx0ZXJGbGFncyh0KXtsZXQgZT0wO2NvbnN0IGk9Uyh0LmdldERpc3BsYXlJZCgpKTtmb3IobGV0IHI9MDtyPHRoaXMuX2ZpbHRlcnMubGVuZ3RoO3IrKyl7Y29uc3Qgcz0hIShpJjE8PHIpLGE9dGhpcy5fZmlsdGVyc1tyXTtlfD0oIXN8fG51bGw9PWF8fGEuY2hlY2sodCk/MTowKTw8cn1sZXQgcz0wO2lmKHRoaXMuX2lkc1RvSGlnaGxpZ2h0LnNpemUpe2NvbnN0IGU9dC5nZXRPYmplY3RJZCgpO3M9dGhpcy5nZXRIaWdobGlnaHRGbGFnKGUpfXJldHVybiBlPDwxfHN9fWV4cG9ydHtCIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtESVNQTEFZX0lEX1RFWEVMX01BU0sgYXMgdCxjcmVhdGVEaXNwbGF5SWQgYXMgZX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7aW1wb3J0e0Rpc3BsYXlJZEdlbmVyYXRvciBhcyBzfWZyb21cIi4vRGlzcGxheUlkR2VuZXJhdG9yLmpzXCI7aW1wb3J0e1N0YXRpY0JpdFNldCBhcyBpfWZyb21cIi4vU3RhdGljQml0U2V0LmpzXCI7ZnVuY3Rpb24gbih0LGUscyl7aWYoISh0Lmxlbmd0aD5lKSlmb3IoO3QubGVuZ3RoPD1lOyl0LnB1c2gocyl9Y2xhc3Mgcntjb25zdHJ1Y3Rvcigpe3RoaXMuX251bWVyaWNzPVtdLHRoaXMuX3N0cmluZ3M9W10sdGhpcy5faWRHZW5lcmF0b3I9bmV3IHMsdGhpcy5fYWxsb2NhdGVkU2l6ZT0yNTYsdGhpcy5fYml0c2V0cz1bXSx0aGlzLl9pbnN0YW5jZUlkcz1bXSx0aGlzLl9ib3VuZHM9W119Y3JlYXRlQml0c2V0KCl7Y29uc3QgZT10aGlzLl9iaXRzZXRzLmxlbmd0aDtyZXR1cm4gdGhpcy5fYml0c2V0cy5wdXNoKGkuY3JlYXRlKHRoaXMuX2FsbG9jYXRlZFNpemUsdCkpLGUrMX1nZXRCaXRzZXQodCl7cmV0dXJuIHRoaXMuX2JpdHNldHNbdC0xXX1fZXhwYW5kKCl7dGhpcy5fYWxsb2NhdGVkU2l6ZTw8PTE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYml0c2V0cyl0LnJlc2l6ZSh0aGlzLl9hbGxvY2F0ZWRTaXplKX1fZW5zdXJlTnVtZXJpYyh0LGUpe3RoaXMuX251bWVyaWNzW3RdfHwodGhpcy5fbnVtZXJpY3NbdF09W10pO24odGhpcy5fbnVtZXJpY3NbdF0sZSwwKX1fZW5zdXJlSW5zdGFuY2VJZCh0KXtuKHRoaXMuX2luc3RhbmNlSWRzLHQsMCl9X2Vuc3VyZVN0cmluZyh0LGUpe3RoaXMuX3N0cmluZ3NbdF18fCh0aGlzLl9zdHJpbmdzW3RdPVtdKTtuKHRoaXMuX3N0cmluZ3NbdF0sZSxudWxsKX1jcmVhdGVEaXNwbGF5SWQodD0hMSl7Y29uc3Qgcz10aGlzLl9pZEdlbmVyYXRvci5jcmVhdGVJZCgpO3JldHVybiBzPnRoaXMuX2FsbG9jYXRlZFNpemUmJnRoaXMuX2V4cGFuZCgpLGUocyx0KX1yZWxlYXNlRGlzcGxheUlkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2JpdHNldHMpdC51bnNldChlKTtyZXR1cm4gdGhpcy5faWRHZW5lcmF0b3IucmVsZWFzZUlkKGUmdCl9Z2V0Q29tcHV0ZWROdW1lcmljKGUscyl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlJnQsMCl9c2V0Q29tcHV0ZWROdW1lcmljKGUscyxpKXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUmdCxpLDApfWdldENvbXB1dGVkU3RyaW5nKGUscyl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUmdCwwKX1zZXRDb21wdXRlZFN0cmluZyhlLHMsaSl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUmdCwwLGkpfWdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSxzKXtjb25zdCBpPWUmdDtyZXR1cm4gdGhpcy5fZW5zdXJlTnVtZXJpYyhzLGkpLHRoaXMuX251bWVyaWNzW3NdW2ldfXNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSxzLGkpe2NvbnN0IG49ZSZ0O3RoaXMuX2Vuc3VyZU51bWVyaWMocyxuKSx0aGlzLl9udW1lcmljc1tzXVtuXT1pfWdldEluc3RhbmNlSWQoZSl7Y29uc3Qgcz1lJnQ7cmV0dXJuIHRoaXMuX2Vuc3VyZUluc3RhbmNlSWQocyksdGhpcy5faW5zdGFuY2VJZHNbc119c2V0SW5zdGFuY2VJZChlLHMpe2NvbnN0IGk9ZSZ0O3RoaXMuX2Vuc3VyZUluc3RhbmNlSWQoaSksdGhpcy5faW5zdGFuY2VJZHNbaV09c31nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSxzKXtjb25zdCBpPWUmdDtyZXR1cm4gdGhpcy5fZW5zdXJlU3RyaW5nKHMsaSksdGhpcy5fc3RyaW5nc1tzXVtpXX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSxzLGkpe2NvbnN0IG49ZSZ0O3RoaXMuX2Vuc3VyZVN0cmluZyhzLG4pLHRoaXMuX3N0cmluZ3Nbc11bbl09aX1nZXRYTWluKGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KV19Z2V0WU1pbihlKXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKGUmdCkrMV19Z2V0WE1heChlKXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKGUmdCkrMl19Z2V0WU1heChlKXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKGUmdCkrM119c2V0Qm91bmRzKGUscyl7Y29uc3QgaT1zLnJlYWRIeWRyYXRlZEdlb21ldHJ5KCk7aWYoIWl8fCFpLmNvb3Jkcy5sZW5ndGgpcmV0dXJuITE7bGV0IHI9MS8wLHU9MS8wLG89LTEvMCxoPS0xLzA7aS5mb3JFYWNoVmVydGV4KCgodCxlKT0+e3I9TWF0aC5taW4ocix0KSx1PU1hdGgubWluKHUsZSksbz1NYXRoLm1heChvLHQpLGg9TWF0aC5tYXgoaCxlKX0pKTtjb25zdCBkPWUmdDtyZXR1cm4gbih0aGlzLl9ib3VuZHMsNCpkKzQsMCksdGhpcy5fYm91bmRzWzQqZF09cix0aGlzLl9ib3VuZHNbNCpkKzFdPXUsdGhpcy5fYm91bmRzWzQqZCsyXT1vLHRoaXMuX2JvdW5kc1s0KmQrM109aCwhMH19ZXhwb3J0e3IgYXMgQ29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlRGlzcGxheUlkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2NsYXNzIHJ7Y29uc3RydWN0b3IoKXt0aGlzLl9mcmVlSWRzPVtdLHRoaXMuX2lkQ291bnRlcj0xfWNyZWF0ZUlkKHI9ITEpe3JldHVybiBlKHRoaXMuX2dldEZyZWVJZCgpLHIpfXJlbGVhc2VJZChlKXt0aGlzLl9mcmVlSWRzLnB1c2goZSl9X2dldEZyZWVJZCgpe3JldHVybiB0aGlzLl9mcmVlSWRzLmxlbmd0aD90aGlzLl9mcmVlSWRzLnBvcCgpOnRoaXMuX2lkQ291bnRlcisrfX1leHBvcnR7ciBhcyBEaXNwbGF5SWRHZW5lcmF0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7QXJjYWRlRGF0ZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2FyY2FkZS9BcmNhZGVEYXRlLmpzXCI7aW1wb3J0e0RhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uLy4uL2FyY2FkZS9hcmNhZGVUaW1lVXRpbHMuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3Vud3JhcE9yVGhyb3cgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2dldENlbnRyb2lkT3B0aW1pemVkR2VvbWV0cnkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvY2VudHJvaWQuanNcIjtpbXBvcnR7Y29udmVydFRvR2VvbWV0cnkgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtTdGF0aWNCaXRTZXQgYXMgYX1mcm9tXCIuL1N0YXRpY0JpdFNldC5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7bGV0IGQ9MDtjb25zdCBoPWhhcyhcImZlYXR1cmVsYXllci1zaW1wbGlmeS10aHJlc2hvbGRzXCIpPz9bLjUsLjUsLjUsLjVdLHU9aFswXSxsPWhbMV0sYz1oWzJdLG09aFszXSxmPWhhcyhcImZlYXR1cmVsYXllci1zaW1wbGlmeS1wYXlsb2FkLXNpemUtZmFjdG9yc1wiKT8/WzEsMiw0XSxnPWZbMF0seT1mWzFdLF89ZlsyXSxwPWhhcyhcImZlYXR1cmVsYXllci1zaW1wbGlmeS1tb2JpbGUtZmFjdG9yXCIpPz8yLHg9aGFzKFwiZXNyaS1tb2JpbGVcIik7Y2xhc3MgSXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1cIkZlYXR1cmVTZXRSZWFkZXJcIix0aGlzLmFyY2FkZURlY2xhcmVkQ2xhc3M9XCJlc3JpLmFyY2FkZS5GZWF0dXJlXCIsdGhpcy5zZWVuPSExLHRoaXMuaW5zdGFuY2U9MCx0aGlzLl90eD0wLHRoaXMuX3R5PTAsdGhpcy5fc3g9MSx0aGlzLl9zeT0xLHRoaXMuX2RlbGV0ZWQ9bnVsbCx0aGlzLl9qb2luZWQ9W10sdGhpcy5fb2JqZWN0SWRUb0luZGV4PW51bGwsdGhpcy5fbGV2ZWw9MCx0aGlzLl9kYXRldGltZU1ldGFkYXRhPW51bGwsdGhpcy5jb250ZXh0VGltZVJlZmVyZW5jZT1udWxsLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9sYXllclNjaGVtYT10fXN0YXRpYyBjcmVhdGVJbnN0YW5jZSgpe3JldHVybiBkKyssZD1kPjY1NTM1PzA6ZCxkfWdldCBpc0VtcHR5KCl7cmV0dXJuIG51bGwhPXRoaXMuX2RlbGV0ZWQmJnRoaXMuX2RlbGV0ZWQuY291bnRTZXQoKT09PXRoaXMuZ2V0U2l6ZSgpfXNldCBsZXZlbChlKXt0aGlzLl9sZXZlbD1lfWdldEFyZWFTaW1wbGlmaWNhdGlvblRocmVzaG9sZChlLHQpe2xldCByPTE7Y29uc3Qgcz14P3A6MTt0PjRlNj9yPV8qczp0PjFlNj9yPXkqczp0PjVlNT9yPWcqczp0PjFlNSYmKHI9cyk7bGV0IGk9MDtlPjRlMz9pPW0qcjplPjJlMz9pPWMqcjplPjEwMD9pPWw6ZT4xNSYmKGk9dSk7bGV0IG49ODtyZXR1cm4gdGhpcy5fbGV2ZWw8ND9uPTE6dGhpcy5fbGV2ZWw8NT9uPTI6dGhpcy5fbGV2ZWw8NiYmKG49NCksaSpufWNyZWF0ZVF1YW50aXplZEV4dHJ1ZGVkUXVhZChlLHQpe3JldHVybiBuZXcgbihbNV0sW2UtMSx0LDEsLTEsMSwxLC0xLDEsLTEsLTFdKX1wYXJzZVRpbWVzdGFtcE9mZnNldChlKXtyZXR1cm4gZX1zZXRBcmNhZGVTcGF0aWFsUmVmZXJlbmNlKGUpe3RoaXMuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2U9ZX1hdHRhY2hTdG9yYWdlKGUpe3RoaXMuX3N0b3JhZ2U9ZX1nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCB0cmFuc2Zvcm0gZm9yIGZlYXR1cmVTZXRcIil9Z2V0U3RvcmFnZSgpe3JldHVybiB0aGlzLl9zdG9yYWdlfWdldENvbXB1dGVkTnVtZXJpYyhlKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KDApfXNldENvbXB1dGVkTnVtZXJpYyhlLHQpe3JldHVybiB0aGlzLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodCwwKX1nZXRDb21wdXRlZFN0cmluZyhlKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoMCl9c2V0Q29tcHV0ZWRTdHJpbmcoZSx0KXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoMCx0KX1nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUpe3JldHVybiB0aGlzLl9zdG9yYWdlLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlKX1zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUsdCl7dGhpcy5fc3RvcmFnZS5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHRoaXMuZ2V0RGlzcGxheUlkKCksZSx0KX1nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHRoaXMuZ2V0RGlzcGxheUlkKCksZSl9c2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2Uuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHRoaXMuZ2V0RGlzcGxheUlkKCksZSx0KX10cmFuc2Zvcm0oZSx0LHIscyl7Y29uc3QgaT10aGlzLmNvcHkoKTtyZXR1cm4gaS5fdHgrPWUsaS5fdHkrPXQsaS5fc3gqPXIsaS5fc3kqPXMsaX1yZWFkQXR0cmlidXRlKGUsdD0hMSl7Y29uc3Qgcj10aGlzLl9yZWFkQXR0cmlidXRlKGUsdCk7aWYodm9pZCAwIT09cilyZXR1cm4gcjtmb3IoY29uc3QgcyBvZiB0aGlzLl9qb2luZWQpe3Muc2V0SW5kZXgodGhpcy5nZXRJbmRleCgpKTtjb25zdCByPXMuX3JlYWRBdHRyaWJ1dGUoZSx0KTtpZih2b2lkIDAhPT1yKXJldHVybiByfX1yZWFkQXR0cmlidXRlcygpe2NvbnN0IGU9dGhpcy5fcmVhZEF0dHJpYnV0ZXMoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9qb2luZWQpe3Quc2V0SW5kZXgodGhpcy5nZXRJbmRleCgpKTtjb25zdCByPXQuX3JlYWRBdHRyaWJ1dGVzKCk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMocikpZVt0XT1yW3RdfXJldHVybiBlfWpvaW5BdHRyaWJ1dGVzKGUpe3RoaXMuX2pvaW5lZC5wdXNoKGUpfXJlYWRBcmNhZGVGZWF0dXJlKCl7cmV0dXJuIHRoaXN9aGFzRmllbGQoZSl7cmV0dXJuIHRoaXMuZmllbGRzLmhhcyhlKX1nZW9tZXRyeSgpe2NvbnN0IGU9dGhpcy5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpLHQ9aShlLHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00pLHI9byh0KTtyZXR1cm4gciYmKHIuc3BhdGlhbFJlZmVyZW5jZT10aGlzLl9hcmNhZGVTcGF0aWFsUmVmZXJlbmNlKSxyfWdldCBkYXRlVGltZVJlZmVyZW5jZUZpZWxkSW5kZXgoKXtyZXR1cm4gdGhpcy5fZGF0ZXRpbWVNZXRhZGF0YXx8KHRoaXMuX2RhdGV0aW1lTWV0YWRhdGE9dC5jcmVhdGUodGhpcy5fbGF5ZXJTY2hlbWEuZmllbGRzLHRoaXMuX2xheWVyU2NoZW1hKSksdGhpcy5fZGF0ZXRpbWVNZXRhZGF0YX1hdXRvY2FzdEFyY2FkZURhdGUodCxyKXtyZXR1cm4gciYmciBpbnN0YW5jZW9mIERhdGU/dGhpcy5pc1Vua25vd25EYXRlVGltZUZpZWxkKHQpP2UudW5rbm93bkRhdGVKU1RvQXJjYWRlRGF0ZShyKTplLmRhdGVKU0FuZFpvbmVUb0FyY2FkZURhdGUocix0aGlzLmNvbnRleHRUaW1lUmVmZXJlbmNlPy50aW1lWm9uZT8/XCJzeXN0ZW1cIik6cn1pc1Vua25vd25EYXRlVGltZUZpZWxkKGUpe3JldHVyblwidW5rbm93blwiPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZUZpZWxkSW5kZXg/LmZpZWxkVGltZVpvbmUoZSl9ZmllbGRTb3VyY2VUaW1lWm9uZShlKXtyZXR1cm4gdGhpcy5kYXRlVGltZVJlZmVyZW5jZUZpZWxkSW5kZXg/LmZpZWxkVGltZVpvbmUoZSk/P1wiXCJ9Z2V0IGxheWVyUHJlZmVycmVkVGltZVpvbmUoKXtyZXR1cm4gdGhpcy5kYXRlVGltZVJlZmVyZW5jZUZpZWxkSW5kZXg/LmxheWVyUHJlZmVycmVkVGltZVpvbmU/P1wiXCJ9ZmllbGQoZSl7aWYodGhpcy5oYXNGaWVsZChlKSlyZXR1cm4gdGhpcy5hdXRvY2FzdEFyY2FkZURhdGUoZSx0aGlzLnJlYWRBdHRyaWJ1dGUoZSwhMCkpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2pvaW5lZClpZih0LnNldEluZGV4KHRoaXMuZ2V0SW5kZXgoKSksdC5oYXNGaWVsZChlKSl7Y29uc3Qgcj10Ll9yZWFkQXR0cmlidXRlKGUsITApO3JldHVybiB0aGlzLmF1dG9jYXN0QXJjYWRlRGF0ZShlLHIpfXRocm93IG5ldyBFcnJvcihgRmllbGQgJHtlfSBkb2VzIG5vdCBleGlzdGApfXNldEZpZWxkKGUsdCl7dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHVwZGF0ZSBmZWF0dXJlIGF0dHJpYnV0ZSB2YWx1ZXMsIGZlYXR1cmUgaXMgcmVhZG9ubHlcIil9a2V5cygpe3JldHVybiB0aGlzLmZpZWxkcy5maWVsZHMubWFwKChlPT5lLm5hbWUpKX1jYXN0VG9UZXh0KGU9ITEpe2lmKCFlKXJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnJlYWRMZWdhY3lGZWF0dXJlKCkpO2NvbnN0IHQ9dGhpcy5yZWFkTGVnYWN5RmVhdHVyZSgpO2lmKCF0KXJldHVybiBKU09OLnN0cmluZ2lmeShudWxsKTtjb25zdCByPXtnZW9tZXRyeTp0Lmdlb21ldHJ5LGF0dHJpYnV0ZXM6ey4uLnQuYXR0cmlidXRlcz8/e319fTtmb3IoY29uc3QgcyBpbiByLmF0dHJpYnV0ZXMpe2NvbnN0IGU9ci5hdHRyaWJ1dGVzW3NdO2UgaW5zdGFuY2VvZiBEYXRlJiYoci5hdHRyaWJ1dGVzW3NdPWUuZ2V0VGltZSgpKX1yZXR1cm4gSlNPTi5zdHJpbmdpZnkocil9Z2RiVmVyc2lvbigpe3JldHVybiBudWxsfWZ1bGxTY2hlbWEoKXtyZXR1cm4gdGhpcy5fbGF5ZXJTY2hlbWF9Y2FzdEFzSnNvbihlPW51bGwpe3JldHVybnthdHRyaWJ1dGVzOnRoaXMuX3JlYWRBdHRyaWJ1dGVzKCksZ2VvbWV0cnk6ITA9PT1lPy5rZWVwR2VvbWV0cnlUeXBlP3RoaXMuZ2VvbWV0cnkoKTp0aGlzLmdlb21ldHJ5KCk/LnRvSlNPTigpPz9udWxsfX1jYXN0QXNKc29uQXN5bmMoZT1udWxsLHQ9bnVsbCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNhc3RBc0pzb24odCkpfXJlbW92ZUlkcyhlKXtpZihudWxsPT10aGlzLl9vYmplY3RJZFRvSW5kZXgpe2NvbnN0IGU9bmV3IE1hcCx0PXRoaXMuZ2V0Q3Vyc29yKCk7Zm9yKDt0Lm5leHQoKTspe2NvbnN0IHM9cih0LmdldE9iamVjdElkKCkpO2Uuc2V0KHMsdC5nZXRJbmRleCgpKX10aGlzLl9vYmplY3RJZFRvSW5kZXg9ZX1jb25zdCB0PXRoaXMuX29iamVjdElkVG9JbmRleDtmb3IoY29uc3QgciBvZiBlKXQuaGFzKHIpJiZ0aGlzLnJlbW92ZUF0SW5kZXgodC5nZXQocikpfXJlbW92ZUF0SW5kZXgoZSl7bnVsbD09dGhpcy5fZGVsZXRlZCYmKHRoaXMuX2RlbGV0ZWQ9YS5jcmVhdGUodGhpcy5nZXRTaXplKCkpKSx0aGlzLl9kZWxldGVkLnNldChlKX1yZWFkR2VvbWV0cnlGb3JEaXNwbGF5KCl7cmV0dXJuIHRoaXMucmVhZFVucXVhbnRpemVkR2VvbWV0cnkoITApfXJlYWRMZWdhY3lHZW9tZXRyeUZvckRpc3BsYXkoKXtyZXR1cm4gdGhpcy5yZWFkTGVnYWN5R2VvbWV0cnkoITApfSpmZWF0dXJlcygpe2NvbnN0IGU9dGhpcy5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl5aWVsZCBlLnJlYWRPcHRpbWl6ZWRGZWF0dXJlKCl9X2dldEV4aXN0cygpe3JldHVybiBudWxsPT10aGlzLl9kZWxldGVkfHwhdGhpcy5fZGVsZXRlZC5oYXModGhpcy5nZXRJbmRleCgpKX1fY29tcHV0ZUNlbnRyb2lkKCl7aWYoXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIhPT10aGlzLmdlb21ldHJ5VHlwZSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMucmVhZFVucXVhbnRpemVkR2VvbWV0cnkoKTtpZighZXx8ZS5oYXNJbmRldGVybWluYXRlUmluZ09yZGVyKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKT8/bnVsbDtyZXR1cm4gcyhuZXcgbixlLHRoaXMuaGFzTSx0aGlzLmhhc1osdCl9Y29weUludG8oZSl7ZS5zZWVuPXRoaXMuc2VlbixlLl9zdG9yYWdlPXRoaXMuX3N0b3JhZ2UsZS5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZT10aGlzLl9hcmNhZGVTcGF0aWFsUmVmZXJlbmNlLGUuX2pvaW5lZD10aGlzLl9qb2luZWQsZS5fdHg9dGhpcy5fdHgsZS5fdHk9dGhpcy5fdHksZS5fc3g9dGhpcy5fc3gsZS5fc3k9dGhpcy5fc3ksZS5fZGVsZXRlZD10aGlzLl9kZWxldGVkLGUuX29iamVjdElkVG9JbmRleD10aGlzLl9vYmplY3RJZFRvSW5kZXh9fWV4cG9ydHtJIGFzIEZlYXR1cmVTZXRSZWFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjb252ZXJ0RnJvbUZlYXR1cmVzIGFzIHQsY29udmVydEZyb21GZWF0dXJlU2V0IGFzIGUsY29udmVydFRvRmVhdHVyZSBhcyByLGNvbnZlcnRUb0dlb21ldHJ5IGFzIHMsZ2V0UXVhbnRpemVkQXJlYSBhcyBpLHVucXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e2hhc0dlb21ldHJ5IGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyIGFzIGF9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyLmpzXCI7ZnVuY3Rpb24gZCh7Y29vcmRzOnQsbGVuZ3RoczplfSl7bGV0IHI9MDtmb3IoY29uc3QgcyBvZiBlKXtmb3IobGV0IGU9MTtlPHM7ZSsrKXRbMioocitlKV0rPXRbMioocitlKS0yXSx0WzIqKHIrZSkrMV0rPXRbMioocitlKS0xXTtyKz1zfX1jbGFzcyBoIGV4dGVuZHMgYXtzdGF0aWMgZnJvbUZlYXR1cmVzKGUscil7Y29uc3R7b2JqZWN0SWRGaWVsZDpzLGdlb21ldHJ5VHlwZTppfT1yLG49dChbXSxlLGksITEsITEscyk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5kaXNwbGF5SWQ9ZVt0XS5kaXNwbGF5SWQ7cmV0dXJuIGguZnJvbU9wdGltaXplZEZlYXR1cmVzKG4scil9c3RhdGljIGZyb21GZWF0dXJlU2V0KHQscil7Y29uc3Qgcz1lKHQsci5vYmplY3RJZEZpZWxkKTtyZXR1cm4gaC5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChzLHIpfXN0YXRpYyBmcm9tT3B0aW1pemVkRmVhdHVyZVNldCh0LGUpe2NvbnN0e2ZlYXR1cmVzOnJ9PXQscz1oLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhyLGUpO3JldHVybiBzLl9leGNlZWRlZFRyYW5zZmVyTGltaXQ9dC5leGNlZWRlZFRyYW5zZmVyTGltaXQscy5fdHJhbnNmb3JtPXQudHJhbnNmb3JtLHMuX2ZpZWxkc0luZGV4PW5ldyB1KGUuZmllbGRzKSxzfXN0YXRpYyBmcm9tT3B0aW1pemVkRmVhdHVyZXModCxlLHIpe2NvbnN0IHM9YS5jcmVhdGVJbnN0YW5jZSgpLGk9bmV3IGgocyx0LGUpO3JldHVybiBpLl9maWVsZHNJbmRleD1uZXcgdShlLmZpZWxkcyksaS5fdHJhbnNmb3JtPXIsaX1jb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxyKSx0aGlzLl9leGNlZWRlZFRyYW5zZmVyTGltaXQ9ITEsdGhpcy5fZmVhdHVyZUluZGV4PS0xLHRoaXMuX2ZpZWxkc0luZGV4PW51bGwsdGhpcy5fZ2VvbWV0cnlUeXBlPXI/Lmdlb21ldHJ5VHlwZSx0aGlzLl9mZWF0dXJlcz1lfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzSW5kZXh9Z2V0IF9jdXJyZW50KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzW3RoaXMuX2ZlYXR1cmVJbmRleF19Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeVR5cGV9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuISF0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0IGhhc05leHQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4KzE8dGhpcy5fZmVhdHVyZXMubGVuZ3RofWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5fZXhjZWVkZWRUcmFuc2ZlckxpbWl0fWdldCBoYXNaKCl7cmV0dXJuITF9Z2V0IGhhc00oKXtyZXR1cm4hMX1yZW1vdmVJZHModCl7Y29uc3QgZT1uZXcgU2V0KHQpO3RoaXMuX2ZlYXR1cmVzPXRoaXMuX2ZlYXR1cmVzLmZpbHRlcigodD0+IShudWxsIT10Lm9iamVjdElkJiZlLmhhcyh0Lm9iamVjdElkKSkpKX1hcHBlbmQodCl7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9mZWF0dXJlcy5wdXNoKGUpfWdldFNpemUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXMubGVuZ3RofWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtfWdldEF0dHJpYnV0ZUhhc2goKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBlIGluIHRoaXMuX2N1cnJlbnQuYXR0cmlidXRlcyl0Kz10aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXNbZV07cmV0dXJuIHR9Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4fXNldEluZGV4KHQpe3RoaXMuX2ZlYXR1cmVJbmRleD10fWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQ/Lm9iamVjdElkfWdldERpc3BsYXlJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50LmRpc3BsYXlJZH1zZXREaXNwbGF5SWQodCl7dGhpcy5fY3VycmVudC5kaXNwbGF5SWQ9dH1nZXRHcm91cElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuZ3JvdXBJZH1zZXRHcm91cElkKHQpe3RoaXMuX2N1cnJlbnQuZ3JvdXBJZD10fWNvcHkoKXtjb25zdCB0PW5ldyBoKHRoaXMuaW5zdGFuY2UsdGhpcy5fZmVhdHVyZXMsdGhpcy5mdWxsU2NoZW1hKCkpO3JldHVybiB0aGlzLmNvcHlJbnRvKHQpLHR9bmV4dCgpe2Zvcig7Kyt0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fZmVhdHVyZXMubGVuZ3RoJiYhdGhpcy5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1yZWFkTGVnYWN5RmVhdHVyZSgpe3JldHVybiByKHRoaXMuX2N1cnJlbnQsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSl9cmVhZE9wdGltaXplZEZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fY3VycmVudH1yZWFkTGVnYWN5UG9pbnRHZW9tZXRyeSgpe3JldHVybiB0aGlzLnJlYWRHZW9tZXRyeSgpP3t4OnRoaXMuZ2V0WCgpLHk6dGhpcy5nZXRZKCl9Om51bGx9cmVhZExlZ2FjeUdlb21ldHJ5KCl7Y29uc3QgdD10aGlzLnJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCk7cmV0dXJuIHModCx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKX1yZWFkTGVnYWN5Q2VudHJvaWQoKXtjb25zdCB0PXRoaXMucmVhZENlbnRyb2lkKCk7cmV0dXJuIG51bGw9PXQ/bnVsbDp7eDp0LmNvb3Jkc1swXSp0aGlzLl9zeCt0aGlzLl90eCx5OnQuY29vcmRzWzFdKnRoaXMuX3N5K3RoaXMuX3R5fX1yZWFkR2VvbWV0cnlBcmVhKCl7cmV0dXJuIG8odGhpcy5fY3VycmVudCk/aSh0aGlzLl9jdXJyZW50Lmdlb21ldHJ5LDIpOjB9cmVhZFVucXVhbnRpemVkR2VvbWV0cnkoKXtjb25zdCB0PXRoaXMucmVhZEdlb21ldHJ5KCk7aWYoXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09dGhpcy5nZW9tZXRyeVR5cGV8fCF0KXJldHVybiB0O2NvbnN0IGU9dC5jbG9uZSgpO3JldHVybiBkKGUpLGV9cmVhZEh5ZHJhdGVkR2VvbWV0cnkoKXtjb25zdCB0PXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnk7aWYobnVsbD09dClyZXR1cm4gbnVsbDtjb25zdCBlPXQuY2xvbmUoKTtyZXR1cm4gbnVsbCE9dGhpcy5fdHJhbnNmb3JtJiZuKGUsZSx0aGlzLmhhc1osdGhpcy5oYXNNLHRoaXMuX3RyYW5zZm9ybSksZX1nZXRYSHlkcmF0ZWQoKXtpZighbyh0aGlzLl9jdXJyZW50KSlyZXR1cm4gMDtjb25zdCB0PXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzBdLGU9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09ZT90OnQqZS5zY2FsZVswXStlLnRyYW5zbGF0ZVswXX1nZXRZSHlkcmF0ZWQoKXtpZighbyh0aGlzLl9jdXJyZW50KSlyZXR1cm4gMDtjb25zdCB0PXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzFdLGU9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09ZT90OmUudHJhbnNsYXRlWzFdLXQqZS5zY2FsZVsxXX1nZXRYKCl7cmV0dXJuIG8odGhpcy5fY3VycmVudCk/dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMF0qdGhpcy5fc3grdGhpcy5fdHg6MH1nZXRZKCl7cmV0dXJuIG8odGhpcy5fY3VycmVudCk/dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHk6MH1yZWFkR2VvbWV0cnkoKXtpZighbyh0aGlzLl9jdXJyZW50KSl7aWYobnVsbCE9dGhpcy5fY3VycmVudC5jZW50cm9pZCl7Y29uc3RbdCxlXT10aGlzLl9jdXJyZW50LmNlbnRyb2lkLmNvb3JkcztyZXR1cm4gdGhpcy5jcmVhdGVRdWFudGl6ZWRFeHRydWRlZFF1YWQodCxlKX1yZXR1cm4gbnVsbH1jb25zdCB0PXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY2xvbmUoKTtpZih0LmlzUG9pbnQpcmV0dXJuIHQuY29vcmRzWzBdPXQuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4LHQuY29vcmRzWzFdPXQuY29vcmRzWzFdKnRoaXMuX3N5K3RoaXMuX3R5LHQ7bGV0IGU9MDtmb3IoY29uc3QgciBvZiB0Lmxlbmd0aHMpdC5jb29yZHNbMiplXT10LmNvb3Jkc1syKmVdKnRoaXMuX3N4K3RoaXMuX3R4LHQuY29vcmRzWzIqZSsxXT10LmNvb3Jkc1syKmUrMV0qdGhpcy5fc3krdGhpcy5fdHksZSs9cjtyZXR1cm4gdH1yZWFkQ2VudHJvaWQoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT90aGlzLl9jb21wdXRlQ2VudHJvaWQoKTp0aGlzLl9jdXJyZW50LmNlbnRyb2lkfV9yZWFkQXR0cmlidXRlKHQsZSl7Y29uc3Qgcj10aGlzLl9maWVsZHNJbmRleC5nZXQodCk7aWYoIXIpcmV0dXJuO2xldCBzPXRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1tyLm5hbWVdO3JldHVybiBudWxsPT1zP3M6KFwiZXNyaUZpZWxkVHlwZVRpbWVzdGFtcE9mZnNldFwiPT09dGhpcy5maWVsZHMuZ2V0KHQpPy50eXBlJiYocz10aGlzLnBhcnNlVGltZXN0YW1wT2Zmc2V0KHMpKSxlJiZ0aGlzLmZpZWxkcy5pc0RhdGVGaWVsZCh0KT9uZXcgRGF0ZShzKTpzKX1jb3B5SW50byh0KXtzdXBlci5jb3B5SW50byh0KSx0Ll9mZWF0dXJlSW5kZXg9dGhpcy5fZmVhdHVyZUluZGV4LHQuX3RyYW5zZm9ybT10aGlzLl90cmFuc2Zvcm0sdC5fZmllbGRzSW5kZXg9dGhpcy5fZmllbGRzSW5kZXh9X3JlYWRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc319ZXhwb3J0e2ggYXMgRmVhdHVyZVNldFJlYWRlckpTT059O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7c3RhdGljIGZyb21CdWZmZXIoZSxzKXtyZXR1cm4gbmV3IHQoZSxzKX1zdGF0aWMgY3JlYXRlKGUscz00Mjk0OTY3Mjk1KXtjb25zdCByPW5ldyBVaW50MzJBcnJheShNYXRoLmNlaWwoZS8zMikpO3JldHVybiBuZXcgdChyLHMpfWNvbnN0cnVjdG9yKHQsZSl7dGhpcy5fbWFzaz0wLHRoaXMuX2J1Zj10LHRoaXMuX21hc2s9ZX1fZ2V0SW5kZXgodCl7cmV0dXJuIE1hdGguZmxvb3IodC8zMil9aGFzKHQpe2NvbnN0IGU9dGhpcy5fbWFzayZ0O3JldHVybiEhKHRoaXMuX2J1Zlt0aGlzLl9nZXRJbmRleChlKV0mMTw8ZSUzMil9aGFzUmFuZ2UodCxlKXtsZXQgcz10LHI9ZTtmb3IoO3MlMzImJnMhPT1yOyl7aWYodGhpcy5oYXMocykpcmV0dXJuITA7cysrfWZvcig7ciUzMiYmcyE9PXI7KXtpZih0aGlzLmhhcyhzKSlyZXR1cm4hMDtyLS19aWYocz09PXIpcmV0dXJuITE7Zm9yKGxldCBoPXMvMzI7aCE9PXIvMzI7aCsrKXtpZih0aGlzLl9idWZbaF0pcmV0dXJuITB9cmV0dXJuITF9c2V0KHQpe2NvbnN0IGU9dGhpcy5fbWFzayZ0LHM9dGhpcy5fZ2V0SW5kZXgoZSkscj0xPDxlJTMyO3RoaXMuX2J1ZltzXXw9cn1zZXRSYW5nZSh0LGUpe2xldCBzPXQscj1lO2Zvcig7cyUzMiYmcyE9PXI7KXRoaXMuc2V0KHMrKyk7Zm9yKDtyJTMyJiZzIT09cjspdGhpcy5zZXQoci0tKTtpZihzIT09cilmb3IobGV0IGg9cy8zMjtoIT09ci8zMjtoKyspdGhpcy5fYnVmW2hdPTQyOTQ5NjcyOTV9dW5zZXQodCl7Y29uc3QgZT10aGlzLl9tYXNrJnQscz10aGlzLl9nZXRJbmRleChlKSxyPTE8PGUlMzI7dGhpcy5fYnVmW3NdJj00Mjk0OTY3Mjk1XnJ9cmVzaXplKHQpe2NvbnN0IGU9dGhpcy5fYnVmLHM9bmV3IFVpbnQzMkFycmF5KE1hdGguY2VpbCh0LzMyKSk7cy5zZXQoZSksdGhpcy5fYnVmPXN9b3IodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV18PXQuX2J1ZltlXTtyZXR1cm4gdGhpc31hbmQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV0mPXQuX2J1ZltlXTtyZXR1cm4gdGhpc314b3IodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV1ePXQuX2J1ZltlXTtyZXR1cm4gdGhpc31pb3IodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV18PX50Ll9idWZbZV07cmV0dXJuIHRoaXN9aWFuZCh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXSY9fnQuX2J1ZltlXTtyZXR1cm4gdGhpc31peG9yKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdXj1+dC5fYnVmW2VdO3JldHVybiB0aGlzfWFueSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fYnVmLmxlbmd0aDt0KyspaWYodGhpcy5fYnVmW3RdKXJldHVybiEwO3JldHVybiExfWNvcHkodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV09dC5fYnVmW2VdO3JldHVybiB0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0KHRoaXMuX2J1Zi5zbGljZSgpLHRoaXMuX21hc2spfWNsZWFyKCl7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWYubGVuZ3RoO3QrKyl0aGlzLl9idWZbdF09MH1mb3JFYWNoU2V0KHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspe2xldCBzPXRoaXMuX2J1ZltlXSxyPTMyKmU7aWYocylmb3IoO3M7KXsxJnMmJnQocikscz4+Pj0xLHIrK319fWNvdW50U2V0KCl7bGV0IHQ9MDtyZXR1cm4gdGhpcy5mb3JFYWNoU2V0KChlPT57dCsrfSkpLHR9fWV4cG9ydHt0IGFzIFN0YXRpY0JpdFNldH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=