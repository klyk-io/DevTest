"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_views_3d_webgl-engine_lib_edgeRendering_edgeProcessing_js"],{

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deduplicate: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _Indices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e,s,u){const c=Array.isArray(e),a=c?e.length/s:e.byteLength/(4*s),h=c?e:new Uint32Array(e,0,a*s),y=u?.minReduction??0,A=u?.originalIndices||null,g=A?A.length:0,m=u?.componentOffsets||null;let w=0;if(m)for(let t=0;t<m.length-1;t++){const n=m[t+1]-m[t];n>w&&(w=n)}else w=a;const U=Math.floor(1.1*w)+1;(null==i||i.length<2*U)&&(i=new Uint32Array((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.nextHighestPowerOfTwo)(2*U)));for(let t=0;t<2*U;t++)i[t]=0;let b=0;const d=!!m&&!!A,p=d?g:a;let M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.newIndexArray)(a);const j=new Uint32Array(g),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,x=m?m[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-b/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===x){for(let t=0;t<2*U;t++)i[t]=0;if(A)for(let t=m[k-1];t<m[k];t++)j[t]=M[A[t]];x=m[++k]}const n=d?A[t]:t,r=n*s,e=f(h,r,s);let o=e%U,u=b;for(;0!==i[2*o+1];){if(i[2*o]===e){const t=i[2*o+1]-1;if(l(h,r,t*s,s)){u=M[t];break}}o++,o>=U&&(o-=U)}u===b&&(i[2*o]=e,i[2*o+1]=n+1,b++),M[n]=u}if(0!==y&&1-b/a<y)return null;if(d){for(let t=m[k-1];t<j.length;t++)j[t]=M[A[t]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.compactIndices)(j)}const C=c?new Array(b):new Uint32Array(b*s);b=0;for(let t=0;t<p;t++)if(M[t]===b){o(h,(d?A[t]:t)*s,C,b*s,s),b++}if(A&&!d){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=M[A[n]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.compactIndices)(t)}return{buffer:Array.isArray(C)?C:C.buffer,indices:M,uniqueCount:b}}function l(t,n,r,e){for(let l=0;l<e;l++)if(t[n+l]!==t[r+l])return!1;return!0}function o(t,n,r,e,l){for(let o=0;o<l;o++)r[e+o]=t[n+o]}function f(t,n,r){let e=0;for(let l=0;l<r;l++)e=t[n+l]+e|0,e=e+(e<<11)+(e>>>2)|0;return e>>>0}let i=null;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   glLayout: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(t,r=0){const n=t.stride;return Array.from(t.fields.keys()).filter((e=>{const r=t.fields.get(e)?.optional;return!(r&&r.glPadding)})).map((i=>{const s=t.fields.get(i),f=s.constructor.ElementCount,l=o(s.constructor.ElementType),u=s.offset,c=!(!s.optional||!s.optional.glNormalized);return new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__.VertexElementDescriptor(i,f,l,u,n,c,r)}))}function o(t){const e=n[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}const n={u8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_BYTE,u16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_SHORT,u32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_INT,i8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.BYTE,i16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.SHORT,i32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.INT,f32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.FLOAT};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/meshProcessing.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/meshProcessing.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeNeighbors: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(t,o,n){const r=o/3,c=new Uint32Array(n+1),e=new Uint32Array(n+1),s=(t,o)=>{t<o?c[t+1]++:e[o+1]++};for(let x=0;x<r;x++){const o=t[3*x],n=t[3*x+1],r=t[3*x+2];s(o,n),s(n,r),s(r,o)}let f=0,l=0;for(let x=0;x<n;x++){const t=c[x+1],o=e[x+1];c[x+1]=f,e[x+1]=l,f+=t,l+=o}const i=new Uint32Array(6*r),a=c[n],w=(t,o,n)=>{if(t<o){const r=c[t+1]++;i[2*r]=o,i[2*r+1]=n}else{const r=e[o+1]++;i[2*a+2*r]=t,i[2*a+2*r+1]=n}};for(let x=0;x<r;x++){const o=t[3*x],n=t[3*x+1],r=t[3*x+2];w(o,n,x),w(n,r,x),w(r,o,x)}const y=(t,o)=>{const n=2*t,r=o-t;for(let c=1;c<r;c++){const t=i[n+2*c],o=i[n+2*c+1];let r=c-1;for(;r>=0&&i[n+2*r]>t;r--)i[n+2*r+2]=i[n+2*r],i[n+2*r+3]=i[n+2*r+1];i[n+2*r+2]=t,i[n+2*r+3]=o}};for(let x=0;x<n;x++)y(c[x],c[x+1]),y(a+e[x],a+e[x+1]);const A=new Int32Array(3*r),U=(o,n)=>o===t[3*n]?0:o===t[3*n+1]?1:o===t[3*n+2]?2:-1,u=(t,o)=>{const n=U(t,o);A[3*o+n]=-1},p=(t,o,n,r)=>{const c=U(t,o);A[3*o+c]=r;const e=U(n,r);A[3*r+e]=o};for(let x=0;x<n;x++){let t=c[x];const o=c[x+1];let n=e[x];const r=e[x+1];for(;t<o&&n<r;){const o=i[2*t],r=i[2*a+2*n];o===r?(p(x,i[2*t+1],r,i[2*a+2*n+1]),t++,n++):o<r?(u(x,i[2*t+1]),t++):(u(r,i[2*a+2*n+1]),n++)}for(;t<o;)u(x,i[2*t+1]),t++;for(;n<r;){u(i[2*a+2*n],i[2*a+2*n+1]),n++}}return A}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CommonInstancesLayout: () => (/* binding */ E),
/* harmony export */   EdgeInputBufferLayout: () => (/* binding */ A),
/* harmony export */   EdgeShaderAttributeLocations: () => (/* binding */ o),
/* harmony export */   RegularEdgeInstancesLayout: () => (/* binding */ S),
/* harmony export */   SilhouetteEdgeInstancesLayout: () => (/* binding */ r),
/* harmony export */   VertexLayout: () => (/* binding */ e),
/* harmony export */   glVertexLayout: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const A=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.U16PADDING),e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec2u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.SIDENESS),T=(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_0__.glLayout)(e),E=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION1).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTSTROKE).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.U8PADDING,{glPadding:!0}).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.U16PADDING,{glPadding:!0}),S=E.clone().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMAL),r=E.clone().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALA).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALB),o=new Map([[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION0,0],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.POSITION1,1],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.COMPONENTINDEX,2],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTOFFSET,3],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTSTROKE,4],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.VARIANTEXTENSION,5],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMAL,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALA,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.NORMALB,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__.VertexAttribute.SIDENESS,8]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CommonBufferWriter: () => (/* binding */ a),
/* harmony export */   RegularEdgeBufferWriter: () => (/* binding */ d),
/* harmony export */   SilhouetteEdgeBufferWriter: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bufferLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?f:p}write(t,o,e){const n=this._edgeHashFunction(e);y.seed=n;const i=y.getIntRange(0,255),r=y.getIntRange(0,this.settings.variants-1),s=.7,a=y.getFloat(),c=255*(.5*g(-(1-Math.min(a/s,1))+Math.max(0,a-s)/(1-s),1.2)+.5);t.position0.setVec(o,e.position0),t.position1.setVec(o,e.position1),t.componentIndex.set(o,e.componentIndex),t.variantOffset.set(o,i),t.variantStroke.set(o,r),t.variantExtension.set(o,c)}trim(t,o){return t.slice(0,o)}}const c=new Float32Array(6),m=new Uint32Array(c.buffer),u=new Uint32Array(1);function p(t){const o=c;o[0]=t.position0[0],o[1]=t.position0[1],o[2]=t.position0[2],o[3]=t.position1[0],o[4]=t.position1[1],o[5]=t.position1[2],u[0]=5381;for(let e=0;e<m.length;e++)u[0]=31*u[0]+m[e];return u[0]}function f(t){const o=c;o[0]=h(t.position0[0]),o[1]=h(t.position0[1]),o[2]=h(t.position0[2]),o[3]=h(t.position1[0]),o[4]=h(t.position1[1]),o[5]=h(t.position1[2]),u[0]=5381;for(let e=0;e<m.length;e++)u[0]=31*u[0]+m[e];return u[0]}const l=1e4;function h(t){return Math.round(t*l)/l}function g(t,o){const e=t<0?-1:1;return Math.abs(t)**o*e}class d{constructor(){this._commonWriter=new a}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.RegularEdgeInstancesLayout.createBuffer(t)}write(t,n,i){this._commonWriter.write(t,n,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.a)(_,i.faceNormal0,i.faceNormal1),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.n)(_,_),t.normal.setVec(n,_)}trim(t,o){return this._commonWriter.trim(t,o)}}d.Layout=_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.RegularEdgeInstancesLayout,d.glLayout=(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__.glLayout)(_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.RegularEdgeInstancesLayout,1);class w{constructor(){this._commonWriter=new a}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.SilhouetteEdgeInstancesLayout.createBuffer(t)}write(t,o,e){this._commonWriter.write(t,o,e),t.normalA.setVec(o,e.faceNormal0),t.normalB.setVec(o,e.faceNormal1)}trim(t,o){return this._commonWriter.trim(t,o)}}w.Layout=_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.SilhouetteEdgeInstancesLayout,w.glLayout=(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__.glLayout)(_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.SilhouetteEdgeInstancesLayout,1);const _=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),y=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_0__["default"];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EdgeType: () => (/* binding */ u),
/* harmony export */   extractEdges: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const m=-1;var u;function p(n,a,i,l=V){const f=n.vertices.position,g=n.vertices.componentIndex,u=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(l.anglePlanar),p=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.deg2rad)(l.angleSignificantEdge),y=Math.cos(p),E=Math.cos(u),N=I.edge,S=N.position0,x=N.position1,j=N.faceNormal0,D=N.faceNormal1,F=w(n),L=d(n),b=L.length/4,k=a.allocate(b);let C=0;const H=b,K=i.allocate(H);let M=0,O=0,P=0;const T=(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.range)(0,b),U=new Float32Array(b);U.forEach(((e,t,n)=>{f.getVec(L[4*t],S),f.getVec(L[4*t+1],x),n[t]=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(S,x)})),T.sort(((e,t)=>U[t]-U[e]));const q=new Array,z=new Array;for(let e=0;e<b;e++){const t=T[e],n=U[t],o=L[4*t],l=L[4*t+1],p=L[4*t+2],d=L[4*t+3],w=d===m;if(f.getVec(o,S),f.getVec(l,x),w)(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(j,F[3*p],F[3*p+1],F[3*p+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(D,j),N.componentIndex=g.get(o),N.cosAngle=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(j,D);else{if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(j,F[3*p],F[3*p+1],F[3*p+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(D,F[3*d],F[3*d+1],F[3*d+2]),N.componentIndex=g.get(o),N.cosAngle=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(j,D),v(N,E))continue;N.cosAngle<-.9999&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(D,j)}O+=n,P++,w||h(N,y)?(a.write(k,C++,N),q.push(n)):A(N,u)&&(i.write(K,M++,N),z.push(n))}const B=new Float32Array(q.reverse()),G=new Float32Array(z.reverse());return{regular:{instancesData:a.trim(k,C),lodInfo:{lengths:B}},silhouette:{instancesData:i.trim(K,M),lodInfo:{lengths:G}},averageEdgeLength:O/P}}function h(e,t){return e.cosAngle<t}function v(e,t){return e.cosAngle>t}function A(e,t){const o=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.acosClamped)(e.cosAngle),r=I.fwd,c=I.ortho;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.r)(r,e.position1,e.position0);return o*((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(c,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>t}function d(e){const t=e.faces.length/3,n=e.faces,o=e.neighbors;let r=0;for(let a=0;a<t;a++){const e=o[3*a],t=o[3*a+1],c=o[3*a+2],s=n[3*a],i=n[3*a+1],l=n[3*a+2];r+=e===m||s<i?1:0,r+=t===m||i<l?1:0,r+=c===m||l<s?1:0}const c=new Int32Array(4*r);let s=0;for(let a=0;a<t;a++){const e=o[3*a],t=o[3*a+1],r=o[3*a+2],i=n[3*a],l=n[3*a+1],f=n[3*a+2];(e===m||i<l)&&(c[s++]=i,c[s++]=l,c[s++]=a,c[s++]=e),(t===m||l<f)&&(c[s++]=l,c[s++]=f,c[s++]=a,c[s++]=t),(r===m||f<i)&&(c[s++]=f,c[s++]=i,c[s++]=a,c[s++]=r)}return c}function w(e){const t=e.faces.length/3,n=e.vertices.position,o=e.faces,r=y.v0,c=y.v1,s=y.v2,a=new Float32Array(3*t);for(let g=0;g<t;g++){const e=o[3*g],t=o[3*g+1],m=o[3*g+2];n.getVec(e,r),n.getVec(t,c),n.getVec(m,s),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(c,c,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(s,s,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(r,c,s),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(r,r),a[3*g]=r[0],a[3*g+1]=r[1],a[3*g+2]=r[2]}return a}!function(e){e[e.SOLID=0]="SOLID",e[e.SKETCH=1]="SKETCH"}(u||(u={}));const I={edge:{position0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),position1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),faceNormal0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),faceNormal1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),componentIndex:0,cosAngle:0},ortho:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),fwd:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()},y={v0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),v1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),v2:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()},V={anglePlanar:4,angleSignificantEdge:35};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   extract: () => (/* binding */ f),
/* harmony export */   extractComponentsEdgeLocationsLayout: () => (/* binding */ m),
/* harmony export */   extractEdgeInformation: () => (/* binding */ u),
/* harmony export */   extractEdgeLocationsLayout: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _geometry_support_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/support/meshUtils/deduplicate.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js");
/* harmony import */ var _support_meshProcessing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/meshProcessing.js */ "./node_modules/@arcgis/core/views/3d/support/meshProcessing.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bufferLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts.js");
/* harmony import */ var _edgeBufferWriters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edgeBufferWriters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters.js");
/* harmony import */ var _edgePreprocessing_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edgePreprocessing.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function f(e){const t=u(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return p.updateSettings(e.writerSettings),d.updateSettings(e.writerSettings),(0,_edgePreprocessing_js__WEBPACK_IMPORTED_MODULE_6__.extractEdges)(t,p,d)}function u(i,r,n,o){if(r){const e=(0,_support_meshProcessing_js__WEBPACK_IMPORTED_MODULE_1__.computeNeighbors)(n,o,i.count);return new g(n,o,e,i)}const c=(0,_geometry_support_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_0__.deduplicate)(i.buffer,i.stride/4,{originalIndices:n,originalIndicesLength:o}),f=(0,_support_meshProcessing_js__WEBPACK_IMPORTED_MODULE_1__.computeNeighbors)(c.indices,o,c.uniqueCount);return{faces:c.indices,facesLength:c.indices.length,neighbors:f,vertices:_bufferLayouts_js__WEBPACK_IMPORTED_MODULE_4__.EdgeInputBufferLayout.createView(c.buffer)}}class g{constructor(e,t,i,r){this.faces=e,this.facesLength=t,this.neighbors=i,this.vertices=r}}const p=new _edgeBufferWriters_js__WEBPACK_IMPORTED_MODULE_5__.RegularEdgeBufferWriter,d=new _edgeBufferWriters_js__WEBPACK_IMPORTED_MODULE_5__.SilhouetteEdgeBufferWriter,a=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION1),m=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION0).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.POSITION1).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.COMPONENTINDEX).u16(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.U16PADDING,{glPadding:!0});


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX3dlYmdsLWVuZ2luZV9saWJfZWRnZVJlbmRlcmluZ19lZGdlUHJvY2Vzc2luZ19qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDcUksa0JBQWtCLHFMQUFxTCxRQUFRLGlCQUFpQixhQUFhLEtBQUssb0JBQW9CLFdBQVcsU0FBUyw0QkFBNEIsNENBQTRDLHlFQUFDLFFBQVEsWUFBWSxNQUFNLFdBQVcsUUFBUSx5QkFBeUIsTUFBTSwwREFBQyxJQUFJLGtDQUFrQyw0REFBNEQsWUFBWSxJQUFJLEtBQUssVUFBVSxjQUFjLDBDQUEwQyxLQUFLLFVBQVUsWUFBWSxNQUFNLFdBQVcsc0JBQXNCLE9BQU8saUJBQWlCLFNBQVMsa0NBQWtDLGNBQWMsS0FBSyxhQUFhLEVBQUUsZUFBZSxtQkFBbUIsaUJBQWlCLE9BQU8sT0FBTyxpQkFBaUIsMENBQTBDLDhCQUE4QixNQUFNLGlCQUFpQixXQUFXLGlCQUFpQixFQUFFLDJEQUFDLElBQUksNENBQTRDLElBQUksWUFBWSxJQUFJLGlCQUFpQiw4QkFBOEIsVUFBVSwyQkFBMkIsWUFBWSxXQUFXLGlCQUFpQixFQUFFLDJEQUFDLElBQUksT0FBTyw0REFBNEQsb0JBQW9CLFlBQVksSUFBSSxnQ0FBZ0MsU0FBUyxzQkFBc0IsWUFBWSxJQUFJLGtCQUFrQixrQkFBa0IsUUFBUSxZQUFZLElBQUksdUNBQXVDLGFBQWEsV0FBb0M7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnRuRDtBQUNBO0FBQ0E7QUFDQTtBQUN1SSxrQkFBa0IsaUJBQWlCLCtDQUErQyxrQ0FBa0Msd0JBQXdCLFlBQVksMElBQTBJLFdBQVcsc0ZBQUMsZ0JBQWdCLEdBQUcsY0FBYyxhQUFhLGNBQWMscURBQXFELFNBQVMsR0FBRyxxREFBQyxtQkFBbUIscURBQUMsb0JBQW9CLHFEQUFDLGlCQUFpQixxREFBQyxVQUFVLHFEQUFDLFdBQVcscURBQUMsU0FBUyxxREFBQyxRQUE4Qjs7Ozs7Ozs7Ozs7Ozs7O0FDSjdxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvRUFBb0UsdUJBQXVCLFlBQVksSUFBSSxLQUFLLHFDQUFxQyxxQkFBcUIsWUFBWSxZQUFZLElBQUksS0FBSyx3QkFBd0IsNEJBQTRCLGdEQUFnRCxRQUFRLGlCQUFpQixvQkFBb0IsS0FBSyxpQkFBaUIsOEJBQThCLFlBQVksSUFBSSxLQUFLLHFDQUFxQywyQkFBMkIsZ0JBQWdCLGtCQUFrQixZQUFZLElBQUksS0FBSyw4QkFBOEIsVUFBVSxLQUFLLGlCQUFpQiw4Q0FBOEMsNEJBQTRCLFlBQVksSUFBSSxzQ0FBc0MsNkZBQTZGLGVBQWUsWUFBWSxlQUFlLGVBQWUsV0FBVyxlQUFlLFlBQVksWUFBWSxJQUFJLEtBQUssV0FBVyxlQUFlLFdBQVcsZUFBZSxLQUFLLFNBQVMsRUFBRSw0QkFBNEIsNkZBQTZGLEtBQUssSUFBSSxtQkFBbUIsS0FBSyxJQUFJLEVBQUUsZ0NBQWdDLFNBQXVDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeHVDO0FBQ0E7QUFDQTtBQUNBO0FBQzhMLFFBQVEsK0VBQUMsU0FBUyxnRUFBQyxlQUFlLGdFQUFDLHFCQUFxQixnRUFBQyxlQUFlLCtFQUFDLFVBQVUsZ0VBQUMsYUFBYSxtRUFBQyxNQUFNLCtFQUFDLFNBQVMsZ0VBQUMsa0JBQWtCLGdFQUFDLGdCQUFnQixnRUFBQyxvQkFBb0IsZ0VBQUMsZ0JBQWdCLGdCQUFnQixLQUFLLGdFQUFDLG1CQUFtQixnRUFBQyxtQkFBbUIsZ0JBQWdCLEtBQUssZ0VBQUMsWUFBWSxhQUFhLE1BQU0sZ0VBQUMsYUFBYSxhQUFhLG9CQUFvQixnRUFBQywyQkFBMkIsZ0VBQUMsZ0JBQWdCLGdFQUFDLHNCQUFzQixnRUFBQyxlQUFlLGdFQUFDLGVBQWUsZ0VBQUMsb0JBQW9CLGdFQUFDLG1CQUFtQixnRUFBQyxtQkFBbUIsZ0VBQUMsc0JBQXNCLGdFQUFDLFlBQVksZ0VBQUMsYUFBYSxnRUFBQyxhQUFhLGdFQUFDLGVBQXdOOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnI5QjtBQUNBO0FBQ0E7QUFDQTtBQUM4VCxRQUFRLGtCQUFrQiw4REFBOEQsYUFBYSxrQ0FBa0MsU0FBUyw2SkFBNkosMkxBQTJMLFVBQVUscUJBQXFCLDZFQUE2RSxjQUFjLFVBQVUsa0lBQWtJLFlBQVksV0FBVyxzQkFBc0IsWUFBWSxjQUFjLFVBQVUsb0pBQW9KLFlBQVksV0FBVyxzQkFBc0IsWUFBWSxZQUFZLGNBQWMseUJBQXlCLGdCQUFnQixpQkFBaUIsd0JBQXdCLFFBQVEsY0FBYyx5QkFBeUIsa0JBQWtCLHFDQUFxQyxZQUFZLE9BQU8seUVBQUMsaUJBQWlCLGFBQWEsZ0NBQWdDLGtEQUFDLGdDQUFnQyxrREFBQywyQkFBMkIsVUFBVSxxQ0FBcUMsU0FBUyx5RUFBQyxZQUFZLG1FQUFDLENBQUMseUVBQUMsSUFBSSxRQUFRLGNBQWMseUJBQXlCLGtCQUFrQixxQ0FBcUMsWUFBWSxPQUFPLDRFQUFDLGlCQUFpQixhQUFhLG9HQUFvRyxVQUFVLHFDQUFxQyxTQUFTLDRFQUFDLFlBQVksbUVBQUMsQ0FBQyw0RUFBQyxJQUFJLFFBQVEscURBQUMsU0FBUywwREFBQyxDQUE4Rjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKaHJFO0FBQ0E7QUFDQTtBQUNBO0FBQ3lSLFdBQVcsTUFBTSxzQkFBc0IsMERBQTBELDJEQUFDLGtCQUFrQiwyREFBQyxxS0FBcUssUUFBUSwwQkFBMEIsZ0JBQWdCLFFBQVEsMERBQUMsNEJBQTRCLHFCQUFxQiw2Q0FBNkMsa0RBQUMsTUFBTSw4QkFBOEIsOEJBQThCLFlBQVksSUFBSSxLQUFLLHNFQUFzRSxpQ0FBaUMsa0RBQUMsNkJBQTZCLGtEQUFDLDJDQUEyQyxrREFBQyxNQUFNLEtBQUssR0FBRyxrREFBQyw2QkFBNkIsa0RBQUMsa0VBQWtFLGtEQUFDLHNCQUFzQixtQkFBbUIsa0RBQUMsTUFBTSxxRkFBcUYsc0VBQXNFLE9BQU8sU0FBUyxtQ0FBbUMsV0FBVyxhQUFhLG1DQUFtQyxXQUFXLHdCQUF3QixnQkFBZ0Isb0JBQW9CLGdCQUFnQixvQkFBb0IsZ0JBQWdCLFFBQVEsK0RBQUMsK0JBQStCLGtEQUFDLDRCQUE0QixVQUFVLGtEQUFDLENBQUMsa0RBQUMsNkNBQTZDLGNBQWMsaURBQWlELFFBQVEsWUFBWSxJQUFJLEtBQUssb0VBQW9FLHNEQUFzRCw0QkFBNEIsUUFBUSxZQUFZLElBQUksS0FBSyxvRUFBb0UsNEpBQTRKLFNBQVMsY0FBYyxzR0FBc0csWUFBWSxJQUFJLEtBQUsscUNBQXFDLDBDQUEwQyxrREFBQyxRQUFRLGtEQUFDLFFBQVEsa0RBQUMsUUFBUSxrREFBQyw4Q0FBOEMsU0FBUyxhQUFhLDRDQUE0QyxTQUFTLEdBQUcsU0FBUyxNQUFNLFVBQVUscURBQUMsYUFBYSxxREFBQyxlQUFlLHFEQUFDLGVBQWUscURBQUMsK0JBQStCLE9BQU8scURBQUMsT0FBTyxxREFBQyxHQUFHLElBQUksR0FBRyxxREFBQyxNQUFNLHFEQUFDLE1BQU0scURBQUMsR0FBRyxJQUFJLHVDQUErRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2c0Y7QUFDQTtBQUNBO0FBQ0E7QUFDZ2YsY0FBYyw4REFBOEQsNkVBQTZFLG1FQUFDLFFBQVEsb0JBQW9CLE1BQU0sUUFBUSw0RUFBQyxjQUFjLHNCQUFzQixRQUFRLHVGQUFDLHNCQUFzQiwwQ0FBMEMsSUFBSSw0RUFBQyw0QkFBNEIsT0FBTyxrRUFBa0Usb0VBQUMsdUJBQXVCLFFBQVEscUJBQXFCLGtFQUFrRSxZQUFZLDBFQUFDLE9BQU8sNkVBQUMsR0FBRywrRUFBQyxTQUFTLGdFQUFDLGtCQUFrQixnRUFBQyxjQUFjLCtFQUFDLFNBQVMsZ0VBQUMsa0JBQWtCLGdFQUFDLGdCQUFnQixnRUFBQyxxQkFBcUIsZ0VBQUMsYUFBYSxhQUFhLEVBQTZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9tZXNoVXRpbHMvZGVkdXBsaWNhdGUuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvc3VwcG9ydC9idWZmZXIvZ2xVdGlsLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3N1cHBvcnQvbWVzaFByb2Nlc3NpbmcuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9lZGdlUmVuZGVyaW5nL2J1ZmZlckxheW91dHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9lZGdlUmVuZGVyaW5nL2VkZ2VCdWZmZXJXcml0ZXJzLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvZWRnZVJlbmRlcmluZy9lZGdlUHJlcHJvY2Vzc2luZy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvbGliL2VkZ2VSZW5kZXJpbmcvZWRnZVByb2Nlc3NpbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtuZXh0SGlnaGVzdFBvd2VyT2ZUd28gYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtuZXdJbmRleEFycmF5IGFzIG4sY29tcGFjdEluZGljZXMgYXMgcn1mcm9tXCIuLi9JbmRpY2VzLmpzXCI7ZnVuY3Rpb24gZShlLHMsdSl7Y29uc3QgYz1BcnJheS5pc0FycmF5KGUpLGE9Yz9lLmxlbmd0aC9zOmUuYnl0ZUxlbmd0aC8oNCpzKSxoPWM/ZTpuZXcgVWludDMyQXJyYXkoZSwwLGEqcykseT11Py5taW5SZWR1Y3Rpb24/PzAsQT11Py5vcmlnaW5hbEluZGljZXN8fG51bGwsZz1BP0EubGVuZ3RoOjAsbT11Py5jb21wb25lbnRPZmZzZXRzfHxudWxsO2xldCB3PTA7aWYobSlmb3IobGV0IHQ9MDt0PG0ubGVuZ3RoLTE7dCsrKXtjb25zdCBuPW1bdCsxXS1tW3RdO24+dyYmKHc9bil9ZWxzZSB3PWE7Y29uc3QgVT1NYXRoLmZsb29yKDEuMSp3KSsxOyhudWxsPT1pfHxpLmxlbmd0aDwyKlUpJiYoaT1uZXcgVWludDMyQXJyYXkodCgyKlUpKSk7Zm9yKGxldCB0PTA7dDwyKlU7dCsrKWlbdF09MDtsZXQgYj0wO2NvbnN0IGQ9ISFtJiYhIUEscD1kP2c6YTtsZXQgTT1uKGEpO2NvbnN0IGo9bmV3IFVpbnQzMkFycmF5KGcpLHE9MS45NjtsZXQgST0wIT09eT9NYXRoLmNlaWwoNCpxKnEvKHkqeSkqeSooMS15KSk6cCxrPTEseD1tP21bMV06cDtmb3IobGV0IHQ9MDt0PHA7dCsrKXtpZih0PT09SSl7Y29uc3Qgbj0xLWIvdDtpZihuK3EqTWF0aC5zcXJ0KG4qKDEtbikvdCk8eSlyZXR1cm4gbnVsbDtJKj0yfWlmKHQ9PT14KXtmb3IobGV0IHQ9MDt0PDIqVTt0KyspaVt0XT0wO2lmKEEpZm9yKGxldCB0PW1bay0xXTt0PG1ba107dCsrKWpbdF09TVtBW3RdXTt4PW1bKytrXX1jb25zdCBuPWQ/QVt0XTp0LHI9bipzLGU9ZihoLHIscyk7bGV0IG89ZSVVLHU9Yjtmb3IoOzAhPT1pWzIqbysxXTspe2lmKGlbMipvXT09PWUpe2NvbnN0IHQ9aVsyKm8rMV0tMTtpZihsKGgscix0KnMscykpe3U9TVt0XTticmVha319bysrLG8+PVUmJihvLT1VKX11PT09YiYmKGlbMipvXT1lLGlbMipvKzFdPW4rMSxiKyspLE1bbl09dX1pZigwIT09eSYmMS1iL2E8eSlyZXR1cm4gbnVsbDtpZihkKXtmb3IobGV0IHQ9bVtrLTFdO3Q8ai5sZW5ndGg7dCsrKWpbdF09TVtBW3RdXTtNPXIoail9Y29uc3QgQz1jP25ldyBBcnJheShiKTpuZXcgVWludDMyQXJyYXkoYipzKTtiPTA7Zm9yKGxldCB0PTA7dDxwO3QrKylpZihNW3RdPT09Yil7byhoLChkP0FbdF06dCkqcyxDLGIqcyxzKSxiKyt9aWYoQSYmIWQpe2NvbnN0IHQ9bmV3IFVpbnQzMkFycmF5KGcpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXRbbl09TVtBW25dXTtNPXIodCl9cmV0dXJue2J1ZmZlcjpBcnJheS5pc0FycmF5KEMpP0M6Qy5idWZmZXIsaW5kaWNlczpNLHVuaXF1ZUNvdW50OmJ9fWZ1bmN0aW9uIGwodCxuLHIsZSl7Zm9yKGxldCBsPTA7bDxlO2wrKylpZih0W24rbF0hPT10W3IrbF0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbyh0LG4scixlLGwpe2ZvcihsZXQgbz0wO288bDtvKyspcltlK29dPXRbbitvXX1mdW5jdGlvbiBmKHQsbixyKXtsZXQgZT0wO2ZvcihsZXQgbD0wO2w8cjtsKyspZT10W24rbF0rZXwwLGU9ZSsoZTw8MTEpKyhlPj4+Mil8MDtyZXR1cm4gZT4+PjB9bGV0IGk9bnVsbDtleHBvcnR7ZSBhcyBkZWR1cGxpY2F0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0RhdGFUeXBlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgZX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhFbGVtZW50RGVzY3JpcHRvci5qc1wiO2Z1bmN0aW9uIHIodCxyPTApe2NvbnN0IG49dC5zdHJpZGU7cmV0dXJuIEFycmF5LmZyb20odC5maWVsZHMua2V5cygpKS5maWx0ZXIoKGU9Pntjb25zdCByPXQuZmllbGRzLmdldChlKT8ub3B0aW9uYWw7cmV0dXJuIShyJiZyLmdsUGFkZGluZyl9KSkubWFwKChpPT57Y29uc3Qgcz10LmZpZWxkcy5nZXQoaSksZj1zLmNvbnN0cnVjdG9yLkVsZW1lbnRDb3VudCxsPW8ocy5jb25zdHJ1Y3Rvci5FbGVtZW50VHlwZSksdT1zLm9mZnNldCxjPSEoIXMub3B0aW9uYWx8fCFzLm9wdGlvbmFsLmdsTm9ybWFsaXplZCk7cmV0dXJuIG5ldyBlKGksZixsLHUsbixjLHIpfSkpfWZ1bmN0aW9uIG8odCl7Y29uc3QgZT1uW3RdO2lmKGUpcmV0dXJuIGU7dGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyVHlwZSBub3Qgc3VwcG9ydGVkIGluIFdlYkdMXCIpfWNvbnN0IG49e3U4OnQuVU5TSUdORURfQllURSx1MTY6dC5VTlNJR05FRF9TSE9SVCx1MzI6dC5VTlNJR05FRF9JTlQsaTg6dC5CWVRFLGkxNjp0LlNIT1JULGkzMjp0LklOVCxmMzI6dC5GTE9BVH07ZXhwb3J0e3IgYXMgZ2xMYXlvdXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxvLG4pe2NvbnN0IHI9by8zLGM9bmV3IFVpbnQzMkFycmF5KG4rMSksZT1uZXcgVWludDMyQXJyYXkobisxKSxzPSh0LG8pPT57dDxvP2NbdCsxXSsrOmVbbysxXSsrfTtmb3IobGV0IHg9MDt4PHI7eCsrKXtjb25zdCBvPXRbMyp4XSxuPXRbMyp4KzFdLHI9dFszKngrMl07cyhvLG4pLHMobixyKSxzKHIsbyl9bGV0IGY9MCxsPTA7Zm9yKGxldCB4PTA7eDxuO3grKyl7Y29uc3QgdD1jW3grMV0sbz1lW3grMV07Y1t4KzFdPWYsZVt4KzFdPWwsZis9dCxsKz1vfWNvbnN0IGk9bmV3IFVpbnQzMkFycmF5KDYqciksYT1jW25dLHc9KHQsbyxuKT0+e2lmKHQ8byl7Y29uc3Qgcj1jW3QrMV0rKztpWzIqcl09byxpWzIqcisxXT1ufWVsc2V7Y29uc3Qgcj1lW28rMV0rKztpWzIqYSsyKnJdPXQsaVsyKmErMipyKzFdPW59fTtmb3IobGV0IHg9MDt4PHI7eCsrKXtjb25zdCBvPXRbMyp4XSxuPXRbMyp4KzFdLHI9dFszKngrMl07dyhvLG4seCksdyhuLHIseCksdyhyLG8seCl9Y29uc3QgeT0odCxvKT0+e2NvbnN0IG49Mip0LHI9by10O2ZvcihsZXQgYz0xO2M8cjtjKyspe2NvbnN0IHQ9aVtuKzIqY10sbz1pW24rMipjKzFdO2xldCByPWMtMTtmb3IoO3I+PTAmJmlbbisyKnJdPnQ7ci0tKWlbbisyKnIrMl09aVtuKzIqcl0saVtuKzIqciszXT1pW24rMipyKzFdO2lbbisyKnIrMl09dCxpW24rMipyKzNdPW99fTtmb3IobGV0IHg9MDt4PG47eCsrKXkoY1t4XSxjW3grMV0pLHkoYStlW3hdLGErZVt4KzFdKTtjb25zdCBBPW5ldyBJbnQzMkFycmF5KDMqciksVT0obyxuKT0+bz09PXRbMypuXT8wOm89PT10WzMqbisxXT8xOm89PT10WzMqbisyXT8yOi0xLHU9KHQsbyk9Pntjb25zdCBuPVUodCxvKTtBWzMqbytuXT0tMX0scD0odCxvLG4scik9Pntjb25zdCBjPVUodCxvKTtBWzMqbytjXT1yO2NvbnN0IGU9VShuLHIpO0FbMypyK2VdPW99O2ZvcihsZXQgeD0wO3g8bjt4Kyspe2xldCB0PWNbeF07Y29uc3Qgbz1jW3grMV07bGV0IG49ZVt4XTtjb25zdCByPWVbeCsxXTtmb3IoO3Q8byYmbjxyOyl7Y29uc3Qgbz1pWzIqdF0scj1pWzIqYSsyKm5dO289PT1yPyhwKHgsaVsyKnQrMV0scixpWzIqYSsyKm4rMV0pLHQrKyxuKyspOm88cj8odSh4LGlbMip0KzFdKSx0KyspOih1KHIsaVsyKmErMipuKzFdKSxuKyspfWZvcig7dDxvOyl1KHgsaVsyKnQrMV0pLHQrKztmb3IoO248cjspe3UoaVsyKmErMipuXSxpWzIqYSsyKm4rMV0pLG4rK319cmV0dXJuIEF9ZXhwb3J0e3QgYXMgY29tcHV0ZU5laWdoYm9yc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dsTGF5b3V0IGFzIE59ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9idWZmZXIvZ2xVdGlsLmpzXCI7aW1wb3J0e25ld0xheW91dCBhcyBPfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvYnVmZmVyL0ludGVybGVhdmVkTGF5b3V0LmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBJfWZyb21cIi4uL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2NvbnN0IEE9TygpLnZlYzNmKEkuUE9TSVRJT04pLnUxNihJLkNPTVBPTkVOVElOREVYKS51MTYoSS5VMTZQQURESU5HKSxlPU8oKS52ZWMydTgoSS5TSURFTkVTUyksVD1OKGUpLEU9TygpLnZlYzNmKEkuUE9TSVRJT04wKS52ZWMzZihJLlBPU0lUSU9OMSkudTE2KEkuQ09NUE9ORU5USU5ERVgpLnU4KEkuVkFSSUFOVE9GRlNFVCx7Z2xOb3JtYWxpemVkOiEwfSkudTgoSS5WQVJJQU5UU1RST0tFKS51OChJLlZBUklBTlRFWFRFTlNJT04se2dsTm9ybWFsaXplZDohMH0pLnU4KEkuVThQQURESU5HLHtnbFBhZGRpbmc6ITB9KS51MTYoSS5VMTZQQURESU5HLHtnbFBhZGRpbmc6ITB9KSxTPUUuY2xvbmUoKS52ZWMzZihJLk5PUk1BTCkscj1FLmNsb25lKCkudmVjM2YoSS5OT1JNQUxBKS52ZWMzZihJLk5PUk1BTEIpLG89bmV3IE1hcChbW0kuUE9TSVRJT04wLDBdLFtJLlBPU0lUSU9OMSwxXSxbSS5DT01QT05FTlRJTkRFWCwyXSxbSS5WQVJJQU5UT0ZGU0VULDNdLFtJLlZBUklBTlRTVFJPS0UsNF0sW0kuVkFSSUFOVEVYVEVOU0lPTiw1XSxbSS5OT1JNQUwsNl0sW0kuTk9STUFMQSw2XSxbSS5OT1JNQUxCLDddLFtJLlNJREVORVNTLDhdXSk7ZXhwb3J0e0UgYXMgQ29tbW9uSW5zdGFuY2VzTGF5b3V0LEEgYXMgRWRnZUlucHV0QnVmZmVyTGF5b3V0LG8gYXMgRWRnZVNoYWRlckF0dHJpYnV0ZUxvY2F0aW9ucyxTIGFzIFJlZ3VsYXJFZGdlSW5zdGFuY2VzTGF5b3V0LHIgYXMgU2lsaG91ZXR0ZUVkZ2VJbnN0YW5jZXNMYXlvdXQsZSBhcyBWZXJ0ZXhMYXlvdXQsVCBhcyBnbFZlcnRleExheW91dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9SYW5kb21MQ0cuanNcIjtpbXBvcnR7YSBhcyBvLG4gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Z2xMYXlvdXQgYXMgaX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2J1ZmZlci9nbFV0aWwuanNcIjtpbXBvcnR7UmVndWxhckVkZ2VJbnN0YW5jZXNMYXlvdXQgYXMgcixTaWxob3VldHRlRWRnZUluc3RhbmNlc0xheW91dCBhcyBzfWZyb21cIi4vYnVmZmVyTGF5b3V0cy5qc1wiO2NsYXNzIGF7dXBkYXRlU2V0dGluZ3ModCl7dGhpcy5zZXR0aW5ncz10LHRoaXMuX2VkZ2VIYXNoRnVuY3Rpb249dC5yZWR1Y2VkUHJlY2lzaW9uP2Y6cH13cml0ZSh0LG8sZSl7Y29uc3Qgbj10aGlzLl9lZGdlSGFzaEZ1bmN0aW9uKGUpO3kuc2VlZD1uO2NvbnN0IGk9eS5nZXRJbnRSYW5nZSgwLDI1NSkscj15LmdldEludFJhbmdlKDAsdGhpcy5zZXR0aW5ncy52YXJpYW50cy0xKSxzPS43LGE9eS5nZXRGbG9hdCgpLGM9MjU1KiguNSpnKC0oMS1NYXRoLm1pbihhL3MsMSkpK01hdGgubWF4KDAsYS1zKS8oMS1zKSwxLjIpKy41KTt0LnBvc2l0aW9uMC5zZXRWZWMobyxlLnBvc2l0aW9uMCksdC5wb3NpdGlvbjEuc2V0VmVjKG8sZS5wb3NpdGlvbjEpLHQuY29tcG9uZW50SW5kZXguc2V0KG8sZS5jb21wb25lbnRJbmRleCksdC52YXJpYW50T2Zmc2V0LnNldChvLGkpLHQudmFyaWFudFN0cm9rZS5zZXQobyxyKSx0LnZhcmlhbnRFeHRlbnNpb24uc2V0KG8sYyl9dHJpbSh0LG8pe3JldHVybiB0LnNsaWNlKDAsbyl9fWNvbnN0IGM9bmV3IEZsb2F0MzJBcnJheSg2KSxtPW5ldyBVaW50MzJBcnJheShjLmJ1ZmZlciksdT1uZXcgVWludDMyQXJyYXkoMSk7ZnVuY3Rpb24gcCh0KXtjb25zdCBvPWM7b1swXT10LnBvc2l0aW9uMFswXSxvWzFdPXQucG9zaXRpb24wWzFdLG9bMl09dC5wb3NpdGlvbjBbMl0sb1szXT10LnBvc2l0aW9uMVswXSxvWzRdPXQucG9zaXRpb24xWzFdLG9bNV09dC5wb3NpdGlvbjFbMl0sdVswXT01MzgxO2ZvcihsZXQgZT0wO2U8bS5sZW5ndGg7ZSsrKXVbMF09MzEqdVswXSttW2VdO3JldHVybiB1WzBdfWZ1bmN0aW9uIGYodCl7Y29uc3Qgbz1jO29bMF09aCh0LnBvc2l0aW9uMFswXSksb1sxXT1oKHQucG9zaXRpb24wWzFdKSxvWzJdPWgodC5wb3NpdGlvbjBbMl0pLG9bM109aCh0LnBvc2l0aW9uMVswXSksb1s0XT1oKHQucG9zaXRpb24xWzFdKSxvWzVdPWgodC5wb3NpdGlvbjFbMl0pLHVbMF09NTM4MTtmb3IobGV0IGU9MDtlPG0ubGVuZ3RoO2UrKyl1WzBdPTMxKnVbMF0rbVtlXTtyZXR1cm4gdVswXX1jb25zdCBsPTFlNDtmdW5jdGlvbiBoKHQpe3JldHVybiBNYXRoLnJvdW5kKHQqbCkvbH1mdW5jdGlvbiBnKHQsbyl7Y29uc3QgZT10PDA/LTE6MTtyZXR1cm4gTWF0aC5hYnModCkqKm8qZX1jbGFzcyBke2NvbnN0cnVjdG9yKCl7dGhpcy5fY29tbW9uV3JpdGVyPW5ldyBhfXVwZGF0ZVNldHRpbmdzKHQpe3RoaXMuX2NvbW1vbldyaXRlci51cGRhdGVTZXR0aW5ncyh0KX1hbGxvY2F0ZSh0KXtyZXR1cm4gci5jcmVhdGVCdWZmZXIodCl9d3JpdGUodCxuLGkpe3RoaXMuX2NvbW1vbldyaXRlci53cml0ZSh0LG4saSksbyhfLGkuZmFjZU5vcm1hbDAsaS5mYWNlTm9ybWFsMSksZShfLF8pLHQubm9ybWFsLnNldFZlYyhuLF8pfXRyaW0odCxvKXtyZXR1cm4gdGhpcy5fY29tbW9uV3JpdGVyLnRyaW0odCxvKX19ZC5MYXlvdXQ9cixkLmdsTGF5b3V0PWkociwxKTtjbGFzcyB3e2NvbnN0cnVjdG9yKCl7dGhpcy5fY29tbW9uV3JpdGVyPW5ldyBhfXVwZGF0ZVNldHRpbmdzKHQpe3RoaXMuX2NvbW1vbldyaXRlci51cGRhdGVTZXR0aW5ncyh0KX1hbGxvY2F0ZSh0KXtyZXR1cm4gcy5jcmVhdGVCdWZmZXIodCl9d3JpdGUodCxvLGUpe3RoaXMuX2NvbW1vbldyaXRlci53cml0ZSh0LG8sZSksdC5ub3JtYWxBLnNldFZlYyhvLGUuZmFjZU5vcm1hbDApLHQubm9ybWFsQi5zZXRWZWMobyxlLmZhY2VOb3JtYWwxKX10cmltKHQsbyl7cmV0dXJuIHRoaXMuX2NvbW1vbldyaXRlci50cmltKHQsbyl9fXcuTGF5b3V0PXMsdy5nbExheW91dD1pKHMsMSk7Y29uc3QgXz1uKCkseT1uZXcgdDtleHBvcnR7YSBhcyBDb21tb25CdWZmZXJXcml0ZXIsZCBhcyBSZWd1bGFyRWRnZUJ1ZmZlcldyaXRlcix3IGFzIFNpbGhvdWV0dGVFZGdlQnVmZmVyV3JpdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cmFuZ2UgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7ZGVnMnJhZCBhcyB0LGFjb3NDbGFtcGVkIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7aSBhcyBvLHMgYXMgcixjLGUgYXMgcyxyIGFzIGEsZiBhcyBpLGIgYXMgbCxuIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBnfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7Y29uc3QgbT0tMTt2YXIgdTtmdW5jdGlvbiBwKG4sYSxpLGw9Vil7Y29uc3QgZj1uLnZlcnRpY2VzLnBvc2l0aW9uLGc9bi52ZXJ0aWNlcy5jb21wb25lbnRJbmRleCx1PXQobC5hbmdsZVBsYW5hcikscD10KGwuYW5nbGVTaWduaWZpY2FudEVkZ2UpLHk9TWF0aC5jb3MocCksRT1NYXRoLmNvcyh1KSxOPUkuZWRnZSxTPU4ucG9zaXRpb24wLHg9Ti5wb3NpdGlvbjEsaj1OLmZhY2VOb3JtYWwwLEQ9Ti5mYWNlTm9ybWFsMSxGPXcobiksTD1kKG4pLGI9TC5sZW5ndGgvNCxrPWEuYWxsb2NhdGUoYik7bGV0IEM9MDtjb25zdCBIPWIsSz1pLmFsbG9jYXRlKEgpO2xldCBNPTAsTz0wLFA9MDtjb25zdCBUPWUoMCxiKSxVPW5ldyBGbG9hdDMyQXJyYXkoYik7VS5mb3JFYWNoKCgoZSx0LG4pPT57Zi5nZXRWZWMoTFs0KnRdLFMpLGYuZ2V0VmVjKExbNCp0KzFdLHgpLG5bdF09byhTLHgpfSkpLFQuc29ydCgoKGUsdCk9PlVbdF0tVVtlXSkpO2NvbnN0IHE9bmV3IEFycmF5LHo9bmV3IEFycmF5O2ZvcihsZXQgZT0wO2U8YjtlKyspe2NvbnN0IHQ9VFtlXSxuPVVbdF0sbz1MWzQqdF0sbD1MWzQqdCsxXSxwPUxbNCp0KzJdLGQ9TFs0KnQrM10sdz1kPT09bTtpZihmLmdldFZlYyhvLFMpLGYuZ2V0VmVjKGwseCksdylyKGosRlszKnBdLEZbMypwKzFdLEZbMypwKzJdKSxjKEQsaiksTi5jb21wb25lbnRJbmRleD1nLmdldChvKSxOLmNvc0FuZ2xlPXMoaixEKTtlbHNle2lmKHIoaixGWzMqcF0sRlszKnArMV0sRlszKnArMl0pLHIoRCxGWzMqZF0sRlszKmQrMV0sRlszKmQrMl0pLE4uY29tcG9uZW50SW5kZXg9Zy5nZXQobyksTi5jb3NBbmdsZT1zKGosRCksdihOLEUpKWNvbnRpbnVlO04uY29zQW5nbGU8LS45OTk5JiZjKEQsail9Tys9bixQKyssd3x8aChOLHkpPyhhLndyaXRlKGssQysrLE4pLHEucHVzaChuKSk6QShOLHUpJiYoaS53cml0ZShLLE0rKyxOKSx6LnB1c2gobikpfWNvbnN0IEI9bmV3IEZsb2F0MzJBcnJheShxLnJldmVyc2UoKSksRz1uZXcgRmxvYXQzMkFycmF5KHoucmV2ZXJzZSgpKTtyZXR1cm57cmVndWxhcjp7aW5zdGFuY2VzRGF0YTphLnRyaW0oayxDKSxsb2RJbmZvOntsZW5ndGhzOkJ9fSxzaWxob3VldHRlOntpbnN0YW5jZXNEYXRhOmkudHJpbShLLE0pLGxvZEluZm86e2xlbmd0aHM6R319LGF2ZXJhZ2VFZGdlTGVuZ3RoOk8vUH19ZnVuY3Rpb24gaChlLHQpe3JldHVybiBlLmNvc0FuZ2xlPHR9ZnVuY3Rpb24gdihlLHQpe3JldHVybiBlLmNvc0FuZ2xlPnR9ZnVuY3Rpb24gQShlLHQpe2NvbnN0IG89bihlLmNvc0FuZ2xlKSxyPUkuZndkLGM9SS5vcnRobzthKHIsZS5wb3NpdGlvbjEsZS5wb3NpdGlvbjApO3JldHVybiBvKihzKGkoYyxlLmZhY2VOb3JtYWwwLGUuZmFjZU5vcm1hbDEpLHIpPjA/LTE6MSk+dH1mdW5jdGlvbiBkKGUpe2NvbnN0IHQ9ZS5mYWNlcy5sZW5ndGgvMyxuPWUuZmFjZXMsbz1lLm5laWdoYm9ycztsZXQgcj0wO2ZvcihsZXQgYT0wO2E8dDthKyspe2NvbnN0IGU9b1szKmFdLHQ9b1szKmErMV0sYz1vWzMqYSsyXSxzPW5bMyphXSxpPW5bMyphKzFdLGw9blszKmErMl07cis9ZT09PW18fHM8aT8xOjAscis9dD09PW18fGk8bD8xOjAscis9Yz09PW18fGw8cz8xOjB9Y29uc3QgYz1uZXcgSW50MzJBcnJheSg0KnIpO2xldCBzPTA7Zm9yKGxldCBhPTA7YTx0O2ErKyl7Y29uc3QgZT1vWzMqYV0sdD1vWzMqYSsxXSxyPW9bMyphKzJdLGk9blszKmFdLGw9blszKmErMV0sZj1uWzMqYSsyXTsoZT09PW18fGk8bCkmJihjW3MrK109aSxjW3MrK109bCxjW3MrK109YSxjW3MrK109ZSksKHQ9PT1tfHxsPGYpJiYoY1tzKytdPWwsY1tzKytdPWYsY1tzKytdPWEsY1tzKytdPXQpLChyPT09bXx8ZjxpKSYmKGNbcysrXT1mLGNbcysrXT1pLGNbcysrXT1hLGNbcysrXT1yKX1yZXR1cm4gY31mdW5jdGlvbiB3KGUpe2NvbnN0IHQ9ZS5mYWNlcy5sZW5ndGgvMyxuPWUudmVydGljZXMucG9zaXRpb24sbz1lLmZhY2VzLHI9eS52MCxjPXkudjEscz15LnYyLGE9bmV3IEZsb2F0MzJBcnJheSgzKnQpO2ZvcihsZXQgZz0wO2c8dDtnKyspe2NvbnN0IGU9b1szKmddLHQ9b1szKmcrMV0sbT1vWzMqZysyXTtuLmdldFZlYyhlLHIpLG4uZ2V0VmVjKHQsYyksbi5nZXRWZWMobSxzKSxsKGMsYyxyKSxsKHMscyxyKSxpKHIsYyxzKSxmKHIsciksYVszKmddPXJbMF0sYVszKmcrMV09clsxXSxhWzMqZysyXT1yWzJdfXJldHVybiBhfSFmdW5jdGlvbihlKXtlW2UuU09MSUQ9MF09XCJTT0xJRFwiLGVbZS5TS0VUQ0g9MV09XCJTS0VUQ0hcIn0odXx8KHU9e30pKTtjb25zdCBJPXtlZGdlOntwb3NpdGlvbjA6ZygpLHBvc2l0aW9uMTpnKCksZmFjZU5vcm1hbDA6ZygpLGZhY2VOb3JtYWwxOmcoKSxjb21wb25lbnRJbmRleDowLGNvc0FuZ2xlOjB9LG9ydGhvOmcoKSxmd2Q6ZygpfSx5PXt2MDpnKCksdjE6ZygpLHYyOmcoKX0sVj17YW5nbGVQbGFuYXI6NCxhbmdsZVNpZ25pZmljYW50RWRnZTozNX07ZXhwb3J0e3UgYXMgRWRnZVR5cGUscCBhcyBleHRyYWN0RWRnZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkZWR1cGxpY2F0ZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbWVzaFV0aWxzL2RlZHVwbGljYXRlLmpzXCI7aW1wb3J0e2NvbXB1dGVOZWlnaGJvcnMgYXMgdH1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L21lc2hQcm9jZXNzaW5nLmpzXCI7aW1wb3J0e25ld0xheW91dCBhcyBpfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvYnVmZmVyL0ludGVybGVhdmVkTGF5b3V0LmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyByfWZyb21cIi4uL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtFZGdlSW5wdXRCdWZmZXJMYXlvdXQgYXMgc31mcm9tXCIuL2J1ZmZlckxheW91dHMuanNcIjtpbXBvcnR7UmVndWxhckVkZ2VCdWZmZXJXcml0ZXIgYXMgbixTaWxob3VldHRlRWRnZUJ1ZmZlcldyaXRlciBhcyBvfWZyb21cIi4vZWRnZUJ1ZmZlcldyaXRlcnMuanNcIjtpbXBvcnR7ZXh0cmFjdEVkZ2VzIGFzIGN9ZnJvbVwiLi9lZGdlUHJlcHJvY2Vzc2luZy5qc1wiO2Z1bmN0aW9uIGYoZSl7Y29uc3QgdD11KGUuZGF0YSxlLnNraXBEZWR1cGxpY2F0ZSxlLmluZGljZXMsZS5pbmRpY2VzTGVuZ3RoKTtyZXR1cm4gcC51cGRhdGVTZXR0aW5ncyhlLndyaXRlclNldHRpbmdzKSxkLnVwZGF0ZVNldHRpbmdzKGUud3JpdGVyU2V0dGluZ3MpLGModCxwLGQpfWZ1bmN0aW9uIHUoaSxyLG4sbyl7aWYocil7Y29uc3QgZT10KG4sbyxpLmNvdW50KTtyZXR1cm4gbmV3IGcobixvLGUsaSl9Y29uc3QgYz1lKGkuYnVmZmVyLGkuc3RyaWRlLzQse29yaWdpbmFsSW5kaWNlczpuLG9yaWdpbmFsSW5kaWNlc0xlbmd0aDpvfSksZj10KGMuaW5kaWNlcyxvLGMudW5pcXVlQ291bnQpO3JldHVybntmYWNlczpjLmluZGljZXMsZmFjZXNMZW5ndGg6Yy5pbmRpY2VzLmxlbmd0aCxuZWlnaGJvcnM6Zix2ZXJ0aWNlczpzLmNyZWF0ZVZpZXcoYy5idWZmZXIpfX1jbGFzcyBne2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuZmFjZXM9ZSx0aGlzLmZhY2VzTGVuZ3RoPXQsdGhpcy5uZWlnaGJvcnM9aSx0aGlzLnZlcnRpY2VzPXJ9fWNvbnN0IHA9bmV3IG4sZD1uZXcgbyxhPWkoKS52ZWMzZihyLlBPU0lUSU9OMCkudmVjM2Yoci5QT1NJVElPTjEpLG09aSgpLnZlYzNmKHIuUE9TSVRJT04wKS52ZWMzZihyLlBPU0lUSU9OMSkudTE2KHIuQ09NUE9ORU5USU5ERVgpLnUxNihyLlUxNlBBRERJTkcse2dsUGFkZGluZzohMH0pO2V4cG9ydHtmIGFzIGV4dHJhY3QsbSBhcyBleHRyYWN0Q29tcG9uZW50c0VkZ2VMb2NhdGlvbnNMYXlvdXQsdSBhcyBleHRyYWN0RWRnZUluZm9ybWF0aW9uLGEgYXMgZXh0cmFjdEVkZ2VMb2NhdGlvbnNMYXlvdXR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9