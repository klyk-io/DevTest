"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_geometry_support_quantizationUtils_js-node_modules_ar-abbc03"],{

/***/ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/quantizationUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   equals: () => (/* binding */ c),
/* harmony export */   getQuantizedBoundsCoordsArray: () => (/* binding */ F),
/* harmony export */   getQuantizedBoundsCoordsArrayArray: () => (/* binding */ V),
/* harmony export */   getQuantizedBoundsPaths: () => (/* binding */ _),
/* harmony export */   getQuantizedBoundsPoints: () => (/* binding */ Y),
/* harmony export */   getQuantizedBoundsRings: () => (/* binding */ A),
/* harmony export */   quantizeBounds: () => (/* binding */ h),
/* harmony export */   quantizeExtent: () => (/* binding */ w),
/* harmony export */   quantizeGeometry: () => (/* binding */ d),
/* harmony export */   quantizeMultipoint: () => (/* binding */ G),
/* harmony export */   quantizePaths: () => (/* binding */ N),
/* harmony export */   quantizePoint: () => (/* binding */ L),
/* harmony export */   quantizePoints: () => (/* binding */ I),
/* harmony export */   quantizePolygon: () => (/* binding */ O),
/* harmony export */   quantizePolyline: () => (/* binding */ S),
/* harmony export */   quantizeRings: () => (/* binding */ g),
/* harmony export */   quantizeX: () => (/* binding */ s),
/* harmony export */   quantizeY: () => (/* binding */ f),
/* harmony export */   toQuantizationTransform: () => (/* binding */ m),
/* harmony export */   unquantizeBounds: () => (/* binding */ M),
/* harmony export */   unquantizeCoordsArray: () => (/* binding */ z),
/* harmony export */   unquantizeCoordsArrayArray: () => (/* binding */ T),
/* harmony export */   unquantizeExtent: () => (/* binding */ j),
/* harmony export */   unquantizeMultipoint: () => (/* binding */ U),
/* harmony export */   unquantizePaths: () => (/* binding */ P),
/* harmony export */   unquantizePoint: () => (/* binding */ k),
/* harmony export */   unquantizePoints: () => (/* binding */ E),
/* harmony export */   unquantizePolygon: () => (/* binding */ q),
/* harmony export */   unquantizePolyline: () => (/* binding */ v),
/* harmony export */   unquantizeRings: () => (/* binding */ b),
/* harmony export */   unquantizeX: () => (/* binding */ p),
/* harmony export */   unquantizeY: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(n){return n&&"upperLeft"===n.originPosition}const i=(n,t,e)=>[t,e],o=(n,t,e)=>[t,e,n[2]],a=(n,t,e)=>[t,e,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:null!=n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let e,r,u,i,o,a;return l(n)?(e=n.translate[0],r=n.translate[1],u=n.scale[0]):(e=null!=n.extent?n.extent.xmin:0,r=null!=n.extent?n.extent.ymax:0,u=n.tolerance),l(t)?(i=t.translate[0],o=t.translate[1],a=t.scale[0]):(i=null!=t.extent?t.extent.xmin:0,o=null!=t.extent?t.extent.ymax:0,a=t.tolerance),e===i&&r===o&&u===a}function s({scale:n,translate:t},e){return Math.round((e-t[0])/n[0])}function f({scale:n,translate:t},e){return Math.round((t[1]-e)/n[1])}function x(n,t,e){const r=[];let u,l,i,o;for(let a=0;a<e.length;a++){const m=e[a];a>0?(i=s(n,m[0]),o=f(n,m[1]),i===u&&o===l||(r.push(t(m,i-u,o-l)),u=i,l=o)):(u=s(n,m[0]),l=f(n,m[1]),r.push(t(m,u,l)))}return r.length>0?r:null}function h(n,t,e){return t[0]=s(n,e[0]),t[3]=f(n,e[1]),t[2]=s(n,e[2]),t[1]=f(n,e[3]),t}function I(n,t,e,r){return x(n,e?r?a:o:r?o:i,t)}function g(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=3&&u.push(e)}return u.length?u:null}function N(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=2&&u.push(e)}return u.length?u:null}function p({scale:n,translate:t},e){return e*n[0]+t[0]}function y({scale:n,translate:t},e){return t[1]-e*n[1]}function z(n,t,e){const r=new Array(e.length);if(!e.length)return r;const[u,l]=n.scale;let i=p(n,e[0][0]),o=y(n,e[0][1]);r[0]=t(e[0],i,o);for(let a=1;a<e.length;a++){const n=e[a];i+=n[0]*u,o-=n[1]*l,r[a]=t(n,i,o)}return r}function T(n,t,e){const r=new Array(e.length);for(let u=0;u<e.length;u++)r[u]=z(n,t,e[u]);return r}function M(n,t,e){return e?(t[0]=p(n,e[0]),t[1]=y(n,e[3]),t[2]=p(n,e[2]),t[3]=y(n,e[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,e,r){return z(n,e?r?a:o:r?o:i,t)}function P(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}function b(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}function F(n,t,e){let[r,u]=e[0],l=Math.min(r,t[0]),i=Math.min(u,t[1]),o=Math.max(r,t[2]),a=Math.max(u,t[3]);for(let m=1;m<e.length;m++){const[n,t]=e[m];r+=n,u+=t,n<0&&(l=Math.min(l,r)),n>0&&(o=Math.max(o,r)),t<0?i=Math.min(i,u):t>0&&(a=Math.max(a,u))}return n[0]=l,n[1]=i,n[2]=o,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++)F(n,n,t[e]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,e,r,u){return t.xmin=s(n,e.xmin),t.ymin=f(n,e.ymin),t.xmax=s(n,e.xmax),t.ymax=f(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function G(n,t,e,r,u){return t.points=I(n,e.points,r,u)??[],t}function L(n,t,e,r,u){return t.x=s(n,e.x),t.y=f(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function O(n,t,e,r,u){const l=g(n,e.rings,r,u);return l?(t.rings=l,t):null}function S(n,t,e,r,u){const l=N(n,e.paths,r,u);return l?(t.paths=l,t):null}function d(l,i){return l&&i?(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPoint)(i)?L(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(i)?S(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(i)?O(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultipoint)(i)?G(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isExtent)(i)?w(l,{},i,!1,!1):null:null}function j(n,t,e,r,u){return t.xmin=p(n,e.xmin),t.ymin=y(n,e.ymin),t.xmax=p(n,e.xmax),t.ymax=y(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function U(n,t,e,r,u){return null!=e&&(t.points=E(n,e.points,r,u)),t}function k(n,t,e,r,u){return null==e||(t.x=p(n,e.x),t.y=y(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m))),t}function q(n,t,e,r,u){return null!=e&&(t.rings=b(n,e.rings,r,u)),t}function v(n,t,e,r,u){return null!=e&&(t.paths=P(n,e.paths,r,u)),t}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_fontUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/fontUtils.js */ "./node_modules/@arcgis/core/core/fontUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_base64Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/base64Utils.js */ "./node_modules/@arcgis/core/support/base64Utils.js");
/* harmony import */ var _views_2d_engine_webgl_animatedFormats_apng_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../views/2d/engine/webgl/animatedFormats/apng.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/apng.js");
/* harmony import */ var _views_2d_engine_webgl_animatedFormats_gif_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../views/2d/engine/webgl/animatedFormats/gif.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/gif.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,t){const r=this._resourceMap.get(e);if(r)return{width:r.width,height:r.height};let i=this._inFlightResourceMap.get(e);return i?i.then((e=>({width:e.width,height:e.height}))):(i=l(e,t),this._inFlightResourceMap.set(e,i),i.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return (0,_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_2__.loadFont)(e)}}async function u(r,s){const o=window.URL.createObjectURL(r);try{const{data:t}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o,{...s,responseType:"image"});return t}catch(n){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(n))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-invalid-resource",`Could not fetch requested resource at ${o}`);throw n}finally{window.URL.revokeObjectURL(o)}}async function l(e,t){const{arrayBuffer:r,mediaType:i}=await p(e,t),s="image/png"===i;if("image/gif"===i&&(0,_views_2d_engine_webgl_animatedFormats_gif_js__WEBPACK_IMPORTED_MODULE_6__.isAnimatedGIF)(r))return (0,_views_2d_engine_webgl_animatedFormats_gif_js__WEBPACK_IMPORTED_MODULE_6__.parseGif)(r);if(s&&(0,_views_2d_engine_webgl_animatedFormats_apng_js__WEBPACK_IMPORTED_MODULE_5__.isAnimatedPNG)(r))return (0,_views_2d_engine_webgl_animatedFormats_apng_js__WEBPACK_IMPORTED_MODULE_5__.parseApng)(r,t);return u(new Blob([r],{type:i}),t)}async function p(r,o){let n;const a=";base64,";if(r.includes(a)){const e=r.indexOf(a),t=r.indexOf(a)+a.length,i=r.substring(t);n={arrayBuffer:(0,_support_base64Utils_js__WEBPACK_IMPORTED_MODULE_4__.base64ToArrayBuffer)(i),mediaType:r.substring(0,e).replace("data:","")}}else try{const t=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(r,{responseType:"array-buffer",...o}),i=t.data;n={arrayBuffer:i,mediaType:t.getHeader("Content-Type")}}catch(c){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(c))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-invalid-resource",`Could not fetch requested resource at ${r}`)}return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CIMSymbolRasterizer: () => (/* binding */ z),
/* harmony export */   GeometryStyle: () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cimAnalyzer.js */ "./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js");
/* harmony import */ var _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CIMResourceManager.js */ "./node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js");
/* harmony import */ var _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CIMSymbolDrawHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js");
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _Rasterizer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Rasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/Rasterizer.js");
/* harmony import */ var _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TextRasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/Symbol3DAnchorPosition2D.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DAnchorPosition2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var M;!function(e){e.Legend="legend",e.Preview="preview"}(M||(M={}));const _=e=>e&&e.scaleFactor?e.scaleFactor:1,b=96/72;class z{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._imageDataCanvas=null,this._pictureMarkerCache=new Map,this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_10__["default"],this._cimResourceManager=new _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_6__["default"],this._rasterizer=new _Rasterizer_js__WEBPACK_IMPORTED_MODULE_9__["default"](this._cimResourceManager)}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,a,i,r,o,s,n){if(!e)return null;const{data:g}=e;if(!g||"CIMSymbolReference"!==g.type||!g.symbol)return null;const{symbol:u}=g;o||(o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.mapCIMSymbolToGeometryType)(u));const d=await _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__.OverrideHelper.resolveSymbolOverrides(g,t,this._spatialReference,r,o,s,n);this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const y=this._imageDataCanvas,p=this._cimResourceManager,w=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__.CIMSymbolHelper.fetchResources(d,p,w),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__.CIMSymbolHelper.fetchFonts(d,p,w),w.length>0&&await Promise.all(w);const{width:C,height:M}=a,_=v(o,C,M,i),z=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__.CIMSymbolHelper.getEnvelope(d,_,p);if(!z)return null;const I=(window.devicePixelRatio||1)*b;let x=1,R=0,P=0;switch(u.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;z.width>C&&(e=C/z.width);let t=1;z.height>M&&(t=M/z.height),"preview"===i&&(z.width<C&&(e=C/z.width),z.height<M&&(t=M/z.height)),x=Math.min(e,t),R=z.x+z.width/2,P=z.y+z.height/2}break;case"CIMLineSymbol":{let e=1;z.height>M&&(e=M/z.height),x=e,P=z.y+z.height/2;const t=z.x*x+C/2,a=(z.x+z.width)*x+C/2;if(t<0){const{paths:e}=_;e[0][0][0]-=t}if(a>C){const{paths:e}=_;e[0][2][0]-=a-C}}break;case"CIMPolygonSymbol":{R=z.x+z.width/2,P=z.y+z.height/2;const e=z.x*x+C/2,t=(z.x+z.width)*x+C/2,a=z.y*x+M/2,i=(z.y+z.height)*x+M/2,{rings:r}=_;e<0&&(r[0][0][0]-=e,r[0][3][0]-=e,r[0][4][0]-=e),a<0&&(r[0][0][1]+=a,r[0][1][1]+=a,r[0][4][1]+=a),t>C&&(r[0][1][0]-=t-C,r[0][2][0]-=t-C),i>M&&(r[0][2][1]+=i-M,r[0][3][1]+=i-M)}}y.width=C*I,y.height=M*I;const D=1;y.width+=2*D,y.height+=2*D;const S=y.getContext("2d"),k=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_7__.Transformation.createIdentity();k.translate(-R,-P),k.scale(x*I,-x*I),k.translate(C*I/2+D,M*I/2+D),S.clearRect(0,0,y.width,y.height);return new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_7__.CanvasDrawHelper(S,p,k,!0).drawSymbol(d,_),S.getImageData(0,0,y.width,y.height)}async analyzeCIMSymbol3D(e,t,a,r,s){const n=[],c=t?{geometryType:r,spatialReference:this._spatialReference,fields:t}:null,l=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__.CIMSymbolHelper.fetchFonts(e.data.symbol,this._cimResourceManager,l),await Promise.all(l);const h=new _cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_5__.CIMAnalyzer(this._cimResourceManager,c);let g;await h.analyzeSymbolReference(e.data,this._avoidSDF,n),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s);for(const i of n)"CIMPictureMarker"!==i.cim.type&&"CIMPictureFill"!==i.cim.type&&"CIMPictureStroke"!==i.cim.type||(g||(g=[]),g.push(this._fetchPictureMarkerResource(i,s))),a&&"text"===i.type&&"string"==typeof i.text&&i.text.includes("[")&&(i.text=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.createLabelOverrideFunction)(a,i.text,i.cim.textCase));return g&&await Promise.all(g),n}rasterizeCIMSymbol3D(e,t,a,i,r,o){const s=[];for(const n of e){i&&"function"==typeof i.scaleFactor&&(i.scaleFactor=i.scaleFactor(t,r,o));const e=this._getRasterizedResource(n,t,a,i,r,o);if(!e)continue;let c=0,l=e.anchorX||0,h=e.anchorY||0,m=!1,g=0,u=0;if("esriGeometryPoint"===a){const e=_(i);if(g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n.offsetX,t,r,o)*e||0,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n.offsetY,t,r,o)*e||0,"marker"===n.type)c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n.rotation,t,r,o)||0,m=n.rotateClockwise??!1;else if("text"===n.type){if(c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n.angle,t,r,o)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case"left":l=-.5;break;case"right":l=.5;break;default:l=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case"top":h=.5;break;case"bottom":h=-.5;break;case"baseline":h=-.25;break;default:h=0}}}null!=e&&s.push({angle:c,rotateClockWise:m,anchorX:l,anchorY:h,offsetX:g,offsetY:u,rasterizedResource:e})}return this.getSymbolImage(s)}getSymbolImage(e){const t=document.createElement("canvas"),i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.unwrapOrThrow)(t.getContext("2d"));let o=0,s=0,n=0,c=0;const l=[];for(let a=0;a<e.length;a++){const t=e[a],h=t.rasterizedResource;if(!h)continue;const m=h.size,g=t.offsetX,u=t.offsetY,f=t.anchorX,d=t.anchorY,y=t.rotateClockWise||!1;let p=t.angle,w=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(g)-m[0]*(.5+f),C=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(u)-m[1]*(.5+d),M=w+m[0],_=C+m[1];if(p){y&&(p=-p);const e=Math.sin(p*Math.PI/180),t=Math.cos(p*Math.PI/180),a=w*t-C*e,i=w*e+C*t,r=w*t-_*e,o=w*e+_*t,s=M*t-_*e,n=M*e+_*t,c=M*t-C*e,l=M*e+C*t;w=Math.min(a,r,s,c),C=Math.min(i,o,n,l),M=Math.max(a,r,s,c),_=Math.max(i,o,n,l)}o=w<o?w:o,s=C<s?C:s,n=M>n?M:n,c=_>c?_:c;const b=i.createImageData(h.size[0],h.size[1]);b.data.set(new Uint8ClampedArray(h.image.buffer));const z={offsetX:g,offsetY:u,rotateClockwise:y,angle:p,rasterizedImage:b,anchorX:f,anchorY:d};l.push(z)}t.width=n-o,t.height=c-s;const h=-o,m=c;for(let a=0;a<l.length;a++){const e=l[a],t=this._imageDataToCanvas(e.rasterizedImage),o=e.rasterizedImage.width,s=e.rasterizedImage.height,n=h-o*(.5+e.anchorX),c=m-s*(.5-e.anchorY);if(e.angle){const a=(360-e.angle)*Math.PI/180;i.save(),i.translate((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.offsetX),-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.offsetY)),i.translate(h,m),i.rotate(a),i.translate(-h,-m),i.drawImage(t,n,c),i.restore()}else i.drawImage(t,n+(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.offsetX),c-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.offsetY))}const g=new _support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_13__.Symbol3DAnchorPosition2D({x:h/t.width-.5,y:m/t.height-.5});return{imageData:0!==t.width&&0!==t.height?i.getImageData(0,0,t.width,t.height):i.createImageData(1,1),anchorPosition:g}}async _fetchPictureMarkerResource(e,a){const i=e.materialHash;if(!this._pictureMarkerCache.get(i)){const r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(e.cim.url,{responseType:"image",signal:a&&a.signal})).data;this._pictureMarkerCache.set(i,r)}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const t=this._imageDataCanvas,i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.unwrapOrThrow)(t.getContext("2d"));return t.width=e.width,t.height=e.height,i.putImageData(e,0,0),t}_imageTo32Array(t,i,r,o){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const s=this._imageDataCanvas,n=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.unwrapOrThrow)(s.getContext("2d"));if(s.width=i,s.height=r,n.drawImage(t,0,0,i,r),o){n.save();const a=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](o);n.fillStyle=a.toHex(),n.globalCompositeOperation="multiply",n.fillRect(0,0,i,r),n.globalCompositeOperation="destination-atop",n.drawImage(t,0,0,i,r),n.restore()}return new Uint32Array(n.getImageData(0,0,i,r).data.buffer)}_getRasterizedResource(e,t,i,r,o,s){let n,c,l;const h=null,m=null;if("text"===e.type)return this._rasterizeTextResource(e,t,r,o,s);({analyzedCIM:n,hash:c}=I(e,t,o,s));const g=_(r);if("CIMPictureMarker"===e.cim.type){const i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.size,t,o,s)*g,{image:r,width:n,height:c}=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.unwrapOrThrow)(this._getPictureResource(e,i,(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.color,t,o,s)));return l={image:r,size:[n,c],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},l}(0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_12__.scaleCIMMarker)(n,g,{preserveOutlineWidth:!1});const u=n;c+=i,r&&(c+=JSON.stringify(r));const f=this._resourceCache;return f.has(c)?f.get(c):(l=this._rasterizer.rasterizeJSONResource({cim:u,type:e.type,url:e.url,mosaicHash:c,size:h,path:m},window.devicePixelRatio||1,this._avoidSDF),f.set(c,l),l)}_rasterizeTextResource(e,t,a,i,r){const o=_(a),s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.text,t,i,r);if(!s||0===s.length)return null;const n=e.cim,c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n?.fontFamilyName||e.fontName,t,i,r),l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n?.font?.style||e.style,t,i,r),h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n?.font?.weight||e.weight,t,i,r),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(n?.font?.decoration||e.decoration,t,i,r),g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.size,t,i,r)*o,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.horizontalAlignment,t,i,r),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.verticalAlignment,t,i,r),d=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.colorToArray)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.color,t,i,r)),w=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.colorToArray)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.outlineColor,t,i,r)),C=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateValueOrFunction)(e.outlineSize,t,i,r),M=null!=e.backgroundColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.colorToArray)(e.backgroundColor):null,b=null!=e.borderLineColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__.colorToArray)(e.borderLineColor):null,z=null!=e.borderLineWidth?e.borderLineWidth:null,v={color:d,size:g,horizontalAlignment:u,verticalAlignment:f,font:{family:c,style:l,weight:h,decoration:m},halo:{size:C||0,color:w,style:l},backgroundColor:M,borderLine:null!=b&&null!=z?{color:b,size:z}:null,pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(s,v)}_getPictureResource(e,t,a){const i=this._pictureMarkerCache.get(e.materialHash);if(!i)return null;const o=i.height/i.width,s=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(t):(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(t)/o:i.width,n=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(t)*o:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(t):i.height;return{image:this._imageTo32Array(i,s,n,a),width:s,height:n}}}function v(e,t,a,i){const r=1,o=-t/2+r,s=t/2-r,n=a/2-r,c=-a/2+r;switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[o,0],[0,0],[s,0]]]};default:return"legend"===i?{rings:[[[o,n],[s,0],[s,c],[o,c],[o,n]]]}:{rings:[[[o,n],[s,n],[s,c],[o,c],[o,n]]]}}}function I(e,t,a,i){let r,o;if("function"==typeof e.materialHash){r=(0,e.materialHash)(t,a,i),o=(0,_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_5__.analyzeCIMResource)(e.cim,e.materialOverrides)}else r=e.materialHash,o=e.cim;return{analyzedCIM:o,hash:r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   previewCIMSymbol: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cim/CIMSymbolRasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js");
/* harmony import */ var _cim_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cim/utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _previewUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./previewUtils.js */ "./node_modules/@arcgis/core/symbols/support/previewUtils.js");
/* harmony import */ var _renderUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderUtils.js */ "./node_modules/@arcgis/core/symbols/support/renderUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const c=new _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.CIMSymbolRasterizer(null,!0),h=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_4__.SymbolSizeDefaults.size),m=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_4__.SymbolSizeDefaults.maxSize),u=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_4__.SymbolSizeDefaults.lineWidth),f=1;function y(e){const t=e?.size;if("number"==typeof t)return{width:t,height:t};return{width:null!=t&&"object"==typeof t&&"width"in t?t.width:null,height:null!=t&&"object"==typeof t&&"height"in t?t.height:null}}async function d(e,r={}){const{node:a,opacity:d,symbolConfig:g}=r,p=null!=g&&"object"==typeof g&&"isSquareFill"in g&&g.isSquareFill,w=r.cimOptions||r,b=w.geometryType||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_3__.mapCIMSymbolToGeometryType)(e?.data?.symbol),M=y(r),{feature:j,fieldMap:v}=w;if(null==M.width||null==M.height){const t=await _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.OverrideHelper.resolveSymbolOverrides(e.data,j,null,v,b);if(!t)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:t},e.data.primitiveOverrides=void 0;const r=[];_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.fetchResources(t,c.resourceManager,r),_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.fetchFonts(t,c.resourceManager,r),r.length>0&&await Promise.all(r);const n=_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.getEnvelope(t,null,c.resourceManager),o=n?.width,a=n?.height;M.width="esriGeometryPolygon"===b?h:"esriGeometryPolyline"===b?u:null!=o&&isFinite(o)?Math.min(o,m):h,M.height="esriGeometryPolygon"===b?h:null!=a&&isFinite(a)?Math.max(Math.min(a,m),f):h}const S=await c.rasterizeCIMSymbolAsync(e,j,M,p||"esriGeometryPolygon"!==b?_cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.GeometryStyle.Preview:_cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.GeometryStyle.Legend,v,b);if(!S)return null;const{width:C,height:L}=S,I=document.createElement("canvas");I.width=C,I.height=L;I.getContext("2d").putImageData(S,0,0);const P=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(M.width),x=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(M.height),z=new Image(P,x);z.src=I.toDataURL(),z.ariaLabel=r.ariaLabel??null,z.alt=r.ariaLabel??"",null!=d&&(z.style.opacity=`${d}`);let F=z;if(null!=r.effectView){const e={shape:{type:"image",x:0,y:0,width:P,height:x,src:z.src},fill:null,stroke:null,offset:[0,0]};F=(0,_renderUtils_js__WEBPACK_IMPORTED_MODULE_5__.renderSymbol)([[e]],[P,x],{effectView:r.effectView,ariaLabel:r.ariaLabel})}return a&&F&&a.appendChild(F),F}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HAlign: () => (/* binding */ e),
/* harmony export */   VAlign: () => (/* binding */ t),
/* harmony export */   getAlignmentFromPlacement: () => (/* binding */ a),
/* harmony export */   getJustification: () => (/* binding */ s),
/* harmony export */   getXAnchorDirection: () => (/* binding */ r),
/* harmony export */   getXDirection: () => (/* binding */ c),
/* harmony export */   getYAnchorDirection: () => (/* binding */ n),
/* harmony export */   getYDirection: () => (/* binding */ o),
/* harmony export */   isMapAligned: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var e,t;function r(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function n(e){switch(e){case"top":return t.Top;case"middle":return t.Center;case"baseline":return t.Baseline;case"bottom":return t.Bottom}}function a(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[e.Right,t.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[e.Center,t.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[e.Left,t.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[e.Right,t.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[e.Center,t.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[e.Left,t.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[e.Right,t.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[e.Center,t.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[e.Left,t.Top];default:return console.debug(`Found invalid placement type ${r}`),[e.Center,t.Center]}}function c(t){switch(t){case e.Right:return-1;case e.Center:return 0;case e.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function o(e){switch(e){case t.Top:return 1;case t.Center:return 0;case t.Bottom:case t.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function s(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function i(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}!function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(e||(e={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/apng.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/apng.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isAnimatedPNG: () => (/* binding */ a),
/* harmony export */   isPNG: () => (/* binding */ i),
/* harmony export */   parseApng: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_index2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/index2.js */ "./node_modules/@arcgis/core/chunks/index2.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function r(r,n){const i=(0,_chunks_index2_js__WEBPACK_IMPORTED_MODULE_0__.p)(r);if(i instanceof Error)throw i;await i.createImages(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(n);const{frames:a,width:s,height:p}=i,c=document.createElement("canvas");c.width=s,c.height=p;const l=c.getContext("2d",{willReadFrequently:!0}),m=[],h=[];for(const t of a){h.push((0,_core_time_js__WEBPACK_IMPORTED_MODULE_2__.Milliseconds)(t.delay||100));const e=t.imageElement;0===t.blendOp?l.globalCompositeOperation="copy":l.globalCompositeOperation="source-over";const r=2===t.disposeOp?l.getImageData(t.left,t.top,t.width,t.height):void 0;l.drawImage(e,t.left,t.top);const n=l.getImageData(0,0,s,p);m.push(n),0===t.disposeOp||(1===t.disposeOp?l.clearRect(t.left,t.top,t.width,t.height):2===t.disposeOp&&l.putImageData(r,t.left,t.top))}return{frameDurations:h,getFrame:t=>m[t],width:s,height:p}}const n=[137,80,78,71,13,10,26,10];function i(t){const e=new Uint8Array(t);return!n.some(((t,o)=>t!==e[o]))}function a(t){if(!i(t))return!1;const e=new DataView(t),o=new Uint8Array(t);let r,n=8;do{const t=e.getUint32(n);if(r=String.fromCharCode.apply(String,Array.prototype.slice.call(o.subarray(n+4,n+8))),"acTL"===r)return!0;n+=12+t}while("IEND"!==r&&n<o.length);return!1}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/gif.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/gif.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isAnimatedGIF: () => (/* binding */ o),
/* harmony export */   isGIF: () => (/* binding */ r),
/* harmony export */   parseGif: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/* harmony import */ var _geometry_support_meshUtils_exporters_gltf_imageutils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/support/meshUtils/exporters/gltf/imageutils.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js");
/* harmony import */ var _chunks_index3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/index3.js */ "./node_modules/@arcgis/core/chunks/index3.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function n(n,a){const r=(0,_chunks_index3_js__WEBPACK_IMPORTED_MODULE_2__.p)(n),o=(0,_chunks_index3_js__WEBPACK_IMPORTED_MODULE_2__.d)(r,!0),{width:c,height:d}=r.lsd,m=document.createElement("canvas");m.width=c,m.height=d;const u=m.getContext("2d",{willReadFrequently:!0}),f=[],h=[];for(const i of o){h.push((0,_core_time_js__WEBPACK_IMPORTED_MODULE_0__.Milliseconds)(i.delay||100));const s=new ImageData(i.patch,i.dims.width,i.dims.height),n=(0,_geometry_support_meshUtils_exporters_gltf_imageutils_js__WEBPACK_IMPORTED_MODULE_1__.imageTypeToCanvas)(s),a=3===i.disposalType?u.getImageData(i.dims.left,i.dims.top,i.dims.width,i.dims.height):void 0;u.drawImage(n,i.dims.left,i.dims.top);const r=u.getImageData(0,0,c,d);f.push(r),1===i.disposalType||(2===i.disposalType?u.clearRect(i.dims.left,i.dims.top,i.dims.width,i.dims.height):3===i.disposalType&&u.putImageData(a,i.dims.left,i.dims.top))}return{frameDurations:h,getFrame:t=>f[t],width:c,height:d}}const a=[71,73,70];function r(t){const e=new Uint8Array(t);return!a.some(((t,i)=>t!==e[i]))}function o(t){if(!r(t))return!1;const e=new DataView(t),i=e.getUint8(10);let s=13+(128&i?3*2**(1+(7&i)):0),n=0,a=!1;for(;!a;){switch(e.getUint8(s++)){case 33:if(!o())return!1;break;case 44:c();break;case 59:a=!0;break;default:return!1}if(n>1)return!0}function o(){switch(e.getUint8(s++)){case 249:d();break;case 1:m();break;case 254:u();break;case 255:f();break;default:return!1}return!0}function c(){n++,s+=8;const t=e.getUint8(s++);s+=128&t?3*2**(1+(7&t)):0,s++,h()}function d(){s++,s+=4,h()}function m(){n++,s++,s+=12,h()}function u(){h()}function f(){s++,s+=8,s+=3,h()}function h(){let t;for(;t=e.getUint8(s++);)s+=t}return!1}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/number.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i16: () => (/* binding */ e),
/* harmony export */   i1616to32: () => (/* binding */ w),
/* harmony export */   i32: () => (/* binding */ o),
/* harmony export */   i8: () => (/* binding */ u),
/* harmony export */   i8816to32: () => (/* binding */ y),
/* harmony export */   i8888to32: () => (/* binding */ x),
/* harmony export */   numTo32: () => (/* binding */ A),
/* harmony export */   toFloat32: () => (/* binding */ h),
/* harmony export */   toUint32: () => (/* binding */ a),
/* harmony export */   u16: () => (/* binding */ i),
/* harmony export */   u32: () => (/* binding */ c),
/* harmony export */   u32to4Xu8: () => (/* binding */ M),
/* harmony export */   u4u4to8: () => (/* binding */ m),
/* harmony export */   u8: () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2dlb21ldHJ5X3N1cHBvcnRfcXVhbnRpemF0aW9uVXRpbHNfanMtbm9kZV9tb2R1bGVzX2FyLWFiYmMwMy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd0csY0FBYyx5Q0FBeUMsd0VBQXdFLGNBQWMsa0JBQWtCLE9BQU8sd09BQXdPLGdCQUFnQixvQ0FBb0MsNkJBQTZCLGdCQUFnQiwyU0FBMlMsWUFBWSxvQkFBb0IsSUFBSSxpQ0FBaUMsWUFBWSxvQkFBb0IsSUFBSSxpQ0FBaUMsa0JBQWtCLFdBQVcsWUFBWSxZQUFZLFdBQVcsS0FBSyxhQUFhLHNIQUFzSCx5QkFBeUIsa0JBQWtCLHFFQUFxRSxvQkFBb0IsNEJBQTRCLG9CQUFvQiwyQkFBMkIsWUFBWSxXQUFXLEtBQUssb0JBQW9CLDBCQUEwQix1QkFBdUIsb0JBQW9CLDJCQUEyQixZQUFZLFdBQVcsS0FBSyxvQkFBb0IsMEJBQTBCLHVCQUF1QixZQUFZLG9CQUFvQixJQUFJLG1CQUFtQixZQUFZLG9CQUFvQixJQUFJLG1CQUFtQixrQkFBa0IsNEJBQTRCLHNCQUFzQixtQkFBbUIsa0NBQWtDLGlCQUFpQixZQUFZLFdBQVcsS0FBSyxhQUFhLGtDQUFrQyxTQUFTLGtCQUFrQiw0QkFBNEIsWUFBWSxXQUFXLHFCQUFxQixTQUFTLGtCQUFrQixtSEFBbUgsb0JBQW9CLDRCQUE0QixvQkFBb0IsNEJBQTRCLG9CQUFvQiw0QkFBNEIsa0JBQWtCLDBGQUEwRixZQUFZLFdBQVcsS0FBSyxnQkFBZ0IsbUdBQW1HLHFDQUFxQyxnQkFBZ0IseUJBQXlCLHNFQUFzRSxZQUFZLFdBQVcsZ0JBQWdCLFNBQVMsY0FBYyw4R0FBOEcsZ0JBQWdCLGNBQWMsc0JBQXNCLGNBQWMsc0JBQXNCLHNCQUFzQixnS0FBZ0ssc0JBQXNCLHdDQUF3Qyxz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LGFBQWEsYUFBYSxhQUFhLGtCQUFrQixhQUFhLElBQUksYUFBYSxrQkFBa0IsYUFBYSxNQUFNLEtBQUssa0JBQWtCLE1BQU0sU0FBNkQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGtCQUFrQiw2Q0FBNkMsY0FBYyxxQkFBcUIsY0FBYyx5QkFBeUIsY0FBYyxtQ0FBbUMsY0FBYyxrQkFBa0IsY0FBYyxvQkFBb0IsY0FBYyx5QkFBeUIsY0FBYyxtQkFBbUIsY0FBYyxtQkFBbUIsY0FBYyxrRUFBa0UsZ0JBQWdCLHNCQUFzQixnQkFBZ0IscUJBQXFCLG9CQUFvQiwwQ0FBMEMsa0JBQWtCLDhCQUE4QixjQUFjLFdBQTBMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9xdWFudGl6YXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zeW1ib2xzL2NpbS9DSU1SZXNvdXJjZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3ltYm9scy9jaW0vQ0lNU3ltYm9sUmFzdGVyaXplci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zeW1ib2xzL3N1cHBvcnQvcHJldmlld0NJTVN5bWJvbC5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvYWxpZ25tZW50VXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2FuaW1hdGVkRm9ybWF0cy9hcG5nLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9hbmltYXRlZEZvcm1hdHMvZ2lmLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9udW1iZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1BvaW50IGFzIG4saXNQb2x5bGluZSBhcyB0LGlzUG9seWdvbiBhcyBlLGlzTXVsdGlwb2ludCBhcyByLGlzRXh0ZW50IGFzIHV9ZnJvbVwiLi9qc29uVXRpbHMuanNcIjtmdW5jdGlvbiBsKG4pe3JldHVybiBuJiZcInVwcGVyTGVmdFwiPT09bi5vcmlnaW5Qb3NpdGlvbn1jb25zdCBpPShuLHQsZSk9Plt0LGVdLG89KG4sdCxlKT0+W3QsZSxuWzJdXSxhPShuLHQsZSk9Plt0LGUsblsyXSxuWzNdXTtmdW5jdGlvbiBtKG4pe2lmKCFuKXJldHVybiBudWxsO3JldHVybntvcmlnaW5Qb3NpdGlvbjpcInVwcGVyLWxlZnRcIj09PW4ub3JpZ2luUG9zaXRpb24/XCJ1cHBlckxlZnRcIjpcImxvd2VyLWxlZnRcIj09PW4ub3JpZ2luUG9zaXRpb24/XCJsb3dlckxlZnRcIjpuLm9yaWdpblBvc2l0aW9uLHNjYWxlOm4udG9sZXJhbmNlP1tuLnRvbGVyYW5jZSxuLnRvbGVyYW5jZV06WzEsMV0sdHJhbnNsYXRlOm51bGwhPW4uZXh0ZW50P1tuLmV4dGVudC54bWluLG4uZXh0ZW50LnltYXhdOlswLDBdfX1mdW5jdGlvbiBjKG4sdCl7aWYobj09PXR8fG51bGw9PW4mJm51bGw9PXQpcmV0dXJuITA7aWYobnVsbD09bnx8bnVsbD09dClyZXR1cm4hMTtsZXQgZSxyLHUsaSxvLGE7cmV0dXJuIGwobik/KGU9bi50cmFuc2xhdGVbMF0scj1uLnRyYW5zbGF0ZVsxXSx1PW4uc2NhbGVbMF0pOihlPW51bGwhPW4uZXh0ZW50P24uZXh0ZW50LnhtaW46MCxyPW51bGwhPW4uZXh0ZW50P24uZXh0ZW50LnltYXg6MCx1PW4udG9sZXJhbmNlKSxsKHQpPyhpPXQudHJhbnNsYXRlWzBdLG89dC50cmFuc2xhdGVbMV0sYT10LnNjYWxlWzBdKTooaT1udWxsIT10LmV4dGVudD90LmV4dGVudC54bWluOjAsbz1udWxsIT10LmV4dGVudD90LmV4dGVudC55bWF4OjAsYT10LnRvbGVyYW5jZSksZT09PWkmJnI9PT1vJiZ1PT09YX1mdW5jdGlvbiBzKHtzY2FsZTpuLHRyYW5zbGF0ZTp0fSxlKXtyZXR1cm4gTWF0aC5yb3VuZCgoZS10WzBdKS9uWzBdKX1mdW5jdGlvbiBmKHtzY2FsZTpuLHRyYW5zbGF0ZTp0fSxlKXtyZXR1cm4gTWF0aC5yb3VuZCgodFsxXS1lKS9uWzFdKX1mdW5jdGlvbiB4KG4sdCxlKXtjb25zdCByPVtdO2xldCB1LGwsaSxvO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBtPWVbYV07YT4wPyhpPXMobixtWzBdKSxvPWYobixtWzFdKSxpPT09dSYmbz09PWx8fChyLnB1c2godChtLGktdSxvLWwpKSx1PWksbD1vKSk6KHU9cyhuLG1bMF0pLGw9ZihuLG1bMV0pLHIucHVzaCh0KG0sdSxsKSkpfXJldHVybiByLmxlbmd0aD4wP3I6bnVsbH1mdW5jdGlvbiBoKG4sdCxlKXtyZXR1cm4gdFswXT1zKG4sZVswXSksdFszXT1mKG4sZVsxXSksdFsyXT1zKG4sZVsyXSksdFsxXT1mKG4sZVszXSksdH1mdW5jdGlvbiBJKG4sdCxlLHIpe3JldHVybiB4KG4sZT9yP2E6bzpyP286aSx0KX1mdW5jdGlvbiBnKG4sdCxlLHIpe2NvbnN0IHU9W10sbD1lP3I/YTpvOnI/bzppO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBlPXgobixsLHRbaV0pO2UmJmUubGVuZ3RoPj0zJiZ1LnB1c2goZSl9cmV0dXJuIHUubGVuZ3RoP3U6bnVsbH1mdW5jdGlvbiBOKG4sdCxlLHIpe2NvbnN0IHU9W10sbD1lP3I/YTpvOnI/bzppO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBlPXgobixsLHRbaV0pO2UmJmUubGVuZ3RoPj0yJiZ1LnB1c2goZSl9cmV0dXJuIHUubGVuZ3RoP3U6bnVsbH1mdW5jdGlvbiBwKHtzY2FsZTpuLHRyYW5zbGF0ZTp0fSxlKXtyZXR1cm4gZSpuWzBdK3RbMF19ZnVuY3Rpb24geSh7c2NhbGU6bix0cmFuc2xhdGU6dH0sZSl7cmV0dXJuIHRbMV0tZSpuWzFdfWZ1bmN0aW9uIHoobix0LGUpe2NvbnN0IHI9bmV3IEFycmF5KGUubGVuZ3RoKTtpZighZS5sZW5ndGgpcmV0dXJuIHI7Y29uc3RbdSxsXT1uLnNjYWxlO2xldCBpPXAobixlWzBdWzBdKSxvPXkobixlWzBdWzFdKTtyWzBdPXQoZVswXSxpLG8pO2ZvcihsZXQgYT0xO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBuPWVbYV07aSs9blswXSp1LG8tPW5bMV0qbCxyW2FdPXQobixpLG8pfXJldHVybiByfWZ1bmN0aW9uIFQobix0LGUpe2NvbnN0IHI9bmV3IEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IHU9MDt1PGUubGVuZ3RoO3UrKylyW3VdPXoobix0LGVbdV0pO3JldHVybiByfWZ1bmN0aW9uIE0obix0LGUpe3JldHVybiBlPyh0WzBdPXAobixlWzBdKSx0WzFdPXkobixlWzNdKSx0WzJdPXAobixlWzJdKSx0WzNdPXkobixlWzFdKSx0KTpbcChuLHRbMF0pLHkobix0WzNdKSxwKG4sdFsyXSkseShuLHRbMV0pXX1mdW5jdGlvbiBFKG4sdCxlLHIpe3JldHVybiB6KG4sZT9yP2E6bzpyP286aSx0KX1mdW5jdGlvbiBQKG4sdCxlLHIpe3JldHVybiBUKG4sZT9yP2E6bzpyP286aSx0KX1mdW5jdGlvbiBiKG4sdCxlLHIpe3JldHVybiBUKG4sZT9yP2E6bzpyP286aSx0KX1mdW5jdGlvbiBGKG4sdCxlKXtsZXRbcix1XT1lWzBdLGw9TWF0aC5taW4ocix0WzBdKSxpPU1hdGgubWluKHUsdFsxXSksbz1NYXRoLm1heChyLHRbMl0pLGE9TWF0aC5tYXgodSx0WzNdKTtmb3IobGV0IG09MTttPGUubGVuZ3RoO20rKyl7Y29uc3Rbbix0XT1lW21dO3IrPW4sdSs9dCxuPDAmJihsPU1hdGgubWluKGwscikpLG4+MCYmKG89TWF0aC5tYXgobyxyKSksdDwwP2k9TWF0aC5taW4oaSx1KTp0PjAmJihhPU1hdGgubWF4KGEsdSkpfXJldHVybiBuWzBdPWwsblsxXT1pLG5bMl09byxuWzNdPWEsbn1mdW5jdGlvbiBWKG4sdCl7aWYoIXQubGVuZ3RoKXJldHVybiBudWxsO25bMF09blsxXT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksblsyXT1uWzNdPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylGKG4sbix0W2VdKTtyZXR1cm4gbn1mdW5jdGlvbiBZKG4pe2NvbnN0IHQ9W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV07cmV0dXJuIEYodCx0LG4pfWZ1bmN0aW9uIF8obil7cmV0dXJuIFYoWzAsMCwwLDBdLG4pfWZ1bmN0aW9uIEEobil7cmV0dXJuIFYoWzAsMCwwLDBdLG4pfWZ1bmN0aW9uIHcobix0LGUscix1KXtyZXR1cm4gdC54bWluPXMobixlLnhtaW4pLHQueW1pbj1mKG4sZS55bWluKSx0LnhtYXg9cyhuLGUueG1heCksdC55bWF4PWYobixlLnltYXgpLHQhPT1lJiYociYmKHQuem1pbj1lLnptaW4sdC56bWF4PWUuem1heCksdSYmKHQubW1pbj1lLm1taW4sdC5tbWF4PWUubW1heCkpLHR9ZnVuY3Rpb24gRyhuLHQsZSxyLHUpe3JldHVybiB0LnBvaW50cz1JKG4sZS5wb2ludHMscix1KT8/W10sdH1mdW5jdGlvbiBMKG4sdCxlLHIsdSl7cmV0dXJuIHQueD1zKG4sZS54KSx0Lnk9ZihuLGUueSksdCE9PWUmJihyJiYodC56PWUueiksdSYmKHQubT1lLm0pKSx0fWZ1bmN0aW9uIE8obix0LGUscix1KXtjb25zdCBsPWcobixlLnJpbmdzLHIsdSk7cmV0dXJuIGw/KHQucmluZ3M9bCx0KTpudWxsfWZ1bmN0aW9uIFMobix0LGUscix1KXtjb25zdCBsPU4obixlLnBhdGhzLHIsdSk7cmV0dXJuIGw/KHQucGF0aHM9bCx0KTpudWxsfWZ1bmN0aW9uIGQobCxpKXtyZXR1cm4gbCYmaT9uKGkpP0wobCx7fSxpLCExLCExKTp0KGkpP1MobCx7fSxpLCExLCExKTplKGkpP08obCx7fSxpLCExLCExKTpyKGkpP0cobCx7fSxpLCExLCExKTp1KGkpP3cobCx7fSxpLCExLCExKTpudWxsOm51bGx9ZnVuY3Rpb24gaihuLHQsZSxyLHUpe3JldHVybiB0LnhtaW49cChuLGUueG1pbiksdC55bWluPXkobixlLnltaW4pLHQueG1heD1wKG4sZS54bWF4KSx0LnltYXg9eShuLGUueW1heCksdCE9PWUmJihyJiYodC56bWluPWUuem1pbix0LnptYXg9ZS56bWF4KSx1JiYodC5tbWluPWUubW1pbix0Lm1tYXg9ZS5tbWF4KSksdH1mdW5jdGlvbiBVKG4sdCxlLHIsdSl7cmV0dXJuIG51bGwhPWUmJih0LnBvaW50cz1FKG4sZS5wb2ludHMscix1KSksdH1mdW5jdGlvbiBrKG4sdCxlLHIsdSl7cmV0dXJuIG51bGw9PWV8fCh0Lng9cChuLGUueCksdC55PXkobixlLnkpLHQhPT1lJiYociYmKHQuej1lLnopLHUmJih0Lm09ZS5tKSkpLHR9ZnVuY3Rpb24gcShuLHQsZSxyLHUpe3JldHVybiBudWxsIT1lJiYodC5yaW5ncz1iKG4sZS5yaW5ncyxyLHUpKSx0fWZ1bmN0aW9uIHYobix0LGUscix1KXtyZXR1cm4gbnVsbCE9ZSYmKHQucGF0aHM9UChuLGUucGF0aHMscix1KSksdH1leHBvcnR7YyBhcyBlcXVhbHMsRiBhcyBnZXRRdWFudGl6ZWRCb3VuZHNDb29yZHNBcnJheSxWIGFzIGdldFF1YW50aXplZEJvdW5kc0Nvb3Jkc0FycmF5QXJyYXksXyBhcyBnZXRRdWFudGl6ZWRCb3VuZHNQYXRocyxZIGFzIGdldFF1YW50aXplZEJvdW5kc1BvaW50cyxBIGFzIGdldFF1YW50aXplZEJvdW5kc1JpbmdzLGggYXMgcXVhbnRpemVCb3VuZHMsdyBhcyBxdWFudGl6ZUV4dGVudCxkIGFzIHF1YW50aXplR2VvbWV0cnksRyBhcyBxdWFudGl6ZU11bHRpcG9pbnQsTiBhcyBxdWFudGl6ZVBhdGhzLEwgYXMgcXVhbnRpemVQb2ludCxJIGFzIHF1YW50aXplUG9pbnRzLE8gYXMgcXVhbnRpemVQb2x5Z29uLFMgYXMgcXVhbnRpemVQb2x5bGluZSxnIGFzIHF1YW50aXplUmluZ3MscyBhcyBxdWFudGl6ZVgsZiBhcyBxdWFudGl6ZVksbSBhcyB0b1F1YW50aXphdGlvblRyYW5zZm9ybSxNIGFzIHVucXVhbnRpemVCb3VuZHMseiBhcyB1bnF1YW50aXplQ29vcmRzQXJyYXksVCBhcyB1bnF1YW50aXplQ29vcmRzQXJyYXlBcnJheSxqIGFzIHVucXVhbnRpemVFeHRlbnQsVSBhcyB1bnF1YW50aXplTXVsdGlwb2ludCxQIGFzIHVucXVhbnRpemVQYXRocyxrIGFzIHVucXVhbnRpemVQb2ludCxFIGFzIHVucXVhbnRpemVQb2ludHMscSBhcyB1bnF1YW50aXplUG9seWdvbix2IGFzIHVucXVhbnRpemVQb2x5bGluZSxiIGFzIHVucXVhbnRpemVSaW5ncyxwIGFzIHVucXVhbnRpemVYLHkgYXMgdW5xdWFudGl6ZVl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2xvYWRGb250IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9mb250VXRpbHMuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7YmFzZTY0VG9BcnJheUJ1ZmZlciBhcyBzfWZyb21cIi4uLy4uL3N1cHBvcnQvYmFzZTY0VXRpbHMuanNcIjtpbXBvcnR7aXNBbmltYXRlZFBORyBhcyBvLHBhcnNlQXBuZyBhcyBufWZyb21cIi4uLy4uL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9hbmltYXRlZEZvcm1hdHMvYXBuZy5qc1wiO2ltcG9ydHtpc0FuaW1hdGVkR0lGIGFzIGEscGFyc2VHaWYgYXMgY31mcm9tXCIuLi8uLi92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvYW5pbWF0ZWRGb3JtYXRzL2dpZi5qc1wiO2NsYXNzIGh7Y29uc3RydWN0b3IoKXt0aGlzLl9yZXNvdXJjZU1hcD1uZXcgTWFwLHRoaXMuX2luRmxpZ2h0UmVzb3VyY2VNYXA9bmV3IE1hcCx0aGlzLmdlb21ldHJ5RW5naW5lPW51bGwsdGhpcy5nZW9tZXRyeUVuZ2luZVByb21pc2U9bnVsbH1kZXN0cm95KCl7dGhpcy5faW5GbGlnaHRSZXNvdXJjZU1hcC5jbGVhcigpLHRoaXMuX3Jlc291cmNlTWFwLmNsZWFyKCl9Z2V0UmVzb3VyY2UoZSl7cmV0dXJuIHRoaXMuX3Jlc291cmNlTWFwLmdldChlKT8/bnVsbH1hc3luYyBmZXRjaFJlc291cmNlKGUsdCl7Y29uc3Qgcj10aGlzLl9yZXNvdXJjZU1hcC5nZXQoZSk7aWYocilyZXR1cm57d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9O2xldCBpPXRoaXMuX2luRmxpZ2h0UmVzb3VyY2VNYXAuZ2V0KGUpO3JldHVybiBpP2kudGhlbigoZT0+KHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0pKSk6KGk9bChlLHQpLHRoaXMuX2luRmxpZ2h0UmVzb3VyY2VNYXAuc2V0KGUsaSksaS50aGVuKCh0PT4odGhpcy5faW5GbGlnaHRSZXNvdXJjZU1hcC5kZWxldGUoZSksdGhpcy5fcmVzb3VyY2VNYXAuc2V0KGUsdCkse3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSkpLCgoKT0+KHt3aWR0aDowLGhlaWdodDowfSkpKSl9ZGVsZXRlUmVzb3VyY2UoZSl7dGhpcy5faW5GbGlnaHRSZXNvdXJjZU1hcC5kZWxldGUoZSksdGhpcy5fcmVzb3VyY2VNYXAuZGVsZXRlKGUpfWxvYWRGb250KGUpe3JldHVybiByKGUpfX1hc3luYyBmdW5jdGlvbiB1KHIscyl7Y29uc3Qgbz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChyKTt0cnl7Y29uc3R7ZGF0YTp0fT1hd2FpdCBlKG8sey4uLnMscmVzcG9uc2VUeXBlOlwiaW1hZ2VcIn0pO3JldHVybiB0fWNhdGNoKG4pe2lmKCFpKG4pKXRocm93IG5ldyB0KFwibWFwdmlldy1pbnZhbGlkLXJlc291cmNlXCIsYENvdWxkIG5vdCBmZXRjaCByZXF1ZXN0ZWQgcmVzb3VyY2UgYXQgJHtvfWApO3Rocm93IG59ZmluYWxseXt3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChvKX19YXN5bmMgZnVuY3Rpb24gbChlLHQpe2NvbnN0e2FycmF5QnVmZmVyOnIsbWVkaWFUeXBlOml9PWF3YWl0IHAoZSx0KSxzPVwiaW1hZ2UvcG5nXCI9PT1pO2lmKFwiaW1hZ2UvZ2lmXCI9PT1pJiZhKHIpKXJldHVybiBjKHIpO2lmKHMmJm8ocikpcmV0dXJuIG4ocix0KTtyZXR1cm4gdShuZXcgQmxvYihbcl0se3R5cGU6aX0pLHQpfWFzeW5jIGZ1bmN0aW9uIHAocixvKXtsZXQgbjtjb25zdCBhPVwiO2Jhc2U2NCxcIjtpZihyLmluY2x1ZGVzKGEpKXtjb25zdCBlPXIuaW5kZXhPZihhKSx0PXIuaW5kZXhPZihhKSthLmxlbmd0aCxpPXIuc3Vic3RyaW5nKHQpO249e2FycmF5QnVmZmVyOnMoaSksbWVkaWFUeXBlOnIuc3Vic3RyaW5nKDAsZSkucmVwbGFjZShcImRhdGE6XCIsXCJcIil9fWVsc2UgdHJ5e2NvbnN0IHQ9YXdhaXQgZShyLHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIiwuLi5vfSksaT10LmRhdGE7bj17YXJyYXlCdWZmZXI6aSxtZWRpYVR5cGU6dC5nZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIil9fWNhdGNoKGMpe2lmKCFpKGMpKXRocm93IG5ldyB0KFwibWFwdmlldy1pbnZhbGlkLXJlc291cmNlXCIsYENvdWxkIG5vdCBmZXRjaCByZXF1ZXN0ZWQgcmVzb3VyY2UgYXQgJHtyfWApfXJldHVybiBufWV4cG9ydHtoIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHt1bndyYXBPclRocm93IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBpfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3B0MnB4IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtDSU1BbmFseXplciBhcyBvLGFuYWx5emVDSU1SZXNvdXJjZSBhcyBzfWZyb21cIi4vY2ltQW5hbHl6ZXIuanNcIjtpbXBvcnQgbiBmcm9tXCIuL0NJTVJlc291cmNlTWFuYWdlci5qc1wiO2ltcG9ydHtUcmFuc2Zvcm1hdGlvbiBhcyBjLENhbnZhc0RyYXdIZWxwZXIgYXMgbH1mcm9tXCIuL0NJTVN5bWJvbERyYXdIZWxwZXIuanNcIjtpbXBvcnR7T3ZlcnJpZGVIZWxwZXIgYXMgaCxDSU1TeW1ib2xIZWxwZXIgYXMgbX1mcm9tXCIuL0NJTVN5bWJvbEhlbHBlci5qc1wiO2ltcG9ydCBnIGZyb21cIi4vUmFzdGVyaXplci5qc1wiO2ltcG9ydCB1IGZyb21cIi4vVGV4dFJhc3Rlcml6ZXIuanNcIjtpbXBvcnR7bWFwQ0lNU3ltYm9sVG9HZW9tZXRyeVR5cGUgYXMgZixjcmVhdGVMYWJlbE92ZXJyaWRlRnVuY3Rpb24gYXMgZCxldmFsdWF0ZVZhbHVlT3JGdW5jdGlvbiBhcyB5LGNvbG9yVG9BcnJheSBhcyBwfWZyb21cIi4vdXRpbHMuanNcIjtpbXBvcnR7c2NhbGVDSU1NYXJrZXIgYXMgd31mcm9tXCIuLi9zdXBwb3J0L2NpbVN5bWJvbFV0aWxzLmpzXCI7aW1wb3J0e1N5bWJvbDNEQW5jaG9yUG9zaXRpb24yRCBhcyBDfWZyb21cIi4uL3N1cHBvcnQvU3ltYm9sM0RBbmNob3JQb3NpdGlvbjJELmpzXCI7dmFyIE07IWZ1bmN0aW9uKGUpe2UuTGVnZW5kPVwibGVnZW5kXCIsZS5QcmV2aWV3PVwicHJldmlld1wifShNfHwoTT17fSkpO2NvbnN0IF89ZT0+ZSYmZS5zY2FsZUZhY3Rvcj9lLnNjYWxlRmFjdG9yOjEsYj05Ni83MjtjbGFzcyB6e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fc3BhdGlhbFJlZmVyZW5jZT1lLHRoaXMuX2F2b2lkU0RGPXQsdGhpcy5fcmVzb3VyY2VDYWNoZT1uZXcgTWFwLHRoaXMuX2ltYWdlRGF0YUNhbnZhcz1udWxsLHRoaXMuX3BpY3R1cmVNYXJrZXJDYWNoZT1uZXcgTWFwLHRoaXMuX3RleHRSYXN0ZXJpemVyPW5ldyB1LHRoaXMuX2NpbVJlc291cmNlTWFuYWdlcj1uZXcgbix0aGlzLl9yYXN0ZXJpemVyPW5ldyBnKHRoaXMuX2NpbVJlc291cmNlTWFuYWdlcil9Z2V0IHJlc291cmNlTWFuYWdlcigpe3JldHVybiB0aGlzLl9jaW1SZXNvdXJjZU1hbmFnZXJ9YXN5bmMgcmFzdGVyaXplQ0lNU3ltYm9sQXN5bmMoZSx0LGEsaSxyLG8scyxuKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdHtkYXRhOmd9PWU7aWYoIWd8fFwiQ0lNU3ltYm9sUmVmZXJlbmNlXCIhPT1nLnR5cGV8fCFnLnN5bWJvbClyZXR1cm4gbnVsbDtjb25zdHtzeW1ib2w6dX09ZztvfHwobz1mKHUpKTtjb25zdCBkPWF3YWl0IGgucmVzb2x2ZVN5bWJvbE92ZXJyaWRlcyhnLHQsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSxyLG8scyxuKTt0aGlzLl9pbWFnZURhdGFDYW52YXN8fCh0aGlzLl9pbWFnZURhdGFDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3QgeT10aGlzLl9pbWFnZURhdGFDYW52YXMscD10aGlzLl9jaW1SZXNvdXJjZU1hbmFnZXIsdz1bXTttLmZldGNoUmVzb3VyY2VzKGQscCx3KSxtLmZldGNoRm9udHMoZCxwLHcpLHcubGVuZ3RoPjAmJmF3YWl0IFByb21pc2UuYWxsKHcpO2NvbnN0e3dpZHRoOkMsaGVpZ2h0Ok19PWEsXz12KG8sQyxNLGkpLHo9bS5nZXRFbnZlbG9wZShkLF8scCk7aWYoIXopcmV0dXJuIG51bGw7Y29uc3QgST0od2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpKmI7bGV0IHg9MSxSPTAsUD0wO3N3aXRjaCh1LnR5cGUpe2Nhc2VcIkNJTVBvaW50U3ltYm9sXCI6Y2FzZVwiQ0lNVGV4dFN5bWJvbFwiOntsZXQgZT0xO3oud2lkdGg+QyYmKGU9Qy96LndpZHRoKTtsZXQgdD0xO3ouaGVpZ2h0Pk0mJih0PU0vei5oZWlnaHQpLFwicHJldmlld1wiPT09aSYmKHoud2lkdGg8QyYmKGU9Qy96LndpZHRoKSx6LmhlaWdodDxNJiYodD1NL3ouaGVpZ2h0KSkseD1NYXRoLm1pbihlLHQpLFI9ei54K3oud2lkdGgvMixQPXoueSt6LmhlaWdodC8yfWJyZWFrO2Nhc2VcIkNJTUxpbmVTeW1ib2xcIjp7bGV0IGU9MTt6LmhlaWdodD5NJiYoZT1NL3ouaGVpZ2h0KSx4PWUsUD16Lnkrei5oZWlnaHQvMjtjb25zdCB0PXoueCp4K0MvMixhPSh6Lngrei53aWR0aCkqeCtDLzI7aWYodDwwKXtjb25zdHtwYXRoczplfT1fO2VbMF1bMF1bMF0tPXR9aWYoYT5DKXtjb25zdHtwYXRoczplfT1fO2VbMF1bMl1bMF0tPWEtQ319YnJlYWs7Y2FzZVwiQ0lNUG9seWdvblN5bWJvbFwiOntSPXoueCt6LndpZHRoLzIsUD16Lnkrei5oZWlnaHQvMjtjb25zdCBlPXoueCp4K0MvMix0PSh6Lngrei53aWR0aCkqeCtDLzIsYT16LnkqeCtNLzIsaT0oei55K3ouaGVpZ2h0KSp4K00vMix7cmluZ3M6cn09XztlPDAmJihyWzBdWzBdWzBdLT1lLHJbMF1bM11bMF0tPWUsclswXVs0XVswXS09ZSksYTwwJiYoclswXVswXVsxXSs9YSxyWzBdWzFdWzFdKz1hLHJbMF1bNF1bMV0rPWEpLHQ+QyYmKHJbMF1bMV1bMF0tPXQtQyxyWzBdWzJdWzBdLT10LUMpLGk+TSYmKHJbMF1bMl1bMV0rPWktTSxyWzBdWzNdWzFdKz1pLU0pfX15LndpZHRoPUMqSSx5LmhlaWdodD1NKkk7Y29uc3QgRD0xO3kud2lkdGgrPTIqRCx5LmhlaWdodCs9MipEO2NvbnN0IFM9eS5nZXRDb250ZXh0KFwiMmRcIiksaz1jLmNyZWF0ZUlkZW50aXR5KCk7ay50cmFuc2xhdGUoLVIsLVApLGsuc2NhbGUoeCpJLC14KkkpLGsudHJhbnNsYXRlKEMqSS8yK0QsTSpJLzIrRCksUy5jbGVhclJlY3QoMCwwLHkud2lkdGgseS5oZWlnaHQpO3JldHVybiBuZXcgbChTLHAsaywhMCkuZHJhd1N5bWJvbChkLF8pLFMuZ2V0SW1hZ2VEYXRhKDAsMCx5LndpZHRoLHkuaGVpZ2h0KX1hc3luYyBhbmFseXplQ0lNU3ltYm9sM0QoZSx0LGEscixzKXtjb25zdCBuPVtdLGM9dD97Z2VvbWV0cnlUeXBlOnIsc3BhdGlhbFJlZmVyZW5jZTp0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLGZpZWxkczp0fTpudWxsLGw9W107bS5mZXRjaEZvbnRzKGUuZGF0YS5zeW1ib2wsdGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyLGwpLGF3YWl0IFByb21pc2UuYWxsKGwpO2NvbnN0IGg9bmV3IG8odGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyLGMpO2xldCBnO2F3YWl0IGguYW5hbHl6ZVN5bWJvbFJlZmVyZW5jZShlLmRhdGEsdGhpcy5fYXZvaWRTREYsbiksaShzKTtmb3IoY29uc3QgaSBvZiBuKVwiQ0lNUGljdHVyZU1hcmtlclwiIT09aS5jaW0udHlwZSYmXCJDSU1QaWN0dXJlRmlsbFwiIT09aS5jaW0udHlwZSYmXCJDSU1QaWN0dXJlU3Ryb2tlXCIhPT1pLmNpbS50eXBlfHwoZ3x8KGc9W10pLGcucHVzaCh0aGlzLl9mZXRjaFBpY3R1cmVNYXJrZXJSZXNvdXJjZShpLHMpKSksYSYmXCJ0ZXh0XCI9PT1pLnR5cGUmJlwic3RyaW5nXCI9PXR5cGVvZiBpLnRleHQmJmkudGV4dC5pbmNsdWRlcyhcIltcIikmJihpLnRleHQ9ZChhLGkudGV4dCxpLmNpbS50ZXh0Q2FzZSkpO3JldHVybiBnJiZhd2FpdCBQcm9taXNlLmFsbChnKSxufXJhc3Rlcml6ZUNJTVN5bWJvbDNEKGUsdCxhLGkscixvKXtjb25zdCBzPVtdO2Zvcihjb25zdCBuIG9mIGUpe2kmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkuc2NhbGVGYWN0b3ImJihpLnNjYWxlRmFjdG9yPWkuc2NhbGVGYWN0b3IodCxyLG8pKTtjb25zdCBlPXRoaXMuX2dldFJhc3Rlcml6ZWRSZXNvdXJjZShuLHQsYSxpLHIsbyk7aWYoIWUpY29udGludWU7bGV0IGM9MCxsPWUuYW5jaG9yWHx8MCxoPWUuYW5jaG9yWXx8MCxtPSExLGc9MCx1PTA7aWYoXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09YSl7Y29uc3QgZT1fKGkpO2lmKGc9eShuLm9mZnNldFgsdCxyLG8pKmV8fDAsdT15KG4ub2Zmc2V0WSx0LHIsbykqZXx8MCxcIm1hcmtlclwiPT09bi50eXBlKWM9eShuLnJvdGF0aW9uLHQscixvKXx8MCxtPW4ucm90YXRlQ2xvY2t3aXNlPz8hMTtlbHNlIGlmKFwidGV4dFwiPT09bi50eXBlKXtpZihjPXkobi5hbmdsZSx0LHIsbyl8fDAsdm9pZCAwIT09bi5ob3Jpem9udGFsQWxpZ25tZW50KXN3aXRjaChuLmhvcml6b250YWxBbGlnbm1lbnQpe2Nhc2VcImxlZnRcIjpsPS0uNTticmVhaztjYXNlXCJyaWdodFwiOmw9LjU7YnJlYWs7ZGVmYXVsdDpsPTB9aWYodm9pZCAwIT09bi52ZXJ0aWNhbEFsaWdubWVudClzd2l0Y2gobi52ZXJ0aWNhbEFsaWdubWVudCl7Y2FzZVwidG9wXCI6aD0uNTticmVhaztjYXNlXCJib3R0b21cIjpoPS0uNTticmVhaztjYXNlXCJiYXNlbGluZVwiOmg9LS4yNTticmVhaztkZWZhdWx0Omg9MH19fW51bGwhPWUmJnMucHVzaCh7YW5nbGU6Yyxyb3RhdGVDbG9ja1dpc2U6bSxhbmNob3JYOmwsYW5jaG9yWTpoLG9mZnNldFg6ZyxvZmZzZXRZOnUscmFzdGVyaXplZFJlc291cmNlOmV9KX1yZXR1cm4gdGhpcy5nZXRTeW1ib2xJbWFnZShzKX1nZXRTeW1ib2xJbWFnZShlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksaT1hKHQuZ2V0Q29udGV4dChcIjJkXCIpKTtsZXQgbz0wLHM9MCxuPTAsYz0wO2NvbnN0IGw9W107Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IHQ9ZVthXSxoPXQucmFzdGVyaXplZFJlc291cmNlO2lmKCFoKWNvbnRpbnVlO2NvbnN0IG09aC5zaXplLGc9dC5vZmZzZXRYLHU9dC5vZmZzZXRZLGY9dC5hbmNob3JYLGQ9dC5hbmNob3JZLHk9dC5yb3RhdGVDbG9ja1dpc2V8fCExO2xldCBwPXQuYW5nbGUsdz1yKGcpLW1bMF0qKC41K2YpLEM9cih1KS1tWzFdKiguNStkKSxNPXcrbVswXSxfPUMrbVsxXTtpZihwKXt5JiYocD0tcCk7Y29uc3QgZT1NYXRoLnNpbihwKk1hdGguUEkvMTgwKSx0PU1hdGguY29zKHAqTWF0aC5QSS8xODApLGE9dyp0LUMqZSxpPXcqZStDKnQscj13KnQtXyplLG89dyplK18qdCxzPU0qdC1fKmUsbj1NKmUrXyp0LGM9TSp0LUMqZSxsPU0qZStDKnQ7dz1NYXRoLm1pbihhLHIscyxjKSxDPU1hdGgubWluKGksbyxuLGwpLE09TWF0aC5tYXgoYSxyLHMsYyksXz1NYXRoLm1heChpLG8sbixsKX1vPXc8bz93Om8scz1DPHM/QzpzLG49TT5uP006bixjPV8+Yz9fOmM7Y29uc3QgYj1pLmNyZWF0ZUltYWdlRGF0YShoLnNpemVbMF0saC5zaXplWzFdKTtiLmRhdGEuc2V0KG5ldyBVaW50OENsYW1wZWRBcnJheShoLmltYWdlLmJ1ZmZlcikpO2NvbnN0IHo9e29mZnNldFg6ZyxvZmZzZXRZOnUscm90YXRlQ2xvY2t3aXNlOnksYW5nbGU6cCxyYXN0ZXJpemVkSW1hZ2U6YixhbmNob3JYOmYsYW5jaG9yWTpkfTtsLnB1c2goeil9dC53aWR0aD1uLW8sdC5oZWlnaHQ9Yy1zO2NvbnN0IGg9LW8sbT1jO2ZvcihsZXQgYT0wO2E8bC5sZW5ndGg7YSsrKXtjb25zdCBlPWxbYV0sdD10aGlzLl9pbWFnZURhdGFUb0NhbnZhcyhlLnJhc3Rlcml6ZWRJbWFnZSksbz1lLnJhc3Rlcml6ZWRJbWFnZS53aWR0aCxzPWUucmFzdGVyaXplZEltYWdlLmhlaWdodCxuPWgtbyooLjUrZS5hbmNob3JYKSxjPW0tcyooLjUtZS5hbmNob3JZKTtpZihlLmFuZ2xlKXtjb25zdCBhPSgzNjAtZS5hbmdsZSkqTWF0aC5QSS8xODA7aS5zYXZlKCksaS50cmFuc2xhdGUocihlLm9mZnNldFgpLC1yKGUub2Zmc2V0WSkpLGkudHJhbnNsYXRlKGgsbSksaS5yb3RhdGUoYSksaS50cmFuc2xhdGUoLWgsLW0pLGkuZHJhd0ltYWdlKHQsbixjKSxpLnJlc3RvcmUoKX1lbHNlIGkuZHJhd0ltYWdlKHQsbityKGUub2Zmc2V0WCksYy1yKGUub2Zmc2V0WSkpfWNvbnN0IGc9bmV3IEMoe3g6aC90LndpZHRoLS41LHk6bS90LmhlaWdodC0uNX0pO3JldHVybntpbWFnZURhdGE6MCE9PXQud2lkdGgmJjAhPT10LmhlaWdodD9pLmdldEltYWdlRGF0YSgwLDAsdC53aWR0aCx0LmhlaWdodCk6aS5jcmVhdGVJbWFnZURhdGEoMSwxKSxhbmNob3JQb3NpdGlvbjpnfX1hc3luYyBfZmV0Y2hQaWN0dXJlTWFya2VyUmVzb3VyY2UoZSxhKXtjb25zdCBpPWUubWF0ZXJpYWxIYXNoO2lmKCF0aGlzLl9waWN0dXJlTWFya2VyQ2FjaGUuZ2V0KGkpKXtjb25zdCByPShhd2FpdCB0KGUuY2ltLnVybCx7cmVzcG9uc2VUeXBlOlwiaW1hZ2VcIixzaWduYWw6YSYmYS5zaWduYWx9KSkuZGF0YTt0aGlzLl9waWN0dXJlTWFya2VyQ2FjaGUuc2V0KGkscil9fV9pbWFnZURhdGFUb0NhbnZhcyhlKXt0aGlzLl9pbWFnZURhdGFDYW52YXN8fCh0aGlzLl9pbWFnZURhdGFDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3QgdD10aGlzLl9pbWFnZURhdGFDYW52YXMsaT1hKHQuZ2V0Q29udGV4dChcIjJkXCIpKTtyZXR1cm4gdC53aWR0aD1lLndpZHRoLHQuaGVpZ2h0PWUuaGVpZ2h0LGkucHV0SW1hZ2VEYXRhKGUsMCwwKSx0fV9pbWFnZVRvMzJBcnJheSh0LGkscixvKXt0aGlzLl9pbWFnZURhdGFDYW52YXN8fCh0aGlzLl9pbWFnZURhdGFDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3Qgcz10aGlzLl9pbWFnZURhdGFDYW52YXMsbj1hKHMuZ2V0Q29udGV4dChcIjJkXCIpKTtpZihzLndpZHRoPWkscy5oZWlnaHQ9cixuLmRyYXdJbWFnZSh0LDAsMCxpLHIpLG8pe24uc2F2ZSgpO2NvbnN0IGE9bmV3IGUobyk7bi5maWxsU3R5bGU9YS50b0hleCgpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwibXVsdGlwbHlcIixuLmZpbGxSZWN0KDAsMCxpLHIpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24tYXRvcFwiLG4uZHJhd0ltYWdlKHQsMCwwLGksciksbi5yZXN0b3JlKCl9cmV0dXJuIG5ldyBVaW50MzJBcnJheShuLmdldEltYWdlRGF0YSgwLDAsaSxyKS5kYXRhLmJ1ZmZlcil9X2dldFJhc3Rlcml6ZWRSZXNvdXJjZShlLHQsaSxyLG8scyl7bGV0IG4sYyxsO2NvbnN0IGg9bnVsbCxtPW51bGw7aWYoXCJ0ZXh0XCI9PT1lLnR5cGUpcmV0dXJuIHRoaXMuX3Jhc3Rlcml6ZVRleHRSZXNvdXJjZShlLHQscixvLHMpOyh7YW5hbHl6ZWRDSU06bixoYXNoOmN9PUkoZSx0LG8scykpO2NvbnN0IGc9XyhyKTtpZihcIkNJTVBpY3R1cmVNYXJrZXJcIj09PWUuY2ltLnR5cGUpe2NvbnN0IGk9eShlLnNpemUsdCxvLHMpKmcse2ltYWdlOnIsd2lkdGg6bixoZWlnaHQ6Y309YSh0aGlzLl9nZXRQaWN0dXJlUmVzb3VyY2UoZSxpLHkoZS5jb2xvcix0LG8scykpKTtyZXR1cm4gbD17aW1hZ2U6cixzaXplOltuLGNdLHNkZjohMSxzaW1wbGVQYXR0ZXJuOiExLGFuY2hvclg6ZS5hbmNob3JQb2ludD9lLmFuY2hvclBvaW50Lng6MCxhbmNob3JZOmUuYW5jaG9yUG9pbnQ/ZS5hbmNob3JQb2ludC55OjB9LGx9dyhuLGcse3ByZXNlcnZlT3V0bGluZVdpZHRoOiExfSk7Y29uc3QgdT1uO2MrPWksciYmKGMrPUpTT04uc3RyaW5naWZ5KHIpKTtjb25zdCBmPXRoaXMuX3Jlc291cmNlQ2FjaGU7cmV0dXJuIGYuaGFzKGMpP2YuZ2V0KGMpOihsPXRoaXMuX3Jhc3Rlcml6ZXIucmFzdGVyaXplSlNPTlJlc291cmNlKHtjaW06dSx0eXBlOmUudHlwZSx1cmw6ZS51cmwsbW9zYWljSGFzaDpjLHNpemU6aCxwYXRoOm19LHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLHRoaXMuX2F2b2lkU0RGKSxmLnNldChjLGwpLGwpfV9yYXN0ZXJpemVUZXh0UmVzb3VyY2UoZSx0LGEsaSxyKXtjb25zdCBvPV8oYSkscz15KGUudGV4dCx0LGkscik7aWYoIXN8fDA9PT1zLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBuPWUuY2ltLGM9eShuPy5mb250RmFtaWx5TmFtZXx8ZS5mb250TmFtZSx0LGksciksbD15KG4/LmZvbnQ/LnN0eWxlfHxlLnN0eWxlLHQsaSxyKSxoPXkobj8uZm9udD8ud2VpZ2h0fHxlLndlaWdodCx0LGksciksbT15KG4/LmZvbnQ/LmRlY29yYXRpb258fGUuZGVjb3JhdGlvbix0LGksciksZz15KGUuc2l6ZSx0LGkscikqbyx1PXkoZS5ob3Jpem9udGFsQWxpZ25tZW50LHQsaSxyKSxmPXkoZS52ZXJ0aWNhbEFsaWdubWVudCx0LGksciksZD1wKHkoZS5jb2xvcix0LGkscikpLHc9cCh5KGUub3V0bGluZUNvbG9yLHQsaSxyKSksQz15KGUub3V0bGluZVNpemUsdCxpLHIpLE09bnVsbCE9ZS5iYWNrZ3JvdW5kQ29sb3I/cChlLmJhY2tncm91bmRDb2xvcik6bnVsbCxiPW51bGwhPWUuYm9yZGVyTGluZUNvbG9yP3AoZS5ib3JkZXJMaW5lQ29sb3IpOm51bGwsej1udWxsIT1lLmJvcmRlckxpbmVXaWR0aD9lLmJvcmRlckxpbmVXaWR0aDpudWxsLHY9e2NvbG9yOmQsc2l6ZTpnLGhvcml6b250YWxBbGlnbm1lbnQ6dSx2ZXJ0aWNhbEFsaWdubWVudDpmLGZvbnQ6e2ZhbWlseTpjLHN0eWxlOmwsd2VpZ2h0OmgsZGVjb3JhdGlvbjptfSxoYWxvOntzaXplOkN8fDAsY29sb3I6dyxzdHlsZTpsfSxiYWNrZ3JvdW5kQ29sb3I6TSxib3JkZXJMaW5lOm51bGwhPWImJm51bGwhPXo/e2NvbG9yOmIsc2l6ZTp6fTpudWxsLHBpeGVsUmF0aW86MSxwcmVtdWx0aXBseUNvbG9yczohdGhpcy5fYXZvaWRTREZ9O3JldHVybiB0aGlzLl90ZXh0UmFzdGVyaXplci5yYXN0ZXJpemVUZXh0KHMsdil9X2dldFBpY3R1cmVSZXNvdXJjZShlLHQsYSl7Y29uc3QgaT10aGlzLl9waWN0dXJlTWFya2VyQ2FjaGUuZ2V0KGUubWF0ZXJpYWxIYXNoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBvPWkuaGVpZ2h0L2kud2lkdGgscz10P28+MT9yKHQpOnIodCkvbzppLndpZHRoLG49dD9vPjE/cih0KSpvOnIodCk6aS5oZWlnaHQ7cmV0dXJue2ltYWdlOnRoaXMuX2ltYWdlVG8zMkFycmF5KGkscyxuLGEpLHdpZHRoOnMsaGVpZ2h0Om59fX1mdW5jdGlvbiB2KGUsdCxhLGkpe2NvbnN0IHI9MSxvPS10LzIrcixzPXQvMi1yLG49YS8yLXIsYz0tYS8yK3I7c3dpdGNoKGUpe2Nhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6cmV0dXJue3g6MCx5OjB9O2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6cmV0dXJue3BhdGhzOltbW28sMF0sWzAsMF0sW3MsMF1dXX07ZGVmYXVsdDpyZXR1cm5cImxlZ2VuZFwiPT09aT97cmluZ3M6W1tbbyxuXSxbcywwXSxbcyxjXSxbbyxjXSxbbyxuXV1dfTp7cmluZ3M6W1tbbyxuXSxbcyxuXSxbcyxjXSxbbyxjXSxbbyxuXV1dfX19ZnVuY3Rpb24gSShlLHQsYSxpKXtsZXQgcixvO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubWF0ZXJpYWxIYXNoKXtyPSgwLGUubWF0ZXJpYWxIYXNoKSh0LGEsaSksbz1zKGUuY2ltLGUubWF0ZXJpYWxPdmVycmlkZXMpfWVsc2Ugcj1lLm1hdGVyaWFsSGFzaCxvPWUuY2ltO3JldHVybnthbmFseXplZENJTTpvLGhhc2g6cn19ZXhwb3J0e3ogYXMgQ0lNU3ltYm9sUmFzdGVyaXplcixNIGFzIEdlb21ldHJ5U3R5bGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtweDJwdCBhcyBlLHB0MnB4IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtPdmVycmlkZUhlbHBlciBhcyBpLENJTVN5bWJvbEhlbHBlciBhcyBsfWZyb21cIi4uL2NpbS9DSU1TeW1ib2xIZWxwZXIuanNcIjtpbXBvcnR7Q0lNU3ltYm9sUmFzdGVyaXplciBhcyByLEdlb21ldHJ5U3R5bGUgYXMgbn1mcm9tXCIuLi9jaW0vQ0lNU3ltYm9sUmFzdGVyaXplci5qc1wiO2ltcG9ydHttYXBDSU1TeW1ib2xUb0dlb21ldHJ5VHlwZSBhcyBvfWZyb21cIi4uL2NpbS91dGlscy5qc1wiO2ltcG9ydHtTeW1ib2xTaXplRGVmYXVsdHMgYXMgYX1mcm9tXCIuL3ByZXZpZXdVdGlscy5qc1wiO2ltcG9ydHtyZW5kZXJTeW1ib2wgYXMgc31mcm9tXCIuL3JlbmRlclV0aWxzLmpzXCI7Y29uc3QgYz1uZXcgcihudWxsLCEwKSxoPWUoYS5zaXplKSxtPWUoYS5tYXhTaXplKSx1PWUoYS5saW5lV2lkdGgpLGY9MTtmdW5jdGlvbiB5KGUpe2NvbnN0IHQ9ZT8uc2l6ZTtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm57d2lkdGg6dCxoZWlnaHQ6dH07cmV0dXJue3dpZHRoOm51bGwhPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIndpZHRoXCJpbiB0P3Qud2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiaGVpZ2h0XCJpbiB0P3QuaGVpZ2h0Om51bGx9fWFzeW5jIGZ1bmN0aW9uIGQoZSxyPXt9KXtjb25zdHtub2RlOmEsb3BhY2l0eTpkLHN5bWJvbENvbmZpZzpnfT1yLHA9bnVsbCE9ZyYmXCJvYmplY3RcIj09dHlwZW9mIGcmJlwiaXNTcXVhcmVGaWxsXCJpbiBnJiZnLmlzU3F1YXJlRmlsbCx3PXIuY2ltT3B0aW9uc3x8cixiPXcuZ2VvbWV0cnlUeXBlfHxvKGU/LmRhdGE/LnN5bWJvbCksTT15KHIpLHtmZWF0dXJlOmosZmllbGRNYXA6dn09dztpZihudWxsPT1NLndpZHRofHxudWxsPT1NLmhlaWdodCl7Y29uc3QgdD1hd2FpdCBpLnJlc29sdmVTeW1ib2xPdmVycmlkZXMoZS5kYXRhLGosbnVsbCx2LGIpO2lmKCF0KXJldHVybiBudWxsOyhlPWUuY2xvbmUoKSkuZGF0YT17dHlwZTpcIkNJTVN5bWJvbFJlZmVyZW5jZVwiLHN5bWJvbDp0fSxlLmRhdGEucHJpbWl0aXZlT3ZlcnJpZGVzPXZvaWQgMDtjb25zdCByPVtdO2wuZmV0Y2hSZXNvdXJjZXModCxjLnJlc291cmNlTWFuYWdlcixyKSxsLmZldGNoRm9udHModCxjLnJlc291cmNlTWFuYWdlcixyKSxyLmxlbmd0aD4wJiZhd2FpdCBQcm9taXNlLmFsbChyKTtjb25zdCBuPWwuZ2V0RW52ZWxvcGUodCxudWxsLGMucmVzb3VyY2VNYW5hZ2VyKSxvPW4/LndpZHRoLGE9bj8uaGVpZ2h0O00ud2lkdGg9XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI9PT1iP2g6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09Yj91Om51bGwhPW8mJmlzRmluaXRlKG8pP01hdGgubWluKG8sbSk6aCxNLmhlaWdodD1cImVzcmlHZW9tZXRyeVBvbHlnb25cIj09PWI/aDpudWxsIT1hJiZpc0Zpbml0ZShhKT9NYXRoLm1heChNYXRoLm1pbihhLG0pLGYpOmh9Y29uc3QgUz1hd2FpdCBjLnJhc3Rlcml6ZUNJTVN5bWJvbEFzeW5jKGUsaixNLHB8fFwiZXNyaUdlb21ldHJ5UG9seWdvblwiIT09Yj9uLlByZXZpZXc6bi5MZWdlbmQsdixiKTtpZighUylyZXR1cm4gbnVsbDtjb25zdHt3aWR0aDpDLGhlaWdodDpMfT1TLEk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtJLndpZHRoPUMsSS5oZWlnaHQ9TDtJLmdldENvbnRleHQoXCIyZFwiKS5wdXRJbWFnZURhdGEoUywwLDApO2NvbnN0IFA9dChNLndpZHRoKSx4PXQoTS5oZWlnaHQpLHo9bmV3IEltYWdlKFAseCk7ei5zcmM9SS50b0RhdGFVUkwoKSx6LmFyaWFMYWJlbD1yLmFyaWFMYWJlbD8/bnVsbCx6LmFsdD1yLmFyaWFMYWJlbD8/XCJcIixudWxsIT1kJiYoei5zdHlsZS5vcGFjaXR5PWAke2R9YCk7bGV0IEY9ejtpZihudWxsIT1yLmVmZmVjdFZpZXcpe2NvbnN0IGU9e3NoYXBlOnt0eXBlOlwiaW1hZ2VcIix4OjAseTowLHdpZHRoOlAsaGVpZ2h0Ongsc3JjOnouc3JjfSxmaWxsOm51bGwsc3Ryb2tlOm51bGwsb2Zmc2V0OlswLDBdfTtGPXMoW1tlXV0sW1AseF0se2VmZmVjdFZpZXc6ci5lZmZlY3RWaWV3LGFyaWFMYWJlbDpyLmFyaWFMYWJlbH0pfXJldHVybiBhJiZGJiZhLmFwcGVuZENoaWxkKEYpLEZ9ZXhwb3J0e2QgYXMgcHJldmlld0NJTVN5bWJvbH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGUsdDtmdW5jdGlvbiByKHQpe3N3aXRjaCh0KXtjYXNlXCJsZWZ0XCI6cmV0dXJuIGUuTGVmdDtjYXNlXCJyaWdodFwiOnJldHVybiBlLlJpZ2h0O2Nhc2VcImNlbnRlclwiOnJldHVybiBlLkNlbnRlcn19ZnVuY3Rpb24gbihlKXtzd2l0Y2goZSl7Y2FzZVwidG9wXCI6cmV0dXJuIHQuVG9wO2Nhc2VcIm1pZGRsZVwiOnJldHVybiB0LkNlbnRlcjtjYXNlXCJiYXNlbGluZVwiOnJldHVybiB0LkJhc2VsaW5lO2Nhc2VcImJvdHRvbVwiOnJldHVybiB0LkJvdHRvbX19ZnVuY3Rpb24gYShyKXtzd2l0Y2gocil7Y2FzZVwiYWJvdmUtbGVmdFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50QWJvdmVMZWZ0XCI6cmV0dXJuW2UuUmlnaHQsdC5Cb3R0b21dO2Nhc2VcImFib3ZlLWNlbnRlclwiOmNhc2VcImFib3ZlLWFsb25nXCI6Y2FzZVwiZXNyaVNlcnZlclBvaW50TGFiZWxQbGFjZW1lbnRBYm92ZUNlbnRlclwiOmNhc2VcImVzcmlTZXJ2ZXJMaW5lUGxhY2VtZW50QWJvdmVBbG9uZ1wiOnJldHVybltlLkNlbnRlcix0LkJvdHRvbV07Y2FzZVwiYWJvdmUtcmlnaHRcIjpjYXNlXCJlc3JpU2VydmVyUG9pbnRMYWJlbFBsYWNlbWVudEFib3ZlUmlnaHRcIjpyZXR1cm5bZS5MZWZ0LHQuQm90dG9tXTtjYXNlXCJjZW50ZXItbGVmdFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50Q2VudGVyTGVmdFwiOnJldHVybltlLlJpZ2h0LHQuQ2VudGVyXTtjYXNlXCJjZW50ZXItY2VudGVyXCI6Y2FzZVwiY2VudGVyLWFsb25nXCI6Y2FzZVwiZXNyaVNlcnZlclBvaW50TGFiZWxQbGFjZW1lbnRDZW50ZXJDZW50ZXJcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudENlbnRlckFsb25nXCI6Y2FzZVwiYWx3YXlzLWhvcml6b250YWxcIjpjYXNlXCJlc3JpU2VydmVyUG9seWdvblBsYWNlbWVudEFsd2F5c0hvcml6b250YWxcIjpyZXR1cm5bZS5DZW50ZXIsdC5DZW50ZXJdO2Nhc2VcImNlbnRlci1yaWdodFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50Q2VudGVyUmlnaHRcIjpyZXR1cm5bZS5MZWZ0LHQuQ2VudGVyXTtjYXNlXCJiZWxvdy1sZWZ0XCI6Y2FzZVwiZXNyaVNlcnZlclBvaW50TGFiZWxQbGFjZW1lbnRCZWxvd0xlZnRcIjpyZXR1cm5bZS5SaWdodCx0LlRvcF07Y2FzZVwiYmVsb3ctY2VudGVyXCI6Y2FzZVwiYmVsb3ctYWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyUG9pbnRMYWJlbFBsYWNlbWVudEJlbG93Q2VudGVyXCI6Y2FzZVwiZXNyaVNlcnZlckxpbmVQbGFjZW1lbnRCZWxvd0Fsb25nXCI6cmV0dXJuW2UuQ2VudGVyLHQuVG9wXTtjYXNlXCJiZWxvdy1yaWdodFwiOmNhc2VcImVzcmlTZXJ2ZXJQb2ludExhYmVsUGxhY2VtZW50QmVsb3dSaWdodFwiOnJldHVybltlLkxlZnQsdC5Ub3BdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZGVidWcoYEZvdW5kIGludmFsaWQgcGxhY2VtZW50IHR5cGUgJHtyfWApLFtlLkNlbnRlcix0LkNlbnRlcl19fWZ1bmN0aW9uIGModCl7c3dpdGNoKHQpe2Nhc2UgZS5SaWdodDpyZXR1cm4tMTtjYXNlIGUuQ2VudGVyOnJldHVybiAwO2Nhc2UgZS5MZWZ0OnJldHVybiAxO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZGVidWcoYEZvdW5kIGludmFsaWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgJHt0fWApLDB9fWZ1bmN0aW9uIG8oZSl7c3dpdGNoKGUpe2Nhc2UgdC5Ub3A6cmV0dXJuIDE7Y2FzZSB0LkNlbnRlcjpyZXR1cm4gMDtjYXNlIHQuQm90dG9tOmNhc2UgdC5CYXNlbGluZTpyZXR1cm4tMTtkZWZhdWx0OnJldHVybiBjb25zb2xlLmRlYnVnKGBGb3VuZCBpbnZhbGlkIHZlcnRpY2FsIGFsaWdubWVudCAke2V9YCksMH19ZnVuY3Rpb24gcyh0KXtzd2l0Y2godCl7Y2FzZVwibGVmdFwiOnJldHVybiBlLkxlZnQ7Y2FzZVwicmlnaHRcIjpyZXR1cm4gZS5SaWdodDtjYXNlXCJjZW50ZXJcIjpyZXR1cm4gZS5DZW50ZXJ9fWZ1bmN0aW9uIGkoZSl7c3dpdGNoKGUpe2Nhc2VcImFib3ZlLWFsb25nXCI6Y2FzZVwiYmVsb3ctYWxvbmdcIjpjYXNlXCJjZW50ZXItYWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudEFib3ZlQWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudEJlbG93QWxvbmdcIjpjYXNlXCJlc3JpU2VydmVyTGluZVBsYWNlbWVudENlbnRlckFsb25nXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19IWZ1bmN0aW9uKGUpe2VbZS5MZWZ0PS0xXT1cIkxlZnRcIixlW2UuQ2VudGVyPTBdPVwiQ2VudGVyXCIsZVtlLlJpZ2h0PTFdPVwiUmlnaHRcIn0oZXx8KGU9e30pKSxmdW5jdGlvbihlKXtlW2UuVG9wPTFdPVwiVG9wXCIsZVtlLkNlbnRlcj0wXT1cIkNlbnRlclwiLGVbZS5Cb3R0b209LTFdPVwiQm90dG9tXCIsZVtlLkJhc2VsaW5lPTJdPVwiQmFzZWxpbmVcIn0odHx8KHQ9e30pKTtleHBvcnR7ZSBhcyBIQWxpZ24sdCBhcyBWQWxpZ24sYSBhcyBnZXRBbGlnbm1lbnRGcm9tUGxhY2VtZW50LHMgYXMgZ2V0SnVzdGlmaWNhdGlvbixyIGFzIGdldFhBbmNob3JEaXJlY3Rpb24sYyBhcyBnZXRYRGlyZWN0aW9uLG4gYXMgZ2V0WUFuY2hvckRpcmVjdGlvbixvIGFzIGdldFlEaXJlY3Rpb24saSBhcyBpc01hcEFsaWduZWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL2luZGV4Mi5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e01pbGxpc2Vjb25kcyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvdGltZS5qc1wiO2FzeW5jIGZ1bmN0aW9uIHIocixuKXtjb25zdCBpPXQocik7aWYoaSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGk7YXdhaXQgaS5jcmVhdGVJbWFnZXMoKSxlKG4pO2NvbnN0e2ZyYW1lczphLHdpZHRoOnMsaGVpZ2h0OnB9PWksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Mud2lkdGg9cyxjLmhlaWdodD1wO2NvbnN0IGw9Yy5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSksbT1bXSxoPVtdO2Zvcihjb25zdCB0IG9mIGEpe2gucHVzaChvKHQuZGVsYXl8fDEwMCkpO2NvbnN0IGU9dC5pbWFnZUVsZW1lbnQ7MD09PXQuYmxlbmRPcD9sLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImNvcHlcIjpsLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cInNvdXJjZS1vdmVyXCI7Y29uc3Qgcj0yPT09dC5kaXNwb3NlT3A/bC5nZXRJbWFnZURhdGEodC5sZWZ0LHQudG9wLHQud2lkdGgsdC5oZWlnaHQpOnZvaWQgMDtsLmRyYXdJbWFnZShlLHQubGVmdCx0LnRvcCk7Y29uc3Qgbj1sLmdldEltYWdlRGF0YSgwLDAscyxwKTttLnB1c2gobiksMD09PXQuZGlzcG9zZU9wfHwoMT09PXQuZGlzcG9zZU9wP2wuY2xlYXJSZWN0KHQubGVmdCx0LnRvcCx0LndpZHRoLHQuaGVpZ2h0KToyPT09dC5kaXNwb3NlT3AmJmwucHV0SW1hZ2VEYXRhKHIsdC5sZWZ0LHQudG9wKSl9cmV0dXJue2ZyYW1lRHVyYXRpb25zOmgsZ2V0RnJhbWU6dD0+bVt0XSx3aWR0aDpzLGhlaWdodDpwfX1jb25zdCBuPVsxMzcsODAsNzgsNzEsMTMsMTAsMjYsMTBdO2Z1bmN0aW9uIGkodCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSh0KTtyZXR1cm4hbi5zb21lKCgodCxvKT0+dCE9PWVbb10pKX1mdW5jdGlvbiBhKHQpe2lmKCFpKHQpKXJldHVybiExO2NvbnN0IGU9bmV3IERhdGFWaWV3KHQpLG89bmV3IFVpbnQ4QXJyYXkodCk7bGV0IHIsbj04O2Rve2NvbnN0IHQ9ZS5nZXRVaW50MzIobik7aWYocj1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvLnN1YmFycmF5KG4rNCxuKzgpKSksXCJhY1RMXCI9PT1yKXJldHVybiEwO24rPTEyK3R9d2hpbGUoXCJJRU5EXCIhPT1yJiZuPG8ubGVuZ3RoKTtyZXR1cm4hMX1leHBvcnR7YSBhcyBpc0FuaW1hdGVkUE5HLGkgYXMgaXNQTkcsciBhcyBwYXJzZUFwbmd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtNaWxsaXNlY29uZHMgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3RpbWUuanNcIjtpbXBvcnR7aW1hZ2VUeXBlVG9DYW52YXMgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L21lc2hVdGlscy9leHBvcnRlcnMvZ2x0Zi9pbWFnZXV0aWxzLmpzXCI7aW1wb3J0e3AgYXMgaSxkIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL2luZGV4My5qc1wiO2FzeW5jIGZ1bmN0aW9uIG4obixhKXtjb25zdCByPWkobiksbz1zKHIsITApLHt3aWR0aDpjLGhlaWdodDpkfT1yLmxzZCxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bS53aWR0aD1jLG0uaGVpZ2h0PWQ7Y29uc3QgdT1tLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSxmPVtdLGg9W107Zm9yKGNvbnN0IGkgb2Ygbyl7aC5wdXNoKHQoaS5kZWxheXx8MTAwKSk7Y29uc3Qgcz1uZXcgSW1hZ2VEYXRhKGkucGF0Y2gsaS5kaW1zLndpZHRoLGkuZGltcy5oZWlnaHQpLG49ZShzKSxhPTM9PT1pLmRpc3Bvc2FsVHlwZT91LmdldEltYWdlRGF0YShpLmRpbXMubGVmdCxpLmRpbXMudG9wLGkuZGltcy53aWR0aCxpLmRpbXMuaGVpZ2h0KTp2b2lkIDA7dS5kcmF3SW1hZ2UobixpLmRpbXMubGVmdCxpLmRpbXMudG9wKTtjb25zdCByPXUuZ2V0SW1hZ2VEYXRhKDAsMCxjLGQpO2YucHVzaChyKSwxPT09aS5kaXNwb3NhbFR5cGV8fCgyPT09aS5kaXNwb3NhbFR5cGU/dS5jbGVhclJlY3QoaS5kaW1zLmxlZnQsaS5kaW1zLnRvcCxpLmRpbXMud2lkdGgsaS5kaW1zLmhlaWdodCk6Mz09PWkuZGlzcG9zYWxUeXBlJiZ1LnB1dEltYWdlRGF0YShhLGkuZGltcy5sZWZ0LGkuZGltcy50b3ApKX1yZXR1cm57ZnJhbWVEdXJhdGlvbnM6aCxnZXRGcmFtZTp0PT5mW3RdLHdpZHRoOmMsaGVpZ2h0OmR9fWNvbnN0IGE9WzcxLDczLDcwXTtmdW5jdGlvbiByKHQpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodCk7cmV0dXJuIWEuc29tZSgoKHQsaSk9PnQhPT1lW2ldKSl9ZnVuY3Rpb24gbyh0KXtpZighcih0KSlyZXR1cm4hMTtjb25zdCBlPW5ldyBEYXRhVmlldyh0KSxpPWUuZ2V0VWludDgoMTApO2xldCBzPTEzKygxMjgmaT8zKjIqKigxKyg3JmkpKTowKSxuPTAsYT0hMTtmb3IoOyFhOyl7c3dpdGNoKGUuZ2V0VWludDgocysrKSl7Y2FzZSAzMzppZighbygpKXJldHVybiExO2JyZWFrO2Nhc2UgNDQ6YygpO2JyZWFrO2Nhc2UgNTk6YT0hMDticmVhaztkZWZhdWx0OnJldHVybiExfWlmKG4+MSlyZXR1cm4hMH1mdW5jdGlvbiBvKCl7c3dpdGNoKGUuZ2V0VWludDgocysrKSl7Y2FzZSAyNDk6ZCgpO2JyZWFrO2Nhc2UgMTptKCk7YnJlYWs7Y2FzZSAyNTQ6dSgpO2JyZWFrO2Nhc2UgMjU1OmYoKTticmVhaztkZWZhdWx0OnJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoKXtuKysscys9ODtjb25zdCB0PWUuZ2V0VWludDgocysrKTtzKz0xMjgmdD8zKjIqKigxKyg3JnQpKTowLHMrKyxoKCl9ZnVuY3Rpb24gZCgpe3MrKyxzKz00LGgoKX1mdW5jdGlvbiBtKCl7bisrLHMrKyxzKz0xMixoKCl9ZnVuY3Rpb24gdSgpe2goKX1mdW5jdGlvbiBmKCl7cysrLHMrPTgscys9MyxoKCl9ZnVuY3Rpb24gaCgpe2xldCB0O2Zvcig7dD1lLmdldFVpbnQ4KHMrKyk7KXMrPXR9cmV0dXJuITF9ZXhwb3J0e28gYXMgaXNBbmltYXRlZEdJRixyIGFzIGlzR0lGLG4gYXMgcGFyc2VHaWZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49bmV3IEZsb2F0MzJBcnJheSgxKSxyPW5ldyBVaW50MzJBcnJheShuLmJ1ZmZlcik7ZnVuY3Rpb24gdChuLHIsdCl7cmV0dXJuIE1hdGgucm91bmQoTWF0aC5tYXgoTWF0aC5taW4obix0KSxyKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdChuLC0xMjgsMTI3KX1mdW5jdGlvbiBlKG4pe3JldHVybiB0KG4sLTMyNzY4LDMyNzY3KX1mdW5jdGlvbiBvKG4pe3JldHVybiB0KG4sLTIxNDc0ODM2NDgsMjE0NzQ4MzY0Nyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gdChuLDAsMjU1KX1mdW5jdGlvbiBpKG4pe3JldHVybiB0KG4sMCw2NTUzNSl9ZnVuY3Rpb24gYyhuKXtyZXR1cm4gdChuLDAsNDI5NDk2NzI5NSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gblswXT10LHJbMF19ZnVuY3Rpb24gaCh0KXtyZXR1cm4gclswXT10LG5bMF19ZnVuY3Rpb24gTShuKXtyZXR1cm5bMjU1Jm4sKDY1MjgwJm4pPj4+OCwoMTY3MTE2ODAmbik+Pj4xNiwoNDI3ODE5MDA4MCZuKT4+PjI0XX1mdW5jdGlvbiBtKG4scil7cmV0dXJuIDE1Jm58KDE1JnIpPDw0fWZ1bmN0aW9uIHcobixyKXtyZXR1cm4gNjU1MzUmbnxyPDwxNn1mdW5jdGlvbiB4KG4scix0LHUpe3JldHVybiAyNTUmbnwoMjU1JnIpPDw4fCgyNTUmdCk8PDE2fHU8PDI0fWZ1bmN0aW9uIHkobixyLHQpe3JldHVybiAyNTUmbnwoMjU1JnIpPDw4fHQ8PDE2fWZ1bmN0aW9uIEEobil7cmV0dXJuIDB8bn1leHBvcnR7ZSBhcyBpMTYsdyBhcyBpMTYxNnRvMzIsbyBhcyBpMzIsdSBhcyBpOCx5IGFzIGk4ODE2dG8zMix4IGFzIGk4ODg4dG8zMixBIGFzIG51bVRvMzIsaCBhcyB0b0Zsb2F0MzIsYSBhcyB0b1VpbnQzMixpIGFzIHUxNixjIGFzIHUzMixNIGFzIHUzMnRvNFh1OCxtIGFzIHU0dTR0bzgsZiBhcyB1OH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=