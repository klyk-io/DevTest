"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["node_modules_arcgis_core_views_2d_layers_SubtypeGroupLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FeatureLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,r){return!e.visible||0!==e.minScale&&r>e.minScale||0!==e.maxScale&&r<e.maxScale}let l=class extends _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_9__["default"]{initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.view.scale),(()=>this._update()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.initial)],"constructor")}isUpdating(){const e=this.layer.sublayers.some((e=>null!=e.renderer)),r=this._commandsQueue.updating,s=null!=this._updatingRequiredFieldsPromise,i=!this._proxy||!this._proxy.isReady,t=this._pipelineIsUpdating,a=null==this.tileRenderer||this.tileRenderer?.updating,n=e&&(r||s||i||t||a);return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating FLV2D: ${n}\n  -> hasRenderer ${e}\n  -> hasPendingCommand ${r}\n  -> updatingRequiredFields ${s}\n  -> updatingProxy ${i}\n  -> updatingPipeline ${t}\n  -> updatingTileRenderer ${a}\n`),n}_injectOverrides(e){let r=super._injectOverrides(e);const s=this.view.scale,i=this.layer.sublayers.filter((e=>n(e,s))).map((e=>e.subtypeCode));if(!i.length)return r;r=null!=r?r:(new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_8__["default"]).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${i.join(",")})`;return r.where=r.where?`(${r.where}) AND (${a})`:a,r}_setLayersForFeature(e){const r=this.layer.fieldsIndex.get(this.layer.subtypeField),s=e.attributes[r.name],i=this.layer.sublayers.find((e=>e.subtypeCode===s));e.layer=e.sourceLayer=i}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))},r=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),s=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${r})`:"1=2";let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=s,{...super._createSchemaConfig(),...e,definitionExpression:i}}};l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.SubtypeGroupLayerView2D")],l);const o=l;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19TdWJ0eXBlR3JvdXBMYXllclZpZXcyRF9qcy4zODEzN2FjODllODNlOTU5YTgyOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2llLGdCQUFnQiw2RUFBNkUsb0JBQW9CLDhEQUFDLENBQUMsYUFBYSxpQkFBaUIsNkRBQUMsNENBQTRDLDJEQUFDLGtCQUFrQixhQUFhLGdSQUFnUixPQUFPLHdEQUFHLHlEQUF5RCxFQUFFLHFCQUFxQixFQUFFLDJCQUEyQixFQUFFLGdDQUFnQyxFQUFFLHVCQUF1QixFQUFFLDBCQUEwQixFQUFFLDhCQUE4QixFQUFFLE9BQU8sb0JBQW9CLGdDQUFnQywyRkFBMkYsc0JBQXNCLGlCQUFpQix3RUFBQyxXQUFXLGVBQWUseUJBQXlCLE1BQU0sWUFBWSxHQUFHLDJCQUEyQixRQUFRLFNBQVMsRUFBRSxPQUFPLHdCQUF3Qix1SUFBdUksd0JBQXdCLHNCQUFzQixTQUFTLDBGQUEwRixnTEFBZ0wsSUFBSSwyRkFBMkYseUJBQXlCLE1BQU0sRUFBRSxTQUFTLGlGQUFpRixhQUFhLDhEQUE4RCxFQUFFLHVEQUFDLEVBQUUsc0ZBQUMscURBQXFELFVBQStCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL1N1YnR5cGVHcm91cExheWVyVmlldzJELmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHIsaW5pdGlhbCBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9GZWF0dXJlTGF5ZXJWaWV3MkQuanNcIjtmdW5jdGlvbiBuKGUscil7cmV0dXJuIWUudmlzaWJsZXx8MCE9PWUubWluU2NhbGUmJnI+ZS5taW5TY2FsZXx8MCE9PWUubWF4U2NhbGUmJnI8ZS5tYXhTY2FsZX1sZXQgbD1jbGFzcyBleHRlbmRzIGF7aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhbcigoKCk9PnRoaXMudmlldy5zY2FsZSksKCgpPT50aGlzLl91cGRhdGUoKSkscyldLFwiY29uc3RydWN0b3JcIil9aXNVcGRhdGluZygpe2NvbnN0IGU9dGhpcy5sYXllci5zdWJsYXllcnMuc29tZSgoZT0+bnVsbCE9ZS5yZW5kZXJlcikpLHI9dGhpcy5fY29tbWFuZHNRdWV1ZS51cGRhdGluZyxzPW51bGwhPXRoaXMuX3VwZGF0aW5nUmVxdWlyZWRGaWVsZHNQcm9taXNlLGk9IXRoaXMuX3Byb3h5fHwhdGhpcy5fcHJveHkuaXNSZWFkeSx0PXRoaXMuX3BpcGVsaW5lSXNVcGRhdGluZyxhPW51bGw9PXRoaXMudGlsZVJlbmRlcmVyfHx0aGlzLnRpbGVSZW5kZXJlcj8udXBkYXRpbmcsbj1lJiYocnx8c3x8aXx8dHx8YSk7cmV0dXJuIGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpJiZjb25zb2xlLmxvZyhgVXBkYXRpbmcgRkxWMkQ6ICR7bn1cXG4gIC0+IGhhc1JlbmRlcmVyICR7ZX1cXG4gIC0+IGhhc1BlbmRpbmdDb21tYW5kICR7cn1cXG4gIC0+IHVwZGF0aW5nUmVxdWlyZWRGaWVsZHMgJHtzfVxcbiAgLT4gdXBkYXRpbmdQcm94eSAke2l9XFxuICAtPiB1cGRhdGluZ1BpcGVsaW5lICR7dH1cXG4gIC0+IHVwZGF0aW5nVGlsZVJlbmRlcmVyICR7YX1cXG5gKSxufV9pbmplY3RPdmVycmlkZXMoZSl7bGV0IHI9c3VwZXIuX2luamVjdE92ZXJyaWRlcyhlKTtjb25zdCBzPXRoaXMudmlldy5zY2FsZSxpPXRoaXMubGF5ZXIuc3VibGF5ZXJzLmZpbHRlcigoZT0+bihlLHMpKSkubWFwKChlPT5lLnN1YnR5cGVDb2RlKSk7aWYoIWkubGVuZ3RoKXJldHVybiByO3I9bnVsbCE9cj9yOihuZXcgdCkudG9KU09OKCk7Y29uc3QgYT1gTk9UICR7dGhpcy5sYXllci5zdWJ0eXBlRmllbGR9IElOICgke2kuam9pbihcIixcIil9KWA7cmV0dXJuIHIud2hlcmU9ci53aGVyZT9gKCR7ci53aGVyZX0pIEFORCAoJHthfSlgOmEscn1fc2V0TGF5ZXJzRm9yRmVhdHVyZShlKXtjb25zdCByPXRoaXMubGF5ZXIuZmllbGRzSW5kZXguZ2V0KHRoaXMubGF5ZXIuc3VidHlwZUZpZWxkKSxzPWUuYXR0cmlidXRlc1tyLm5hbWVdLGk9dGhpcy5sYXllci5zdWJsYXllcnMuZmluZCgoZT0+ZS5zdWJ0eXBlQ29kZT09PXMpKTtlLmxheWVyPWUuc291cmNlTGF5ZXI9aX1fY3JlYXRlU2NoZW1hQ29uZmlnKCl7Y29uc3QgZT17c3VidHlwZUZpZWxkOnRoaXMubGF5ZXIuc3VidHlwZUZpZWxkLHN1YmxheWVyczpBcnJheS5mcm9tKHRoaXMubGF5ZXIuc3VibGF5ZXJzKS5tYXAoKGU9Pih7ZmVhdHVyZVJlZHVjdGlvbjpudWxsLGdlb21ldHJ5VHlwZTp0aGlzLmxheWVyLmdlb21ldHJ5VHlwZSxsYWJlbGluZ0luZm86ZS5sYWJlbGluZ0luZm8sbGFiZWxzVmlzaWJsZTplLmxhYmVsc1Zpc2libGUscmVuZGVyZXI6ZS5yZW5kZXJlcixzdWJ0eXBlQ29kZTplLnN1YnR5cGVDb2RlLG9yZGVyQnk6bnVsbH0pKSl9LHI9dGhpcy5sYXllci5zdWJsYXllcnMubWFwKChlPT5lLnN1YnR5cGVDb2RlKSkuam9pbihcIixcIikscz10aGlzLmxheWVyLnN1YmxheWVycy5sZW5ndGg/YCR7dGhpcy5sYXllci5zdWJ0eXBlRmllbGR9IElOICgke3J9KWA6XCIxPTJcIjtsZXQgaT10aGlzLmxheWVyLmRlZmluaXRpb25FeHByZXNzaW9uP3RoaXMubGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24rXCIgQU5EIFwiOlwiXCI7cmV0dXJuIGkrPXMsey4uLnN1cGVyLl9jcmVhdGVTY2hlbWFDb25maWcoKSwuLi5lLGRlZmluaXRpb25FeHByZXNzaW9uOml9fX07bD1lKFtpKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuU3VidHlwZUdyb3VwTGF5ZXJWaWV3MkRcIildLGwpO2NvbnN0IG89bDtleHBvcnR7byBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==