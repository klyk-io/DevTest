"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["node_modules_arcgis_core_views_2d_layers_WMSLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportWMSImageParameters: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a={visible:"visibleSublayers"};let l=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__.HandleOwnerMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(a[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.push(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:"GetMap",service:"WMS",styles:"",transparent:t?"TRUE":"FALSE",version:o,layers:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number})],l.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],l.prototype,"visibleSublayers",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.ExportWMSImageParameters")],l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../engine/BitmapContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/ExportStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/WMSLayerView.js */ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let y=class extends((0,_layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_15__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_12__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])))){constructor(){super(...arguments),this.bitmapContainer=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__.BitmapContainer}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(e)}))}attach(){const{layer:e}=this,{imageMaxHeight:t,imageMaxWidth:r}=e;this.bitmapContainer=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__.BitmapContainer,this.container.addChild(this.bitmapContainer),this.strategy=new _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_13__["default"]({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:t,imageMaxWidth:r,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.exportImageVersion),(()=>this.requestUpdate())))}detach(){this.strategy=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.strategy),this.container.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t,bitmapContainer:r}=this,{x:i,y:s}=e,{spatialReference:a}=t;let o,n=0,m=0;if(r.children.some((e=>{const{width:t,height:r,resolution:h,x:c,y:d}=e,u=c+h*t,y=d-h*r;return i>=c&&i<=u&&s<=d&&s>=y&&(o=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__["default"]({xmin:c,ymin:y,xmax:u,ymax:d,spatialReference:a}),n=t,m=r,!0)})),!o)return null;const h=o.width/n,c=Math.round((i-o.xmin)/h),d=Math.round((o.ymax-s)/h);return{extent:o,width:n,height:m,x:c,y:d}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImageBitmap(e,t,r,{timeExtent:this.timeExtent,...i})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"strategy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"updating",void 0),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.WMSLayerView2D")],y);const g=y;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/WMSLayerView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i=i=>{let m=class extends i{initialize(){this.exportImageParameters=new _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__.ExportWMSImageParameters({layer:this.layer})}destroy(){this.exportImageParameters=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:p,width:a,height:i});return t.fetchFeatureInfo(p,a,i,m,n)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"exportImageParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"exportImageVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],m.prototype,"timeExtent",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.WMSLayerView")],m),m};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19XTVNMYXllclZpZXcyRF9qcy5jMjlmOGE2ZDlkMjI2YjJhYzAzYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN1WixTQUFTLDRCQUE0QixvQkFBb0Isc0VBQUMsQ0FBQyx5REFBQyxHQUFHLGVBQWUsc0JBQXNCLGFBQWEsc1BBQXNQLGFBQWEsdUNBQXVDLE9BQU8sY0FBYyxPQUFPLGNBQWMsY0FBYyw4QkFBOEIsbUJBQW1CLDRFQUE0RSx1QkFBdUIsTUFBTSxnQkFBZ0IsZ0NBQWdDLE1BQU0sNENBQTRDLEdBQUcsc0VBQXNFLHVCQUF1QixTQUFTLE1BQU0saUJBQWlCLE9BQU8sNENBQTRDLEdBQUcsT0FBTyxxR0FBcUcsdURBQUMsRUFBRSxzRkFBQyw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksMENBQTBDLHVEQUFDLEVBQUUsc0ZBQUMscURBQTJGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2dEQ7QUFDQTtBQUNBO0FBQ0E7QUFDeTJCLG9CQUFvQixvRUFBQyxDQUFDLDRFQUFDLENBQUMsa0VBQUMsQ0FBQyw2REFBQyxLQUFLLGNBQWMsNkNBQTZDLHdFQUFDLENBQUMsNEJBQTRCLHFEQUFxRCxVQUFVLG1DQUFtQyxtRUFBQyxLQUFLLHVEQUFDLDBCQUEwQixHQUFHLFNBQVMsTUFBTSxRQUFRLE9BQU8saUNBQWlDLEdBQUcseUJBQXlCLHdFQUFDLGlFQUFpRSxtRUFBQyxFQUFFLHFOQUFxTix3QkFBd0IsNkRBQUMsNERBQTRELFNBQVMsY0FBYyw0REFBQyxtREFBbUQsYUFBYSxjQUFjLFVBQVUscUJBQXFCLGlDQUFpQyxNQUFNLHlCQUF5QixPQUFPLFFBQVEsSUFBSSxtQkFBbUIsR0FBRyxjQUFjLHdCQUF3QixNQUFNLHNDQUFzQyxtQkFBbUIsc0NBQXNDLDREQUFDLEVBQUUsK0NBQStDLGNBQWMsa0JBQWtCLHdFQUF3RSxPQUFPLG1DQUFtQyxrQkFBa0IscUJBQXFCLGFBQWEsb0RBQW9ELG9CQUFvQiwwQ0FBMEMsZ0NBQWdDLElBQUksdURBQUMsRUFBRSxzRkFBQyxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQyxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyw0Q0FBNEMsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeDlFO0FBQ0E7QUFDQTtBQUNBO0FBQ3FrQixZQUFZLHNCQUFzQixhQUFhLCtCQUErQixpR0FBQyxFQUFFLGlCQUFpQixFQUFFLFVBQVUsMkJBQTJCLDREQUFDLDZCQUE2Qix5QkFBeUIsc0lBQXNJLHNCQUFzQixNQUFNLFFBQVEsTUFBTSxnQ0FBZ0Msc0RBQUMsb0VBQW9FLFFBQVEsR0FBRyxNQUFNLGVBQWUsR0FBRyxnQ0FBZ0Msc0RBQUMsa0VBQWtFLGVBQWUsR0FBRyw4Q0FBOEMsaUNBQWlDLE1BQU0sa0NBQWtDLEdBQUcsd0JBQXdCLHNEQUFDLG1GQUFtRiwwQkFBMEIsRUFBRSx1Q0FBdUMsT0FBTyx1REFBQyxFQUFFLHNGQUFDLGdEQUFnRCx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxDQUFDLG9HQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLDJDQUFnRSIsInNvdXJjZXMiOlsid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvV01TTGF5ZXJWaWV3MkQuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1dNU0xheWVyVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtIYW5kbGVPd25lck1peGluIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9IYW5kbGVPd25lci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3QgYT17dmlzaWJsZTpcInZpc2libGVTdWJsYXllcnNcIn07bGV0IGw9Y2xhc3MgZXh0ZW5kcyhzKHIpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnNjYWxlPTB9c2V0IGxheWVyKGUpe3RoaXMuX2dldChcImxheWVyXCIpIT09ZSYmKHRoaXMuX3NldChcImxheWVyXCIsZSksdGhpcy5oYW5kbGVzLnJlbW92ZShcImxheWVyXCIpLGUmJnRoaXMuaGFuZGxlcy5hZGQoW2Uuc3VibGF5ZXJzLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLm5vdGlmeUNoYW5nZShcInZpc2libGVTdWJsYXllcnNcIikpKSxlLm9uKFwid21zLXN1YmxheWVyLXVwZGF0ZVwiLChlPT50aGlzLm5vdGlmeUNoYW5nZShhW2UucHJvcGVydHlOYW1lXSkpKV0sXCJsYXllclwiKSl9Z2V0IGxheWVycygpe3JldHVybiB0aGlzLnZpc2libGVTdWJsYXllcnMuZmlsdGVyKCgoe25hbWU6ZX0pPT5lKSkubWFwKCgoe25hbWU6ZX0pPT5lKSkuam9pbigpfWdldCB2ZXJzaW9uKCl7dGhpcy5jb21taXRQcm9wZXJ0eShcImxheWVyc1wiKTtjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuIGUmJmUuY29tbWl0UHJvcGVydHkoXCJpbWFnZVRyYW5zcGFyZW5jeVwiKSwodGhpcy5fZ2V0KFwidmVyc2lvblwiKXx8MCkrMX1nZXQgdmlzaWJsZVN1YmxheWVycygpe2NvbnN0e2xheWVyOmUsc2NhbGU6cn09dGhpcyxzPWU/LnN1YmxheWVycyx0PVtdLG89ZT0+e2NvbnN0e21pblNjYWxlOnMsbWF4U2NhbGU6YSxzdWJsYXllcnM6bCx2aXNpYmxlOml9PWU7aSYmKDA9PT1yfHwoMD09PXN8fHI8PXMpJiYoMD09PWF8fHI+PWEpKSYmKGw/bC5mb3JFYWNoKG8pOnQucHVzaChlKSl9O3JldHVybiBzPy5mb3JFYWNoKG8pLHR9dG9KU09OKCl7Y29uc3R7bGF5ZXI6ZSxsYXllcnM6cn09dGhpcyx7aW1hZ2VGb3JtYXQ6cyxpbWFnZVRyYW5zcGFyZW5jeTp0LHZlcnNpb246b309ZTtyZXR1cm57Zm9ybWF0OnMscmVxdWVzdDpcIkdldE1hcFwiLHNlcnZpY2U6XCJXTVNcIixzdHlsZXM6XCJcIix0cmFuc3BhcmVudDp0P1wiVFJVRVwiOlwiRkFMU0VcIix2ZXJzaW9uOm8sbGF5ZXJzOnJ9fX07ZShbdCgpXSxsLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbC5wcm90b3R5cGUsXCJsYXllcnNcIixudWxsKSxlKFt0KHt0eXBlOk51bWJlcn0pXSxsLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxlKFt0KHtyZWFkT25seTohMH0pXSxsLnByb3RvdHlwZSxcInZlcnNpb25cIixudWxsKSxlKFt0KHtyZWFkT25seTohMH0pXSxsLnByb3RvdHlwZSxcInZpc2libGVTdWJsYXllcnNcIixudWxsKSxsPWUoW28oXCJlc3JpLmxheWVycy5zdXBwb3J0LkV4cG9ydFdNU0ltYWdlUGFyYW1ldGVyc1wiKV0sbCk7ZXhwb3J0e2wgYXMgRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7Qml0bWFwQ29udGFpbmVyIGFzIG59ZnJvbVwiLi4vZW5naW5lL0JpdG1hcENvbnRhaW5lci5qc1wiO2ltcG9ydHtMYXllclZpZXcyRE1peGluIGFzIG19ZnJvbVwiLi9MYXllclZpZXcyRC5qc1wiO2ltcG9ydCBoIGZyb21cIi4vc3VwcG9ydC9FeHBvcnRTdHJhdGVneS5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9sYXllcnMvV01TTGF5ZXJWaWV3LmpzXCI7bGV0IHk9Y2xhc3MgZXh0ZW5kcyh1KGQobShjKSkpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5iaXRtYXBDb250YWluZXI9bmV3IG59c3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpe3JldHVybiB0aGlzLmxheWVyLnNlcnZpY2VTdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UoZSl9dXBkYXRlKGUpe3RoaXMuc3RyYXRlZ3kudXBkYXRlKGUpLmNhdGNoKChlPT57aShlKXx8dC5nZXRMb2dnZXIodGhpcykuZXJyb3IoZSl9KSl9YXR0YWNoKCl7Y29uc3R7bGF5ZXI6ZX09dGhpcyx7aW1hZ2VNYXhIZWlnaHQ6dCxpbWFnZU1heFdpZHRoOnJ9PWU7dGhpcy5iaXRtYXBDb250YWluZXI9bmV3IG4sdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5iaXRtYXBDb250YWluZXIpLHRoaXMuc3RyYXRlZ3k9bmV3IGgoe2NvbnRhaW5lcjp0aGlzLmJpdG1hcENvbnRhaW5lcixmZXRjaFNvdXJjZTp0aGlzLmZldGNoSW1hZ2UuYmluZCh0aGlzKSxyZXF1ZXN0VXBkYXRlOnRoaXMucmVxdWVzdFVwZGF0ZS5iaW5kKHRoaXMpLGltYWdlTWF4SGVpZ2h0OnQsaW1hZ2VNYXhXaWR0aDpyLGltYWdlUm90YXRpb25TdXBwb3J0ZWQ6ITEsaW1hZ2VOb3JtYWxpemF0aW9uU3VwcG9ydGVkOiExLGhpZHBpOiExfSksdGhpcy5hZGRBdHRhY2hIYW5kbGVzKHMoKCgpPT50aGlzLmV4cG9ydEltYWdlVmVyc2lvbiksKCgpPT50aGlzLnJlcXVlc3RVcGRhdGUoKSkpKX1kZXRhY2goKXt0aGlzLnN0cmF0ZWd5PXIodGhpcy5zdHJhdGVneSksdGhpcy5jb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKX1tb3ZlU3RhcnQoKXt9dmlld0NoYW5nZSgpe31tb3ZlRW5kKCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9Y3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnkoZSl7Y29uc3R7dmlldzp0LGJpdG1hcENvbnRhaW5lcjpyfT10aGlzLHt4OmkseTpzfT1lLHtzcGF0aWFsUmVmZXJlbmNlOmF9PXQ7bGV0IG8sbj0wLG09MDtpZihyLmNoaWxkcmVuLnNvbWUoKGU9Pntjb25zdHt3aWR0aDp0LGhlaWdodDpyLHJlc29sdXRpb246aCx4OmMseTpkfT1lLHU9YytoKnQseT1kLWgqcjtyZXR1cm4gaT49YyYmaTw9dSYmczw9ZCYmcz49eSYmKG89bmV3IHAoe3htaW46Yyx5bWluOnkseG1heDp1LHltYXg6ZCxzcGF0aWFsUmVmZXJlbmNlOmF9KSxuPXQsbT1yLCEwKX0pKSwhbylyZXR1cm4gbnVsbDtjb25zdCBoPW8ud2lkdGgvbixjPU1hdGgucm91bmQoKGktby54bWluKS9oKSxkPU1hdGgucm91bmQoKG8ueW1heC1zKS9oKTtyZXR1cm57ZXh0ZW50Om8sd2lkdGg6bixoZWlnaHQ6bSx4OmMseTpkfX1hc3luYyBkb1JlZnJlc2goKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7cmV0dXJuIHRoaXMuc3RyYXRlZ3kudXBkYXRpbmd8fHRoaXMudXBkYXRlUmVxdWVzdGVkfWZldGNoSW1hZ2UoZSx0LHIsaSl7cmV0dXJuIHRoaXMubGF5ZXIuZmV0Y2hJbWFnZUJpdG1hcChlLHQscix7dGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnQsLi4uaX0pfX07ZShbYSgpXSx5LnByb3RvdHlwZSxcInN0cmF0ZWd5XCIsdm9pZCAwKSxlKFthKCldLHkucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLHk9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLldNU0xheWVyVmlldzJEXCIpXSx5KTtjb25zdCBnPXk7ZXhwb3J0e2cgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y29tYmluZWRWaWV3TGF5ZXJUaW1lRXh0ZW50UHJvcGVydHkgYXMgcH1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycyBhcyBhfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycy5qc1wiO2NvbnN0IGk9aT0+e2xldCBtPWNsYXNzIGV4dGVuZHMgaXtpbml0aWFsaXplKCl7dGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnM9bmV3IGEoe2xheWVyOnRoaXMubGF5ZXJ9KX1kZXN0cm95KCl7dGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnM9dCh0aGlzLmV4cG9ydEltYWdlUGFyYW1ldGVycyl9Z2V0IGV4cG9ydEltYWdlVmVyc2lvbigpe3JldHVybiB0aGlzLmV4cG9ydEltYWdlUGFyYW1ldGVycz8uY29tbWl0UHJvcGVydHkoXCJ2ZXJzaW9uXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ0aW1lRXh0ZW50XCIpLCh0aGlzLl9nZXQoXCJleHBvcnRJbWFnZVZlcnNpb25cIil8fDApKzF9ZmV0Y2hQb3B1cEZlYXR1cmVzKGUpe2NvbnN0e2xheWVyOnR9PXRoaXM7aWYoIWUpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyByKFwid21zbGF5ZXJ2aWV3OmZldGNoUG9wdXBGZWF0dXJlc1wiLFwiTm90aGluZyB0byBmZXRjaCB3aXRob3V0IGFyZWFcIix7bGF5ZXI6dH0pKTtjb25zdHtwb3B1cEVuYWJsZWQ6b309dDtpZighbylyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHIoXCJ3bXNsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJwb3B1cEVuYWJsZWQgc2hvdWxkIGJlIHRydWVcIix7cG9wdXBFbmFibGVkOm99KSk7Y29uc3Qgcz10aGlzLmNyZWF0ZUZldGNoUG9wdXBGZWF0dXJlc1F1ZXJ5KGUpO2lmKCFzKXJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO2NvbnN0e2V4dGVudDpwLHdpZHRoOmEsaGVpZ2h0OmkseDptLHk6bn09cztpZighKHAmJmEmJmkpKXRocm93IG5ldyByKFwid21zbGF5ZXJ2aWV3OmZldGNoUG9wdXBGZWF0dXJlc1wiLFwiV01TTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBmZXRjaGluZyBmZWF0dXJlcy5cIix7ZXh0ZW50OnAsd2lkdGg6YSxoZWlnaHQ6aX0pO3JldHVybiB0LmZldGNoRmVhdHVyZUluZm8ocCxhLGksbSxuKX19O3JldHVybiBlKFtvKCldLG0ucHJvdG90eXBlLFwiZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxlKFtvKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcImV4cG9ydEltYWdlVmVyc2lvblwiLG51bGwpLGUoW28oKV0sbS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbbyhwKV0sbS5wcm90b3R5cGUsXCJ0aW1lRXh0ZW50XCIsdm9pZCAwKSxtPWUoW3MoXCJlc3JpLmxheWVycy5taXhpbnMuV01TTGF5ZXJWaWV3XCIpXSxtKSxtfTtleHBvcnR7aSBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==