"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_MapImageLayer_js"],{

/***/ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/scaleUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getExtentForScale: () => (/* binding */ d),
/* harmony export */   getResolutionForScale: () => (/* binding */ r),
/* harmony export */   getResolutionInMetersForScale: () => (/* binding */ o),
/* harmony export */   getScale: () => (/* binding */ i),
/* harmony export */   getScaleForResolution: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=96;function i(i,r){const o=r||i.extent,c=i.width,d=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(o&&o.spatialReference);return o&&c?o.width/c*d*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e:0}function r(i,r){return i/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function o(t){return t/(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function c(i,r){return i*((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function d(t,n){const e=t.extent,i=t.width-(t.padding?t.padding.left+t.padding.right:0),o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/MapImageLayer.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/MapImageLayer.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ k)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/loadAll.js */ "./node_modules/@arcgis/core/core/loadAll.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/APIKeyMixin.js */ "./node_modules/@arcgis/core/layers/mixins/APIKeyMixin.js");
/* harmony import */ var _mixins_ArcGISMapService_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/ArcGISMapService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_SublayersOwner_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./mixins/SublayersOwner.js */ "./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_ExportImageParameters_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/ExportImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportImageParameters.js");
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js");
/* harmony import */ var _support_Sublayer_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./support/Sublayer.js */ "./node_modules/@arcgis/core/layers/support/Sublayer.js");
/* harmony import */ var _support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./support/sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/* harmony import */ var _support_versionUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./support/versionUtils.js */ "./node_modules/@arcgis/core/layers/support/versionUtils.js");
/* harmony import */ var _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../time/TimeReference.js */ "./node_modules/@arcgis/core/time/TimeReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let q=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_22__.BlendLayer)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__.TemporalLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_27__.ScaleRangeLayer)((0,_mixins_SublayersOwner_js__WEBPACK_IMPORTED_MODULE_28__.SublayersOwner)((0,_mixins_ArcGISMapService_js__WEBPACK_IMPORTED_MODULE_20__.ArcGISMapService)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_21__.ArcGISService)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_24__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_25__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_6__.MultiOriginJSONMixin)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_26__.RefreshableLayer)((0,_mixins_APIKeyMixin_js__WEBPACK_IMPORTED_MODULE_19__.APIKeyMixin)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_23__.CustomParametersMixin)((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_4__.HandleOwnerMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_18__["default"])))))))))))))){constructor(...e){super(...e),this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeReference=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAbortError).then((()=>this._fetchService(r)))),Promise.resolve(this)}readImageFormat(e,r){const t=r.supportedImageFormatTypes;return t&&t.includes("PNG32")?"png32":"png24"}writeSublayers(e,r,t,i){if(!this.loaded||!e)return;const o=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let s=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap?.supportsDynamicLayers){const e=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__.nameToId)(i.origin);if(e===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__.OriginId.PORTAL_ITEM){const e=this.createSublayersForOrigin("service").sublayers;s=(0,_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_34__.shouldWriteSublayerStructure)(o,e,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__.OriginId.SERVICE)}else if(e>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__.OriginId.PORTAL_ITEM){const e=this.createSublayersForOrigin("portal-item");s=(0,_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_34__.shouldWriteSublayerStructure)(o,e.sublayers,(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__.nameToId)(e.origin))}}const a=[],p={writeSublayerStructure:s,...i};let n=s;o.forEach((e=>{const r=e.write({},p);a.push(r),n=n||"user"===e.originOf("visible")}));a.some((e=>Object.keys(e).length>1))&&(r.layers=a),n&&(r.visibleLayers=o.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,r,t,i){const o=i&&i.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());const s=new _support_ExportImageParameters_js__WEBPACK_IMPORTED_MODULE_31__.ExportImageParameters({layer:this,floors:i?.floors,scale:(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_17__.getScale)({extent:e,width:r})*o}),a=s.toJSON();s.destroy();const p=!i||!i.rotation||this.version<10.3?{}:{rotation:-i.rotation},n=e&&e.spatialReference,m=n.wkid||JSON.stringify(n.toJSON());a.dpi*=o;const l={};if(i?.timeExtent){const{start:e,end:r}=i.timeExtent.toJSON();l.time=e&&r&&e===r?""+e:`${e??"null"},${r??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(l.time="null,null");return{bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:m,imageSR:m,size:r+","+t,...a,...p,...l}}async fetchImage(e,r,t,i){const{data:o}=await this._fetchImage("image",e,r,t,i);return o}async fetchImageBitmap(e,r,t,i){const{data:o,url:s}=await this._fetchImage("blob",e,r,t,i);return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_32__.createBitmap)(o,s,i?.signal)}async fetchRecomputedExtents(e={}){const i={...e,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}},{data:o}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.url,i),{extent:s,fullExtent:a,timeExtent:p}=o,n=s||a;return{fullExtent:n&&_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(n),timeExtent:p&&_TimeExtent_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON({start:p[0],end:p[1]})}}loadAll(){return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_5__.loadAll)(this,(e=>{e(this.allSublayers)}))}serviceSupportsSpatialReference(e){return (0,_support_versionUtils_js__WEBPACK_IMPORTED_MODULE_35__.serviceSupportsSpatialReference)(this,e)}async _fetchImage(e,t,o,s,a){const p={responseType:e,signal:a?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,o,s,a),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}},m=this.parsedUrl.path+"/export";if(null!=p.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:p.query});try{const{data:e}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(m,p);return{data:e,url:m}}catch(l){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isAbortError)(l))throw l;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("mapimagelayer:image-fetch-error",`Unable to load image: ${m}`,{error:l})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const{data:t,ssl:i}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});i&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_time_TimeReference_js__WEBPACK_IMPORTED_MODULE_36__["default"]})],q.prototype,"dateFieldsTimeReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean})],q.prototype,"datesInUnknownTimezone",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],q.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],q.prototype,"gdbVersion",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],q.prototype,"imageFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__.reader)("imageFormat",["supportedImageFormatTypes"])],q.prototype,"readImageFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],q.prototype,"imageMaxHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],q.prototype,"imageMaxWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],q.prototype,"imageTransparency",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],q.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!1,write:!1}})],q.prototype,"labelsVisible",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["ArcGISMapServiceLayer"]})],q.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!1,write:!1}})],q.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_time_TimeReference_js__WEBPACK_IMPORTED_MODULE_36__["default"]})],q.prototype,"preferredTimeReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],q.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{write:{ignoreOrigin:!0}}})],q.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__.writer)("sublayers",{layers:{type:[_support_Sublayer_js__WEBPACK_IMPORTED_MODULE_33__["default"]]},visibleLayers:{type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.Integer]}})],q.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["show","hide","hide-children"]})],q.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!1},readOnly:!0,value:"map-image"})],q.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_30__.url)],q.prototype,"url",void 0),q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.MapImageLayer")],q);const k=q;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ExportImageParameters.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportImageParameters.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportImageParameters: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _sublayerUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const y={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let m=class extends((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__.HandleOwnerMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=(0,_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__.getLayerFloorFilterClause)(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.isExportDynamic)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(y[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const s=(0,_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__.getLayerFloorFilterClause)(this.floors,r),i=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_3__.sqlAnd)(s,r.definitionExpression);return null!=i&&(e[r.id]=i),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get("visibleSublayers");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"dynamicLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"floors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"hasDynamicLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"layerDefs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number})],m.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__.combinedViewLayerTimeExtentProperty)],m.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"visibleSublayers",null),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.ExportImageParameters")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19NYXBJbWFnZUxheWVyX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvRixXQUFXLGdCQUFnQixnQ0FBZ0MseUVBQUMsd0JBQXdCLHdCQUF3Qiw4REFBQyxLQUFLLGdCQUFnQixVQUFVLHlFQUFDLElBQUksOERBQUMsSUFBSSxjQUFjLFVBQVUsOERBQUMsSUFBSSxnQkFBZ0IsVUFBVSx5RUFBQyxJQUFJLDhEQUFDLElBQUksZ0JBQWdCLGtHQUFrRyxxQ0FBMks7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeGtCO0FBQ0E7QUFDQTtBQUNBO0FBQ2lpRSxvQkFBb0Isa0VBQUMsQ0FBQyx3RUFBQyxDQUFDLDRFQUFDLENBQUMsMEVBQUMsQ0FBQyw4RUFBQyxDQUFDLHdFQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHFGQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHdGQUFDLENBQUMsc0VBQUMsQ0FBQyxrREFBQyxlQUFlLGtCQUFrQiw4WkFBOFosdUJBQXVCLDBCQUEwQixXQUFXLEdBQUcsUUFBUSw4QkFBOEIscURBQXFELCtCQUErQixVQUFVLG9FQUFDLDJEQUEyRCxxQkFBcUIsb0NBQW9DLDhDQUE4Qyx3QkFBd0IsMkJBQTJCLHVDQUF1QyxZQUFZLHdDQUF3QyxTQUFTLDBIQUEwSCxRQUFRLGtGQUFDLFdBQVcsT0FBTyw4RUFBQyxjQUFjLDJEQUEyRCxFQUFFLHdGQUFDLEtBQUssOEVBQUMsVUFBVSxVQUFVLDhFQUFDLGNBQWMscURBQXFELEVBQUUsd0ZBQUMsZUFBZSxrRkFBQyxhQUFhLGNBQWMsK0JBQStCLFFBQVEsZUFBZSxrQkFBa0IsSUFBSSw4Q0FBOEMsR0FBRyxnSEFBZ0gscUNBQXFDLDJCQUEyQiwwREFBMEQsWUFBWSxxRkFB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SSxtQkFBbUIscUtBQXFLLHVCQUF1QixXQUFXLHdCQUF3QixtQ0FBbUMsMkZBQTJGLHlFQUF5RSxnQkFBZ0Isc0NBQXNDLDZEQUE2RCxTQUFTLG1CQUFtQixPQUFPLDhGQUE4Rix1RkFBdUYsaURBQWlELEtBQUssdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVkscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLENBQUMscUZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxpREFBb0Y7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeDhHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0IsZ0VBQWdFLCtDQUErQyxZQUFZLGdCQUFnQixnRkFBZ0YsZ0JBQWdCLDBCQUEwQiwwQ0FBMEMsRUFBRSxLQUFLLHVCQUF1QixHQUFHLE1BQU0sWUFBWSxPQUFPLEdBQUcsU0FBMEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL01hcEltYWdlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L2Zsb29yRmlsdGVyVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgdCxpbmNoZXNQZXJNZXRlciBhcyBufWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7Y29uc3QgZT05NjtmdW5jdGlvbiBpKGkscil7Y29uc3Qgbz1yfHxpLmV4dGVudCxjPWkud2lkdGgsZD10KG8mJm8uc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIG8mJmM/by53aWR0aC9jKmQqbiplOjB9ZnVuY3Rpb24gcihpLHIpe3JldHVybiBpLyh0KHIpKm4qZSl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC8obiplKX1mdW5jdGlvbiBjKGkscil7cmV0dXJuIGkqKHQocikqbiplKX1mdW5jdGlvbiBkKHQsbil7Y29uc3QgZT10LmV4dGVudCxpPXQud2lkdGgtKHQucGFkZGluZz90LnBhZGRpbmcubGVmdCt0LnBhZGRpbmcucmlnaHQ6MCksbz1yKG4sZS5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gZS5jbG9uZSgpLmV4cGFuZChvKmkvZS53aWR0aCl9ZXhwb3J0e2QgYXMgZ2V0RXh0ZW50Rm9yU2NhbGUsciBhcyBnZXRSZXNvbHV0aW9uRm9yU2NhbGUsbyBhcyBnZXRSZXNvbHV0aW9uSW5NZXRlcnNGb3JTY2FsZSxpIGFzIGdldFNjYWxlLGMgYXMgZ2V0U2NhbGVGb3JSZXNvbHV0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vVGltZUV4dGVudC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7SGFuZGxlT3duZXJNaXhpbiBhcyBvfWZyb21cIi4uL2NvcmUvSGFuZGxlT3duZXIuanNcIjtpbXBvcnR7bG9hZEFsbCBhcyBzfWZyb21cIi4uL2NvcmUvbG9hZEFsbC5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBhfWZyb21cIi4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRFcnJvciBhcyBwLGlzQWJvcnRFcnJvciBhcyBufWZyb21cIi4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG19ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtJbnRlZ2VyIGFzIGx9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgY31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB1fWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIHl9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7bmFtZVRvSWQgYXMgZCxPcmlnaW5JZCBhcyBofWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e2dldFNjYWxlIGFzIGd9ZnJvbVwiLi4vZ2VvbWV0cnkvc3VwcG9ydC9zY2FsZVV0aWxzLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi9MYXllci5qc1wiO2ltcG9ydHtBUElLZXlNaXhpbiBhcyBqfWZyb21cIi4vbWl4aW5zL0FQSUtleU1peGluLmpzXCI7aW1wb3J0e0FyY0dJU01hcFNlcnZpY2UgYXMgdn1mcm9tXCIuL21peGlucy9BcmNHSVNNYXBTZXJ2aWNlLmpzXCI7aW1wb3J0e0FyY0dJU1NlcnZpY2UgYXMgeH1mcm9tXCIuL21peGlucy9BcmNHSVNTZXJ2aWNlLmpzXCI7aW1wb3J0e0JsZW5kTGF5ZXIgYXMgU31mcm9tXCIuL21peGlucy9CbGVuZExheWVyLmpzXCI7aW1wb3J0e0N1c3RvbVBhcmFtZXRlcnNNaXhpbiBhcyB3fWZyb21cIi4vbWl4aW5zL0N1c3RvbVBhcmFtZXRlcnNNaXhpbi5qc1wiO2ltcG9ydHtPcGVyYXRpb25hbExheWVyIGFzIEl9ZnJvbVwiLi9taXhpbnMvT3BlcmF0aW9uYWxMYXllci5qc1wiO2ltcG9ydHtQb3J0YWxMYXllciBhcyBPfWZyb21cIi4vbWl4aW5zL1BvcnRhbExheWVyLmpzXCI7aW1wb3J0e1JlZnJlc2hhYmxlTGF5ZXIgYXMgVH1mcm9tXCIuL21peGlucy9SZWZyZXNoYWJsZUxheWVyLmpzXCI7aW1wb3J0e1NjYWxlUmFuZ2VMYXllciBhcyBFfWZyb21cIi4vbWl4aW5zL1NjYWxlUmFuZ2VMYXllci5qc1wiO2ltcG9ydHtTdWJsYXllcnNPd25lciBhcyBMfWZyb21cIi4vbWl4aW5zL1N1YmxheWVyc093bmVyLmpzXCI7aW1wb3J0e1RlbXBvcmFsTGF5ZXIgYXMgTX1mcm9tXCIuL21peGlucy9UZW1wb3JhbExheWVyLmpzXCI7aW1wb3J0e3VybCBhcyBQfWZyb21cIi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e0V4cG9ydEltYWdlUGFyYW1ldGVycyBhcyBSfWZyb21cIi4vc3VwcG9ydC9FeHBvcnRJbWFnZVBhcmFtZXRlcnMuanNcIjtpbXBvcnR7Y3JlYXRlQml0bWFwIGFzIFV9ZnJvbVwiLi9zdXBwb3J0L2ltYWdlQml0bWFwVXRpbHMuanNcIjtpbXBvcnQgTiBmcm9tXCIuL3N1cHBvcnQvU3VibGF5ZXIuanNcIjtpbXBvcnR7c2hvdWxkV3JpdGVTdWJsYXllclN0cnVjdHVyZSBhcyBBfWZyb21cIi4vc3VwcG9ydC9zdWJsYXllclV0aWxzLmpzXCI7aW1wb3J0e3NlcnZpY2VTdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UgYXMgRn1mcm9tXCIuL3N1cHBvcnQvdmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IEogZnJvbVwiLi4vdGltZS9UaW1lUmVmZXJlbmNlLmpzXCI7bGV0IHE9Y2xhc3MgZXh0ZW5kcyhTKE0oRShMKHYoeChJKE8oYShUKGoodyhvKGIpKSkpKSkpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlPW51bGwsdGhpcy5kYXRlc0luVW5rbm93blRpbWV6b25lPSExLHRoaXMuZHBpPTk2LHRoaXMuZ2RiVmVyc2lvbj1udWxsLHRoaXMuaW1hZ2VGb3JtYXQ9XCJwbmcyNFwiLHRoaXMuaW1hZ2VNYXhIZWlnaHQ9MjA0OCx0aGlzLmltYWdlTWF4V2lkdGg9MjA0OCx0aGlzLmltYWdlVHJhbnNwYXJlbmN5PSEwLHRoaXMuaXNSZWZlcmVuY2U9bnVsbCx0aGlzLmxhYmVsc1Zpc2libGU9ITEsdGhpcy5vcGVyYXRpb25hbExheWVyVHlwZT1cIkFyY0dJU01hcFNlcnZpY2VMYXllclwiLHRoaXMucHJlZmVycmVkVGltZVJlZmVyZW5jZT1udWxsLHRoaXMuc291cmNlSlNPTj1udWxsLHRoaXMuc3VibGF5ZXJzPW51bGwsdGhpcy50eXBlPVwibWFwLWltYWdlXCIsdGhpcy51cmw9bnVsbH1ub3JtYWxpemVDdG9yQXJncyhlLHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi5yfTplfWxvYWQoZSl7Y29uc3Qgcj1udWxsIT1lP2Uuc2lnbmFsOm51bGw7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLmxvYWRGcm9tUG9ydGFsKHtzdXBwb3J0ZWRUeXBlczpbXCJNYXAgU2VydmljZVwiXX0sZSkuY2F0Y2gocCkudGhlbigoKCk9PnRoaXMuX2ZldGNoU2VydmljZShyKSkpKSxQcm9taXNlLnJlc29sdmUodGhpcyl9cmVhZEltYWdlRm9ybWF0KGUscil7Y29uc3QgdD1yLnN1cHBvcnRlZEltYWdlRm9ybWF0VHlwZXM7cmV0dXJuIHQmJnQuaW5jbHVkZXMoXCJQTkczMlwiKT9cInBuZzMyXCI6XCJwbmcyNFwifXdyaXRlU3VibGF5ZXJzKGUscix0LGkpe2lmKCF0aGlzLmxvYWRlZHx8IWUpcmV0dXJuO2NvbnN0IG89ZS5zbGljZSgpLnJldmVyc2UoKS5mbGF0dGVuKCgoe3N1YmxheWVyczplfSk9PmUmJmUudG9BcnJheSgpLnJldmVyc2UoKSkpLnRvQXJyYXkoKTtsZXQgcz0hMTtpZih0aGlzLmNhcGFiaWxpdGllcyYmdGhpcy5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c0V4cG9ydE1hcCYmdGhpcy5jYXBhYmlsaXRpZXMuZXhwb3J0TWFwPy5zdXBwb3J0c0R5bmFtaWNMYXllcnMpe2NvbnN0IGU9ZChpLm9yaWdpbik7aWYoZT09PWguUE9SVEFMX0lURU0pe2NvbnN0IGU9dGhpcy5jcmVhdGVTdWJsYXllcnNGb3JPcmlnaW4oXCJzZXJ2aWNlXCIpLnN1YmxheWVycztzPUEobyxlLGguU0VSVklDRSl9ZWxzZSBpZihlPmguUE9SVEFMX0lURU0pe2NvbnN0IGU9dGhpcy5jcmVhdGVTdWJsYXllcnNGb3JPcmlnaW4oXCJwb3J0YWwtaXRlbVwiKTtzPUEobyxlLnN1YmxheWVycyxkKGUub3JpZ2luKSl9fWNvbnN0IGE9W10scD17d3JpdGVTdWJsYXllclN0cnVjdHVyZTpzLC4uLml9O2xldCBuPXM7by5mb3JFYWNoKChlPT57Y29uc3Qgcj1lLndyaXRlKHt9LHApO2EucHVzaChyKSxuPW58fFwidXNlclwiPT09ZS5vcmlnaW5PZihcInZpc2libGVcIil9KSk7YS5zb21lKChlPT5PYmplY3Qua2V5cyhlKS5sZW5ndGg+MSkpJiYoci5sYXllcnM9YSksbiYmKHIudmlzaWJsZUxheWVycz1vLmZpbHRlcigoZT0+ZS52aXNpYmxlKSkubWFwKChlPT5lLmlkKSkpfWNyZWF0ZUV4cG9ydEltYWdlUGFyYW1ldGVycyhlLHIsdCxpKXtjb25zdCBvPWkmJmkucGl4ZWxSYXRpb3x8MTtlJiZ0aGlzLnZlcnNpb24+PTEwJiYoZT1lLmNsb25lKCkuc2hpZnRDZW50cmFsTWVyaWRpYW4oKSk7Y29uc3Qgcz1uZXcgUih7bGF5ZXI6dGhpcyxmbG9vcnM6aT8uZmxvb3JzLHNjYWxlOmcoe2V4dGVudDplLHdpZHRoOnJ9KSpvfSksYT1zLnRvSlNPTigpO3MuZGVzdHJveSgpO2NvbnN0IHA9IWl8fCFpLnJvdGF0aW9ufHx0aGlzLnZlcnNpb248MTAuMz97fTp7cm90YXRpb246LWkucm90YXRpb259LG49ZSYmZS5zcGF0aWFsUmVmZXJlbmNlLG09bi53a2lkfHxKU09OLnN0cmluZ2lmeShuLnRvSlNPTigpKTthLmRwaSo9bztjb25zdCBsPXt9O2lmKGk/LnRpbWVFeHRlbnQpe2NvbnN0e3N0YXJ0OmUsZW5kOnJ9PWkudGltZUV4dGVudC50b0pTT04oKTtsLnRpbWU9ZSYmciYmZT09PXI/XCJcIitlOmAke2U/P1wibnVsbFwifSwke3I/P1wibnVsbFwifWB9ZWxzZSB0aGlzLnRpbWVJbmZvJiYhdGhpcy50aW1lSW5mby5oYXNMaXZlRGF0YSYmKGwudGltZT1cIm51bGwsbnVsbFwiKTtyZXR1cm57YmJveDplJiZlLnhtaW4rXCIsXCIrZS55bWluK1wiLFwiK2UueG1heCtcIixcIitlLnltYXgsYmJveFNSOm0saW1hZ2VTUjptLHNpemU6citcIixcIit0LC4uLmEsLi4ucCwuLi5sfX1hc3luYyBmZXRjaEltYWdlKGUscix0LGkpe2NvbnN0e2RhdGE6b309YXdhaXQgdGhpcy5fZmV0Y2hJbWFnZShcImltYWdlXCIsZSxyLHQsaSk7cmV0dXJuIG99YXN5bmMgZmV0Y2hJbWFnZUJpdG1hcChlLHIsdCxpKXtjb25zdHtkYXRhOm8sdXJsOnN9PWF3YWl0IHRoaXMuX2ZldGNoSW1hZ2UoXCJibG9iXCIsZSxyLHQsaSk7cmV0dXJuIFUobyxzLGk/LnNpZ25hbCl9YXN5bmMgZmV0Y2hSZWNvbXB1dGVkRXh0ZW50cyhlPXt9KXtjb25zdCBpPXsuLi5lLHF1ZXJ5OntyZXR1cm5VcGRhdGVzOiEwLGY6XCJqc29uXCIsLi4udGhpcy5jdXN0b21QYXJhbWV0ZXJzLHRva2VuOnRoaXMuYXBpS2V5fX0se2RhdGE6b309YXdhaXQgcih0aGlzLnVybCxpKSx7ZXh0ZW50OnMsZnVsbEV4dGVudDphLHRpbWVFeHRlbnQ6cH09byxuPXN8fGE7cmV0dXJue2Z1bGxFeHRlbnQ6biYmZi5mcm9tSlNPTihuKSx0aW1lRXh0ZW50OnAmJnQuZnJvbUpTT04oe3N0YXJ0OnBbMF0sZW5kOnBbMV19KX19bG9hZEFsbCgpe3JldHVybiBzKHRoaXMsKGU9PntlKHRoaXMuYWxsU3VibGF5ZXJzKX0pKX1zZXJ2aWNlU3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpe3JldHVybiBGKHRoaXMsZSl9YXN5bmMgX2ZldGNoSW1hZ2UoZSx0LG8scyxhKXtjb25zdCBwPXtyZXNwb25zZVR5cGU6ZSxzaWduYWw6YT8uc2lnbmFsPz9udWxsLHF1ZXJ5OnsuLi50aGlzLnBhcnNlZFVybC5xdWVyeSwuLi50aGlzLmNyZWF0ZUV4cG9ydEltYWdlUGFyYW1ldGVycyh0LG8scyxhKSxmOlwiaW1hZ2VcIiwuLi50aGlzLnJlZnJlc2hQYXJhbWV0ZXJzLC4uLnRoaXMuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjp0aGlzLmFwaUtleX19LG09dGhpcy5wYXJzZWRVcmwucGF0aCtcIi9leHBvcnRcIjtpZihudWxsIT1wLnF1ZXJ5Py5keW5hbWljTGF5ZXJzJiYhdGhpcy5jYXBhYmlsaXRpZXM/LmV4cG9ydE1hcD8uc3VwcG9ydHNEeW5hbWljTGF5ZXJzKXRocm93IG5ldyBpKFwibWFwaW1hZ2VsYXllcjpkeW5hbWljbGF5ZXItbm90LXN1cHBvcnRlZFwiLGBzZXJ2aWNlICR7dGhpcy51cmx9IGRvZXNuJ3Qgc3VwcG9ydCBkeW5hbWljIGxheWVycywgd2hpY2ggaXMgcmVxdWlyZWQgdG8gYmUgYWJsZSB0byBjaGFuZ2UgdGhlIHN1YmxheWVyJ3Mgb3JkZXIsIHJlbmRlcmluZywgbGFiZWxpbmcgb3Igc291cmNlLmAse3F1ZXJ5OnAucXVlcnl9KTt0cnl7Y29uc3R7ZGF0YTplfT1hd2FpdCByKG0scCk7cmV0dXJue2RhdGE6ZSx1cmw6bX19Y2F0Y2gobCl7aWYobihsKSl0aHJvdyBsO3Rocm93IG5ldyBpKFwibWFwaW1hZ2VsYXllcjppbWFnZS1mZXRjaC1lcnJvclwiLGBVbmFibGUgdG8gbG9hZCBpbWFnZTogJHttfWAse2Vycm9yOmx9KX19YXN5bmMgX2ZldGNoU2VydmljZShlKXtpZih0aGlzLnNvdXJjZUpTT04pcmV0dXJuIHZvaWQgdGhpcy5yZWFkKHRoaXMuc291cmNlSlNPTix7b3JpZ2luOlwic2VydmljZVwiLHVybDp0aGlzLnBhcnNlZFVybH0pO2NvbnN0e2RhdGE6dCxzc2w6aX09YXdhaXQgcih0aGlzLnBhcnNlZFVybC5wYXRoLHtxdWVyeTp7ZjpcImpzb25cIiwuLi50aGlzLnBhcnNlZFVybC5xdWVyeSwuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5hcGlLZXl9LHNpZ25hbDplfSk7aSYmKHRoaXMudXJsPXRoaXMudXJsLnJlcGxhY2UoL15odHRwOi9pLFwiaHR0cHM6XCIpKSx0aGlzLnNvdXJjZUpTT049dCx0aGlzLnJlYWQodCx7b3JpZ2luOlwic2VydmljZVwiLHVybDp0aGlzLnBhcnNlZFVybH0pfX07ZShbbSh7dHlwZTpKfSldLHEucHJvdG90eXBlLFwiZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2VcIix2b2lkIDApLGUoW20oe3R5cGU6Qm9vbGVhbn0pXSxxLnByb3RvdHlwZSxcImRhdGVzSW5Vbmtub3duVGltZXpvbmVcIix2b2lkIDApLGUoW20oKV0scS5wcm90b3R5cGUsXCJkcGlcIix2b2lkIDApLGUoW20oKV0scS5wcm90b3R5cGUsXCJnZGJWZXJzaW9uXCIsdm9pZCAwKSxlKFttKCldLHEucHJvdG90eXBlLFwiaW1hZ2VGb3JtYXRcIix2b2lkIDApLGUoW2MoXCJpbWFnZUZvcm1hdFwiLFtcInN1cHBvcnRlZEltYWdlRm9ybWF0VHlwZXNcIl0pXSxxLnByb3RvdHlwZSxcInJlYWRJbWFnZUZvcm1hdFwiLG51bGwpLGUoW20oe2pzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcIm1heEltYWdlSGVpZ2h0XCJ9fX19fSldLHEucHJvdG90eXBlLFwiaW1hZ2VNYXhIZWlnaHRcIix2b2lkIDApLGUoW20oe2pzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcIm1heEltYWdlV2lkdGhcIn19fX19KV0scS5wcm90b3R5cGUsXCJpbWFnZU1heFdpZHRoXCIsdm9pZCAwKSxlKFttKCldLHEucHJvdG90eXBlLFwiaW1hZ2VUcmFuc3BhcmVuY3lcIix2b2lkIDApLGUoW20oe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOiExLHdyaXRlOntlbmFibGVkOiEwLG92ZXJyaWRlUG9saWN5OigpPT4oe2VuYWJsZWQ6ITF9KX19fSldLHEucHJvdG90eXBlLFwiaXNSZWZlcmVuY2VcIix2b2lkIDApLGUoW20oe2pzb246e3JlYWQ6ITEsd3JpdGU6ITF9fSldLHEucHJvdG90eXBlLFwibGFiZWxzVmlzaWJsZVwiLHZvaWQgMCksZShbbSh7dHlwZTpbXCJBcmNHSVNNYXBTZXJ2aWNlTGF5ZXJcIl19KV0scS5wcm90b3R5cGUsXCJvcGVyYXRpb25hbExheWVyVHlwZVwiLHZvaWQgMCksZShbbSh7anNvbjp7cmVhZDohMSx3cml0ZTohMX19KV0scS5wcm90b3R5cGUsXCJwb3B1cEVuYWJsZWRcIix2b2lkIDApLGUoW20oe3R5cGU6Sn0pXSxxLnByb3RvdHlwZSxcInByZWZlcnJlZFRpbWVSZWZlcmVuY2VcIix2b2lkIDApLGUoW20oKV0scS5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSxlKFttKHtqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0scS5wcm90b3R5cGUsXCJzdWJsYXllcnNcIix2b2lkIDApLGUoW3koXCJzdWJsYXllcnNcIix7bGF5ZXJzOnt0eXBlOltOXX0sdmlzaWJsZUxheWVyczp7dHlwZTpbbF19fSldLHEucHJvdG90eXBlLFwid3JpdGVTdWJsYXllcnNcIixudWxsKSxlKFttKHt0eXBlOltcInNob3dcIixcImhpZGVcIixcImhpZGUtY2hpbGRyZW5cIl19KV0scS5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCksZShbbSh7anNvbjp7cmVhZDohMX0scmVhZE9ubHk6ITAsdmFsdWU6XCJtYXAtaW1hZ2VcIn0pXSxxLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW20oUCldLHEucHJvdG90eXBlLFwidXJsXCIsdm9pZCAwKSxxPWUoW3UoXCJlc3JpLmxheWVycy5NYXBJbWFnZUxheWVyXCIpXSxxKTtjb25zdCBrPXE7ZXhwb3J0e2sgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtIYW5kbGVPd25lck1peGluIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9IYW5kbGVPd25lci5qc1wiO2ltcG9ydHtzcWxBbmQgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL3NxbC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2NvbWJpbmVkVmlld0xheWVyVGltZUV4dGVudFByb3BlcnR5IGFzIGF9ZnJvbVwiLi9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e2dldExheWVyRmxvb3JGaWx0ZXJDbGF1c2UgYXMgbH1mcm9tXCIuL2Zsb29yRmlsdGVyVXRpbHMuanNcIjtpbXBvcnR7aXNFeHBvcnREeW5hbWljIGFzIG59ZnJvbVwiLi9zdWJsYXllclV0aWxzLmpzXCI7Y29uc3QgeT17dmlzaWJsZTpcInZpc2libGVTdWJsYXllcnNcIixkZWZpbml0aW9uRXhwcmVzc2lvbjpcImxheWVyRGVmc1wiLGxhYmVsaW5nSW5mbzpcImhhc0R5bmFtaWNMYXllcnNcIixsYWJlbHNWaXNpYmxlOlwiaGFzRHluYW1pY0xheWVyc1wiLG9wYWNpdHk6XCJoYXNEeW5hbWljTGF5ZXJzXCIsbWluU2NhbGU6XCJ2aXNpYmxlU3VibGF5ZXJzXCIsbWF4U2NhbGU6XCJ2aXNpYmxlU3VibGF5ZXJzXCIscmVuZGVyZXI6XCJoYXNEeW5hbWljTGF5ZXJzXCIsc291cmNlOlwiaGFzRHluYW1pY0xheWVyc1wifTtsZXQgbT1jbGFzcyBleHRlbmRzKHMocikpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZmxvb3JzPW51bGwsdGhpcy5zY2FsZT0wfWRlc3Ryb3koKXt0aGlzLmxheWVyPW51bGx9Z2V0IGR5bmFtaWNMYXllcnMoKXtpZighdGhpcy5oYXNEeW5hbWljTGF5ZXJzKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy52aXNpYmxlU3VibGF5ZXJzLm1hcCgoZT0+e2NvbnN0IHI9bCh0aGlzLmZsb29ycyxlKTtyZXR1cm4gZS50b0V4cG9ydEltYWdlSlNPTihyKX0pKTtyZXR1cm4gZS5sZW5ndGg/SlNPTi5zdHJpbmdpZnkoZSk6bnVsbH1nZXQgaGFzRHluYW1pY0xheWVycygpe3JldHVybiB0aGlzLmxheWVyJiZuKHRoaXMudmlzaWJsZVN1YmxheWVycyx0aGlzLmxheWVyLnNlcnZpY2VTdWJsYXllcnMsdGhpcy5sYXllci5nZGJWZXJzaW9uKX1zZXQgbGF5ZXIoZSl7dGhpcy5fZ2V0KFwibGF5ZXJcIikhPT1lJiYodGhpcy5fc2V0KFwibGF5ZXJcIixlKSx0aGlzLmhhbmRsZXMucmVtb3ZlKFwibGF5ZXJcIiksZSYmdGhpcy5oYW5kbGVzLmFkZChbZS5hbGxTdWJsYXllcnMub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMubm90aWZ5Q2hhbmdlKFwidmlzaWJsZVN1YmxheWVyc1wiKSkpLGUub24oXCJzdWJsYXllci11cGRhdGVcIiwoZT0+dGhpcy5ub3RpZnlDaGFuZ2UoeVtlLnByb3BlcnR5TmFtZV0pKSldLFwibGF5ZXJcIikpfWdldCBsYXllcnMoKXtjb25zdCBlPXRoaXMudmlzaWJsZVN1YmxheWVycztyZXR1cm4gZT9lLmxlbmd0aD9cInNob3c6XCIrZS5tYXAoKGU9PmUuaWQpKS5qb2luKFwiLFwiKTpcInNob3c6LTFcIjpudWxsfWdldCBsYXllckRlZnMoKXtjb25zdCBlPSEhdGhpcy5mbG9vcnM/Lmxlbmd0aCxyPXRoaXMudmlzaWJsZVN1YmxheWVycy5maWx0ZXIoKHI9Pm51bGwhPXIuZGVmaW5pdGlvbkV4cHJlc3Npb258fGUmJm51bGwhPXIuZmxvb3JJbmZvKSk7cmV0dXJuIHIubGVuZ3RoP0pTT04uc3RyaW5naWZ5KHIucmVkdWNlKCgoZSxyKT0+e2NvbnN0IHM9bCh0aGlzLmZsb29ycyxyKSxpPXQocyxyLmRlZmluaXRpb25FeHByZXNzaW9uKTtyZXR1cm4gbnVsbCE9aSYmKGVbci5pZF09aSksZX0pLHt9KSk6bnVsbH1nZXQgdmVyc2lvbigpe3RoaXMuY29tbWl0UHJvcGVydHkoXCJsYXllcnNcIiksdGhpcy5jb21taXRQcm9wZXJ0eShcImxheWVyRGVmc1wiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiZHluYW1pY0xheWVyc1wiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZUV4dGVudFwiKTtjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuIGUmJihlLmNvbW1pdFByb3BlcnR5KFwiZHBpXCIpLGUuY29tbWl0UHJvcGVydHkoXCJpbWFnZUZvcm1hdFwiKSxlLmNvbW1pdFByb3BlcnR5KFwiaW1hZ2VUcmFuc3BhcmVuY3lcIiksZS5jb21taXRQcm9wZXJ0eShcImdkYlZlcnNpb25cIikpLCh0aGlzLl9nZXQoXCJ2ZXJzaW9uXCIpfHwwKSsxfWdldCB2aXNpYmxlU3VibGF5ZXJzKCl7Y29uc3QgZT1bXTtpZighdGhpcy5sYXllcilyZXR1cm4gZTtjb25zdCByPXRoaXMubGF5ZXIuc3VibGF5ZXJzLHM9cj0+e2NvbnN0IHQ9dGhpcy5zY2FsZSxpPTA9PT10LG89MD09PXIubWluU2NhbGV8fHQ8PXIubWluU2NhbGUsYT0wPT09ci5tYXhTY2FsZXx8dD49ci5tYXhTY2FsZTtyLnZpc2libGUmJihpfHxvJiZhKSYmKHIuc3VibGF5ZXJzP3Iuc3VibGF5ZXJzLmZvckVhY2gocyk6ZS51bnNoaWZ0KHIpKX07ciYmci5mb3JFYWNoKHMpO2NvbnN0IHQ9dGhpcy5fZ2V0KFwidmlzaWJsZVN1YmxheWVyc1wiKTtyZXR1cm4hdHx8dC5sZW5ndGghPT1lLmxlbmd0aHx8dC5zb21lKCgocixzKT0+ZVtzXSE9PXIpKT9lOnR9dG9KU09OKCl7Y29uc3QgZT10aGlzLmxheWVyO2xldCByPXtkcGk6ZS5kcGksZm9ybWF0OmUuaW1hZ2VGb3JtYXQsdHJhbnNwYXJlbnQ6ZS5pbWFnZVRyYW5zcGFyZW5jeSxnZGJWZXJzaW9uOmUuZ2RiVmVyc2lvbnx8bnVsbH07cmV0dXJuIHRoaXMuaGFzRHluYW1pY0xheWVycyYmdGhpcy5keW5hbWljTGF5ZXJzP3IuZHluYW1pY0xheWVycz10aGlzLmR5bmFtaWNMYXllcnM6cj17Li4ucixsYXllcnM6dGhpcy5sYXllcnMsbGF5ZXJEZWZzOnRoaXMubGF5ZXJEZWZzfSxyfX07ZShbaSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJkeW5hbWljTGF5ZXJzXCIsbnVsbCksZShbaSgpXSxtLnByb3RvdHlwZSxcImZsb29yc1wiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJoYXNEeW5hbWljTGF5ZXJzXCIsbnVsbCksZShbaSgpXSxtLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbaSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJsYXllcnNcIixudWxsKSxlKFtpKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcImxheWVyRGVmc1wiLG51bGwpLGUoW2koe3R5cGU6TnVtYmVyfSldLG0ucHJvdG90eXBlLFwic2NhbGVcIix2b2lkIDApLGUoW2koYSldLG0ucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsbnVsbCksZShbaSh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJ2aXNpYmxlU3VibGF5ZXJzXCIsbnVsbCksbT1lKFtvKFwiZXNyaS5sYXllcnMubWl4aW5zLkV4cG9ydEltYWdlUGFyYW1ldGVyc1wiKV0sbSk7ZXhwb3J0e20gYXMgRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvKG8pe2NvbnN0IG49by5sYXllcjtpZihcImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQmJlwiZmxvb3JzXCJpbiBvLnZpZXcpe3JldHVybiBsKG8udmlldy5mbG9vcnMsbi5mbG9vckluZm8uZmxvb3JGaWVsZCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihvLG4pe3JldHVyblwiZmxvb3JJbmZvXCJpbiBuJiZuLmZsb29ySW5mbz8uZmxvb3JGaWVsZD9sKG8sbi5mbG9vckluZm8uZmxvb3JGaWVsZCk6bnVsbH1mdW5jdGlvbiBsKG8sbil7aWYoIW8/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBsPW8uZmlsdGVyKChvPT5cIlwiIT09bykpLm1hcCgobz0+YCcke299J2ApKTtyZXR1cm4gbC5wdXNoKFwiJydcIiksYCR7bn0gSU4gKCR7bC5qb2luKFwiLFwiKX0pIE9SICR7bn0gSVMgTlVMTGB9ZXhwb3J0e28gYXMgZ2V0Rmxvb3JGaWx0ZXJDbGF1c2UsbiBhcyBnZXRMYXllckZsb29yRmlsdGVyQ2xhdXNlfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==