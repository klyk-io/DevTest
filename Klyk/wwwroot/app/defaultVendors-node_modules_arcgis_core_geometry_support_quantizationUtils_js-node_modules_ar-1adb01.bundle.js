"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_geometry_support_quantizationUtils_js-node_modules_ar-1adb01"],{

/***/ "./node_modules/@arcgis/core/AggregateGraphic.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/AggregateGraphic.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.isAggregate=!0}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.sourceLayer&&this.sourceLayer.featureReduction;return r&&"popupTemplate"in r&&r.popupEnabled?r.popupTemplate:null}getObjectId(){return this.attributes.aggregateId}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Boolean})],p.prototype,"isAggregate",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.AggregateGraphic")],p);const s=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/CircularArray.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CircularArray.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/quantizationUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   equals: () => (/* binding */ c),
/* harmony export */   getQuantizedBoundsCoordsArray: () => (/* binding */ F),
/* harmony export */   getQuantizedBoundsCoordsArrayArray: () => (/* binding */ V),
/* harmony export */   getQuantizedBoundsPaths: () => (/* binding */ _),
/* harmony export */   getQuantizedBoundsPoints: () => (/* binding */ Y),
/* harmony export */   getQuantizedBoundsRings: () => (/* binding */ A),
/* harmony export */   quantizeBounds: () => (/* binding */ h),
/* harmony export */   quantizeExtent: () => (/* binding */ w),
/* harmony export */   quantizeGeometry: () => (/* binding */ d),
/* harmony export */   quantizeMultipoint: () => (/* binding */ G),
/* harmony export */   quantizePaths: () => (/* binding */ N),
/* harmony export */   quantizePoint: () => (/* binding */ L),
/* harmony export */   quantizePoints: () => (/* binding */ I),
/* harmony export */   quantizePolygon: () => (/* binding */ O),
/* harmony export */   quantizePolyline: () => (/* binding */ S),
/* harmony export */   quantizeRings: () => (/* binding */ g),
/* harmony export */   quantizeX: () => (/* binding */ s),
/* harmony export */   quantizeY: () => (/* binding */ f),
/* harmony export */   toQuantizationTransform: () => (/* binding */ m),
/* harmony export */   unquantizeBounds: () => (/* binding */ M),
/* harmony export */   unquantizeCoordsArray: () => (/* binding */ z),
/* harmony export */   unquantizeCoordsArrayArray: () => (/* binding */ T),
/* harmony export */   unquantizeExtent: () => (/* binding */ j),
/* harmony export */   unquantizeMultipoint: () => (/* binding */ U),
/* harmony export */   unquantizePaths: () => (/* binding */ P),
/* harmony export */   unquantizePoint: () => (/* binding */ k),
/* harmony export */   unquantizePoints: () => (/* binding */ E),
/* harmony export */   unquantizePolygon: () => (/* binding */ q),
/* harmony export */   unquantizePolyline: () => (/* binding */ v),
/* harmony export */   unquantizeRings: () => (/* binding */ b),
/* harmony export */   unquantizeX: () => (/* binding */ p),
/* harmony export */   unquantizeY: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(n){return n&&"upperLeft"===n.originPosition}const i=(n,t,e)=>[t,e],o=(n,t,e)=>[t,e,n[2]],a=(n,t,e)=>[t,e,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:null!=n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let e,r,u,i,o,a;return l(n)?(e=n.translate[0],r=n.translate[1],u=n.scale[0]):(e=null!=n.extent?n.extent.xmin:0,r=null!=n.extent?n.extent.ymax:0,u=n.tolerance),l(t)?(i=t.translate[0],o=t.translate[1],a=t.scale[0]):(i=null!=t.extent?t.extent.xmin:0,o=null!=t.extent?t.extent.ymax:0,a=t.tolerance),e===i&&r===o&&u===a}function s({scale:n,translate:t},e){return Math.round((e-t[0])/n[0])}function f({scale:n,translate:t},e){return Math.round((t[1]-e)/n[1])}function x(n,t,e){const r=[];let u,l,i,o;for(let a=0;a<e.length;a++){const m=e[a];a>0?(i=s(n,m[0]),o=f(n,m[1]),i===u&&o===l||(r.push(t(m,i-u,o-l)),u=i,l=o)):(u=s(n,m[0]),l=f(n,m[1]),r.push(t(m,u,l)))}return r.length>0?r:null}function h(n,t,e){return t[0]=s(n,e[0]),t[3]=f(n,e[1]),t[2]=s(n,e[2]),t[1]=f(n,e[3]),t}function I(n,t,e,r){return x(n,e?r?a:o:r?o:i,t)}function g(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=3&&u.push(e)}return u.length?u:null}function N(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=2&&u.push(e)}return u.length?u:null}function p({scale:n,translate:t},e){return e*n[0]+t[0]}function y({scale:n,translate:t},e){return t[1]-e*n[1]}function z(n,t,e){const r=new Array(e.length);if(!e.length)return r;const[u,l]=n.scale;let i=p(n,e[0][0]),o=y(n,e[0][1]);r[0]=t(e[0],i,o);for(let a=1;a<e.length;a++){const n=e[a];i+=n[0]*u,o-=n[1]*l,r[a]=t(n,i,o)}return r}function T(n,t,e){const r=new Array(e.length);for(let u=0;u<e.length;u++)r[u]=z(n,t,e[u]);return r}function M(n,t,e){return e?(t[0]=p(n,e[0]),t[1]=y(n,e[3]),t[2]=p(n,e[2]),t[3]=y(n,e[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,e,r){return z(n,e?r?a:o:r?o:i,t)}function P(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}function b(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}function F(n,t,e){let[r,u]=e[0],l=Math.min(r,t[0]),i=Math.min(u,t[1]),o=Math.max(r,t[2]),a=Math.max(u,t[3]);for(let m=1;m<e.length;m++){const[n,t]=e[m];r+=n,u+=t,n<0&&(l=Math.min(l,r)),n>0&&(o=Math.max(o,r)),t<0?i=Math.min(i,u):t>0&&(a=Math.max(a,u))}return n[0]=l,n[1]=i,n[2]=o,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++)F(n,n,t[e]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,e,r,u){return t.xmin=s(n,e.xmin),t.ymin=f(n,e.ymin),t.xmax=s(n,e.xmax),t.ymax=f(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function G(n,t,e,r,u){return t.points=I(n,e.points,r,u)??[],t}function L(n,t,e,r,u){return t.x=s(n,e.x),t.y=f(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function O(n,t,e,r,u){const l=g(n,e.rings,r,u);return l?(t.rings=l,t):null}function S(n,t,e,r,u){const l=N(n,e.paths,r,u);return l?(t.paths=l,t):null}function d(l,i){return l&&i?(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPoint)(i)?L(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(i)?S(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(i)?O(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultipoint)(i)?G(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isExtent)(i)?w(l,{},i,!1,!1):null:null}function j(n,t,e,r,u){return t.xmin=p(n,e.xmin),t.ymin=y(n,e.ymin),t.xmax=p(n,e.xmax),t.ymax=y(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function U(n,t,e,r,u){return null!=e&&(t.points=E(n,e.points,r,u)),t}function k(n,t,e,r,u){return null==e||(t.x=p(n,e.x),t.y=y(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m))),t}function q(n,t,e,r,u){return null!=e&&(t.rings=b(n,e.rings,r,u)),t}function v(n,t,e,r,u){return null!=e&&(t.paths=P(n,e.paths,r,u)),t}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _EffectView_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EffectView.js */ "./node_modules/@arcgis/core/layers/effects/EffectView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._filter=null,this.duration=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("mapview-transitions-duration"),this._excludedEffectView=new _EffectView_js__WEBPACK_IMPORTED_MODULE_7__.EffectView(e),this._includedEffectView=new _EffectView_js__WEBPACK_IMPORTED_MODULE_7__.EffectView(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get("featureEffect")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set("scale",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(e,t){this._set("scale",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransitions(){this._includedEffectView.endTransitions(),this._excludedEffectView.endTransitions(),this._filter=null}_transitionTo(e){const t=this._get("featureEffect"),i=e,s=i?.includedEffect,f=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(s)&&this._excludedEffectView.canTransitionTo(f);this._includedEffectView.effect=s,this._excludedEffectView.effect=f,this._set("featureEffect",i),this._filter=i?.filter||t?.filter||null,c||this.endTransitions()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"_filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"_excludedEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"_includedEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"duration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"excludedEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"hasEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"includedEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({value:0})],c.prototype,"scale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"transitioning",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.effects.FeatureEffectView")],c);const r=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../AggregateGraphic.js */ "./node_modules/@arcgis/core/AggregateGraphic.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c=class extends _FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(){super(...arguments),this.features=[]}readFeatures(e,t){const o=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__["default"].fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const t=e[a],p=_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(t),c=t.geometry&&t.geometry.spatialReference;null==p.geometry||c||(p.geometry.spatialReference=o);const i=t.aggregateGeometries,m=p.aggregateGeometries;if(i&&null!=m)for(const e in m){const r=m[e],t=i[e],s=t?.spatialReference;null==r||s||(r.spatialReference=o)}s.push(p)}return s}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:[_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]],json:{write:!0}})],c.prototype,"features",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.reader)("features")],c.prototype,"readFeatures",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.rest.support.AggregateFeatureSet")],c);const i=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/Bitmap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bitmap: () => (/* binding */ T),
/* harmony export */   isImageSource: () => (/* binding */ w),
/* harmony export */   rasterize: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec2f32.js */ "./node_modules/@arcgis/core/chunks/vec2f32.js");
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImageryBitmapSource.js */ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js");
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function w(t){return t&&"render"in t}function b(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,t.render(e.getContext("2d")),e}function v(e){return w(e)?e instanceof _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_6__["default"]?(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(e.getRenderedRasterPixels(),(t=>t.renderedRasterPixels)):b(e):e}class T extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_5__.DisplayObject{constructor(t=null,e=!1){super(),this.blendFunction="standard",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this._texture=null,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),null!=this._uploadStatus&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this.invalidateTexture(),this.requestRender())}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(t,i){null!=this._uploadStatus&&this._uploadStatus.controller.abort();const r=new AbortController,h=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(i,(()=>r.abort())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(r,(t=>h.reject(t))),this._uploadStatus={controller:r,resolver:h},this.source=t,h.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width))}updateTransitionProperties(t,e){t>=64&&(this.fadeTransitionEnabled=!1,this.inFadeTransition=!1),super.updateTransitionProperties(t,e)}setTransform(t){const e=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.transforms.dvs),[s,i]=t.toScreenNoRotation([0,0],[this.x,this.y]),n=this.resolution/this.pixelRatio/t.resolution,l=n*this.width,c=n*this.height,_=Math.PI*this.rotation/180;(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(s,i)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(l/2,c/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.r)(e,e,-_),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.h)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(-l/2,-c/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.l)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(l,c)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.m)(this.transforms.dvs,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:t,painter:e}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(t)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const s=v(this.source);try{if(null!=this._uploadStatus){const{controller:t,resolver:i}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=e.textureUploadManager;await a.enqueueTextureUpdate({data:s,texture:u,width:h,height:o},r),i.resolve(),this._uploadStatus=null}else this._texture.setData(s);this.ready()}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfNotAbortError)(r)}}onDetach(){this.destroy()}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_3__.c)()}}_createTexture(t){const e=this.immutable&&t.type===_webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_7__.ContextType.WEBGL2,s=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_10__.TextureDescriptor;return s.internalFormat=e?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__.SizedPixelFormat.RGBA8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__.PixelFormat.RGBA,s.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__.TextureWrapMode.CLAMP_TO_EDGE,s.isImmutable=e,s.width=this._sourceWidth,s.height=this._sourceHeight,new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture(t,s)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTile: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js");
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.TiledDisplayObject{constructor(t,s,r,i,a,n,m=null){super(t,s,r,i,a,n),this.bitmap=new _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__.Bitmap(m),this.bitmap.coordScale=[a,n],this.bitmap.once("isReady",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)(),tileMat3:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)()}}setTransform(t){super.setTransform(t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTileContainer: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapTile.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js");
/* harmony import */ var _brushes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./brushes.js */ "./node_modules/@arcgis/core/views/2d/engine/brushes.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__["default"]{get requiresDedicatedFBO(){return this.children.some((e=>"additive"===e.bitmap.blendFunction))}createTile(r){const t=this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),r),s=this._tileInfoView.getTileResolution(r.level),[n,o]=this._tileInfoView.tileInfo.size;return new _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__.BitmapTile(r,s,t[0],t[3],n,o)}prepareRenderPasses(e){const i=e.registerRenderPass({name:"bitmap (tile)",brushes:[_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(e),i]}doRender(e){this.visible&&e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP&&super.doRender(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureContainer: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Queue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Queue.js */ "./node_modules/@arcgis/core/core/Queue.js");
/* harmony import */ var _webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/AttributeStoreView.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/* harmony import */ var _webgl_WGLRendererInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/WGLRendererInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(e){super(e),this._rendererInfo=new _webgl_WGLRendererInfo_js__WEBPACK_IMPORTED_MODULE_4__.WGLRendererInfo,this._materialItemsRequestQueue=new _core_Queue_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.attributeView=new _webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_2__.AttributeStoreView((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable("textureFloat"),e.context.capabilities.enable("vao"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class l{constructor(l,e,t){this.pixelBlock=l,this.extent=e,this.originalPixelBlock=t}get width(){return null!=this.pixelBlock?this.pixelBlock.width:0}get height(){return null!=this.pixelBlock?this.pixelBlock.height:0}render(l){const e=this.pixelBlock;if(null==e)return;const t=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??e});if(null==t.pixelBlock)return;t.pixelBlock.maskIsAlpha&&(t.pixelBlock.premultiplyAlpha=!0);const i=t.pixelBlock.getAsRGBA(),h=l.createImageData(t.pixelBlock.width,t.pixelBlock.height);h.data.set(i),l.putImageData(h,0,0)}getRenderedRasterPixels(){const l=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return null==l.pixelBlock?null:(l.pixelBlock.maskIsAlpha&&(l.pixelBlock.premultiplyAlpha=!0),{width:l.pixelBlock.width,height:l.pixelBlock.height,renderedRasterPixels:new Uint8Array(l.pixelBlock.getAsRGBA().buffer)})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferPool: () => (/* binding */ i),
/* harmony export */   TypedBuffer: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _cpuMapped_FreeList_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cpuMapped/FreeList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-log-allocations");class r{constructor(t,e){this._array=t,this._pool=e}get array(){return this._array}get length(){return this._array.length}static create(t,e){const s=e.acquire(t);return new r(s,e)}expand(t){const e=this._pool.acquire(t);e.set(this._array),this._pool.release(this._array),this._array=e}destroy(){this._pool.release(this._array)}set(t,e){this._array.set(t._array,e)}slice(){const t=this._pool.acquire(this._array.byteLength);return t.set(this._array),new r(t,this._pool)}}class a{constructor(){this._data=new ArrayBuffer(a.BYTE_LENGTH),this._freeList=new _cpuMapped_FreeList_js__WEBPACK_IMPORTED_MODULE_2__.FreeList({start:0,end:this._data.byteLength})}static get BYTE_LENGTH(){return 64e6}get buffer(){return this._data}allocate(t){const e=this._freeList.firstFit(t);return null==e?null:new Uint32Array(this._data,e,t/Uint32Array.BYTES_PER_ELEMENT)}free(t){this._freeList.free(t.byteOffset,t.byteLength)}}class i{constructor(){this._bytesAllocated=0,this._pages=[],this._pagesByBuffer=new Map,this._addPage()}destroy(){this._pages=[],this._pagesByBuffer=null}get _bytesTotal(){return this._pages.length*a.BYTE_LENGTH}acquire(e){if(this._bytesAllocated+=e,s&&console.log(`Allocating ${e}, (${this._bytesAllocated} / ${this._bytesTotal})`),e>a.BYTE_LENGTH)return new Uint32Array(e/Uint32Array.BYTES_PER_ELEMENT);for(const t of this._pages){const s=t.allocate(e);if(null!=s)return s}return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.unwrapOrThrow)(this._addPage().allocate(e),"Expected to allocate page")}release(t){this._bytesAllocated-=t.byteLength,s&&console.log(`Freeing ${t.byteLength}, (${this._bytesAllocated} / ${this._bytesTotal})`);const e=this._pagesByBuffer.get(t.buffer);e&&e.free(t)}_addPage(){const t=new a;return this._pages.push(t),this._pagesByBuffer.set(t.buffer,t),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTile: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat2df32.js */ "./node_modules/@arcgis/core/chunks/mat2df32.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _WGLTile_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WGLTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js");
/* harmony import */ var _collisions_MetricReader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./collisions/MetricReader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js");
/* harmony import */ var _cpuMapped_Geometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cpuMapped/Geometry.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const h=50,d=4,o=100;let u=0;class c extends _WGLTile_js__WEBPACK_IMPORTED_MODULE_5__.WGLTile{constructor(r,s,i,a,n,h){super(r,s,i,a),this.instanceId=u++,this.patchCount=0,this._renderState={current:{geometry:new Map,metrics:null},next:null,swap:!1,swapFrames:0,locked:!1},this._patches=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](o),this._bufferPatches=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](o),this._lastCommitTime=0,this.transforms.labelMat2d=(0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this._store=n,this._requestLabelUpdate=h}destroy(){super.destroy(),this._renderState.current.geometry.forEach((e=>e.destroy())),null!=this._renderState.next&&this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.current=null,this._renderState.next=null}get labelMetrics(){return this._renderState.current.metrics}get hasData(){return!!this._renderState.current.geometry.size}get updateStatus(){return`renderState:${!!this._renderState.current}, ${!!this._renderState.next}, hasData:${this.hasData}, queue:${this._patches.size}`}getGeometry(e){return this._renderState.current.geometry.get(e)}patch(e,t){this.patchCount++,e.clear&&this._patches.size>=h&&this._dropPatches();const r=e,s=r.addOrUpdate&&this.key.id!==r.addOrUpdate.tileKeyOrigin;t&&s?this._bufferPatches.enqueue(r):(r.sort=r.sort&&!t,this._patches.enqueue(r)),this.requestRender()}commit(e){if(this._lastCommitTime!==e.time){this._lastCommitTime=e.time;for(let e=0;e<d;e++)this._updateMesh(),this.isReady&&this._updateBufferMesh();this._renderState.swap&&(this._swapRenderStates(),this.requestRender())}}lock(){this._renderState.locked=!0}unlock(){this._renderState.locked=!1,this._flushUpdates(),this._swap()}_swapRenderStates(){if(this._renderState.next){if(this._renderState.locked)return this._renderState.swap=!0,void this.requestRender();this._renderState.swap=!0,this._swap()}}_swap(){this._renderState.swap&&(this._renderState.swap=!1,null!=this._renderState.next&&(this._renderState.current.geometry.forEach((e=>e.destroy())),this._renderState.current=this._renderState.next,this._renderState.next=null,this._requestLabelUpdate()))}_flushUpdates(){let e=this._patches.maxSize;for(;this._patches.size&&e--;)this._updateMesh(),this._swap()}_updateBufferMesh(){const e=this._bufferPatches.peek();if(null==e||!e.clear||null===this._renderState.next)for(;this._bufferPatches.size;){const e=this._bufferPatches.dequeue();null!=e&&this._patchBuffer(e)}}_updateMesh(){const e=this._patches.dequeue();if(null!=e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")){const t=e,r=t.addOrUpdate?.tileKeyOrigin,s=this.key.id===r?"SELF":r;let i="";for(let e=0;e<5;e++)i+=t.addOrUpdate?.data[e]?.records?.byteLength?1:0;console.debug(this.key.id,"FeatureTile:patch",`[clear: ${t.clear} origin: ${s}, end:${t.end} data:${i}]`)}!0===e.clear&&(null!=this._renderState.next&&(this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.next=null),this._renderState.next={geometry:new Map,metrics:null},(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,"FeatureTile:_updateMesh - Creating new renderState")),this.requestRender(),this._patch(e),e.end&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,"FeatureTile:_updateMesh - Encountered end message"),this.ready(),this._swapRenderStates())}}_patch(e){(0,_Utils_js__WEBPACK_IMPORTED_MODULE_4__.forEachGeometryType)((t=>{this._remove(t,e.remove),this._insert(t,e,!1)}))}_patchBuffer(e){(0,_Utils_js__WEBPACK_IMPORTED_MODULE_4__.forEachGeometryType)((t=>{this._insert(t,e,!0)}))}_insert(e,t,s){try{const i=this._renderState.next??this._renderState.current,a=t.addOrUpdate?.data[e],h=i.geometry;if(null==a)return;h.has(e)||((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,`FeatureTile:_insert - Creating geometry buffer ${e}`),h.set(e,new _cpuMapped_Geometry_js__WEBPACK_IMPORTED_MODULE_7__.Geometry(e,this.stage))),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,`FeatureTile:_insert - Inserting into ${e}, version=${t.addOrUpdate?.version} stride=${a.stride}`),h.get(e).insert(a,t.sort,s),e===_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL&&this._insertLabelMetrics(t.type,a.metrics,t.clear)}catch(i){}}_insertLabelMetrics(e,t,r){const s=this._renderState.next??this._renderState.current;if(null==t)return;const i=_collisions_MetricReader_js__WEBPACK_IMPORTED_MODULE_6__.MetricReader.from(t);if(null!=s.metrics){if("update"===e){const e=i.getCursor();for(;e.next();)s.metrics.delete(e.id)}s.metrics.link(i)}else s.metrics=i}_remove(e,t){const r=(this._renderState.next??this._renderState.current).geometry.get(e);t&&t.length&&r&&(r.remove(t),this._removeLabelMetrics(t))}_removeLabelMetrics(e){const{metrics:t}=this._renderState.next??this._renderState.current;if(null!=t&&e.length)for(const r of e)for(;t.delete(r););}_dropPatches(){const e=new Array;let t=!1;for(;this._patches.size;){const r=this._patches.dequeue();if(null==r)break;if(r.clear){if(t)break;t=!0}e.push(r)}this._patches.clear(),e.forEach((e=>this._patches.enqueue(e)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushInfo.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLRendererInfo: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/support/lengthUtils.js */ "./node_modules/@arcgis/core/renderers/support/lengthUtils.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _techniques_Technique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./techniques/Technique.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/Technique.js");
/* harmony import */ var _techniques_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./techniques/utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/utils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:"geographic",vvOpacityEnabled:!1},this._technique=_techniques_Technique_js__WEBPACK_IMPORTED_MODULE_4__.Technique}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case"static":return t;case"level-dependent":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=(0,_techniques_utils_js__WEBPACK_IMPORTED_MODULE_5__.getTechniqueFromRenderer)(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_6__.getWebGLCapabilities)("2d").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isDefined)(t.minSize)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isDefined)(t.maxSize))if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(t.minSize)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(t.maxSize))i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.minSize),l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.maxSize);else{const s=r.scale;i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(s,t.minSize.stops)),l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(r.spatialReference)/_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_2__.meterIn[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MetricReader: () => (/* binding */ e),
/* harmony export */   MetricReaderNode: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t=6,s=4294967296;class e{constructor(t){this._savedCursor=null,this._savedOffset=null,this._head=t,this._cursor=t}static from(t){const s=r.from(new Float32Array(t));return new e(s)}get id(){return this._cursor.id}get baseZoom(){return this._cursor.baseZoom}get anchorX(){return this._cursor.anchorX}get anchorY(){return this._cursor.anchorY}get directionX(){return this._cursor.directionX}get directionY(){return this._cursor.directionY}get size(){return this._cursor.size}get materialKey(){return this._cursor.materialKey}get boundsCount(){return this._cursor.boundsCount}computedMinZoom(){return this._cursor.computedMinZoom()}setComputedMinZoom(t){return this._cursor.setComputedMinZoom(t)}boundsComputedAnchorX(t){return this._cursor.boundsComputedAnchorX(t)}boundsComputedAnchorY(t){return this._cursor.boundsComputedAnchorY(t)}setBoundsComputedAnchorX(t,s){return this._cursor.setBoundsComputedAnchorX(t,s)}setBoundsComputedAnchorY(t,s){return this._cursor.setBoundsComputedAnchorY(t,s)}boundsX(t){return this._cursor.boundsX(t)}boundsY(t){return this._cursor.boundsY(t)}boundsWidth(t){return this._cursor.boundsWidth(t)}boundsHeight(t){return this._cursor.boundsHeight(t)}link(t){if(null!=t._head)return this._cursor.link(t._head)}getCursor(){return this.copy()}copy(){const t=new e(this._head?.copy());if(!t._head)return t;let s=t._head,r=t._head._link;for(;r;)s._link=r.copy(),s=r,r=s._link;return t}peekId(){return this._cursor.peekId()??this._cursor._link.peekId()}nextId(){const t=this.id;for(;t===this.id;)if(!this.next())return!1;return!0}save(){this._savedCursor=this._cursor,this._savedOffset=this._cursor._offset}restore(){this._savedCursor&&(this._cursor=this._savedCursor),null!=this._savedOffset&&(this._cursor._offset=this._savedOffset)}next(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link,this._cursor._offset=0}return!0}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}delete(t){let s=this._head,e=null;for(;s;){if(s.delete(t))return s.isEmpty()&&null!=e&&(e._link=s._link),!0;e=s,s=s._link}return!1}}class r{constructor(t){this._offset=-1,this._link=null,this._count=0,this._deletedCount=0,this._offsets={instance:null},this._buffer=t}static from(t){return new r(new Float32Array(t))}isEmpty(){return this._deletedCount===this.count}get count(){return this._count||(this._count=this._computeCount()),this._count}get id(){return this._buffer[this._offset]}set id(t){this._buffer[this._offset]=t}get baseZoom(){return this._buffer[this._offset+1]}get anchorX(){return this._buffer[this._offset+2]}get anchorY(){return this._buffer[this._offset+3]}get directionX(){return this._buffer[this._offset+4]}get directionY(){return this._buffer[this._offset+5]}get size(){return this._buffer[this._offset+6]}get materialKey(){return this._buffer[this._offset+7]}computedMinZoom(){return this._buffer[this._offset+8]}setComputedMinZoom(t){this._buffer[this._offset+8]=t}get boundsCount(){return this._buffer[this._offset+9]}boundsComputedAnchorX(s){return this._buffer[this._offset+10+s*t]}boundsComputedAnchorY(s){return this._buffer[this._offset+10+s*t+1]}setBoundsComputedAnchorX(s,e){this._buffer[this._offset+10+s*t]=e}setBoundsComputedAnchorY(s,e){this._buffer[this._offset+10+s*t+1]=e}boundsX(s){return this._buffer[this._offset+10+s*t+2]}boundsY(s){return this._buffer[this._offset+10+s*t+3]}boundsWidth(s){return this._buffer[this._offset+10+s*t+4]}boundsHeight(s){return this._buffer[this._offset+10+s*t+5]}link(t){let s=this;for(;s._link;)s=s._link;s._link=t}getCursor(){return this.copy()}copy(){const t=new r(this._buffer);return t._link=this._link,t._offset=this._offset,t._deletedCount=this._deletedCount,t._offsets=this._offsets,t._count=this._count,t}peekId(){const s=this._offset+10+this.boundsCount*t+0;return s>=this._buffer.length?0:this._buffer[s]}next(){let e=0;for(;this._offset<this._buffer.length&&e++<100&&(-1===this._offset?this._offset=0:this._offset+=10+this.boundsCount*t,this.id===s););return this.id!==s&&this._offset<this._buffer.length}delete(t){const s=this._offset,e=this.lookup(t);if(e)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===t;)this.id=4294967295,++this._deletedCount;return this._offset=s,e}lookup(t){const e=this._offset;if(null==this._offsets.instance){this._offsets.instance=new Map;const t=this.copy();t._offset=-1;let s=0;for(;t.next();)t.id!==s&&(this._offsets.instance.set(t.id,t._offset),s=t.id)}return!!this._offsets.instance.has(t)&&(this._offset=this._offsets.instance.get(t),this.id!==s||(this._offset=e,!1))}_computeCount(){const t=this._offset;let s=0;for(this._offset=-1;this.next();)s++;return this._offset=t,s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Buffer: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _BufferPool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BufferPool.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js");
/* harmony import */ var _FreeList_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FreeList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=1.25,u=32767,a=u<<16|u;class d{constructor(t,i,r,s){const h=_BufferPool_js__WEBPACK_IMPORTED_MODULE_1__.TypedBuffer.create(i*r*Uint32Array.BYTES_PER_ELEMENT,s);this.size=i,this.strideInt=r,this.bufferType=t,this.dirty={start:1/0,end:0},this._gpu=null,this._cpu=h,this.clear()}get elementSize(){return this._cpu.length/this.strideInt}get invalidated(){return this.bufferSize>0&&!this._gpu}get invalidatedComputeBuffer(){return this.bufferSize>0&&!this._gpuComputeTriangles}invalidate(){this._invalidateTriangleBuffer(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(this._gpu,(t=>t.dispose())),this._gpu=null}_invalidateTriangleBuffer(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(this._gpuComputeTriangles,(t=>t.dispose())),this._gpuComputeTriangles=null}destroy(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(this._gpu,(t=>t.dispose())),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(this._gpuComputeTriangles,(t=>t.dispose())),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(this._cpu,(t=>t.destroy())),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.applySome)(this._cpu2,(t=>t.destroy()))}clear(){this.dirty.start=1/0,this.dirty.end=0,this.freeList=new _FreeList_js__WEBPACK_IMPORTED_MODULE_2__.FreeList({start:0,end:this._cpu.length/this.strideInt}),this.fillPointer=0}ensure(t){if(this.maxAvailableSpace()>=t)return;if(t*this.strideInt>this._cpu.length-this.fillPointer){this.invalidate();const i=this._cpu.length/this.strideInt,e=Math.round((i+t)*n),r=e*this.strideInt;this._cpu.expand(r*Uint32Array.BYTES_PER_ELEMENT),this.freeList.free(i,e-i)}}set(t,i){this._cpu.array[t]!==i&&(this._cpu.array[t]=i,this.dirty.start=Math.min(t,this.dirty.start),this.dirty.end=Math.max(t,this.dirty.end))}getGPUBuffer(t,i=!1){if(!this.bufferSize)return null;if(i){if("index"!==this.bufferType)throw new Error("Tired to get triangle buffer, but target is not an index buffer");return null==this._gpuComputeTriangles&&(this._gpuComputeTriangles=this._createComputeBuffer(t)),this._gpuComputeTriangles}return null==this._gpu&&(this._gpu=this._createBuffer(t)),this._gpu}getCPUBuffer(){if(!this._cpu2){const t=this._cpu.slice();this._cpu2=t}return this._cpu2.length!==this._cpu.length&&this._cpu2.expand(this._cpu.length*this._cpu.array.BYTES_PER_ELEMENT),this._cpu2.set(this._cpu),this._cpu2}get bufferSize(){return this._cpu.length/this.strideInt}maxAvailableSpace(){return this.freeList.maxAvailableSpace()}insert(t,e,r,s){const h=r*this.strideInt;if(!h)return 0;const n=e*this.strideInt*Uint32Array.BYTES_PER_ELEMENT,u=new Uint32Array(t,n,h),a=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.unwrapOrThrow)(this.freeList.firstFit(r),"First fit region must be defined")*this.strideInt,d=h,f=a/this.strideInt-e;if(0!==s)for(let i=0;i<u.length;i++)u[i]+=s;return this._cpu.array.set(u,a),this.dirty.start=Math.min(this.dirty.start,a),this.dirty.end=Math.max(this.dirty.end,a+d),this.fillPointer=Math.max(this.fillPointer,a+d),f}free(t,i,e){const r=t*this.strideInt,s=(t+i)*this.strideInt;if(!0===e)for(let h=t;h!==t+i;h++)this._cpu.array[h*this.strideInt]=a;this.dirty.start=Math.min(this.dirty.start,r),this.dirty.end=Math.max(this.dirty.end,s),this.freeList.free(t,i)}upload(){if(this.dirty.end){if(this._invalidateTriangleBuffer(),null==this._gpu)return this.dirty.start=1/0,void(this.dirty.end=0);this._gpu.setSubData(this._cpu.array,this.dirty.start,this.dirty.start,this.dirty.end),this.dirty.start=1/0,this.dirty.end=0}}_createBuffer(t){const i=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.DYNAMIC_DRAW;return"index"===this.bufferType?_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(t,i,this._cpu.array):_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(t,i,this._cpu.array)}_createComputeBuffer(t){const i=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.DYNAMIC_DRAW,e=new Uint32Array(this.fillPointer/3);for(let r=0;r<this.fillPointer;r+=3)e[r/3]=this._cpu.array[r];return _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(t,i,e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Geometry: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _FeatureDisplayList_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FeatureDisplayList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureDisplayList.js");
/* harmony import */ var _Buffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Buffer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js");
/* harmony import */ var _DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DisplayRecordReader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/DisplayRecordReader.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f=0,o=1;class d{constructor(e,t){this._vaos=new Map,this._indicesInvalid=!1,this.geometryType=e,this._stage=t}destroy(){for(const[e,t]of this._vaos)t?.disposeVAOOnly();this._indexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.destroyMaybe)(this._indexBuffer),this._vertexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.destroyMaybe)(this._vertexBuffer)}get records(){return this._records}insert(e,r,n){if(!e.records.byteLength)return;const f=e.stride;if(this._vertexBuffer&&this._indexBuffer){const s=e.indices.byteLength/4,n=e.vertices.byteLength/f;this._indexBuffer.ensure(s),this._vertexBuffer.ensure(n);const{vertices:o,indices:d}=e,h=_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_3__.DisplayRecordReader.from(e.records),u=this._vertexBuffer.insert(o,0,o.byteLength/f,0),c=this._indexBuffer.insert(d,0,d.byteLength/4,u);if(h.forEach((e=>{e.indexFrom+=c,e.vertexFrom+=u})),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.unwrapOrThrow)(this._records,"Expected records to be defined").link(h),r)this._indicesInvalid=!0;else if(this._displayList){const e=h.getCursor();for(;e.next();)this._displayList.addRecord(e)}}else{const t=e.indices.byteLength/4,n=e.vertices.byteLength/f,o=f/Uint32Array.BYTES_PER_ELEMENT,d=this._stage.bufferPool;this._records=_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_3__.DisplayRecordReader.from(e.records),this._indexBuffer=new _Buffer_js__WEBPACK_IMPORTED_MODULE_2__.Buffer("index",t,1,d),this._vertexBuffer=new _Buffer_js__WEBPACK_IMPORTED_MODULE_2__.Buffer("vertex",n,o,d),this._indexBuffer.insert(e.indices,0,e.indices.byteLength/4,0),this._vertexBuffer.insert(e.vertices,0,e.vertices.byteLength/f,0),r&&(this._indicesInvalid=!0)}}remove(e){if(null!=this._records)for(const t of e){const e=this._records.getCursor();if(!e.lookup(t))continue;const r=e.indexFrom,s=e.vertexFrom;let i=e.indexCount,n=e.vertexCount;for(;e.next()&&e.id===t;)i+=e.indexCount,n+=e.vertexCount;this._indexBuffer.free(r,i),this._vertexBuffer.free(s,n,!0),this._records.delete(t)}}getVAO(e,t,r,s){if(!this._vertexBuffer||!this._indexBuffer||null==this._records||!this._vertexBuffer.bufferSize)return null;const i=s?o:f;let d=this._vaos.get(i);(this._vertexBuffer.invalidated||this._indexBuffer.invalidated||s&&this._indexBuffer.invalidatedComputeBuffer)&&(d?.disposeVAOOnly(),d=null),this._vertexBuffer.upload(),this._indexBuffer.upload();const h=this._indexBuffer.getGPUBuffer(e,1===i),u=this._vertexBuffer.getGPUBuffer(e);return d||(d=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_4__.VertexArrayObject(e,r,t,{geometry:u},h),this._vaos.set(i,d)),d}forEachCommand(e){if(null!=this._records){if(this._sortIndices(this._records),!this._displayList){const e=this._cursorIndexOrder;this._displayList=_FeatureDisplayList_js__WEBPACK_IMPORTED_MODULE_1__.FeatureDisplayList.from(this,this.geometryType,this._records.getCursor(),e)}this._displayList.forEach(e)}}_sortIndices(e){const t=!!this._indexBuffer.bufferSize;if(!this._indicesInvalid)return;this._indicesInvalid=!1;let r=0;const s=e.getCursor(),i=[],n=[],f=[];for(;s.next();)n.push(s.index),f.push(s.sortKey),i.push(s.id);n.sort(((e,t)=>{const r=f[t],s=f[e];return s===r?i[t]-i[e]:r-s}));const o=e.getCursor(),d=t?this._indexBuffer.getCPUBuffer():this._vertexBuffer.getCPUBuffer();for(const h of n){if(!o.seekIndex(h))throw new Error("Expected to find index");if(t){const{indexFrom:e,indexCount:t}=o;o.indexFrom=r;for(let s=0;s<t;s++)this._indexBuffer.set(r++,d.array[e+s])}else{const{vertexFrom:e,vertexCount:t}=o,s=this._vertexBuffer.strideInt,i=e*s,n=i+t*s;o.vertexFrom=r/s;for(let f=i;f<n;f++)this._vertexBuffer.set(r++,d.array[f])}}this._cursorIndexOrder=n,this._displayList=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ W)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../AggregateGraphic.js */ "./node_modules/@arcgis/core/AggregateGraphic.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_effects_FeatureEffectView_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../layers/effects/FeatureEffectView.js */ "./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _rest_support_AggregateFeatureSet_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../rest/support/AggregateFeatureSet.js */ "./node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./features/schemaUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js");
/* harmony import */ var _features_tileRenderers_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./features/tileRenderers.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js");
/* harmony import */ var _features_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./features/support/rendererUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js");
/* harmony import */ var _support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/clusterUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js");
/* harmony import */ var _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/FeatureCommandQueue.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js");
/* harmony import */ var _support_FeatureLayerProxy_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/FeatureLayerProxy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/* harmony import */ var _support_visualVariableSimpleUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/visualVariableSimpleUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js");
/* harmony import */ var _tiling_TileManager_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../tiling/TileManager.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileManager.js");
/* harmony import */ var _layers_FeatureLayerView_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../layers/FeatureLayerView.js */ "./node_modules/@arcgis/core/views/layers/FeatureLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function M(e){return e&&"openPorts"in e}function B(e){for(const t of e){const e="featureReduction"in t&&t.featureReduction&&"labelingInfo"in t.featureReduction?t.featureReduction:void 0,r=[...t.labelingInfo||[],...e?.labelingInfo||[]];if(!t.labelsVisible||!r.length)continue;if(r.some((e=>"none"===e.deconflictionStrategy)))return!0}return!1}function $(e){return t=>(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.pt2px)((0,_support_visualVariableSimpleUtils_js__WEBPACK_IMPORTED_MODULE_32__.getSizeForValueSimple)(t,e))}function G(e){const t=null!=e&&"visualVariables"in e&&e.visualVariables;if(!t)return null;for(const r of t)if("size"===r.type)return $(r);return null}let K=class extends((0,_layers_FeatureLayerView_js__WEBPACK_IMPORTED_MODULE_34__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_36__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_24__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_35__["default"])))){constructor(){super(...arguments),this._pipelineIsUpdating=!0,this._commandsQueue=new _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_29__["default"]({process:e=>{switch(e.type){case"processed-edit":return this._doEdit(e);case"refresh":return this._doRefresh(e.dataChanged);case"update":return this._doUpdate()}}}),this._visibilityOverrides=new Set,this._highlightIds=new Map,this._updateHighlight=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.debounce)((async()=>this._proxy.setHighlight(Array.from(this._highlightIds.keys())))),this._uploadsLocked=!1,this._needsClusterSizeUpdate=!1,this.featureEffectView=new _layers_effects_FeatureEffectView_js__WEBPACK_IMPORTED_MODULE_17__["default"],this._lastDefinitionExpression=null}destroy(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.applySome)(this._updateClusterSizeTask,(e=>e.remove())),this._proxy?.destroy(),this._commandsQueue.destroy()}initialize(){this.addResolvingPromise(Promise.all([this._initProxy(),this._initServiceOptions()])),this.addHandles([this.on("valueRangesChanged",(e=>{this._set("_aggregateValueRanges",e.valueRanges)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.featureEffect),(e=>{this.featureEffectView.featureEffect=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.syncAndInitial)],"constructor"),this.featureEffectView.endTransitions()}async _initProxy(){const e=this.layer;if("isTable"in e&&e.isTable)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("featurelayerview:table-not-supported","table feature layer can't be displayed",{layer:this.layer});if(("feature"===e.type||"subtype-group"===e.type)&&!(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_19__.getEffectiveLayerCapabilities)(e)?.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("featurelayerview:query-not-supported","layer view requires a layer with query capability",{layer:e});this._proxy&&this._proxy.destroy();const t=this._createClientOptions();return this._set("_proxy",new _support_FeatureLayerProxy_js__WEBPACK_IMPORTED_MODULE_30__["default"]({client:t})),this._proxy.when()}async _initServiceOptions(){return this._set("_serviceOptions",await this._createServiceOptions()),this._serviceOptions}get _effectiveFeatureReduction(){if(!("featureReduction"in this.layer))return null;const e=this.layer.featureReduction;return e&&(!("maxScale"in e)||!e.maxScale||e.maxScale<this.view.scale)?e:null}get orderByFields(){return"stream"!==this._serviceOptions?.type?this._serviceOptions?.orderByFields:void 0}get labelsVisible(){const e="subtype-group"===this.layer.type?this.layer.sublayers.items:[this.layer];return!this.suspended&&e.some((e=>e.labelingInfo&&e.labelsVisible))}get labelingCollisionInfos(){const{tileRenderer:e,layer:t}=this;if(null==e)return null;const r="subtype-group"===this.layer.type?this.layer.sublayers.items:[this.layer],i=t.geometryType,s=!B(r),a={};if("subtype-group"!==t.type){if("heatmap"===e?.type)return null;const r=G(t.renderer);a[0]=r}return[{tileRenderer:e,vvEvaluators:a,deconflictionEnabled:s,geometryType:i,visible:!this.suspended}]}get queryMode(){return this._serviceOptions?.type}get renderingConfigHash(){if(!this.layer)return null;const e=this.availableFields,t=this.layer,r=this.view.floors,{definitionExpression:i}=t,s="subtype-group"!==this.layer.type&&this.layer.labelsVisible&&this.layer.labelingInfo,a="renderer"in t&&t.renderer,n="gdbVersion"in t?t.gdbVersion:void 0,o="historicMoment"in t?t.historicMoment?.getTime():void 0,{timeExtent:l}=this,u="customParameters"in t?JSON.stringify(t.customParameters):void 0,d="apiKey"in t?t.apiKey:void 0,h="stream"===t.type?`${JSON.stringify(t.geometryDefinition)}${t.definitionExpression}`:null,p=JSON.stringify(this.clips),c=this._effectiveFeatureReduction?.toJSON(),y="orderBy"in this.layer&&JSON.stringify(this.layer.orderBy),g="sublayers"in this.layer&&this.layer.sublayers.items.reduce(((e,t)=>e+`${t.visible?1:0}.${JSON.stringify(t.renderer)}.${t.labelsVisible}\n.${JSON.stringify(t.labelingInfo)}`),""),f="subtypeCode"in this.layer&&this.layer.subtypeCode;return JSON.stringify({orderBy:y,sublayerHash:g,subtypeCode:f,filterHash:null!=this.filter&&this.filter.toJSON(),effectHash:null!=this.featureEffect&&this.featureEffect.toJSON(),streamFilter:h,gdbVersion:n,definitionExpression:i,historicMoment:o,availableFields:e,renderer:a,labelingInfo:s,timeExtent:l,floors:r,clipsHash:p,featureReduction:c,customParameters:u,apiKey:d})}highlight(e){let t;e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_3__["default"]?t=[e.getObjectId()]:"number"==typeof e||"string"==typeof e?t=[e]:_core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"].isCollection(e)&&e.length>0?t=e.map((e=>e?.getObjectId())).toArray():Array.isArray(e)&&e.length>0&&(t="number"==typeof e[0]||"string"==typeof e[0]?e:e.map((e=>e?.getObjectId())));const a=t?.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__.isSome);return a&&a.length?(this._addHighlight(a),{remove:()=>this._removeHighlight(a)}):{remove:()=>{}}}hasHighlight(){return!!this._highlightIds.size}async hitTest(e,i){if(!this.tileRenderer)return null;const s=await this.tileRenderer.hitTest(i);if(0===s.length)return null;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("featurelayer-force-marker-text-draw-order")&&s.sort(((e,t)=>e-t));const{features:a,aggregates:n}=await this._proxy.getFeatures(s);return[...n.map((r=>this._createGraphicHit(e,_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(r)))),...a.map((t=>this._createGraphicHit(e,_Graphic_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(t))))]}queryStatistics(){return this._proxy.queryStatistics()}async querySummaryStatistics(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.querySummaryStatistics(this._cleanUpQuery(e),i,r)}async queryAggregateSummaryStatistics(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateSummaryStatistics(this._cleanUpAggregateQuery(e),i,r)}async queryUniqueValues(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryUniqueValues(this._cleanUpQuery(e),i,r)}async queryAggregateUniqueValues(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateUniqueValues(this._cleanUpAggregateQuery(e),i,r)}async queryClassBreaks(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryClassBreaks(this._cleanUpQuery(e),i,r)}async queryAggregateClassBreaks(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateClassBreaks(this._cleanUpAggregateQuery(e),i,r)}async queryHistogram(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryHistogram(this._cleanUpQuery(e),i,r)}async queryAggregateHistogram(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateHistogram(this._cleanUpAggregateQuery(e),i,r)}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}queryVisibleFeatures(e,t){return this._proxy.queryVisibleFeatures(this._cleanUpQuery(e),t).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}async queryAggregates(e,t){const r=await this._proxy.queryAggregates(this._cleanUpAggregateQuery(e),t),i=_rest_support_AggregateFeatureSet_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(r);return i.features.forEach((e=>this._setLayersForFeature(e))),i}queryAggregateIds(e,t){return this._proxy.queryAggregateIds(this._cleanUpAggregateQuery(e),t)}queryAggregateCount(e,t){return this._proxy.queryAggregateCount(this._cleanUpAggregateQuery(e),t)}queryAggregateJSON(e,t){return this._proxy.queryAggregates(this._cleanUpAggregateQuery(e),t)}queryFeaturesJSON(e,t){return this._proxy.queryFeatures(this._cleanUpQuery(e),t)}queryObjectIds(e,t){return this._proxy.queryObjectIds(this._cleanUpQuery(e),t)}queryFeatureCount(e,t){return this._proxy.queryFeatureCount(this._cleanUpQuery(e),t)}queryExtent(e,t){return this._proxy.queryExtent(this._cleanUpQuery(e),t).then((e=>({count:e.count,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_38__["default"].fromJSON(e.extent)})))}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._tileStrategy||!this.tileRenderer)return;const{hasMissingTiles:t,added:r,removed:i}=this._tileStrategy.update(e);(r.length||i.length)&&this._proxy.updateTiles({added:r,removed:i}),t&&this.requestUpdate(),this.notifyChange("updating")}attach(){this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._tileStrategy=new _tiling_TileManager_js__WEBPACK_IMPORTED_MODULE_33__.TileManager({acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme,buffer:0}),this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this.renderingConfigHash),(()=>this._update()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.initial)),"stream"!==this.layer.type&&this.addAttachHandles(this.layer.on("edits",(e=>this._edit(e))))}detach(){this._commandsQueue.clear(),this._proxy?.stop(),this.container.removeAllChildren(),this.tileRenderer?.uninstall(this.container),this.tileRenderer=null,this._tileStrategy=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this._tileStrategy),this._tileRendererHash=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}isUpdating(){const e="renderer"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updating,r=null!=this._updatingRequiredFieldsPromise,i=!this._proxy||!this._proxy.isReady,s=this._pipelineIsUpdating,a=null==this.tileRenderer||this.tileRenderer?.updating,n=e&&(t||r||i||s||a);return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-log-updating")&&console.log(`Updating FLV2D (${this.layer.id}): ${n}\n  -> hasRenderer ${e}\n  -> hasPendingCommand ${t}\n  -> updatingRequiredFields ${r}\n  -> updatingProxy ${i}\n  -> updatingPipeline ${s}\n  -> updatingTileRenderer ${a}\n`),n}_createClientOptions(){return{setUpdating:e=>{this._set("_pipelineIsUpdating",e)},emitEvent:e=>{this.emit(e.name,e.event)}}}async _detectQueryMode(e){const t="path"in e,{layer:r}=this,i="editingInfo"in r&&r.editingInfo?.lastEditDate,s="refreshInterval"in r&&!!r.refreshInterval,a=!i&&s,n=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_19__.getEffectiveLayerCapabilities)(r);if(t&&("feature"===r.type||"subtype-group"===r.type)&&"point"===r.geometryType&&n?.query.supportsPagination&&!n?.operations.supportsEditing&&!a&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("featurelayer-snapshot-enabled"))try{const e=await r.queryFeatureCount();if(e<=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("featurelayer-snapshot-point-min-threshold"))return{mode:"snapshot",featureCount:e};const t=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("featurelayer-snapshot-point-max-threshold"),i=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("featurelayer-snapshot-point-coverage"),s=this.view.extent,a=r.fullExtent,n=a?.clone().intersection(s),o=null!=n?n.width*n.height:0,l=a?.width*a?.height;if(e<=t&&(0===l?0:o/l)>=i)return{mode:"snapshot",featureCount:e}}catch(l){_core_Logger_js__WEBPACK_IMPORTED_MODULE_9__["default"].getLogger(this).warn("mapview-feature-layer","Encountered an error when querying for featureCount",{error:l})}return{mode:"on-demand"}}async _createServiceOptions(){const e=this.layer;if("stream"===e.type)return null;const t=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_19__.getEffectiveLayerCapabilities)(e),{capabilities:r,objectIdField:i}=e,s=e.fields.map((e=>e.toJSON())),a=null!=e.fullExtent?e.fullExtent.toJSON():null,o=(0,_support_util_js__WEBPACK_IMPORTED_MODULE_31__.toJSONGeometryType)(e.geometryType),l="timeInfo"in e&&e.timeInfo&&e.timeInfo.toJSON()||null,u=e.spatialReference?e.spatialReference.toJSON():null,d="feature"===e.type?e.globalIdField:null;let h;"ogc-feature"===e.type?h=e.source.getSource():M(e.source)?h=await e.source.openPorts():e.parsedUrl&&(h=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_8__.clone)(e.parsedUrl),"dynamicDataSource"in e&&e.dynamicDataSource&&(h.query={layer:JSON.stringify({source:e.dynamicDataSource})}));const p="datesInUnknownTimezone"in this.layer&&this.layer.datesInUnknownTimezone,c=("subtypeField"in this.layer?this.layer.subtypeField:null)??null,{mode:y,featureCount:g}=await this._detectQueryMode(h);let f=this.layer.objectIdField;if("feature"===this.layer.type&&null!=this.layer.orderBy&&this.layer.orderBy.length){const e=!this.layer.orderBy[0].valueExpression&&this.layer.orderBy[0].field;e&&(f=e)}return{type:y,timeReferenceUnknownClient:p,subtypeField:c,featureCount:g,globalIdField:d,maxRecordCount:r.query.maxRecordCount,tileMaxRecordCount:r.query.tileMaxRecordCount,capabilities:r,effectiveCapabilities:t,fields:s,fullExtent:a,geometryType:o,objectIdField:i,source:h,timeInfo:l,spatialReference:u,orderByFields:f,datesInUnknownTimezone:p,dateFieldsTimeReference:("dateFieldsTimeReference"in this.layer?this.layer.dateFieldsTimeReference?.toJSON():null)||null,preferredTimeReference:("preferredTimeReference"in this.layer?this.layer.preferredTimeReference?.toJSON():null)||null,editFieldsInfo:"editFieldsInfo"in this.layer?this.layer.editFieldsInfo?.toJSON():null}}async _createMemoryServiceOptions(e){const t=await e.openPorts();return{...this._createServiceOptions(),type:"memory",source:t}}_cleanUpQuery(e){const t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__["default"].from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}_cleanUpAggregateQuery(e){const t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_22__["default"].from(e)||this.createAggregateQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}async _update(){return this._commandsQueue.push({type:"update"})}async _edit(e){if(this.suspended)return void this._clearTiles();return this._validateEdit(e)?this._commandsQueue.push({type:"edit",edits:e}):void 0}async doRefresh(e){if(this.attached&&this._tileStrategy.tileKeys().length)return this.suspended&&e?void this._clearTiles():this._commandsQueue.push({type:"refresh",dataChanged:e})}_clearTiles(){this._tileStrategy.tileKeys().length&&(this._proxy.updateTiles({added:[],removed:this._tileStrategy.tileKeys()}),this._tileStrategy.clear(),this.requestUpdate(),this._commandsQueue.clear(),this._update())}_validateEdit(e){const t="globalIdField"in this.layer&&this.layer.globalIdField,r=e.deletedFeatures.some((e=>-1===e.objectId||!e.objectId)),i=t&&this.availableFields.includes(t);return r&&!i?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_9__["default"].getLogger(this).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("mapview-apply-edits",`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected on the map`)),null):e}async _doUpdate(){try{if(this.destroyed||!this._hasRequiredSupport(this.layer)||!this._tileStrategy)return;const{featureEffectView:t,filter:r}=this;if(await this._updateRequiredFields(),this.destroyed)return;const{renderer:i}=this._getEffectiveRenderer();this._set("_effectiveRenderer",i);const s=this._createSchemaConfig(),a=this._createConfiguration(s,r,t.filter),n=this._lastDefinitionExpression!==a.schema.source.definitionExpression;this._lastDefinitionExpression=a.schema.source.definitionExpression;const l=a.schema.tileRenderer,u=this._createTileRendererHash(l);if("snapshot"===this._serviceOptions.type&&(a.schema.source.initialFeatureCount=this._serviceOptions.featureCount),u!==this._tileRendererHash){this._initTileRenderer(l,i);const e=this.layer,t="stream"===e.type?await this._initServiceOptions():this._serviceOptions;this.tileRenderer.onConfigUpdate(i),"stream"!==e.type&&M(e.source)&&(t.source=await e.source.openPorts());const r={added:this._tileStrategy.tileKeys(),removed:[]};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Proxy startup"),await this._proxy.startup(this.view.featuresTilingScheme,a,t,r),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished proxy startup"),this.hasHighlight()&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Updating highlight"),await this._proxy.setHighlight(Array.from(this._highlightIds.keys())),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished highlight update")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: onConfigUpdate start"),this.tileRenderer.onConfigUpdate(i),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: onConfigUpdate end")}else{"snapshot"===this._serviceOptions.type&&n&&(a.schema.source.changedFeatureCount=await this.layer.queryFeatureCount()),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Updating proxy");const t=await this._proxy.update(a);(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished proxy update"),(t.mesh||t.targets?.aggregate)&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Locking GPU Uploads"),this._lockGPUUploads());try{(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Applying update to proxy"),await this._proxy.applyUpdate(t),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished applying update to proxy")}catch(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_9__["default"].getLogger(this).error(e)}(t.mesh||t.targets?.aggregate)&&this._unlockGPUUploads(),this.tileRenderer.onConfigUpdate(i),this._updateClusterSizeVariable(),this._forceAttributeTextureUpload()}this._tileRendererHash=u,this.tileRenderer.invalidateLabels(),this.requestUpdate()}catch(e){}}async _doEdit(e){try{await this._proxy.onEdits(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(t),0}}async _doRefresh(e){this._lockGPUUploads();try{let t;e&&"snapshot"===this.queryMode&&"queryFeatureCount"in this.layer&&(t=await this.layer.queryFeatureCount()),await this._proxy.refresh({dataChanged:e,featureCount:t})}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(t),0}this._unlockGPUUploads(),this._effectiveFeatureReduction&&this._updateClusterSizeVariable()}_updateClusterSizeVariable(){this._needsClusterSizeUpdate&&(this.tileRenderer.onConfigUpdate(this._effectiveRenderer),this._needsClusterSizeUpdate=!1)}_createUpdateClusterSizeTask(e,t){return (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>this._aggregateValueRanges),(r=>{this._updateClusterEffectiveRendererSizeVariable(e,t,r),this._needsClusterSizeUpdate=!0,this._uploadsLocked||this._updateClusterSizeVariable()}))}async _updateClusterEffectiveRendererSizeVariable(e,t,r){if(e.dynamicClusterSize&&"visualVariables"in e&&e.visualVariables){const i=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_28__.findSizeVV)(e.visualVariables);if(null!=i&&"cluster_count"===i.field){const s=e.visualVariables.indexOf(i);e.visualVariables[s]=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_28__.createClusterCountSizeVariable)(t,r);const a=e.clone();a.dynamicClusterSize=!0,this._set("_effectiveRenderer",a)}}}_getEffectiveRenderer(){const e=this.layer,t="renderer"in e?e.renderer:null,r=this._effectiveFeatureReduction;if(this._updateClusterSizeTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.removeMaybe)(this._updateClusterSizeTask),r&&"renderer"in r&&r.renderer&&!r.renderer.authoringInfo?.isAutoGenerated){const e=r.fields;if("cluster"===r.type){const{renderer:t,didInject:i}=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_28__.injectDynamicLevelDependentSizeVisualVariable)(r.renderer,r,this._aggregateValueRanges);return i&&(this._updateClusterSizeTask=this._createUpdateClusterSizeTask(t,r)),{renderer:t,aggregateFields:e,featureReduction:r}}return{renderer:r.renderer,aggregateFields:e,featureReduction:r}}if(r&&"cluster"===r.type&&t&&(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_28__.isClusterCompatibleRenderer)(t)){const e=r,i=[],s=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_28__.createClusterRenderer)(i,t,e,this._aggregateValueRanges,!0);return this._updateClusterSizeTask=this._createUpdateClusterSizeTask(s,e),{renderer:s,aggregateFields:i,featureReduction:r}}return{renderer:t,aggregateFields:[],featureReduction:null}}_acquireTile(e){const t=this.tileRenderer.acquireTile(e);return t.once("attach",(()=>{this.requestUpdate()})),t}_releaseTile(e){this.tileRenderer.releaseTile(e)}_initTileRenderer(e,t){const r=(0,_features_tileRenderers_js__WEBPACK_IMPORTED_MODULE_26__.createOrReuseTileRenderer)(e,{layerView:this,tileInfoView:this.view.featuresTilingScheme,layer:this.layer});return this.tileRenderer&&(this._tileStrategy.clear(),this.tileRenderer.uninstall(this.container),this.tileRenderer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__.destroyMaybe)(this.tileRenderer)),this.destroyed?null:(this._proxy.tileRenderer=r,this._set("tileRenderer",r),this.tileRenderer.install(this.container),this.tileRenderer.onConfigUpdate(t),this.requestUpdate(),this.tileRenderer)}_createTileRendererHash(e){return`${e.type}`}get hasFilter(){const e=!!("floorInfo"in this.layer&&this.layer.floorInfo&&this.view.floors&&this.view.floors.length);return!!this.filter||e||!!this._visibilityOverrides.size||!!this.timeExtent}_injectOverrides(e){const t=null!=e?e.timeExtent:null,r=null!=this.timeExtent&&null!=t?this.timeExtent.intersection(t):this.timeExtent||t;let i=null;const s="floorInfo"in this.layer&&this.layer.floorInfo;if(s){const t=null!=e?e.where:null;i=this._addFloorFilterClause(t)}if(!this._visibilityOverrides.size&&!r&&!s)return null!=e?e.toJSON():null;(e=null!=e&&e.clone()||new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_18__["default"]).timeExtent=r,i&&(e.where=i);const a=e.toJSON();return a.hiddenIds=Array.from(this._visibilityOverrides),a}_addFloorFilterClause(e){const t=this.layer;let r=e||"";if("floorInfo"in t&&t.floorInfo){let e=this.view.floors;if(!e||!e.length)return r;t.floorInfo.viewAllLevelIds?.length&&(e=t.floorInfo.viewAllLevelIds);const i=e.filter((e=>""!==e)).map((e=>"'"+e+"'"));i.push("''");const s=t.floorInfo.floorField;let a="("+s+" IN ({ids}) OR "+s+" IS NULL)";if(a=a.replace("{ids}",i.join(", ")),null!=r&&r.includes(s)){let e=new RegExp("AND \\("+s+".*NULL\\)","g");r=r.replace(e,""),e=new RegExp("\\("+s+".*NULL\\)","g"),r=r.replace(e,""),r=r.replaceAll(/\s+/g," ").trim()}r=""!==r?"("+r+") AND "+a:a}return""!==r?r:null}_createConfiguration(e,t,r){const i="feature"===this.layer.type&&this.layer.historicMoment?this.layer.historicMoment.getTime():void 0,s="feature"===this.layer.type?this.layer.gdbVersion??void 0:void 0,a=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_23__.MAX_FILTERS),n=this._injectOverrides(t);a[0]=n,a[1]=null!=r?r.toJSON():null;const o=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_25__.createSchema)(e);if(null==o)return null;const l=(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_37__.getWebGLCapabilities)("2d");return{availableFields:this.availableFields,gdbVersion:s,historicMoment:i,devicePixelRatio:window.devicePixelRatio||1,filters:a,schema:o,supportsTextureFloat:l.supportsTextureFloat,maxTextureSize:l.maxTextureSize}}_hasRequiredSupport(e){return!("renderer"in e)||(0,_features_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_27__.isRendererSupported)(e.renderer)}_lockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!0,this.tileRenderer.lockGPUUploads())}_unlockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!1,this.tileRenderer.unlockGPUUploads())}_forceAttributeTextureUpload(){this.tileRenderer&&this.tileRenderer.forceAttributeTextureUpload()}_createSchemaConfig(){const e=this.layer;return{renderer:"renderer"in e?e.renderer:null,spatialReference:e.spatialReference,timeExtent:"timeExtent"in e?e.timeExtent:null,definitionExpression:e.definitionExpression,featureReduction:this._effectiveFeatureReduction,fields:e.fields,geometryType:e.geometryType,historicMoment:"historicMoment"in e?e.historicMoment:null,labelsVisible:"labelsVisible"in e&&e.labelsVisible,labelingInfo:"labelingInfo"in e?e.labelingInfo:null,availableFields:this.availableFields,featureEffect:this.featureEffect,filter:this.filter,gdbVersion:"gdbVersion"in e?e.gdbVersion:null,pixelBuffer:0,orderBy:"orderBy"in e&&e.orderBy?e.orderBy:null,customParameters:{..."customParameters"in e?e.customParameters:void 0,token:"apiKey"in e?e.apiKey??void 0:void 0},subtypeCode:"subtypeCode"in e?e.subtypeCode:void 0,subtypeField:"subtypeField"in e?e.subtypeField:void 0}}_addHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t);this._highlightIds.set(t,e+1)}else this._highlightIds.set(t,1);this._updateHighlight().catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_9__["default"].getLogger(this).error(e)}))}_removeHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t)-1;0===e?this._highlightIds.delete(t):this._highlightIds.set(t,e)}this._updateHighlight().catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_9__["default"].getLogger(this).error(e)}))}_setLayersForFeature(e){const t=this.layer;e.layer=t,e.sourceLayer=t}_createGraphicHit(e,t){return this._setLayersForFeature(t),null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:"graphic",graphic:t,layer:this.layer,mapPoint:e}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_serviceOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_proxy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_pipelineIsUpdating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_effectiveRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_effectiveFeatureReduction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_aggregateValueRanges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"_commandsQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"featureEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"labelsVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"labelingCollisionInfos",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)({readOnly:!0})],K.prototype,"queryMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"renderingConfigHash",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"tileRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_14__.property)()],K.prototype,"updating",void 0),K=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.views.2d.layers.FeatureLayerView2D")],K);const W=K;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createOrReuseTileRenderer: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _tileRenderers_HeatmapTileRenderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tileRenderers/HeatmapTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js");
/* harmony import */ var _tileRenderers_SymbolTileRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tileRenderers/SymbolTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(t,n){if(!t)return null;switch(t.type){case"symbol":return new _tileRenderers_SymbolTileRenderer_js__WEBPACK_IMPORTED_MODULE_1__.SymbolTileRenderer(n);case"heatmap":return new _tileRenderers_HeatmapTileRenderer_js__WEBPACK_IMPORTED_MODULE_0__.HeatmapTileRenderer(n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let r=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__.HandleOwner{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once("isReady",(()=>this.notifyChange("updating"))),this.tiles.set(e.id,t),this.notifyChange("updating"),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.notifyChange("updating"),this.disposeTile(e)}isUpdating(){let e=!0;this.tiles.forEach((t=>{e=e&&t.isReady}));const t=!e;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-log-updating")){let s="";this.tiles.forEach((t=>{const i=t.updateStatus;s+=`-> ${t.key.id}: isReady: ${t.isReady} status: ${i}\n`,e=e&&t.isReady})),console.log(`Updating BaseTileRenderer ${t}\n${s}`)}return t}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"tileInfoView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"updating",null),r=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],r);const o=r;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapTileRenderer: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/* harmony import */ var _engine_BitmapTileContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../engine/BitmapTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js");
/* harmony import */ var _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js");
/* harmony import */ var _support_HeatmapSource_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/HeatmapSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let o=class extends _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(e){super(e),this._intensityInfo={minDensity:0,maxDensity:0},this.type="heatmap",this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new _engine_BitmapTileContainer_js__WEBPACK_IMPORTED_MODULE_8__.BitmapTileContainer(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if("heatmap"===e.type){const{minDensity:t,maxDensity:r,colorStops:s}=e;this._intensityInfo.minDensity=t,this._intensityInfo.maxDensity=r,this._gradient=(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__.generateGradient)(s),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minDensity=t,i.maxDensity=r,i.gradient=this._gradient,e.bitmap.invalidateTexture(),e.bitmap.requestRender())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&"heatmap"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minDensity:r,maxDensity:s}=this._intensityInfo,o=t.bitmap.source||new _support_HeatmapSource_js__WEBPACK_IMPORTED_MODULE_10__.HeatmapSource;o.intensities=i&&i.matrix||null,o.minDensity=r,o.maxDensity=s,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this._container.requestRender(),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}fetchResource(e,t){return console.error(e),Promise.reject()}};o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SymbolTileRenderer: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _engine_webgl_FeatureTile_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../engine/webgl/FeatureTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js");
/* harmony import */ var _support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/rendererUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js");
/* harmony import */ var _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js");
/* harmony import */ var _support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js");
/* harmony import */ var _support_WGLFeatureView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/WGLFeatureView.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p=class extends _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(){super(...arguments),this.type="symbol"}install(e){const t=()=>this.notifyChange("updating"),i=new _support_WGLFeatureView_js__WEBPACK_IMPORTED_MODULE_14__.WGLFeatureView(this.tileInfoView,this.layerView,this.layer,t);this.featuresView=i,e.addChild(i)}uninstall(e){e.removeChild(this.featuresView),this.featuresView=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.featuresView)}fetchResource(e,t){const{url:r}=e,s=this.featuresView.stage;try{return s.resourceManager.fetchResource(r,{signal:t.signal})}catch(a){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(a)?Promise.resolve({width:0,height:0}):Promise.reject(a)}}isUpdating(){const e=super.isUpdating(),t=!this.featuresView||this.featuresView.isUpdating(),i=this.featuresView?.hasEmptyAttributeView(),r=e||t||e&&i;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating SymbolTileRenderer ${r}\n  -> updatingTiles ${e}\n  -> hasFeaturesView ${!!this.featuresView}\n  -> updatingFeaturesView ${t}`),r}hitTest(e){return this.featuresView.hitTest(e)}supportsRenderer(e){return null!=e&&["simple","class-breaks","unique-value","dot-density","dictionary","heatmap","pie-chart"].includes(e.type)}onConfigUpdate(e){let t=null;if(e&&"visualVariables"in e){const i=((0,_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_11__.simplifyVVRenderer)(e).visualVariables||[]).map((e=>{const t=e.clone();return"normalizationField"in e&&(t.normalizationField=null),e.valueExpression&&"$view.scale"!==e.valueExpression&&(t.valueExpression=null,t.field="nop"),t}));t=(0,_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__.convertVisualVariables)(i)}this.featuresView.setRendererInfo(e,t,this.layerView.featureEffect)}onTileData(e){const t=this.tiles.get(e.tileKey);t&&e.data&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()}onTileError(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)}forceAttributeTextureUpload(){this.featuresView.attributeView.forceTextureUpload()}lockGPUUploads(){this.featuresView.attributeView.lockTextureUpload(),this.tiles.forEach((e=>e.lock()))}unlockGPUUploads(){this.featuresView.attributeView.unlockTextureUpload(),this.tiles.forEach((e=>e.unlock()))}async getMaterialItems(e){return this.featuresView.getMaterialItems(e)}invalidateLabels(){this.featuresView.hasLabels&&this.layerView.view.labelManager.requestUpdate()}createTile(e){const t=this.tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)(),e),i=()=>this.layerView.view.labelManager.requestUpdate(),r=this.tileInfoView.getTileResolution(e.level),o=this.featuresView.attributeView;return new _engine_webgl_FeatureTile_js__WEBPACK_IMPORTED_MODULE_10__.FeatureTile(e,r,t[0],t[3],o,i)}disposeTile(e){this.featuresView.removeChild(e),e.destroy(),this.layerView.view.labelManager.requestUpdate()}};p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer")],p);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapSource: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i{constructor(){this.gradient=null,this.height=512,this.intensities=null,this.width=512}render(i){(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_0__.drawHeatmap)(i,512,this.intensities,this.gradient,this.minDensity,this.maxDensity)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLFeatureView: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../engine/brushes.js */ "./node_modules/@arcgis/core/views/2d/engine/brushes.js");
/* harmony import */ var _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../engine/FeatureContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-order-by-server-enabled");class a extends _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_3__.FeatureContainer{constructor(e,t,s,i){super(e),this._hitTestsRequests=[],this._layer=s,this._layerView=t,this._onUpdate=i}renderChildren(e){if(this.attributeView.update(),this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}super.renderChildren(e)}hasEmptyAttributeView(){return this.attributeView.isEmpty()}isUpdating(){return this.attributeView.isUpdating()}hitTest(t){let s=this._hitTestsRequests.find((({x:e,y:s})=>e===t.x&&s===t.y));const i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();return s?s.resolvers.push(i):(s={x:t.x,y:t.y,resolvers:[i]},this._hitTestsRequests.push(s)),this.requestRender(),i.promise}onTileData(e,t){const s=r&&"orderBy"in this._layer&&this._layer.orderBy,i=s&&s?.length&&!s[0].valueExpression&&s[0].field,a=!!s&&this._layerView.orderByFields===i;e.patch(t,a),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){this.contains(e)||this.addChild(e)}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._layerView.featureEffectView.transitionStep(e,t),this._layerView.featureEffectView.transitioning&&this.requestRender()}doRender(e){const{minScale:t,maxScale:s}=this._layer.effectiveScaleRange,i=e.state.scale;i<=(t||1/0)&&i>=s&&super.doRender(e)}afterRender(e){super.afterRender(e),this._hitTestsRequests.length&&this.requestRender()}onAttributeStoreUpdate(){this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this._onUpdate()}get hasAnimation(){return this.hasLabels}setStencilReference(e){const{rendererSchema:t}=e.rendererInfo;if("dot-density"===t?.type&&t?.dotSize>1||"heatmap"===t?.type){const e=1;for(const t of this.children)t.stencilRef=t.key.level+e}else super.setStencilReference(e)}get hasLabels(){if("sublayers"in this._layer)return this._layer.sublayers.some((e=>!!e.labelingInfo?.length&&e.labelsVisible));const e=this._layer.featureReduction,t=e&&"labelingInfo"in e&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return this._layer.labelingInfo&&this._layer.labelingInfo.length&&this._layer.labelsVisible||!!t}prepareRenderPasses(e){const s=super.prepareRenderPasses(e),r=e.registerRenderPass({name:"label",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.label],target:()=>this.hasLabels?this.children:null,drawPhase:_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.LABEL|_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.LABEL_ALPHA});if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-force-marker-text-draw-order")){const i=e.registerRenderPass({name:"geometry",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.heatmap,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart],target:()=>this.children,forceDrawByDisplayOrder:!0,enableDefaultDraw:()=>!this._layerView.featureEffectView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.excludedEffects},{apply:e.effects.insideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.includedEffects},{apply:e.effects.hittest,enable:()=>!!this._hitTestsRequests.length,args:()=>this._hitTestsRequests}]});s.push(i)}else{const i=e.registerRenderPass({name:"geometry",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.marker,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.heatmap,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.text],target:()=>this.children,enableDefaultDraw:()=>!this._layerView.featureEffectView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.excludedEffects},{apply:e.effects.insideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.includedEffects},{apply:e.effects.hittest,enable:()=>!!this._hitTestsRequests.length,args:()=>this._hitTestsRequests}]});s.push(i)}const a=e.registerRenderPass({name:"highlight",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.marker,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.text],target:()=>this.children,drawPhase:_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.HIGHLIGHT,enableDefaultDraw:()=>!1,effects:[{apply:e.effects.highlight,enable:()=>!!this._layerView.hasHighlight()}]});return s.push(a),s.push(r),s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(e){return e.some((e=>e.globalId))}function n(e){return e.filter((e=>!e.error)).map((e=>e.objectId??e.globalId)).filter((e=>null!=e))}function d(e,t){const s=new Set(e);for(const r of t.values())s.add(r);return s}function a(e,t){const s=new Set(e);for(const r of t.values())s.delete(r);return s}let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._hasGlobalIds=!1,this._notifyUpdating=()=>{this.notifyChange("updating")}}normalizeCtorArgs(e){return this._queueProcessor=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:1,process:e.process}),{}}destroy(){this.clear()}get updating(){return this._queueProcessor.length>0}clear(){this._queueProcessor.clear()}push(e){const t=this._queueProcessor,s=t.last();switch(e.type){case"update":case"refresh":if(s?.type===e.type)return;t.push(e).then(this._notifyUpdating,this._notifyUpdating);break;case"edit":{const r="processed-edit"===s?.type?s:null;r&&t.popLast();const o=this._mergeEdits(r,e);for(const e of o)e&&t.push(e).then(this._notifyUpdating,this._notifyUpdating);break}}this.notifyChange("updating")}_mergeEdits(e,t){const{addedFeatures:s,deletedFeatures:r,updatedFeatures:o}=t.edits;if(this._hasGlobalIds=this._hasGlobalIds||i(s)||i(o)||i(r),this._hasGlobalIds){return[e,{type:"processed-edit",edits:{addOrModified:[...s,...o],removed:r}}]}const c=new Set(n(e?.edits.addOrModified??[])),p=new Set(n(e?.edits.removed??[])),u=new Set([...n(s),...n(o)]),l=new Set(n(r));return[{type:"processed-edit",edits:{addOrModified:Array.from(d(a(c,l),u)).map((e=>({objectId:e}))),removed:Array.from(d(a(p,u),l)).map((e=>({objectId:e})))}}]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],c.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],c.prototype,"process",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.support.FeatureCommandQueue")],c);const p=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function c(e){return Array.isArray(e)}let u=class extends _core_Promise_js__WEBPACK_IMPORTED_MODULE_1__.EsriPromise{constructor(e){super(e),this._startupResolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.createResolver)(),this.isReady=!1}initialize(){this._controller=new AbortController,this.addResolvingPromise(this._startWorker(this._controller.signal))}destroy(){this._controller.abort(),this._connection&&this._connection.close()}set tileRenderer(e){this.client.tileRenderer=e}get closed(){return this._connection.closed}async startup(e,t,r,s){await this.when();const o=this._controller.signal,i=c(r.source)?{transferList:r.source,signal:o}:void 0,n={service:r,config:t,tileInfo:e.tileInfo.toJSON(),tiles:s};await this._connection.invoke("startup",n,i),this._startupResolver.resolve(),this._set("isReady",!0)}async updateTiles(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("updateTiles",e))}async update(e){const t={config:e};return await this._startupResolver.promise,this._connection.invoke("update",t)}async applyUpdate(e){return await this._startupResolver.promise,this._connection.invoke("applyUpdate",e)}async setHighlight(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.setHighlight",e))}async stop(){if(await this._startupResolver.promise,!this.closed)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("stop"))}async refresh(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.refresh",e))}async querySummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.querySummaryStatistics",{query:e.toJSON(),params:t},r)}async queryAggregateSummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateSummaryStatistics",{query:e.toJSON(),params:t},r)}async queryUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryUniqueValues",{query:e.toJSON(),params:t},r)}async queryAggregateUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateUniqueValues",{query:e.toJSON(),params:t},r)}async queryClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryClassBreaks",{query:e.toJSON(),params:t},r)}async queryAggregateClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateClassBreaks",{query:e.toJSON(),params:t},r)}async queryHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryHistogram",{query:e.toJSON(),params:t},r)}async queryAggregateHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateHistogram",{query:e.toJSON(),params:t},r)}async queryFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryFeatures",e?.toJSON(),t)}async queryVisibleFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryVisibleFeatures",e?.toJSON(),t)}async queryObjectIds(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryObjectIds",e?.toJSON(),t)}async queryFeatureCount(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryFeatureCount",e?.toJSON(),t)}async queryExtent(e,t){return this._connection.invoke("controller.queryExtent",e.toJSON(),t)}async queryLatestObservations(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryLatestObservations",e.toJSON(),t)}async queryStatistics(e){return await this._startupResolver.promise,this._connection.invoke("controller.queryStatistics",e)}async queryAggregates(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregates",e?.toJSON(),t)}async queryAggregateCount(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateCount",e?.toJSON(),t)}async queryAggregateIds(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateIds",e?.toJSON(),t)}async getObjectId(e){return await this._startupResolver.promise,this._connection.invoke("controller.getObjectId",e)}async getDisplayId(e){return await this._startupResolver.promise,this._connection.invoke("controller.getDisplayId",e)}async getFeatures(e){return await this._startupResolver.promise,this._connection.invoke("controller.getFeatures",e)}async getAggregates(){return await this._startupResolver.promise,this._connection.invoke("controller.getAggregates")}async getAggregateValueRanges(){return await this._startupResolver.promise,this._connection.invoke("controller.getAggregateValueRanges")}async mapValidDisplayIds(e){return await this._startupResolver.promise,this._connection.invoke("controller.mapValidDisplayIds",e)}async onEdits(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.onEdits",e))}async enableEvent(e,t){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.enableEvent",{name:e,value:t}))}async pauseStream(){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.pauseStream"))}async resumeStream(){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.resumeStream"))}async sendMessageToSocket(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.sendMessageToSocket",e))}async sendMessageToClient(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.sendMessageToClient",e))}async updateCustomParameters(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.updateCustomParameters",e))}async _startWorker(e){try{this._connection=await (0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__.open)("Pipeline",{client:this.client,strategy:"dedicated",signal:e})}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(t)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"isReady",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],u.prototype,"client",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"tileRenderer",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.support.FeatureLayerProxy")],u);const l=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSizeForValueSimple: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/support/lengthUtils.js */ "./node_modules/@arcgis/core/renderers/support/lengthUtils.js");
/* harmony import */ var _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/visualVariables/support/sizeVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=Math.PI;function i(e,t){switch(t.transformationType){case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Additive:return s(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Constant:return o(t,e);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.ClampedLinear:return u(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Proportional:return l(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Stops:return c(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.RealWorldSize:return m(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Identity:return e;case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Unknown:return null}}function a(e,t){return"number"==typeof e?e:i(t,e)}function s(e,t){return e+(a(t.minSize,e)||t.minDataValue)}function o(e,t){const n=e.stops;let r=n&&n.length&&n[0].size;return null==r&&(r=e.minSize),a(r,t)}function u(e,t){const n=t.minDataValue,r=t.maxDataValue,i=(e-n)/(r-n),s=a(t.minSize,e),o=a(t.maxSize,e);return e<=n?s:e>=r?o:s+i*(o-s)}function l(t,n){const r=t/n.minDataValue,i=a(n.minSize,t),s=a(n.maxSize,t);let o=null;return o=r*i,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(o,i,s)}function c(e,t){const[n,r,i]=p(e,t.cache.ipData);if(n===r)return a(t.stops[n].size,e);{const s=a(t.stops[n].size,e);return s+(a(t.stops[r].size,e)-s)*i}}function m(n,i){const s=_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_1__.meterIn[i.valueUnit],o=a(i.minSize,n),u=a(i.maxSize,n),{valueRepresentation:l}=i;let c=null;return c="area"===l?2*Math.sqrt(n/r)/s:"radius"===l||"distance"===l?2*n/s:n/s,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(c,o,u)}function p(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,i)=>e<t?(r=i,!0):(n=i,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileManager.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileManager.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileManager: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _TileCoverage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t=1e-6;class l{constructor(e){this._tiles=new Map,this.buffer=0,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.buffer=e.buffer}destroy(){}clear(){this._tiles.forEach((e=>this._releaseTile(e)))}tileKeys(){const e=[];return this._tiles.forEach(((i,t)=>e.push(t))),e}update(t){const l=this.tileInfoView.getTileCoverage(t.state,this.buffer,!0,"closest"),{spans:s,lodInfo:r}=l,{level:a}=r,o=[],d=[],h=new Set,n=new Set;for(const{row:e,colFrom:c,colTo:f}of s)for(let t=c;t<=f;t++){const l=_TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"].getId(a,e,r.normalizeCol(t),r.getWorldForColumn(t)),s=this._getOrAcquireTile(o,l);h.add(l),s.isReady?s.visible=!0:n.add(s.key)}n.forEach((e=>this._addPlaceholders(h,e))),this._tiles.forEach((e=>{h.has(e.key.id)||(d.push(e.key.id),this._releaseTile(e))})),_TileCoverage_js__WEBPACK_IMPORTED_MODULE_0__["default"].pool.release(l);return{hasMissingTiles:n.size>0,added:o,removed:d}}_getOrAcquireTile(e,t){if(!this._tiles.has(t)){const l=this.acquireTile(new _TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"](t));e.push(t),this._tiles.set(t,l),l.visible=!1}return this._tiles.get(t)}_getTile(e){return this._tiles.get(e)}_releaseTile(e){this._tiles.delete(e.key.id),this.releaseTile(e)}_addPlaceholders(e,i){const l=this._addPlaceholderChildren(e,i);if(!(Math.abs(1-l)<t)){if(!this._addPlaceholderParent(e,i)){this._getTile(i.id).visible=!0}}}_addPlaceholderChildren(e,i){let t=0;return this._tiles.forEach((l=>{t+=this._addPlaceholderChild(e,l,i)})),t}_addPlaceholderChild(e,i,t){if(i.key.level<=t.level||!i.hasData||!t.contains(i.key))return 0;i.visible=!0,e.add(i.key.id);return 1/(1<<2*(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=i.getParentKey(),l=0,s=null;for(;null!=t;){if(e.has(t.id))return!0;const i=this._getTile(t.id);if(i?.isReady){for(const i of e){const e=this._getTile(i);e&&t.contains(e.key)&&(e.visible=!1)}return i.visible=!0,e.add(i.key.id),!0}i?.hasData&&i.patchCount>l&&(l=i.patchCount,s=i),t=t.getParentKey()}return!!s&&(s.visible=!0,e.add(s.key.id),!0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/FeatureLayerView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/FeatureLayerView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../layers/support/FeatureEffect.js */ "./node_modules/@arcgis/core/layers/support/FeatureEffect.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const q="esri.views.layers.FeatureLayerView",P=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(q),_=r=>{let _=class extends r{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>{const e=this.layer;return[e?.elevationInfo?.featureExpressionInfo,e&&"displayField"in e?e.displayField:null,e&&"timeInfo"in e&&e.timeInfo,e&&"renderer"in e&&e.renderer,e&&"labelingInfo"in e&&e.labelingInfo,e&&"floorInfo"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.view?.floors),"change",(()=>this._handleRequiredFieldsChange())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>{const e=this.layer;return e&&"sublayers"in e?e.sublayers:null}),"change",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return"outFields"in e&&e.outFields?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.fixFields)(t,[...(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.unpackFieldNames)(t,e.outFields),...r]):(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.fixFields)(t,r)}get featureEffect(){return this.layer&&"featureEffect"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override("featureEffect",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){P.error("#maximumNumberOfFeatures=","Setting maximum number of features is not supported")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error("missing implementation")}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"](e);if("feature"===this.layer.type){const e=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__.getFloorFilterClause)(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"](e)}queryFeatures(e,t){throw new Error("missing implementation")}queryObjectIds(e,t){throw new Error("missing implementation")}queryFeatureCount(e,t){throw new Error("missing implementation")}queryExtent(e,t){throw new Error("missing implementation")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){return e.get("expressionInfos.length")||Array.isArray(e.content)&&e.content.some((e=>"expression"===e.type))?(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_16__.loadArcade)():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set("_updatingRequiredFieldsPromise",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set("_updatingRequiredFieldsPromise",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e="3d"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:s}}=this,o="renderer"in t&&t.renderer,n="orderBy"in t&&t.orderBy,l="featureReduction"in t?t.featureReduction:null,a=new Set,u=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)([o?o.collectRequiredFields(a,r):null,(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectLabelingFields)(a,t),e?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectElevationFields)(a,t):null,null!=this.filter?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectFilterFields)(a,t,this.filter):null,null!=this.featureEffect?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectFilterFields)(a,t,this.featureEffect.filter):null,l?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectFeatureReductionFields)(a,t,l):null,n?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectOrderByInfos)(a,t,n):null]);if("timeInfo"in t&&t.timeInfo&&this.timeExtent&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectFields)(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),"feature"===t.type&&(t.floorInfo&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectFields)(a,t.fieldsIndex,[t.floorInfo.floorField]),e&&null!=t.infoFor3D&&(null==t.globalIdField&&P.error("globalIdField missing on 3DObjectFeatureLayer"),(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectFields)(a,t.fieldsIndex,[t.globalIdField]))),"subtype-group"===t.type){(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectField)(a,r,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,r),(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectLabelingFields)(a,e)])));await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)(e)}for(const i of u)i.error&&P.error(i.error);(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectField)(a,r,s),e&&"displayField"in t&&t.displayField&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.collectField)(a,r,t.displayField);const p=Array.from(a).sort();this._set("requiredFields",p)}validateFetchPopupFeatures(e){if(null==e)return null;for(const r of e.clientGraphics??[]){const i=r.layer;if("popupEnabled"in i&&!i.popupEnabled)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i});if(r.isAggregate){const e="featureReduction"in i?i.featureReduction:null;if(!(e&&"popupTemplate"in e&&e.popupEnabled&&e.popupTemplate))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i})}else if("popupTemplate"in i){if(!(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_17__.getFetchPopupTemplate)(i,e))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:fetchPopupFeatures","Layer does not define a popup template",{layer:i})}}}async fetchClientPopupFeatures(e){const t=null!=e?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,s=await this.createPopupQuery(e);for(let o=0;o<t.length;o++){const n=t[o];if(n.isAggregate){r[o]=n;continue}const l=n.layer;if(!("popupEnabled"in l))continue;const a=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.unpackFieldNames)(this.layer.fieldsIndex,s.outFields),u=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_17__.getFetchPopupTemplate)(l,e);if(null==u)continue;const p=await this._loadArcadeModules(u);p&&p.arcadeUtils.hasGeometryOperations(u)||!(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__.featureHasFields)(a,n)?i.set(n.getObjectId(),{graphic:n,index:o}):r[o]=n}if("stream"===this.layer.type||0===i.size)return r.filter(Boolean);s.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(s);for(const t of e.features){const{graphic:{geometry:e},index:s}=i.get(t.getObjectId());t.geometry||=e,r[s]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const s=null!=e&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const o of s){if(!("popupEnabled"in o))continue;const t=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_17__.getFetchPopupTemplate)(o,e);if(null==t)continue;const s=await this._loadArcadeModules(t),n=s&&s.arcadeUtils.hasGeometryOperations(t);i=!("point"!==this.layer.geometryType&&!n);const l=await (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_17__.getRequiredFields)(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,"feature"===this.layer.type){const e=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__.getFloorFilterClause)(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"_updatingRequiredFieldsPromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],_.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_11__["default"]})],_.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__["default"]})],_.prototype,"filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_10__.combinedViewLayerTimeExtentProperty)],_.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Number})],_.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0,type:Boolean})],_.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],_.prototype,"requiredFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],_.prototype,"view",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)(q)],_),_};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a=a=>{let c=class extends a{initialize(){this.handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const t=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:u}=p,{objectIdField:d,typeIdField:i,globalIdField:s,relationships:a}=n;if(t.includes("*"))return["*"];const o=u?await (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...t,...o]);return i&&f.push(i),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&s&&n.fieldsIndex?.has(s)&&!f.includes(s)&&f.push(s),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function t(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2dlb21ldHJ5X3N1cHBvcnRfcXVhbnRpemF0aW9uVXRpbHNfanMtbm9kZV9tb2R1bGVzX2FyLTFhZGIwMS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3VCxvQkFBb0IsbURBQUMsQ0FBQyxjQUFjLHdDQUF3QyxnQ0FBZ0MsZ0RBQWdELDREQUE0RCxtRUFBbUUsY0FBYyxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGFBQWEsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsOEJBQThCLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7QUNKandCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxlQUFlLG1FQUFtRSxjQUFjLG9CQUFvQixXQUFXLDZCQUE2QixrQ0FBa0MsOEVBQThFLG1FQUFtRSxVQUFVLDZCQUE2QixrQ0FBa0MsNkZBQTZGLE9BQU8sb0RBQW9ELFFBQVEsNkJBQTZCLHNEQUFzRCxZQUFZLFNBQVMscUJBQXFCLEtBQUssUUFBUSwyQkFBZ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjF2QjtBQUNBO0FBQ0E7QUFDQTtBQUN3RyxjQUFjLHlDQUF5Qyx3RUFBd0UsY0FBYyxrQkFBa0IsT0FBTyx3T0FBd08sZ0JBQWdCLG9DQUFvQyw2QkFBNkIsZ0JBQWdCLDJTQUEyUyxZQUFZLG9CQUFvQixJQUFJLGlDQUFpQyxZQUFZLG9CQUFvQixJQUFJLGlDQUFpQyxrQkFBa0IsV0FBVyxZQUFZLFlBQVksV0FBVyxLQUFLLGFBQWEsc0hBQXNILHlCQUF5QixrQkFBa0IscUVBQXFFLG9CQUFvQiw0QkFBNEIsb0JBQW9CLDJCQUEyQixZQUFZLFdBQVcsS0FBSyxvQkFBb0IsMEJBQTBCLHVCQUF1QixvQkFBb0IsMkJBQTJCLFlBQVksV0FBVyxLQUFLLG9CQUFvQiwwQkFBMEIsdUJBQXVCLFlB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SnBwUDtBQUNBO0FBQ0E7QUFDQTtBQUNtYyxZQUFZLHNCQUFzQixhQUFhLGlCQUFpQiwwREFBQyxpQ0FBaUMseUNBQXlDLG1FQUFDLEtBQUssdURBQUMsMEJBQTBCLEdBQUcsNkJBQTZCLE9BQU8sdURBQUMsRUFBRSxzRkFBQyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxtREFBd0U7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p4d0I7QUFDQTtBQUNBO0FBQ0E7QUFDNEYsc0NBQXNDLG9CQUFvQixrREFBa0Qsc0JBQXNCLElBQUksOERBQThELEdBQUcsK0JBQStCLGdCQUFnQixtRkFBQyxTQUFTLHdFQUFDLDRCQUE0QixvSkFBb0osTUFBTSxXQUFXLEdBQUcsdURBQXVELEtBQUssZ0JBQWdCLHdJQUF3SSxnQkFBZ0Isa0JBQWtCLDhCQUE4QixFQUFrRiIsInNvdXJjZXMiOlsid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL0FnZ3JlZ2F0ZUdyYXBoaWMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9DaXJjdWxhckFycmF5LmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2VmZmVjdHMvRmVhdHVyZUVmZmVjdFZpZXcuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L3N1cHBvcnQvQWdncmVnYXRlRmVhdHVyZVNldC5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvQml0bWFwLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9CaXRtYXBUaWxlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9CaXRtYXBUaWxlQ29udGFpbmVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9GZWF0dXJlQ29udGFpbmVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9JbWFnZXJ5Qml0bWFwU291cmNlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9CdWZmZXJQb29sLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9GZWF0dXJlVGlsZS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVGlsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvV0dMUmVuZGVyZXJJbmZvLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9jb2xsaXNpb25zL01ldHJpY1JlYWRlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvY3B1TWFwcGVkL0J1ZmZlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvY3B1TWFwcGVkL0dlb21ldHJ5LmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9GZWF0dXJlTGF5ZXJWaWV3MkQuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMvQmFzZVRpbGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvdGlsZVJlbmRlcmVycy9IZWF0bWFwVGlsZVJlbmRlcmVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy90aWxlUmVuZGVyZXJzL1N5bWJvbFRpbGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvdGlsZVJlbmRlcmVycy9zdXBwb3J0L0hlYXRtYXBTb3VyY2UuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMvc3VwcG9ydC9XR0xGZWF0dXJlVmlldy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvc3VwcG9ydC9GZWF0dXJlQ29tbWFuZFF1ZXVlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVMYXllclByb3h5LmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9zdXBwb3J0L3Zpc3VhbFZhcmlhYmxlU2ltcGxlVXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL1RpbGVNYW5hZ2VyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9GZWF0dXJlTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4vR3JhcGhpYy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBwPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5pc0FnZ3JlZ2F0ZT0hMH1nZXRFZmZlY3RpdmVQb3B1cFRlbXBsYXRlKGU9ITEpe2lmKHRoaXMucG9wdXBUZW1wbGF0ZSlyZXR1cm4gdGhpcy5wb3B1cFRlbXBsYXRlO2NvbnN0IHI9dGhpcy5zb3VyY2VMYXllciYmdGhpcy5zb3VyY2VMYXllci5mZWF0dXJlUmVkdWN0aW9uO3JldHVybiByJiZcInBvcHVwVGVtcGxhdGVcImluIHImJnIucG9wdXBFbmFibGVkP3IucG9wdXBUZW1wbGF0ZTpudWxsfWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5hZ2dyZWdhdGVJZH19O2UoW3Qoe3R5cGU6Qm9vbGVhbn0pXSxwLnByb3RvdHlwZSxcImlzQWdncmVnYXRlXCIsdm9pZCAwKSxwPWUoW28oXCJlc3JpLkFnZ3JlZ2F0ZUdyYXBoaWNcIildLHApO2NvbnN0IHM9cDtleHBvcnR7cyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuc2l6ZT0wLHRoaXMuX3N0YXJ0PTAsdGhpcy5tYXhTaXplPXQsdGhpcy5fYnVmZmVyPW5ldyBBcnJheSh0KX1nZXQgZW50cmllcygpe3JldHVybiB0aGlzLl9idWZmZXJ9ZW5xdWV1ZSh0KXtpZih0aGlzLnNpemU9PT10aGlzLm1heFNpemUpe2NvbnN0IHM9dGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XTtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XT10LHRoaXMuX3N0YXJ0PSh0aGlzLl9zdGFydCsxKSV0aGlzLm1heFNpemUsc31yZXR1cm4gdGhpcy5fYnVmZmVyWyh0aGlzLl9zdGFydCt0aGlzLnNpemUrKykldGhpcy5tYXhTaXplXT10LG51bGx9ZGVxdWV1ZSgpe2lmKDA9PT10aGlzLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdO3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdPW51bGwsdGhpcy5zaXplLS0sdGhpcy5fc3RhcnQ9KHRoaXMuX3N0YXJ0KzEpJXRoaXMubWF4U2l6ZSx0fXBlZWsoKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT9udWxsOnRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF19ZmluZCh0KXtpZigwPT09dGhpcy5zaXplKXJldHVybiBudWxsO2Zvcihjb25zdCBzIG9mIHRoaXMuX2J1ZmZlcilpZihudWxsIT1zJiZ0KHMpKXJldHVybiBzO3JldHVybiBudWxsfWNsZWFyKHQpe2xldCBzPXRoaXMuZGVxdWV1ZSgpO2Zvcig7bnVsbCE9czspdCYmdChzKSxzPXRoaXMuZGVxdWV1ZSgpfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNQb2ludCBhcyBuLGlzUG9seWxpbmUgYXMgdCxpc1BvbHlnb24gYXMgZSxpc011bHRpcG9pbnQgYXMgcixpc0V4dGVudCBhcyB1fWZyb21cIi4vanNvblV0aWxzLmpzXCI7ZnVuY3Rpb24gbChuKXtyZXR1cm4gbiYmXCJ1cHBlckxlZnRcIj09PW4ub3JpZ2luUG9zaXRpb259Y29uc3QgaT0obix0LGUpPT5bdCxlXSxvPShuLHQsZSk9Plt0LGUsblsyXV0sYT0obix0LGUpPT5bdCxlLG5bMl0sblszXV07ZnVuY3Rpb24gbShuKXtpZighbilyZXR1cm4gbnVsbDtyZXR1cm57b3JpZ2luUG9zaXRpb246XCJ1cHBlci1sZWZ0XCI9PT1uLm9yaWdpblBvc2l0aW9uP1widXBwZXJMZWZ0XCI6XCJsb3dlci1sZWZ0XCI9PT1uLm9yaWdpblBvc2l0aW9uP1wibG93ZXJMZWZ0XCI6bi5vcmlnaW5Qb3NpdGlvbixzY2FsZTpuLnRvbGVyYW5jZT9bbi50b2xlcmFuY2Usbi50b2xlcmFuY2VdOlsxLDFdLHRyYW5zbGF0ZTpudWxsIT1uLmV4dGVudD9bbi5leHRlbnQueG1pbixuLmV4dGVudC55bWF4XTpbMCwwXX19ZnVuY3Rpb24gYyhuLHQpe2lmKG49PT10fHxudWxsPT1uJiZudWxsPT10KXJldHVybiEwO2lmKG51bGw9PW58fG51bGw9PXQpcmV0dXJuITE7bGV0IGUscix1LGksbyxhO3JldHVybiBsKG4pPyhlPW4udHJhbnNsYXRlWzBdLHI9bi50cmFuc2xhdGVbMV0sdT1uLnNjYWxlWzBdKTooZT1udWxsIT1uLmV4dGVudD9uLmV4dGVudC54bWluOjAscj1udWxsIT1uLmV4dGVudD9uLmV4dGVudC55bWF4OjAsdT1uLnRvbGVyYW5jZSksbCh0KT8oaT10LnRyYW5zbGF0ZVswXSxvPXQudHJhbnNsYXRlWzFdLGE9dC5zY2FsZVswXSk6KGk9bnVsbCE9dC5leHRlbnQ/dC5leHRlbnQueG1pbjowLG89bnVsbCE9dC5leHRlbnQ/dC5leHRlbnQueW1heDowLGE9dC50b2xlcmFuY2UpLGU9PT1pJiZyPT09byYmdT09PWF9ZnVuY3Rpb24gcyh7c2NhbGU6bix0cmFuc2xhdGU6dH0sZSl7cmV0dXJuIE1hdGgucm91bmQoKGUtdFswXSkvblswXSl9ZnVuY3Rpb24gZih7c2NhbGU6bix0cmFuc2xhdGU6dH0sZSl7cmV0dXJuIE1hdGgucm91bmQoKHRbMV0tZSkvblsxXSl9ZnVuY3Rpb24geChuLHQsZSl7Y29uc3Qgcj1bXTtsZXQgdSxsLGksbztmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3QgbT1lW2FdO2E+MD8oaT1zKG4sbVswXSksbz1mKG4sbVsxXSksaT09PXUmJm89PT1sfHwoci5wdXNoKHQobSxpLXUsby1sKSksdT1pLGw9bykpOih1PXMobixtWzBdKSxsPWYobixtWzFdKSxyLnB1c2godChtLHUsbCkpKX1yZXR1cm4gci5sZW5ndGg+MD9yOm51bGx9ZnVuY3Rpb24gaChuLHQsZSl7cmV0dXJuIHRbMF09cyhuLGVbMF0pLHRbM109ZihuLGVbMV0pLHRbMl09cyhuLGVbMl0pLHRbMV09ZihuLGVbM10pLHR9ZnVuY3Rpb24gSShuLHQsZSxyKXtyZXR1cm4geChuLGU/cj9hOm86cj9vOmksdCl9ZnVuY3Rpb24gZyhuLHQsZSxyKXtjb25zdCB1PVtdLGw9ZT9yP2E6bzpyP286aTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3QgZT14KG4sbCx0W2ldKTtlJiZlLmxlbmd0aD49MyYmdS5wdXNoKGUpfXJldHVybiB1Lmxlbmd0aD91Om51bGx9ZnVuY3Rpb24gTihuLHQsZSxyKXtjb25zdCB1PVtdLGw9ZT9yP2E6bzpyP286aTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3QgZT14KG4sbCx0W2ldKTtlJiZlLmxlbmd0aD49MiYmdS5wdXNoKGUpfXJldHVybiB1Lmxlbmd0aD91Om51bGx9ZnVuY3Rpb24gcCh7c2NhbGU6bix0cmFuc2xhdGU6dH0sZSl7cmV0dXJuIGUqblswXSt0WzBdfWZ1bmN0aW9uIHkoe3NjYWxlOm4sdHJhbnNsYXRlOnR9LGUpe3JldHVybiB0WzFdLWUqblsxXX1mdW5jdGlvbiB6KG4sdCxlKXtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCk7aWYoIWUubGVuZ3RoKXJldHVybiByO2NvbnN0W3UsbF09bi5zY2FsZTtsZXQgaT1wKG4sZVswXVswXSksbz15KG4sZVswXVsxXSk7clswXT10KGVbMF0saSxvKTtmb3IobGV0IGE9MTthPGUubGVuZ3RoO2ErKyl7Y29uc3Qgbj1lW2FdO2krPW5bMF0qdSxvLT1uWzFdKmwsclthXT10KG4saSxvKX1yZXR1cm4gcn1mdW5jdGlvbiBUKG4sdCxlKXtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCk7Zm9yKGxldCB1PTA7dTxlLmxlbmd0aDt1Kyspclt1XT16KG4sdCxlW3VdKTtyZXR1cm4gcn1mdW5jdGlvbiBNKG4sdCxlKXtyZXR1cm4gZT8odFswXT1wKG4sZVswXSksdFsxXT15KG4sZVszXSksdFsyXT1wKG4sZVsyXSksdFszXT15KG4sZVsxXSksdCk6W3Aobix0WzBdKSx5KG4sdFszXSkscChuLHRbMl0pLHkobix0WzFdKV19ZnVuY3Rpb24gRShuLHQsZSxyKXtyZXR1cm4geihuLGU/cj9hOm86cj9vOmksdCl9ZnVuY3Rpb24gUChuLHQsZSxyKXtyZXR1cm4gVChuLGU/cj9hOm86cj9vOmksdCl9ZnVuY3Rpb24gYihuLHQsZSxyKXtyZXR1cm4gVChuLGU/cj9hOm86cj9vOmksdCl9ZnVuY3Rpb24gRihuLHQsZSl7bGV0W3IsdV09ZVswXSxsPU1hdGgubWluKHIsdFswXSksaT1NYXRoLm1pbih1LHRbMV0pLG89TWF0aC5tYXgocix0WzJdKSxhPU1hdGgubWF4KHUsdFszXSk7Zm9yKGxldCBtPTE7bTxlLmxlbmd0aDttKyspe2NvbnN0W24sdF09ZVttXTtyKz1uLHUrPXQsbjwwJiYobD1NYXRoLm1pbihsLHIpKSxuPjAmJihvPU1hdGgubWF4KG8scikpLHQ8MD9pPU1hdGgubWluKGksdSk6dD4wJiYoYT1NYXRoLm1heChhLHUpKX1yZXR1cm4gblswXT1sLG5bMV09aSxuWzJdPW8sblszXT1hLG59ZnVuY3Rpb24gVihuLHQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gbnVsbDtuWzBdPW5bMV09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG5bMl09blszXT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspRihuLG4sdFtlXSk7cmV0dXJuIG59ZnVuY3Rpb24gWShuKXtjb25zdCB0PVtOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFldO3JldHVybiBGKHQsdCxuKX1mdW5jdGlvbiBfKG4pe3JldHVybiBWKFswLDAsMCwwXSxuKX1mdW5jdGlvbiBBKG4pe3JldHVybiBWKFswLDAsMCwwXSxuKX1mdW5jdGlvbiB3KG4sdCxlLHIsdSl7cmV0dXJuIHQueG1pbj1zKG4sZS54bWluKSx0LnltaW49ZihuLGUueW1pbiksdC54bWF4PXMobixlLnhtYXgpLHQueW1heD1mKG4sZS55bWF4KSx0IT09ZSYmKHImJih0LnptaW49ZS56bWluLHQuem1heD1lLnptYXgpLHUmJih0Lm1taW49ZS5tbWluLHQubW1heD1lLm1tYXgpKSx0fWZ1bmN0aW9uIEcobix0LGUscix1KXtyZXR1cm4gdC5wb2ludHM9SShuLGUucG9pbnRzLHIsdSk/P1tdLHR9ZnVuY3Rpb24gTChuLHQsZSxyLHUpe3JldHVybiB0Lng9cyhuLGUueCksdC55PWYobixlLnkpLHQhPT1lJiYociYmKHQuej1lLnopLHUmJih0Lm09ZS5tKSksdH1mdW5jdGlvbiBPKG4sdCxlLHIsdSl7Y29uc3QgbD1nKG4sZS5yaW5ncyxyLHUpO3JldHVybiBsPyh0LnJpbmdzPWwsdCk6bnVsbH1mdW5jdGlvbiBTKG4sdCxlLHIsdSl7Y29uc3QgbD1OKG4sZS5wYXRocyxyLHUpO3JldHVybiBsPyh0LnBhdGhzPWwsdCk6bnVsbH1mdW5jdGlvbiBkKGwsaSl7cmV0dXJuIGwmJmk/bihpKT9MKGwse30saSwhMSwhMSk6dChpKT9TKGwse30saSwhMSwhMSk6ZShpKT9PKGwse30saSwhMSwhMSk6cihpKT9HKGwse30saSwhMSwhMSk6dShpKT93KGwse30saSwhMSwhMSk6bnVsbDpudWxsfWZ1bmN0aW9uIGoobix0LGUscix1KXtyZXR1cm4gdC54bWluPXAobixlLnhtaW4pLHQueW1pbj15KG4sZS55bWluKSx0LnhtYXg9cChuLGUueG1heCksdC55bWF4PXkobixlLnltYXgpLHQhPT1lJiYociYmKHQuem1pbj1lLnptaW4sdC56bWF4PWUuem1heCksdSYmKHQubW1pbj1lLm1taW4sdC5tbWF4PWUubW1heCkpLHR9ZnVuY3Rpb24gVShuLHQsZSxyLHUpe3JldHVybiBudWxsIT1lJiYodC5wb2ludHM9RShuLGUucG9pbnRzLHIsdSkpLHR9ZnVuY3Rpb24gayhuLHQsZSxyLHUpe3JldHVybiBudWxsPT1lfHwodC54PXAobixlLngpLHQueT15KG4sZS55KSx0IT09ZSYmKHImJih0Lno9ZS56KSx1JiYodC5tPWUubSkpKSx0fWZ1bmN0aW9uIHEobix0LGUscix1KXtyZXR1cm4gbnVsbCE9ZSYmKHQucmluZ3M9YihuLGUucmluZ3Mscix1KSksdH1mdW5jdGlvbiB2KG4sdCxlLHIsdSl7cmV0dXJuIG51bGwhPWUmJih0LnBhdGhzPVAobixlLnBhdGhzLHIsdSkpLHR9ZXhwb3J0e2MgYXMgZXF1YWxzLEYgYXMgZ2V0UXVhbnRpemVkQm91bmRzQ29vcmRzQXJyYXksViBhcyBnZXRRdWFudGl6ZWRCb3VuZHNDb29yZHNBcnJheUFycmF5LF8gYXMgZ2V0UXVhbnRpemVkQm91bmRzUGF0aHMsWSBhcyBnZXRRdWFudGl6ZWRCb3VuZHNQb2ludHMsQSBhcyBnZXRRdWFudGl6ZWRCb3VuZHNSaW5ncyxoIGFzIHF1YW50aXplQm91bmRzLHcgYXMgcXVhbnRpemVFeHRlbnQsZCBhcyBxdWFudGl6ZUdlb21ldHJ5LEcgYXMgcXVhbnRpemVNdWx0aXBvaW50LE4gYXMgcXVhbnRpemVQYXRocyxMIGFzIHF1YW50aXplUG9pbnQsSSBhcyBxdWFudGl6ZVBvaW50cyxPIGFzIHF1YW50aXplUG9seWdvbixTIGFzIHF1YW50aXplUG9seWxpbmUsZyBhcyBxdWFudGl6ZVJpbmdzLHMgYXMgcXVhbnRpemVYLGYgYXMgcXVhbnRpemVZLG0gYXMgdG9RdWFudGl6YXRpb25UcmFuc2Zvcm0sTSBhcyB1bnF1YW50aXplQm91bmRzLHogYXMgdW5xdWFudGl6ZUNvb3Jkc0FycmF5LFQgYXMgdW5xdWFudGl6ZUNvb3Jkc0FycmF5QXJyYXksaiBhcyB1bnF1YW50aXplRXh0ZW50LFUgYXMgdW5xdWFudGl6ZU11bHRpcG9pbnQsUCBhcyB1bnF1YW50aXplUGF0aHMsayBhcyB1bnF1YW50aXplUG9pbnQsRSBhcyB1bnF1YW50aXplUG9pbnRzLHEgYXMgdW5xdWFudGl6ZVBvbHlnb24sdiBhcyB1bnF1YW50aXplUG9seWxpbmUsYiBhcyB1bnF1YW50aXplUmluZ3MscCBhcyB1bnF1YW50aXplWCx5IGFzIHVucXVhbnRpemVZfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7RWZmZWN0VmlldyBhcyBmfWZyb21cIi4vRWZmZWN0Vmlldy5qc1wiO2xldCBjPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9maWx0ZXI9bnVsbCx0aGlzLmR1cmF0aW9uPWhhcyhcIm1hcHZpZXctdHJhbnNpdGlvbnMtZHVyYXRpb25cIiksdGhpcy5fZXhjbHVkZWRFZmZlY3RWaWV3PW5ldyBmKGUpLHRoaXMuX2luY2x1ZGVkRWZmZWN0Vmlldz1uZXcgZihlKX1nZXQgZXhjbHVkZWRFZmZlY3RzKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy5lZmZlY3RzfXNldCBmZWF0dXJlRWZmZWN0KGUpe3RoaXMuX2dldChcImZlYXR1cmVFZmZlY3RcIikhPT1lJiZ0aGlzLl90cmFuc2l0aW9uVG8oZSl9Z2V0IGZpbHRlcigpe3JldHVybiB0aGlzLl9maWx0ZXJ8fHRoaXMuZmVhdHVyZUVmZmVjdD8uZmlsdGVyfHxudWxsfWdldCBoYXNFZmZlY3RzKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy5oYXNFZmZlY3RzfHx0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuaGFzRWZmZWN0c31nZXQgaW5jbHVkZWRFZmZlY3RzKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkRWZmZWN0Vmlldy5lZmZlY3RzfXNldCBzY2FsZShlKXt0aGlzLl9zZXQoXCJzY2FsZVwiLGUpLHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy5zY2FsZT1lLHRoaXMuX2luY2x1ZGVkRWZmZWN0Vmlldy5zY2FsZT1lfWdldCB0cmFuc2l0aW9uaW5nKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy50cmFuc2l0aW9uaW5nfHx0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcudHJhbnNpdGlvbmluZ310cmFuc2l0aW9uU3RlcChlLHQpe3RoaXMuX3NldChcInNjYWxlXCIsdCksdGhpcy50cmFuc2l0aW9uaW5nPyh0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcudHJhbnNpdGlvblN0ZXAoZSx0KSx0aGlzLl9leGNsdWRlZEVmZmVjdFZpZXcudHJhbnNpdGlvblN0ZXAoZSx0KSx0aGlzLnRyYW5zaXRpb25pbmd8fCh0aGlzLl9maWx0ZXI9bnVsbCkpOih0aGlzLl9leGNsdWRlZEVmZmVjdFZpZXcuc2NhbGU9dCx0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuc2NhbGU9dCl9ZW5kVHJhbnNpdGlvbnMoKXt0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuZW5kVHJhbnNpdGlvbnMoKSx0aGlzLl9leGNsdWRlZEVmZmVjdFZpZXcuZW5kVHJhbnNpdGlvbnMoKSx0aGlzLl9maWx0ZXI9bnVsbH1fdHJhbnNpdGlvblRvKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0KFwiZmVhdHVyZUVmZmVjdFwiKSxpPWUscz1pPy5pbmNsdWRlZEVmZmVjdCxmPWk/LmV4Y2x1ZGVkRWZmZWN0LGM9dGhpcy5faW5jbHVkZWRFZmZlY3RWaWV3LmNhblRyYW5zaXRpb25UbyhzKSYmdGhpcy5fZXhjbHVkZWRFZmZlY3RWaWV3LmNhblRyYW5zaXRpb25UbyhmKTt0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuZWZmZWN0PXMsdGhpcy5fZXhjbHVkZWRFZmZlY3RWaWV3LmVmZmVjdD1mLHRoaXMuX3NldChcImZlYXR1cmVFZmZlY3RcIixpKSx0aGlzLl9maWx0ZXI9aT8uZmlsdGVyfHx0Py5maWx0ZXJ8fG51bGwsY3x8dGhpcy5lbmRUcmFuc2l0aW9ucygpfX07ZShbaSgpXSxjLnByb3RvdHlwZSxcIl9maWx0ZXJcIix2b2lkIDApLGUoW2koKV0sYy5wcm90b3R5cGUsXCJfZXhjbHVkZWRFZmZlY3RWaWV3XCIsdm9pZCAwKSxlKFtpKCldLGMucHJvdG90eXBlLFwiX2luY2x1ZGVkRWZmZWN0Vmlld1wiLHZvaWQgMCksZShbaSgpXSxjLnByb3RvdHlwZSxcImR1cmF0aW9uXCIsdm9pZCAwKSxlKFtpKCldLGMucHJvdG90eXBlLFwiZXhjbHVkZWRFZmZlY3RzXCIsbnVsbCksZShbaSgpXSxjLnByb3RvdHlwZSxcImZlYXR1cmVFZmZlY3RcIixudWxsKSxlKFtpKCldLGMucHJvdG90eXBlLFwiZmlsdGVyXCIsbnVsbCksZShbaSgpXSxjLnByb3RvdHlwZSxcImhhc0VmZmVjdHNcIixudWxsKSxlKFtpKCldLGMucHJvdG90eXBlLFwiaW5jbHVkZWRFZmZlY3RzXCIsbnVsbCksZShbaSh7dmFsdWU6MH0pXSxjLnByb3RvdHlwZSxcInNjYWxlXCIsbnVsbCksZShbaSgpXSxjLnByb3RvdHlwZSxcInRyYW5zaXRpb25pbmdcIixudWxsKSxjPWUoW3MoXCJlc3JpLmxheWVycy5lZmZlY3RzLkZlYXR1cmVFZmZlY3RWaWV3XCIpXSxjKTtjb25zdCByPWM7ZXhwb3J0e3IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtjb25zdCBuPW8ubGF5ZXI7aWYoXCJmbG9vckluZm9cImluIG4mJm4uZmxvb3JJbmZvPy5mbG9vckZpZWxkJiZcImZsb29yc1wiaW4gby52aWV3KXtyZXR1cm4gbChvLnZpZXcuZmxvb3JzLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpfXJldHVybiBudWxsfWZ1bmN0aW9uIG4obyxuKXtyZXR1cm5cImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQ/bChvLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpOm51bGx9ZnVuY3Rpb24gbChvLG4pe2lmKCFvPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD1vLmZpbHRlcigobz0+XCJcIiE9PW8pKS5tYXAoKG89PmAnJHtvfSdgKSk7cmV0dXJuIGwucHVzaChcIicnXCIpLGAke259IElOICgke2wuam9pbihcIixcIil9KSBPUiAke259IElTIE5VTExgfWV4cG9ydHtvIGFzIGdldEZsb29yRmlsdGVyQ2xhdXNlLG4gYXMgZ2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vQWdncmVnYXRlR3JhcGhpYy5qc1wiO2ltcG9ydFwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBhIGZyb21cIi4vRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtsZXQgYz1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuZmVhdHVyZXM9W119cmVhZEZlYXR1cmVzKGUsdCl7Y29uc3Qgbz1wLmZyb21KU09OKHQuc3BhdGlhbFJlZmVyZW5jZSkscz1bXTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3QgdD1lW2FdLHA9ci5mcm9tSlNPTih0KSxjPXQuZ2VvbWV0cnkmJnQuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZTtudWxsPT1wLmdlb21ldHJ5fHxjfHwocC5nZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlPW8pO2NvbnN0IGk9dC5hZ2dyZWdhdGVHZW9tZXRyaWVzLG09cC5hZ2dyZWdhdGVHZW9tZXRyaWVzO2lmKGkmJm51bGwhPW0pZm9yKGNvbnN0IGUgaW4gbSl7Y29uc3Qgcj1tW2VdLHQ9aVtlXSxzPXQ/LnNwYXRpYWxSZWZlcmVuY2U7bnVsbD09cnx8c3x8KHIuc3BhdGlhbFJlZmVyZW5jZT1vKX1zLnB1c2gocCl9cmV0dXJuIHN9fTtlKFt0KHt0eXBlOltyXSxqc29uOnt3cml0ZTohMH19KV0sYy5wcm90b3R5cGUsXCJmZWF0dXJlc1wiLHZvaWQgMCksZShbbyhcImZlYXR1cmVzXCIpXSxjLnByb3RvdHlwZSxcInJlYWRGZWF0dXJlc1wiLG51bGwpLGM9ZShbcyhcImVzcmkucmVzdC5zdXBwb3J0LkFnZ3JlZ2F0ZUZlYXR1cmVTZXRcIildLGMpO2NvbnN0IGk9YztleHBvcnR7aSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YXBwbHlTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBlLG9uQWJvcnRPclRocm93IGFzIHMsdGhyb3dJZk5vdEFib3J0RXJyb3IgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtnIGFzIHIsaCxyIGFzIG8sbCBhcyB1LG0gYXMgYX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvbWF0My5qc1wiO2ltcG9ydHtjIGFzIG59ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL21hdDNmMzIuanNcIjtpbXBvcnR7ZiBhcyBkfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMyZjMyLmpzXCI7aW1wb3J0e0Rpc3BsYXlPYmplY3QgYXMgbH1mcm9tXCIuL0Rpc3BsYXlPYmplY3QuanNcIjtpbXBvcnQgYyBmcm9tXCIuL0ltYWdlcnlCaXRtYXBTb3VyY2UuanNcIjtpbXBvcnR7Q29udGV4dFR5cGUgYXMgX31mcm9tXCIuLi8uLi93ZWJnbC9jb250ZXh0VXRpbHMuanNcIjtpbXBvcnR7U2l6ZWRQaXhlbEZvcm1hdCBhcyBwLFBpeGVsRm9ybWF0IGFzIG0sVGV4dHVyZVdyYXBNb2RlIGFzIHh9ZnJvbVwiLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyBnfWZyb21cIi4uLy4uL3dlYmdsL1RleHR1cmUuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgZn1mcm9tXCIuLi8uLi93ZWJnbC9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2Z1bmN0aW9uIHcodCl7cmV0dXJuIHQmJlwicmVuZGVyXCJpbiB0fWZ1bmN0aW9uIGIodCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiBlLndpZHRoPXQud2lkdGgsZS5oZWlnaHQ9dC5oZWlnaHQsdC5yZW5kZXIoZS5nZXRDb250ZXh0KFwiMmRcIikpLGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4gdyhlKT9lIGluc3RhbmNlb2YgYz90KGUuZ2V0UmVuZGVyZWRSYXN0ZXJQaXhlbHMoKSwodD0+dC5yZW5kZXJlZFJhc3RlclBpeGVscykpOmIoZSk6ZX1jbGFzcyBUIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcih0PW51bGwsZT0hMSl7c3VwZXIoKSx0aGlzLmJsZW5kRnVuY3Rpb249XCJzdGFuZGFyZFwiLHRoaXMuX3NvdXJjZVdpZHRoPTAsdGhpcy5fc291cmNlSGVpZ2h0PTAsdGhpcy5fdGV4dHVyZUludmFsaWRhdGVkPSExLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLnN0ZW5jaWxSZWY9MCx0aGlzLmNvb3JkU2NhbGU9WzEsMV0sdGhpcy5faGVpZ2h0PXZvaWQgMCx0aGlzLnBpeGVsUmF0aW89MSx0aGlzLnJlc29sdXRpb249MCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5fc291cmNlPW51bGwsdGhpcy5fd2lkdGg9dm9pZCAwLHRoaXMueD0wLHRoaXMueT0wLHRoaXMuaW1tdXRhYmxlPWUsdGhpcy5zb3VyY2U9dCx0aGlzLnJlcXVlc3RSZW5kZXI9dGhpcy5yZXF1ZXN0UmVuZGVyLmJpbmQodGhpcyl9ZGVzdHJveSgpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlPW51bGwpLG51bGwhPXRoaXMuX3VwbG9hZFN0YXR1cyYmKHRoaXMuX3VwbG9hZFN0YXR1cy5jb250cm9sbGVyLmFib3J0KCksdGhpcy5fdXBsb2FkU3RhdHVzPW51bGwpfWdldCBpc1NvdXJjZVNjYWxlZCgpe3JldHVybiB0aGlzLndpZHRoIT09dGhpcy5fc291cmNlV2lkdGh8fHRoaXMuaGVpZ2h0IT09dGhpcy5fc291cmNlSGVpZ2h0fWdldCBoZWlnaHQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5faGVpZ2h0P3RoaXMuX2hlaWdodDp0aGlzLl9zb3VyY2VIZWlnaHR9c2V0IGhlaWdodCh0KXt0aGlzLl9oZWlnaHQ9dH1nZXQgc291cmNlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX1zZXQgc291cmNlKHQpe251bGw9PXQmJm51bGw9PXRoaXMuX3NvdXJjZXx8KHRoaXMuX3NvdXJjZT10LHRoaXMuaW52YWxpZGF0ZVRleHR1cmUoKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSl9Z2V0IHdpZHRoKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3dpZHRoP3RoaXMuX3dpZHRoOnRoaXMuX3NvdXJjZVdpZHRofXNldCB3aWR0aCh0KXt0aGlzLl93aWR0aD10fWJlZm9yZVJlbmRlcih0KXtzdXBlci5iZWZvcmVSZW5kZXIodCksdGhpcy51cGRhdGVUZXh0dXJlKHQpfWFzeW5jIHNldFNvdXJjZUFzeW5jKHQsaSl7bnVsbCE9dGhpcy5fdXBsb2FkU3RhdHVzJiZ0aGlzLl91cGxvYWRTdGF0dXMuY29udHJvbGxlci5hYm9ydCgpO2NvbnN0IHI9bmV3IEFib3J0Q29udHJvbGxlcixoPWUoKTtyZXR1cm4gcyhpLCgoKT0+ci5hYm9ydCgpKSkscyhyLCh0PT5oLnJlamVjdCh0KSkpLHRoaXMuX3VwbG9hZFN0YXR1cz17Y29udHJvbGxlcjpyLHJlc29sdmVyOmh9LHRoaXMuc291cmNlPXQsaC5wcm9taXNlfWludmFsaWRhdGVUZXh0dXJlKCl7dGhpcy5fdGV4dHVyZUludmFsaWRhdGVkfHwodGhpcy5fdGV4dHVyZUludmFsaWRhdGVkPSEwLHRoaXMuX3NvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/KHRoaXMuX3NvdXJjZUhlaWdodD10aGlzLl9zb3VyY2UubmF0dXJhbEhlaWdodCx0aGlzLl9zb3VyY2VXaWR0aD10aGlzLl9zb3VyY2UubmF0dXJhbFdpZHRoKTp0aGlzLl9zb3VyY2UmJih0aGlzLl9zb3VyY2VIZWlnaHQ9dGhpcy5fc291cmNlLmhlaWdodCx0aGlzLl9zb3VyY2VXaWR0aD10aGlzLl9zb3VyY2Uud2lkdGgpKX11cGRhdGVUcmFuc2l0aW9uUHJvcGVydGllcyh0LGUpe3Q+PTY0JiYodGhpcy5mYWRlVHJhbnNpdGlvbkVuYWJsZWQ9ITEsdGhpcy5pbkZhZGVUcmFuc2l0aW9uPSExKSxzdXBlci51cGRhdGVUcmFuc2l0aW9uUHJvcGVydGllcyh0LGUpfXNldFRyYW5zZm9ybSh0KXtjb25zdCBlPXIodGhpcy50cmFuc2Zvcm1zLmR2cyksW3MsaV09dC50b1NjcmVlbk5vUm90YXRpb24oWzAsMF0sW3RoaXMueCx0aGlzLnldKSxuPXRoaXMucmVzb2x1dGlvbi90aGlzLnBpeGVsUmF0aW8vdC5yZXNvbHV0aW9uLGw9bip0aGlzLndpZHRoLGM9bip0aGlzLmhlaWdodCxfPU1hdGguUEkqdGhpcy5yb3RhdGlvbi8xODA7aChlLGUsZChzLGkpKSxoKGUsZSxkKGwvMixjLzIpKSxvKGUsZSwtXyksaChlLGUsZCgtbC8yLC1jLzIpKSx1KGUsZSxkKGwsYykpLGEodGhpcy50cmFuc2Zvcm1zLmR2cyx0LmRpc3BsYXlWaWV3TWF0MyxlKX1zZXRTYW1wbGluZ1Byb2ZpbGUodCl7dGhpcy5fdGV4dHVyZSYmKHQubWlwcyYmIXRoaXMuX3RleHR1cmUuZGVzY3JpcHRvci5oYXNNaXBtYXAmJnRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBtYXAoKSx0aGlzLl90ZXh0dXJlLnNldFNhbXBsaW5nTW9kZSh0LnNhbXBsaW5nTW9kZSkpfWJpbmQodCxlKXt0aGlzLl90ZXh0dXJlJiZ0LmJpbmRUZXh0dXJlKHRoaXMuX3RleHR1cmUsZSl9YXN5bmMgdXBkYXRlVGV4dHVyZSh7Y29udGV4dDp0LHBhaW50ZXI6ZX0pe2lmKCF0aGlzLl90ZXh0dXJlSW52YWxpZGF0ZWQpcmV0dXJuO2lmKHRoaXMuX3RleHR1cmVJbnZhbGlkYXRlZD0hMSx0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlKHQpKSwhdGhpcy5zb3VyY2UpcmV0dXJuIHZvaWQgdGhpcy5fdGV4dHVyZS5zZXREYXRhKG51bGwpO3RoaXMuX3RleHR1cmUucmVzaXplKHRoaXMuX3NvdXJjZVdpZHRoLHRoaXMuX3NvdXJjZUhlaWdodCk7Y29uc3Qgcz12KHRoaXMuc291cmNlKTt0cnl7aWYobnVsbCE9dGhpcy5fdXBsb2FkU3RhdHVzKXtjb25zdHtjb250cm9sbGVyOnQscmVzb2x2ZXI6aX09dGhpcy5fdXBsb2FkU3RhdHVzLHI9e3NpZ25hbDp0LnNpZ25hbH0se3dpZHRoOmgsaGVpZ2h0Om99PXRoaXMsdT10aGlzLl90ZXh0dXJlLGE9ZS50ZXh0dXJlVXBsb2FkTWFuYWdlcjthd2FpdCBhLmVucXVldWVUZXh0dXJlVXBkYXRlKHtkYXRhOnMsdGV4dHVyZTp1LHdpZHRoOmgsaGVpZ2h0Om99LHIpLGkucmVzb2x2ZSgpLHRoaXMuX3VwbG9hZFN0YXR1cz1udWxsfWVsc2UgdGhpcy5fdGV4dHVyZS5zZXREYXRhKHMpO3RoaXMucmVhZHkoKX1jYXRjaChyKXtpKHIpfX1vbkRldGFjaCgpe3RoaXMuZGVzdHJveSgpfV9jcmVhdGVUcmFuc2Zvcm1zKCl7cmV0dXJue2R2czpuKCl9fV9jcmVhdGVUZXh0dXJlKHQpe2NvbnN0IGU9dGhpcy5pbW11dGFibGUmJnQudHlwZT09PV8uV0VCR0wyLHM9bmV3IGY7cmV0dXJuIHMuaW50ZXJuYWxGb3JtYXQ9ZT9wLlJHQkE4Om0uUkdCQSxzLndyYXBNb2RlPXguQ0xBTVBfVE9fRURHRSxzLmlzSW1tdXRhYmxlPWUscy53aWR0aD10aGlzLl9zb3VyY2VXaWR0aCxzLmhlaWdodD10aGlzLl9zb3VyY2VIZWlnaHQsbmV3IGcodCxzKX19ZXhwb3J0e1QgYXMgQml0bWFwLHcgYXMgaXNJbWFnZVNvdXJjZSxiIGFzIHJhc3Rlcml6ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2MgYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvbWF0M2YzMi5qc1wiO2ltcG9ydHtCaXRtYXAgYXMgZX1mcm9tXCIuL0JpdG1hcC5qc1wiO2ltcG9ydHtUaWxlZERpc3BsYXlPYmplY3QgYXMgc31mcm9tXCIuL3dlYmdsL1RpbGVkRGlzcGxheU9iamVjdC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHQscyxyLGksYSxuLG09bnVsbCl7c3VwZXIodCxzLHIsaSxhLG4pLHRoaXMuYml0bWFwPW5ldyBlKG0pLHRoaXMuYml0bWFwLmNvb3JkU2NhbGU9W2Esbl0sdGhpcy5iaXRtYXAub25jZShcImlzUmVhZHlcIiwoKCk9PnRoaXMucmVhZHkoKSkpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5iaXRtYXAuZGVzdHJveSgpfWJlZm9yZVJlbmRlcih0KXtzdXBlci5iZWZvcmVSZW5kZXIodCksdGhpcy5iaXRtYXAuYmVmb3JlUmVuZGVyKHQpfWFmdGVyUmVuZGVyKHQpe3N1cGVyLmFmdGVyUmVuZGVyKHQpLHRoaXMuYml0bWFwLmFmdGVyUmVuZGVyKHQpfXNldCBzdGVuY2lsUmVmKHQpe3RoaXMuYml0bWFwLnN0ZW5jaWxSZWY9dH1nZXQgc3RlbmNpbFJlZigpe3JldHVybiB0aGlzLmJpdG1hcC5zdGVuY2lsUmVmfV9jcmVhdGVUcmFuc2Zvcm1zKCl7cmV0dXJue2R2czp0KCksdGlsZU1hdDM6dCgpfX1zZXRUcmFuc2Zvcm0odCl7c3VwZXIuc2V0VHJhbnNmb3JtKHQpLHRoaXMuYml0bWFwLnRyYW5zZm9ybXMuZHZzPXRoaXMudHJhbnNmb3Jtcy5kdnN9b25BdHRhY2goKXt0aGlzLmJpdG1hcC5zdGFnZT10aGlzLnN0YWdlfW9uRGV0YWNoKCl7dGhpcy5iaXRtYXAmJih0aGlzLmJpdG1hcC5zdGFnZT1udWxsKX19ZXhwb3J0e3IgYXMgQml0bWFwVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyBlfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Qml0bWFwVGlsZSBhcyBpfWZyb21cIi4vQml0bWFwVGlsZS5qc1wiO2ltcG9ydHticnVzaGVzIGFzIHJ9ZnJvbVwiLi9icnVzaGVzLmpzXCI7aW1wb3J0e1dHTERyYXdQaGFzZSBhcyB0fWZyb21cIi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnQgcyBmcm9tXCIuL3dlYmdsL1RpbGVDb250YWluZXIuanNcIjtjbGFzcyBuIGV4dGVuZHMgc3tnZXQgcmVxdWlyZXNEZWRpY2F0ZWRGQk8oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5zb21lKChlPT5cImFkZGl0aXZlXCI9PT1lLmJpdG1hcC5ibGVuZEZ1bmN0aW9uKSl9Y3JlYXRlVGlsZShyKXtjb25zdCB0PXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlQm91bmRzKGUoKSxyKSxzPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihyLmxldmVsKSxbbixvXT10aGlzLl90aWxlSW5mb1ZpZXcudGlsZUluZm8uc2l6ZTtyZXR1cm4gbmV3IGkocixzLHRbMF0sdFszXSxuLG8pfXByZXBhcmVSZW5kZXJQYXNzZXMoZSl7Y29uc3QgaT1lLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcImJpdG1hcCAodGlsZSlcIixicnVzaGVzOltyLmJpdG1hcF0sdGFyZ2V0OigpPT50aGlzLmNoaWxkcmVuLm1hcCgoZT0+ZS5iaXRtYXApKSxkcmF3UGhhc2U6dC5NQVB9KTtyZXR1cm5bLi4uc3VwZXIucHJlcGFyZVJlbmRlclBhc3NlcyhlKSxpXX1kb1JlbmRlcihlKXt0aGlzLnZpc2libGUmJmUuZHJhd1BoYXNlPT09dC5NQVAmJnN1cGVyLmRvUmVuZGVyKGUpfX1leHBvcnR7biBhcyBCaXRtYXBUaWxlQ29udGFpbmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlUmVzb2x2ZXIgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvUXVldWUuanNcIjtpbXBvcnR7QXR0cmlidXRlU3RvcmVWaWV3IGFzIHJ9ZnJvbVwiLi93ZWJnbC9BdHRyaWJ1dGVTdG9yZVZpZXcuanNcIjtpbXBvcnQgcyBmcm9tXCIuL3dlYmdsL1RpbGVDb250YWluZXIuanNcIjtpbXBvcnR7V0dMUmVuZGVyZXJJbmZvIGFzIGl9ZnJvbVwiLi93ZWJnbC9XR0xSZW5kZXJlckluZm8uanNcIjtjbGFzcyBvIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9yZW5kZXJlckluZm89bmV3IGksdGhpcy5fbWF0ZXJpYWxJdGVtc1JlcXVlc3RRdWV1ZT1uZXcgdCx0aGlzLmF0dHJpYnV0ZVZpZXc9bmV3IHIoKCgpPT50aGlzLm9uQXR0cmlidXRlU3RvcmVVcGRhdGUoKSkpfWRlc3Ryb3koKXt0aGlzLmNoaWxkcmVuLmZvckVhY2goKGU9PmUuZGVzdHJveSgpKSksdGhpcy5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMuYXR0cmlidXRlVmlldy5kZXN0cm95KCksdGhpcy5fbWF0ZXJpYWxJdGVtc1JlcXVlc3RRdWV1ZS5jbGVhcigpfXNldFJlbmRlcmVySW5mbyhlLHQscil7dGhpcy5fcmVuZGVyZXJJbmZvLnNldEluZm8oZSx0LHIpLHRoaXMucmVxdWVzdFJlbmRlcigpfWFzeW5jIGdldE1hdGVyaWFsSXRlbXModCxyKXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybltdO2NvbnN0IHM9ZSgpO3JldHVybiB0aGlzLl9tYXRlcmlhbEl0ZW1zUmVxdWVzdFF1ZXVlLnB1c2goe2l0ZW1zOnQsYWJvcnRPcHRpb25zOnIscmVzb2x2ZXI6c30pLHRoaXMucmVxdWVzdFJlbmRlcigpLHMucHJvbWlzZX1kb1JlbmRlcihlKXtpZihlLmNvbnRleHQuY2FwYWJpbGl0aWVzLmVuYWJsZShcInRleHR1cmVGbG9hdFwiKSxlLmNvbnRleHQuY2FwYWJpbGl0aWVzLmVuYWJsZShcInZhb1wiKSx0aGlzLl9tYXRlcmlhbEl0ZW1zUmVxdWVzdFF1ZXVlLmxlbmd0aD4wKXtsZXQgdD10aGlzLl9tYXRlcmlhbEl0ZW1zUmVxdWVzdFF1ZXVlLnBvcCgpO2Zvcig7dDspdGhpcy5fcHJvY2Vzc01hdGVyaWFsSXRlbVJlcXVlc3QoZSx0KSx0PXRoaXMuX21hdGVyaWFsSXRlbXNSZXF1ZXN0UXVldWUucG9wKCl9c3VwZXIuZG9SZW5kZXIoZSl9cmVuZGVyQ2hpbGRyZW4oZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jaGlsZHJlbil0LmNvbW1pdChlKTt0aGlzLl9yZW5kZXJlckluZm8udXBkYXRlKGUuc3RhdGUpLHN1cGVyLnJlbmRlckNoaWxkcmVuKGUpfXVwZGF0ZVRyYW5zZm9ybXMoZSl7aWYodGhpcy5jaGlsZHJlbi5zb21lKChlPT5lLmhhc0RhdGEpKSlmb3IoY29uc3QgdCBvZiB0aGlzLmNoaWxkcmVuKXQuc2V0VHJhbnNmb3JtKGUpfWNyZWF0ZVJlbmRlclBhcmFtcyhlKXtjb25zdCB0PXN1cGVyLmNyZWF0ZVJlbmRlclBhcmFtcyhlKTtyZXR1cm4gdC5yZW5kZXJlckluZm89dGhpcy5fcmVuZGVyZXJJbmZvLHQuYXR0cmlidXRlVmlldz10aGlzLmF0dHJpYnV0ZVZpZXcsdH1vbkF0dHJpYnV0ZVN0b3JlVXBkYXRlKCl7fV9wcm9jZXNzTWF0ZXJpYWxJdGVtUmVxdWVzdChlLHtpdGVtczp0LGFib3J0T3B0aW9uczpyLHJlc29sdmVyOnN9KXtjb25zdHtwYWludGVyOmkscGl4ZWxSYXRpbzpvfT1lLGE9dC5tYXAoKGU9PmkudGV4dHVyZU1hbmFnZXIucmFzdGVyaXplSXRlbShlLnN5bWJvbCxvLGUuZ2x5cGhJZHMscikpKTtQcm9taXNlLmFsbChhKS50aGVuKChlPT57aWYoIXRoaXMuc3RhZ2UpcmV0dXJuIHZvaWQgcy5yZWplY3QoKTtjb25zdCByPWUubWFwKCgoZSxyKT0+KHtpZDp0W3JdLmlkLG1vc2FpY0l0ZW06ZX0pKSk7cy5yZXNvbHZlKHIpfSkscy5yZWplY3QpfX1leHBvcnR7byBhcyBGZWF0dXJlQ29udGFpbmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBse2NvbnN0cnVjdG9yKGwsZSx0KXt0aGlzLnBpeGVsQmxvY2s9bCx0aGlzLmV4dGVudD1lLHRoaXMub3JpZ2luYWxQaXhlbEJsb2NrPXR9Z2V0IHdpZHRoKCl7cmV0dXJuIG51bGwhPXRoaXMucGl4ZWxCbG9jaz90aGlzLnBpeGVsQmxvY2sud2lkdGg6MH1nZXQgaGVpZ2h0KCl7cmV0dXJuIG51bGwhPXRoaXMucGl4ZWxCbG9jaz90aGlzLnBpeGVsQmxvY2suaGVpZ2h0OjB9cmVuZGVyKGwpe2NvbnN0IGU9dGhpcy5waXhlbEJsb2NrO2lmKG51bGw9PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5maWx0ZXIoe2V4dGVudDp0aGlzLmV4dGVudCxwaXhlbEJsb2NrOnRoaXMub3JpZ2luYWxQaXhlbEJsb2NrPz9lfSk7aWYobnVsbD09dC5waXhlbEJsb2NrKXJldHVybjt0LnBpeGVsQmxvY2subWFza0lzQWxwaGEmJih0LnBpeGVsQmxvY2sucHJlbXVsdGlwbHlBbHBoYT0hMCk7Y29uc3QgaT10LnBpeGVsQmxvY2suZ2V0QXNSR0JBKCksaD1sLmNyZWF0ZUltYWdlRGF0YSh0LnBpeGVsQmxvY2sud2lkdGgsdC5waXhlbEJsb2NrLmhlaWdodCk7aC5kYXRhLnNldChpKSxsLnB1dEltYWdlRGF0YShoLDAsMCl9Z2V0UmVuZGVyZWRSYXN0ZXJQaXhlbHMoKXtjb25zdCBsPXRoaXMuZmlsdGVyKHtleHRlbnQ6dGhpcy5leHRlbnQscGl4ZWxCbG9jazp0aGlzLnBpeGVsQmxvY2t9KTtyZXR1cm4gbnVsbD09bC5waXhlbEJsb2NrP251bGw6KGwucGl4ZWxCbG9jay5tYXNrSXNBbHBoYSYmKGwucGl4ZWxCbG9jay5wcmVtdWx0aXBseUFscGhhPSEwKSx7d2lkdGg6bC5waXhlbEJsb2NrLndpZHRoLGhlaWdodDpsLnBpeGVsQmxvY2suaGVpZ2h0LHJlbmRlcmVkUmFzdGVyUGl4ZWxzOm5ldyBVaW50OEFycmF5KGwucGl4ZWxCbG9jay5nZXRBc1JHQkEoKS5idWZmZXIpfSl9fWV4cG9ydHtsIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7dW53cmFwT3JUaHJvdyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RnJlZUxpc3QgYXMgZX1mcm9tXCIuL2NwdU1hcHBlZC9GcmVlTGlzdC5qc1wiO2NvbnN0IHM9aGFzKFwiZXNyaS0yZC1sb2ctYWxsb2NhdGlvbnNcIik7Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2FycmF5PXQsdGhpcy5fcG9vbD1lfWdldCBhcnJheSgpe3JldHVybiB0aGlzLl9hcnJheX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2FycmF5Lmxlbmd0aH1zdGF0aWMgY3JlYXRlKHQsZSl7Y29uc3Qgcz1lLmFjcXVpcmUodCk7cmV0dXJuIG5ldyByKHMsZSl9ZXhwYW5kKHQpe2NvbnN0IGU9dGhpcy5fcG9vbC5hY3F1aXJlKHQpO2Uuc2V0KHRoaXMuX2FycmF5KSx0aGlzLl9wb29sLnJlbGVhc2UodGhpcy5fYXJyYXkpLHRoaXMuX2FycmF5PWV9ZGVzdHJveSgpe3RoaXMuX3Bvb2wucmVsZWFzZSh0aGlzLl9hcnJheSl9c2V0KHQsZSl7dGhpcy5fYXJyYXkuc2V0KHQuX2FycmF5LGUpfXNsaWNlKCl7Y29uc3QgdD10aGlzLl9wb29sLmFjcXVpcmUodGhpcy5fYXJyYXkuYnl0ZUxlbmd0aCk7cmV0dXJuIHQuc2V0KHRoaXMuX2FycmF5KSxuZXcgcih0LHRoaXMuX3Bvb2wpfX1jbGFzcyBhe2NvbnN0cnVjdG9yKCl7dGhpcy5fZGF0YT1uZXcgQXJyYXlCdWZmZXIoYS5CWVRFX0xFTkdUSCksdGhpcy5fZnJlZUxpc3Q9bmV3IGUoe3N0YXJ0OjAsZW5kOnRoaXMuX2RhdGEuYnl0ZUxlbmd0aH0pfXN0YXRpYyBnZXQgQllURV9MRU5HVEgoKXtyZXR1cm4gNjRlNn1nZXQgYnVmZmVyKCl7cmV0dXJuIHRoaXMuX2RhdGF9YWxsb2NhdGUodCl7Y29uc3QgZT10aGlzLl9mcmVlTGlzdC5maXJzdEZpdCh0KTtyZXR1cm4gbnVsbD09ZT9udWxsOm5ldyBVaW50MzJBcnJheSh0aGlzLl9kYXRhLGUsdC9VaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCl9ZnJlZSh0KXt0aGlzLl9mcmVlTGlzdC5mcmVlKHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfX1jbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5fYnl0ZXNBbGxvY2F0ZWQ9MCx0aGlzLl9wYWdlcz1bXSx0aGlzLl9wYWdlc0J5QnVmZmVyPW5ldyBNYXAsdGhpcy5fYWRkUGFnZSgpfWRlc3Ryb3koKXt0aGlzLl9wYWdlcz1bXSx0aGlzLl9wYWdlc0J5QnVmZmVyPW51bGx9Z2V0IF9ieXRlc1RvdGFsKCl7cmV0dXJuIHRoaXMuX3BhZ2VzLmxlbmd0aCphLkJZVEVfTEVOR1RIfWFjcXVpcmUoZSl7aWYodGhpcy5fYnl0ZXNBbGxvY2F0ZWQrPWUscyYmY29uc29sZS5sb2coYEFsbG9jYXRpbmcgJHtlfSwgKCR7dGhpcy5fYnl0ZXNBbGxvY2F0ZWR9IC8gJHt0aGlzLl9ieXRlc1RvdGFsfSlgKSxlPmEuQllURV9MRU5HVEgpcmV0dXJuIG5ldyBVaW50MzJBcnJheShlL1VpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wYWdlcyl7Y29uc3Qgcz10LmFsbG9jYXRlKGUpO2lmKG51bGwhPXMpcmV0dXJuIHN9cmV0dXJuIHQodGhpcy5fYWRkUGFnZSgpLmFsbG9jYXRlKGUpLFwiRXhwZWN0ZWQgdG8gYWxsb2NhdGUgcGFnZVwiKX1yZWxlYXNlKHQpe3RoaXMuX2J5dGVzQWxsb2NhdGVkLT10LmJ5dGVMZW5ndGgscyYmY29uc29sZS5sb2coYEZyZWVpbmcgJHt0LmJ5dGVMZW5ndGh9LCAoJHt0aGlzLl9ieXRlc0FsbG9jYXRlZH0gLyAke3RoaXMuX2J5dGVzVG90YWx9KWApO2NvbnN0IGU9dGhpcy5fcGFnZXNCeUJ1ZmZlci5nZXQodC5idWZmZXIpO2UmJmUuZnJlZSh0KX1fYWRkUGFnZSgpe2NvbnN0IHQ9bmV3IGE7cmV0dXJuIHRoaXMuX3BhZ2VzLnB1c2godCksdGhpcy5fcGFnZXNCeUJ1ZmZlci5zZXQodC5idWZmZXIsdCksdH19ZXhwb3J0e2kgYXMgQnVmZmVyUG9vbCxyIGFzIFR5cGVkQnVmZmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0NpcmN1bGFyQXJyYXkuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0MmRmMzIuanNcIjtpbXBvcnR7V0dMR2VvbWV0cnlUeXBlIGFzIHJ9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtmb3JFYWNoR2VvbWV0cnlUeXBlIGFzIHN9ZnJvbVwiLi9VdGlscy5qc1wiO2ltcG9ydHtXR0xUaWxlIGFzIGl9ZnJvbVwiLi9XR0xUaWxlLmpzXCI7aW1wb3J0e01ldHJpY1JlYWRlciBhcyBhfWZyb21cIi4vY29sbGlzaW9ucy9NZXRyaWNSZWFkZXIuanNcIjtpbXBvcnR7R2VvbWV0cnkgYXMgbn1mcm9tXCIuL2NwdU1hcHBlZC9HZW9tZXRyeS5qc1wiO2NvbnN0IGg9NTAsZD00LG89MTAwO2xldCB1PTA7Y2xhc3MgYyBleHRlbmRzIGl7Y29uc3RydWN0b3IocixzLGksYSxuLGgpe3N1cGVyKHIscyxpLGEpLHRoaXMuaW5zdGFuY2VJZD11KyssdGhpcy5wYXRjaENvdW50PTAsdGhpcy5fcmVuZGVyU3RhdGU9e2N1cnJlbnQ6e2dlb21ldHJ5Om5ldyBNYXAsbWV0cmljczpudWxsfSxuZXh0Om51bGwsc3dhcDohMSxzd2FwRnJhbWVzOjAsbG9ja2VkOiExfSx0aGlzLl9wYXRjaGVzPW5ldyBlKG8pLHRoaXMuX2J1ZmZlclBhdGNoZXM9bmV3IGUobyksdGhpcy5fbGFzdENvbW1pdFRpbWU9MCx0aGlzLnRyYW5zZm9ybXMubGFiZWxNYXQyZD10KCksdGhpcy5fc3RvcmU9bix0aGlzLl9yZXF1ZXN0TGFiZWxVcGRhdGU9aH1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnQuZ2VvbWV0cnkuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSxudWxsIT10aGlzLl9yZW5kZXJTdGF0ZS5uZXh0JiZ0aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Lmdlb21ldHJ5LmZvckVhY2goKGU9PmUuZGVzdHJveSgpKSksdGhpcy5fcmVuZGVyU3RhdGUuY3VycmVudD1udWxsLHRoaXMuX3JlbmRlclN0YXRlLm5leHQ9bnVsbH1nZXQgbGFiZWxNZXRyaWNzKCl7cmV0dXJuIHRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnQubWV0cmljc31nZXQgaGFzRGF0YSgpe3JldHVybiEhdGhpcy5fcmVuZGVyU3RhdGUuY3VycmVudC5nZW9tZXRyeS5zaXplfWdldCB1cGRhdGVTdGF0dXMoKXtyZXR1cm5gcmVuZGVyU3RhdGU6JHshIXRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnR9LCAkeyEhdGhpcy5fcmVuZGVyU3RhdGUubmV4dH0sIGhhc0RhdGE6JHt0aGlzLmhhc0RhdGF9LCBxdWV1ZToke3RoaXMuX3BhdGNoZXMuc2l6ZX1gfWdldEdlb21ldHJ5KGUpe3JldHVybiB0aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50Lmdlb21ldHJ5LmdldChlKX1wYXRjaChlLHQpe3RoaXMucGF0Y2hDb3VudCsrLGUuY2xlYXImJnRoaXMuX3BhdGNoZXMuc2l6ZT49aCYmdGhpcy5fZHJvcFBhdGNoZXMoKTtjb25zdCByPWUscz1yLmFkZE9yVXBkYXRlJiZ0aGlzLmtleS5pZCE9PXIuYWRkT3JVcGRhdGUudGlsZUtleU9yaWdpbjt0JiZzP3RoaXMuX2J1ZmZlclBhdGNoZXMuZW5xdWV1ZShyKTooci5zb3J0PXIuc29ydCYmIXQsdGhpcy5fcGF0Y2hlcy5lbnF1ZXVlKHIpKSx0aGlzLnJlcXVlc3RSZW5kZXIoKX1jb21taXQoZSl7aWYodGhpcy5fbGFzdENvbW1pdFRpbWUhPT1lLnRpbWUpe3RoaXMuX2xhc3RDb21taXRUaW1lPWUudGltZTtmb3IobGV0IGU9MDtlPGQ7ZSsrKXRoaXMuX3VwZGF0ZU1lc2goKSx0aGlzLmlzUmVhZHkmJnRoaXMuX3VwZGF0ZUJ1ZmZlck1lc2goKTt0aGlzLl9yZW5kZXJTdGF0ZS5zd2FwJiYodGhpcy5fc3dhcFJlbmRlclN0YXRlcygpLHRoaXMucmVxdWVzdFJlbmRlcigpKX19bG9jaygpe3RoaXMuX3JlbmRlclN0YXRlLmxvY2tlZD0hMH11bmxvY2soKXt0aGlzLl9yZW5kZXJTdGF0ZS5sb2NrZWQ9ITEsdGhpcy5fZmx1c2hVcGRhdGVzKCksdGhpcy5fc3dhcCgpfV9zd2FwUmVuZGVyU3RhdGVzKCl7aWYodGhpcy5fcmVuZGVyU3RhdGUubmV4dCl7aWYodGhpcy5fcmVuZGVyU3RhdGUubG9ja2VkKXJldHVybiB0aGlzLl9yZW5kZXJTdGF0ZS5zd2FwPSEwLHZvaWQgdGhpcy5yZXF1ZXN0UmVuZGVyKCk7dGhpcy5fcmVuZGVyU3RhdGUuc3dhcD0hMCx0aGlzLl9zd2FwKCl9fV9zd2FwKCl7dGhpcy5fcmVuZGVyU3RhdGUuc3dhcCYmKHRoaXMuX3JlbmRlclN0YXRlLnN3YXA9ITEsbnVsbCE9dGhpcy5fcmVuZGVyU3RhdGUubmV4dCYmKHRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnQuZ2VvbWV0cnkuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50PXRoaXMuX3JlbmRlclN0YXRlLm5leHQsdGhpcy5fcmVuZGVyU3RhdGUubmV4dD1udWxsLHRoaXMuX3JlcXVlc3RMYWJlbFVwZGF0ZSgpKSl9X2ZsdXNoVXBkYXRlcygpe2xldCBlPXRoaXMuX3BhdGNoZXMubWF4U2l6ZTtmb3IoO3RoaXMuX3BhdGNoZXMuc2l6ZSYmZS0tOyl0aGlzLl91cGRhdGVNZXNoKCksdGhpcy5fc3dhcCgpfV91cGRhdGVCdWZmZXJNZXNoKCl7Y29uc3QgZT10aGlzLl9idWZmZXJQYXRjaGVzLnBlZWsoKTtpZihudWxsPT1lfHwhZS5jbGVhcnx8bnVsbD09PXRoaXMuX3JlbmRlclN0YXRlLm5leHQpZm9yKDt0aGlzLl9idWZmZXJQYXRjaGVzLnNpemU7KXtjb25zdCBlPXRoaXMuX2J1ZmZlclBhdGNoZXMuZGVxdWV1ZSgpO251bGwhPWUmJnRoaXMuX3BhdGNoQnVmZmVyKGUpfX1fdXBkYXRlTWVzaCgpe2NvbnN0IGU9dGhpcy5fcGF0Y2hlcy5kZXF1ZXVlKCk7aWYobnVsbCE9ZSl7aWYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikpe2NvbnN0IHQ9ZSxyPXQuYWRkT3JVcGRhdGU/LnRpbGVLZXlPcmlnaW4scz10aGlzLmtleS5pZD09PXI/XCJTRUxGXCI6cjtsZXQgaT1cIlwiO2ZvcihsZXQgZT0wO2U8NTtlKyspaSs9dC5hZGRPclVwZGF0ZT8uZGF0YVtlXT8ucmVjb3Jkcz8uYnl0ZUxlbmd0aD8xOjA7Y29uc29sZS5kZWJ1Zyh0aGlzLmtleS5pZCxcIkZlYXR1cmVUaWxlOnBhdGNoXCIsYFtjbGVhcjogJHt0LmNsZWFyfSBvcmlnaW46ICR7c30sIGVuZDoke3QuZW5kfSBkYXRhOiR7aX1dYCl9ITA9PT1lLmNsZWFyJiYobnVsbCE9dGhpcy5fcmVuZGVyU3RhdGUubmV4dCYmKHRoaXMuX3JlbmRlclN0YXRlLm5leHQuZ2VvbWV0cnkuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLl9yZW5kZXJTdGF0ZS5uZXh0PW51bGwpLHRoaXMuX3JlbmRlclN0YXRlLm5leHQ9e2dlb21ldHJ5Om5ldyBNYXAsbWV0cmljczpudWxsfSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1Zyh0aGlzLmtleS5pZCxcIkZlYXR1cmVUaWxlOl91cGRhdGVNZXNoIC0gQ3JlYXRpbmcgbmV3IHJlbmRlclN0YXRlXCIpKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSx0aGlzLl9wYXRjaChlKSxlLmVuZCYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKHRoaXMua2V5LmlkLFwiRmVhdHVyZVRpbGU6X3VwZGF0ZU1lc2ggLSBFbmNvdW50ZXJlZCBlbmQgbWVzc2FnZVwiKSx0aGlzLnJlYWR5KCksdGhpcy5fc3dhcFJlbmRlclN0YXRlcygpKX19X3BhdGNoKGUpe3MoKHQ9Pnt0aGlzLl9yZW1vdmUodCxlLnJlbW92ZSksdGhpcy5faW5zZXJ0KHQsZSwhMSl9KSl9X3BhdGNoQnVmZmVyKGUpe3MoKHQ9Pnt0aGlzLl9pbnNlcnQodCxlLCEwKX0pKX1faW5zZXJ0KGUsdCxzKXt0cnl7Y29uc3QgaT10aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Pz90aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50LGE9dC5hZGRPclVwZGF0ZT8uZGF0YVtlXSxoPWkuZ2VvbWV0cnk7aWYobnVsbD09YSlyZXR1cm47aC5oYXMoZSl8fChoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1Zyh0aGlzLmtleS5pZCxgRmVhdHVyZVRpbGU6X2luc2VydCAtIENyZWF0aW5nIGdlb21ldHJ5IGJ1ZmZlciAke2V9YCksaC5zZXQoZSxuZXcgbihlLHRoaXMuc3RhZ2UpKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcodGhpcy5rZXkuaWQsYEZlYXR1cmVUaWxlOl9pbnNlcnQgLSBJbnNlcnRpbmcgaW50byAke2V9LCB2ZXJzaW9uPSR7dC5hZGRPclVwZGF0ZT8udmVyc2lvbn0gc3RyaWRlPSR7YS5zdHJpZGV9YCksaC5nZXQoZSkuaW5zZXJ0KGEsdC5zb3J0LHMpLGU9PT1yLkxBQkVMJiZ0aGlzLl9pbnNlcnRMYWJlbE1ldHJpY3ModC50eXBlLGEubWV0cmljcyx0LmNsZWFyKX1jYXRjaChpKXt9fV9pbnNlcnRMYWJlbE1ldHJpY3MoZSx0LHIpe2NvbnN0IHM9dGhpcy5fcmVuZGVyU3RhdGUubmV4dD8/dGhpcy5fcmVuZGVyU3RhdGUuY3VycmVudDtpZihudWxsPT10KXJldHVybjtjb25zdCBpPWEuZnJvbSh0KTtpZihudWxsIT1zLm1ldHJpY3Mpe2lmKFwidXBkYXRlXCI9PT1lKXtjb25zdCBlPWkuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspcy5tZXRyaWNzLmRlbGV0ZShlLmlkKX1zLm1ldHJpY3MubGluayhpKX1lbHNlIHMubWV0cmljcz1pfV9yZW1vdmUoZSx0KXtjb25zdCByPSh0aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Pz90aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50KS5nZW9tZXRyeS5nZXQoZSk7dCYmdC5sZW5ndGgmJnImJihyLnJlbW92ZSh0KSx0aGlzLl9yZW1vdmVMYWJlbE1ldHJpY3ModCkpfV9yZW1vdmVMYWJlbE1ldHJpY3MoZSl7Y29uc3R7bWV0cmljczp0fT10aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Pz90aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50O2lmKG51bGwhPXQmJmUubGVuZ3RoKWZvcihjb25zdCByIG9mIGUpZm9yKDt0LmRlbGV0ZShyKTspO31fZHJvcFBhdGNoZXMoKXtjb25zdCBlPW5ldyBBcnJheTtsZXQgdD0hMTtmb3IoO3RoaXMuX3BhdGNoZXMuc2l6ZTspe2NvbnN0IHI9dGhpcy5fcGF0Y2hlcy5kZXF1ZXVlKCk7aWYobnVsbD09cilicmVhaztpZihyLmNsZWFyKXtpZih0KWJyZWFrO3Q9ITB9ZS5wdXNoKHIpfXRoaXMuX3BhdGNoZXMuY2xlYXIoKSxlLmZvckVhY2goKGU9PnRoaXMuX3BhdGNoZXMuZW5xdWV1ZShlKSkpfX1leHBvcnR7YyBhcyBGZWF0dXJlVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgZX1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9XR0xDb250YWluZXIuanNcIjtpbXBvcnQgcyBmcm9tXCIuL2JydXNoZXMvV0dMQnJ1c2hJbmZvLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9icnVzaGVzL1dHTEJydXNoU3RlbmNpbC5qc1wiO2NvbnN0IG49KGUscik9PmUua2V5LmxldmVsLXIua2V5LmxldmVsIT0wP2Uua2V5LmxldmVsLXIua2V5LmxldmVsOmUua2V5LnJvdy1yLmtleS5yb3chPTA/ZS5rZXkucm93LXIua2V5LnJvdzplLmtleS5jb2wtci5rZXkuY29sO2NsYXNzIGkgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fdGlsZUluZm9WaWV3PWV9Z2V0IHJlcXVpcmVzRGVkaWNhdGVkRkJPKCl7cmV0dXJuITF9cmVuZGVyQ2hpbGRyZW4oZSl7dGhpcy5zb3J0Q2hpbGRyZW4obiksdGhpcy5zZXRTdGVuY2lsUmVmZXJlbmNlKGUpLHN1cGVyLnJlbmRlckNoaWxkcmVuKGUpfWNyZWF0ZVJlbmRlclBhcmFtcyhlKXtjb25zdHtzdGF0ZTpyfT1lLHM9c3VwZXIuY3JlYXRlUmVuZGVyUGFyYW1zKGUpO3JldHVybiBzLnJlcXVpcmVkTGV2ZWw9dGhpcy5fdGlsZUluZm9WaWV3LmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoci5zY2FsZSkubGV2ZWwscy5kaXNwbGF5TGV2ZWw9dGhpcy5fdGlsZUluZm9WaWV3LnRpbGVJbmZvLnNjYWxlVG9ab29tKHIuc2NhbGUpLHN9cHJlcGFyZVJlbmRlclBhc3NlcyhyKXtjb25zdCBuPXN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMocik7cmV0dXJuIG4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInN0ZW5jaWxcIixicnVzaGVzOlt0XSxkcmF3UGhhc2U6ZS5ERUJVR3xlLk1BUHxlLkhJR0hMSUdIVCx0YXJnZXQ6KCk9PnRoaXMuZ2V0U3RlbmNpbFRhcmdldCgpfSkpLGhhcyhcImVzcmktdGlsZXMtZGVidWdcIikmJm4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInRpbGVJbmZvXCIsYnJ1c2hlczpbc10sZHJhd1BoYXNlOmUuREVCVUcsdGFyZ2V0OigpPT50aGlzLmNoaWxkcmVufSkpLG59Z2V0U3RlbmNpbFRhcmdldCgpe3JldHVybiB0aGlzLmNoaWxkcmVufXNldFN0ZW5jaWxSZWZlcmVuY2UoZSl7bGV0IHI9MTtmb3IoY29uc3QgcyBvZiB0aGlzLmNoaWxkcmVuKXMuc3RlbmNpbFJlZj1yKyt9fWV4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwdDJweCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7bWV0ZXJJbiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2xlbmd0aFV0aWxzLmpzXCI7aW1wb3J0e2lzRGVmaW5lZCBhcyBzLGlzTnVtYmVyIGFzIGF9ZnJvbVwiLi9VdGlscy5qc1wiO2ltcG9ydHtUZWNobmlxdWUgYXMgbH1mcm9tXCIuL3RlY2huaXF1ZXMvVGVjaG5pcXVlLmpzXCI7aW1wb3J0e2dldFRlY2huaXF1ZUZyb21SZW5kZXJlciBhcyByfWZyb21cIi4vdGVjaG5pcXVlcy91dGlscy5qc1wiO2ltcG9ydHtnZXRXZWJHTENhcGFiaWxpdGllcyBhcyBvfWZyb21cIi4uLy4uLy4uL3dlYmdsL2NhcGFiaWxpdGllcy5qc1wiO2Z1bmN0aW9uIG4oZSx0KXtjb25zdCBpPXQubGVuZ3RoO2lmKGU8dFswXS52YWx1ZXx8MT09PWkpcmV0dXJuIHRbMF0uc2l6ZTtmb3IobGV0IHM9MTtzPGk7cysrKWlmKGU8dFtzXS52YWx1ZSl7Y29uc3QgaT0oZS10W3MtMV0udmFsdWUpLyh0W3NdLnZhbHVlLXRbcy0xXS52YWx1ZSk7cmV0dXJuIHRbcy0xXS5zaXplK2kqKHRbc10uc2l6ZS10W3MtMV0uc2l6ZSl9cmV0dXJuIHRbaS0xXS5zaXplfWNsYXNzIHZ7Y29uc3RydWN0b3IoKXt0aGlzLnN5bWJvbExldmVscz1bXSx0aGlzLnZ2Q29sb3JWYWx1ZXM9bmV3IEZsb2F0MzJBcnJheSg4KSx0aGlzLnZ2Q29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoMzIpLHRoaXMudnZPcGFjaXR5VmFsdWVzPW5ldyBGbG9hdDMyQXJyYXkoOCksdGhpcy52dk9wYWNpdGllcz1uZXcgRmxvYXQzMkFycmF5KDgpLHRoaXMudnZTaXplTWluTWF4VmFsdWU9bmV3IEZsb2F0MzJBcnJheSg0KSx0aGlzLm91dHNpZGVMYWJlbHNWaXNpYmxlPSExLHRoaXMuX3Z2TWF0ZXJpYWxQYXJhbWV0ZXJzPXt2dlNpemVFbmFibGVkOiExLHZ2Q29sb3JFbmFibGVkOiExLHZ2Um90YXRpb25FbmFibGVkOiExLHZ2Um90YXRpb25UeXBlOlwiZ2VvZ3JhcGhpY1wiLHZ2T3BhY2l0eUVuYWJsZWQ6ITF9LHRoaXMuX3RlY2huaXF1ZT1sfWdldFNpemVWVkZpZWxkU3RvcHMoZSl7Y29uc3QgdD10aGlzLl92dlNpemVGaWVsZFN0b3BzO2lmKHQpc3dpdGNoKHQudHlwZSl7Y2FzZVwic3RhdGljXCI6cmV0dXJuIHQ7Y2FzZVwibGV2ZWwtZGVwZW5kZW50XCI6cmV0dXJuIHQubGV2ZWxzW2VdPz8oKCk9PntsZXQgaT0xLzAscz0wO2Zvcihjb25zdCBvIGluIHQubGV2ZWxzKXtjb25zdCB0PXBhcnNlRmxvYXQobyksYT1NYXRoLmFicyhlLXQpO2E8aSYmKGk9YSxzPXQpfWlmKGk9PT0xLzApcmV0dXJue3NpemVzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDAsMCwwXSksdmFsdWVzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDAsMCwwXSl9O2NvbnN0IGE9MioqKChlLXMpLzIpLGw9dC5sZXZlbHNbc10scj1uZXcgRmxvYXQzMkFycmF5KGwudmFsdWVzKTtyZXR1cm4gclsyXSo9YSxyWzNdKj1hLHtzaXplczpsLnNpemVzLHZhbHVlczpyfX0pKCk7ZGVmYXVsdDpyZXR1cm59fWdldCB2dk1hdGVyaWFsUGFyYW1ldGVycygpe3JldHVybiB0aGlzLl92dk1hdGVyaWFsUGFyYW1ldGVyc311cGRhdGUoZSl7bnVsbCE9dGhpcy5fdnZJbmZvJiZ0aGlzLl91cGRhdGVWaXN1YWxWYXJpYWJsZXModGhpcy5fdnZJbmZvLnZ2UmFuZ2VzLGUpfXNldEluZm8oZSx0LGkpe3RoaXMuX3VwZGF0ZUVmZmVjdHMoaSksdGhpcy5fdnZJbmZvPXQsdGhpcy5fdGVjaG5pcXVlPXIoZSksdGhpcy5yZW5kZXJlclNjaGVtYT10aGlzLl90ZWNobmlxdWUuY3JlYXRlT3JVcGRhdGVSZW5kZXJlclNjaGVtYSh0aGlzLnJlbmRlcmVyU2NoZW1hLGUpfWdldFZhcmlhdGlvbigpe3JldHVybnsuLi50aGlzLl90ZWNobmlxdWUuZ2V0VmFyaWF0aW9uKHRoaXMucmVuZGVyZXJTY2hlbWEpLG91dHNpZGVMYWJlbHNWaXNpYmxlOnRoaXMub3V0c2lkZUxhYmVsc1Zpc2libGUsc3VwcG9ydHNUZXh0dXJlRmxvYXQ6byhcIjJkXCIpLnN1cHBvcnRzVGV4dHVyZUZsb2F0fX1nZXRWYXJpYXRpb25IYXNoKCl7cmV0dXJuIHRoaXMuX3RlY2huaXF1ZS5nZXRWYXJpYXRpb25IYXNoKHRoaXMucmVuZGVyZXJTY2hlbWEpPDwxfCh0aGlzLm91dHNpZGVMYWJlbHNWaXNpYmxlPzE6MCl9X3VwZGF0ZUVmZmVjdHMoZSl7dGhpcy5vdXRzaWRlTGFiZWxzVmlzaWJsZT1udWxsIT1lJiZlLmV4Y2x1ZGVkTGFiZWxzVmlzaWJsZX1fdXBkYXRlVmlzdWFsVmFyaWFibGVzKGwscil7Y29uc3Qgbz10aGlzLl92dk1hdGVyaWFsUGFyYW1ldGVycztpZihvLnZ2T3BhY2l0eUVuYWJsZWQ9ITEsby52dlNpemVFbmFibGVkPSExLG8udnZDb2xvckVuYWJsZWQ9ITEsby52dlJvdGF0aW9uRW5hYmxlZD0hMSwhbClyZXR1cm47Y29uc3Qgdj1sLnNpemU7aWYodil7aWYoby52dlNpemVFbmFibGVkPSEwLHYubWluTWF4VmFsdWUpe2NvbnN0IHQ9di5taW5NYXhWYWx1ZTtsZXQgaSxsO2lmKHModC5taW5TaXplKSYmcyh0Lm1heFNpemUpKWlmKGEodC5taW5TaXplKSYmYSh0Lm1heFNpemUpKWk9ZSh0Lm1pblNpemUpLGw9ZSh0Lm1heFNpemUpO2Vsc2V7Y29uc3Qgcz1yLnNjYWxlO2k9ZShuKHMsdC5taW5TaXplLnN0b3BzKSksbD1lKG4ocyx0Lm1heFNpemUuc3RvcHMpKX10aGlzLnZ2U2l6ZU1pbk1heFZhbHVlLnNldChbdC5taW5EYXRhVmFsdWUsdC5tYXhEYXRhVmFsdWUsaSxsXSl9aWYodi5zY2FsZVN0b3BzJiYodGhpcy52dlNpemVTY2FsZVN0b3BzVmFsdWU9ZShuKHIuc2NhbGUsdi5zY2FsZVN0b3BzLnN0b3BzKSkpLHYudW5pdFZhbHVlKXtjb25zdCBlPXQoci5zcGF0aWFsUmVmZXJlbmNlKS9pW3YudW5pdFZhbHVlLnVuaXRdO3RoaXMudnZTaXplVW5pdFZhbHVlVG9QaXhlbHNSYXRpbz1lL3IucmVzb2x1dGlvbn12LmZpZWxkU3RvcHMmJih0aGlzLl92dlNpemVGaWVsZFN0b3BzPXYuZmllbGRTdG9wcyl9Y29uc3QgdT1sLmNvbG9yO3UmJihvLnZ2Q29sb3JFbmFibGVkPSEwLHRoaXMudnZDb2xvclZhbHVlcy5zZXQodS52YWx1ZXMpLHRoaXMudnZDb2xvcnMuc2V0KHUuY29sb3JzKSk7Y29uc3QgYz1sLm9wYWNpdHk7YyYmKG8udnZPcGFjaXR5RW5hYmxlZD0hMCx0aGlzLnZ2T3BhY2l0eVZhbHVlcy5zZXQoYy52YWx1ZXMpLHRoaXMudnZPcGFjaXRpZXMuc2V0KGMub3BhY2l0aWVzKSk7Y29uc3QgaD1sLnJvdGF0aW9uO2gmJihvLnZ2Um90YXRpb25FbmFibGVkPSEwLG8udnZSb3RhdGlvblR5cGU9aC50eXBlKX19ZXhwb3J0e3YgYXMgV0dMUmVuZGVyZXJJbmZvfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PTYscz00Mjk0OTY3Mjk2O2NsYXNzIGV7Y29uc3RydWN0b3IodCl7dGhpcy5fc2F2ZWRDdXJzb3I9bnVsbCx0aGlzLl9zYXZlZE9mZnNldD1udWxsLHRoaXMuX2hlYWQ9dCx0aGlzLl9jdXJzb3I9dH1zdGF0aWMgZnJvbSh0KXtjb25zdCBzPXIuZnJvbShuZXcgRmxvYXQzMkFycmF5KHQpKTtyZXR1cm4gbmV3IGUocyl9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5pZH1nZXQgYmFzZVpvb20oKXtyZXR1cm4gdGhpcy5fY3Vyc29yLmJhc2Vab29tfWdldCBhbmNob3JYKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5hbmNob3JYfWdldCBhbmNob3JZKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5hbmNob3JZfWdldCBkaXJlY3Rpb25YKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5kaXJlY3Rpb25YfWdldCBkaXJlY3Rpb25ZKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5kaXJlY3Rpb25ZfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5zaXplfWdldCBtYXRlcmlhbEtleSgpe3JldHVybiB0aGlzLl9jdXJzb3IubWF0ZXJpYWxLZXl9Z2V0IGJvdW5kc0NvdW50KCl7cmV0dXJuIHRoaXMuX2N1cnNvci5ib3VuZHNDb3VudH1jb21wdXRlZE1pblpvb20oKXtyZXR1cm4gdGhpcy5fY3Vyc29yLmNvbXB1dGVkTWluWm9vbSgpfXNldENvbXB1dGVkTWluWm9vbSh0KXtyZXR1cm4gdGhpcy5fY3Vyc29yLnNldENvbXB1dGVkTWluWm9vbSh0KX1ib3VuZHNDb21wdXRlZEFuY2hvclgodCl7cmV0dXJuIHRoaXMuX2N1cnNvci5ib3VuZHNDb21wdXRlZEFuY2hvclgodCl9Ym91bmRzQ29tcHV0ZWRBbmNob3JZKHQpe3JldHVybiB0aGlzLl9jdXJzb3IuYm91bmRzQ29tcHV0ZWRBbmNob3JZKHQpfXNldEJvdW5kc0NvbXB1dGVkQW5jaG9yWCh0LHMpe3JldHVybiB0aGlzLl9jdXJzb3Iuc2V0Qm91bmRzQ29tcHV0ZWRBbmNob3JYKHQscyl9c2V0Qm91bmRzQ29tcHV0ZWRBbmNob3JZKHQscyl7cmV0dXJuIHRoaXMuX2N1cnNvci5zZXRCb3VuZHNDb21wdXRlZEFuY2hvclkodCxzKX1ib3VuZHNYKHQpe3JldHVybiB0aGlzLl9jdXJzb3IuYm91bmRzWCh0KX1ib3VuZHNZKHQpe3JldHVybiB0aGlzLl9jdXJzb3IuYm91bmRzWSh0KX1ib3VuZHNXaWR0aCh0KXtyZXR1cm4gdGhpcy5fY3Vyc29yLmJvdW5kc1dpZHRoKHQpfWJvdW5kc0hlaWdodCh0KXtyZXR1cm4gdGhpcy5fY3Vyc29yLmJvdW5kc0hlaWdodCh0KX1saW5rKHQpe2lmKG51bGwhPXQuX2hlYWQpcmV0dXJuIHRoaXMuX2N1cnNvci5saW5rKHQuX2hlYWQpfWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3QgdD1uZXcgZSh0aGlzLl9oZWFkPy5jb3B5KCkpO2lmKCF0Ll9oZWFkKXJldHVybiB0O2xldCBzPXQuX2hlYWQscj10Ll9oZWFkLl9saW5rO2Zvcig7cjspcy5fbGluaz1yLmNvcHkoKSxzPXIscj1zLl9saW5rO3JldHVybiB0fXBlZWtJZCgpe3JldHVybiB0aGlzLl9jdXJzb3IucGVla0lkKCk/P3RoaXMuX2N1cnNvci5fbGluay5wZWVrSWQoKX1uZXh0SWQoKXtjb25zdCB0PXRoaXMuaWQ7Zm9yKDt0PT09dGhpcy5pZDspaWYoIXRoaXMubmV4dCgpKXJldHVybiExO3JldHVybiEwfXNhdmUoKXt0aGlzLl9zYXZlZEN1cnNvcj10aGlzLl9jdXJzb3IsdGhpcy5fc2F2ZWRPZmZzZXQ9dGhpcy5fY3Vyc29yLl9vZmZzZXR9cmVzdG9yZSgpe3RoaXMuX3NhdmVkQ3Vyc29yJiYodGhpcy5fY3Vyc29yPXRoaXMuX3NhdmVkQ3Vyc29yKSxudWxsIT10aGlzLl9zYXZlZE9mZnNldCYmKHRoaXMuX2N1cnNvci5fb2Zmc2V0PXRoaXMuX3NhdmVkT2Zmc2V0KX1uZXh0KCl7aWYoIXRoaXMuX2N1cnNvcilyZXR1cm4hMTtpZighdGhpcy5fY3Vyc29yLm5leHQoKSl7aWYoIXRoaXMuX2N1cnNvci5fbGluaylyZXR1cm4hMTt0aGlzLl9jdXJzb3I9dGhpcy5fY3Vyc29yLl9saW5rLHRoaXMuX2N1cnNvci5fb2Zmc2V0PTB9cmV0dXJuITB9bG9va3VwKHQpe2Zvcih0aGlzLl9jdXJzb3I9dGhpcy5faGVhZDt0aGlzLl9jdXJzb3ImJiF0aGlzLl9jdXJzb3IubG9va3VwKHQpOyl7aWYoIXRoaXMuX2N1cnNvci5fbGluaylyZXR1cm4hMTt0aGlzLl9jdXJzb3I9dGhpcy5fY3Vyc29yLl9saW5rfXJldHVybiEhdGhpcy5fY3Vyc29yfWRlbGV0ZSh0KXtsZXQgcz10aGlzLl9oZWFkLGU9bnVsbDtmb3IoO3M7KXtpZihzLmRlbGV0ZSh0KSlyZXR1cm4gcy5pc0VtcHR5KCkmJm51bGwhPWUmJihlLl9saW5rPXMuX2xpbmspLCEwO2U9cyxzPXMuX2xpbmt9cmV0dXJuITF9fWNsYXNzIHJ7Y29uc3RydWN0b3IodCl7dGhpcy5fb2Zmc2V0PS0xLHRoaXMuX2xpbms9bnVsbCx0aGlzLl9jb3VudD0wLHRoaXMuX2RlbGV0ZWRDb3VudD0wLHRoaXMuX29mZnNldHM9e2luc3RhbmNlOm51bGx9LHRoaXMuX2J1ZmZlcj10fXN0YXRpYyBmcm9tKHQpe3JldHVybiBuZXcgcihuZXcgRmxvYXQzMkFycmF5KHQpKX1pc0VtcHR5KCl7cmV0dXJuIHRoaXMuX2RlbGV0ZWRDb3VudD09PXRoaXMuY291bnR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX2NvdW50fHwodGhpcy5fY291bnQ9dGhpcy5fY29tcHV0ZUNvdW50KCkpLHRoaXMuX2NvdW50fWdldCBpZCgpe3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fb2Zmc2V0XX1zZXQgaWQodCl7dGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldF09dH1nZXQgYmFzZVpvb20oKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxXX1nZXQgYW5jaG9yWCgpe3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fb2Zmc2V0KzJdfWdldCBhbmNob3JZKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrM119Z2V0IGRpcmVjdGlvblgoKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCs0XX1nZXQgZGlyZWN0aW9uWSgpe3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fb2Zmc2V0KzVdfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrNl19Z2V0IG1hdGVyaWFsS2V5KCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrN119Y29tcHV0ZWRNaW5ab29tKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrOF19c2V0Q29tcHV0ZWRNaW5ab29tKHQpe3RoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrOF09dH1nZXQgYm91bmRzQ291bnQoKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCs5XX1ib3VuZHNDb21wdXRlZEFuY2hvclgocyl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0XX1ib3VuZHNDb21wdXRlZEFuY2hvclkocyl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0KzFdfXNldEJvdW5kc0NvbXB1dGVkQW5jaG9yWChzLGUpe3RoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0XT1lfXNldEJvdW5kc0NvbXB1dGVkQW5jaG9yWShzLGUpe3RoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0KzFdPWV9Ym91bmRzWChzKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxMCtzKnQrMl19Ym91bmRzWShzKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxMCtzKnQrM119Ym91bmRzV2lkdGgocyl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0KzRdfWJvdW5kc0hlaWdodChzKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxMCtzKnQrNV19bGluayh0KXtsZXQgcz10aGlzO2Zvcig7cy5fbGluazspcz1zLl9saW5rO3MuX2xpbms9dH1nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5jb3B5KCl9Y29weSgpe2NvbnN0IHQ9bmV3IHIodGhpcy5fYnVmZmVyKTtyZXR1cm4gdC5fbGluaz10aGlzLl9saW5rLHQuX29mZnNldD10aGlzLl9vZmZzZXQsdC5fZGVsZXRlZENvdW50PXRoaXMuX2RlbGV0ZWRDb3VudCx0Ll9vZmZzZXRzPXRoaXMuX29mZnNldHMsdC5fY291bnQ9dGhpcy5fY291bnQsdH1wZWVrSWQoKXtjb25zdCBzPXRoaXMuX29mZnNldCsxMCt0aGlzLmJvdW5kc0NvdW50KnQrMDtyZXR1cm4gcz49dGhpcy5fYnVmZmVyLmxlbmd0aD8wOnRoaXMuX2J1ZmZlcltzXX1uZXh0KCl7bGV0IGU9MDtmb3IoO3RoaXMuX29mZnNldDx0aGlzLl9idWZmZXIubGVuZ3RoJiZlKys8MTAwJiYoLTE9PT10aGlzLl9vZmZzZXQ/dGhpcy5fb2Zmc2V0PTA6dGhpcy5fb2Zmc2V0Kz0xMCt0aGlzLmJvdW5kc0NvdW50KnQsdGhpcy5pZD09PXMpOyk7cmV0dXJuIHRoaXMuaWQhPT1zJiZ0aGlzLl9vZmZzZXQ8dGhpcy5fYnVmZmVyLmxlbmd0aH1kZWxldGUodCl7Y29uc3Qgcz10aGlzLl9vZmZzZXQsZT10aGlzLmxvb2t1cCh0KTtpZihlKWZvcih0aGlzLmlkPTQyOTQ5NjcyOTUsKyt0aGlzLl9kZWxldGVkQ291bnQ7dGhpcy5uZXh0KCkmJnRoaXMuaWQ9PT10Oyl0aGlzLmlkPTQyOTQ5NjcyOTUsKyt0aGlzLl9kZWxldGVkQ291bnQ7cmV0dXJuIHRoaXMuX29mZnNldD1zLGV9bG9va3VwKHQpe2NvbnN0IGU9dGhpcy5fb2Zmc2V0O2lmKG51bGw9PXRoaXMuX29mZnNldHMuaW5zdGFuY2Upe3RoaXMuX29mZnNldHMuaW5zdGFuY2U9bmV3IE1hcDtjb25zdCB0PXRoaXMuY29weSgpO3QuX29mZnNldD0tMTtsZXQgcz0wO2Zvcig7dC5uZXh0KCk7KXQuaWQhPT1zJiYodGhpcy5fb2Zmc2V0cy5pbnN0YW5jZS5zZXQodC5pZCx0Ll9vZmZzZXQpLHM9dC5pZCl9cmV0dXJuISF0aGlzLl9vZmZzZXRzLmluc3RhbmNlLmhhcyh0KSYmKHRoaXMuX29mZnNldD10aGlzLl9vZmZzZXRzLmluc3RhbmNlLmdldCh0KSx0aGlzLmlkIT09c3x8KHRoaXMuX29mZnNldD1lLCExKSl9X2NvbXB1dGVDb3VudCgpe2NvbnN0IHQ9dGhpcy5fb2Zmc2V0O2xldCBzPTA7Zm9yKHRoaXMuX29mZnNldD0tMTt0aGlzLm5leHQoKTspcysrO3JldHVybiB0aGlzLl9vZmZzZXQ9dCxzfX1leHBvcnR7ZSBhcyBNZXRyaWNSZWFkZXIsciBhcyBNZXRyaWNSZWFkZXJOb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YXBwbHlTb21lIGFzIHQsdW53cmFwT3JUaHJvdyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7VHlwZWRCdWZmZXIgYXMgZX1mcm9tXCIuLi9CdWZmZXJQb29sLmpzXCI7aW1wb3J0e0ZyZWVMaXN0IGFzIHJ9ZnJvbVwiLi9GcmVlTGlzdC5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VXNhZ2UgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2NvbnN0IG49MS4yNSx1PTMyNzY3LGE9dTw8MTZ8dTtjbGFzcyBke2NvbnN0cnVjdG9yKHQsaSxyLHMpe2NvbnN0IGg9ZS5jcmVhdGUoaSpyKlVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHMpO3RoaXMuc2l6ZT1pLHRoaXMuc3RyaWRlSW50PXIsdGhpcy5idWZmZXJUeXBlPXQsdGhpcy5kaXJ0eT17c3RhcnQ6MS8wLGVuZDowfSx0aGlzLl9ncHU9bnVsbCx0aGlzLl9jcHU9aCx0aGlzLmNsZWFyKCl9Z2V0IGVsZW1lbnRTaXplKCl7cmV0dXJuIHRoaXMuX2NwdS5sZW5ndGgvdGhpcy5zdHJpZGVJbnR9Z2V0IGludmFsaWRhdGVkKCl7cmV0dXJuIHRoaXMuYnVmZmVyU2l6ZT4wJiYhdGhpcy5fZ3B1fWdldCBpbnZhbGlkYXRlZENvbXB1dGVCdWZmZXIoKXtyZXR1cm4gdGhpcy5idWZmZXJTaXplPjAmJiF0aGlzLl9ncHVDb21wdXRlVHJpYW5nbGVzfWludmFsaWRhdGUoKXt0aGlzLl9pbnZhbGlkYXRlVHJpYW5nbGVCdWZmZXIoKSx0KHRoaXMuX2dwdSwodD0+dC5kaXNwb3NlKCkpKSx0aGlzLl9ncHU9bnVsbH1faW52YWxpZGF0ZVRyaWFuZ2xlQnVmZmVyKCl7dCh0aGlzLl9ncHVDb21wdXRlVHJpYW5nbGVzLCh0PT50LmRpc3Bvc2UoKSkpLHRoaXMuX2dwdUNvbXB1dGVUcmlhbmdsZXM9bnVsbH1kZXN0cm95KCl7dCh0aGlzLl9ncHUsKHQ9PnQuZGlzcG9zZSgpKSksdCh0aGlzLl9ncHVDb21wdXRlVHJpYW5nbGVzLCh0PT50LmRpc3Bvc2UoKSkpLHQodGhpcy5fY3B1LCh0PT50LmRlc3Ryb3koKSkpLHQodGhpcy5fY3B1MiwodD0+dC5kZXN0cm95KCkpKX1jbGVhcigpe3RoaXMuZGlydHkuc3RhcnQ9MS8wLHRoaXMuZGlydHkuZW5kPTAsdGhpcy5mcmVlTGlzdD1uZXcgcih7c3RhcnQ6MCxlbmQ6dGhpcy5fY3B1Lmxlbmd0aC90aGlzLnN0cmlkZUludH0pLHRoaXMuZmlsbFBvaW50ZXI9MH1lbnN1cmUodCl7aWYodGhpcy5tYXhBdmFpbGFibGVTcGFjZSgpPj10KXJldHVybjtpZih0KnRoaXMuc3RyaWRlSW50PnRoaXMuX2NwdS5sZW5ndGgtdGhpcy5maWxsUG9pbnRlcil7dGhpcy5pbnZhbGlkYXRlKCk7Y29uc3QgaT10aGlzLl9jcHUubGVuZ3RoL3RoaXMuc3RyaWRlSW50LGU9TWF0aC5yb3VuZCgoaSt0KSpuKSxyPWUqdGhpcy5zdHJpZGVJbnQ7dGhpcy5fY3B1LmV4cGFuZChyKlVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKSx0aGlzLmZyZWVMaXN0LmZyZWUoaSxlLWkpfX1zZXQodCxpKXt0aGlzLl9jcHUuYXJyYXlbdF0hPT1pJiYodGhpcy5fY3B1LmFycmF5W3RdPWksdGhpcy5kaXJ0eS5zdGFydD1NYXRoLm1pbih0LHRoaXMuZGlydHkuc3RhcnQpLHRoaXMuZGlydHkuZW5kPU1hdGgubWF4KHQsdGhpcy5kaXJ0eS5lbmQpKX1nZXRHUFVCdWZmZXIodCxpPSExKXtpZighdGhpcy5idWZmZXJTaXplKXJldHVybiBudWxsO2lmKGkpe2lmKFwiaW5kZXhcIiE9PXRoaXMuYnVmZmVyVHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJUaXJlZCB0byBnZXQgdHJpYW5nbGUgYnVmZmVyLCBidXQgdGFyZ2V0IGlzIG5vdCBhbiBpbmRleCBidWZmZXJcIik7cmV0dXJuIG51bGw9PXRoaXMuX2dwdUNvbXB1dGVUcmlhbmdsZXMmJih0aGlzLl9ncHVDb21wdXRlVHJpYW5nbGVzPXRoaXMuX2NyZWF0ZUNvbXB1dGVCdWZmZXIodCkpLHRoaXMuX2dwdUNvbXB1dGVUcmlhbmdsZXN9cmV0dXJuIG51bGw9PXRoaXMuX2dwdSYmKHRoaXMuX2dwdT10aGlzLl9jcmVhdGVCdWZmZXIodCkpLHRoaXMuX2dwdX1nZXRDUFVCdWZmZXIoKXtpZighdGhpcy5fY3B1Mil7Y29uc3QgdD10aGlzLl9jcHUuc2xpY2UoKTt0aGlzLl9jcHUyPXR9cmV0dXJuIHRoaXMuX2NwdTIubGVuZ3RoIT09dGhpcy5fY3B1Lmxlbmd0aCYmdGhpcy5fY3B1Mi5leHBhbmQodGhpcy5fY3B1Lmxlbmd0aCp0aGlzLl9jcHUuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQpLHRoaXMuX2NwdTIuc2V0KHRoaXMuX2NwdSksdGhpcy5fY3B1Mn1nZXQgYnVmZmVyU2l6ZSgpe3JldHVybiB0aGlzLl9jcHUubGVuZ3RoL3RoaXMuc3RyaWRlSW50fW1heEF2YWlsYWJsZVNwYWNlKCl7cmV0dXJuIHRoaXMuZnJlZUxpc3QubWF4QXZhaWxhYmxlU3BhY2UoKX1pbnNlcnQodCxlLHIscyl7Y29uc3QgaD1yKnRoaXMuc3RyaWRlSW50O2lmKCFoKXJldHVybiAwO2NvbnN0IG49ZSp0aGlzLnN0cmlkZUludCpVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCx1PW5ldyBVaW50MzJBcnJheSh0LG4saCksYT1pKHRoaXMuZnJlZUxpc3QuZmlyc3RGaXQociksXCJGaXJzdCBmaXQgcmVnaW9uIG11c3QgYmUgZGVmaW5lZFwiKSp0aGlzLnN0cmlkZUludCxkPWgsZj1hL3RoaXMuc3RyaWRlSW50LWU7aWYoMCE9PXMpZm9yKGxldCBpPTA7aTx1Lmxlbmd0aDtpKyspdVtpXSs9cztyZXR1cm4gdGhpcy5fY3B1LmFycmF5LnNldCh1LGEpLHRoaXMuZGlydHkuc3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eS5zdGFydCxhKSx0aGlzLmRpcnR5LmVuZD1NYXRoLm1heCh0aGlzLmRpcnR5LmVuZCxhK2QpLHRoaXMuZmlsbFBvaW50ZXI9TWF0aC5tYXgodGhpcy5maWxsUG9pbnRlcixhK2QpLGZ9ZnJlZSh0LGksZSl7Y29uc3Qgcj10KnRoaXMuc3RyaWRlSW50LHM9KHQraSkqdGhpcy5zdHJpZGVJbnQ7aWYoITA9PT1lKWZvcihsZXQgaD10O2ghPT10K2k7aCsrKXRoaXMuX2NwdS5hcnJheVtoKnRoaXMuc3RyaWRlSW50XT1hO3RoaXMuZGlydHkuc3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eS5zdGFydCxyKSx0aGlzLmRpcnR5LmVuZD1NYXRoLm1heCh0aGlzLmRpcnR5LmVuZCxzKSx0aGlzLmZyZWVMaXN0LmZyZWUodCxpKX11cGxvYWQoKXtpZih0aGlzLmRpcnR5LmVuZCl7aWYodGhpcy5faW52YWxpZGF0ZVRyaWFuZ2xlQnVmZmVyKCksbnVsbD09dGhpcy5fZ3B1KXJldHVybiB0aGlzLmRpcnR5LnN0YXJ0PTEvMCx2b2lkKHRoaXMuZGlydHkuZW5kPTApO3RoaXMuX2dwdS5zZXRTdWJEYXRhKHRoaXMuX2NwdS5hcnJheSx0aGlzLmRpcnR5LnN0YXJ0LHRoaXMuZGlydHkuc3RhcnQsdGhpcy5kaXJ0eS5lbmQpLHRoaXMuZGlydHkuc3RhcnQ9MS8wLHRoaXMuZGlydHkuZW5kPTB9fV9jcmVhdGVCdWZmZXIodCl7Y29uc3QgaT1oLkRZTkFNSUNfRFJBVztyZXR1cm5cImluZGV4XCI9PT10aGlzLmJ1ZmZlclR5cGU/cy5jcmVhdGVJbmRleCh0LGksdGhpcy5fY3B1LmFycmF5KTpzLmNyZWF0ZVZlcnRleCh0LGksdGhpcy5fY3B1LmFycmF5KX1fY3JlYXRlQ29tcHV0ZUJ1ZmZlcih0KXtjb25zdCBpPWguRFlOQU1JQ19EUkFXLGU9bmV3IFVpbnQzMkFycmF5KHRoaXMuZmlsbFBvaW50ZXIvMyk7Zm9yKGxldCByPTA7cjx0aGlzLmZpbGxQb2ludGVyO3IrPTMpZVtyLzNdPXRoaXMuX2NwdS5hcnJheVtyXTtyZXR1cm4gcy5jcmVhdGVJbmRleCh0LGksZSl9fWV4cG9ydHtkIGFzIEJ1ZmZlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBlLHVud3JhcE9yVGhyb3cgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e0ZlYXR1cmVEaXNwbGF5TGlzdCBhcyByfWZyb21cIi4uL0ZlYXR1cmVEaXNwbGF5TGlzdC5qc1wiO2ltcG9ydHtCdWZmZXIgYXMgc31mcm9tXCIuL0J1ZmZlci5qc1wiO2ltcG9ydHtEaXNwbGF5UmVjb3JkUmVhZGVyIGFzIGl9ZnJvbVwiLi9EaXNwbGF5UmVjb3JkUmVhZGVyLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvVmVydGV4QXJyYXlPYmplY3QuanNcIjtjb25zdCBmPTAsbz0xO2NsYXNzIGR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl92YW9zPW5ldyBNYXAsdGhpcy5faW5kaWNlc0ludmFsaWQ9ITEsdGhpcy5nZW9tZXRyeVR5cGU9ZSx0aGlzLl9zdGFnZT10fWRlc3Ryb3koKXtmb3IoY29uc3RbZSx0XW9mIHRoaXMuX3Zhb3MpdD8uZGlzcG9zZVZBT09ubHkoKTt0aGlzLl9pbmRleEJ1ZmZlcj1lKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl92ZXJ0ZXhCdWZmZXI9ZSh0aGlzLl92ZXJ0ZXhCdWZmZXIpfWdldCByZWNvcmRzKCl7cmV0dXJuIHRoaXMuX3JlY29yZHN9aW5zZXJ0KGUscixuKXtpZighZS5yZWNvcmRzLmJ5dGVMZW5ndGgpcmV0dXJuO2NvbnN0IGY9ZS5zdHJpZGU7aWYodGhpcy5fdmVydGV4QnVmZmVyJiZ0aGlzLl9pbmRleEJ1ZmZlcil7Y29uc3Qgcz1lLmluZGljZXMuYnl0ZUxlbmd0aC80LG49ZS52ZXJ0aWNlcy5ieXRlTGVuZ3RoL2Y7dGhpcy5faW5kZXhCdWZmZXIuZW5zdXJlKHMpLHRoaXMuX3ZlcnRleEJ1ZmZlci5lbnN1cmUobik7Y29uc3R7dmVydGljZXM6byxpbmRpY2VzOmR9PWUsaD1pLmZyb20oZS5yZWNvcmRzKSx1PXRoaXMuX3ZlcnRleEJ1ZmZlci5pbnNlcnQobywwLG8uYnl0ZUxlbmd0aC9mLDApLGM9dGhpcy5faW5kZXhCdWZmZXIuaW5zZXJ0KGQsMCxkLmJ5dGVMZW5ndGgvNCx1KTtpZihoLmZvckVhY2goKGU9PntlLmluZGV4RnJvbSs9YyxlLnZlcnRleEZyb20rPXV9KSksdCh0aGlzLl9yZWNvcmRzLFwiRXhwZWN0ZWQgcmVjb3JkcyB0byBiZSBkZWZpbmVkXCIpLmxpbmsoaCkscil0aGlzLl9pbmRpY2VzSW52YWxpZD0hMDtlbHNlIGlmKHRoaXMuX2Rpc3BsYXlMaXN0KXtjb25zdCBlPWguZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspdGhpcy5fZGlzcGxheUxpc3QuYWRkUmVjb3JkKGUpfX1lbHNle2NvbnN0IHQ9ZS5pbmRpY2VzLmJ5dGVMZW5ndGgvNCxuPWUudmVydGljZXMuYnl0ZUxlbmd0aC9mLG89Zi9VaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxkPXRoaXMuX3N0YWdlLmJ1ZmZlclBvb2w7dGhpcy5fcmVjb3Jkcz1pLmZyb20oZS5yZWNvcmRzKSx0aGlzLl9pbmRleEJ1ZmZlcj1uZXcgcyhcImluZGV4XCIsdCwxLGQpLHRoaXMuX3ZlcnRleEJ1ZmZlcj1uZXcgcyhcInZlcnRleFwiLG4sbyxkKSx0aGlzLl9pbmRleEJ1ZmZlci5pbnNlcnQoZS5pbmRpY2VzLDAsZS5pbmRpY2VzLmJ5dGVMZW5ndGgvNCwwKSx0aGlzLl92ZXJ0ZXhCdWZmZXIuaW5zZXJ0KGUudmVydGljZXMsMCxlLnZlcnRpY2VzLmJ5dGVMZW5ndGgvZiwwKSxyJiYodGhpcy5faW5kaWNlc0ludmFsaWQ9ITApfX1yZW1vdmUoZSl7aWYobnVsbCE9dGhpcy5fcmVjb3Jkcylmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRoaXMuX3JlY29yZHMuZ2V0Q3Vyc29yKCk7aWYoIWUubG9va3VwKHQpKWNvbnRpbnVlO2NvbnN0IHI9ZS5pbmRleEZyb20scz1lLnZlcnRleEZyb207bGV0IGk9ZS5pbmRleENvdW50LG49ZS52ZXJ0ZXhDb3VudDtmb3IoO2UubmV4dCgpJiZlLmlkPT09dDspaSs9ZS5pbmRleENvdW50LG4rPWUudmVydGV4Q291bnQ7dGhpcy5faW5kZXhCdWZmZXIuZnJlZShyLGkpLHRoaXMuX3ZlcnRleEJ1ZmZlci5mcmVlKHMsbiwhMCksdGhpcy5fcmVjb3Jkcy5kZWxldGUodCl9fWdldFZBTyhlLHQscixzKXtpZighdGhpcy5fdmVydGV4QnVmZmVyfHwhdGhpcy5faW5kZXhCdWZmZXJ8fG51bGw9PXRoaXMuX3JlY29yZHN8fCF0aGlzLl92ZXJ0ZXhCdWZmZXIuYnVmZmVyU2l6ZSlyZXR1cm4gbnVsbDtjb25zdCBpPXM/bzpmO2xldCBkPXRoaXMuX3Zhb3MuZ2V0KGkpOyh0aGlzLl92ZXJ0ZXhCdWZmZXIuaW52YWxpZGF0ZWR8fHRoaXMuX2luZGV4QnVmZmVyLmludmFsaWRhdGVkfHxzJiZ0aGlzLl9pbmRleEJ1ZmZlci5pbnZhbGlkYXRlZENvbXB1dGVCdWZmZXIpJiYoZD8uZGlzcG9zZVZBT09ubHkoKSxkPW51bGwpLHRoaXMuX3ZlcnRleEJ1ZmZlci51cGxvYWQoKSx0aGlzLl9pbmRleEJ1ZmZlci51cGxvYWQoKTtjb25zdCBoPXRoaXMuX2luZGV4QnVmZmVyLmdldEdQVUJ1ZmZlcihlLDE9PT1pKSx1PXRoaXMuX3ZlcnRleEJ1ZmZlci5nZXRHUFVCdWZmZXIoZSk7cmV0dXJuIGR8fChkPW5ldyBuKGUscix0LHtnZW9tZXRyeTp1fSxoKSx0aGlzLl92YW9zLnNldChpLGQpKSxkfWZvckVhY2hDb21tYW5kKGUpe2lmKG51bGwhPXRoaXMuX3JlY29yZHMpe2lmKHRoaXMuX3NvcnRJbmRpY2VzKHRoaXMuX3JlY29yZHMpLCF0aGlzLl9kaXNwbGF5TGlzdCl7Y29uc3QgZT10aGlzLl9jdXJzb3JJbmRleE9yZGVyO3RoaXMuX2Rpc3BsYXlMaXN0PXIuZnJvbSh0aGlzLHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuX3JlY29yZHMuZ2V0Q3Vyc29yKCksZSl9dGhpcy5fZGlzcGxheUxpc3QuZm9yRWFjaChlKX19X3NvcnRJbmRpY2VzKGUpe2NvbnN0IHQ9ISF0aGlzLl9pbmRleEJ1ZmZlci5idWZmZXJTaXplO2lmKCF0aGlzLl9pbmRpY2VzSW52YWxpZClyZXR1cm47dGhpcy5faW5kaWNlc0ludmFsaWQ9ITE7bGV0IHI9MDtjb25zdCBzPWUuZ2V0Q3Vyc29yKCksaT1bXSxuPVtdLGY9W107Zm9yKDtzLm5leHQoKTspbi5wdXNoKHMuaW5kZXgpLGYucHVzaChzLnNvcnRLZXkpLGkucHVzaChzLmlkKTtuLnNvcnQoKChlLHQpPT57Y29uc3Qgcj1mW3RdLHM9ZltlXTtyZXR1cm4gcz09PXI/aVt0XS1pW2VdOnItc30pKTtjb25zdCBvPWUuZ2V0Q3Vyc29yKCksZD10P3RoaXMuX2luZGV4QnVmZmVyLmdldENQVUJ1ZmZlcigpOnRoaXMuX3ZlcnRleEJ1ZmZlci5nZXRDUFVCdWZmZXIoKTtmb3IoY29uc3QgaCBvZiBuKXtpZighby5zZWVrSW5kZXgoaCkpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdG8gZmluZCBpbmRleFwiKTtpZih0KXtjb25zdHtpbmRleEZyb206ZSxpbmRleENvdW50OnR9PW87by5pbmRleEZyb209cjtmb3IobGV0IHM9MDtzPHQ7cysrKXRoaXMuX2luZGV4QnVmZmVyLnNldChyKyssZC5hcnJheVtlK3NdKX1lbHNle2NvbnN0e3ZlcnRleEZyb206ZSx2ZXJ0ZXhDb3VudDp0fT1vLHM9dGhpcy5fdmVydGV4QnVmZmVyLnN0cmlkZUludCxpPWUqcyxuPWkrdCpzO28udmVydGV4RnJvbT1yL3M7Zm9yKGxldCBmPWk7ZjxuO2YrKyl0aGlzLl92ZXJ0ZXhCdWZmZXIuc2V0KHIrKyxkLmFycmF5W2ZdKX19dGhpcy5fY3Vyc29ySW5kZXhPcmRlcj1uLHRoaXMuX2Rpc3BsYXlMaXN0PW51bGx9fWV4cG9ydHtkIGFzIEdlb21ldHJ5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9BZ2dyZWdhdGVHcmFwaGljLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7aXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Y2xvbmUgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHthcHBseVNvbWUgYXMgbCxkZXN0cm95TWF5YmUgYXMgdSxyZW1vdmVNYXliZSBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgaCxpc0Fib3J0RXJyb3IgYXMgcH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBjLHN5bmNBbmRJbml0aWFsIGFzIHksaW5pdGlhbCBhcyBnfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwdDJweCBhcyBmfWZyb21cIi4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIF99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBiIGZyb21cIi4uLy4uLy4uL2xheWVycy9lZmZlY3RzL0ZlYXR1cmVFZmZlY3RWaWV3LmpzXCI7aW1wb3J0IHYgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydHtnZXRFZmZlY3RpdmVMYXllckNhcGFiaWxpdGllcyBhcyBSfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvQWdncmVnYXRlRmVhdHVyZVNldC5qc1wiO2ltcG9ydCB3IGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IHggZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e01BWF9GSUxURVJTIGFzIEZ9ZnJvbVwiLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e0xheWVyVmlldzJETWl4aW4gYXMgVX1mcm9tXCIuL0xheWVyVmlldzJELmpzXCI7aW1wb3J0e2NyZWF0ZVNjaGVtYSBhcyBDfWZyb21cIi4vZmVhdHVyZXMvc2NoZW1hVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlT3JSZXVzZVRpbGVSZW5kZXJlciBhcyBJfWZyb21cIi4vZmVhdHVyZXMvdGlsZVJlbmRlcmVycy5qc1wiO2ltcG9ydHtpc1JlbmRlcmVyU3VwcG9ydGVkIGFzIHF9ZnJvbVwiLi9mZWF0dXJlcy9zdXBwb3J0L3JlbmRlcmVyVXRpbHMuanNcIjtpbXBvcnR7ZmluZFNpemVWViBhcyBWLGNyZWF0ZUNsdXN0ZXJDb3VudFNpemVWYXJpYWJsZSBhcyBPLGluamVjdER5bmFtaWNMZXZlbERlcGVuZGVudFNpemVWaXN1YWxWYXJpYWJsZSBhcyBFLGlzQ2x1c3RlckNvbXBhdGlibGVSZW5kZXJlciBhcyBULGNyZWF0ZUNsdXN0ZXJSZW5kZXJlciBhcyBqfWZyb21cIi4vc3VwcG9ydC9jbHVzdGVyVXRpbHMuanNcIjtpbXBvcnQgQSBmcm9tXCIuL3N1cHBvcnQvRmVhdHVyZUNvbW1hbmRRdWV1ZS5qc1wiO2ltcG9ydCBMIGZyb21cIi4vc3VwcG9ydC9GZWF0dXJlTGF5ZXJQcm94eS5qc1wiO2ltcG9ydHt0b0pTT05HZW9tZXRyeVR5cGUgYXMgTn1mcm9tXCIuL3N1cHBvcnQvdXRpbC5qc1wiO2ltcG9ydHtnZXRTaXplRm9yVmFsdWVTaW1wbGUgYXMgUX1mcm9tXCIuL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVTaW1wbGVVdGlscy5qc1wiO2ltcG9ydHtUaWxlTWFuYWdlciBhcyBrfWZyb21cIi4uL3RpbGluZy9UaWxlTWFuYWdlci5qc1wiO2ltcG9ydCBIIGZyb21cIi4uLy4uL2xheWVycy9GZWF0dXJlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IFAgZnJvbVwiLi4vLi4vbGF5ZXJzL0xheWVyVmlldy5qc1wiO2ltcG9ydCB6IGZyb21cIi4uLy4uL2xheWVycy9SZWZyZXNoYWJsZUxheWVyVmlldy5qc1wiO2ltcG9ydHtnZXRXZWJHTENhcGFiaWxpdGllcyBhcyBKfWZyb21cIi4uLy4uL3dlYmdsL2NhcGFiaWxpdGllcy5qc1wiO2ltcG9ydCBEIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2Z1bmN0aW9uIE0oZSl7cmV0dXJuIGUmJlwib3BlblBvcnRzXCJpbiBlfWZ1bmN0aW9uIEIoZSl7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1cImZlYXR1cmVSZWR1Y3Rpb25cImluIHQmJnQuZmVhdHVyZVJlZHVjdGlvbiYmXCJsYWJlbGluZ0luZm9cImluIHQuZmVhdHVyZVJlZHVjdGlvbj90LmZlYXR1cmVSZWR1Y3Rpb246dm9pZCAwLHI9Wy4uLnQubGFiZWxpbmdJbmZvfHxbXSwuLi5lPy5sYWJlbGluZ0luZm98fFtdXTtpZighdC5sYWJlbHNWaXNpYmxlfHwhci5sZW5ndGgpY29udGludWU7aWYoci5zb21lKChlPT5cIm5vbmVcIj09PWUuZGVjb25mbGljdGlvblN0cmF0ZWd5KSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gJChlKXtyZXR1cm4gdD0+ZihRKHQsZSkpfWZ1bmN0aW9uIEcoZSl7Y29uc3QgdD1udWxsIT1lJiZcInZpc3VhbFZhcmlhYmxlc1wiaW4gZSYmZS52aXN1YWxWYXJpYWJsZXM7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKGNvbnN0IHIgb2YgdClpZihcInNpemVcIj09PXIudHlwZSlyZXR1cm4gJChyKTtyZXR1cm4gbnVsbH1sZXQgSz1jbGFzcyBleHRlbmRzKEgoeihVKFApKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9waXBlbGluZUlzVXBkYXRpbmc9ITAsdGhpcy5fY29tbWFuZHNRdWV1ZT1uZXcgQSh7cHJvY2VzczplPT57c3dpdGNoKGUudHlwZSl7Y2FzZVwicHJvY2Vzc2VkLWVkaXRcIjpyZXR1cm4gdGhpcy5fZG9FZGl0KGUpO2Nhc2VcInJlZnJlc2hcIjpyZXR1cm4gdGhpcy5fZG9SZWZyZXNoKGUuZGF0YUNoYW5nZWQpO2Nhc2VcInVwZGF0ZVwiOnJldHVybiB0aGlzLl9kb1VwZGF0ZSgpfX19KSx0aGlzLl92aXNpYmlsaXR5T3ZlcnJpZGVzPW5ldyBTZXQsdGhpcy5faGlnaGxpZ2h0SWRzPW5ldyBNYXAsdGhpcy5fdXBkYXRlSGlnaGxpZ2h0PWgoKGFzeW5jKCk9PnRoaXMuX3Byb3h5LnNldEhpZ2hsaWdodChBcnJheS5mcm9tKHRoaXMuX2hpZ2hsaWdodElkcy5rZXlzKCkpKSkpLHRoaXMuX3VwbG9hZHNMb2NrZWQ9ITEsdGhpcy5fbmVlZHNDbHVzdGVyU2l6ZVVwZGF0ZT0hMSx0aGlzLmZlYXR1cmVFZmZlY3RWaWV3PW5ldyBiLHRoaXMuX2xhc3REZWZpbml0aW9uRXhwcmVzc2lvbj1udWxsfWRlc3Ryb3koKXtsKHRoaXMuX3VwZGF0ZUNsdXN0ZXJTaXplVGFzaywoZT0+ZS5yZW1vdmUoKSkpLHRoaXMuX3Byb3h5Py5kZXN0cm95KCksdGhpcy5fY29tbWFuZHNRdWV1ZS5kZXN0cm95KCl9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLmFsbChbdGhpcy5faW5pdFByb3h5KCksdGhpcy5faW5pdFNlcnZpY2VPcHRpb25zKCldKSksdGhpcy5hZGRIYW5kbGVzKFt0aGlzLm9uKFwidmFsdWVSYW5nZXNDaGFuZ2VkXCIsKGU9Pnt0aGlzLl9zZXQoXCJfYWdncmVnYXRlVmFsdWVSYW5nZXNcIixlLnZhbHVlUmFuZ2VzKX0pKSxjKCgoKT0+dGhpcy5mZWF0dXJlRWZmZWN0KSwoZT0+e3RoaXMuZmVhdHVyZUVmZmVjdFZpZXcuZmVhdHVyZUVmZmVjdD1lfSkseSldLFwiY29uc3RydWN0b3JcIiksdGhpcy5mZWF0dXJlRWZmZWN0Vmlldy5lbmRUcmFuc2l0aW9ucygpfWFzeW5jIF9pbml0UHJveHkoKXtjb25zdCBlPXRoaXMubGF5ZXI7aWYoXCJpc1RhYmxlXCJpbiBlJiZlLmlzVGFibGUpdGhyb3cgbmV3IGEoXCJmZWF0dXJlbGF5ZXJ2aWV3OnRhYmxlLW5vdC1zdXBwb3J0ZWRcIixcInRhYmxlIGZlYXR1cmUgbGF5ZXIgY2FuJ3QgYmUgZGlzcGxheWVkXCIse2xheWVyOnRoaXMubGF5ZXJ9KTtpZigoXCJmZWF0dXJlXCI9PT1lLnR5cGV8fFwic3VidHlwZS1ncm91cFwiPT09ZS50eXBlKSYmIVIoZSk/Lm9wZXJhdGlvbnMuc3VwcG9ydHNRdWVyeSl0aHJvdyBuZXcgYShcImZlYXR1cmVsYXllcnZpZXc6cXVlcnktbm90LXN1cHBvcnRlZFwiLFwibGF5ZXIgdmlldyByZXF1aXJlcyBhIGxheWVyIHdpdGggcXVlcnkgY2FwYWJpbGl0eVwiLHtsYXllcjplfSk7dGhpcy5fcHJveHkmJnRoaXMuX3Byb3h5LmRlc3Ryb3koKTtjb25zdCB0PXRoaXMuX2NyZWF0ZUNsaWVudE9wdGlvbnMoKTtyZXR1cm4gdGhpcy5fc2V0KFwiX3Byb3h5XCIsbmV3IEwoe2NsaWVudDp0fSkpLHRoaXMuX3Byb3h5LndoZW4oKX1hc3luYyBfaW5pdFNlcnZpY2VPcHRpb25zKCl7cmV0dXJuIHRoaXMuX3NldChcIl9zZXJ2aWNlT3B0aW9uc1wiLGF3YWl0IHRoaXMuX2NyZWF0ZVNlcnZpY2VPcHRpb25zKCkpLHRoaXMuX3NlcnZpY2VPcHRpb25zfWdldCBfZWZmZWN0aXZlRmVhdHVyZVJlZHVjdGlvbigpe2lmKCEoXCJmZWF0dXJlUmVkdWN0aW9uXCJpbiB0aGlzLmxheWVyKSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMubGF5ZXIuZmVhdHVyZVJlZHVjdGlvbjtyZXR1cm4gZSYmKCEoXCJtYXhTY2FsZVwiaW4gZSl8fCFlLm1heFNjYWxlfHxlLm1heFNjYWxlPHRoaXMudmlldy5zY2FsZSk/ZTpudWxsfWdldCBvcmRlckJ5RmllbGRzKCl7cmV0dXJuXCJzdHJlYW1cIiE9PXRoaXMuX3NlcnZpY2VPcHRpb25zPy50eXBlP3RoaXMuX3NlcnZpY2VPcHRpb25zPy5vcmRlckJ5RmllbGRzOnZvaWQgMH1nZXQgbGFiZWxzVmlzaWJsZSgpe2NvbnN0IGU9XCJzdWJ0eXBlLWdyb3VwXCI9PT10aGlzLmxheWVyLnR5cGU/dGhpcy5sYXllci5zdWJsYXllcnMuaXRlbXM6W3RoaXMubGF5ZXJdO3JldHVybiF0aGlzLnN1c3BlbmRlZCYmZS5zb21lKChlPT5lLmxhYmVsaW5nSW5mbyYmZS5sYWJlbHNWaXNpYmxlKSl9Z2V0IGxhYmVsaW5nQ29sbGlzaW9uSW5mb3MoKXtjb25zdHt0aWxlUmVuZGVyZXI6ZSxsYXllcjp0fT10aGlzO2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Y29uc3Qgcj1cInN1YnR5cGUtZ3JvdXBcIj09PXRoaXMubGF5ZXIudHlwZT90aGlzLmxheWVyLnN1YmxheWVycy5pdGVtczpbdGhpcy5sYXllcl0saT10Lmdlb21ldHJ5VHlwZSxzPSFCKHIpLGE9e307aWYoXCJzdWJ0eXBlLWdyb3VwXCIhPT10LnR5cGUpe2lmKFwiaGVhdG1hcFwiPT09ZT8udHlwZSlyZXR1cm4gbnVsbDtjb25zdCByPUcodC5yZW5kZXJlcik7YVswXT1yfXJldHVyblt7dGlsZVJlbmRlcmVyOmUsdnZFdmFsdWF0b3JzOmEsZGVjb25mbGljdGlvbkVuYWJsZWQ6cyxnZW9tZXRyeVR5cGU6aSx2aXNpYmxlOiF0aGlzLnN1c3BlbmRlZH1dfWdldCBxdWVyeU1vZGUoKXtyZXR1cm4gdGhpcy5fc2VydmljZU9wdGlvbnM/LnR5cGV9Z2V0IHJlbmRlcmluZ0NvbmZpZ0hhc2goKXtpZighdGhpcy5sYXllcilyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuYXZhaWxhYmxlRmllbGRzLHQ9dGhpcy5sYXllcixyPXRoaXMudmlldy5mbG9vcnMse2RlZmluaXRpb25FeHByZXNzaW9uOml9PXQscz1cInN1YnR5cGUtZ3JvdXBcIiE9PXRoaXMubGF5ZXIudHlwZSYmdGhpcy5sYXllci5sYWJlbHNWaXNpYmxlJiZ0aGlzLmxheWVyLmxhYmVsaW5nSW5mbyxhPVwicmVuZGVyZXJcImluIHQmJnQucmVuZGVyZXIsbj1cImdkYlZlcnNpb25cImluIHQ/dC5nZGJWZXJzaW9uOnZvaWQgMCxvPVwiaGlzdG9yaWNNb21lbnRcImluIHQ/dC5oaXN0b3JpY01vbWVudD8uZ2V0VGltZSgpOnZvaWQgMCx7dGltZUV4dGVudDpsfT10aGlzLHU9XCJjdXN0b21QYXJhbWV0ZXJzXCJpbiB0P0pTT04uc3RyaW5naWZ5KHQuY3VzdG9tUGFyYW1ldGVycyk6dm9pZCAwLGQ9XCJhcGlLZXlcImluIHQ/dC5hcGlLZXk6dm9pZCAwLGg9XCJzdHJlYW1cIj09PXQudHlwZT9gJHtKU09OLnN0cmluZ2lmeSh0Lmdlb21ldHJ5RGVmaW5pdGlvbil9JHt0LmRlZmluaXRpb25FeHByZXNzaW9ufWA6bnVsbCxwPUpTT04uc3RyaW5naWZ5KHRoaXMuY2xpcHMpLGM9dGhpcy5fZWZmZWN0aXZlRmVhdHVyZVJlZHVjdGlvbj8udG9KU09OKCkseT1cIm9yZGVyQnlcImluIHRoaXMubGF5ZXImJkpTT04uc3RyaW5naWZ5KHRoaXMubGF5ZXIub3JkZXJCeSksZz1cInN1YmxheWVyc1wiaW4gdGhpcy5sYXllciYmdGhpcy5sYXllci5zdWJsYXllcnMuaXRlbXMucmVkdWNlKCgoZSx0KT0+ZStgJHt0LnZpc2libGU/MTowfS4ke0pTT04uc3RyaW5naWZ5KHQucmVuZGVyZXIpfS4ke3QubGFiZWxzVmlzaWJsZX1cXG4uJHtKU09OLnN0cmluZ2lmeSh0LmxhYmVsaW5nSW5mbyl9YCksXCJcIiksZj1cInN1YnR5cGVDb2RlXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLnN1YnR5cGVDb2RlO3JldHVybiBKU09OLnN0cmluZ2lmeSh7b3JkZXJCeTp5LHN1YmxheWVySGFzaDpnLHN1YnR5cGVDb2RlOmYsZmlsdGVySGFzaDpudWxsIT10aGlzLmZpbHRlciYmdGhpcy5maWx0ZXIudG9KU09OKCksZWZmZWN0SGFzaDpudWxsIT10aGlzLmZlYXR1cmVFZmZlY3QmJnRoaXMuZmVhdHVyZUVmZmVjdC50b0pTT04oKSxzdHJlYW1GaWx0ZXI6aCxnZGJWZXJzaW9uOm4sZGVmaW5pdGlvbkV4cHJlc3Npb246aSxoaXN0b3JpY01vbWVudDpvLGF2YWlsYWJsZUZpZWxkczplLHJlbmRlcmVyOmEsbGFiZWxpbmdJbmZvOnMsdGltZUV4dGVudDpsLGZsb29yczpyLGNsaXBzSGFzaDpwLGZlYXR1cmVSZWR1Y3Rpb246YyxjdXN0b21QYXJhbWV0ZXJzOnUsYXBpS2V5OmR9KX1oaWdobGlnaHQoZSl7bGV0IHQ7ZSBpbnN0YW5jZW9mIHI/dD1bZS5nZXRPYmplY3RJZCgpXTpcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGU/dD1bZV06cy5pc0NvbGxlY3Rpb24oZSkmJmUubGVuZ3RoPjA/dD1lLm1hcCgoZT0+ZT8uZ2V0T2JqZWN0SWQoKSkpLnRvQXJyYXkoKTpBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiYodD1cIm51bWJlclwiPT10eXBlb2YgZVswXXx8XCJzdHJpbmdcIj09dHlwZW9mIGVbMF0/ZTplLm1hcCgoZT0+ZT8uZ2V0T2JqZWN0SWQoKSkpKTtjb25zdCBhPXQ/LmZpbHRlcihpKTtyZXR1cm4gYSYmYS5sZW5ndGg/KHRoaXMuX2FkZEhpZ2hsaWdodChhKSx7cmVtb3ZlOigpPT50aGlzLl9yZW1vdmVIaWdobGlnaHQoYSl9KTp7cmVtb3ZlOigpPT57fX19aGFzSGlnaGxpZ2h0KCl7cmV0dXJuISF0aGlzLl9oaWdobGlnaHRJZHMuc2l6ZX1hc3luYyBoaXRUZXN0KGUsaSl7aWYoIXRoaXMudGlsZVJlbmRlcmVyKXJldHVybiBudWxsO2NvbnN0IHM9YXdhaXQgdGhpcy50aWxlUmVuZGVyZXIuaGl0VGVzdChpKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIG51bGw7aGFzKFwiZmVhdHVyZWxheWVyLWZvcmNlLW1hcmtlci10ZXh0LWRyYXctb3JkZXJcIikmJnMuc29ydCgoKGUsdCk9PmUtdCkpO2NvbnN0e2ZlYXR1cmVzOmEsYWdncmVnYXRlczpufT1hd2FpdCB0aGlzLl9wcm94eS5nZXRGZWF0dXJlcyhzKTtyZXR1cm5bLi4ubi5tYXAoKHI9PnRoaXMuX2NyZWF0ZUdyYXBoaWNIaXQoZSx0LmZyb21KU09OKHIpKSkpLC4uLmEubWFwKCh0PT50aGlzLl9jcmVhdGVHcmFwaGljSGl0KGUsci5mcm9tSlNPTih0KSkpKV19cXVlcnlTdGF0aXN0aWNzKCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5U3RhdGlzdGljcygpfWFzeW5jIHF1ZXJ5U3VtbWFyeVN0YXRpc3RpY3MoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlTdW1tYXJ5U3RhdGlzdGljcyh0aGlzLl9jbGVhblVwUXVlcnkoZSksaSxyKX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVN1bW1hcnlTdGF0aXN0aWNzKGUsdCxyKXtjb25zdCBpPXsuLi50LHNjYWxlOnRoaXMudmlldy5zY2FsZX07cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5QWdncmVnYXRlU3VtbWFyeVN0YXRpc3RpY3ModGhpcy5fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpLGkscil9YXN5bmMgcXVlcnlVbmlxdWVWYWx1ZXMoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlVbmlxdWVWYWx1ZXModGhpcy5fY2xlYW5VcFF1ZXJ5KGUpLGkscil9YXN5bmMgcXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXMoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXModGhpcy5fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpLGkscil9YXN5bmMgcXVlcnlDbGFzc0JyZWFrcyhlLHQscil7Y29uc3QgaT17Li4udCxzY2FsZTp0aGlzLnZpZXcuc2NhbGV9O3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUNsYXNzQnJlYWtzKHRoaXMuX2NsZWFuVXBRdWVyeShlKSxpLHIpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlQ2xhc3NCcmVha3MoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrcyh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksaSxyKX1hc3luYyBxdWVyeUhpc3RvZ3JhbShlLHQscil7Y29uc3QgaT17Li4udCxzY2FsZTp0aGlzLnZpZXcuc2NhbGV9O3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUhpc3RvZ3JhbSh0aGlzLl9jbGVhblVwUXVlcnkoZSksaSxyKX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbShlLHQscil7Y29uc3QgaT17Li4udCxzY2FsZTp0aGlzLnZpZXcuc2NhbGV9O3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbSh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksaSxyKX1xdWVyeUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMucXVlcnlGZWF0dXJlc0pTT04oZSx0KS50aGVuKChlPT57Y29uc3QgdD13LmZyb21KU09OKGUpO3JldHVybiB0LmZlYXR1cmVzLmZvckVhY2goKGU9PnRoaXMuX3NldExheWVyc0ZvckZlYXR1cmUoZSkpKSx0fSkpfXF1ZXJ5VmlzaWJsZUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5VmlzaWJsZUZlYXR1cmVzKHRoaXMuX2NsZWFuVXBRdWVyeShlKSx0KS50aGVuKChlPT57Y29uc3QgdD13LmZyb21KU09OKGUpO3JldHVybiB0LmZlYXR1cmVzLmZvckVhY2goKGU9PnRoaXMuX3NldExheWVyc0ZvckZlYXR1cmUoZSkpKSx0fSkpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlcyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVzKHRoaXMuX2NsZWFuVXBBZ2dyZWdhdGVRdWVyeShlKSx0KSxpPVMuZnJvbUpTT04ocik7cmV0dXJuIGkuZmVhdHVyZXMuZm9yRWFjaCgoZT0+dGhpcy5fc2V0TGF5ZXJzRm9yRmVhdHVyZShlKSkpLGl9cXVlcnlBZ2dyZWdhdGVJZHMoZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVJZHModGhpcy5fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfXF1ZXJ5QWdncmVnYXRlQ291bnQoZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVDb3VudCh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksdCl9cXVlcnlBZ2dyZWdhdGVKU09OKGUsdCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5QWdncmVnYXRlcyh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksdCl9cXVlcnlGZWF0dXJlc0pTT04oZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlGZWF0dXJlcyh0aGlzLl9jbGVhblVwUXVlcnkoZSksdCl9cXVlcnlPYmplY3RJZHMoZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlPYmplY3RJZHModGhpcy5fY2xlYW5VcFF1ZXJ5KGUpLHQpfXF1ZXJ5RmVhdHVyZUNvdW50KGUsdCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5RmVhdHVyZUNvdW50KHRoaXMuX2NsZWFuVXBRdWVyeShlKSx0KX1xdWVyeUV4dGVudChlLHQpe3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUV4dGVudCh0aGlzLl9jbGVhblVwUXVlcnkoZSksdCkudGhlbigoZT0+KHtjb3VudDplLmNvdW50LGV4dGVudDpELmZyb21KU09OKGUuZXh0ZW50KX0pKSl9c2V0VmlzaWJpbGl0eShlLHQpe3Q/dGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcy5kZWxldGUoZSk6dGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcy5hZGQoZSksdGhpcy5fdXBkYXRlKCl9dXBkYXRlKGUpe2lmKCF0aGlzLl90aWxlU3RyYXRlZ3l8fCF0aGlzLnRpbGVSZW5kZXJlcilyZXR1cm47Y29uc3R7aGFzTWlzc2luZ1RpbGVzOnQsYWRkZWQ6cixyZW1vdmVkOml9PXRoaXMuX3RpbGVTdHJhdGVneS51cGRhdGUoZSk7KHIubGVuZ3RofHxpLmxlbmd0aCkmJnRoaXMuX3Byb3h5LnVwZGF0ZVRpbGVzKHthZGRlZDpyLHJlbW92ZWQ6aX0pLHQmJnRoaXMucmVxdWVzdFVwZGF0ZSgpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9YXR0YWNoKCl7dGhpcy52aWV3LnRpbWVsaW5lLnJlY29yZChgJHt0aGlzLmxheWVyLnRpdGxlfSAoRmVhdHVyZUxheWVyKSBBdHRhY2hgKSx0aGlzLl90aWxlU3RyYXRlZ3k9bmV3IGsoe2FjcXVpcmVUaWxlOmU9PnRoaXMuX2FjcXVpcmVUaWxlKGUpLHJlbGVhc2VUaWxlOmU9PnRoaXMuX3JlbGVhc2VUaWxlKGUpLHRpbGVJbmZvVmlldzp0aGlzLnZpZXcuZmVhdHVyZXNUaWxpbmdTY2hlbWUsYnVmZmVyOjB9KSx0aGlzLmFkZEF0dGFjaEhhbmRsZXMoYygoKCk9PnRoaXMucmVuZGVyaW5nQ29uZmlnSGFzaCksKCgpPT50aGlzLl91cGRhdGUoKSksZykpLFwic3RyZWFtXCIhPT10aGlzLmxheWVyLnR5cGUmJnRoaXMuYWRkQXR0YWNoSGFuZGxlcyh0aGlzLmxheWVyLm9uKFwiZWRpdHNcIiwoZT0+dGhpcy5fZWRpdChlKSkpKX1kZXRhY2goKXt0aGlzLl9jb21tYW5kc1F1ZXVlLmNsZWFyKCksdGhpcy5fcHJveHk/LnN0b3AoKSx0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMudGlsZVJlbmRlcmVyPy51bmluc3RhbGwodGhpcy5jb250YWluZXIpLHRoaXMudGlsZVJlbmRlcmVyPW51bGwsdGhpcy5fdGlsZVN0cmF0ZWd5PXUodGhpcy5fdGlsZVN0cmF0ZWd5KSx0aGlzLl90aWxlUmVuZGVyZXJIYXNoPW51bGx9bW92ZVN0YXJ0KCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9dmlld0NoYW5nZSgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfW1vdmVFbmQoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7Y29uc3QgZT1cInJlbmRlcmVyXCJpbiB0aGlzLmxheWVyJiZudWxsIT10aGlzLmxheWVyLnJlbmRlcmVyLHQ9dGhpcy5fY29tbWFuZHNRdWV1ZS51cGRhdGluZyxyPW51bGwhPXRoaXMuX3VwZGF0aW5nUmVxdWlyZWRGaWVsZHNQcm9taXNlLGk9IXRoaXMuX3Byb3h5fHwhdGhpcy5fcHJveHkuaXNSZWFkeSxzPXRoaXMuX3BpcGVsaW5lSXNVcGRhdGluZyxhPW51bGw9PXRoaXMudGlsZVJlbmRlcmVyfHx0aGlzLnRpbGVSZW5kZXJlcj8udXBkYXRpbmcsbj1lJiYodHx8cnx8aXx8c3x8YSk7cmV0dXJuIGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpJiZjb25zb2xlLmxvZyhgVXBkYXRpbmcgRkxWMkQgKCR7dGhpcy5sYXllci5pZH0pOiAke259XFxuICAtPiBoYXNSZW5kZXJlciAke2V9XFxuICAtPiBoYXNQZW5kaW5nQ29tbWFuZCAke3R9XFxuICAtPiB1cGRhdGluZ1JlcXVpcmVkRmllbGRzICR7cn1cXG4gIC0+IHVwZGF0aW5nUHJveHkgJHtpfVxcbiAgLT4gdXBkYXRpbmdQaXBlbGluZSAke3N9XFxuICAtPiB1cGRhdGluZ1RpbGVSZW5kZXJlciAke2F9XFxuYCksbn1fY3JlYXRlQ2xpZW50T3B0aW9ucygpe3JldHVybntzZXRVcGRhdGluZzplPT57dGhpcy5fc2V0KFwiX3BpcGVsaW5lSXNVcGRhdGluZ1wiLGUpfSxlbWl0RXZlbnQ6ZT0+e3RoaXMuZW1pdChlLm5hbWUsZS5ldmVudCl9fX1hc3luYyBfZGV0ZWN0UXVlcnlNb2RlKGUpe2NvbnN0IHQ9XCJwYXRoXCJpbiBlLHtsYXllcjpyfT10aGlzLGk9XCJlZGl0aW5nSW5mb1wiaW4gciYmci5lZGl0aW5nSW5mbz8ubGFzdEVkaXREYXRlLHM9XCJyZWZyZXNoSW50ZXJ2YWxcImluIHImJiEhci5yZWZyZXNoSW50ZXJ2YWwsYT0haSYmcyxuPVIocik7aWYodCYmKFwiZmVhdHVyZVwiPT09ci50eXBlfHxcInN1YnR5cGUtZ3JvdXBcIj09PXIudHlwZSkmJlwicG9pbnRcIj09PXIuZ2VvbWV0cnlUeXBlJiZuPy5xdWVyeS5zdXBwb3J0c1BhZ2luYXRpb24mJiFuPy5vcGVyYXRpb25zLnN1cHBvcnRzRWRpdGluZyYmIWEmJmhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1lbmFibGVkXCIpKXRyeXtjb25zdCBlPWF3YWl0IHIucXVlcnlGZWF0dXJlQ291bnQoKTtpZihlPD1oYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtcG9pbnQtbWluLXRocmVzaG9sZFwiKSlyZXR1cm57bW9kZTpcInNuYXBzaG90XCIsZmVhdHVyZUNvdW50OmV9O2NvbnN0IHQ9aGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LXBvaW50LW1heC10aHJlc2hvbGRcIiksaT1oYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtcG9pbnQtY292ZXJhZ2VcIikscz10aGlzLnZpZXcuZXh0ZW50LGE9ci5mdWxsRXh0ZW50LG49YT8uY2xvbmUoKS5pbnRlcnNlY3Rpb24ocyksbz1udWxsIT1uP24ud2lkdGgqbi5oZWlnaHQ6MCxsPWE/LndpZHRoKmE/LmhlaWdodDtpZihlPD10JiYoMD09PWw/MDpvL2wpPj1pKXJldHVybnttb2RlOlwic25hcHNob3RcIixmZWF0dXJlQ291bnQ6ZX19Y2F0Y2gobCl7by5nZXRMb2dnZXIodGhpcykud2FybihcIm1hcHZpZXctZmVhdHVyZS1sYXllclwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hlbiBxdWVyeWluZyBmb3IgZmVhdHVyZUNvdW50XCIse2Vycm9yOmx9KX1yZXR1cm57bW9kZTpcIm9uLWRlbWFuZFwifX1hc3luYyBfY3JlYXRlU2VydmljZU9wdGlvbnMoKXtjb25zdCBlPXRoaXMubGF5ZXI7aWYoXCJzdHJlYW1cIj09PWUudHlwZSlyZXR1cm4gbnVsbDtjb25zdCB0PVIoZSkse2NhcGFiaWxpdGllczpyLG9iamVjdElkRmllbGQ6aX09ZSxzPWUuZmllbGRzLm1hcCgoZT0+ZS50b0pTT04oKSkpLGE9bnVsbCE9ZS5mdWxsRXh0ZW50P2UuZnVsbEV4dGVudC50b0pTT04oKTpudWxsLG89TihlLmdlb21ldHJ5VHlwZSksbD1cInRpbWVJbmZvXCJpbiBlJiZlLnRpbWVJbmZvJiZlLnRpbWVJbmZvLnRvSlNPTigpfHxudWxsLHU9ZS5zcGF0aWFsUmVmZXJlbmNlP2Uuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKTpudWxsLGQ9XCJmZWF0dXJlXCI9PT1lLnR5cGU/ZS5nbG9iYWxJZEZpZWxkOm51bGw7bGV0IGg7XCJvZ2MtZmVhdHVyZVwiPT09ZS50eXBlP2g9ZS5zb3VyY2UuZ2V0U291cmNlKCk6TShlLnNvdXJjZSk/aD1hd2FpdCBlLnNvdXJjZS5vcGVuUG9ydHMoKTplLnBhcnNlZFVybCYmKGg9bihlLnBhcnNlZFVybCksXCJkeW5hbWljRGF0YVNvdXJjZVwiaW4gZSYmZS5keW5hbWljRGF0YVNvdXJjZSYmKGgucXVlcnk9e2xheWVyOkpTT04uc3RyaW5naWZ5KHtzb3VyY2U6ZS5keW5hbWljRGF0YVNvdXJjZX0pfSkpO2NvbnN0IHA9XCJkYXRlc0luVW5rbm93blRpbWV6b25lXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmRhdGVzSW5Vbmtub3duVGltZXpvbmUsYz0oXCJzdWJ0eXBlRmllbGRcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5zdWJ0eXBlRmllbGQ6bnVsbCk/P251bGwse21vZGU6eSxmZWF0dXJlQ291bnQ6Z309YXdhaXQgdGhpcy5fZGV0ZWN0UXVlcnlNb2RlKGgpO2xldCBmPXRoaXMubGF5ZXIub2JqZWN0SWRGaWVsZDtpZihcImZlYXR1cmVcIj09PXRoaXMubGF5ZXIudHlwZSYmbnVsbCE9dGhpcy5sYXllci5vcmRlckJ5JiZ0aGlzLmxheWVyLm9yZGVyQnkubGVuZ3RoKXtjb25zdCBlPSF0aGlzLmxheWVyLm9yZGVyQnlbMF0udmFsdWVFeHByZXNzaW9uJiZ0aGlzLmxheWVyLm9yZGVyQnlbMF0uZmllbGQ7ZSYmKGY9ZSl9cmV0dXJue3R5cGU6eSx0aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudDpwLHN1YnR5cGVGaWVsZDpjLGZlYXR1cmVDb3VudDpnLGdsb2JhbElkRmllbGQ6ZCxtYXhSZWNvcmRDb3VudDpyLnF1ZXJ5Lm1heFJlY29yZENvdW50LHRpbGVNYXhSZWNvcmRDb3VudDpyLnF1ZXJ5LnRpbGVNYXhSZWNvcmRDb3VudCxjYXBhYmlsaXRpZXM6cixlZmZlY3RpdmVDYXBhYmlsaXRpZXM6dCxmaWVsZHM6cyxmdWxsRXh0ZW50OmEsZ2VvbWV0cnlUeXBlOm8sb2JqZWN0SWRGaWVsZDppLHNvdXJjZTpoLHRpbWVJbmZvOmwsc3BhdGlhbFJlZmVyZW5jZTp1LG9yZGVyQnlGaWVsZHM6ZixkYXRlc0luVW5rbm93blRpbWV6b25lOnAsZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U6KFwiZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5kYXRlRmllbGRzVGltZVJlZmVyZW5jZT8udG9KU09OKCk6bnVsbCl8fG51bGwscHJlZmVycmVkVGltZVJlZmVyZW5jZTooXCJwcmVmZXJyZWRUaW1lUmVmZXJlbmNlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIucHJlZmVycmVkVGltZVJlZmVyZW5jZT8udG9KU09OKCk6bnVsbCl8fG51bGwsZWRpdEZpZWxkc0luZm86XCJlZGl0RmllbGRzSW5mb1wiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVkaXRGaWVsZHNJbmZvPy50b0pTT04oKTpudWxsfX1hc3luYyBfY3JlYXRlTWVtb3J5U2VydmljZU9wdGlvbnMoZSl7Y29uc3QgdD1hd2FpdCBlLm9wZW5Qb3J0cygpO3JldHVybnsuLi50aGlzLl9jcmVhdGVTZXJ2aWNlT3B0aW9ucygpLHR5cGU6XCJtZW1vcnlcIixzb3VyY2U6dH19X2NsZWFuVXBRdWVyeShlKXtjb25zdCB0PXguZnJvbShlKXx8dGhpcy5jcmVhdGVRdWVyeSgpO3JldHVybiB0Lm91dFNwYXRpYWxSZWZlcmVuY2V8fCh0Lm91dFNwYXRpYWxSZWZlcmVuY2U9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLHR9X2NsZWFuVXBBZ2dyZWdhdGVRdWVyeShlKXtjb25zdCB0PXguZnJvbShlKXx8dGhpcy5jcmVhdGVBZ2dyZWdhdGVRdWVyeSgpO3JldHVybiB0Lm91dFNwYXRpYWxSZWZlcmVuY2V8fCh0Lm91dFNwYXRpYWxSZWZlcmVuY2U9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLHR9YXN5bmMgX3VwZGF0ZSgpe3JldHVybiB0aGlzLl9jb21tYW5kc1F1ZXVlLnB1c2goe3R5cGU6XCJ1cGRhdGVcIn0pfWFzeW5jIF9lZGl0KGUpe2lmKHRoaXMuc3VzcGVuZGVkKXJldHVybiB2b2lkIHRoaXMuX2NsZWFyVGlsZXMoKTtyZXR1cm4gdGhpcy5fdmFsaWRhdGVFZGl0KGUpP3RoaXMuX2NvbW1hbmRzUXVldWUucHVzaCh7dHlwZTpcImVkaXRcIixlZGl0czplfSk6dm9pZCAwfWFzeW5jIGRvUmVmcmVzaChlKXtpZih0aGlzLmF0dGFjaGVkJiZ0aGlzLl90aWxlU3RyYXRlZ3kudGlsZUtleXMoKS5sZW5ndGgpcmV0dXJuIHRoaXMuc3VzcGVuZGVkJiZlP3ZvaWQgdGhpcy5fY2xlYXJUaWxlcygpOnRoaXMuX2NvbW1hbmRzUXVldWUucHVzaCh7dHlwZTpcInJlZnJlc2hcIixkYXRhQ2hhbmdlZDplfSl9X2NsZWFyVGlsZXMoKXt0aGlzLl90aWxlU3RyYXRlZ3kudGlsZUtleXMoKS5sZW5ndGgmJih0aGlzLl9wcm94eS51cGRhdGVUaWxlcyh7YWRkZWQ6W10scmVtb3ZlZDp0aGlzLl90aWxlU3RyYXRlZ3kudGlsZUtleXMoKX0pLHRoaXMuX3RpbGVTdHJhdGVneS5jbGVhcigpLHRoaXMucmVxdWVzdFVwZGF0ZSgpLHRoaXMuX2NvbW1hbmRzUXVldWUuY2xlYXIoKSx0aGlzLl91cGRhdGUoKSl9X3ZhbGlkYXRlRWRpdChlKXtjb25zdCB0PVwiZ2xvYmFsSWRGaWVsZFwiaW4gdGhpcy5sYXllciYmdGhpcy5sYXllci5nbG9iYWxJZEZpZWxkLHI9ZS5kZWxldGVkRmVhdHVyZXMuc29tZSgoZT0+LTE9PT1lLm9iamVjdElkfHwhZS5vYmplY3RJZCkpLGk9dCYmdGhpcy5hdmFpbGFibGVGaWVsZHMuaW5jbHVkZXModCk7cmV0dXJuIHImJiFpPyhvLmdldExvZ2dlcih0aGlzKS5lcnJvcihuZXcgYShcIm1hcHZpZXctYXBwbHktZWRpdHNcIixgRWRpdGluZyB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgcmVxdWlyZXMgdGhlIGxheWVyJ3MgZ2xvYmFsSWRGaWVsZCwgJHt0fSB0byBiZSBpbmNsdWRlZCB0aGUgbGF5ZXIncyBvdXRGaWVsZHMgZm9yIHVwZGF0ZXMgdG8gYmUgcmVmbGVjdGVkIG9uIHRoZSBtYXBgKSksbnVsbCk6ZX1hc3luYyBfZG9VcGRhdGUoKXt0cnl7aWYodGhpcy5kZXN0cm95ZWR8fCF0aGlzLl9oYXNSZXF1aXJlZFN1cHBvcnQodGhpcy5sYXllcil8fCF0aGlzLl90aWxlU3RyYXRlZ3kpcmV0dXJuO2NvbnN0e2ZlYXR1cmVFZmZlY3RWaWV3OnQsZmlsdGVyOnJ9PXRoaXM7aWYoYXdhaXQgdGhpcy5fdXBkYXRlUmVxdWlyZWRGaWVsZHMoKSx0aGlzLmRlc3Ryb3llZClyZXR1cm47Y29uc3R7cmVuZGVyZXI6aX09dGhpcy5fZ2V0RWZmZWN0aXZlUmVuZGVyZXIoKTt0aGlzLl9zZXQoXCJfZWZmZWN0aXZlUmVuZGVyZXJcIixpKTtjb25zdCBzPXRoaXMuX2NyZWF0ZVNjaGVtYUNvbmZpZygpLGE9dGhpcy5fY3JlYXRlQ29uZmlndXJhdGlvbihzLHIsdC5maWx0ZXIpLG49dGhpcy5fbGFzdERlZmluaXRpb25FeHByZXNzaW9uIT09YS5zY2hlbWEuc291cmNlLmRlZmluaXRpb25FeHByZXNzaW9uO3RoaXMuX2xhc3REZWZpbml0aW9uRXhwcmVzc2lvbj1hLnNjaGVtYS5zb3VyY2UuZGVmaW5pdGlvbkV4cHJlc3Npb247Y29uc3QgbD1hLnNjaGVtYS50aWxlUmVuZGVyZXIsdT10aGlzLl9jcmVhdGVUaWxlUmVuZGVyZXJIYXNoKGwpO2lmKFwic25hcHNob3RcIj09PXRoaXMuX3NlcnZpY2VPcHRpb25zLnR5cGUmJihhLnNjaGVtYS5zb3VyY2UuaW5pdGlhbEZlYXR1cmVDb3VudD10aGlzLl9zZXJ2aWNlT3B0aW9ucy5mZWF0dXJlQ291bnQpLHUhPT10aGlzLl90aWxlUmVuZGVyZXJIYXNoKXt0aGlzLl9pbml0VGlsZVJlbmRlcmVyKGwsaSk7Y29uc3QgZT10aGlzLmxheWVyLHQ9XCJzdHJlYW1cIj09PWUudHlwZT9hd2FpdCB0aGlzLl9pbml0U2VydmljZU9wdGlvbnMoKTp0aGlzLl9zZXJ2aWNlT3B0aW9uczt0aGlzLnRpbGVSZW5kZXJlci5vbkNvbmZpZ1VwZGF0ZShpKSxcInN0cmVhbVwiIT09ZS50eXBlJiZNKGUuc291cmNlKSYmKHQuc291cmNlPWF3YWl0IGUuc291cmNlLm9wZW5Qb3J0cygpKTtjb25zdCByPXthZGRlZDp0aGlzLl90aWxlU3RyYXRlZ3kudGlsZUtleXMoKSxyZW1vdmVkOltdfTtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVMYXllclZpZXcyRDogUHJveHkgc3RhcnR1cFwiKSxhd2FpdCB0aGlzLl9wcm94eS5zdGFydHVwKHRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZSxhLHQsciksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IEZpbmlzaGVkIHByb3h5IHN0YXJ0dXBcIiksdGhpcy5oYXNIaWdobGlnaHQoKSYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBVcGRhdGluZyBoaWdobGlnaHRcIiksYXdhaXQgdGhpcy5fcHJveHkuc2V0SGlnaGxpZ2h0KEFycmF5LmZyb20odGhpcy5faGlnaGxpZ2h0SWRzLmtleXMoKSkpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBGaW5pc2hlZCBoaWdobGlnaHQgdXBkYXRlXCIpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVMYXllclZpZXcyRDogb25Db25maWdVcGRhdGUgc3RhcnRcIiksdGhpcy50aWxlUmVuZGVyZXIub25Db25maWdVcGRhdGUoaSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IG9uQ29uZmlnVXBkYXRlIGVuZFwiKX1lbHNle1wic25hcHNob3RcIj09PXRoaXMuX3NlcnZpY2VPcHRpb25zLnR5cGUmJm4mJihhLnNjaGVtYS5zb3VyY2UuY2hhbmdlZEZlYXR1cmVDb3VudD1hd2FpdCB0aGlzLmxheWVyLnF1ZXJ5RmVhdHVyZUNvdW50KCkpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBVcGRhdGluZyBwcm94eVwiKTtjb25zdCB0PWF3YWl0IHRoaXMuX3Byb3h5LnVwZGF0ZShhKTtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVMYXllclZpZXcyRDogRmluaXNoZWQgcHJveHkgdXBkYXRlXCIpLCh0Lm1lc2h8fHQudGFyZ2V0cz8uYWdncmVnYXRlKSYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBMb2NraW5nIEdQVSBVcGxvYWRzXCIpLHRoaXMuX2xvY2tHUFVVcGxvYWRzKCkpO3RyeXtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVMYXllclZpZXcyRDogQXBwbHlpbmcgdXBkYXRlIHRvIHByb3h5XCIpLGF3YWl0IHRoaXMuX3Byb3h5LmFwcGx5VXBkYXRlKHQpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBGaW5pc2hlZCBhcHBseWluZyB1cGRhdGUgdG8gcHJveHlcIil9Y2F0Y2goZSl7cChlKXx8by5nZXRMb2dnZXIodGhpcykuZXJyb3IoZSl9KHQubWVzaHx8dC50YXJnZXRzPy5hZ2dyZWdhdGUpJiZ0aGlzLl91bmxvY2tHUFVVcGxvYWRzKCksdGhpcy50aWxlUmVuZGVyZXIub25Db25maWdVcGRhdGUoaSksdGhpcy5fdXBkYXRlQ2x1c3RlclNpemVWYXJpYWJsZSgpLHRoaXMuX2ZvcmNlQXR0cmlidXRlVGV4dHVyZVVwbG9hZCgpfXRoaXMuX3RpbGVSZW5kZXJlckhhc2g9dSx0aGlzLnRpbGVSZW5kZXJlci5pbnZhbGlkYXRlTGFiZWxzKCksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9Y2F0Y2goZSl7fX1hc3luYyBfZG9FZGl0KGUpe3RyeXthd2FpdCB0aGlzLl9wcm94eS5vbkVkaXRzKGUpfWNhdGNoKHQpe3AodCksMH19YXN5bmMgX2RvUmVmcmVzaChlKXt0aGlzLl9sb2NrR1BVVXBsb2FkcygpO3RyeXtsZXQgdDtlJiZcInNuYXBzaG90XCI9PT10aGlzLnF1ZXJ5TW9kZSYmXCJxdWVyeUZlYXR1cmVDb3VudFwiaW4gdGhpcy5sYXllciYmKHQ9YXdhaXQgdGhpcy5sYXllci5xdWVyeUZlYXR1cmVDb3VudCgpKSxhd2FpdCB0aGlzLl9wcm94eS5yZWZyZXNoKHtkYXRhQ2hhbmdlZDplLGZlYXR1cmVDb3VudDp0fSl9Y2F0Y2godCl7cCh0KSwwfXRoaXMuX3VubG9ja0dQVVVwbG9hZHMoKSx0aGlzLl9lZmZlY3RpdmVGZWF0dXJlUmVkdWN0aW9uJiZ0aGlzLl91cGRhdGVDbHVzdGVyU2l6ZVZhcmlhYmxlKCl9X3VwZGF0ZUNsdXN0ZXJTaXplVmFyaWFibGUoKXt0aGlzLl9uZWVkc0NsdXN0ZXJTaXplVXBkYXRlJiYodGhpcy50aWxlUmVuZGVyZXIub25Db25maWdVcGRhdGUodGhpcy5fZWZmZWN0aXZlUmVuZGVyZXIpLHRoaXMuX25lZWRzQ2x1c3RlclNpemVVcGRhdGU9ITEpfV9jcmVhdGVVcGRhdGVDbHVzdGVyU2l6ZVRhc2soZSx0KXtyZXR1cm4gYygoKCk9PnRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzKSwocj0+e3RoaXMuX3VwZGF0ZUNsdXN0ZXJFZmZlY3RpdmVSZW5kZXJlclNpemVWYXJpYWJsZShlLHQsciksdGhpcy5fbmVlZHNDbHVzdGVyU2l6ZVVwZGF0ZT0hMCx0aGlzLl91cGxvYWRzTG9ja2VkfHx0aGlzLl91cGRhdGVDbHVzdGVyU2l6ZVZhcmlhYmxlKCl9KSl9YXN5bmMgX3VwZGF0ZUNsdXN0ZXJFZmZlY3RpdmVSZW5kZXJlclNpemVWYXJpYWJsZShlLHQscil7aWYoZS5keW5hbWljQ2x1c3RlclNpemUmJlwidmlzdWFsVmFyaWFibGVzXCJpbiBlJiZlLnZpc3VhbFZhcmlhYmxlcyl7Y29uc3QgaT1WKGUudmlzdWFsVmFyaWFibGVzKTtpZihudWxsIT1pJiZcImNsdXN0ZXJfY291bnRcIj09PWkuZmllbGQpe2NvbnN0IHM9ZS52aXN1YWxWYXJpYWJsZXMuaW5kZXhPZihpKTtlLnZpc3VhbFZhcmlhYmxlc1tzXT1PKHQscik7Y29uc3QgYT1lLmNsb25lKCk7YS5keW5hbWljQ2x1c3RlclNpemU9ITAsdGhpcy5fc2V0KFwiX2VmZmVjdGl2ZVJlbmRlcmVyXCIsYSl9fX1fZ2V0RWZmZWN0aXZlUmVuZGVyZXIoKXtjb25zdCBlPXRoaXMubGF5ZXIsdD1cInJlbmRlcmVyXCJpbiBlP2UucmVuZGVyZXI6bnVsbCxyPXRoaXMuX2VmZmVjdGl2ZUZlYXR1cmVSZWR1Y3Rpb247aWYodGhpcy5fdXBkYXRlQ2x1c3RlclNpemVUYXNrPWQodGhpcy5fdXBkYXRlQ2x1c3RlclNpemVUYXNrKSxyJiZcInJlbmRlcmVyXCJpbiByJiZyLnJlbmRlcmVyJiYhci5yZW5kZXJlci5hdXRob3JpbmdJbmZvPy5pc0F1dG9HZW5lcmF0ZWQpe2NvbnN0IGU9ci5maWVsZHM7aWYoXCJjbHVzdGVyXCI9PT1yLnR5cGUpe2NvbnN0e3JlbmRlcmVyOnQsZGlkSW5qZWN0Oml9PUUoci5yZW5kZXJlcixyLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzKTtyZXR1cm4gaSYmKHRoaXMuX3VwZGF0ZUNsdXN0ZXJTaXplVGFzaz10aGlzLl9jcmVhdGVVcGRhdGVDbHVzdGVyU2l6ZVRhc2sodCxyKSkse3JlbmRlcmVyOnQsYWdncmVnYXRlRmllbGRzOmUsZmVhdHVyZVJlZHVjdGlvbjpyfX1yZXR1cm57cmVuZGVyZXI6ci5yZW5kZXJlcixhZ2dyZWdhdGVGaWVsZHM6ZSxmZWF0dXJlUmVkdWN0aW9uOnJ9fWlmKHImJlwiY2x1c3RlclwiPT09ci50eXBlJiZ0JiZUKHQpKXtjb25zdCBlPXIsaT1bXSxzPWooaSx0LGUsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXMsITApO3JldHVybiB0aGlzLl91cGRhdGVDbHVzdGVyU2l6ZVRhc2s9dGhpcy5fY3JlYXRlVXBkYXRlQ2x1c3RlclNpemVUYXNrKHMsZSkse3JlbmRlcmVyOnMsYWdncmVnYXRlRmllbGRzOmksZmVhdHVyZVJlZHVjdGlvbjpyfX1yZXR1cm57cmVuZGVyZXI6dCxhZ2dyZWdhdGVGaWVsZHM6W10sZmVhdHVyZVJlZHVjdGlvbjpudWxsfX1fYWNxdWlyZVRpbGUoZSl7Y29uc3QgdD10aGlzLnRpbGVSZW5kZXJlci5hY3F1aXJlVGlsZShlKTtyZXR1cm4gdC5vbmNlKFwiYXR0YWNoXCIsKCgpPT57dGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSksdH1fcmVsZWFzZVRpbGUoZSl7dGhpcy50aWxlUmVuZGVyZXIucmVsZWFzZVRpbGUoZSl9X2luaXRUaWxlUmVuZGVyZXIoZSx0KXtjb25zdCByPUkoZSx7bGF5ZXJWaWV3OnRoaXMsdGlsZUluZm9WaWV3OnRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZSxsYXllcjp0aGlzLmxheWVyfSk7cmV0dXJuIHRoaXMudGlsZVJlbmRlcmVyJiYodGhpcy5fdGlsZVN0cmF0ZWd5LmNsZWFyKCksdGhpcy50aWxlUmVuZGVyZXIudW5pbnN0YWxsKHRoaXMuY29udGFpbmVyKSx0aGlzLnRpbGVSZW5kZXJlcj11KHRoaXMudGlsZVJlbmRlcmVyKSksdGhpcy5kZXN0cm95ZWQ/bnVsbDoodGhpcy5fcHJveHkudGlsZVJlbmRlcmVyPXIsdGhpcy5fc2V0KFwidGlsZVJlbmRlcmVyXCIsciksdGhpcy50aWxlUmVuZGVyZXIuaW5zdGFsbCh0aGlzLmNvbnRhaW5lciksdGhpcy50aWxlUmVuZGVyZXIub25Db25maWdVcGRhdGUodCksdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy50aWxlUmVuZGVyZXIpfV9jcmVhdGVUaWxlUmVuZGVyZXJIYXNoKGUpe3JldHVybmAke2UudHlwZX1gfWdldCBoYXNGaWx0ZXIoKXtjb25zdCBlPSEhKFwiZmxvb3JJbmZvXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmZsb29ySW5mbyYmdGhpcy52aWV3LmZsb29ycyYmdGhpcy52aWV3LmZsb29ycy5sZW5ndGgpO3JldHVybiEhdGhpcy5maWx0ZXJ8fGV8fCEhdGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcy5zaXplfHwhIXRoaXMudGltZUV4dGVudH1faW5qZWN0T3ZlcnJpZGVzKGUpe2NvbnN0IHQ9bnVsbCE9ZT9lLnRpbWVFeHRlbnQ6bnVsbCxyPW51bGwhPXRoaXMudGltZUV4dGVudCYmbnVsbCE9dD90aGlzLnRpbWVFeHRlbnQuaW50ZXJzZWN0aW9uKHQpOnRoaXMudGltZUV4dGVudHx8dDtsZXQgaT1udWxsO2NvbnN0IHM9XCJmbG9vckluZm9cImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIuZmxvb3JJbmZvO2lmKHMpe2NvbnN0IHQ9bnVsbCE9ZT9lLndoZXJlOm51bGw7aT10aGlzLl9hZGRGbG9vckZpbHRlckNsYXVzZSh0KX1pZighdGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcy5zaXplJiYhciYmIXMpcmV0dXJuIG51bGwhPWU/ZS50b0pTT04oKTpudWxsOyhlPW51bGwhPWUmJmUuY2xvbmUoKXx8bmV3IHYpLnRpbWVFeHRlbnQ9cixpJiYoZS53aGVyZT1pKTtjb25zdCBhPWUudG9KU09OKCk7cmV0dXJuIGEuaGlkZGVuSWRzPUFycmF5LmZyb20odGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcyksYX1fYWRkRmxvb3JGaWx0ZXJDbGF1c2UoZSl7Y29uc3QgdD10aGlzLmxheWVyO2xldCByPWV8fFwiXCI7aWYoXCJmbG9vckluZm9cImluIHQmJnQuZmxvb3JJbmZvKXtsZXQgZT10aGlzLnZpZXcuZmxvb3JzO2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuIHI7dC5mbG9vckluZm8udmlld0FsbExldmVsSWRzPy5sZW5ndGgmJihlPXQuZmxvb3JJbmZvLnZpZXdBbGxMZXZlbElkcyk7Y29uc3QgaT1lLmZpbHRlcigoZT0+XCJcIiE9PWUpKS5tYXAoKGU9PlwiJ1wiK2UrXCInXCIpKTtpLnB1c2goXCInJ1wiKTtjb25zdCBzPXQuZmxvb3JJbmZvLmZsb29yRmllbGQ7bGV0IGE9XCIoXCIrcytcIiBJTiAoe2lkc30pIE9SIFwiK3MrXCIgSVMgTlVMTClcIjtpZihhPWEucmVwbGFjZShcIntpZHN9XCIsaS5qb2luKFwiLCBcIikpLG51bGwhPXImJnIuaW5jbHVkZXMocykpe2xldCBlPW5ldyBSZWdFeHAoXCJBTkQgXFxcXChcIitzK1wiLipOVUxMXFxcXClcIixcImdcIik7cj1yLnJlcGxhY2UoZSxcIlwiKSxlPW5ldyBSZWdFeHAoXCJcXFxcKFwiK3MrXCIuKk5VTExcXFxcKVwiLFwiZ1wiKSxyPXIucmVwbGFjZShlLFwiXCIpLHI9ci5yZXBsYWNlQWxsKC9cXHMrL2csXCIgXCIpLnRyaW0oKX1yPVwiXCIhPT1yP1wiKFwiK3IrXCIpIEFORCBcIithOmF9cmV0dXJuXCJcIiE9PXI/cjpudWxsfV9jcmVhdGVDb25maWd1cmF0aW9uKGUsdCxyKXtjb25zdCBpPVwiZmVhdHVyZVwiPT09dGhpcy5sYXllci50eXBlJiZ0aGlzLmxheWVyLmhpc3RvcmljTW9tZW50P3RoaXMubGF5ZXIuaGlzdG9yaWNNb21lbnQuZ2V0VGltZSgpOnZvaWQgMCxzPVwiZmVhdHVyZVwiPT09dGhpcy5sYXllci50eXBlP3RoaXMubGF5ZXIuZ2RiVmVyc2lvbj8/dm9pZCAwOnZvaWQgMCxhPW5ldyBBcnJheShGKSxuPXRoaXMuX2luamVjdE92ZXJyaWRlcyh0KTthWzBdPW4sYVsxXT1udWxsIT1yP3IudG9KU09OKCk6bnVsbDtjb25zdCBvPUMoZSk7aWYobnVsbD09bylyZXR1cm4gbnVsbDtjb25zdCBsPUooXCIyZFwiKTtyZXR1cm57YXZhaWxhYmxlRmllbGRzOnRoaXMuYXZhaWxhYmxlRmllbGRzLGdkYlZlcnNpb246cyxoaXN0b3JpY01vbWVudDppLGRldmljZVBpeGVsUmF0aW86d2luZG93LmRldmljZVBpeGVsUmF0aW98fDEsZmlsdGVyczphLHNjaGVtYTpvLHN1cHBvcnRzVGV4dHVyZUZsb2F0Omwuc3VwcG9ydHNUZXh0dXJlRmxvYXQsbWF4VGV4dHVyZVNpemU6bC5tYXhUZXh0dXJlU2l6ZX19X2hhc1JlcXVpcmVkU3VwcG9ydChlKXtyZXR1cm4hKFwicmVuZGVyZXJcImluIGUpfHxxKGUucmVuZGVyZXIpfV9sb2NrR1BVVXBsb2Fkcygpe3RoaXMudGlsZVJlbmRlcmVyJiYodGhpcy5fdXBsb2Fkc0xvY2tlZD0hMCx0aGlzLnRpbGVSZW5kZXJlci5sb2NrR1BVVXBsb2FkcygpKX1fdW5sb2NrR1BVVXBsb2Fkcygpe3RoaXMudGlsZVJlbmRlcmVyJiYodGhpcy5fdXBsb2Fkc0xvY2tlZD0hMSx0aGlzLnRpbGVSZW5kZXJlci51bmxvY2tHUFVVcGxvYWRzKCkpfV9mb3JjZUF0dHJpYnV0ZVRleHR1cmVVcGxvYWQoKXt0aGlzLnRpbGVSZW5kZXJlciYmdGhpcy50aWxlUmVuZGVyZXIuZm9yY2VBdHRyaWJ1dGVUZXh0dXJlVXBsb2FkKCl9X2NyZWF0ZVNjaGVtYUNvbmZpZygpe2NvbnN0IGU9dGhpcy5sYXllcjtyZXR1cm57cmVuZGVyZXI6XCJyZW5kZXJlclwiaW4gZT9lLnJlbmRlcmVyOm51bGwsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UsdGltZUV4dGVudDpcInRpbWVFeHRlbnRcImluIGU/ZS50aW1lRXh0ZW50Om51bGwsZGVmaW5pdGlvbkV4cHJlc3Npb246ZS5kZWZpbml0aW9uRXhwcmVzc2lvbixmZWF0dXJlUmVkdWN0aW9uOnRoaXMuX2VmZmVjdGl2ZUZlYXR1cmVSZWR1Y3Rpb24sZmllbGRzOmUuZmllbGRzLGdlb21ldHJ5VHlwZTplLmdlb21ldHJ5VHlwZSxoaXN0b3JpY01vbWVudDpcImhpc3RvcmljTW9tZW50XCJpbiBlP2UuaGlzdG9yaWNNb21lbnQ6bnVsbCxsYWJlbHNWaXNpYmxlOlwibGFiZWxzVmlzaWJsZVwiaW4gZSYmZS5sYWJlbHNWaXNpYmxlLGxhYmVsaW5nSW5mbzpcImxhYmVsaW5nSW5mb1wiaW4gZT9lLmxhYmVsaW5nSW5mbzpudWxsLGF2YWlsYWJsZUZpZWxkczp0aGlzLmF2YWlsYWJsZUZpZWxkcyxmZWF0dXJlRWZmZWN0OnRoaXMuZmVhdHVyZUVmZmVjdCxmaWx0ZXI6dGhpcy5maWx0ZXIsZ2RiVmVyc2lvbjpcImdkYlZlcnNpb25cImluIGU/ZS5nZGJWZXJzaW9uOm51bGwscGl4ZWxCdWZmZXI6MCxvcmRlckJ5Olwib3JkZXJCeVwiaW4gZSYmZS5vcmRlckJ5P2Uub3JkZXJCeTpudWxsLGN1c3RvbVBhcmFtZXRlcnM6ey4uLlwiY3VzdG9tUGFyYW1ldGVyc1wiaW4gZT9lLmN1c3RvbVBhcmFtZXRlcnM6dm9pZCAwLHRva2VuOlwiYXBpS2V5XCJpbiBlP2UuYXBpS2V5Pz92b2lkIDA6dm9pZCAwfSxzdWJ0eXBlQ29kZTpcInN1YnR5cGVDb2RlXCJpbiBlP2Uuc3VidHlwZUNvZGU6dm9pZCAwLHN1YnR5cGVGaWVsZDpcInN1YnR5cGVGaWVsZFwiaW4gZT9lLnN1YnR5cGVGaWVsZDp2b2lkIDB9fV9hZGRIaWdobGlnaHQoZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZih0aGlzLl9oaWdobGlnaHRJZHMuaGFzKHQpKXtjb25zdCBlPXRoaXMuX2hpZ2hsaWdodElkcy5nZXQodCk7dGhpcy5faGlnaGxpZ2h0SWRzLnNldCh0LGUrMSl9ZWxzZSB0aGlzLl9oaWdobGlnaHRJZHMuc2V0KHQsMSk7dGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCkuY2F0Y2goKGU9PntwKGUpfHxvLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKX1fcmVtb3ZlSGlnaGxpZ2h0KGUpe2Zvcihjb25zdCB0IG9mIGUpaWYodGhpcy5faGlnaGxpZ2h0SWRzLmhhcyh0KSl7Y29uc3QgZT10aGlzLl9oaWdobGlnaHRJZHMuZ2V0KHQpLTE7MD09PWU/dGhpcy5faGlnaGxpZ2h0SWRzLmRlbGV0ZSh0KTp0aGlzLl9oaWdobGlnaHRJZHMuc2V0KHQsZSl9dGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCkuY2F0Y2goKGU9PntwKGUpfHxvLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKX1fc2V0TGF5ZXJzRm9yRmVhdHVyZShlKXtjb25zdCB0PXRoaXMubGF5ZXI7ZS5sYXllcj10LGUuc291cmNlTGF5ZXI9dH1fY3JlYXRlR3JhcGhpY0hpdChlLHQpe3JldHVybiB0aGlzLl9zZXRMYXllcnNGb3JGZWF0dXJlKHQpLG51bGwhPXQuZ2VvbWV0cnkmJih0Lmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLHt0eXBlOlwiZ3JhcGhpY1wiLGdyYXBoaWM6dCxsYXllcjp0aGlzLmxheWVyLG1hcFBvaW50OmV9fX07ZShbbSgpXSxLLnByb3RvdHlwZSxcIl9zZXJ2aWNlT3B0aW9uc1wiLHZvaWQgMCksZShbbSgpXSxLLnByb3RvdHlwZSxcIl9wcm94eVwiLHZvaWQgMCksZShbbSgpXSxLLnByb3RvdHlwZSxcIl9waXBlbGluZUlzVXBkYXRpbmdcIix2b2lkIDApLGUoW20oKV0sSy5wcm90b3R5cGUsXCJfZWZmZWN0aXZlUmVuZGVyZXJcIix2b2lkIDApLGUoW20oKV0sSy5wcm90b3R5cGUsXCJfZWZmZWN0aXZlRmVhdHVyZVJlZHVjdGlvblwiLG51bGwpLGUoW20oKV0sSy5wcm90b3R5cGUsXCJfYWdncmVnYXRlVmFsdWVSYW5nZXNcIix2b2lkIDApLGUoW20oKV0sSy5wcm90b3R5cGUsXCJfY29tbWFuZHNRdWV1ZVwiLHZvaWQgMCksZShbbSgpXSxLLnByb3RvdHlwZSxcImZlYXR1cmVFZmZlY3RWaWV3XCIsdm9pZCAwKSxlKFttKCldLEsucHJvdG90eXBlLFwibGFiZWxzVmlzaWJsZVwiLG51bGwpLGUoW20oKV0sSy5wcm90b3R5cGUsXCJsYWJlbGluZ0NvbGxpc2lvbkluZm9zXCIsbnVsbCksZShbbSh7cmVhZE9ubHk6ITB9KV0sSy5wcm90b3R5cGUsXCJxdWVyeU1vZGVcIixudWxsKSxlKFttKCldLEsucHJvdG90eXBlLFwicmVuZGVyaW5nQ29uZmlnSGFzaFwiLG51bGwpLGUoW20oKV0sSy5wcm90b3R5cGUsXCJ0aWxlUmVuZGVyZXJcIix2b2lkIDApLGUoW20oKV0sSy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksSz1lKFtfKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuRmVhdHVyZUxheWVyVmlldzJEXCIpXSxLKTtjb25zdCBXPUs7ZXhwb3J0e1cgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0hlYXRtYXBUaWxlUmVuZGVyZXIgYXMgZX1mcm9tXCIuL3RpbGVSZW5kZXJlcnMvSGVhdG1hcFRpbGVSZW5kZXJlci5qc1wiO2ltcG9ydHtTeW1ib2xUaWxlUmVuZGVyZXIgYXMgcn1mcm9tXCIuL3RpbGVSZW5kZXJlcnMvU3ltYm9sVGlsZVJlbmRlcmVyLmpzXCI7ZnVuY3Rpb24gdCh0LG4pe2lmKCF0KXJldHVybiBudWxsO3N3aXRjaCh0LnR5cGUpe2Nhc2VcInN5bWJvbFwiOnJldHVybiBuZXcgcihuKTtjYXNlXCJoZWF0bWFwXCI6cmV0dXJuIG5ldyBlKG4pfX1leHBvcnR7dCBhcyBjcmVhdGVPclJldXNlVGlsZVJlbmRlcmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7SGFuZGxlT3duZXIgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0hhbmRsZU93bmVyLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgcj1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50aWxlcz1uZXcgTWFwfWRlc3Ryb3koKXt0aGlzLnRpbGVzLmNsZWFyKCksdGhpcy5sYXllcj10aGlzLmxheWVyVmlldz10aGlzLnRpbGVJbmZvVmlldz10aGlzLnRpbGVzPW51bGx9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuaXNVcGRhdGluZygpfWFjcXVpcmVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5jcmVhdGVUaWxlKGUpO3JldHVybiB0Lm9uY2UoXCJpc1JlYWR5XCIsKCgpPT50aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpKSksdGhpcy50aWxlcy5zZXQoZS5pZCx0KSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLHR9Zm9yY2VBdHRyaWJ1dGVUZXh0dXJlVXBsb2FkKCl7fWZvckVhY2hUaWxlKGUpe3RoaXMudGlsZXMuZm9yRWFjaChlKX1yZWxlYXNlVGlsZShlKXt0aGlzLnRpbGVzLmRlbGV0ZShlLmtleS5pZCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSx0aGlzLmRpc3Bvc2VUaWxlKGUpfWlzVXBkYXRpbmcoKXtsZXQgZT0hMDt0aGlzLnRpbGVzLmZvckVhY2goKHQ9PntlPWUmJnQuaXNSZWFkeX0pKTtjb25zdCB0PSFlO2lmKGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpKXtsZXQgcz1cIlwiO3RoaXMudGlsZXMuZm9yRWFjaCgodD0+e2NvbnN0IGk9dC51cGRhdGVTdGF0dXM7cys9YC0+ICR7dC5rZXkuaWR9OiBpc1JlYWR5OiAke3QuaXNSZWFkeX0gc3RhdHVzOiAke2l9XFxuYCxlPWUmJnQuaXNSZWFkeX0pKSxjb25zb2xlLmxvZyhgVXBkYXRpbmcgQmFzZVRpbGVSZW5kZXJlciAke3R9XFxuJHtzfWApfXJldHVybiB0fXNldEhpZ2hsaWdodCgpe31pbnZhbGlkYXRlTGFiZWxzKCl7fXJlcXVlc3RVcGRhdGUoKXt0aGlzLmxheWVyVmlldy5yZXF1ZXN0VXBkYXRlKCl9fTtlKFtzKCldLHIucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW3MoKV0sci5wcm90b3R5cGUsXCJsYXllclZpZXdcIix2b2lkIDApLGUoW3MoKV0sci5wcm90b3R5cGUsXCJ0aWxlSW5mb1ZpZXdcIix2b2lkIDApLGUoW3MoKV0sci5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHI9ZShbaShcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnRpbGVSZW5kZXJlcnMuQmFzZVRpbGVSZW5kZXJlclwiKV0scik7Y29uc3Qgbz1yO2V4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2dlbmVyYXRlR3JhZGllbnQgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9oZWF0bWFwVXRpbHMuanNcIjtpbXBvcnR7Qml0bWFwVGlsZUNvbnRhaW5lciBhcyByfWZyb21cIi4uLy4uLy4uL2VuZ2luZS9CaXRtYXBUaWxlQ29udGFpbmVyLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9CYXNlVGlsZVJlbmRlcmVyLmpzXCI7aW1wb3J0e0hlYXRtYXBTb3VyY2UgYXMgbn1mcm9tXCIuL3N1cHBvcnQvSGVhdG1hcFNvdXJjZS5qc1wiO2xldCBvPWNsYXNzIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9pbnRlbnNpdHlJbmZvPXttaW5EZW5zaXR5OjAsbWF4RGVuc2l0eTowfSx0aGlzLnR5cGU9XCJoZWF0bWFwXCIsdGhpcy5mZWF0dXJlc1ZpZXc9e2F0dHJpYnV0ZVZpZXc6e2luaXRpYWxpemU6KCk9Pnt9LHJlcXVlc3RVcGRhdGU6KCk9Pnt9fSxyZXF1ZXN0UmVuZGVyOigpPT57fX0sdGhpcy5fY29udGFpbmVyPW5ldyByKGUudGlsZUluZm9WaWV3KX1jcmVhdGVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fY29udGFpbmVyLmNyZWF0ZVRpbGUoZSk7cmV0dXJuIHRoaXMudGlsZUluZm9WaWV3LmdldFRpbGVDb29yZHModC5iaXRtYXAsZSksdC5iaXRtYXAucmVzb2x1dGlvbj10aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihlKSx0fW9uQ29uZmlnVXBkYXRlKCl7Y29uc3QgZT10aGlzLmxheWVyLnJlbmRlcmVyO2lmKFwiaGVhdG1hcFwiPT09ZS50eXBlKXtjb25zdHttaW5EZW5zaXR5OnQsbWF4RGVuc2l0eTpyLGNvbG9yU3RvcHM6c309ZTt0aGlzLl9pbnRlbnNpdHlJbmZvLm1pbkRlbnNpdHk9dCx0aGlzLl9pbnRlbnNpdHlJbmZvLm1heERlbnNpdHk9cix0aGlzLl9ncmFkaWVudD1pKHMpLHRoaXMudGlsZXMuZm9yRWFjaCgoZT0+e2NvbnN0IGk9ZS5iaXRtYXAuc291cmNlO2kmJihpLm1pbkRlbnNpdHk9dCxpLm1heERlbnNpdHk9cixpLmdyYWRpZW50PXRoaXMuX2dyYWRpZW50LGUuYml0bWFwLmludmFsaWRhdGVUZXh0dXJlKCksZS5iaXRtYXAucmVxdWVzdFJlbmRlcigpKX0pKX19aGl0VGVzdCgpe3JldHVybiBQcm9taXNlLnJlc29sdmUoW10pfWluc3RhbGwoZSl7ZS5hZGRDaGlsZCh0aGlzLl9jb250YWluZXIpfXVuaW5zdGFsbChlKXt0aGlzLl9jb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKSxlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcil9ZGlzcG9zZVRpbGUoZSl7dGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKGUpLGUuZGVzdHJveSgpfXN1cHBvcnRzUmVuZGVyZXIoZSl7cmV0dXJuIGUmJlwiaGVhdG1hcFwiPT09ZS50eXBlfW9uVGlsZURhdGEoZSl7Y29uc3QgdD10aGlzLnRpbGVzLmdldChlLnRpbGVLZXkpO2lmKCF0KXJldHVybjtjb25zdCBpPWUuaW50ZW5zaXR5SW5mbyx7bWluRGVuc2l0eTpyLG1heERlbnNpdHk6c309dGhpcy5faW50ZW5zaXR5SW5mbyxvPXQuYml0bWFwLnNvdXJjZXx8bmV3IG47by5pbnRlbnNpdGllcz1pJiZpLm1hdHJpeHx8bnVsbCxvLm1pbkRlbnNpdHk9cixvLm1heERlbnNpdHk9cyxvLmdyYWRpZW50PXRoaXMuX2dyYWRpZW50LHQuYml0bWFwLnNvdXJjZT1vLHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0KSx0aGlzLl9jb250YWluZXIucmVxdWVzdFJlbmRlcigpLHRoaXMucmVxdWVzdFVwZGF0ZSgpfW9uVGlsZUVycm9yKGUpe2NvbnNvbGUuZXJyb3IoZSl9bG9ja0dQVVVwbG9hZHMoKXt9dW5sb2NrR1BVVXBsb2Fkcygpe31mZXRjaFJlc291cmNlKGUsdCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoZSksUHJvbWlzZS5yZWplY3QoKX19O289ZShbdChcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnRpbGVSZW5kZXJlcnMuSGVhdG1hcFRpbGVSZW5kZXJlclwiKV0sbyk7ZXhwb3J0e28gYXMgSGVhdG1hcFRpbGVSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0ZlYXR1cmVUaWxlLmpzXCI7aW1wb3J0e3NpbXBsaWZ5VlZSZW5kZXJlciBhcyBvfWZyb21cIi4uL3N1cHBvcnQvcmVuZGVyZXJVdGlscy5qc1wiO2ltcG9ydCBsIGZyb21cIi4vQmFzZVRpbGVSZW5kZXJlci5qc1wiO2ltcG9ydHtjb252ZXJ0VmlzdWFsVmFyaWFibGVzIGFzIG59ZnJvbVwiLi9zdXBwb3J0L3Zpc3VhbFZhcmlhYmxlc1V0aWxzLmpzXCI7aW1wb3J0e1dHTEZlYXR1cmVWaWV3IGFzIHV9ZnJvbVwiLi9zdXBwb3J0L1dHTEZlYXR1cmVWaWV3LmpzXCI7bGV0IHA9Y2xhc3MgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJzeW1ib2xcIn1pbnN0YWxsKGUpe2NvbnN0IHQ9KCk9PnRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksaT1uZXcgdSh0aGlzLnRpbGVJbmZvVmlldyx0aGlzLmxheWVyVmlldyx0aGlzLmxheWVyLHQpO3RoaXMuZmVhdHVyZXNWaWV3PWksZS5hZGRDaGlsZChpKX11bmluc3RhbGwoZSl7ZS5yZW1vdmVDaGlsZCh0aGlzLmZlYXR1cmVzVmlldyksdGhpcy5mZWF0dXJlc1ZpZXc9dCh0aGlzLmZlYXR1cmVzVmlldyl9ZmV0Y2hSZXNvdXJjZShlLHQpe2NvbnN0e3VybDpyfT1lLHM9dGhpcy5mZWF0dXJlc1ZpZXcuc3RhZ2U7dHJ5e3JldHVybiBzLnJlc291cmNlTWFuYWdlci5mZXRjaFJlc291cmNlKHIse3NpZ25hbDp0LnNpZ25hbH0pfWNhdGNoKGEpe3JldHVybiBpKGEpP1Byb21pc2UucmVzb2x2ZSh7d2lkdGg6MCxoZWlnaHQ6MH0pOlByb21pc2UucmVqZWN0KGEpfX1pc1VwZGF0aW5nKCl7Y29uc3QgZT1zdXBlci5pc1VwZGF0aW5nKCksdD0hdGhpcy5mZWF0dXJlc1ZpZXd8fHRoaXMuZmVhdHVyZXNWaWV3LmlzVXBkYXRpbmcoKSxpPXRoaXMuZmVhdHVyZXNWaWV3Py5oYXNFbXB0eUF0dHJpYnV0ZVZpZXcoKSxyPWV8fHR8fGUmJmk7cmV0dXJuIGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpJiZjb25zb2xlLmxvZyhgVXBkYXRpbmcgU3ltYm9sVGlsZVJlbmRlcmVyICR7cn1cXG4gIC0+IHVwZGF0aW5nVGlsZXMgJHtlfVxcbiAgLT4gaGFzRmVhdHVyZXNWaWV3ICR7ISF0aGlzLmZlYXR1cmVzVmlld31cXG4gIC0+IHVwZGF0aW5nRmVhdHVyZXNWaWV3ICR7dH1gKSxyfWhpdFRlc3QoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZXNWaWV3LmhpdFRlc3QoZSl9c3VwcG9ydHNSZW5kZXJlcihlKXtyZXR1cm4gbnVsbCE9ZSYmW1wic2ltcGxlXCIsXCJjbGFzcy1icmVha3NcIixcInVuaXF1ZS12YWx1ZVwiLFwiZG90LWRlbnNpdHlcIixcImRpY3Rpb25hcnlcIixcImhlYXRtYXBcIixcInBpZS1jaGFydFwiXS5pbmNsdWRlcyhlLnR5cGUpfW9uQ29uZmlnVXBkYXRlKGUpe2xldCB0PW51bGw7aWYoZSYmXCJ2aXN1YWxWYXJpYWJsZXNcImluIGUpe2NvbnN0IGk9KG8oZSkudmlzdWFsVmFyaWFibGVzfHxbXSkubWFwKChlPT57Y29uc3QgdD1lLmNsb25lKCk7cmV0dXJuXCJub3JtYWxpemF0aW9uRmllbGRcImluIGUmJih0Lm5vcm1hbGl6YXRpb25GaWVsZD1udWxsKSxlLnZhbHVlRXhwcmVzc2lvbiYmXCIkdmlldy5zY2FsZVwiIT09ZS52YWx1ZUV4cHJlc3Npb24mJih0LnZhbHVlRXhwcmVzc2lvbj1udWxsLHQuZmllbGQ9XCJub3BcIiksdH0pKTt0PW4oaSl9dGhpcy5mZWF0dXJlc1ZpZXcuc2V0UmVuZGVyZXJJbmZvKGUsdCx0aGlzLmxheWVyVmlldy5mZWF0dXJlRWZmZWN0KX1vblRpbGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy50aWxlcy5nZXQoZS50aWxlS2V5KTt0JiZlLmRhdGEmJnRoaXMuZmVhdHVyZXNWaWV3Lm9uVGlsZURhdGEodCxlLmRhdGEpLHRoaXMubGF5ZXJWaWV3LnZpZXcubGFiZWxNYW5hZ2VyLnJlcXVlc3RVcGRhdGUoKX1vblRpbGVFcnJvcihlKXtjb25zdCB0PXRoaXMudGlsZXMuZ2V0KGUudGlsZUtleSk7dCYmdGhpcy5mZWF0dXJlc1ZpZXcub25UaWxlRXJyb3IodCl9Zm9yY2VBdHRyaWJ1dGVUZXh0dXJlVXBsb2FkKCl7dGhpcy5mZWF0dXJlc1ZpZXcuYXR0cmlidXRlVmlldy5mb3JjZVRleHR1cmVVcGxvYWQoKX1sb2NrR1BVVXBsb2Fkcygpe3RoaXMuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcubG9ja1RleHR1cmVVcGxvYWQoKSx0aGlzLnRpbGVzLmZvckVhY2goKGU9PmUubG9jaygpKSl9dW5sb2NrR1BVVXBsb2Fkcygpe3RoaXMuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcudW5sb2NrVGV4dHVyZVVwbG9hZCgpLHRoaXMudGlsZXMuZm9yRWFjaCgoZT0+ZS51bmxvY2soKSkpfWFzeW5jIGdldE1hdGVyaWFsSXRlbXMoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZXNWaWV3LmdldE1hdGVyaWFsSXRlbXMoZSl9aW52YWxpZGF0ZUxhYmVscygpe3RoaXMuZmVhdHVyZXNWaWV3Lmhhc0xhYmVscyYmdGhpcy5sYXllclZpZXcudmlldy5sYWJlbE1hbmFnZXIucmVxdWVzdFVwZGF0ZSgpfWNyZWF0ZVRpbGUoZSl7Y29uc3QgdD10aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlQm91bmRzKHMoKSxlKSxpPSgpPT50aGlzLmxheWVyVmlldy52aWV3LmxhYmVsTWFuYWdlci5yZXF1ZXN0VXBkYXRlKCkscj10aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihlLmxldmVsKSxvPXRoaXMuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXc7cmV0dXJuIG5ldyBhKGUscix0WzBdLHRbM10sbyxpKX1kaXNwb3NlVGlsZShlKXt0aGlzLmZlYXR1cmVzVmlldy5yZW1vdmVDaGlsZChlKSxlLmRlc3Ryb3koKSx0aGlzLmxheWVyVmlldy52aWV3LmxhYmVsTWFuYWdlci5yZXF1ZXN0VXBkYXRlKCl9fTtwPWUoW3IoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy50aWxlUmVuZGVyZXJzLlN5bWJvbFRpbGVSZW5kZXJlclwiKV0scCk7ZXhwb3J0e3AgYXMgU3ltYm9sVGlsZVJlbmRlcmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZHJhd0hlYXRtYXAgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9oZWF0bWFwVXRpbHMuanNcIjtjbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5ncmFkaWVudD1udWxsLHRoaXMuaGVpZ2h0PTUxMix0aGlzLmludGVuc2l0aWVzPW51bGwsdGhpcy53aWR0aD01MTJ9cmVuZGVyKGkpe3QoaSw1MTIsdGhpcy5pbnRlbnNpdGllcyx0aGlzLmdyYWRpZW50LHRoaXMubWluRGVuc2l0eSx0aGlzLm1heERlbnNpdHkpfX1leHBvcnR7aSBhcyBIZWF0bWFwU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7YnJ1c2hlcyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2VuZ2luZS9icnVzaGVzLmpzXCI7aW1wb3J0e0ZlYXR1cmVDb250YWluZXIgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvRmVhdHVyZUNvbnRhaW5lci5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtjb25zdCByPWhhcyhcImZlYXR1cmVsYXllci1vcmRlci1ieS1zZXJ2ZXItZW5hYmxlZFwiKTtjbGFzcyBhIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHQscyxpKXtzdXBlcihlKSx0aGlzLl9oaXRUZXN0c1JlcXVlc3RzPVtdLHRoaXMuX2xheWVyPXMsdGhpcy5fbGF5ZXJWaWV3PXQsdGhpcy5fb25VcGRhdGU9aX1yZW5kZXJDaGlsZHJlbihlKXtpZih0aGlzLmF0dHJpYnV0ZVZpZXcudXBkYXRlKCksdGhpcy5oYXNBbmltYXRpb24pe2UucGFpbnRlci5lZmZlY3RzLmludGVncmF0ZS5kcmF3KGUsZS5hdHRyaWJ1dGVWaWV3KX1zdXBlci5yZW5kZXJDaGlsZHJlbihlKX1oYXNFbXB0eUF0dHJpYnV0ZVZpZXcoKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVWaWV3LmlzRW1wdHkoKX1pc1VwZGF0aW5nKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlVmlldy5pc1VwZGF0aW5nKCl9aGl0VGVzdCh0KXtsZXQgcz10aGlzLl9oaXRUZXN0c1JlcXVlc3RzLmZpbmQoKCh7eDplLHk6c30pPT5lPT09dC54JiZzPT09dC55KSk7Y29uc3QgaT1lKCk7cmV0dXJuIHM/cy5yZXNvbHZlcnMucHVzaChpKToocz17eDp0LngseTp0LnkscmVzb2x2ZXJzOltpXX0sdGhpcy5faGl0VGVzdHNSZXF1ZXN0cy5wdXNoKHMpKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxpLnByb21pc2V9b25UaWxlRGF0YShlLHQpe2NvbnN0IHM9ciYmXCJvcmRlckJ5XCJpbiB0aGlzLl9sYXllciYmdGhpcy5fbGF5ZXIub3JkZXJCeSxpPXMmJnM/Lmxlbmd0aCYmIXNbMF0udmFsdWVFeHByZXNzaW9uJiZzWzBdLmZpZWxkLGE9ISFzJiZ0aGlzLl9sYXllclZpZXcub3JkZXJCeUZpZWxkcz09PWk7ZS5wYXRjaCh0LGEpLHRoaXMuY29udGFpbnMoZSl8fHRoaXMuYWRkQ2hpbGQoZSksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9b25UaWxlRXJyb3IoZSl7dGhpcy5jb250YWlucyhlKXx8dGhpcy5hZGRDaGlsZChlKX11cGRhdGVUcmFuc2l0aW9uUHJvcGVydGllcyhlLHQpe3N1cGVyLnVwZGF0ZVRyYW5zaXRpb25Qcm9wZXJ0aWVzKGUsdCksdGhpcy5fbGF5ZXJWaWV3LmZlYXR1cmVFZmZlY3RWaWV3LnRyYW5zaXRpb25TdGVwKGUsdCksdGhpcy5fbGF5ZXJWaWV3LmZlYXR1cmVFZmZlY3RWaWV3LnRyYW5zaXRpb25pbmcmJnRoaXMucmVxdWVzdFJlbmRlcigpfWRvUmVuZGVyKGUpe2NvbnN0e21pblNjYWxlOnQsbWF4U2NhbGU6c309dGhpcy5fbGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZSxpPWUuc3RhdGUuc2NhbGU7aTw9KHR8fDEvMCkmJmk+PXMmJnN1cGVyLmRvUmVuZGVyKGUpfWFmdGVyUmVuZGVyKGUpe3N1cGVyLmFmdGVyUmVuZGVyKGUpLHRoaXMuX2hpdFRlc3RzUmVxdWVzdHMubGVuZ3RoJiZ0aGlzLnJlcXVlc3RSZW5kZXIoKX1vbkF0dHJpYnV0ZVN0b3JlVXBkYXRlKCl7dGhpcy5oYXNMYWJlbHMmJnRoaXMuX2xheWVyVmlldy52aWV3LmxhYmVsTWFuYWdlci5yZXF1ZXN0VXBkYXRlKCksdGhpcy5fb25VcGRhdGUoKX1nZXQgaGFzQW5pbWF0aW9uKCl7cmV0dXJuIHRoaXMuaGFzTGFiZWxzfXNldFN0ZW5jaWxSZWZlcmVuY2UoZSl7Y29uc3R7cmVuZGVyZXJTY2hlbWE6dH09ZS5yZW5kZXJlckluZm87aWYoXCJkb3QtZGVuc2l0eVwiPT09dD8udHlwZSYmdD8uZG90U2l6ZT4xfHxcImhlYXRtYXBcIj09PXQ/LnR5cGUpe2NvbnN0IGU9MTtmb3IoY29uc3QgdCBvZiB0aGlzLmNoaWxkcmVuKXQuc3RlbmNpbFJlZj10LmtleS5sZXZlbCtlfWVsc2Ugc3VwZXIuc2V0U3RlbmNpbFJlZmVyZW5jZShlKX1nZXQgaGFzTGFiZWxzKCl7aWYoXCJzdWJsYXllcnNcImluIHRoaXMuX2xheWVyKXJldHVybiB0aGlzLl9sYXllci5zdWJsYXllcnMuc29tZSgoZT0+ISFlLmxhYmVsaW5nSW5mbz8ubGVuZ3RoJiZlLmxhYmVsc1Zpc2libGUpKTtjb25zdCBlPXRoaXMuX2xheWVyLmZlYXR1cmVSZWR1Y3Rpb24sdD1lJiZcImxhYmVsaW5nSW5mb1wiaW4gZSYmZS5sYWJlbHNWaXNpYmxlJiZlLmxhYmVsaW5nSW5mbyYmZS5sYWJlbGluZ0luZm8ubGVuZ3RoO3JldHVybiB0aGlzLl9sYXllci5sYWJlbGluZ0luZm8mJnRoaXMuX2xheWVyLmxhYmVsaW5nSW5mby5sZW5ndGgmJnRoaXMuX2xheWVyLmxhYmVsc1Zpc2libGV8fCEhdH1wcmVwYXJlUmVuZGVyUGFzc2VzKGUpe2NvbnN0IHM9c3VwZXIucHJlcGFyZVJlbmRlclBhc3NlcyhlKSxyPWUucmVnaXN0ZXJSZW5kZXJQYXNzKHtuYW1lOlwibGFiZWxcIixicnVzaGVzOlt0LmxhYmVsXSx0YXJnZXQ6KCk9PnRoaXMuaGFzTGFiZWxzP3RoaXMuY2hpbGRyZW46bnVsbCxkcmF3UGhhc2U6aS5MQUJFTHxpLkxBQkVMX0FMUEhBfSk7aWYoaGFzKFwiZmVhdHVyZWxheWVyLWZvcmNlLW1hcmtlci10ZXh0LWRyYXctb3JkZXJcIikpe2NvbnN0IGk9ZS5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJnZW9tZXRyeVwiLGJydXNoZXM6W3QuZmlsbCx0LmRvdERlbnNpdHksdC5saW5lLHQuaGVhdG1hcCx0LnBpZUNoYXJ0XSx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW4sZm9yY2VEcmF3QnlEaXNwbGF5T3JkZXI6ITAsZW5hYmxlRGVmYXVsdERyYXc6KCk9PiF0aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxlZmZlY3RzOlt7YXBwbHk6ZS5lZmZlY3RzLm91dHNpZGVFZmZlY3QsZW5hYmxlOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxhcmdzOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuZXhjbHVkZWRFZmZlY3RzfSx7YXBwbHk6ZS5lZmZlY3RzLmluc2lkZUVmZmVjdCxlbmFibGU6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5oYXNFZmZlY3RzLGFyZ3M6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5pbmNsdWRlZEVmZmVjdHN9LHthcHBseTplLmVmZmVjdHMuaGl0dGVzdCxlbmFibGU6KCk9PiEhdGhpcy5faGl0VGVzdHNSZXF1ZXN0cy5sZW5ndGgsYXJnczooKT0+dGhpcy5faGl0VGVzdHNSZXF1ZXN0c31dfSk7cy5wdXNoKGkpfWVsc2V7Y29uc3QgaT1lLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcImdlb21ldHJ5XCIsYnJ1c2hlczpbdC5maWxsLHQuZG90RGVuc2l0eSx0LmxpbmUsdC5tYXJrZXIsdC5oZWF0bWFwLHQucGllQ2hhcnQsdC50ZXh0XSx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW4sZW5hYmxlRGVmYXVsdERyYXc6KCk9PiF0aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxlZmZlY3RzOlt7YXBwbHk6ZS5lZmZlY3RzLm91dHNpZGVFZmZlY3QsZW5hYmxlOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxhcmdzOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuZXhjbHVkZWRFZmZlY3RzfSx7YXBwbHk6ZS5lZmZlY3RzLmluc2lkZUVmZmVjdCxlbmFibGU6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5oYXNFZmZlY3RzLGFyZ3M6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5pbmNsdWRlZEVmZmVjdHN9LHthcHBseTplLmVmZmVjdHMuaGl0dGVzdCxlbmFibGU6KCk9PiEhdGhpcy5faGl0VGVzdHNSZXF1ZXN0cy5sZW5ndGgsYXJnczooKT0+dGhpcy5faGl0VGVzdHNSZXF1ZXN0c31dfSk7cy5wdXNoKGkpfWNvbnN0IGE9ZS5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJoaWdobGlnaHRcIixicnVzaGVzOlt0LmZpbGwsdC5kb3REZW5zaXR5LHQubGluZSx0Lm1hcmtlcix0LnBpZUNoYXJ0LHQudGV4dF0sdGFyZ2V0OigpPT50aGlzLmNoaWxkcmVuLGRyYXdQaGFzZTppLkhJR0hMSUdIVCxlbmFibGVEZWZhdWx0RHJhdzooKT0+ITEsZWZmZWN0czpbe2FwcGx5OmUuZWZmZWN0cy5oaWdobGlnaHQsZW5hYmxlOigpPT4hIXRoaXMuX2xheWVyVmlldy5oYXNIaWdobGlnaHQoKX1dfSk7cmV0dXJuIHMucHVzaChhKSxzLnB1c2gociksc319ZXhwb3J0e2EgYXMgV0dMRmVhdHVyZVZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtRdWV1ZVByb2Nlc3NvciBhcyBvfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvUXVldWVQcm9jZXNzb3IuanNcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlLnNvbWUoKGU9PmUuZ2xvYmFsSWQpKX1mdW5jdGlvbiBuKGUpe3JldHVybiBlLmZpbHRlcigoZT0+IWUuZXJyb3IpKS5tYXAoKGU9PmUub2JqZWN0SWQ/P2UuZ2xvYmFsSWQpKS5maWx0ZXIoKGU9Pm51bGwhPWUpKX1mdW5jdGlvbiBkKGUsdCl7Y29uc3Qgcz1uZXcgU2V0KGUpO2Zvcihjb25zdCByIG9mIHQudmFsdWVzKCkpcy5hZGQocik7cmV0dXJuIHN9ZnVuY3Rpb24gYShlLHQpe2NvbnN0IHM9bmV3IFNldChlKTtmb3IoY29uc3QgciBvZiB0LnZhbHVlcygpKXMuZGVsZXRlKHIpO3JldHVybiBzfWxldCBjPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9oYXNHbG9iYWxJZHM9ITEsdGhpcy5fbm90aWZ5VXBkYXRpbmc9KCk9Pnt0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfX1ub3JtYWxpemVDdG9yQXJncyhlKXtyZXR1cm4gdGhpcy5fcXVldWVQcm9jZXNzb3I9bmV3IG8oe2NvbmN1cnJlbmN5OjEscHJvY2VzczplLnByb2Nlc3N9KSx7fX1kZXN0cm95KCl7dGhpcy5jbGVhcigpfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl9xdWV1ZVByb2Nlc3Nvci5sZW5ndGg+MH1jbGVhcigpe3RoaXMuX3F1ZXVlUHJvY2Vzc29yLmNsZWFyKCl9cHVzaChlKXtjb25zdCB0PXRoaXMuX3F1ZXVlUHJvY2Vzc29yLHM9dC5sYXN0KCk7c3dpdGNoKGUudHlwZSl7Y2FzZVwidXBkYXRlXCI6Y2FzZVwicmVmcmVzaFwiOmlmKHM/LnR5cGU9PT1lLnR5cGUpcmV0dXJuO3QucHVzaChlKS50aGVuKHRoaXMuX25vdGlmeVVwZGF0aW5nLHRoaXMuX25vdGlmeVVwZGF0aW5nKTticmVhaztjYXNlXCJlZGl0XCI6e2NvbnN0IHI9XCJwcm9jZXNzZWQtZWRpdFwiPT09cz8udHlwZT9zOm51bGw7ciYmdC5wb3BMYXN0KCk7Y29uc3Qgbz10aGlzLl9tZXJnZUVkaXRzKHIsZSk7Zm9yKGNvbnN0IGUgb2YgbyllJiZ0LnB1c2goZSkudGhlbih0aGlzLl9ub3RpZnlVcGRhdGluZyx0aGlzLl9ub3RpZnlVcGRhdGluZyk7YnJlYWt9fXRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9X21lcmdlRWRpdHMoZSx0KXtjb25zdHthZGRlZEZlYXR1cmVzOnMsZGVsZXRlZEZlYXR1cmVzOnIsdXBkYXRlZEZlYXR1cmVzOm99PXQuZWRpdHM7aWYodGhpcy5faGFzR2xvYmFsSWRzPXRoaXMuX2hhc0dsb2JhbElkc3x8aShzKXx8aShvKXx8aShyKSx0aGlzLl9oYXNHbG9iYWxJZHMpe3JldHVybltlLHt0eXBlOlwicHJvY2Vzc2VkLWVkaXRcIixlZGl0czp7YWRkT3JNb2RpZmllZDpbLi4ucywuLi5vXSxyZW1vdmVkOnJ9fV19Y29uc3QgYz1uZXcgU2V0KG4oZT8uZWRpdHMuYWRkT3JNb2RpZmllZD8/W10pKSxwPW5ldyBTZXQobihlPy5lZGl0cy5yZW1vdmVkPz9bXSkpLHU9bmV3IFNldChbLi4ubihzKSwuLi5uKG8pXSksbD1uZXcgU2V0KG4ocikpO3JldHVyblt7dHlwZTpcInByb2Nlc3NlZC1lZGl0XCIsZWRpdHM6e2FkZE9yTW9kaWZpZWQ6QXJyYXkuZnJvbShkKGEoYyxsKSx1KSkubWFwKChlPT4oe29iamVjdElkOmV9KSkpLHJlbW92ZWQ6QXJyYXkuZnJvbShkKGEocCx1KSxsKSkubWFwKChlPT4oe29iamVjdElkOmV9KSkpfX1dfX07ZShbcyh7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3MoKV0sYy5wcm90b3R5cGUsXCJwcm9jZXNzXCIsdm9pZCAwKSxjPWUoW3IoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5zdXBwb3J0LkZlYXR1cmVDb21tYW5kUXVldWVcIildLGMpO2NvbnN0IHA9YztleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7RXNyaVByb21pc2UgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7Y3JlYXRlUmVzb2x2ZXIgYXMgcixpZ25vcmVBYm9ydEVycm9ycyBhcyBzLHRocm93SWZOb3RBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b3BlbiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy93b3JrZXJzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtmdW5jdGlvbiBjKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWxldCB1PWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9zdGFydHVwUmVzb2x2ZXI9cigpLHRoaXMuaXNSZWFkeT0hMX1pbml0aWFsaXplKCl7dGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl9zdGFydFdvcmtlcih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCkpfWRlc3Ryb3koKXt0aGlzLl9jb250cm9sbGVyLmFib3J0KCksdGhpcy5fY29ubmVjdGlvbiYmdGhpcy5fY29ubmVjdGlvbi5jbG9zZSgpfXNldCB0aWxlUmVuZGVyZXIoZSl7dGhpcy5jbGllbnQudGlsZVJlbmRlcmVyPWV9Z2V0IGNsb3NlZCgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uLmNsb3NlZH1hc3luYyBzdGFydHVwKGUsdCxyLHMpe2F3YWl0IHRoaXMud2hlbigpO2NvbnN0IG89dGhpcy5fY29udHJvbGxlci5zaWduYWwsaT1jKHIuc291cmNlKT97dHJhbnNmZXJMaXN0OnIuc291cmNlLHNpZ25hbDpvfTp2b2lkIDAsbj17c2VydmljZTpyLGNvbmZpZzp0LHRpbGVJbmZvOmUudGlsZUluZm8udG9KU09OKCksdGlsZXM6c307YXdhaXQgdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJzdGFydHVwXCIsbixpKSx0aGlzLl9zdGFydHVwUmVzb2x2ZXIucmVzb2x2ZSgpLHRoaXMuX3NldChcImlzUmVhZHlcIiwhMCl9YXN5bmMgdXBkYXRlVGlsZXMoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJ1cGRhdGVUaWxlc1wiLGUpKX1hc3luYyB1cGRhdGUoZSl7Y29uc3QgdD17Y29uZmlnOmV9O3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcInVwZGF0ZVwiLHQpfWFzeW5jIGFwcGx5VXBkYXRlKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImFwcGx5VXBkYXRlXCIsZSl9YXN5bmMgc2V0SGlnaGxpZ2h0KGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSxzKHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5zZXRIaWdobGlnaHRcIixlKSl9YXN5bmMgc3RvcCgpe2lmKGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLCF0aGlzLmNsb3NlZClyZXR1cm4gcyh0aGlzLl9jb25uZWN0aW9uLmludm9rZShcInN0b3BcIikpfWFzeW5jIHJlZnJlc2goZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnJlZnJlc2hcIixlKSl9YXN5bmMgcXVlcnlTdW1tYXJ5U3RhdGlzdGljcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeVN1bW1hcnlTdGF0aXN0aWNzXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlU3VtbWFyeVN0YXRpc3RpY3MoZSx0LHIpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlBZ2dyZWdhdGVTdW1tYXJ5U3RhdGlzdGljc1wiLHtxdWVyeTplLnRvSlNPTigpLHBhcmFtczp0fSxyKX1hc3luYyBxdWVyeVVuaXF1ZVZhbHVlcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeVVuaXF1ZVZhbHVlc1wiLHtxdWVyeTplLnRvSlNPTigpLHBhcmFtczp0fSxyKX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVVuaXF1ZVZhbHVlcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZVVuaXF1ZVZhbHVlc1wiLHtxdWVyeTplLnRvSlNPTigpLHBhcmFtczp0fSxyKX1hc3luYyBxdWVyeUNsYXNzQnJlYWtzKGUsdCxyKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5Q2xhc3NCcmVha3NcIix7cXVlcnk6ZS50b0pTT04oKSxwYXJhbXM6dH0scil9YXN5bmMgcXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZUNsYXNzQnJlYWtzXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5SGlzdG9ncmFtKGUsdCxyKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5SGlzdG9ncmFtXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlSGlzdG9ncmFtKGUsdCxyKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5QWdncmVnYXRlSGlzdG9ncmFtXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5RmVhdHVyZXMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5RmVhdHVyZXNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeVZpc2libGVGZWF0dXJlcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlWaXNpYmxlRmVhdHVyZXNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeU9iamVjdElkcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlPYmplY3RJZHNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlGZWF0dXJlQ291bnRcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeUV4dGVudChlLHQpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlFeHRlbnRcIixlLnRvSlNPTigpLHQpfWFzeW5jIHF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb25zKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUxhdGVzdE9ic2VydmF0aW9uc1wiLGUudG9KU09OKCksdCl9YXN5bmMgcXVlcnlTdGF0aXN0aWNzKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlTdGF0aXN0aWNzXCIsZSl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZXNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZUNvdW50KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZUNvdW50XCIsZT8udG9KU09OKCksdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVJZHMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5QWdncmVnYXRlSWRzXCIsZT8udG9KU09OKCksdCl9YXN5bmMgZ2V0T2JqZWN0SWQoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5nZXRPYmplY3RJZFwiLGUpfWFzeW5jIGdldERpc3BsYXlJZChlKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLmdldERpc3BsYXlJZFwiLGUpfWFzeW5jIGdldEZlYXR1cmVzKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIuZ2V0RmVhdHVyZXNcIixlKX1hc3luYyBnZXRBZ2dyZWdhdGVzKCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5nZXRBZ2dyZWdhdGVzXCIpfWFzeW5jIGdldEFnZ3JlZ2F0ZVZhbHVlUmFuZ2VzKCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5nZXRBZ2dyZWdhdGVWYWx1ZVJhbmdlc1wiKX1hc3luYyBtYXBWYWxpZERpc3BsYXlJZHMoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5tYXBWYWxpZERpc3BsYXlJZHNcIixlKX1hc3luYyBvbkVkaXRzKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSxzKHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5vbkVkaXRzXCIsZSkpfWFzeW5jIGVuYWJsZUV2ZW50KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLmVuYWJsZUV2ZW50XCIse25hbWU6ZSx2YWx1ZTp0fSkpfWFzeW5jIHBhdXNlU3RyZWFtKCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnBhdXNlU3RyZWFtXCIpKX1hc3luYyByZXN1bWVTdHJlYW0oKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2Uscyh0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucmVzdW1lU3RyZWFtXCIpKX1hc3luYyBzZW5kTWVzc2FnZVRvU29ja2V0KGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSxzKHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5zZW5kTWVzc2FnZVRvU29ja2V0XCIsZSkpfWFzeW5jIHNlbmRNZXNzYWdlVG9DbGllbnQoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnNlbmRNZXNzYWdlVG9DbGllbnRcIixlKSl9YXN5bmMgdXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2Uscyh0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIudXBkYXRlQ3VzdG9tUGFyYW1ldGVyc1wiLGUpKX1hc3luYyBfc3RhcnRXb3JrZXIoZSl7dHJ5e3RoaXMuX2Nvbm5lY3Rpb249YXdhaXQgaShcIlBpcGVsaW5lXCIse2NsaWVudDp0aGlzLmNsaWVudCxzdHJhdGVneTpcImRlZGljYXRlZFwiLHNpZ25hbDplfSl9Y2F0Y2godCl7byh0KX19fTtlKFtuKCldLHUucHJvdG90eXBlLFwiaXNSZWFkeVwiLHZvaWQgMCksZShbbih7Y29uc3RydWN0T25seTohMH0pXSx1LnByb3RvdHlwZSxcImNsaWVudFwiLHZvaWQgMCksZShbbigpXSx1LnByb3RvdHlwZSxcInRpbGVSZW5kZXJlclwiLG51bGwpLHU9ZShbYShcImVzcmkudmlld3MuMmQubGF5ZXJzLnN1cHBvcnQuRmVhdHVyZUxheWVyUHJveHlcIildLHUpO2NvbnN0IGw9dTtleHBvcnR7bCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y2xhbXAgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHttZXRlckluIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvbGVuZ3RoVXRpbHMuanNcIjtpbXBvcnR7VHJhbnNmb3JtYXRpb25UeXBlIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3Zpc3VhbFZhcmlhYmxlcy9zdXBwb3J0L3NpemVWYXJpYWJsZVV0aWxzLmpzXCI7Y29uc3Qgcj1NYXRoLlBJO2Z1bmN0aW9uIGkoZSx0KXtzd2l0Y2godC50cmFuc2Zvcm1hdGlvblR5cGUpe2Nhc2Ugbi5BZGRpdGl2ZTpyZXR1cm4gcyhlLHQpO2Nhc2Ugbi5Db25zdGFudDpyZXR1cm4gbyh0LGUpO2Nhc2Ugbi5DbGFtcGVkTGluZWFyOnJldHVybiB1KGUsdCk7Y2FzZSBuLlByb3BvcnRpb25hbDpyZXR1cm4gbChlLHQpO2Nhc2Ugbi5TdG9wczpyZXR1cm4gYyhlLHQpO2Nhc2Ugbi5SZWFsV29ybGRTaXplOnJldHVybiBtKGUsdCk7Y2FzZSBuLklkZW50aXR5OnJldHVybiBlO2Nhc2Ugbi5Vbmtub3duOnJldHVybiBudWxsfX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ZTppKHQsZSl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlKyhhKHQubWluU2l6ZSxlKXx8dC5taW5EYXRhVmFsdWUpfWZ1bmN0aW9uIG8oZSx0KXtjb25zdCBuPWUuc3RvcHM7bGV0IHI9biYmbi5sZW5ndGgmJm5bMF0uc2l6ZTtyZXR1cm4gbnVsbD09ciYmKHI9ZS5taW5TaXplKSxhKHIsdCl9ZnVuY3Rpb24gdShlLHQpe2NvbnN0IG49dC5taW5EYXRhVmFsdWUscj10Lm1heERhdGFWYWx1ZSxpPShlLW4pLyhyLW4pLHM9YSh0Lm1pblNpemUsZSksbz1hKHQubWF4U2l6ZSxlKTtyZXR1cm4gZTw9bj9zOmU+PXI/bzpzK2kqKG8tcyl9ZnVuY3Rpb24gbCh0LG4pe2NvbnN0IHI9dC9uLm1pbkRhdGFWYWx1ZSxpPWEobi5taW5TaXplLHQpLHM9YShuLm1heFNpemUsdCk7bGV0IG89bnVsbDtyZXR1cm4gbz1yKmksZShvLGkscyl9ZnVuY3Rpb24gYyhlLHQpe2NvbnN0W24scixpXT1wKGUsdC5jYWNoZS5pcERhdGEpO2lmKG49PT1yKXJldHVybiBhKHQuc3RvcHNbbl0uc2l6ZSxlKTt7Y29uc3Qgcz1hKHQuc3RvcHNbbl0uc2l6ZSxlKTtyZXR1cm4gcysoYSh0LnN0b3BzW3JdLnNpemUsZSktcykqaX19ZnVuY3Rpb24gbShuLGkpe2NvbnN0IHM9dFtpLnZhbHVlVW5pdF0sbz1hKGkubWluU2l6ZSxuKSx1PWEoaS5tYXhTaXplLG4pLHt2YWx1ZVJlcHJlc2VudGF0aW9uOmx9PWk7bGV0IGM9bnVsbDtyZXR1cm4gYz1cImFyZWFcIj09PWw/MipNYXRoLnNxcnQobi9yKS9zOlwicmFkaXVzXCI9PT1sfHxcImRpc3RhbmNlXCI9PT1sPzIqbi9zOm4vcyxlKGMsbyx1KX1mdW5jdGlvbiBwKGUsdCl7aWYoIXQpcmV0dXJuO2xldCBuPTAscj10Lmxlbmd0aC0xO3JldHVybiB0LnNvbWUoKCh0LGkpPT5lPHQ/KHI9aSwhMCk6KG49aSwhMSkpKSxbbixyLChlLXRbbl0pLyh0W3JdLXRbbl0pXX1leHBvcnR7aSBhcyBnZXRTaXplRm9yVmFsdWVTaW1wbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4vVGlsZUNvdmVyYWdlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi9UaWxlS2V5LmpzXCI7Y29uc3QgdD0xZS02O2NsYXNzIGx7Y29uc3RydWN0b3IoZSl7dGhpcy5fdGlsZXM9bmV3IE1hcCx0aGlzLmJ1ZmZlcj0wLHRoaXMuYWNxdWlyZVRpbGU9ZS5hY3F1aXJlVGlsZSx0aGlzLnJlbGVhc2VUaWxlPWUucmVsZWFzZVRpbGUsdGhpcy50aWxlSW5mb1ZpZXc9ZS50aWxlSW5mb1ZpZXcsdGhpcy5idWZmZXI9ZS5idWZmZXJ9ZGVzdHJveSgpe31jbGVhcigpe3RoaXMuX3RpbGVzLmZvckVhY2goKGU9PnRoaXMuX3JlbGVhc2VUaWxlKGUpKSl9dGlsZUtleXMoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLl90aWxlcy5mb3JFYWNoKCgoaSx0KT0+ZS5wdXNoKHQpKSksZX11cGRhdGUodCl7Y29uc3QgbD10aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlQ292ZXJhZ2UodC5zdGF0ZSx0aGlzLmJ1ZmZlciwhMCxcImNsb3Nlc3RcIikse3NwYW5zOnMsbG9kSW5mbzpyfT1sLHtsZXZlbDphfT1yLG89W10sZD1bXSxoPW5ldyBTZXQsbj1uZXcgU2V0O2Zvcihjb25zdHtyb3c6ZSxjb2xGcm9tOmMsY29sVG86Zn1vZiBzKWZvcihsZXQgdD1jO3Q8PWY7dCsrKXtjb25zdCBsPWkuZ2V0SWQoYSxlLHIubm9ybWFsaXplQ29sKHQpLHIuZ2V0V29ybGRGb3JDb2x1bW4odCkpLHM9dGhpcy5fZ2V0T3JBY3F1aXJlVGlsZShvLGwpO2guYWRkKGwpLHMuaXNSZWFkeT9zLnZpc2libGU9ITA6bi5hZGQocy5rZXkpfW4uZm9yRWFjaCgoZT0+dGhpcy5fYWRkUGxhY2Vob2xkZXJzKGgsZSkpKSx0aGlzLl90aWxlcy5mb3JFYWNoKChlPT57aC5oYXMoZS5rZXkuaWQpfHwoZC5wdXNoKGUua2V5LmlkKSx0aGlzLl9yZWxlYXNlVGlsZShlKSl9KSksZS5wb29sLnJlbGVhc2UobCk7cmV0dXJue2hhc01pc3NpbmdUaWxlczpuLnNpemU+MCxhZGRlZDpvLHJlbW92ZWQ6ZH19X2dldE9yQWNxdWlyZVRpbGUoZSx0KXtpZighdGhpcy5fdGlsZXMuaGFzKHQpKXtjb25zdCBsPXRoaXMuYWNxdWlyZVRpbGUobmV3IGkodCkpO2UucHVzaCh0KSx0aGlzLl90aWxlcy5zZXQodCxsKSxsLnZpc2libGU9ITF9cmV0dXJuIHRoaXMuX3RpbGVzLmdldCh0KX1fZ2V0VGlsZShlKXtyZXR1cm4gdGhpcy5fdGlsZXMuZ2V0KGUpfV9yZWxlYXNlVGlsZShlKXt0aGlzLl90aWxlcy5kZWxldGUoZS5rZXkuaWQpLHRoaXMucmVsZWFzZVRpbGUoZSl9X2FkZFBsYWNlaG9sZGVycyhlLGkpe2NvbnN0IGw9dGhpcy5fYWRkUGxhY2Vob2xkZXJDaGlsZHJlbihlLGkpO2lmKCEoTWF0aC5hYnMoMS1sKTx0KSl7aWYoIXRoaXMuX2FkZFBsYWNlaG9sZGVyUGFyZW50KGUsaSkpe3RoaXMuX2dldFRpbGUoaS5pZCkudmlzaWJsZT0hMH19fV9hZGRQbGFjZWhvbGRlckNoaWxkcmVuKGUsaSl7bGV0IHQ9MDtyZXR1cm4gdGhpcy5fdGlsZXMuZm9yRWFjaCgobD0+e3QrPXRoaXMuX2FkZFBsYWNlaG9sZGVyQ2hpbGQoZSxsLGkpfSkpLHR9X2FkZFBsYWNlaG9sZGVyQ2hpbGQoZSxpLHQpe2lmKGkua2V5LmxldmVsPD10LmxldmVsfHwhaS5oYXNEYXRhfHwhdC5jb250YWlucyhpLmtleSkpcmV0dXJuIDA7aS52aXNpYmxlPSEwLGUuYWRkKGkua2V5LmlkKTtyZXR1cm4gMS8oMTw8MiooaS5rZXkubGV2ZWwtdC5sZXZlbCkpfV9hZGRQbGFjZWhvbGRlclBhcmVudChlLGkpe2xldCB0PWkuZ2V0UGFyZW50S2V5KCksbD0wLHM9bnVsbDtmb3IoO251bGwhPXQ7KXtpZihlLmhhcyh0LmlkKSlyZXR1cm4hMDtjb25zdCBpPXRoaXMuX2dldFRpbGUodC5pZCk7aWYoaT8uaXNSZWFkeSl7Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT10aGlzLl9nZXRUaWxlKGkpO2UmJnQuY29udGFpbnMoZS5rZXkpJiYoZS52aXNpYmxlPSExKX1yZXR1cm4gaS52aXNpYmxlPSEwLGUuYWRkKGkua2V5LmlkKSwhMH1pPy5oYXNEYXRhJiZpLnBhdGNoQ291bnQ+bCYmKGw9aS5wYXRjaENvdW50LHM9aSksdD10LmdldFBhcmVudEtleSgpfXJldHVybiEhcyYmKHMudmlzaWJsZT0hMCxlLmFkZChzLmtleS5pZCksITApfX1leHBvcnR7bCBhcyBUaWxlTWFuYWdlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2VhY2hBbHdheXMgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBzLHN5bmNBbmRJbml0aWFsIGFzIG8sb24gYXMgbn1mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjb21iaW5lZFZpZXdMYXllclRpbWVFeHRlbnRQcm9wZXJ0eSBhcyB1fWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRWZmZWN0LmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydHtmaXhGaWVsZHMgYXMgZix1bnBhY2tGaWVsZE5hbWVzIGFzIGMsY29sbGVjdExhYmVsaW5nRmllbGRzIGFzIG0sY29sbGVjdEVsZXZhdGlvbkZpZWxkcyBhcyB5LGNvbGxlY3RGaWx0ZXJGaWVsZHMgYXMgaCxjb2xsZWN0RmVhdHVyZVJlZHVjdGlvbkZpZWxkcyBhcyBGLGNvbGxlY3RPcmRlckJ5SW5mb3MgYXMgZyxjb2xsZWN0RmllbGRzIGFzIHcsY29sbGVjdEZpZWxkIGFzIEUsZmVhdHVyZUhhc0ZpZWxkcyBhcyBifWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0Rmxvb3JGaWx0ZXJDbGF1c2UgYXMgeH1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9mbG9vckZpbHRlclV0aWxzLmpzXCI7aW1wb3J0IEkgZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2xvYWRBcmNhZGUgYXMgdn1mcm9tXCIuLi8uLi9zdXBwb3J0L2FyY2FkZU9uRGVtYW5kLmpzXCI7aW1wb3J0e2dldEZldGNoUG9wdXBUZW1wbGF0ZSBhcyBSLGdldFJlcXVpcmVkRmllbGRzIGFzIGp9ZnJvbVwiLi9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtjb25zdCBxPVwiZXNyaS52aWV3cy5sYXllcnMuRmVhdHVyZUxheWVyVmlld1wiLFA9ci5nZXRMb2dnZXIocSksXz1yPT57bGV0IF89Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMuX3VwZGF0aW5nUmVxdWlyZWRGaWVsZHNQcm9taXNlPW51bGwsdGhpcy5maWx0ZXI9bnVsbCx0aGlzLnRpbWVFeHRlbnQ9bnVsbCx0aGlzLmxheWVyPW51bGwsdGhpcy5yZXF1aXJlZEZpZWxkcz1bXSx0aGlzLnZpZXc9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5oYW5kbGVzLmFkZChbcygoKCk9Pntjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuW2U/LmVsZXZhdGlvbkluZm8/LmZlYXR1cmVFeHByZXNzaW9uSW5mbyxlJiZcImRpc3BsYXlGaWVsZFwiaW4gZT9lLmRpc3BsYXlGaWVsZDpudWxsLGUmJlwidGltZUluZm9cImluIGUmJmUudGltZUluZm8sZSYmXCJyZW5kZXJlclwiaW4gZSYmZS5yZW5kZXJlcixlJiZcImxhYmVsaW5nSW5mb1wiaW4gZSYmZS5sYWJlbGluZ0luZm8sZSYmXCJmbG9vckluZm9cImluIGUmJmUuZmxvb3JJbmZvLHRoaXMuZmlsdGVyLHRoaXMuZmVhdHVyZUVmZmVjdCx0aGlzLnRpbWVFeHRlbnRdfSksKCgpPT50aGlzLl9oYW5kbGVSZXF1aXJlZEZpZWxkc0NoYW5nZSgpKSxvKSxuKCgoKT0+dGhpcy52aWV3Py5mbG9vcnMpLFwiY2hhbmdlXCIsKCgpPT50aGlzLl9oYW5kbGVSZXF1aXJlZEZpZWxkc0NoYW5nZSgpKSksbigoKCk9Pntjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuIGUmJlwic3VibGF5ZXJzXCJpbiBlP2Uuc3VibGF5ZXJzOm51bGx9KSxcImNoYW5nZVwiLCgoKT0+dGhpcy5faGFuZGxlUmVxdWlyZWRGaWVsZHNDaGFuZ2UoKSkpXSl9Z2V0IGF2YWlsYWJsZUZpZWxkcygpe2NvbnN0e2xheWVyOmUsbGF5ZXI6e2ZpZWxkc0luZGV4OnR9LHJlcXVpcmVkRmllbGRzOnJ9PXRoaXM7cmV0dXJuXCJvdXRGaWVsZHNcImluIGUmJmUub3V0RmllbGRzP2YodCxbLi4uYyh0LGUub3V0RmllbGRzKSwuLi5yXSk6Zih0LHIpfWdldCBmZWF0dXJlRWZmZWN0KCl7cmV0dXJuIHRoaXMubGF5ZXImJlwiZmVhdHVyZUVmZmVjdFwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmZlYXR1cmVFZmZlY3Q6bnVsbH1zZXQgZmVhdHVyZUVmZmVjdChlKXt0aGlzLl9vdmVycmlkZShcImZlYXR1cmVFZmZlY3RcIixlKX1nZXQgbWF4aW11bU51bWJlck9mRmVhdHVyZXMoKXtyZXR1cm4gMH1zZXQgbWF4aW11bU51bWJlck9mRmVhdHVyZXMoZSl7UC5lcnJvcihcIiNtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz1cIixcIlNldHRpbmcgbWF4aW11bSBudW1iZXIgb2YgZmVhdHVyZXMgaXMgbm90IHN1cHBvcnRlZFwiKX1nZXQgbWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCgpe3JldHVybiExfWhpZ2hsaWdodChlKXt0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGltcGxlbWVudGF0aW9uXCIpfWNyZWF0ZVF1ZXJ5KCl7Y29uc3QgZT17b3V0RmllbGRzOltcIipcIl0scmV0dXJuR2VvbWV0cnk6ITAsb3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX0sdD1udWxsIT10aGlzLmZpbHRlcj90aGlzLmZpbHRlci5jcmVhdGVRdWVyeShlKTpuZXcgSShlKTtpZihcImZlYXR1cmVcIj09PXRoaXMubGF5ZXIudHlwZSl7Y29uc3QgZT14KHRoaXMpO251bGwhPWUmJih0LndoZXJlPXQud2hlcmU/YCgke3Qud2hlcmV9KSBBTkQgKCR7ZX0pYDplKX1yZXR1cm4gbnVsbCE9dGhpcy50aW1lRXh0ZW50JiYodC50aW1lRXh0ZW50PW51bGwhPXQudGltZUV4dGVudD90LnRpbWVFeHRlbnQuaW50ZXJzZWN0aW9uKHRoaXMudGltZUV4dGVudCk6dGhpcy50aW1lRXh0ZW50LmNsb25lKCkpLHR9Y3JlYXRlQWdncmVnYXRlUXVlcnkoKXtjb25zdCBlPXtvdXRGaWVsZHM6W1wiKlwiXSxyZXR1cm5HZW9tZXRyeTohMCxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlfTtyZXR1cm4gbmV3IEkoZSl9cXVlcnlGZWF0dXJlcyhlLHQpe3Rocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgaW1wbGVtZW50YXRpb25cIil9cXVlcnlPYmplY3RJZHMoZSx0KXt0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGltcGxlbWVudGF0aW9uXCIpfXF1ZXJ5RmVhdHVyZUNvdW50KGUsdCl7dGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBpbXBsZW1lbnRhdGlvblwiKX1xdWVyeUV4dGVudChlLHQpe3Rocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgaW1wbGVtZW50YXRpb25cIil9YXN5bmMgZmV0Y2hQb3B1cEZlYXR1cmVzKGUsdCl7Y29uc3Qgcj10aGlzLnZhbGlkYXRlRmV0Y2hQb3B1cEZlYXR1cmVzKHQpO2lmKHIpdGhyb3cgcjtyZXR1cm4gdGhpcy5mZXRjaENsaWVudFBvcHVwRmVhdHVyZXModCl9X2xvYWRBcmNhZGVNb2R1bGVzKGUpe3JldHVybiBlLmdldChcImV4cHJlc3Npb25JbmZvcy5sZW5ndGhcIil8fEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSYmZS5jb250ZW50LnNvbWUoKGU9PlwiZXhwcmVzc2lvblwiPT09ZS50eXBlKSk/digpOlByb21pc2UucmVzb2x2ZSgpfV9oYW5kbGVSZXF1aXJlZEZpZWxkc0NoYW5nZSgpe2NvbnN0IGU9dGhpcy5fdXBkYXRlUmVxdWlyZWRGaWVsZHMoKTt0aGlzLl9zZXQoXCJfdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2VcIixlKSxlLnRoZW4oKCgpPT57dGhpcy5fdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2U9PT1lJiZ0aGlzLl9zZXQoXCJfdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2VcIixudWxsKX0pKX1hc3luYyBfdXBkYXRlUmVxdWlyZWRGaWVsZHMoKXtpZighdGhpcy5sYXllcnx8IXRoaXMudmlldylyZXR1cm47Y29uc3QgZT1cIjNkXCI9PT10aGlzLnZpZXcudHlwZSx7bGF5ZXI6dCxsYXllcjp7ZmllbGRzSW5kZXg6cixvYmplY3RJZEZpZWxkOnN9fT10aGlzLG89XCJyZW5kZXJlclwiaW4gdCYmdC5yZW5kZXJlcixuPVwib3JkZXJCeVwiaW4gdCYmdC5vcmRlckJ5LGw9XCJmZWF0dXJlUmVkdWN0aW9uXCJpbiB0P3QuZmVhdHVyZVJlZHVjdGlvbjpudWxsLGE9bmV3IFNldCx1PWF3YWl0IGkoW28/by5jb2xsZWN0UmVxdWlyZWRGaWVsZHMoYSxyKTpudWxsLG0oYSx0KSxlP3koYSx0KTpudWxsLG51bGwhPXRoaXMuZmlsdGVyP2goYSx0LHRoaXMuZmlsdGVyKTpudWxsLG51bGwhPXRoaXMuZmVhdHVyZUVmZmVjdD9oKGEsdCx0aGlzLmZlYXR1cmVFZmZlY3QuZmlsdGVyKTpudWxsLGw/RihhLHQsbCk6bnVsbCxuP2coYSx0LG4pOm51bGxdKTtpZihcInRpbWVJbmZvXCJpbiB0JiZ0LnRpbWVJbmZvJiZ0aGlzLnRpbWVFeHRlbnQmJncoYSx0LmZpZWxkc0luZGV4LFt0LnRpbWVJbmZvLnN0YXJ0RmllbGQsdC50aW1lSW5mby5lbmRGaWVsZF0pLFwiZmVhdHVyZVwiPT09dC50eXBlJiYodC5mbG9vckluZm8mJncoYSx0LmZpZWxkc0luZGV4LFt0LmZsb29ySW5mby5mbG9vckZpZWxkXSksZSYmbnVsbCE9dC5pbmZvRm9yM0QmJihudWxsPT10Lmdsb2JhbElkRmllbGQmJlAuZXJyb3IoXCJnbG9iYWxJZEZpZWxkIG1pc3Npbmcgb24gM0RPYmplY3RGZWF0dXJlTGF5ZXJcIiksdyhhLHQuZmllbGRzSW5kZXgsW3QuZ2xvYmFsSWRGaWVsZF0pKSksXCJzdWJ0eXBlLWdyb3VwXCI9PT10LnR5cGUpe0UoYSxyLHQuc3VidHlwZUZpZWxkKTtjb25zdCBlPXQuc3VibGF5ZXJzLm1hcCgoZT0+UHJvbWlzZS5hbGwoW2UucmVuZGVyZXI/LmNvbGxlY3RSZXF1aXJlZEZpZWxkcyhhLHIpLG0oYSxlKV0pKSk7YXdhaXQgaShlKX1mb3IoY29uc3QgaSBvZiB1KWkuZXJyb3ImJlAuZXJyb3IoaS5lcnJvcik7RShhLHIscyksZSYmXCJkaXNwbGF5RmllbGRcImluIHQmJnQuZGlzcGxheUZpZWxkJiZFKGEscix0LmRpc3BsYXlGaWVsZCk7Y29uc3QgcD1BcnJheS5mcm9tKGEpLnNvcnQoKTt0aGlzLl9zZXQoXCJyZXF1aXJlZEZpZWxkc1wiLHApfXZhbGlkYXRlRmV0Y2hQb3B1cEZlYXR1cmVzKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Zm9yKGNvbnN0IHIgb2YgZS5jbGllbnRHcmFwaGljcz8/W10pe2NvbnN0IGk9ci5sYXllcjtpZihcInBvcHVwRW5hYmxlZFwiaW4gaSYmIWkucG9wdXBFbmFibGVkKXJldHVybiBuZXcgdChcImZlYXR1cmVsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJQb3B1cHMgYXJlIGRpc2FibGVkXCIse2xheWVyOml9KTtpZihyLmlzQWdncmVnYXRlKXtjb25zdCBlPVwiZmVhdHVyZVJlZHVjdGlvblwiaW4gaT9pLmZlYXR1cmVSZWR1Y3Rpb246bnVsbDtpZighKGUmJlwicG9wdXBUZW1wbGF0ZVwiaW4gZSYmZS5wb3B1cEVuYWJsZWQmJmUucG9wdXBUZW1wbGF0ZSkpcmV0dXJuIG5ldyB0KFwiZmVhdHVyZWxheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIlBvcHVwcyBhcmUgZGlzYWJsZWRcIix7bGF5ZXI6aX0pfWVsc2UgaWYoXCJwb3B1cFRlbXBsYXRlXCJpbiBpKXtpZighUihpLGUpKXJldHVybiBuZXcgdChcImZlYXR1cmVsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJMYXllciBkb2VzIG5vdCBkZWZpbmUgYSBwb3B1cCB0ZW1wbGF0ZVwiLHtsYXllcjppfSl9fX1hc3luYyBmZXRjaENsaWVudFBvcHVwRmVhdHVyZXMoZSl7Y29uc3QgdD1udWxsIT1lP2UuY2xpZW50R3JhcGhpY3M6bnVsbDtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybltdO2NvbnN0IHI9bmV3IEFycmF5KHQubGVuZ3RoKSxpPW5ldyBNYXAscz1hd2FpdCB0aGlzLmNyZWF0ZVBvcHVwUXVlcnkoZSk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IG49dFtvXTtpZihuLmlzQWdncmVnYXRlKXtyW29dPW47Y29udGludWV9Y29uc3QgbD1uLmxheWVyO2lmKCEoXCJwb3B1cEVuYWJsZWRcImluIGwpKWNvbnRpbnVlO2NvbnN0IGE9Yyh0aGlzLmxheWVyLmZpZWxkc0luZGV4LHMub3V0RmllbGRzKSx1PVIobCxlKTtpZihudWxsPT11KWNvbnRpbnVlO2NvbnN0IHA9YXdhaXQgdGhpcy5fbG9hZEFyY2FkZU1vZHVsZXModSk7cCYmcC5hcmNhZGVVdGlscy5oYXNHZW9tZXRyeU9wZXJhdGlvbnModSl8fCFiKGEsbik/aS5zZXQobi5nZXRPYmplY3RJZCgpLHtncmFwaGljOm4saW5kZXg6b30pOnJbb109bn1pZihcInN0cmVhbVwiPT09dGhpcy5sYXllci50eXBlfHwwPT09aS5zaXplKXJldHVybiByLmZpbHRlcihCb29sZWFuKTtzLm9iamVjdElkcz1BcnJheS5mcm9tKGkua2V5cygpKTt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmxheWVyLnF1ZXJ5RmVhdHVyZXMocyk7Zm9yKGNvbnN0IHQgb2YgZS5mZWF0dXJlcyl7Y29uc3R7Z3JhcGhpYzp7Z2VvbWV0cnk6ZX0saW5kZXg6c309aS5nZXQodC5nZXRPYmplY3RJZCgpKTt0Lmdlb21ldHJ5fHw9ZSxyW3NdPXR9fWNhdGNoe31yZXR1cm4gci5maWx0ZXIoQm9vbGVhbil9YXN5bmMgY3JlYXRlUG9wdXBRdWVyeShlKXtjb25zdCB0PXRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKSxyPW5ldyBTZXQ7bGV0IGk9ITE7Y29uc3Qgcz1udWxsIT1lJiZlLmNsaWVudEdyYXBoaWNzP2UuY2xpZW50R3JhcGhpY3MubWFwKChlPT5lLmxheWVyKSk6W3RoaXMubGF5ZXJdO2Zvcihjb25zdCBvIG9mIHMpe2lmKCEoXCJwb3B1cEVuYWJsZWRcImluIG8pKWNvbnRpbnVlO2NvbnN0IHQ9UihvLGUpO2lmKG51bGw9PXQpY29udGludWU7Y29uc3Qgcz1hd2FpdCB0aGlzLl9sb2FkQXJjYWRlTW9kdWxlcyh0KSxuPXMmJnMuYXJjYWRlVXRpbHMuaGFzR2VvbWV0cnlPcGVyYXRpb25zKHQpO2k9IShcInBvaW50XCIhPT10aGlzLmxheWVyLmdlb21ldHJ5VHlwZSYmIW4pO2NvbnN0IGw9YXdhaXQgaih0aGlzLmxheWVyLHQpO2Zvcihjb25zdCBlIG9mIGwpci5hZGQoZSl9aWYodC5yZXR1cm5HZW9tZXRyeT1pLHQucmV0dXJuWj1pLHQucmV0dXJuTT1pLHQub3V0RmllbGRzPUFycmF5LmZyb20ociksdC5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLFwiZmVhdHVyZVwiPT09dGhpcy5sYXllci50eXBlKXtjb25zdCBlPXgodGhpcyk7bnVsbCE9ZSYmKHQud2hlcmU9dC53aGVyZT9gKCR7dC53aGVyZX0pIEFORCAoJHtlfSlgOmUpfXJldHVybiB0fWNhblJlc3VtZSgpe3JldHVybiEhc3VwZXIuY2FuUmVzdW1lKCkmJihudWxsPT10aGlzLnRpbWVFeHRlbnR8fCF0aGlzLnRpbWVFeHRlbnQuaXNFbXB0eSl9fTtyZXR1cm4gZShbbCgpXSxfLnByb3RvdHlwZSxcIl91cGRhdGluZ1JlcXVpcmVkRmllbGRzUHJvbWlzZVwiLHZvaWQgMCksZShbbCh7cmVhZE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJhdmFpbGFibGVGaWVsZHNcIixudWxsKSxlKFtsKHt0eXBlOnB9KV0sXy5wcm90b3R5cGUsXCJmZWF0dXJlRWZmZWN0XCIsbnVsbCksZShbbCh7dHlwZTpkfSldLF8ucHJvdG90eXBlLFwiZmlsdGVyXCIsdm9pZCAwKSxlKFtsKHUpXSxfLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLGUoW2woKV0sXy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbbCh7dHlwZTpOdW1iZXJ9KV0sXy5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwLHR5cGU6Qm9vbGVhbn0pXSxfLnByb3RvdHlwZSxcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWRcIixudWxsKSxlKFtsKHtyZWFkT25seTohMH0pXSxfLnByb3RvdHlwZSxcInJlcXVpcmVkRmllbGRzXCIsdm9pZCAwKSxlKFtsKCldLF8ucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsdm9pZCAwKSxlKFtsKCldLF8ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksXz1lKFthKHEpXSxfKSxffTtleHBvcnR7XyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtvbiBhcyBvfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3QgYT1hPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBhe2luaXRpYWxpemUoKXt0aGlzLmhhbmRsZXMuYWRkKG8oKCgpPT50aGlzLmxheWVyKSxcInJlZnJlc2hcIiwocj0+e3RoaXMuZG9SZWZyZXNoKHIuZGF0YUNoYW5nZWQpLmNhdGNoKChyPT57cyhyKXx8ZS5nZXRMb2dnZXIodGhpcykuZXJyb3Iocil9KSl9KSksXCJSZWZyZXNoYWJsZUxheWVyVmlld1wiKX19O3JldHVybiByKFt0KCldLGMucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGM9cihbaShcImVzcmkubGF5ZXJzLm1peGlucy5SZWZyZXNoYWJsZUxheWVyVmlld1wiKV0sYyksY307ZXhwb3J0e2EgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEZlYXR1cmVFZGl0RmllbGRzIGFzIGUsZml4RmllbGRzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIG4obixwPW4ucG9wdXBUZW1wbGF0ZSl7aWYobnVsbD09cClyZXR1cm5bXTtjb25zdCB0PWF3YWl0IHAuZ2V0UmVxdWlyZWRGaWVsZHMobi5maWVsZHNJbmRleCkse2xhc3RFZGl0SW5mb0VuYWJsZWQ6dX09cCx7b2JqZWN0SWRGaWVsZDpkLHR5cGVJZEZpZWxkOmksZ2xvYmFsSWRGaWVsZDpzLHJlbGF0aW9uc2hpcHM6YX09bjtpZih0LmluY2x1ZGVzKFwiKlwiKSlyZXR1cm5bXCIqXCJdO2NvbnN0IG89dT9hd2FpdCBlKG4pOltdLGY9bChuLmZpZWxkc0luZGV4LFsuLi50LC4uLm9dKTtyZXR1cm4gaSYmZi5wdXNoKGkpLGYmJmQmJm4uZmllbGRzSW5kZXg/LmhhcyhkKSYmIWYuaW5jbHVkZXMoZCkmJmYucHVzaChkKSxmJiZzJiZuLmZpZWxkc0luZGV4Py5oYXMocykmJiFmLmluY2x1ZGVzKHMpJiZmLnB1c2gocyksYSYmYS5mb3JFYWNoKChlPT57Y29uc3R7a2V5RmllbGQ6bH09ZTtmJiZsJiZuLmZpZWxkc0luZGV4Py5oYXMobCkmJiFmLmluY2x1ZGVzKGwpJiZmLnB1c2gobCl9KSksZn1mdW5jdGlvbiBwKGUsbCl7cmV0dXJuIGUucG9wdXBUZW1wbGF0ZT9lLnBvcHVwVGVtcGxhdGU6bnVsbCE9bCYmbC5kZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQmJm51bGwhPWUuZGVmYXVsdFBvcHVwVGVtcGxhdGU/ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZTpudWxsfWZ1bmN0aW9uIHQoZSxsKXtyZXR1cm4gbnVsbCE9cChlLHtkZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQ6bH0pfWV4cG9ydHtwIGFzIGdldEZldGNoUG9wdXBUZW1wbGF0ZSxuIGFzIGdldFJlcXVpcmVkRmllbGRzLHQgYXMgaGFzUG9wdXBUZW1wbGF0ZX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=