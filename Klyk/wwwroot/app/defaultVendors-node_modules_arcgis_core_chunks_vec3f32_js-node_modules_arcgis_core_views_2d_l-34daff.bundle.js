"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_chunks_vec3f32_js-node_modules_arcgis_core_views_2d_l-34daff"],{

/***/ "./node_modules/@arcgis/core/chunks/vec3f32.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec3f32.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ f),
/* harmony export */   U: () => (/* binding */ l),
/* harmony export */   Z: () => (/* binding */ i),
/* harmony export */   a: () => (/* binding */ e),
/* harmony export */   b: () => (/* binding */ t),
/* harmony export */   c: () => (/* binding */ n),
/* harmony export */   d: () => (/* binding */ s),
/* harmony export */   e: () => (/* binding */ c),
/* harmony export */   f: () => (/* binding */ r),
/* harmony export */   g: () => (/* binding */ _),
/* harmony export */   h: () => (/* binding */ y),
/* harmony export */   o: () => (/* binding */ o),
/* harmony export */   u: () => (/* binding */ u),
/* harmony export */   v: () => (/* binding */ w),
/* harmony export */   z: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(){return new Float32Array(3)}function t(n){const t=new Float32Array(3);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function r(n,t,r){const e=new Float32Array(3);return e[0]=n,e[1]=t,e[2]=r,e}function e(n,t){return new Float32Array(n,t,3)}function a(){return n()}function o(){return r(1,1,1)}function u(){return r(1,0,0)}function s(){return r(0,1,0)}function c(){return r(0,0,1)}const i=a(),f=o(),l=u(),_=s(),y=c(),w=Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:l,UNIT_Y:_,UNIT_Z:y,ZEROS:i,clone:t,create:n,createView:e,fromValues:r,ones:o,unitX:u,unitY:s,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CutVertical: () => (/* binding */ S),
/* harmony export */   normalizeCentralMeridianForDisplay: () => (/* binding */ a),
/* harmony export */   normalizeCentralMeridianSync: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function c(t){return p(t,!0)}function a(t){return p(t,!1)}function p(t,s){if(null==t)return null;const c=t.spatialReference,a=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.getInfo)(c),p="toJSON"in t?t.toJSON():t;if(!a)return p;const y=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.isWebMercator)(c)?102100:4326,I=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.cutParams[y].maxX,g=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.cutParams[y].minX;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPoint)(p))return d(p,I,g);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isMultipoint)(p))return p.points=p.points.map((t=>d(t,I,g))),p;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(p))return f(p,a);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolygon)(p)||(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolyline)(p)){const t=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__.getBoundsXY)(C,p),n={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n.xmin,g)*(2*I),h=0===e?p:(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.updatePolyGeometry)(p,e);return n.xmin+=e,n.xmax+=e,n.xmax>I?O(h,I,s):n.xmin<g?O(h,g,s):h}return p}function f(t,i){if(!i)return t;const s=y(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function d(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,i);t.x+=s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,s);t.x+=i*(-2*s)}}return t}function y(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,r=t.xmax-t.xmin,[u,m]=i.valid,{x,frameId:_}=I(t.xmin,i),{x:l,frameId:c}=I(t.xmax,i),a=x===l&&r>0;if(r>2*m){const t={xmin:h<o?x:l,ymin:n,xmax:m,ymax:e},i={xmin:u,ymin:n,xmax:h<o?l:x,ymax:e},r={xmin:0,ymin:n,xmax:m,ymax:e},a={xmin:u,ymin:n,xmax:0,ymax:e},p=[],f=[];g(t,r)&&p.push(_),g(t,a)&&f.push(_),g(i,r)&&p.push(c),g(i,a)&&f.push(c);for(let s=_+1;s<c;s++)p.push(s),f.push(s);s.push(new P(t,[_]),new P(i,[c]),new P(r,p),new P(a,f))}else x>l||a?s.push(new P({xmin:x,ymin:n,xmax:m,ymax:e},[_]),new P({xmin:u,ymin:n,xmax:l,ymax:e},[c])):s.push(new P({xmin:x,ymin:n,xmax:l,ymax:e},[_]));return s}function I(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function g(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return v(t,s,n)&&v(t,s,h)&&v(t,e,h)&&v(t,e,n)}function v(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function O(t,i,n=!0){const e=!(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolyline)(t);if(e&&(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.closeRings)(t),n){return(new S).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,u=h.length,m=-2*i;for(let s=0;s<u;s++){const t=h[s];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class P{constructor(t,i){this.extent=t,this.frameIds=i}}const C=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)();class S{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide==-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(this._addPolyVertex(this._lineIn,s<=0?t:this._xCut,i),this._addPolyVertex(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_addPolyVertex(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t=-1;class e{constructor(){this._dirties=[{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1}]}hasDirty(){return this._dirties.some((e=>e.indexCount!==t||e.allDirty))}markAllClean(){for(const e of this._dirties)e.indexFrom=t,e.indexCount=t,e.vertexFrom=t,e.vertexCount=t,e.allDirty=!1}markAllDirty(){for(const t of this._dirties)t.allDirty=!0}forEach(e){for(let r=0;r<this._dirties.length;++r){const{indexCount:i,indexFrom:o,vertexCount:n,vertexFrom:x,allDirty:l}=this._dirties[r],s={};let d,m=!1;(l||x!==t&&n>0)&&(s.geometry={count:n,from:x,allDirty:l},m=!0),(l||o!==t&&i>0)&&(d={count:i,from:o,allDirty:l},m=!0),m&&e({indices:d,vertices:s},r)}}markDirtyIndices(e,r,i){const o=this._dirties[e],n=r,x=i;if(!o.allDirty)if(o.indexCount!==t){const t=Math.min(o.indexFrom,n),e=Math.max(o.indexFrom+o.indexCount,n+x)-t;o.indexFrom=t,o.indexCount=e}else o.indexFrom=n,o.indexCount=x}markDirtyVertices(e,r,i,o){const n=this._dirties[e],x=i,l=o;if(!n.allDirty)if(n.vertexCount!==t){const t=Math.min(n.vertexFrom,x),e=Math.max(n.vertexFrom+n.vertexCount,x+l)-t;n.vertexFrom=t,n.vertexCount=e}else n.vertexFrom=x,n.vertexCount=l}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _FreeList_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FreeList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s=["FILL","LINE","MARKER","TEXT","LABEL"];function o(e){const t=e.getStrides(),r={};for(let i=0;i<t.length;i++)r[s[i]]=t[i];return r}const n=.5;class d{constructor(r,i,s,o){this._strides=r,this._displayList=i,this._freeListsAndStorage={},this._dirtyMap=null,this._dirtyMap=s;for(const n in r){this._freeListsAndStorage[n]={vtxFreeList:o?new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(o):null,idxFreeList:o?new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(o):null,vertexBuffers:{},indexBuffer:o?new Uint32Array(o):null};for(const e in r[n])this._freeListsAndStorage[n].vertexBuffers[e]={data:o?(0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.allocateTypedArrayBuffer)(o,r[n][e]):null,stride:r[n][e]}}}static fromTileData(t,i){const n=o(t),a=[0,0,0,0,0],x=[0,0,0,0,0];for(const e of t.tileDisplayData.displayObjects)for(const t of e.displayRecords)a[t.geometryType]=Math.max(a[t.geometryType],t.vertexFrom+t.vertexCount),x[t.geometryType]=Math.max(x[t.geometryType],t.indexFrom+t.indexCount);const u=new d(n,t.tileDisplayData.displayList,i,void 0),f=t.tileBufferData?.geometries??[];for(let o=0;o<f.length;++o){const t=a[o],i=x[o],n=f[o],d=s[o],c=u._storageFor(d),l=f[o].indexBuffer;c.indexBuffer=l,c.idxFreeList=new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(l.length),c.idxFreeList.allocate(i);let m=0;for(const e in n.vertexBuffer){const t=f[o].vertexBuffer[e];c.vertexBuffers[e].data=t.data,c.vertexBuffers[e].stride=t.stride;const i=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.strideToPackingFactor)(t.stride),s=t.data.length*i/t.stride;m||(m=s)}c.vtxFreeList=new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(m),c.vtxFreeList.allocate(t)}return u}delete(e){const t=s[e.geometryType];this._freeVertices(t,e.vertexFrom,e.vertexCount),this._freeIndices(t,e.indexFrom,e.indexCount),this._displayList.removeFromList(e),e.vertexFrom=void 0,e.indexFrom=void 0}setMeshData(e,t,r,o,n){const d=s[e.geometryType];let a,x;e.meshData=null,void 0===e.vertexFrom?(x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount>e.vertexCount?(this._freeVertices(d,e.vertexFrom,e.vertexCount),x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount===e.vertexCount?(a=e.vertexFrom,x=e.vertexCount):(this._freeVertices(d,e.vertexFrom+t.vertexCount,e.vertexCount-t.vertexCount),a=e.vertexFrom,x=t.vertexCount);let u,f,c,l=!0;if(void 0===e.indexFrom?(u=n,c=t.indexCount,f=this._allocateIndices(d,c)):t.indexCount>e.indexCount?(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom,e.indexCount),c=t.indexCount,f=this._allocateIndices(d,c)):t.indexCount===e.indexCount?(l=!1,f=e.indexFrom,c=e.indexCount):(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom+t.indexCount,e.indexCount-t.indexCount),f=e.indexFrom,c=t.indexCount),-1!==a&&-1!==f){const s=this._storageFor(d);if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.copyMeshData)(a,f,s.vertexBuffers,s.indexBuffer,t,r,o),e.vertexFrom=a,e.indexFrom=f,e.vertexCount=t.vertexCount,e.indexCount=t.indexCount,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in r)this._dirtyMap.markDirtyVertices(e.geometryType,t,e.vertexFrom,e.vertexCount)}return l&&this._displayList.addToList(e,u),!0}return-1!==a&&this._freeVertices(d,a,x),-1!==f&&this._freeIndices(d,f,c),e.setMeshDataFromBuffers(t,r,o),e.vertexFrom=void 0,e.vertexCount=0,e.indexFrom=void 0,e.indexCount=0,!1}tryAddMeshData(e,t){const r=t.vertexBuffer,o=t.indexBuffer,n=s[e.geometryType],d=this._allocateVertices(n,e.vertexCount);if(-1===d)return this._freeVertices(n,d,e.vertexCount),!1;const a=this._allocateIndices(n,e.indexCount);if(-1===a)return this._freeVertices(n,d,e.vertexCount),this._freeIndices(n,a,e.indexCount),!1;const x=this._storageFor(n);if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.copyMeshData)(d,a,x.vertexBuffers,x.indexBuffer,e,r,o),e.vertexFrom=d,e.indexFrom=a,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in r)this._dirtyMap.markDirtyVertices(e.geometryType,t,d,e.vertexCount)}return this._displayList.addToList(e),!0}_allocateVertices(e,t){const r=this._storageFor(e),i=r.vtxFreeList?.allocate(t);if(null==i||-1===i)return-1;const s=r.vtxFreeList?.fragmentation;return null==s||s>n?-1:i}_freeVertices(e,t,r){const i=this._storageFor(e);i.vtxFreeList?.free(t,r)}_freeIndices(e,t,r){const i=this._storageFor(e);i.idxFreeList?.free(t,r)}_allocateIndices(e,t){const r=this._storageFor(e),i=r.idxFreeList?.allocate(t);if(null==i||-1===i)return-1;const s=r.idxFreeList?.fragmentation;return null==s||s>n?-1:i}_storageFor(e){return this._freeListsAndStorage[e]}_stridesFor(e,t){return this._strides[e][t]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FreeList: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{get largestRange(){return this._largestRange}constructor(e){this._largestRange=null,this._parent=e,this._updateLargestRange()}rangeCreated(e){(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}rangeResized(e,t){e===this._largestRange?e.count<t&&this._updateLargestRange():(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}findBestRange(e){let t=this._parent._freeHead,n=null;for(;null!==t;)t.count>=e&&(!n||t.count-e<n.count-e)&&(n=t),t=t.next;return n}findAdjacentRanges(e,t){let n=!0,r=!1,s=null,o=this._parent._freeHead;for(;n&&!r;){const a=null!==s?s.from+s.count:0,l=null!==o?o.from:this._parent._size;e>=a&&e+t<=l?(n=!1,r=!0):null!==o?(s=o,o=o.next):n=!1}return[s,o]}_updateLargestRange(){let e=null,t=this._parent._freeHead;for(;null!==t;)(!e||t.count>e.count)&&(e=t),t=t.next;this._largestRange=e}}class t{constructor(t,n){this._allocated=0,this._size=t,this._freeHead=t>0?{from:0,count:t,prev:null,next:null}:null,this._bookKeeper=n||new e(this),this._freeHead&&this._bookKeeper.rangeCreated(this._freeHead)}allocate(e){const n=this._bookKeeper.findBestRange(e);if(null==n)return-1;const r=n.from,s=n.count;if(n.from+=e,n.count-=e,this._bookKeeper.rangeResized(n,r,s),this._allocated+=e,0===n.count){const e=null!==n.prev?this._freeHead:n.next;t._removeRange(n),this._freeHead=e}return r}free(e,n){const[r,s]=this._bookKeeper.findAdjacentRanges(e,n),o={from:e,count:n,prev:r??null,next:s??null};if(null!=r&&(r.next=o),null!=s&&(s.prev=o),this._bookKeeper.rangeCreated(o),this._allocated-=n,null!=s&&o.from+o.count===s.from){const e=o.from,n=o.count;t._fuse(o,s),t._removeRange(s),this._bookKeeper.rangeResized(o,e,n),this._bookKeeper.rangeResized(s,void 0,0)}if(null!=r&&r.from+r.count===o.from){const e=r.from,n=r.count;t._fuse(r,o),t._removeRange(o),this._bookKeeper.rangeResized(r,e,n),this._bookKeeper.rangeResized(o,void 0,0)}this._freeHead=null!==o.prev?this._freeHead:o}get fragmentation(){const e=this._size-this._allocated;if(0===e)return 0;return 1-this._bookKeeper.largestRange.count/e}static _removeRange(e){null!==e.prev?null!==e.next?(e.prev.next=e.next,e.next.prev=e.prev):e.prev.next=null:null!==e.next&&(e.next.prev=null)}static _fuse(e,t){e.count+=t.count,e.next=t.next,t.from+=t.count,t.count=0,null!==t.next&&(t.next.prev=e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicDisplayList.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicDisplayList.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./materialKey/MaterialKey.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(e,t,n,...o){t<e.length?e.splice(t,n,...o):e.push(...o)}class n{constructor(){this.symbolLevels=[]}replay(t,n,o){for(const i of this.symbolLevels)for(const r of i.zLevels){const i=r.geometryDPInfo.unified;if(i)for(const r of i){const{geometryType:i,materialKey:l,indexFrom:s,indexCount:m}=r,y=_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_0__.MaterialKeyBase.load(l).symbologyType,d=t.painter.getBrush(i,y),u={geometryType:i,materialKey:l,indexFrom:s,indexCount:m,target:n.getGeometry(i)};d.prepareState(t),d.drawGeometry(t,n,u,o)}}}get empty(){return!this.symbolLevels||0===this.symbolLevels.length}clear(){this.symbolLevels.length=0}addToList(e,t){if(Array.isArray(e))for(const n of e)this._addToList(n,t);else this._addToList(e,t)}removeFromList(e){Array.isArray(e)||(e=[e]);let t=null;for(const n of e)t=this._removeFromList(n);return t}clone(){const e=new n;for(const t of this.symbolLevels)e.symbolLevels.push(t.clone());return e}splitAfter(e){const t=this._getDisplayList(e.symbolLevel,e.zOrder),n=t.length,i=e.indexFrom+e.indexCount;for(let r=0;r<n;++r){const n=t[r];if(n.geometryType===e.geometryType&&i>n.indexFrom&&i<=n.indexFrom+n.indexCount){if(i<n.indexFrom+n.indexCount){const e=new o;e.geometryType=n.geometryType,e.materialKey=n.materialKey,e.indexFrom=i,e.indexCount=n.indexFrom+n.indexCount-i,t.splice(r+1,0,e),n.indexCount=i-n.indexFrom}return r}}}_addToList(e,n){const i=e.symbolLevel,r=e.zOrder,l=this._getDisplayList(i,r),s=null!=n?n:l.length-1,m=s>=0&&s<l.length?l[s]:null;if(null!==m&&m.materialKey===e.materialKey&&m.indexFrom+m.indexCount===e.indexFrom&&m.geometryType===e.geometryType)m.indexCount+=e.indexCount;else{const n=new o;n.indexFrom=e.indexFrom,n.indexCount=e.indexCount,n.materialKey=e.materialKey,n.geometryType=e.geometryType,t(l,s+1,0,n)}}_removeFromList(e){const n=e.symbolLevel,i=e.zOrder,r=this._getDisplayList(n,i),l=r.length;let s;for(let t=0;t<l;++t){const n=r[t];if(e.indexFrom+e.indexCount>n.indexFrom&&e.indexFrom<n.indexFrom+n.indexCount&&n.geometryType===e.geometryType){s=t;break}}if(void 0!==s){const n=r[s];if(e.indexFrom===n.indexFrom)return n.indexCount-=e.indexCount,n.indexFrom+=e.indexCount,0===n.indexCount&&t(r,s,1),s-1;if(e.indexFrom+e.indexCount===n.indexFrom+n.indexCount)return n.indexCount-=e.indexCount,0===n.indexCount?(t(r,s,1),s-1):s;{const i=n.indexFrom,l=e.indexFrom-n.indexFrom,m=e.indexCount,y=n.indexFrom+n.indexCount-(e.indexFrom+e.indexCount);n.indexCount=l;const d=new o;return d.geometryType=n.geometryType,d.materialKey=n.materialKey,d.indexFrom=i+l+m,d.indexCount=y,t(r,s+1,0,d),s}}return null}_getDisplayList(e,t){let n;const o=this.symbolLevels.length;for(let i=0;i<o;i++)if(this.symbolLevels[i].symbolLevel===e){n=this.symbolLevels[i];break}let s;n||(n=new l,n.symbolLevel=e,this.symbolLevels.push(n));const m=n.zLevels.length;for(let i=0;i<m;i++)if(n.zLevels[i].zLevel===t){s=n.zLevels[i];break}return s||(s=new r,s.geometryDPInfo=new i,s.zLevel=t,n.zLevels.push(s)),s.geometryDPInfo.unified||(s.geometryDPInfo.unified=[]),s.geometryDPInfo.unified}getDPInfoType(){return"unified"}}class o{constructor(){this.materialKey=null,this.indexFrom=0,this.indexCount=0}clone(){const e=new o;return e.geometryType=this.geometryType,e.materialKey=this.materialKey,e.indexFrom=this.indexFrom,e.indexCount=this.indexCount,e}}class i{constructor(){this.fill=null,this.line=null,this.marker=null,this.text=null,this.label=null,this.unified=null}clone(){const e=new i;return e.fill=this.fill&&this.fill.map((e=>e.clone())),e.line=this.line&&this.line.map((e=>e.clone())),e.marker=this.marker&&this.marker.map((e=>e.clone())),e.text=this.text&&this.text.map((e=>e.clone())),e.label=this.label&&this.label.map((e=>e.clone())),e.unified=this.unified&&this.unified.map((e=>e.clone())),e}}class r{constructor(){this.geometryDPInfo=new i}clone(){const e=new r;return e.zLevel=this.zLevel,e.geometryDPInfo=this.geometryDPInfo.clone(),e}}class l{constructor(){this.zLevels=[]}clone(){const e=new l;e.symbolLevel=this.symbolLevel;for(const t of this.zLevels)e.zLevels.push(t.clone());return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicTile.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicTile.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicTile: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _DirtyMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DirtyMap.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js");
/* harmony import */ var _DisplayRecordStore_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayRecordStore.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js");
/* harmony import */ var _WGLBuffers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLBuffers.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js");
/* harmony import */ var _WGLTile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WGLTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a extends _WGLTile_js__WEBPACK_IMPORTED_MODULE_3__.WGLTile{constructor(){super(...arguments),this._data=null,this._displayList=null,this._lastCommitTime=0,this._hasData=!1,this._invalidated=!1,this._wglBuffers=null,this._dirtyMap=new _DirtyMap_js__WEBPACK_IMPORTED_MODULE_0__["default"]}destroy(){super.destroy(),this.clear()}get hasData(){return!!this._hasData}get displayObjects(){return this._displayObjects??[]}getGeometry(t){return this._wglBuffers&&this._wglBuffers.has(t)?this._wglBuffers.get(t):null}getDisplayList(){return this._displayList}patch(s){if(!0===s.clear)return this.clear(),void(this._hasData=!1);const i=s.addOrUpdate,a=s.remove;!this._data&&i&&i.tileDisplayData?.displayObjects.length?(i.tileDisplayData.computeDisplayList(),this._dirtyMap=new _DirtyMap_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._dispRecStore=_DisplayRecordStore_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromTileData(i,this._dirtyMap),this._data=i,this._dirtyMap.markAllDirty(),this._hasData=!0,s.end&&this.ready()):this._data&&(i&&i.tileDisplayData?.displayObjects.length||a.length)?this._doPatchData(s):s.end&&this.ready(),s.end&&!this._data&&this.clear(),this.requestRender(),this.emit("change")}commit(t){t.time&&t.time===this._lastCommitTime||(this._lastCommitTime=t.time,this.visible&&this._data&&(this._wglBuffers||(this._wglBuffers=new _WGLBuffers_js__WEBPACK_IMPORTED_MODULE_2__["default"](t.context)),(this._dirtyMap.hasDirty()||this._invalidated)&&(this._invalidated=!1,this._wglBuffers.upload(this._data.tileBufferData,this._dirtyMap),this._displayList=this._data.tileDisplayData.displayList.clone(),this._displayObjects=this._data.tileDisplayData.displayObjects.slice(),this._dirtyMap.markAllClean())))}clear(){this._data=null,this._displayList=null,this._dispRecStore=null,this._wglBuffers&&(this._wglBuffers.dispose(),this._wglBuffers=null)}_doPatchData(t){this._invalidated=!0,this._patchData(t)||(this._dirtyMap.markAllDirty(),this._data.reshuffle(),this._dispRecStore=_DisplayRecordStore_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromTileData(this._data,this._dirtyMap)),this.requestRender()}_patchData(t){let e=!0;const s=t.addOrUpdate&&t.addOrUpdate.tileDisplayData&&t.addOrUpdate.tileDisplayData.displayObjects||[],i=(t.remove||[]).slice();for(const r of s)null!=r.insertAfter&&i.push(r.id);let a;i.length>0&&(a=new Set(i));const l=this._data.tileDisplayData;for(const r of i){const t=l.displayObjectRegistry.get(r);if(t){l.displayList.removeFromList(t.displayRecords);for(const e of t.displayRecords)this._dispRecStore.delete(e);l.displayObjectRegistry.delete(r)}}a?.size&&(l.displayObjects=l.displayObjects.filter((t=>!a.has(t.id))));for(const r of s){let s,i=l.displayObjectRegistry.get(r.id);if(i){const t=i.displayRecords;i.set(r),i.displayRecords=t;const e=i.displayRecords.length;for(let s=0;s<e;++s){const t=i.displayRecords[s],e=r.displayRecords[s];(s>=r.displayRecords.length||t.geometryType!==e.geometryType||t.symbolLevel!==e.symbolLevel||t.zOrder!==e.zOrder||t.materialKey!==e.materialKey)&&(this._dispRecStore.delete(i.displayRecords[s]),s<r.displayRecords.length&&(i.displayRecords[s]=void 0))}i.displayRecords.length=r.displayRecords.length}else{let t;i=r.copy(),i.displayRecords=[],l.displayObjectRegistry.set(r.id,i);const e=l.displayObjects;if(null!=i.insertAfter)if(s={},i.insertAfter>=0){const s=l.displayObjectRegistry.get(i.insertAfter);s?(t=e.indexOf(s)+1,t<e.length?e.splice(t,0,i):(e.push(i),t=e.length)):(e.push(i),t=e.length)}else e.unshift(i),t=0;else e.push(i),t=e.length;if(s){const i=r.displayRecords.length>0?1:0;let a=0;for(let r=t-1;r>=0&&a<i;--r)for(let t=e[r].displayRecords.length-1;t>=0&&a<i;--t){const i=e[r].displayRecords[t],d=l.displayList.getDPInfoType();s[d]||(s[d]=i,++a)}}}const a=r.displayRecords.length;for(let d=0;d<a;++d){const a=r.displayRecords[d];let o=i.displayRecords[d];o?(o.meshData=a.meshData,o.materialKey=a.materialKey):(o=a.copy(),o.vertexFrom=void 0,o.indexFrom=void 0,i.displayRecords[d]=o);const h=a.geometryType,p=l.displayList.getDPInfoType(),y=t.addOrUpdate.tileBufferData.geometries[h],c=y.vertexBuffer,n=y.indexBuffer;let f;s&&(f=s[p]?l.displayList.splitAfter(s[p]):-1),e=this._dispRecStore.setMeshData(o,a,c,n,f)&&e,s&&null!=o.indexFrom&&null!=o.indexFrom&&(s[p]=o)}}return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(){this._byGeometryType=null}get satisfied(){return!this._byGeometryType}reset(){this._byGeometryType=null}verticesFor(e){return this._byGeometryType?this._byGeometryType[e].vertices:0}indicesFor(e){return this._byGeometryType?this._byGeometryType[e].indices:0}needMore(e,t,i){if(!t&&!i)return;this._byGeometryType||(this._byGeometryType=[{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0}]);const s=this._byGeometryType[e];s.vertices+=t,s.indices+=i}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(){this.vertexData=new Map,this.vertexCount=0,this.indexData=[]}clear(){this.vertexData.clear(),this.vertexCount=0,this.indexData=[]}update(t,e,a){for(const s in t)this.vertexData.set(s,t[s]);for(const s in this.vertexData)null===t[s]&&this.vertexData.delete(s);this.vertexCount=e,this.indexData=a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=5;class f{constructor(){this.geometries=[{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}}]}clone(){const e=new f;for(let r=0;r<this.geometries.length;r++){const f=this.geometries[r],t=e.geometries[r];t.indexBuffer=f.indexBuffer.slice(),t.vertexBuffer={};for(const e in f.vertexBuffer){const{data:r,stride:i}=f.vertexBuffer[e];t.vertexBuffer[e]={data:r.slice(),stride:i}}}return e}static deserialize(t){const i=new f;for(let f=0;f<r;++f){i.geometries[f].indexBuffer=new Uint32Array(t.geometries[f].indexBuffer),i.geometries[f].vertexBuffer={};for(const r in t.geometries[f].vertexBuffer)i.geometries[f].vertexBuffer[r]={data:(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(t.geometries[f].vertexBuffer[r].data,t.geometries[f].vertexBuffer[r].stride),stride:t.geometries[f].vertexBuffer[r].stride}}return i}serialize(){const e={geometries:[{indexBuffer:this.geometries[0].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[1].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[2].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[3].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[4].indexBuffer.buffer,vertexBuffer:{}}]};for(let f=0;f<r;++f)for(const r in this.geometries[f].vertexBuffer)e.geometries[f].vertexBuffer[r]={data:this.geometries[f].vertexBuffer[r].data.buffer,stride:this.geometries[f].vertexBuffer[r].stride};return e}getBuffers(){const e=[];for(let f=0;f<r;++f){e.push(this.geometries[f].indexBuffer.buffer);for(const r in this.geometries[f].vertexBuffer)e.push(this.geometries[f].vertexBuffer[r].data.buffer)}return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileData: () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _MemoryRequirements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MemoryRequirements.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js");
/* harmony import */ var _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileBufferData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js");
/* harmony import */ var _TileDisplayData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TileDisplayData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WGLDisplayRecord.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js");
/* harmony import */ var _cpuMapped_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cpuMapped/DisplayRecordReader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/DisplayRecordReader.js");
/* harmony import */ var _mesh_VertexBuffer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mesh/VertexBuffer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js");
/* harmony import */ var _mesh_VertexVector_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mesh/VertexVector.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexVector.js");
/* harmony import */ var _util_Writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./util/Writer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const d=new _MemoryRequirements_js__WEBPACK_IMPORTED_MODULE_2__["default"],p=new _MemoryRequirements_js__WEBPACK_IMPORTED_MODULE_2__["default"],D=5;function h(e,t){const r={};for(const s in e){const i={data:(0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.allocateTypedArrayBuffer)(t,e[s]),stride:e[s]};r[s]=i}return r}function x(e){return[e.fill||{},e.line||{},e.icon||{},e.text||{},e.label||{}]}function y(e){const t=[[],[],[],[],[]],r=e;for(const s of r)for(const e of s.displayRecords)t[e.geometryType].push(e);return t}class B{constructor(){this.tileDisplayData=null,this.tileBufferData=null}reshuffle(){if(d.reset(),!this.tileDisplayData)return;const t=y(this.tileDisplayData.displayObjects);for(const e of t)for(const t of e)t&&d.needMore(t.geometryType,t.meshData?t.meshData.vertexCount:t.vertexCount,t.meshData?t.meshData.indexData.length:t.indexCount);const r=t.length,i=new _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__["default"];for(let s=0;s<r;++s){i.geometries[s].indexBuffer=new Uint32Array(Math.round(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.ReallocGrowthFactor*d.indicesFor(s)));const t=[],r=this.tileBufferData?.geometries[s].vertexBuffer;if(!r)continue;for(const e in r)t.push(r[e].stride);const a=B._computeVertexAlignment(t),n=Math.round(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.ReallocGrowthFactor*d.verticesFor(s)),f=B._align(n,a);for(const e in r){const t=r[e].stride;i.geometries[s].vertexBuffer[e]={stride:t,data:(0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.allocateTypedArrayBuffer)(f,t)}}}p.reset(),this.tileDisplayData.displayList?.clear();for(let e=0;e<r;++e){const r=t[e];for(const t of r){if(t.meshData)t.writeMeshDataToBuffers(p.verticesFor(e),i.geometries[e].vertexBuffer,p.indicesFor(e),i.geometries[e].indexBuffer),t.meshData=null;else{const r=this.tileBufferData?.geometries[e];if(r){const s=r.vertexBuffer,o=r.indexBuffer,n=i.geometries[e].vertexBuffer,f=i.geometries[e].indexBuffer,l=p.verticesFor(e),u=p.indicesFor(e);(0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.copyMeshData)(l,u,n,f,t,s,o),t.vertexFrom=l,t.indexFrom=u}}p.needMore(e,t.vertexCount,t.indexCount)}}const{displayList:n,displayObjects:f}=this.tileDisplayData;if(n)for(const e of f)n.addToList(e.displayRecords);this.tileBufferData=i}getStrides(){const e=[],t=this.tileBufferData?.geometries;if(!t)return e;for(let r=0;r<t.length;++r){const s=t[r];e[r]={};for(const t in s.vertexBuffer)e[r][t]=s.vertexBuffer[t].stride}return e}clone(){const e=new B;return e.tileBufferData=this.tileBufferData?.clone()??null,e.tileDisplayData=this.tileDisplayData?.clone()??null,e}_guessSize(){const e=this.tileDisplayData?.displayObjects??[],t=Math.min(e.length,4),r=12,s=40;let i=0;for(let o=0;o<t;o++)i=Math.max(i,e[o].displayRecords.length);return 2*(e.length*r+e.length*i*s)}serialize(){const e=this.tileBufferData.serialize(),t=this.tileBufferData.getBuffers(),r=this.tileDisplayData.serialize(new _util_Writer_js__WEBPACK_IMPORTED_MODULE_10__["default"](Int32Array,this._guessSize())).buffer();return t.push(r),{result:{displayData:r,bufferData:e},transferList:t}}static fromVertexData(e,r){const s={},i=new Map;for(const t of r)i.set(t.id,t);return (0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.forEachGeometryType)((r=>{const o=e.data[r];if(null!=o){const e=_cpuMapped_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_7__.DisplayRecordReader.from(o.records).getCursor();for(;e.next();){const t=e.id,s=e.materialKey,o=e.indexFrom,a=e.indexCount,n=e.vertexFrom,l=e.vertexCount,u=i.get(t),c=new _WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_6__["default"](t,r,s);c.indexFrom=o,c.indexCount=a,c.vertexFrom=n,c.vertexCount=l,u.displayRecords.push(c)}s[r]=_mesh_VertexBuffer_js__WEBPACK_IMPORTED_MODULE_8__.VertexBuffers.fromVertexData(o,r)}else s[r]=new _mesh_VertexVector_js__WEBPACK_IMPORTED_MODULE_9__.VertexVectors(r,0,_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLSymbologyType.DEFAULT).intoBuffers()})),B.fromMeshData({displayObjects:r,vertexBuffersMap:s})}static fromMeshData(e){const t=new B,r=new _TileDisplayData_js__WEBPACK_IMPORTED_MODULE_4__["default"],o=new _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__["default"];r.displayObjects=e.displayObjects;for(const s in e.vertexBuffersMap){const t=s,r=e.vertexBuffersMap[t];o.geometries[t].indexBuffer=r.indexBuffer,o.geometries[t].vertexBuffer=r.namedBuffers}return t.tileDisplayData=r,t.tileBufferData=o,t}static bind(e,t){const r=new B;return r.tileDisplayData=e,r.tileBufferData=t,r}static create(e,t){const r=new B;r.tileDisplayData=new _TileDisplayData_js__WEBPACK_IMPORTED_MODULE_4__["default"],r.tileDisplayData.displayObjects=e;const o=[0,0,0,0,0],a=[0,0,0,0,0],n=[[],[],[],[],[]];for(const s of e)for(const e of s.displayRecords)n[e.geometryType].push(e),o[e.geometryType]+=e.meshData.vertexCount,a[e.geometryType]+=e.meshData.indexData.length;const l=new _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__["default"],u=x(t);for(let s=0;s<D;s++){const e=new Uint32Array(a[s]),t=h(u[s],o[s]);_WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_6__["default"].writeAllMeshDataToBuffers(n[s],t,e),l.geometries[s]={indexBuffer:e,vertexBuffer:t}}return r.tileBufferData=l,r}static _align(e,t){const r=e%t;return 0===r?e:e+(t-r)}static _computeVertexAlignment(e){let t=!1,r=!1;for(const s of e)s%4==2?t=!0:s%4!=0&&(r=!0);return r?4:t?2:1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _GraphicDisplayList_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GraphicDisplayList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicDisplayList.js");
/* harmony import */ var _WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WGLDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js");
/* harmony import */ var _util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/serializationUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(){this.displayObjects=[],this._displayList=null}get displayObjectRegistry(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const s of this.displayObjects)this._displayObjectRegistry.set(s.id,s)}return this._displayObjectRegistry}get displayList(){return this._displayList}computeDisplayList(){this._displayList=new _GraphicDisplayList_js__WEBPACK_IMPORTED_MODULE_0__["default"];for(const s of this.displayObjects)for(const t of s.displayRecords)this._displayList.addToList(t)}clone(){const s=new e;return this.displayObjects&&(s.displayObjects=this.displayObjects.map((s=>s.clone()))),s}serialize(s){return (0,_util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_2__.serializeList)(s,this.displayObjects),s}_deserializeObjects(s){const i=s.readInt32(),e=new Array(i),a=new Map;for(let l=0;l<e.length;++l){const i=_WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__["default"].deserialize(s);e[l]=i,a.set(i.id,i)}this.displayObjects=e,this._displayList=null,this._displayObjectRegistry=a}static deserialize(s){const t=new e;return t._deserializeObjects(s),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(a){this.geometryMap=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.createGeometryData)((()=>({indexBuffer:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createIndex(a,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.Usage.STATIC_DRAW),vao:null})),((e,s)=>({vertexBuffer:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createVertex(a,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.C_VBO_INFO[s])})))}dispose(){for(let e=0;e<5;e++){const t=this.geometryMap[e];if(t){t.data.vao?.disposeVAOOnly(),t.data.indexBuffer?.dispose();for(const e in t.buffers)t.buffers[e]?.data.vertexBuffer.dispose()}}}get(e){const t=this.geometryMap[e];return{getVAO(e,r,s){if(!t.data.vao){const o={};for(const e in t.buffers)o[e]=t.buffers[e].data.vertexBuffer;t.data.vao=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_3__.VertexArrayObject(e,s,r,o,t.data.indexBuffer)}return t.data.vao}}}has(e){return null!=this.geometryMap[e]}upload(e,t){t.forEach(((t,r)=>{this._upload(t,r,e)}))}_upload(e,t,r){if(e.indices&&(e.indices.allDirty?this._uploadIndices(r,t):null!=e.indices.from&&null!=e.indices.count&&this._uploadIndices(r,t,e.indices.from,e.indices.count)),e.vertices){const s=e.vertices;for(const e in s){const a=s[e];a.allDirty?this._uploadVertices(r,t,e):null!=a.from&&null!=a.count&&this._uploadVertices(r,t,e,a.from,a.count)}}}_uploadVertices(e,t,r,s,a){const o=this.geometryMap[t];if(!o)return;const f=e.geometries[t].vertexBuffer[r];if(!f)return;const{data:i,stride:n}=f;if(o.buffers[r]&&i.length>0){const e=n/i.BYTES_PER_ELEMENT;null!=s&&null!=a?o.buffers[r].data.vertexBuffer.setSubData(i,s*e,s*e,(s+a)*e):o.buffers[r].data.vertexBuffer.setData(i)}}_uploadIndices(e,t,r,s){const a=this.geometryMap[t];if(!a)return;const o=e.geometries[t].indexBuffer;a.data.indexBuffer&&o.length>0&&(null!=r&&null!=s?a.data.indexBuffer.setSubData(o,r,r,r+s):a.data.indexBuffer.setData(o))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WGLDisplayRecord.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js");
/* harmony import */ var _util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/serializationUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(s){this.insertAfter=null,this.id=s,this.displayRecords=[]}copy(){const s=new e(this.id);return s.set(this),s}clone(){const s=new e(this.id);return s.displayRecords=this.displayRecords.map((s=>s.clone())),s.insertAfter=this.insertAfter,s}set(s){this.id=s.id,this.displayRecords=s.displayRecords,this.insertAfter=s.insertAfter}serialize(s){return s.push(this.id),(0,_util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_1__.serializeList)(s,this.displayRecords),s}static deserialize(i){const r=i.readInt32(),d=new e(r),o={id:r};return d.displayRecords=(0,_util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_1__.deserializeList)(i,_WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_0__["default"],o)??[],d}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _MeshData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s{constructor(t,e,s,i=0,r=0){this.id=t,this.geometryType=e,this.materialKey=s,this.minZoom=i,this.maxZoom=r,this.meshData=null,this.symbolLevel=0,this.zOrder=0,this.vertexFrom=0,this.vertexCount=0,this.indexFrom=0,this.indexCount=0,this._sortKey=null}get sortKey(){return null==this._sortKey&&this._computeSortKey(),this._sortKey}clone(){return this.copy()}copy(){const t=new s(this.id,this.geometryType,this.materialKey);return t.vertexFrom=this.vertexFrom,t.vertexCount=this.vertexCount,t.indexFrom=this.indexFrom,t.indexCount=this.indexCount,t.zOrder=this.zOrder,t.symbolLevel=this.symbolLevel,t.meshData=this.meshData,t.minZoom=this.minZoom,t.maxZoom=this.maxZoom,t}setMeshDataFromBuffers(s,i,r){const o=new _MeshData_js__WEBPACK_IMPORTED_MODULE_0__["default"];for(const t in i){const r=i[t].stride,a=i[t].data;if(!a)continue;const h=[],n=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.strideToPackingFactor)(r);for(let t=0;t<r*s.vertexCount/n;++t)h[t]=a[t+r*s.vertexFrom/n];o.vertexData.set(t,h)}o.indexData.length=0;for(let t=0;t<s.indexCount;++t)o.indexData[t]=r[t+s.indexFrom]-s.vertexFrom;o.vertexCount=s.vertexCount,this.meshData=o}readMeshDataFromBuffers(s,i){this.meshData?this.meshData.clear():this.meshData=new _MeshData_js__WEBPACK_IMPORTED_MODULE_0__["default"];for(const t in s){const i=s[t].stride,r=s[t].data,o=[],a=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.strideToPackingFactor)(i);for(let t=0;t<i*this.vertexCount/a;++t)o[t]=r[t+i*this.vertexFrom/a];this.meshData.vertexData.set(t,o)}this.meshData.indexData.length=0;for(let t=0;t<this.indexCount;++t)this.meshData.indexData[t]=i[t+this.indexFrom]-this.vertexFrom;this.meshData.vertexCount=this.vertexCount}writeMeshDataToBuffers(t,s,i,r){if(this.meshData){for(const i in s){const r=s[i].stride,o=this.meshData.vertexData.get(i),a=s[i].data,h=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.strideToPackingFactor)(r);for(let e=0;e<r*this.meshData.vertexCount/h;++e)a[e+r*t/h]=o[e]}for(let e=0;e<this.meshData.indexData.length;++e)r[e+i]=this.meshData.indexData[e]+t;this.vertexFrom=t,this.vertexCount=this.meshData.vertexCount,this.indexFrom=i,this.indexCount=this.meshData.indexData.length}}static writeAllMeshDataToBuffers(t,e,s){let i=0,r=0;for(const o of t)o.writeMeshDataToBuffers(i,e,r,s),i+=o.vertexCount,r+=o.indexCount}_computeSortKey(){this._sortKey=(31&this.symbolLevel)<<12|(127&this.zOrder)<<4|7&this.geometryType}serialize(t){return t.push(this.geometryType),t.push(this.materialKey),t.push(this.vertexFrom),t.push(this.vertexCount),t.push(this.indexFrom),t.push(this.indexCount),t.push(this.minZoom),t.push(this.maxZoom),t}static deserialize(t,e){const i=t.readInt32(),r=t.readInt32(),o=new s(e.id,i,r);return o.vertexFrom=t.readInt32(),o.vertexCount=t.readInt32(),o.indexFrom=t.readInt32(),o.indexCount=t.readInt32(),o.minZoom=t.readInt32(),o.maxZoom=t.readInt32(),o}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexBuffers: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(e,t){this.data=e,this.stride=t}static decode(r){const s=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(r.data,r.stride),n=r.stride;return new t(s,n)}static fromVertexVector(r){const s=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(r.data.buffer(),r.stride),n=r.stride;return new t(s,n)}}class r{constructor(e,t,r){this.geometryType=e,this.indexBuffer=new Uint32Array(t),this.namedBuffers=r}static decode(e){const s=e.geometryType,n=e.indexBuffer,o={};for(const r in e.namedBuffers)o[r]=t.decode(e.namedBuffers[r]);return new r(s,n,o)}static fromVertexData(s,n){const o=s.indices,c=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(s.vertices,s.stride),i=s.stride,d={geometry:new t(c,i)};return new r(n,o,d)}static fromVertexVectors(e){const s=e.geometryType,n=e.indexVector.buffer(),o={};let c;for(c in e.namedVectors)o[c]=t.fromVertexVector(e.namedVectors[c]);return new r(s,n,o)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexVector.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexVector.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexVector: () => (/* binding */ s),
/* harmony export */   VertexVectors: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _VertexBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VertexBuffer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js");
/* harmony import */ var _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Writer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s{get vertexCount(){const t=this.stride/4,e=this.data.length/t;return e!==(0|e)&&console.debug("Corrupted stride"),e}constructor(t,e){this.data=t,this.stride=e}transfer(t,e){const r=this.data.buffer();t.vertexCount=this.vertexCount,t.data=r,t.stride=this.stride,e.push(r)}}class o{constructor(e,o,n){this.geometryType=e,this.indexVector=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__["default"](Uint32Array,6*o),this.namedVectors={};const i=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.getStrides)(e,n);for(const t in i){const e=i[t];let n;switch(e%4){case 0:case 2:n=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__["default"](Uint32Array,e*o);break;case 1:case 3:n=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__["default"](Uint8Array,e*o)}this.namedVectors[t]=new s(n,e)}}get(t){return this.namedVectors[t].data}getVector(t){return this.namedVectors[t]}transfer(t,e){const r=this.indexVector.buffer(),s={};let o;for(o in e.push(r),this.namedVectors){const t=this.namedVectors[o];s[o]={},t.transfer(s[o],e)}t.geometryType=this.geometryType,t.indexBuffer=r,t.namedBuffers=s,this.destroy()}intoBuffers(){const t=_VertexBuffer_js__WEBPACK_IMPORTED_MODULE_1__.VertexBuffers.fromVertexVectors(this);return this.destroy(),t}destroy(){this.indexVector=null,this.namedVectors=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deserializeList: () => (/* binding */ n),
/* harmony export */   serializeList: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e,n){if(null!==n){e.push(n.length);for(const r of n)r.serialize(e);return e}e.push(0)}function n(e,n,r){const t=e.readInt32(),o=new Array(t);for(let i=0;i<o.length;i++)o[i]=n.deserialize(e,r);return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsReader: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o extends _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReaderJSON{static from(s,n,i){const c=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetReader.createInstance(),u=[],a=s.filter((r=>!!r.geometry));for(const e of a){const s=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.getJsonType)(e.geometry);(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__.convertFromGraphics)(u,[e],s,!1,!1,n)}return new o(c,u,i)}constructor(r,t,e){super(r,t,null),this._transform=e}get geometryType(){const r=this._current;return r?r.geometryType:null}get insertAfter(){return this._current.insertAfter}readGraphic(){return this._current}getCursor(){return this.copy()}copy(){const r=new o(this.instance,this._features,this._transform);return this.copyInto(r),r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _symbols_cim_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolDrawHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GraphicStoreItem.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const m={minX:0,minY:0,maxX:0,maxY:0},p=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),g=1e-5;function f(e,t,i,r,s){return m.minX=t,m.minY=i,m.maxX=r,m.maxY=s,e.search(m)}function _(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}class b{constructor(e,i,r,s,o,n,l){this._graphics=s,this._onAdd=o,this._onRemove=n,this._hashToCIM=l,this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_1__.r)(9,_),this._itemByGraphic=new Map,this._inflatedSizeHelper=new _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__.CIMSymbolInflatedSizeHelper,this._tileInfoView=e,this._uidFieldName=r;const u=e.getClosestInfoForScale(i);u&&(this._resolution=this._tileInfoView.getTileResolution(u.level))}setResourceManager(e){this._cimResourceManager=e,this._hittestDrawHelper=new _symbols_cim_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_6__.HittestDrawHelper(e)}hitTest(e,t,s,o,l){e=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeMapX)(e,this._tileInfoView.spatialReference);const u=.5*o*window.devicePixelRatio*s;p[0]=e-u,p[1]=t-u,p[2]=e+u,p[3]=t+u;const h=.5*o*(s+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.PIXEL_BUFFER),a=f(this._index,e-h,t-h,e+h,t+h);if(!a||0===a.length)return[];const d=[],m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),g=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)();for(const i of a){const{geometry:e,symbolResource:t}=i;this._getSymbolBounds(m,t,e,g,l),g[3]=g[2]=g[1]=g[0]=0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.intersects)(m,p)&&i.graphic?.visible&&d.push(i)}if(0===d.length)return[];const _=this._hittestDrawHelper,b=[];for(const i of d){const{geometry:e,symbolResource:t}=i,{hash:r,textInfo:s}=t,n=this._hashToCIM.get(r);n&&(_.hitTest(p,n.symbol,e,s,l,o)&&b.push(i))}return b.sort(y),b.map((e=>e.graphic))}getGraphicsData(e,t,i){const r=this._searchForItems(t);if(0===r.length||0===i.length)return[];r.sort(((e,t)=>e.zorder-t.zorder)),r[0].insertAfter=-1;for(let a=1;a<r.length;a++)r[a].insertAfter=r[a-1].graphic.uid;r.sort(((e,t)=>e.graphic.uid-t.graphic.uid)),i.sort(((e,t)=>e.uid-t.uid));let s,o=0,n=0;const l=t.resolution,u=[],h={originPosition:"upperLeft",scale:[l,l],translate:[t.bounds[0],t.bounds[3]]};for(const c of i){for(n=-2;o<r.length;)if(s=r[o],o++,c.uid===s.graphic.uid){n=s.insertAfter;break}if(!s?.geometry||-2===n)continue;const i=s.getGeometryQuantized(h,t.bounds,this._tileInfoView.spatialReference,l),d={...s.graphic.attributes};d[this._uidFieldName]=c.uid,null==s.groupId&&(s.groupId=e.createTemplateGroup(s.symbol,null)),u.push({centroid:_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__["default"].getCentroidQuantized(s,h),geometry:i,attributes:d,symbol:s.symbol,groupId:s.groupId,insertAfter:n,zorder:s.zorder})}return u.sort(((e,t)=>e.zorder-t.zorder)),u}queryTileData(e,t){if(0===this._graphics.length)return[];const{bounds:i,resolution:r}=t,s=this._searchForItems(t),o=[];return 0===s.length||this._createTileGraphics(o,e,s,{originPosition:"upperLeft",scale:[r,r],translate:[i[0],i[3]]},t),o}has(e){return this._itemByGraphic.has(e)}getBounds(e){const t=this._itemByGraphic.get(e);return t?t.bounds:null}getAllBounds(){return Array.from(this._itemByGraphic.values()).filter((e=>e.graphic.visible)).map((e=>e.bounds))}addOrModify(e,t,i){if(!e||null==t)return;this.has(e)&&this.remove(e),this._onAdd(e);const r=[0,0,0,0],s=this._getSymbolBounds(null,t,i,r,0),o=_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__["default"].acquire(e,t,i,null!=s?s:null,r);return this._itemByGraphic.set(e,o),i&&this._index.insert(o),o.bounds}remove(e){if(!this._itemByGraphic.has(e))return;this._onRemove(e);const t=this._itemByGraphic.get(e);t?.bounds&&this._index.remove(t),this._itemByGraphic.delete(e)}updateZ(){const e=this._graphics.items;let t,i;for(let r=0;r<e.length;r++)i=e[r],t=this._itemByGraphic.get(i),t&&(t.zorder=r)}update(e,t,i){const r=this._itemByGraphic.get(e);r.groupId=null;const o=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.clone)(r.bounds);this._index.remove(r);const n=this._getSymbolBounds(r.bounds,t,i,r.size,0);return null!=n&&r.set(e,t,i,n,r.size),i&&this._index.insert(r),{oldBounds:o,newBounds:r.bounds}}updateLevel(e){if(this._resolution===e)return;this._resolution=e,this._index.clear();const t=this._itemByGraphic,i=[];for(const[r,s]of t){const e=this._getSymbolBounds(s.bounds,s.symbolResource,s.geometry,s.size,0);s.geometry&&null!=e&&(s.bounds=e,i.push(s))}this._index.load(i)}clear(){this._itemByGraphic.clear(),this._index.clear()}_createTileGraphics(e,t,i,r,s){const o=this._uidFieldName,n=this._tileInfoView.spatialReference,{bounds:l,resolution:u}=s;let h,c,d,m;i.sort(((e,t)=>e.zorder-t.zorder));for(let p=0;p<i.length;p++){d=i[p],h=d.graphic,c=d.getGeometryQuantized(r,l,n,u),m=0===p?-1:i[p-1].graphic.uid;const s={...d.graphic.attributes};s[o]=h.uid,null==d.groupId&&(d.groupId=t.createTemplateGroup(d.symbol,null)),e.push({centroid:_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__["default"].getCentroidQuantized(d,r),geometry:c,attributes:s,symbol:d.symbol,groupId:d.groupId,insertAfter:m,zorder:d.zorder})}}_searchForItems(e){const t=this._tileInfoView.spatialReference,r=e.bounds,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.getInfo)(t);if(s&&t.isWrappable){const[t,o]=s.valid,n=Math.abs(r[2]-o)<g,l=Math.abs(r[0]-t)<g;if((!n||!l)&&(n||l)){const s=e.resolution;let l;l=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(n?[t,r[1],t+s*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.PIXEL_BUFFER,r[3]]:[o-s*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.PIXEL_BUFFER,r[1],o,r[3]]);const u=f(this._index,r[0],r[1],r[2],r[3]),h=f(this._index,l[0],l[1],l[2],l[3]);return[...new Set([...u,...h])]}}return f(this._index,r[0],r[1],r[2],r[3])}_getSymbolBounds(t,r,s,n,l){if(!r||!r.symbol||!s)return null;if(t||(t=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)()),(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_3__.getBoundsXY)(t,s),!n||0===n[0]&&0===n[1]&&0===n[2]&&0===n[3]){const{hash:t,textInfo:i}=r,s=this._hashToCIM.get(t);if(!s)return null;n||(n=[0,0,0,0]);const o=this._inflatedSizeHelper.getSymbolInflateSize(n,s.symbol,this._cimResourceManager,l,i);n[0]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[0]),n[1]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[1]),n[2]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[2]),n[3]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[3])}const u=this._resolution,a=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__.CIMSymbolInflatedSizeHelper.safeSize(n);return t[0]-=a*u,t[1]-=a*u,t[2]+=a*u,t[3]+=a*u,t}}const y=(e,t)=>{const i=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.graphicGeometryToNumber)(e.graphic),r=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.graphicGeometryToNumber)(t.graphic);return i===r?t.zorder-e.zorder:i-r};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"],y=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"],g="esriGeometryPolyline";function f(t){t.coords.length=0,t.lengths.length=0}class d{constructor(){this.bounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.graphic=null}static acquire(t=null,e,s,r,i){let o;return 0===d._pool.length?o=new d:(o=d._pool.pop(),this._set.delete(o)),o.acquire(t,e,s,r,i),o}static release(t){t&&!this._set.has(t)&&(t.release(),this._pool.push(t),this._set.add(t))}static getCentroidQuantized(t,e){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPolygon)(t.geometry)){const r=t.symbol;if(null==r)return null;if(r?.layers.length>0&&r.layers.some((t=>"text"===t.type||"marker"===t.type))){const r=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__.polygonCentroid)(t.geometry);return null!==r?(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizePoint)(e,{},{x:r[0],y:r[1]},!1,!1):null}}return null}acquire(t=null,e,s,r,i){t&&this.set(t,e,s,r,i)}release(){this.graphic=null,this.symbolResource=null,this.geometry=null}get symbol(){return this.symbolResource.symbol}set(t,e,s,r,i){this.graphic=t,this.geometry=s,this.symbolResource=e,this.bounds=r,i&&(this.size=i)}getGeometryQuantized(t,s,r,o){const c=this.geometry,d=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(c);if(null==d)return null;switch(d){case"esriGeometryPolygon":{const e=c,{rings:s}=e;if(!s||0===s.length)return null;let r;if(r=1===s.length&&2===s[0].length?(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,{paths:[[s[0][0],s[0][1]]]}):(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,this.geometry),!r){const e={x:s[0][0][0],y:s[0][0][1]};if(r=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,e),r){const{x:t,y:e}=r;return{rings:[[[t-1,e],[1,-1],[1,1],[-1,1],[-1,-1]]]}}}return r}case"esriGeometryPolyline":{const e=c;f(p),f(y);const s=e.hasZ??!1,r=e.hasM??!1;return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertFromPolyline)(p,e),(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.generalizeOptimizedGeometry)(y,p,s,r,g,t.scale[0]),(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.quantizeOptimizedGeometry)(p,y,s,r,g,t),(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertToPolyline)(p,e.hasZ??!1,e.hasM??!1)}case"esriGeometryMultipoint":{const i=c,u=.5*o*Math.max(Math.abs(this.size[0])+this.size[2]-this.size[0],Math.abs(this.size[1])+this.size[3]-this.size[1]),h=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.getInfo)(r);let a=i.points;if(h){const[t,r]=h.valid,i=r-t;a=a.filter((o=>{if(o[0]+u>r||o[0]-u<t){const t=[...o];return o[0]+u>r?t[0]-=i:t[0]+=i,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.containsPointWithMargin)(s,o,u)||(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.containsPointWithMargin)(s,t,u)}return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.containsPointWithMargin)(s,o,u)}))}return 0===a.length?{points:a}:(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,{points:a})}}return (0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,this.geometry)}}d._pool=[],d._set=new Set;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ oe)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtilsSync.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../symbols/support/defaults.js */ "./node_modules/@arcgis/core/symbols/support/defaults.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_GraphicTile_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../engine/webgl/GraphicTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicTile.js");
/* harmony import */ var _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../engine/webgl/TileData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js");
/* harmony import */ var _engine_webgl_WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../engine/webgl/WGLDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js");
/* harmony import */ var _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../engine/webgl/mesh/MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js");
/* harmony import */ var _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/WGLMeshFactory.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/WGLMeshFactory.js");
/* harmony import */ var _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../engine/webgl/mesh/templates/WGLTemplateStore.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLTemplateStore.js");
/* harmony import */ var _engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../engine/webgl/util/Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/* harmony import */ var _features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../features/schemaUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js");
/* harmony import */ var _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../features/support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../features/support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../features/support/GraphicsReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js");
/* harmony import */ var _GraphicStore_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./GraphicStore.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/* harmony import */ var _support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/* harmony import */ var _features_createSymbolSchema_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../features/createSymbolSchema.js */ "./node_modules/@arcgis/core/views/2d/layers/features/createSymbolSchema.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const se=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("esri-2d-graphic-debug");function ie(e,t,s){let i=s.get(e);return i||(i={tile:t,addedOrModified:[],removed:[]},s.set(e,i)),i}let re=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_6__.IdentifiableMixin)((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_4__.HandleOwnerMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]))){constructor(e){super(e),this._storage=new _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_33__.ComputedAttributeStorage,this._displayIds=new Map,this._controller=new AbortController,this._tiles=new Map,this._graphicStoreUpdate=!1,this._graphicsSet=new Set,this._matcher=Promise.resolve(null),this._tileUpdateSet=new Set,this._tilesToUpdate=new Map,this._graphicIdToAbortController=new Map,this._attached=!1,this._updatingGraphicsTimer=null,this._hashToExpandedSymbol=new Map,this._hashToExpandedSymbolPromise=new Map,this._hashToCIMSymbolPromise=new Map,this._hashToCIM=new Map,this._processing=!1,this._needsProcessing=!1,this._pendingUpdate={added:new Set,updated:new Set,removed:new Set},this.lastUpdateId=-1,this.renderer=null,this.updateRequested=!1,this.defaultPointSymbolEnabled=!0,this.graphicUpdateHandler=this.graphicUpdateHandler.bind(this)}destroy(){this._updatingGraphicsTimer&&(clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=null,this.notifyChange("updating")),this._controller.abort(),this.container.destroy(),this._set("graphics",null),this._graphicStore.clear(),this._attributeStore=null,this._hashToExpandedSymbol.clear(),this.view=null,this.renderer=null,this._hashToCIM.clear(),this._hashToCIMSymbolPromise.clear(),this._hashToExpandedSymbolPromise.clear()}_createMatcher(e,t,s){if(e){const i=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__.createSymbolSchemaOptions)(e),r=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__.createMatcherSchema)({indexCount:0,fields:{}},"feature",e,i);this._matcher=(0,_engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_30__.createMatcher)(r,t,null,s)}}_createDisplayId(e){let t=this._displayIds.get(e);return t||(t=this._storage.createDisplayId(),this._displayIds.set(e,t)),t}initialize(){this._attributeStore=new _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_32__["default"]({type:"local",initialize:e=>Promise.resolve(this.container.attributeView.initialize(e)),update:e=>this.container.attributeView.requestUpdate(e),render:()=>this.container.requestRender()},(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_38__.getWebGLCapabilities)("2d")),this.container.hasHighlight=()=>this._attributeStore.hasHighlight;const e=e=>{this._createDisplayId(e.uid),this._setFilterState(e.uid,e.visible)},t=e=>{const t=this._displayIds.get(e.uid);this._displayIds.delete(e.uid),this._storage.releaseDisplayId(t)},s=new _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_29__.WGLTemplateStore(this.container.getMaterialItems.bind(this.container),this.view.featuresTilingScheme.tileInfo);this._graphicStore=new _GraphicStore_js__WEBPACK_IMPORTED_MODULE_35__["default"](this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.graphics,e,t,this._hashToCIM),this._meshFactory=new _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_28__.WGLMeshFactory(null,this.uid,s),this._templateStore=s,this.handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.watch)((()=>this._effectiveRenderer),(e=>{this._createMatcher(e,s,this.container.stage.resourceManager);for(const t of this.graphics)this._pendingUpdate.updated.add(t);this.requestUpdate()})),this.view.graphicsTileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",(()=>{se&&this.container.enableRenderingBounds((()=>this._graphicStore.getAllBounds())),this.graphics.items.length>0&&this._graphicsChangeHandler({target:this.graphics,added:this.graphics.items,removed:[],moved:[]}),this.handles.add(this.graphics.on("change",(e=>this._graphicsChangeHandler(e))),"graphics");const e=this.container.stage.resourceManager;this._createMatcher(this._effectiveRenderer,s,e),this._graphicStore.setResourceManager(e),this._attached=!0,this.notifyChange("updating")}))]);const i=this.view.graphicsTileStore.tiles;this._onTileUpdate({added:i,removed:[]})}get _effectiveRenderer(){return"function"==typeof this.renderer?this.renderer():this.renderer}get updating(){return!this._attached||null!==this._updatingGraphicsTimer||this._pendingUpdate.added.size>0||this._pendingUpdate.removed.size>0||this._pendingUpdate.updated.size>0||this._tileUpdateSet.size>0||this._tilesToUpdate.size>0||this._attributeStore?.updatingHandles.updating||this._processing}hitTest(e){if(!this.view||this.view.suspended)return[];const{resolution:t,rotation:s}=this.view.state;return this._graphicStore.hitTest(e.x,e.y,2,t,s)}update(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const t=e.state,{resolution:s}=t;if(this._graphicStore.updateLevel(s),this._graphicStoreUpdate=!0,this.updateRequested=!1,this._pendingUpdate.updated.size>0){if(!this._processing)return void this._updateGraphics();this._needsProcessing=!0}}viewChange(){this.requestUpdate()}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.requestUpdateCallback())}processUpdate(e){this.updateRequested&&(this.updateRequested=!1,this.update(e))}graphicUpdateHandler(e){const{graphic:t,property:s}=e;switch(s){case"attributes":case"geometry":case"symbol":this._pendingUpdate.updated.add(t),this.requestUpdate();break;case"visible":this._setFilterState(t.uid,t.visible),this._attributeStore.sendUpdates()}}setHighlight(e){const t=e.map((e=>this._displayIds.get(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome);this._attributeStore.setHighlight(e,t)}_getIntersectingTiles(e){const t=this._graphicStore.getBounds(e);if(!t||0===(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.width)(t)||0===(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.height)(t))return[];const s=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.intersectingInternationalDateline)(t,this.view.spatialReference);return null!=s?[...new Set([...this.view.graphicsTileStore.boundsIntersections(s[0]),...this.view.graphicsTileStore.boundsIntersections(s[1])])]:this.view.graphicsTileStore.boundsIntersections(t)}async _updateTile(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const t=e.tile,s=this._getGraphicsData(this._templateStore,t,e.addedOrModified),i=await this._processGraphics(t,s);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._patchTile(t.key,{type:"update",addOrUpdate:i,remove:e.removed,end:!0,clear:!1,sort:!1}),i}_patchTile(e,t){const s=this._tiles.get(e);s&&(this.container.onTileData(s,t),this.container.requestRender())}_graphicsChangeHandler(e){const t=this._pendingUpdate;for(const s of e.added)t.added.add(s);for(const s of e.moved)t.updated.add(s);for(const s of e.removed)this._pendingUpdate.added.has(s)?t.added.delete(s):t.removed.add(s);this._processing?this._needsProcessing=!0:this._updateGraphics()}_getGraphicsToUpdate(){const e={added:[],removed:[],updated:[]};if(!this.graphics)return e;const t=this._pendingUpdate;for(const s of this.graphics.items)t.added.has(s)?e.added.push(s):t.updated.has(s)&&e.updated.push(s);for(const s of t.removed)this._graphicStore.has(s)&&e.removed.push(s);return t.added.clear(),t.removed.clear(),t.updated.clear(),e}async _updateGraphics(){this._processing=!0;const{added:e,removed:t,updated:s}=this._getGraphicsToUpdate(),i=this._tilesToUpdate;let r;try{if(!this._graphicStoreUpdate){const e=this.view.state,{resolution:t}=e;this._graphicStore.updateLevel(t)}const o=[],a=new Array(e.length+t.length);for(let e=0;e<s.length;e++){const t=s[e],n=this._getIntersectingTiles(t);for(const e of n){r=e.id;ie(r,e,i).removed.push(this._displayIds.get(t.uid))}o.push(this._updateGraphic(t,null)),a[e]=t}const n=s.length;for(let t=0;t<e.length;t++){const s=e[t];a[n+t]=s,this._graphicsSet.add(s),o.push(this._addGraphic(s))}for(const e of t){this._abortProcessingGraphic(e.uid);const t=this._getIntersectingTiles(e);for(const s of t){r=s.id;ie(r,s,i).removed.push(this._displayIds.get(e.uid))}this._graphicsSet.delete(e),this._graphicStore.remove(e)}let h;this._flipUpdatingGraphics(),await Promise.all(o);for(let e=0;e<a.length;e++){h=a[e];const t=this._getIntersectingTiles(h);for(const e of t){r=e.id;ie(r,e,i).addedOrModified.push(h)}}this._graphicStore.updateZ();const l=[];for(const[e,t]of i)l.push(this._updateTile(t));await Promise.all(l)}catch(o){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(o),0}for(const a of t)try{const e=await this._getSymbolForGraphic(a,null);if(e){const t=e.hash();this._hashToExpandedSymbol.delete(t)}}catch(o){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(o),0}i.clear(),this.notifyChange("updating"),this._processing=!1,this._needsProcessing&&(this._needsProcessing=!1,this._updateGraphics())}_getArcadeInfo(e){const t=(e.attributes?Object.keys(e.attributes):[]).map((t=>({name:t,alias:t,type:"string"==typeof e.attributes[t]?"esriFieldTypeString":"esriFieldTypeDouble"})));return null==e.geometry?null:{geometryType:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.getJsonType)(e.geometry),spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(e.geometry.spatialReference),fields:t}}_getSymbolForGraphic(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),null!=e.symbol?Promise.resolve(e.symbol):null!=this._effectiveRenderer?this._effectiveRenderer.getSymbolAsync(e,{scale:this.view.state.scale,signal:null!=t?t.signal:null}):Promise.resolve(this._getNullSymbol(e))}_getCIMSymbol(e,t,s){let i=this._hashToCIM.get(t);if(i)return Promise.resolve(i);const r=(0,_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_20__.symbolToCIM)(e);if(null!=r){if("CIMSymbolReference"===r.type)return i=r,this._hashToCIM.set(t,i),Promise.resolve(i);let e=this._hashToCIMSymbolPromise.get(t);return e||(e=r.fetchCIMSymbol(s).then((e=>(this._hashToCIM.set(t,e.data),this._hashToCIMSymbolPromise.delete(t),e))).catch((e=>(this._hashToCIMSymbolPromise.delete(t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(e),null))),this._hashToCIMSymbolPromise.set(t,e),e)}return Promise.resolve(null)}_expandCIMSymbol(e,t,s,i){const r=this._hashToExpandedSymbol.get(s);if(r)return Promise.resolve(r);let o=this._hashToExpandedSymbolPromise.get(s);if(o)return o;const a=this.container.stage,n=this._getArcadeInfo(t),h=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__.createSymbolSchemaOptions)(null),l=(0,_features_createSymbolSchema_js__WEBPACK_IMPORTED_MODULE_39__.createSymbolSchema)(e,h);return o=(0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_37__.expandSymbol)(l,n,a.resourceManager,i),this._hashToExpandedSymbolPromise.set(s,o),o.then((e=>(this._hashToExpandedSymbol.set(s,e),this._hashToExpandedSymbolPromise.delete(s),e))),o}async _getSymbolResources(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);return this.container.stage?this._getSymbolForGraphic(e,t).then((s=>{if(!s)return null;const r=s.hash();return this._getCIMSymbol(s,r,t).then((s=>null==s?null:this._expandCIMSymbol(s,e,r,t).then((e=>{const t=e.layers.filter((e=>"text"===e.type&&"string"==typeof e.text));if(t&&t.length>0){const s=new Array(t.length);for(let e=0;e<t.length;e++){const r=t[e],o=[],[a]=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_3__.bidiText)(r.text);r.text=a;for(let e=0;e<a.length;e++)o.push(a.charCodeAt(e));s[e]={symbol:r,id:e,glyphIds:o}}const o=new Map;return this.container.getMaterialItems(s).then((s=>{(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__.assertIsSome)(s);for(let e=0;e<t.length;e++){const i=t[e];o.set(i.cim,{text:i.text,mosaicItem:s[e].mosaicItem})}return{symbol:e,textInfo:o,hash:r}}))}return{symbol:e,hash:r}}))))})).catch((e=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(e),null))):null}async _projectAndNormalizeGeometry(e,t){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),null==e.geometry||"mesh"===e.geometry.type)return null;let s=e.geometry;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolygon)(s)){const e=s.rings;s.rings=e}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolyline)(s)){const e=s.paths;s.paths=e}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isExtent)(s)){const i=await this._getSymbolForGraphic(e,t);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),i&&((0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.isMarkerSymbol)(i.type)||(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.isTextSymbol)(i.type))){s=s.center}else s=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.polygonFromExtent)(s)}await (0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_19__.checkProjectionSupport)(s.spatialReference,this.view.spatialReference);const i=(0,_geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_17__.normalizeCentralMeridianForDisplay)(s),r=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_19__.project)(i,s.spatialReference,this.view.spatialReference);return r&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_15__.closeRingsAndFixWinding)(r),r}_onTileUpdate(e){const t=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_18__.getInfo)(this.view.spatialReference);if(e.added&&e.added.length>0)for(const s of e.added)this._addNewTile(s,t);if(e.removed&&e.removed.length>0)for(const s of e.removed)this._removeTile(s.key)}async _addGraphic(e){this._abortProcessingGraphic(e.uid),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const t=new AbortController;this._graphicIdToAbortController.set(e.uid,t);const s={signal:t.signal};try{await this._addOrUpdateGraphic(e,s),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._graphicIdToAbortController.delete(e.uid)}catch(i){if(this._graphicIdToAbortController.delete(e.uid),!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(i))throw i}}_updateGraphic(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const s=this._projectAndNormalizeGeometry(e,t),i=this._getSymbolResources(e,t);return Promise.all([s,i]).then((([t,s])=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._graphicStore.addOrModify(e,s,t)}))}_addOrUpdateGraphic(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const s=this._projectAndNormalizeGeometry(e,t),i=this._getSymbolResources(e,t);return Promise.all([s,i]).then((([t,s])=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._graphicsSet.has(e)&&this._graphicStore.addOrModify(e,s,t)}))}_addTile(e){const t=this.view.featuresTilingScheme.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.create)(),e),s=this.view.featuresTilingScheme.getTileResolution(e.level),i=new _engine_webgl_GraphicTile_js__WEBPACK_IMPORTED_MODULE_24__.GraphicTile(e,s,t[0],t[3]);return this._tiles.set(e,i),this.container.addChild(i),i}async _addNewTile(e,t){const s=this._addTile(e.key),i=this._graphicStore.queryTileData(this._templateStore,e);if(0===i.length)return;if(t){const s=Math.round((t.valid[1]-t.valid[0])/e.resolution);for(const e of i)e.geometry&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPoint)(e.geometry)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isMultipoint)(e.geometry))&&this._wrapPoints(e,s)}const r=e.key;this._tileUpdateSet.add(e.key),this.notifyChange("updating");try{const t={type:"update",clear:!1,addOrUpdate:await this._processGraphics(e,i),remove:[],end:!0,sort:!1};s.patch(t),this._tileUpdateSet.delete(r),this.notifyChange("updating")}catch(o){if(this._tileUpdateSet.delete(r),this.notifyChange("updating"),!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(o))throw o}}_removeTile(e){if(!this._tiles.has(e))return;const t=this._tiles.get(e);this.container.removeChild(t),t.destroy(),this._tiles.delete(e)}_setFilterState(e,t){const s=this._displayIds.get(e),i=this._attributeStore.getHighlightFlag(e);this._attributeStore.setData(s,0,0,i|(t?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__.FILTER_FLAG_0:0))}_getGraphicsData(e,t,s){const i=this.view,r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_18__.getInfo)(i.spatialReference),o=this._graphicStore.getGraphicsData(e,t,s);if(r){const e=Math.round((r.valid[1]-r.valid[0])/t.resolution);for(const t of o)t.geometry&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPoint)(t.geometry)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isMultipoint)(t.geometry))&&this._wrapPoints(t,e)}return o}_wrapPoints(e,t){const s=e.geometry;(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isMultipoint)(s)?this._wrapMultipoint(s,t):this._wrapPoint(e,t)}_wrapMultipoint(e,t){const s=e.points,i=[];let r=0,o=0;for(const[a,n]of s){if(i.push([a+r,n]),r=0,t===_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE){const e=5*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER;a+o<e?(i.push([t,0]),r=-t):a+o>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE-e&&(i.push([-t,0]),r=t)}else a+o<-_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER?(i.push([t,0]),r=-t):a+o>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER&&(i.push([-t,0]),r=t);o+=a}e.points=i}_wrapPoint(e,t){const s=e.geometry;if(t===_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE){const i=5*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER;s.x<i?e.geometry={points:[[s.x,s.y],[t,0]]}:s.x>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE-i&&(e.geometry={points:[[s.x,s.y],[-t,0]]})}else s.x<-_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER?e.geometry={points:[[s.x,s.y],[t,0]]}:s.x>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER&&(e.geometry={points:[[s.x,s.y],[-t,0]]})}_processGraphics(e,t,s){if(!(t&&t.length)||!this._meshFactory)return Promise.resolve(null);const i=_features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_34__.GraphicsReader.from(t,this.uid,e.transform),r=this._meshFactory;return this._matcher.then((t=>r.analyzeGraphics(i,this.container.stage.resourceManager,t,null,null,s).then((()=>(this._attributeStore.sendUpdates(),this._processAnalyzedGraphics(e,i))))))}_processAnalyzedGraphics(e,t){const s=this._meshFactory,i=t.getSize(),r=t.getCursor(),o={features:i,records:i,metrics:0},a=new _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_27__.MeshData(e.key.id,o,_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_23__.WGLSymbologyType.DEFAULT,!1,!1),n=[];for(;r.next();){const t=r.readGraphic();t.insertAfter=-1===t.insertAfter?-1:this._displayIds.get(t.insertAfter),t.displayId=this._displayIds.get(t.attributes[this.uid]);const i=new _engine_webgl_WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_26__["default"](t.displayId);i.insertAfter=t.insertAfter,n.push(i),s.writeGraphic(a,r,e.level,this.container.stage.resourceManager)}const h=e.tileInfoView.tileInfo.isWrappable,l=a.serialize(h);if(1!==l.length)return new _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_25__.TileData;const d=l[0].message;return _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_25__.TileData.fromVertexData(d,n)}_abortProcessingGraphic(e){this._graphicIdToAbortController.get(e)?.abort()}_getNullSymbol(e){const t=e.geometry;return (0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolyline)(t)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__.errorPolylineSymbol2D:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolygon)(t)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isExtent)(t)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__.errorPolygonSymbol2D:this.defaultPointSymbolEnabled?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__.errorPointSymbol2D:null}_flipUpdatingGraphics(){this._updatingGraphicsTimer&&clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=setTimeout((()=>{this._updatingGraphicsTimer=null,this.notifyChange("updating")}),160),this.notifyChange("updating")}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"_effectiveRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],re.prototype,"requestUpdateCallback",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],re.prototype,"graphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"renderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"defaultPointSymbolEnabled",void 0),re=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.2d.layers.support.GraphicsView2D")],re);const oe=re;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2NodW5rc192ZWMzZjMyX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3c18yZF9sLTM0ZGFmZi5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJCQUEyQixjQUFjLDRCQUE0Qix1Q0FBdUMsa0JBQWtCLDRCQUE0Qiw4QkFBOEIsZ0JBQWdCLCtCQUErQixhQUFhLFdBQVcsYUFBYSxnQkFBZ0IsYUFBYSxnQkFBZ0IsYUFBYSxnQkFBZ0IsYUFBYSxnQkFBZ0IsMkVBQTJFLDJJQUEySSxxQkFBcUIsZUFBZSxHQUEwRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcHVCO0FBQ0E7QUFDQTtBQUNBO0FBQzZaLGNBQWMsZUFBZSxjQUFjLGVBQWUsZ0JBQWdCLHVCQUF1Qiw2QkFBNkIsa0VBQUMsZ0NBQWdDLGVBQWUsUUFBUSx3RUFBQyxrQkFBa0IsK0RBQUMsV0FBVywrREFBQyxTQUFTLEdBQUcsc0RBQUMsb0JBQW9CLEdBQUcsMkRBQUMsa0RBQWtELEdBQUcsdURBQUMsa0JBQWtCLEdBQUcsd0RBQUMsS0FBSyx5REFBQyxLQUFLLFFBQVEsNERBQUMsU0FBUyx3Q0FBd0MsR0FBRyx5RUFBQywyQkFBMkIsNEVBQUMsTUFBTSxpRUFBaUUsU0FBUyxnQkFBZ0IsZUFBZSxrQ0FBa0MsOEVBQThFLHFHQUFxRyxrQkFBa0IscUJBQXFCLGFBQWEsUUFBUSxRQUFRLHlFQUFDLE1BQU0sZ0JBQWdCLGFBQWEsUUFBUSx5RUFBQyxNQUFNLGlCQUFpQixLQUFLLFlBQVksUUFBUSxRQUFRLHlFQUFDLE1BQU0sY0FBYyxhQUFhLFFBQVEseUVBQUMsTUFBTSxlQUFlLFNBQVMsZ0JBQWdCLFlBQVksNEJBQTRCLGtDQUFrQyxZQUFZLGNBQWMsY0FBYywwQkFBMEIsVUFBVSxTQUFTLGtDQUFrQyxJQUFJLGtDQUFrQyxJ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MkRBQTJELCtCQUErQixPQUFPLHFFQUFDLFlBQVkscUVBQUMscUJBQXFCLEtBQUssU0FBUyxFQUFFLHdCQUF3QixpSUFBaUksWUFBWSwwRUFBQyxjQUFjLHVHQUF1Ryw2REFBNkQsMkJBQTJCLGdFQUFDLENBQUMscUJBQXFCLE9BQU8sZ0VBQUMscUJBQXFCLDJCQUEyQixpREFBaUQsa0JBQWtCLG1CQUFtQixPQUFPLDJFQUFDLElBQUksZ0ZBQUMsQ0FBQywwRUFBQyxLQUFLLHlFQUFDLElBQUksK0VBQUMsZ0NBQWdDLDZFQUFDLE1BQU0sd0JBQXdCLG9IQUFvSCwrREFBK0QsdUNBQXVDLHVEQUFDLEVBQUUsdUZBQUMsNENBQTRDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsZ0RBQWdELHVEQUFDLEVBQUUsdUZBQUMscUNBQXFDLHVEQUFDLEVBQUUsdUZBQUMsRUFBRSxpQkFBaUIsbUNBQW1DLHVEQUFDLEVBQUUsdUZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsdUZBQUMsa0NBQWtDLHVEQUFDLEVBQUUsdUZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsdUZBQUMsMkNBQTJDLHVEQUFDLEVBQUUsdUZBQUMsd0RBQXdELHVEQUFDLEVBQUUsdUZBQUMscURBQXFELFlBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL3ZlYzNmMzIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlsc1N5bmMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0RpcnR5TWFwLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9EaXNwbGF5UmVjb3JkU3RvcmUuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0ZyZWVMaXN0LmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9HcmFwaGljRGlzcGxheUxpc3QuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0dyYXBoaWNUaWxlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9NZW1vcnlSZXF1aXJlbWVudHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL01lc2hEYXRhLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9UaWxlQnVmZmVyRGF0YS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVGlsZURhdGEuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL1RpbGVEaXNwbGF5RGF0YS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvV0dMQnVmZmVycy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvV0dMRGlzcGxheU9iamVjdC5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvV0dMRGlzcGxheVJlY29yZC5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbWVzaC9WZXJ0ZXhCdWZmZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL21lc2gvVmVydGV4VmVjdG9yLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC91dGlsL3NlcmlhbGl6YXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9HcmFwaGljc1JlYWRlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY1N0b3JlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9ncmFwaGljcy9HcmFwaGljU3RvcmVJdGVtLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9ncmFwaGljcy9HcmFwaGljc1ZpZXcyRC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbigpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KDMpfWZ1bmN0aW9uIHQobil7Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KDMpO3JldHVybiB0WzBdPW5bMF0sdFsxXT1uWzFdLHRbMl09blsyXSx0fWZ1bmN0aW9uIHIobix0LHIpe2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheSgzKTtyZXR1cm4gZVswXT1uLGVbMV09dCxlWzJdPXIsZX1mdW5jdGlvbiBlKG4sdCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkobix0LDMpfWZ1bmN0aW9uIGEoKXtyZXR1cm4gbigpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gcigxLDEsMSl9ZnVuY3Rpb24gdSgpe3JldHVybiByKDEsMCwwKX1mdW5jdGlvbiBzKCl7cmV0dXJuIHIoMCwxLDApfWZ1bmN0aW9uIGMoKXtyZXR1cm4gcigwLDAsMSl9Y29uc3QgaT1hKCksZj1vKCksbD11KCksXz1zKCkseT1jKCksdz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsT05FUzpmLFVOSVRfWDpsLFVOSVRfWTpfLFVOSVRfWjp5LFpFUk9TOmksY2xvbmU6dCxjcmVhdGU6bixjcmVhdGVWaWV3OmUsZnJvbVZhbHVlczpyLG9uZXM6byx1bml0WDp1LHVuaXRZOnMsdW5pdFo6Yyx6ZXJvczphfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e2YgYXMgTyxsIGFzIFUsaSBhcyBaLGUgYXMgYSx0IGFzIGIsbiBhcyBjLHMgYXMgZCxjIGFzIGUsciBhcyBmLF8gYXMgZyx5IGFzIGgsbyx1LHcgYXMgdixhIGFzIHp9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGUgYXMgdH1mcm9tXCIuL2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldEJvdW5kc1hZIGFzIGl9ZnJvbVwiLi9ib3VuZHNVdGlscy5qc1wiO2ltcG9ydHtjbG9zZVJpbmdzIGFzIHN9ZnJvbVwiLi9jb29yZHNVdGlscy5qc1wiO2ltcG9ydHtpc1BvaW50IGFzIG4saXNNdWx0aXBvaW50IGFzIGUsaXNFeHRlbnQgYXMgaCxpc1BvbHlnb24gYXMgbyxpc1BvbHlsaW5lIGFzIHJ9ZnJvbVwiLi9qc29uVXRpbHMuanNcIjtpbXBvcnR7Y3V0UGFyYW1zIGFzIHUsdXBkYXRlUG9seUdlb21ldHJ5IGFzIG0sb2Zmc2V0TWFnbml0dWRlIGFzIHh9ZnJvbVwiLi9ub3JtYWxpemVVdGlsc0NvbW1vbi5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIF8saXNXZWJNZXJjYXRvciBhcyBsfWZyb21cIi4vc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gcCh0LCEwKX1mdW5jdGlvbiBhKHQpe3JldHVybiBwKHQsITEpfWZ1bmN0aW9uIHAodCxzKXtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IGM9dC5zcGF0aWFsUmVmZXJlbmNlLGE9XyhjKSxwPVwidG9KU09OXCJpbiB0P3QudG9KU09OKCk6dDtpZighYSlyZXR1cm4gcDtjb25zdCB5PWwoYyk/MTAyMTAwOjQzMjYsST11W3ldLm1heFgsZz11W3ldLm1pblg7aWYobihwKSlyZXR1cm4gZChwLEksZyk7aWYoZShwKSlyZXR1cm4gcC5wb2ludHM9cC5wb2ludHMubWFwKCh0PT5kKHQsSSxnKSkpLHA7aWYoaChwKSlyZXR1cm4gZihwLGEpO2lmKG8ocCl8fHIocCkpe2NvbnN0IHQ9aShDLHApLG49e3htaW46dFswXSx5bWluOnRbMV0seG1heDp0WzJdLHltYXg6dFszXX0sZT14KG4ueG1pbixnKSooMipJKSxoPTA9PT1lP3A6bShwLGUpO3JldHVybiBuLnhtaW4rPWUsbi54bWF4Kz1lLG4ueG1heD5JP08oaCxJLHMpOm4ueG1pbjxnP08oaCxnLHMpOmh9cmV0dXJuIHB9ZnVuY3Rpb24gZih0LGkpe2lmKCFpKXJldHVybiB0O2NvbnN0IHM9eSh0LGkpLm1hcCgodD0+dC5leHRlbnQpKTtyZXR1cm4gcy5sZW5ndGg8Mj9zWzBdfHx0OnMubGVuZ3RoPjI/KHQueG1pbj1pLnZhbGlkWzBdLHQueG1heD1pLnZhbGlkWzFdLHQpOntyaW5nczpzLm1hcCgodD0+W1t0LnhtaW4sdC55bWluXSxbdC54bWluLHQueW1heF0sW3QueG1heCx0LnltYXhdLFt0LnhtYXgsdC55bWluXSxbdC54bWluLHQueW1pbl1dKSl9fWZ1bmN0aW9uIGQodCxpLHMpe2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IG49dFswXTtpZihuPmkpe2NvbnN0IHM9eChuLGkpO3RbMF09bitzKigtMippKX1lbHNlIGlmKG48cyl7Y29uc3QgaT14KG4scyk7dFswXT1uK2kqKC0yKnMpfX1lbHNle2NvbnN0IG49dC54O2lmKG4+aSl7Y29uc3Qgcz14KG4saSk7dC54Kz1zKigtMippKX1lbHNlIGlmKG48cyl7Y29uc3QgaT14KG4scyk7dC54Kz1pKigtMipzKX19cmV0dXJuIHR9ZnVuY3Rpb24geSh0LGkpe2NvbnN0IHM9W10se3ltaW46bix5bWF4OmUseG1pbjpoLHhtYXg6b309dCxyPXQueG1heC10LnhtaW4sW3UsbV09aS52YWxpZCx7eCxmcmFtZUlkOl99PUkodC54bWluLGkpLHt4OmwsZnJhbWVJZDpjfT1JKHQueG1heCxpKSxhPXg9PT1sJiZyPjA7aWYocj4yKm0pe2NvbnN0IHQ9e3htaW46aDxvP3g6bCx5bWluOm4seG1heDptLHltYXg6ZX0saT17eG1pbjp1LHltaW46bix4bWF4Omg8bz9sOngseW1heDplfSxyPXt4bWluOjAseW1pbjpuLHhtYXg6bSx5bWF4OmV9LGE9e3htaW46dSx5bWluOm4seG1heDowLHltYXg6ZX0scD1bXSxmPVtdO2codCxyKSYmcC5wdXNoKF8pLGcodCxhKSYmZi5wdXNoKF8pLGcoaSxyKSYmcC5wdXNoKGMpLGcoaSxhKSYmZi5wdXNoKGMpO2ZvcihsZXQgcz1fKzE7czxjO3MrKylwLnB1c2gocyksZi5wdXNoKHMpO3MucHVzaChuZXcgUCh0LFtfXSksbmV3IFAoaSxbY10pLG5ldyBQKHIscCksbmV3IFAoYSxmKSl9ZWxzZSB4Pmx8fGE/cy5wdXNoKG5ldyBQKHt4bWluOngseW1pbjpuLHhtYXg6bSx5bWF4OmV9LFtfXSksbmV3IFAoe3htaW46dSx5bWluOm4seG1heDpsLHltYXg6ZX0sW2NdKSk6cy5wdXNoKG5ldyBQKHt4bWluOngseW1pbjpuLHhtYXg6bCx5bWF4OmV9LFtfXSkpO3JldHVybiBzfWZ1bmN0aW9uIEkodCxpKXtjb25zdFtzLG5dPWkudmFsaWQsZT0yKm47bGV0IGgsbz0wO3JldHVybiB0Pm4/KGg9TWF0aC5jZWlsKE1hdGguYWJzKHQtbikvZSksdC09aCplLG89aCk6dDxzJiYoaD1NYXRoLmNlaWwoTWF0aC5hYnModC1zKS9lKSx0Kz1oKmUsbz0taCkse3g6dCxmcmFtZUlkOm99fWZ1bmN0aW9uIGcodCxpKXtjb25zdHt4bWluOnMseW1pbjpuLHhtYXg6ZSx5bWF4Omh9PWk7cmV0dXJuIHYodCxzLG4pJiZ2KHQscyxoKSYmdih0LGUsaCkmJnYodCxlLG4pfWZ1bmN0aW9uIHYodCxpLHMpe3JldHVybiBpPj10LnhtaW4mJmk8PXQueG1heCYmcz49dC55bWluJiZzPD10LnltYXh9ZnVuY3Rpb24gTyh0LGksbj0hMCl7Y29uc3QgZT0hcih0KTtpZihlJiZzKHQpLG4pe3JldHVybihuZXcgUykuY3V0KHQsaSl9Y29uc3QgaD1lP3QucmluZ3M6dC5wYXRocyxvPWU/NDoyLHU9aC5sZW5ndGgsbT0tMippO2ZvcihsZXQgcz0wO3M8dTtzKyspe2NvbnN0IHQ9aFtzXTtpZih0JiZ0Lmxlbmd0aD49byl7Y29uc3QgaT1bXTtmb3IoY29uc3QgcyBvZiB0KWkucHVzaChbc1swXSttLHNbMV1dKTtoLnB1c2goaSl9fXJldHVybiBlP3QucmluZ3M9aDp0LnBhdGhzPWgsdH1jbGFzcyBQe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5leHRlbnQ9dCx0aGlzLmZyYW1lSWRzPWl9fWNvbnN0IEM9dCgpO2NsYXNzIFN7Y29uc3RydWN0b3IoKXt0aGlzLl9saW5lc0luPVtdLHRoaXMuX2xpbmVzT3V0PVtdfWN1dCh0LGkpe2xldCBzO2lmKHRoaXMuX3hDdXQ9aSx0LnJpbmdzKXRoaXMuX2Nsb3NlZD0hMCxzPXQucmluZ3MsdGhpcy5fbWluUHRzPTQ7ZWxzZXtpZighdC5wYXRocylyZXR1cm4gbnVsbDt0aGlzLl9jbG9zZWQ9ITEscz10LnBhdGhzLHRoaXMuX21pblB0cz0yfWZvcihjb25zdCBlIG9mIHMpe2lmKCFlfHxlLmxlbmd0aDx0aGlzLl9taW5QdHMpY29udGludWU7bGV0IHQ9ITA7Zm9yKGNvbnN0IGkgb2YgZSl0Pyh0aGlzLm1vdmVUbyhpKSx0PSExKTp0aGlzLmxpbmVUbyhpKTt0aGlzLl9jbG9zZWQmJnRoaXMuY2xvc2UoKX10aGlzLl9wdXNoTGluZUluKCksdGhpcy5fcHVzaExpbmVPdXQoKSxzPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX2xpbmVzSW4pZSYmZS5sZW5ndGg+PXRoaXMuX21pblB0cyYmcy5wdXNoKGUpO2NvbnN0IG49LTIqdGhpcy5feEN1dDtmb3IoY29uc3QgZSBvZiB0aGlzLl9saW5lc091dClpZihlJiZlLmxlbmd0aD49dGhpcy5fbWluUHRzKXtmb3IoY29uc3QgdCBvZiBlKXRbMF0rPW47cy5wdXNoKGUpfXJldHVybiB0aGlzLl9jbG9zZWQ/dC5yaW5ncz1zOnQucGF0aHM9cyx0fW1vdmVUbyh0KXt0aGlzLl9wdXNoTGluZUluKCksdGhpcy5fcHVzaExpbmVPdXQoKSx0aGlzLl9wcmV2U2lkZT10aGlzLl9zaWRlKHRbMF0pLHRoaXMuX21vdmVUbyh0WzBdLHRbMV0sdGhpcy5fcHJldlNpZGUpLHRoaXMuX3ByZXZQdD10LHRoaXMuX2ZpcnN0UHQ9dH1saW5lVG8odCl7Y29uc3QgaT10aGlzLl9zaWRlKHRbMF0pO2lmKGkqdGhpcy5fcHJldlNpZGU9PS0xKXtjb25zdCBzPXRoaXMuX2ludGVyc2VjdCh0aGlzLl9wcmV2UHQsdCk7dGhpcy5fbGluZVRvKHRoaXMuX3hDdXQscywwKSx0aGlzLl9wcmV2U2lkZT0wLHRoaXMuX2xpbmVUbyh0WzBdLHRbMV0saSl9ZWxzZSB0aGlzLl9saW5lVG8odFswXSx0WzFdLGkpO3RoaXMuX3ByZXZTaWRlPWksdGhpcy5fcHJldlB0PXR9Y2xvc2UoKXtjb25zdCB0PXRoaXMuX2ZpcnN0UHQsaT10aGlzLl9wcmV2UHQ7dFswXT09PWlbMF0mJnRbMV09PT1pWzFdfHx0aGlzLmxpbmVUbyh0KSx0aGlzLl9jaGVja0Nsb3NpbmdQdCh0aGlzLl9saW5lSW4pLHRoaXMuX2NoZWNrQ2xvc2luZ1B0KHRoaXMuX2xpbmVPdXQpfV9tb3ZlVG8odCxpLHMpe3RoaXMuX2Nsb3NlZD8odGhpcy5fbGluZUluLnB1c2goW3M8PTA/dDp0aGlzLl94Q3V0LGldKSx0aGlzLl9saW5lT3V0LnB1c2goW3M+PTA/dDp0aGlzLl94Q3V0LGldKSk6KHM8PTAmJnRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSxzPj0wJiZ0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pKX1fbGluZVRvKHQsaSxzKXt0aGlzLl9jbG9zZWQ/KHRoaXMuX2FkZFBvbHlWZXJ0ZXgodGhpcy5fbGluZUluLHM8PTA/dDp0aGlzLl94Q3V0LGkpLHRoaXMuX2FkZFBvbHlWZXJ0ZXgodGhpcy5fbGluZU91dCxzPj0wP3Q6dGhpcy5feEN1dCxpKSk6czwwPygwPT09dGhpcy5fcHJldlNpZGUmJnRoaXMuX3B1c2hMaW5lT3V0KCksdGhpcy5fbGluZUluLnB1c2goW3QsaV0pKTpzPjA/KDA9PT10aGlzLl9wcmV2U2lkZSYmdGhpcy5fcHVzaExpbmVJbigpLHRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSkpOnRoaXMuX3ByZXZTaWRlPDA/KHRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSx0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pKTp0aGlzLl9wcmV2U2lkZT4wJiYodGhpcy5fbGluZU91dC5wdXNoKFt0LGldKSx0aGlzLl9saW5lSW4ucHVzaChbdCxpXSkpfV9hZGRQb2x5VmVydGV4KHQsaSxzKXtjb25zdCBuPXQubGVuZ3RoO24+MSYmdFtuLTFdWzBdPT09aSYmdFtuLTJdWzBdPT09aT90W24tMV1bMV09czp0LnB1c2goW2ksc10pfV9jaGVja0Nsb3NpbmdQdCh0KXtjb25zdCBpPXQubGVuZ3RoO2k+MyYmdFswXVswXT09PXRoaXMuX3hDdXQmJnRbaS0yXVswXT09PXRoaXMuX3hDdXQmJnRbMV1bMF09PT10aGlzLl94Q3V0JiYodFswXVsxXT10W2ktMl1bMV0sdC5wb3AoKSl9X3NpZGUodCl7cmV0dXJuIHQ8dGhpcy5feEN1dD8tMTp0PnRoaXMuX3hDdXQ/MTowfV9pbnRlcnNlY3QodCxpKXtjb25zdCBzPSh0aGlzLl94Q3V0LXRbMF0pLyhpWzBdLXRbMF0pO3JldHVybiB0WzFdK3MqKGlbMV0tdFsxXSl9X3B1c2hMaW5lSW4oKXt0aGlzLl9saW5lSW4mJnRoaXMuX2xpbmVJbi5sZW5ndGg+PXRoaXMuX21pblB0cyYmdGhpcy5fbGluZXNJbi5wdXNoKHRoaXMuX2xpbmVJbiksdGhpcy5fbGluZUluPVtdfV9wdXNoTGluZU91dCgpe3RoaXMuX2xpbmVPdXQmJnRoaXMuX2xpbmVPdXQubGVuZ3RoPj10aGlzLl9taW5QdHMmJnRoaXMuX2xpbmVzT3V0LnB1c2godGhpcy5fbGluZU91dCksdGhpcy5fbGluZU91dD1bXX19ZXhwb3J0e1MgYXMgQ3V0VmVydGljYWwsYSBhcyBub3JtYWxpemVDZW50cmFsTWVyaWRpYW5Gb3JEaXNwbGF5LGMgYXMgbm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuU3luY307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdD0tMTtjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5fZGlydGllcz1be3ZlcnRleEZyb206dCx2ZXJ0ZXhDb3VudDp0LGluZGV4RnJvbTp0LGluZGV4Q291bnQ6dCxhbGxEaXJ0eTohMX0se3ZlcnRleEZyb206dCx2ZXJ0ZXhDb3VudDp0LGluZGV4RnJvbTp0LGluZGV4Q291bnQ6dCxhbGxEaXJ0eTohMX0se3ZlcnRleEZyb206dCx2ZXJ0ZXhDb3VudDp0LGluZGV4RnJvbTp0LGluZGV4Q291bnQ6dCxhbGxEaXJ0eTohMX0se3ZlcnRleEZyb206dCx2ZXJ0ZXhDb3VudDp0LGluZGV4RnJvbTp0LGluZGV4Q291bnQ6dCxhbGxEaXJ0eTohMX0se3ZlcnRleEZyb206dCx2ZXJ0ZXhDb3VudDp0LGluZGV4RnJvbTp0LGluZGV4Q291bnQ6dCxhbGxEaXJ0eTohMX1dfWhhc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2RpcnRpZXMuc29tZSgoZT0+ZS5pbmRleENvdW50IT09dHx8ZS5hbGxEaXJ0eSkpfW1hcmtBbGxDbGVhbigpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2RpcnRpZXMpZS5pbmRleEZyb209dCxlLmluZGV4Q291bnQ9dCxlLnZlcnRleEZyb209dCxlLnZlcnRleENvdW50PXQsZS5hbGxEaXJ0eT0hMX1tYXJrQWxsRGlydHkoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9kaXJ0aWVzKXQuYWxsRGlydHk9ITB9Zm9yRWFjaChlKXtmb3IobGV0IHI9MDtyPHRoaXMuX2RpcnRpZXMubGVuZ3RoOysrcil7Y29uc3R7aW5kZXhDb3VudDppLGluZGV4RnJvbTpvLHZlcnRleENvdW50Om4sdmVydGV4RnJvbTp4LGFsbERpcnR5Omx9PXRoaXMuX2RpcnRpZXNbcl0scz17fTtsZXQgZCxtPSExOyhsfHx4IT09dCYmbj4wKSYmKHMuZ2VvbWV0cnk9e2NvdW50Om4sZnJvbTp4LGFsbERpcnR5Omx9LG09ITApLChsfHxvIT09dCYmaT4wKSYmKGQ9e2NvdW50OmksZnJvbTpvLGFsbERpcnR5Omx9LG09ITApLG0mJmUoe2luZGljZXM6ZCx2ZXJ0aWNlczpzfSxyKX19bWFya0RpcnR5SW5kaWNlcyhlLHIsaSl7Y29uc3Qgbz10aGlzLl9kaXJ0aWVzW2VdLG49cix4PWk7aWYoIW8uYWxsRGlydHkpaWYoby5pbmRleENvdW50IT09dCl7Y29uc3QgdD1NYXRoLm1pbihvLmluZGV4RnJvbSxuKSxlPU1hdGgubWF4KG8uaW5kZXhGcm9tK28uaW5kZXhDb3VudCxuK3gpLXQ7by5pbmRleEZyb209dCxvLmluZGV4Q291bnQ9ZX1lbHNlIG8uaW5kZXhGcm9tPW4sby5pbmRleENvdW50PXh9bWFya0RpcnR5VmVydGljZXMoZSxyLGksbyl7Y29uc3Qgbj10aGlzLl9kaXJ0aWVzW2VdLHg9aSxsPW87aWYoIW4uYWxsRGlydHkpaWYobi52ZXJ0ZXhDb3VudCE9PXQpe2NvbnN0IHQ9TWF0aC5taW4obi52ZXJ0ZXhGcm9tLHgpLGU9TWF0aC5tYXgobi52ZXJ0ZXhGcm9tK24udmVydGV4Q291bnQseCtsKS10O24udmVydGV4RnJvbT10LG4udmVydGV4Q291bnQ9ZX1lbHNlIG4udmVydGV4RnJvbT14LG4udmVydGV4Q291bnQ9bH19ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtGcmVlTGlzdCBhcyBlfWZyb21cIi4vRnJlZUxpc3QuanNcIjtpbXBvcnR7YWxsb2NhdGVUeXBlZEFycmF5QnVmZmVyIGFzIHQsc3RyaWRlVG9QYWNraW5nRmFjdG9yIGFzIHIsY29weU1lc2hEYXRhIGFzIGl9ZnJvbVwiLi9VdGlscy5qc1wiO2NvbnN0IHM9W1wiRklMTFwiLFwiTElORVwiLFwiTUFSS0VSXCIsXCJURVhUXCIsXCJMQUJFTFwiXTtmdW5jdGlvbiBvKGUpe2NvbnN0IHQ9ZS5nZXRTdHJpZGVzKCkscj17fTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylyW3NbaV1dPXRbaV07cmV0dXJuIHJ9Y29uc3Qgbj0uNTtjbGFzcyBke2NvbnN0cnVjdG9yKHIsaSxzLG8pe3RoaXMuX3N0cmlkZXM9cix0aGlzLl9kaXNwbGF5TGlzdD1pLHRoaXMuX2ZyZWVMaXN0c0FuZFN0b3JhZ2U9e30sdGhpcy5fZGlydHlNYXA9bnVsbCx0aGlzLl9kaXJ0eU1hcD1zO2Zvcihjb25zdCBuIGluIHIpe3RoaXMuX2ZyZWVMaXN0c0FuZFN0b3JhZ2Vbbl09e3Z0eEZyZWVMaXN0Om8/bmV3IGUobyk6bnVsbCxpZHhGcmVlTGlzdDpvP25ldyBlKG8pOm51bGwsdmVydGV4QnVmZmVyczp7fSxpbmRleEJ1ZmZlcjpvP25ldyBVaW50MzJBcnJheShvKTpudWxsfTtmb3IoY29uc3QgZSBpbiByW25dKXRoaXMuX2ZyZWVMaXN0c0FuZFN0b3JhZ2Vbbl0udmVydGV4QnVmZmVyc1tlXT17ZGF0YTpvP3QobyxyW25dW2VdKTpudWxsLHN0cmlkZTpyW25dW2VdfX19c3RhdGljIGZyb21UaWxlRGF0YSh0LGkpe2NvbnN0IG49byh0KSxhPVswLDAsMCwwLDBdLHg9WzAsMCwwLDAsMF07Zm9yKGNvbnN0IGUgb2YgdC50aWxlRGlzcGxheURhdGEuZGlzcGxheU9iamVjdHMpZm9yKGNvbnN0IHQgb2YgZS5kaXNwbGF5UmVjb3JkcylhW3QuZ2VvbWV0cnlUeXBlXT1NYXRoLm1heChhW3QuZ2VvbWV0cnlUeXBlXSx0LnZlcnRleEZyb20rdC52ZXJ0ZXhDb3VudCkseFt0Lmdlb21ldHJ5VHlwZV09TWF0aC5tYXgoeFt0Lmdlb21ldHJ5VHlwZV0sdC5pbmRleEZyb20rdC5pbmRleENvdW50KTtjb25zdCB1PW5ldyBkKG4sdC50aWxlRGlzcGxheURhdGEuZGlzcGxheUxpc3QsaSx2b2lkIDApLGY9dC50aWxlQnVmZmVyRGF0YT8uZ2VvbWV0cmllcz8/W107Zm9yKGxldCBvPTA7bzxmLmxlbmd0aDsrK28pe2NvbnN0IHQ9YVtvXSxpPXhbb10sbj1mW29dLGQ9c1tvXSxjPXUuX3N0b3JhZ2VGb3IoZCksbD1mW29dLmluZGV4QnVmZmVyO2MuaW5kZXhCdWZmZXI9bCxjLmlkeEZyZWVMaXN0PW5ldyBlKGwubGVuZ3RoKSxjLmlkeEZyZWVMaXN0LmFsbG9jYXRlKGkpO2xldCBtPTA7Zm9yKGNvbnN0IGUgaW4gbi52ZXJ0ZXhCdWZmZXIpe2NvbnN0IHQ9ZltvXS52ZXJ0ZXhCdWZmZXJbZV07Yy52ZXJ0ZXhCdWZmZXJzW2VdLmRhdGE9dC5kYXRhLGMudmVydGV4QnVmZmVyc1tlXS5zdHJpZGU9dC5zdHJpZGU7Y29uc3QgaT1yKHQuc3RyaWRlKSxzPXQuZGF0YS5sZW5ndGgqaS90LnN0cmlkZTttfHwobT1zKX1jLnZ0eEZyZWVMaXN0PW5ldyBlKG0pLGMudnR4RnJlZUxpc3QuYWxsb2NhdGUodCl9cmV0dXJuIHV9ZGVsZXRlKGUpe2NvbnN0IHQ9c1tlLmdlb21ldHJ5VHlwZV07dGhpcy5fZnJlZVZlcnRpY2VzKHQsZS52ZXJ0ZXhGcm9tLGUudmVydGV4Q291bnQpLHRoaXMuX2ZyZWVJbmRpY2VzKHQsZS5pbmRleEZyb20sZS5pbmRleENvdW50KSx0aGlzLl9kaXNwbGF5TGlzdC5yZW1vdmVGcm9tTGlzdChlKSxlLnZlcnRleEZyb209dm9pZCAwLGUuaW5kZXhGcm9tPXZvaWQgMH1zZXRNZXNoRGF0YShlLHQscixvLG4pe2NvbnN0IGQ9c1tlLmdlb21ldHJ5VHlwZV07bGV0IGEseDtlLm1lc2hEYXRhPW51bGwsdm9pZCAwPT09ZS52ZXJ0ZXhGcm9tPyh4PXQudmVydGV4Q291bnQsYT10aGlzLl9hbGxvY2F0ZVZlcnRpY2VzKGQseCkpOnQudmVydGV4Q291bnQ+ZS52ZXJ0ZXhDb3VudD8odGhpcy5fZnJlZVZlcnRpY2VzKGQsZS52ZXJ0ZXhGcm9tLGUudmVydGV4Q291bnQpLHg9dC52ZXJ0ZXhDb3VudCxhPXRoaXMuX2FsbG9jYXRlVmVydGljZXMoZCx4KSk6dC52ZXJ0ZXhDb3VudD09PWUudmVydGV4Q291bnQ/KGE9ZS52ZXJ0ZXhGcm9tLHg9ZS52ZXJ0ZXhDb3VudCk6KHRoaXMuX2ZyZWVWZXJ0aWNlcyhkLGUudmVydGV4RnJvbSt0LnZlcnRleENvdW50LGUudmVydGV4Q291bnQtdC52ZXJ0ZXhDb3VudCksYT1lLnZlcnRleEZyb20seD10LnZlcnRleENvdW50KTtsZXQgdSxmLGMsbD0hMDtpZih2b2lkIDA9PT1lLmluZGV4RnJvbT8odT1uLGM9dC5pbmRleENvdW50LGY9dGhpcy5fYWxsb2NhdGVJbmRpY2VzKGQsYykpOnQuaW5kZXhDb3VudD5lLmluZGV4Q291bnQ/KHU9dGhpcy5fZGlzcGxheUxpc3QucmVtb3ZlRnJvbUxpc3QoZSksdGhpcy5fZnJlZUluZGljZXMoZCxlLmluZGV4RnJvbSxlLmluZGV4Q291bnQpLGM9dC5pbmRleENvdW50LGY9dGhpcy5fYWxsb2NhdGVJbmRpY2VzKGQsYykpOnQuaW5kZXhDb3VudD09PWUuaW5kZXhDb3VudD8obD0hMSxmPWUuaW5kZXhGcm9tLGM9ZS5pbmRleENvdW50KToodT10aGlzLl9kaXNwbGF5TGlzdC5yZW1vdmVGcm9tTGlzdChlKSx0aGlzLl9mcmVlSW5kaWNlcyhkLGUuaW5kZXhGcm9tK3QuaW5kZXhDb3VudCxlLmluZGV4Q291bnQtdC5pbmRleENvdW50KSxmPWUuaW5kZXhGcm9tLGM9dC5pbmRleENvdW50KSwtMSE9PWEmJi0xIT09Zil7Y29uc3Qgcz10aGlzLl9zdG9yYWdlRm9yKGQpO2lmKGkoYSxmLHMudmVydGV4QnVmZmVycyxzLmluZGV4QnVmZmVyLHQscixvKSxlLnZlcnRleEZyb209YSxlLmluZGV4RnJvbT1mLGUudmVydGV4Q291bnQ9dC52ZXJ0ZXhDb3VudCxlLmluZGV4Q291bnQ9dC5pbmRleENvdW50LHRoaXMuX2RpcnR5TWFwKXt0aGlzLl9kaXJ0eU1hcC5tYXJrRGlydHlJbmRpY2VzKGUuZ2VvbWV0cnlUeXBlLGUuaW5kZXhGcm9tLGUuaW5kZXhDb3VudCk7Zm9yKGNvbnN0IHQgaW4gcil0aGlzLl9kaXJ0eU1hcC5tYXJrRGlydHlWZXJ0aWNlcyhlLmdlb21ldHJ5VHlwZSx0LGUudmVydGV4RnJvbSxlLnZlcnRleENvdW50KX1yZXR1cm4gbCYmdGhpcy5fZGlzcGxheUxpc3QuYWRkVG9MaXN0KGUsdSksITB9cmV0dXJuLTEhPT1hJiZ0aGlzLl9mcmVlVmVydGljZXMoZCxhLHgpLC0xIT09ZiYmdGhpcy5fZnJlZUluZGljZXMoZCxmLGMpLGUuc2V0TWVzaERhdGFGcm9tQnVmZmVycyh0LHIsbyksZS52ZXJ0ZXhGcm9tPXZvaWQgMCxlLnZlcnRleENvdW50PTAsZS5pbmRleEZyb209dm9pZCAwLGUuaW5kZXhDb3VudD0wLCExfXRyeUFkZE1lc2hEYXRhKGUsdCl7Y29uc3Qgcj10LnZlcnRleEJ1ZmZlcixvPXQuaW5kZXhCdWZmZXIsbj1zW2UuZ2VvbWV0cnlUeXBlXSxkPXRoaXMuX2FsbG9jYXRlVmVydGljZXMobixlLnZlcnRleENvdW50KTtpZigtMT09PWQpcmV0dXJuIHRoaXMuX2ZyZWVWZXJ0aWNlcyhuLGQsZS52ZXJ0ZXhDb3VudCksITE7Y29uc3QgYT10aGlzLl9hbGxvY2F0ZUluZGljZXMobixlLmluZGV4Q291bnQpO2lmKC0xPT09YSlyZXR1cm4gdGhpcy5fZnJlZVZlcnRpY2VzKG4sZCxlLnZlcnRleENvdW50KSx0aGlzLl9mcmVlSW5kaWNlcyhuLGEsZS5pbmRleENvdW50KSwhMTtjb25zdCB4PXRoaXMuX3N0b3JhZ2VGb3Iobik7aWYoaShkLGEseC52ZXJ0ZXhCdWZmZXJzLHguaW5kZXhCdWZmZXIsZSxyLG8pLGUudmVydGV4RnJvbT1kLGUuaW5kZXhGcm9tPWEsdGhpcy5fZGlydHlNYXApe3RoaXMuX2RpcnR5TWFwLm1hcmtEaXJ0eUluZGljZXMoZS5nZW9tZXRyeVR5cGUsZS5pbmRleEZyb20sZS5pbmRleENvdW50KTtmb3IoY29uc3QgdCBpbiByKXRoaXMuX2RpcnR5TWFwLm1hcmtEaXJ0eVZlcnRpY2VzKGUuZ2VvbWV0cnlUeXBlLHQsZCxlLnZlcnRleENvdW50KX1yZXR1cm4gdGhpcy5fZGlzcGxheUxpc3QuYWRkVG9MaXN0KGUpLCEwfV9hbGxvY2F0ZVZlcnRpY2VzKGUsdCl7Y29uc3Qgcj10aGlzLl9zdG9yYWdlRm9yKGUpLGk9ci52dHhGcmVlTGlzdD8uYWxsb2NhdGUodCk7aWYobnVsbD09aXx8LTE9PT1pKXJldHVybi0xO2NvbnN0IHM9ci52dHhGcmVlTGlzdD8uZnJhZ21lbnRhdGlvbjtyZXR1cm4gbnVsbD09c3x8cz5uPy0xOml9X2ZyZWVWZXJ0aWNlcyhlLHQscil7Y29uc3QgaT10aGlzLl9zdG9yYWdlRm9yKGUpO2kudnR4RnJlZUxpc3Q/LmZyZWUodCxyKX1fZnJlZUluZGljZXMoZSx0LHIpe2NvbnN0IGk9dGhpcy5fc3RvcmFnZUZvcihlKTtpLmlkeEZyZWVMaXN0Py5mcmVlKHQscil9X2FsbG9jYXRlSW5kaWNlcyhlLHQpe2NvbnN0IHI9dGhpcy5fc3RvcmFnZUZvcihlKSxpPXIuaWR4RnJlZUxpc3Q/LmFsbG9jYXRlKHQpO2lmKG51bGw9PWl8fC0xPT09aSlyZXR1cm4tMTtjb25zdCBzPXIuaWR4RnJlZUxpc3Q/LmZyYWdtZW50YXRpb247cmV0dXJuIG51bGw9PXN8fHM+bj8tMTppfV9zdG9yYWdlRm9yKGUpe3JldHVybiB0aGlzLl9mcmVlTGlzdHNBbmRTdG9yYWdlW2VdfV9zdHJpZGVzRm9yKGUsdCl7cmV0dXJuIHRoaXMuX3N0cmlkZXNbZV1bdF19fWV4cG9ydHtkIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGV7Z2V0IGxhcmdlc3RSYW5nZSgpe3JldHVybiB0aGlzLl9sYXJnZXN0UmFuZ2V9Y29uc3RydWN0b3IoZSl7dGhpcy5fbGFyZ2VzdFJhbmdlPW51bGwsdGhpcy5fcGFyZW50PWUsdGhpcy5fdXBkYXRlTGFyZ2VzdFJhbmdlKCl9cmFuZ2VDcmVhdGVkKGUpeyghdGhpcy5fbGFyZ2VzdFJhbmdlfHxlLmNvdW50PnRoaXMuX2xhcmdlc3RSYW5nZS5jb3VudCkmJih0aGlzLl9sYXJnZXN0UmFuZ2U9ZSl9cmFuZ2VSZXNpemVkKGUsdCl7ZT09PXRoaXMuX2xhcmdlc3RSYW5nZT9lLmNvdW50PHQmJnRoaXMuX3VwZGF0ZUxhcmdlc3RSYW5nZSgpOighdGhpcy5fbGFyZ2VzdFJhbmdlfHxlLmNvdW50PnRoaXMuX2xhcmdlc3RSYW5nZS5jb3VudCkmJih0aGlzLl9sYXJnZXN0UmFuZ2U9ZSl9ZmluZEJlc3RSYW5nZShlKXtsZXQgdD10aGlzLl9wYXJlbnQuX2ZyZWVIZWFkLG49bnVsbDtmb3IoO251bGwhPT10Oyl0LmNvdW50Pj1lJiYoIW58fHQuY291bnQtZTxuLmNvdW50LWUpJiYobj10KSx0PXQubmV4dDtyZXR1cm4gbn1maW5kQWRqYWNlbnRSYW5nZXMoZSx0KXtsZXQgbj0hMCxyPSExLHM9bnVsbCxvPXRoaXMuX3BhcmVudC5fZnJlZUhlYWQ7Zm9yKDtuJiYhcjspe2NvbnN0IGE9bnVsbCE9PXM/cy5mcm9tK3MuY291bnQ6MCxsPW51bGwhPT1vP28uZnJvbTp0aGlzLl9wYXJlbnQuX3NpemU7ZT49YSYmZSt0PD1sPyhuPSExLHI9ITApOm51bGwhPT1vPyhzPW8sbz1vLm5leHQpOm49ITF9cmV0dXJuW3Msb119X3VwZGF0ZUxhcmdlc3RSYW5nZSgpe2xldCBlPW51bGwsdD10aGlzLl9wYXJlbnQuX2ZyZWVIZWFkO2Zvcig7bnVsbCE9PXQ7KSghZXx8dC5jb3VudD5lLmNvdW50KSYmKGU9dCksdD10Lm5leHQ7dGhpcy5fbGFyZ2VzdFJhbmdlPWV9fWNsYXNzIHR7Y29uc3RydWN0b3IodCxuKXt0aGlzLl9hbGxvY2F0ZWQ9MCx0aGlzLl9zaXplPXQsdGhpcy5fZnJlZUhlYWQ9dD4wP3tmcm9tOjAsY291bnQ6dCxwcmV2Om51bGwsbmV4dDpudWxsfTpudWxsLHRoaXMuX2Jvb2tLZWVwZXI9bnx8bmV3IGUodGhpcyksdGhpcy5fZnJlZUhlYWQmJnRoaXMuX2Jvb2tLZWVwZXIucmFuZ2VDcmVhdGVkKHRoaXMuX2ZyZWVIZWFkKX1hbGxvY2F0ZShlKXtjb25zdCBuPXRoaXMuX2Jvb2tLZWVwZXIuZmluZEJlc3RSYW5nZShlKTtpZihudWxsPT1uKXJldHVybi0xO2NvbnN0IHI9bi5mcm9tLHM9bi5jb3VudDtpZihuLmZyb20rPWUsbi5jb3VudC09ZSx0aGlzLl9ib29rS2VlcGVyLnJhbmdlUmVzaXplZChuLHIscyksdGhpcy5fYWxsb2NhdGVkKz1lLDA9PT1uLmNvdW50KXtjb25zdCBlPW51bGwhPT1uLnByZXY/dGhpcy5fZnJlZUhlYWQ6bi5uZXh0O3QuX3JlbW92ZVJhbmdlKG4pLHRoaXMuX2ZyZWVIZWFkPWV9cmV0dXJuIHJ9ZnJlZShlLG4pe2NvbnN0W3Isc109dGhpcy5fYm9va0tlZXBlci5maW5kQWRqYWNlbnRSYW5nZXMoZSxuKSxvPXtmcm9tOmUsY291bnQ6bixwcmV2OnI/P251bGwsbmV4dDpzPz9udWxsfTtpZihudWxsIT1yJiYoci5uZXh0PW8pLG51bGwhPXMmJihzLnByZXY9byksdGhpcy5fYm9va0tlZXBlci5yYW5nZUNyZWF0ZWQobyksdGhpcy5fYWxsb2NhdGVkLT1uLG51bGwhPXMmJm8uZnJvbStvLmNvdW50PT09cy5mcm9tKXtjb25zdCBlPW8uZnJvbSxuPW8uY291bnQ7dC5fZnVzZShvLHMpLHQuX3JlbW92ZVJhbmdlKHMpLHRoaXMuX2Jvb2tLZWVwZXIucmFuZ2VSZXNpemVkKG8sZSxuKSx0aGlzLl9ib29rS2VlcGVyLnJhbmdlUmVzaXplZChzLHZvaWQgMCwwKX1pZihudWxsIT1yJiZyLmZyb20rci5jb3VudD09PW8uZnJvbSl7Y29uc3QgZT1yLmZyb20sbj1yLmNvdW50O3QuX2Z1c2UocixvKSx0Ll9yZW1vdmVSYW5nZShvKSx0aGlzLl9ib29rS2VlcGVyLnJhbmdlUmVzaXplZChyLGUsbiksdGhpcy5fYm9va0tlZXBlci5yYW5nZVJlc2l6ZWQobyx2b2lkIDAsMCl9dGhpcy5fZnJlZUhlYWQ9bnVsbCE9PW8ucHJldj90aGlzLl9mcmVlSGVhZDpvfWdldCBmcmFnbWVudGF0aW9uKCl7Y29uc3QgZT10aGlzLl9zaXplLXRoaXMuX2FsbG9jYXRlZDtpZigwPT09ZSlyZXR1cm4gMDtyZXR1cm4gMS10aGlzLl9ib29rS2VlcGVyLmxhcmdlc3RSYW5nZS5jb3VudC9lfXN0YXRpYyBfcmVtb3ZlUmFuZ2UoZSl7bnVsbCE9PWUucHJldj9udWxsIT09ZS5uZXh0PyhlLnByZXYubmV4dD1lLm5leHQsZS5uZXh0LnByZXY9ZS5wcmV2KTplLnByZXYubmV4dD1udWxsOm51bGwhPT1lLm5leHQmJihlLm5leHQucHJldj1udWxsKX1zdGF0aWMgX2Z1c2UoZSx0KXtlLmNvdW50Kz10LmNvdW50LGUubmV4dD10Lm5leHQsdC5mcm9tKz10LmNvdW50LHQuY291bnQ9MCxudWxsIT09dC5uZXh0JiYodC5uZXh0LnByZXY9ZSl9fWV4cG9ydHt0IGFzIEZyZWVMaXN0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7TWF0ZXJpYWxLZXlCYXNlIGFzIGV9ZnJvbVwiLi9tYXRlcmlhbEtleS9NYXRlcmlhbEtleS5qc1wiO2Z1bmN0aW9uIHQoZSx0LG4sLi4ubyl7dDxlLmxlbmd0aD9lLnNwbGljZSh0LG4sLi4ubyk6ZS5wdXNoKC4uLm8pfWNsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLnN5bWJvbExldmVscz1bXX1yZXBsYXkodCxuLG8pe2Zvcihjb25zdCBpIG9mIHRoaXMuc3ltYm9sTGV2ZWxzKWZvcihjb25zdCByIG9mIGkuekxldmVscyl7Y29uc3QgaT1yLmdlb21ldHJ5RFBJbmZvLnVuaWZpZWQ7aWYoaSlmb3IoY29uc3QgciBvZiBpKXtjb25zdHtnZW9tZXRyeVR5cGU6aSxtYXRlcmlhbEtleTpsLGluZGV4RnJvbTpzLGluZGV4Q291bnQ6bX09cix5PWUubG9hZChsKS5zeW1ib2xvZ3lUeXBlLGQ9dC5wYWludGVyLmdldEJydXNoKGkseSksdT17Z2VvbWV0cnlUeXBlOmksbWF0ZXJpYWxLZXk6bCxpbmRleEZyb206cyxpbmRleENvdW50Om0sdGFyZ2V0Om4uZ2V0R2VvbWV0cnkoaSl9O2QucHJlcGFyZVN0YXRlKHQpLGQuZHJhd0dlb21ldHJ5KHQsbix1LG8pfX19Z2V0IGVtcHR5KCl7cmV0dXJuIXRoaXMuc3ltYm9sTGV2ZWxzfHwwPT09dGhpcy5zeW1ib2xMZXZlbHMubGVuZ3RofWNsZWFyKCl7dGhpcy5zeW1ib2xMZXZlbHMubGVuZ3RoPTB9YWRkVG9MaXN0KGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IoY29uc3QgbiBvZiBlKXRoaXMuX2FkZFRvTGlzdChuLHQpO2Vsc2UgdGhpcy5fYWRkVG9MaXN0KGUsdCl9cmVtb3ZlRnJvbUxpc3QoZSl7QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtsZXQgdD1udWxsO2Zvcihjb25zdCBuIG9mIGUpdD10aGlzLl9yZW1vdmVGcm9tTGlzdChuKTtyZXR1cm4gdH1jbG9uZSgpe2NvbnN0IGU9bmV3IG47Zm9yKGNvbnN0IHQgb2YgdGhpcy5zeW1ib2xMZXZlbHMpZS5zeW1ib2xMZXZlbHMucHVzaCh0LmNsb25lKCkpO3JldHVybiBlfXNwbGl0QWZ0ZXIoZSl7Y29uc3QgdD10aGlzLl9nZXREaXNwbGF5TGlzdChlLnN5bWJvbExldmVsLGUuek9yZGVyKSxuPXQubGVuZ3RoLGk9ZS5pbmRleEZyb20rZS5pbmRleENvdW50O2ZvcihsZXQgcj0wO3I8bjsrK3Ipe2NvbnN0IG49dFtyXTtpZihuLmdlb21ldHJ5VHlwZT09PWUuZ2VvbWV0cnlUeXBlJiZpPm4uaW5kZXhGcm9tJiZpPD1uLmluZGV4RnJvbStuLmluZGV4Q291bnQpe2lmKGk8bi5pbmRleEZyb20rbi5pbmRleENvdW50KXtjb25zdCBlPW5ldyBvO2UuZ2VvbWV0cnlUeXBlPW4uZ2VvbWV0cnlUeXBlLGUubWF0ZXJpYWxLZXk9bi5tYXRlcmlhbEtleSxlLmluZGV4RnJvbT1pLGUuaW5kZXhDb3VudD1uLmluZGV4RnJvbStuLmluZGV4Q291bnQtaSx0LnNwbGljZShyKzEsMCxlKSxuLmluZGV4Q291bnQ9aS1uLmluZGV4RnJvbX1yZXR1cm4gcn19fV9hZGRUb0xpc3QoZSxuKXtjb25zdCBpPWUuc3ltYm9sTGV2ZWwscj1lLnpPcmRlcixsPXRoaXMuX2dldERpc3BsYXlMaXN0KGkscikscz1udWxsIT1uP246bC5sZW5ndGgtMSxtPXM+PTAmJnM8bC5sZW5ndGg/bFtzXTpudWxsO2lmKG51bGwhPT1tJiZtLm1hdGVyaWFsS2V5PT09ZS5tYXRlcmlhbEtleSYmbS5pbmRleEZyb20rbS5pbmRleENvdW50PT09ZS5pbmRleEZyb20mJm0uZ2VvbWV0cnlUeXBlPT09ZS5nZW9tZXRyeVR5cGUpbS5pbmRleENvdW50Kz1lLmluZGV4Q291bnQ7ZWxzZXtjb25zdCBuPW5ldyBvO24uaW5kZXhGcm9tPWUuaW5kZXhGcm9tLG4uaW5kZXhDb3VudD1lLmluZGV4Q291bnQsbi5tYXRlcmlhbEtleT1lLm1hdGVyaWFsS2V5LG4uZ2VvbWV0cnlUeXBlPWUuZ2VvbWV0cnlUeXBlLHQobCxzKzEsMCxuKX19X3JlbW92ZUZyb21MaXN0KGUpe2NvbnN0IG49ZS5zeW1ib2xMZXZlbCxpPWUuek9yZGVyLHI9dGhpcy5fZ2V0RGlzcGxheUxpc3QobixpKSxsPXIubGVuZ3RoO2xldCBzO2ZvcihsZXQgdD0wO3Q8bDsrK3Qpe2NvbnN0IG49clt0XTtpZihlLmluZGV4RnJvbStlLmluZGV4Q291bnQ+bi5pbmRleEZyb20mJmUuaW5kZXhGcm9tPG4uaW5kZXhGcm9tK24uaW5kZXhDb3VudCYmbi5nZW9tZXRyeVR5cGU9PT1lLmdlb21ldHJ5VHlwZSl7cz10O2JyZWFrfX1pZih2b2lkIDAhPT1zKXtjb25zdCBuPXJbc107aWYoZS5pbmRleEZyb209PT1uLmluZGV4RnJvbSlyZXR1cm4gbi5pbmRleENvdW50LT1lLmluZGV4Q291bnQsbi5pbmRleEZyb20rPWUuaW5kZXhDb3VudCwwPT09bi5pbmRleENvdW50JiZ0KHIscywxKSxzLTE7aWYoZS5pbmRleEZyb20rZS5pbmRleENvdW50PT09bi5pbmRleEZyb20rbi5pbmRleENvdW50KXJldHVybiBuLmluZGV4Q291bnQtPWUuaW5kZXhDb3VudCwwPT09bi5pbmRleENvdW50Pyh0KHIscywxKSxzLTEpOnM7e2NvbnN0IGk9bi5pbmRleEZyb20sbD1lLmluZGV4RnJvbS1uLmluZGV4RnJvbSxtPWUuaW5kZXhDb3VudCx5PW4uaW5kZXhGcm9tK24uaW5kZXhDb3VudC0oZS5pbmRleEZyb20rZS5pbmRleENvdW50KTtuLmluZGV4Q291bnQ9bDtjb25zdCBkPW5ldyBvO3JldHVybiBkLmdlb21ldHJ5VHlwZT1uLmdlb21ldHJ5VHlwZSxkLm1hdGVyaWFsS2V5PW4ubWF0ZXJpYWxLZXksZC5pbmRleEZyb209aStsK20sZC5pbmRleENvdW50PXksdChyLHMrMSwwLGQpLHN9fXJldHVybiBudWxsfV9nZXREaXNwbGF5TGlzdChlLHQpe2xldCBuO2NvbnN0IG89dGhpcy5zeW1ib2xMZXZlbHMubGVuZ3RoO2ZvcihsZXQgaT0wO2k8bztpKyspaWYodGhpcy5zeW1ib2xMZXZlbHNbaV0uc3ltYm9sTGV2ZWw9PT1lKXtuPXRoaXMuc3ltYm9sTGV2ZWxzW2ldO2JyZWFrfWxldCBzO258fChuPW5ldyBsLG4uc3ltYm9sTGV2ZWw9ZSx0aGlzLnN5bWJvbExldmVscy5wdXNoKG4pKTtjb25zdCBtPW4uekxldmVscy5sZW5ndGg7Zm9yKGxldCBpPTA7aTxtO2krKylpZihuLnpMZXZlbHNbaV0uekxldmVsPT09dCl7cz1uLnpMZXZlbHNbaV07YnJlYWt9cmV0dXJuIHN8fChzPW5ldyByLHMuZ2VvbWV0cnlEUEluZm89bmV3IGkscy56TGV2ZWw9dCxuLnpMZXZlbHMucHVzaChzKSkscy5nZW9tZXRyeURQSW5mby51bmlmaWVkfHwocy5nZW9tZXRyeURQSW5mby51bmlmaWVkPVtdKSxzLmdlb21ldHJ5RFBJbmZvLnVuaWZpZWR9Z2V0RFBJbmZvVHlwZSgpe3JldHVyblwidW5pZmllZFwifX1jbGFzcyBve2NvbnN0cnVjdG9yKCl7dGhpcy5tYXRlcmlhbEtleT1udWxsLHRoaXMuaW5kZXhGcm9tPTAsdGhpcy5pbmRleENvdW50PTB9Y2xvbmUoKXtjb25zdCBlPW5ldyBvO3JldHVybiBlLmdlb21ldHJ5VHlwZT10aGlzLmdlb21ldHJ5VHlwZSxlLm1hdGVyaWFsS2V5PXRoaXMubWF0ZXJpYWxLZXksZS5pbmRleEZyb209dGhpcy5pbmRleEZyb20sZS5pbmRleENvdW50PXRoaXMuaW5kZXhDb3VudCxlfX1jbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5maWxsPW51bGwsdGhpcy5saW5lPW51bGwsdGhpcy5tYXJrZXI9bnVsbCx0aGlzLnRleHQ9bnVsbCx0aGlzLmxhYmVsPW51bGwsdGhpcy51bmlmaWVkPW51bGx9Y2xvbmUoKXtjb25zdCBlPW5ldyBpO3JldHVybiBlLmZpbGw9dGhpcy5maWxsJiZ0aGlzLmZpbGwubWFwKChlPT5lLmNsb25lKCkpKSxlLmxpbmU9dGhpcy5saW5lJiZ0aGlzLmxpbmUubWFwKChlPT5lLmNsb25lKCkpKSxlLm1hcmtlcj10aGlzLm1hcmtlciYmdGhpcy5tYXJrZXIubWFwKChlPT5lLmNsb25lKCkpKSxlLnRleHQ9dGhpcy50ZXh0JiZ0aGlzLnRleHQubWFwKChlPT5lLmNsb25lKCkpKSxlLmxhYmVsPXRoaXMubGFiZWwmJnRoaXMubGFiZWwubWFwKChlPT5lLmNsb25lKCkpKSxlLnVuaWZpZWQ9dGhpcy51bmlmaWVkJiZ0aGlzLnVuaWZpZWQubWFwKChlPT5lLmNsb25lKCkpKSxlfX1jbGFzcyBye2NvbnN0cnVjdG9yKCl7dGhpcy5nZW9tZXRyeURQSW5mbz1uZXcgaX1jbG9uZSgpe2NvbnN0IGU9bmV3IHI7cmV0dXJuIGUuekxldmVsPXRoaXMuekxldmVsLGUuZ2VvbWV0cnlEUEluZm89dGhpcy5nZW9tZXRyeURQSW5mby5jbG9uZSgpLGV9fWNsYXNzIGx7Y29uc3RydWN0b3IoKXt0aGlzLnpMZXZlbHM9W119Y2xvbmUoKXtjb25zdCBlPW5ldyBsO2Uuc3ltYm9sTGV2ZWw9dGhpcy5zeW1ib2xMZXZlbDtmb3IoY29uc3QgdCBvZiB0aGlzLnpMZXZlbHMpZS56TGV2ZWxzLnB1c2godC5jbG9uZSgpKTtyZXR1cm4gZX19ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi9EaXJ0eU1hcC5qc1wiO2ltcG9ydCBlIGZyb21cIi4vRGlzcGxheVJlY29yZFN0b3JlLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9XR0xCdWZmZXJzLmpzXCI7aW1wb3J0e1dHTFRpbGUgYXMgaX1mcm9tXCIuL1dHTFRpbGUuanNcIjtjbGFzcyBhIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZGF0YT1udWxsLHRoaXMuX2Rpc3BsYXlMaXN0PW51bGwsdGhpcy5fbGFzdENvbW1pdFRpbWU9MCx0aGlzLl9oYXNEYXRhPSExLHRoaXMuX2ludmFsaWRhdGVkPSExLHRoaXMuX3dnbEJ1ZmZlcnM9bnVsbCx0aGlzLl9kaXJ0eU1hcD1uZXcgdH1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuY2xlYXIoKX1nZXQgaGFzRGF0YSgpe3JldHVybiEhdGhpcy5faGFzRGF0YX1nZXQgZGlzcGxheU9iamVjdHMoKXtyZXR1cm4gdGhpcy5fZGlzcGxheU9iamVjdHM/P1tdfWdldEdlb21ldHJ5KHQpe3JldHVybiB0aGlzLl93Z2xCdWZmZXJzJiZ0aGlzLl93Z2xCdWZmZXJzLmhhcyh0KT90aGlzLl93Z2xCdWZmZXJzLmdldCh0KTpudWxsfWdldERpc3BsYXlMaXN0KCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXlMaXN0fXBhdGNoKHMpe2lmKCEwPT09cy5jbGVhcilyZXR1cm4gdGhpcy5jbGVhcigpLHZvaWQodGhpcy5faGFzRGF0YT0hMSk7Y29uc3QgaT1zLmFkZE9yVXBkYXRlLGE9cy5yZW1vdmU7IXRoaXMuX2RhdGEmJmkmJmkudGlsZURpc3BsYXlEYXRhPy5kaXNwbGF5T2JqZWN0cy5sZW5ndGg/KGkudGlsZURpc3BsYXlEYXRhLmNvbXB1dGVEaXNwbGF5TGlzdCgpLHRoaXMuX2RpcnR5TWFwPW5ldyB0LHRoaXMuX2Rpc3BSZWNTdG9yZT1lLmZyb21UaWxlRGF0YShpLHRoaXMuX2RpcnR5TWFwKSx0aGlzLl9kYXRhPWksdGhpcy5fZGlydHlNYXAubWFya0FsbERpcnR5KCksdGhpcy5faGFzRGF0YT0hMCxzLmVuZCYmdGhpcy5yZWFkeSgpKTp0aGlzLl9kYXRhJiYoaSYmaS50aWxlRGlzcGxheURhdGE/LmRpc3BsYXlPYmplY3RzLmxlbmd0aHx8YS5sZW5ndGgpP3RoaXMuX2RvUGF0Y2hEYXRhKHMpOnMuZW5kJiZ0aGlzLnJlYWR5KCkscy5lbmQmJiF0aGlzLl9kYXRhJiZ0aGlzLmNsZWFyKCksdGhpcy5yZXF1ZXN0UmVuZGVyKCksdGhpcy5lbWl0KFwiY2hhbmdlXCIpfWNvbW1pdCh0KXt0LnRpbWUmJnQudGltZT09PXRoaXMuX2xhc3RDb21taXRUaW1lfHwodGhpcy5fbGFzdENvbW1pdFRpbWU9dC50aW1lLHRoaXMudmlzaWJsZSYmdGhpcy5fZGF0YSYmKHRoaXMuX3dnbEJ1ZmZlcnN8fCh0aGlzLl93Z2xCdWZmZXJzPW5ldyBzKHQuY29udGV4dCkpLCh0aGlzLl9kaXJ0eU1hcC5oYXNEaXJ0eSgpfHx0aGlzLl9pbnZhbGlkYXRlZCkmJih0aGlzLl9pbnZhbGlkYXRlZD0hMSx0aGlzLl93Z2xCdWZmZXJzLnVwbG9hZCh0aGlzLl9kYXRhLnRpbGVCdWZmZXJEYXRhLHRoaXMuX2RpcnR5TWFwKSx0aGlzLl9kaXNwbGF5TGlzdD10aGlzLl9kYXRhLnRpbGVEaXNwbGF5RGF0YS5kaXNwbGF5TGlzdC5jbG9uZSgpLHRoaXMuX2Rpc3BsYXlPYmplY3RzPXRoaXMuX2RhdGEudGlsZURpc3BsYXlEYXRhLmRpc3BsYXlPYmplY3RzLnNsaWNlKCksdGhpcy5fZGlydHlNYXAubWFya0FsbENsZWFuKCkpKSl9Y2xlYXIoKXt0aGlzLl9kYXRhPW51bGwsdGhpcy5fZGlzcGxheUxpc3Q9bnVsbCx0aGlzLl9kaXNwUmVjU3RvcmU9bnVsbCx0aGlzLl93Z2xCdWZmZXJzJiYodGhpcy5fd2dsQnVmZmVycy5kaXNwb3NlKCksdGhpcy5fd2dsQnVmZmVycz1udWxsKX1fZG9QYXRjaERhdGEodCl7dGhpcy5faW52YWxpZGF0ZWQ9ITAsdGhpcy5fcGF0Y2hEYXRhKHQpfHwodGhpcy5fZGlydHlNYXAubWFya0FsbERpcnR5KCksdGhpcy5fZGF0YS5yZXNodWZmbGUoKSx0aGlzLl9kaXNwUmVjU3RvcmU9ZS5mcm9tVGlsZURhdGEodGhpcy5fZGF0YSx0aGlzLl9kaXJ0eU1hcCkpLHRoaXMucmVxdWVzdFJlbmRlcigpfV9wYXRjaERhdGEodCl7bGV0IGU9ITA7Y29uc3Qgcz10LmFkZE9yVXBkYXRlJiZ0LmFkZE9yVXBkYXRlLnRpbGVEaXNwbGF5RGF0YSYmdC5hZGRPclVwZGF0ZS50aWxlRGlzcGxheURhdGEuZGlzcGxheU9iamVjdHN8fFtdLGk9KHQucmVtb3ZlfHxbXSkuc2xpY2UoKTtmb3IoY29uc3QgciBvZiBzKW51bGwhPXIuaW5zZXJ0QWZ0ZXImJmkucHVzaChyLmlkKTtsZXQgYTtpLmxlbmd0aD4wJiYoYT1uZXcgU2V0KGkpKTtjb25zdCBsPXRoaXMuX2RhdGEudGlsZURpc3BsYXlEYXRhO2Zvcihjb25zdCByIG9mIGkpe2NvbnN0IHQ9bC5kaXNwbGF5T2JqZWN0UmVnaXN0cnkuZ2V0KHIpO2lmKHQpe2wuZGlzcGxheUxpc3QucmVtb3ZlRnJvbUxpc3QodC5kaXNwbGF5UmVjb3Jkcyk7Zm9yKGNvbnN0IGUgb2YgdC5kaXNwbGF5UmVjb3Jkcyl0aGlzLl9kaXNwUmVjU3RvcmUuZGVsZXRlKGUpO2wuZGlzcGxheU9iamVjdFJlZ2lzdHJ5LmRlbGV0ZShyKX19YT8uc2l6ZSYmKGwuZGlzcGxheU9iamVjdHM9bC5kaXNwbGF5T2JqZWN0cy5maWx0ZXIoKHQ9PiFhLmhhcyh0LmlkKSkpKTtmb3IoY29uc3QgciBvZiBzKXtsZXQgcyxpPWwuZGlzcGxheU9iamVjdFJlZ2lzdHJ5LmdldChyLmlkKTtpZihpKXtjb25zdCB0PWkuZGlzcGxheVJlY29yZHM7aS5zZXQociksaS5kaXNwbGF5UmVjb3Jkcz10O2NvbnN0IGU9aS5kaXNwbGF5UmVjb3Jkcy5sZW5ndGg7Zm9yKGxldCBzPTA7czxlOysrcyl7Y29uc3QgdD1pLmRpc3BsYXlSZWNvcmRzW3NdLGU9ci5kaXNwbGF5UmVjb3Jkc1tzXTsocz49ci5kaXNwbGF5UmVjb3Jkcy5sZW5ndGh8fHQuZ2VvbWV0cnlUeXBlIT09ZS5nZW9tZXRyeVR5cGV8fHQuc3ltYm9sTGV2ZWwhPT1lLnN5bWJvbExldmVsfHx0LnpPcmRlciE9PWUuek9yZGVyfHx0Lm1hdGVyaWFsS2V5IT09ZS5tYXRlcmlhbEtleSkmJih0aGlzLl9kaXNwUmVjU3RvcmUuZGVsZXRlKGkuZGlzcGxheVJlY29yZHNbc10pLHM8ci5kaXNwbGF5UmVjb3Jkcy5sZW5ndGgmJihpLmRpc3BsYXlSZWNvcmRzW3NdPXZvaWQgMCkpfWkuZGlzcGxheVJlY29yZHMubGVuZ3RoPXIuZGlzcGxheVJlY29yZHMubGVuZ3RofWVsc2V7bGV0IHQ7aT1yLmNvcHkoKSxpLmRpc3BsYXlSZWNvcmRzPVtdLGwuZGlzcGxheU9iamVjdFJlZ2lzdHJ5LnNldChyLmlkLGkpO2NvbnN0IGU9bC5kaXNwbGF5T2JqZWN0cztpZihudWxsIT1pLmluc2VydEFmdGVyKWlmKHM9e30saS5pbnNlcnRBZnRlcj49MCl7Y29uc3Qgcz1sLmRpc3BsYXlPYmplY3RSZWdpc3RyeS5nZXQoaS5pbnNlcnRBZnRlcik7cz8odD1lLmluZGV4T2YocykrMSx0PGUubGVuZ3RoP2Uuc3BsaWNlKHQsMCxpKTooZS5wdXNoKGkpLHQ9ZS5sZW5ndGgpKTooZS5wdXNoKGkpLHQ9ZS5sZW5ndGgpfWVsc2UgZS51bnNoaWZ0KGkpLHQ9MDtlbHNlIGUucHVzaChpKSx0PWUubGVuZ3RoO2lmKHMpe2NvbnN0IGk9ci5kaXNwbGF5UmVjb3Jkcy5sZW5ndGg+MD8xOjA7bGV0IGE9MDtmb3IobGV0IHI9dC0xO3I+PTAmJmE8aTstLXIpZm9yKGxldCB0PWVbcl0uZGlzcGxheVJlY29yZHMubGVuZ3RoLTE7dD49MCYmYTxpOy0tdCl7Y29uc3QgaT1lW3JdLmRpc3BsYXlSZWNvcmRzW3RdLGQ9bC5kaXNwbGF5TGlzdC5nZXREUEluZm9UeXBlKCk7c1tkXXx8KHNbZF09aSwrK2EpfX19Y29uc3QgYT1yLmRpc3BsYXlSZWNvcmRzLmxlbmd0aDtmb3IobGV0IGQ9MDtkPGE7KytkKXtjb25zdCBhPXIuZGlzcGxheVJlY29yZHNbZF07bGV0IG89aS5kaXNwbGF5UmVjb3Jkc1tkXTtvPyhvLm1lc2hEYXRhPWEubWVzaERhdGEsby5tYXRlcmlhbEtleT1hLm1hdGVyaWFsS2V5KToobz1hLmNvcHkoKSxvLnZlcnRleEZyb209dm9pZCAwLG8uaW5kZXhGcm9tPXZvaWQgMCxpLmRpc3BsYXlSZWNvcmRzW2RdPW8pO2NvbnN0IGg9YS5nZW9tZXRyeVR5cGUscD1sLmRpc3BsYXlMaXN0LmdldERQSW5mb1R5cGUoKSx5PXQuYWRkT3JVcGRhdGUudGlsZUJ1ZmZlckRhdGEuZ2VvbWV0cmllc1toXSxjPXkudmVydGV4QnVmZmVyLG49eS5pbmRleEJ1ZmZlcjtsZXQgZjtzJiYoZj1zW3BdP2wuZGlzcGxheUxpc3Quc3BsaXRBZnRlcihzW3BdKTotMSksZT10aGlzLl9kaXNwUmVjU3RvcmUuc2V0TWVzaERhdGEobyxhLGMsbixmKSYmZSxzJiZudWxsIT1vLmluZGV4RnJvbSYmbnVsbCE9by5pbmRleEZyb20mJihzW3BdPW8pfX1yZXR1cm4gZX19ZXhwb3J0e2EgYXMgR3JhcGhpY1RpbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLl9ieUdlb21ldHJ5VHlwZT1udWxsfWdldCBzYXRpc2ZpZWQoKXtyZXR1cm4hdGhpcy5fYnlHZW9tZXRyeVR5cGV9cmVzZXQoKXt0aGlzLl9ieUdlb21ldHJ5VHlwZT1udWxsfXZlcnRpY2VzRm9yKGUpe3JldHVybiB0aGlzLl9ieUdlb21ldHJ5VHlwZT90aGlzLl9ieUdlb21ldHJ5VHlwZVtlXS52ZXJ0aWNlczowfWluZGljZXNGb3IoZSl7cmV0dXJuIHRoaXMuX2J5R2VvbWV0cnlUeXBlP3RoaXMuX2J5R2VvbWV0cnlUeXBlW2VdLmluZGljZXM6MH1uZWVkTW9yZShlLHQsaSl7aWYoIXQmJiFpKXJldHVybjt0aGlzLl9ieUdlb21ldHJ5VHlwZXx8KHRoaXMuX2J5R2VvbWV0cnlUeXBlPVt7dmVydGljZXM6MCxpbmRpY2VzOjB9LHt2ZXJ0aWNlczowLGluZGljZXM6MH0se3ZlcnRpY2VzOjAsaW5kaWNlczowfSx7dmVydGljZXM6MCxpbmRpY2VzOjB9LHt2ZXJ0aWNlczowLGluZGljZXM6MH1dKTtjb25zdCBzPXRoaXMuX2J5R2VvbWV0cnlUeXBlW2VdO3MudmVydGljZXMrPXQscy5pbmRpY2VzKz1pfX1leHBvcnR7ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy52ZXJ0ZXhEYXRhPW5ldyBNYXAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuaW5kZXhEYXRhPVtdfWNsZWFyKCl7dGhpcy52ZXJ0ZXhEYXRhLmNsZWFyKCksdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuaW5kZXhEYXRhPVtdfXVwZGF0ZSh0LGUsYSl7Zm9yKGNvbnN0IHMgaW4gdCl0aGlzLnZlcnRleERhdGEuc2V0KHMsdFtzXSk7Zm9yKGNvbnN0IHMgaW4gdGhpcy52ZXJ0ZXhEYXRhKW51bGw9PT10W3NdJiZ0aGlzLnZlcnRleERhdGEuZGVsZXRlKHMpO3RoaXMudmVydGV4Q291bnQ9ZSx0aGlzLmluZGV4RGF0YT1hfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YWxsb2NhdGVUeXBlZEFycmF5QnVmZmVyd2l0aERhdGEgYXMgZX1mcm9tXCIuL1V0aWxzLmpzXCI7Y29uc3Qgcj01O2NsYXNzIGZ7Y29uc3RydWN0b3IoKXt0aGlzLmdlb21ldHJpZXM9W3tpbmRleEJ1ZmZlcjp2b2lkIDAsdmVydGV4QnVmZmVyOnt9fSx7aW5kZXhCdWZmZXI6dm9pZCAwLHZlcnRleEJ1ZmZlcjp7fX0se2luZGV4QnVmZmVyOnZvaWQgMCx2ZXJ0ZXhCdWZmZXI6e319LHtpbmRleEJ1ZmZlcjp2b2lkIDAsdmVydGV4QnVmZmVyOnt9fSx7aW5kZXhCdWZmZXI6dm9pZCAwLHZlcnRleEJ1ZmZlcjp7fX1dfWNsb25lKCl7Y29uc3QgZT1uZXcgZjtmb3IobGV0IHI9MDtyPHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7cisrKXtjb25zdCBmPXRoaXMuZ2VvbWV0cmllc1tyXSx0PWUuZ2VvbWV0cmllc1tyXTt0LmluZGV4QnVmZmVyPWYuaW5kZXhCdWZmZXIuc2xpY2UoKSx0LnZlcnRleEJ1ZmZlcj17fTtmb3IoY29uc3QgZSBpbiBmLnZlcnRleEJ1ZmZlcil7Y29uc3R7ZGF0YTpyLHN0cmlkZTppfT1mLnZlcnRleEJ1ZmZlcltlXTt0LnZlcnRleEJ1ZmZlcltlXT17ZGF0YTpyLnNsaWNlKCksc3RyaWRlOml9fX1yZXR1cm4gZX1zdGF0aWMgZGVzZXJpYWxpemUodCl7Y29uc3QgaT1uZXcgZjtmb3IobGV0IGY9MDtmPHI7KytmKXtpLmdlb21ldHJpZXNbZl0uaW5kZXhCdWZmZXI9bmV3IFVpbnQzMkFycmF5KHQuZ2VvbWV0cmllc1tmXS5pbmRleEJ1ZmZlciksaS5nZW9tZXRyaWVzW2ZdLnZlcnRleEJ1ZmZlcj17fTtmb3IoY29uc3QgciBpbiB0Lmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyKWkuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXJbcl09e2RhdGE6ZSh0Lmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyW3JdLmRhdGEsdC5nZW9tZXRyaWVzW2ZdLnZlcnRleEJ1ZmZlcltyXS5zdHJpZGUpLHN0cmlkZTp0Lmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyW3JdLnN0cmlkZX19cmV0dXJuIGl9c2VyaWFsaXplKCl7Y29uc3QgZT17Z2VvbWV0cmllczpbe2luZGV4QnVmZmVyOnRoaXMuZ2VvbWV0cmllc1swXS5pbmRleEJ1ZmZlci5idWZmZXIsdmVydGV4QnVmZmVyOnt9fSx7aW5kZXhCdWZmZXI6dGhpcy5nZW9tZXRyaWVzWzFdLmluZGV4QnVmZmVyLmJ1ZmZlcix2ZXJ0ZXhCdWZmZXI6e319LHtpbmRleEJ1ZmZlcjp0aGlzLmdlb21ldHJpZXNbMl0uaW5kZXhCdWZmZXIuYnVmZmVyLHZlcnRleEJ1ZmZlcjp7fX0se2luZGV4QnVmZmVyOnRoaXMuZ2VvbWV0cmllc1szXS5pbmRleEJ1ZmZlci5idWZmZXIsdmVydGV4QnVmZmVyOnt9fSx7aW5kZXhCdWZmZXI6dGhpcy5nZW9tZXRyaWVzWzRdLmluZGV4QnVmZmVyLmJ1ZmZlcix2ZXJ0ZXhCdWZmZXI6e319XX07Zm9yKGxldCBmPTA7ZjxyOysrZilmb3IoY29uc3QgciBpbiB0aGlzLmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyKWUuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXJbcl09e2RhdGE6dGhpcy5nZW9tZXRyaWVzW2ZdLnZlcnRleEJ1ZmZlcltyXS5kYXRhLmJ1ZmZlcixzdHJpZGU6dGhpcy5nZW9tZXRyaWVzW2ZdLnZlcnRleEJ1ZmZlcltyXS5zdHJpZGV9O3JldHVybiBlfWdldEJ1ZmZlcnMoKXtjb25zdCBlPVtdO2ZvcihsZXQgZj0wO2Y8cjsrK2Ype2UucHVzaCh0aGlzLmdlb21ldHJpZXNbZl0uaW5kZXhCdWZmZXIuYnVmZmVyKTtmb3IoY29uc3QgciBpbiB0aGlzLmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyKWUucHVzaCh0aGlzLmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyW3JdLmRhdGEuYnVmZmVyKX1yZXR1cm4gZX19ZXhwb3J0e2YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1JlYWxsb2NHcm93dGhGYWN0b3IgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7V0dMU3ltYm9sb2d5VHlwZSBhcyB0fWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnQgciBmcm9tXCIuL01lbW9yeVJlcXVpcmVtZW50cy5qc1wiO2ltcG9ydCBzIGZyb21cIi4vVGlsZUJ1ZmZlckRhdGEuanNcIjtpbXBvcnQgaSBmcm9tXCIuL1RpbGVEaXNwbGF5RGF0YS5qc1wiO2ltcG9ydHthbGxvY2F0ZVR5cGVkQXJyYXlCdWZmZXIgYXMgbyxjb3B5TWVzaERhdGEgYXMgYSxmb3JFYWNoR2VvbWV0cnlUeXBlIGFzIG59ZnJvbVwiLi9VdGlscy5qc1wiO2ltcG9ydCBmIGZyb21cIi4vV0dMRGlzcGxheVJlY29yZC5qc1wiO2ltcG9ydHtEaXNwbGF5UmVjb3JkUmVhZGVyIGFzIGx9ZnJvbVwiLi9jcHVNYXBwZWQvRGlzcGxheVJlY29yZFJlYWRlci5qc1wiO2ltcG9ydHtWZXJ0ZXhCdWZmZXJzIGFzIHV9ZnJvbVwiLi9tZXNoL1ZlcnRleEJ1ZmZlci5qc1wiO2ltcG9ydHtWZXJ0ZXhWZWN0b3JzIGFzIGN9ZnJvbVwiLi9tZXNoL1ZlcnRleFZlY3Rvci5qc1wiO2ltcG9ydCBtIGZyb21cIi4vdXRpbC9Xcml0ZXIuanNcIjtjb25zdCBkPW5ldyByLHA9bmV3IHIsRD01O2Z1bmN0aW9uIGgoZSx0KXtjb25zdCByPXt9O2Zvcihjb25zdCBzIGluIGUpe2NvbnN0IGk9e2RhdGE6byh0LGVbc10pLHN0cmlkZTplW3NdfTtyW3NdPWl9cmV0dXJuIHJ9ZnVuY3Rpb24geChlKXtyZXR1cm5bZS5maWxsfHx7fSxlLmxpbmV8fHt9LGUuaWNvbnx8e30sZS50ZXh0fHx7fSxlLmxhYmVsfHx7fV19ZnVuY3Rpb24geShlKXtjb25zdCB0PVtbXSxbXSxbXSxbXSxbXV0scj1lO2Zvcihjb25zdCBzIG9mIHIpZm9yKGNvbnN0IGUgb2Ygcy5kaXNwbGF5UmVjb3Jkcyl0W2UuZ2VvbWV0cnlUeXBlXS5wdXNoKGUpO3JldHVybiB0fWNsYXNzIEJ7Y29uc3RydWN0b3IoKXt0aGlzLnRpbGVEaXNwbGF5RGF0YT1udWxsLHRoaXMudGlsZUJ1ZmZlckRhdGE9bnVsbH1yZXNodWZmbGUoKXtpZihkLnJlc2V0KCksIXRoaXMudGlsZURpc3BsYXlEYXRhKXJldHVybjtjb25zdCB0PXkodGhpcy50aWxlRGlzcGxheURhdGEuZGlzcGxheU9iamVjdHMpO2Zvcihjb25zdCBlIG9mIHQpZm9yKGNvbnN0IHQgb2YgZSl0JiZkLm5lZWRNb3JlKHQuZ2VvbWV0cnlUeXBlLHQubWVzaERhdGE/dC5tZXNoRGF0YS52ZXJ0ZXhDb3VudDp0LnZlcnRleENvdW50LHQubWVzaERhdGE/dC5tZXNoRGF0YS5pbmRleERhdGEubGVuZ3RoOnQuaW5kZXhDb3VudCk7Y29uc3Qgcj10Lmxlbmd0aCxpPW5ldyBzO2ZvcihsZXQgcz0wO3M8cjsrK3Mpe2kuZ2VvbWV0cmllc1tzXS5pbmRleEJ1ZmZlcj1uZXcgVWludDMyQXJyYXkoTWF0aC5yb3VuZChlKmQuaW5kaWNlc0ZvcihzKSkpO2NvbnN0IHQ9W10scj10aGlzLnRpbGVCdWZmZXJEYXRhPy5nZW9tZXRyaWVzW3NdLnZlcnRleEJ1ZmZlcjtpZighciljb250aW51ZTtmb3IoY29uc3QgZSBpbiByKXQucHVzaChyW2VdLnN0cmlkZSk7Y29uc3QgYT1CLl9jb21wdXRlVmVydGV4QWxpZ25tZW50KHQpLG49TWF0aC5yb3VuZChlKmQudmVydGljZXNGb3IocykpLGY9Qi5fYWxpZ24obixhKTtmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV0uc3RyaWRlO2kuZ2VvbWV0cmllc1tzXS52ZXJ0ZXhCdWZmZXJbZV09e3N0cmlkZTp0LGRhdGE6byhmLHQpfX19cC5yZXNldCgpLHRoaXMudGlsZURpc3BsYXlEYXRhLmRpc3BsYXlMaXN0Py5jbGVhcigpO2ZvcihsZXQgZT0wO2U8cjsrK2Upe2NvbnN0IHI9dFtlXTtmb3IoY29uc3QgdCBvZiByKXtpZih0Lm1lc2hEYXRhKXQud3JpdGVNZXNoRGF0YVRvQnVmZmVycyhwLnZlcnRpY2VzRm9yKGUpLGkuZ2VvbWV0cmllc1tlXS52ZXJ0ZXhCdWZmZXIscC5pbmRpY2VzRm9yKGUpLGkuZ2VvbWV0cmllc1tlXS5pbmRleEJ1ZmZlciksdC5tZXNoRGF0YT1udWxsO2Vsc2V7Y29uc3Qgcj10aGlzLnRpbGVCdWZmZXJEYXRhPy5nZW9tZXRyaWVzW2VdO2lmKHIpe2NvbnN0IHM9ci52ZXJ0ZXhCdWZmZXIsbz1yLmluZGV4QnVmZmVyLG49aS5nZW9tZXRyaWVzW2VdLnZlcnRleEJ1ZmZlcixmPWkuZ2VvbWV0cmllc1tlXS5pbmRleEJ1ZmZlcixsPXAudmVydGljZXNGb3IoZSksdT1wLmluZGljZXNGb3IoZSk7YShsLHUsbixmLHQscyxvKSx0LnZlcnRleEZyb209bCx0LmluZGV4RnJvbT11fX1wLm5lZWRNb3JlKGUsdC52ZXJ0ZXhDb3VudCx0LmluZGV4Q291bnQpfX1jb25zdHtkaXNwbGF5TGlzdDpuLGRpc3BsYXlPYmplY3RzOmZ9PXRoaXMudGlsZURpc3BsYXlEYXRhO2lmKG4pZm9yKGNvbnN0IGUgb2YgZiluLmFkZFRvTGlzdChlLmRpc3BsYXlSZWNvcmRzKTt0aGlzLnRpbGVCdWZmZXJEYXRhPWl9Z2V0U3RyaWRlcygpe2NvbnN0IGU9W10sdD10aGlzLnRpbGVCdWZmZXJEYXRhPy5nZW9tZXRyaWVzO2lmKCF0KXJldHVybiBlO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7KytyKXtjb25zdCBzPXRbcl07ZVtyXT17fTtmb3IoY29uc3QgdCBpbiBzLnZlcnRleEJ1ZmZlcillW3JdW3RdPXMudmVydGV4QnVmZmVyW3RdLnN0cmlkZX1yZXR1cm4gZX1jbG9uZSgpe2NvbnN0IGU9bmV3IEI7cmV0dXJuIGUudGlsZUJ1ZmZlckRhdGE9dGhpcy50aWxlQnVmZmVyRGF0YT8uY2xvbmUoKT8/bnVsbCxlLnRpbGVEaXNwbGF5RGF0YT10aGlzLnRpbGVEaXNwbGF5RGF0YT8uY2xvbmUoKT8/bnVsbCxlfV9ndWVzc1NpemUoKXtjb25zdCBlPXRoaXMudGlsZURpc3BsYXlEYXRhPy5kaXNwbGF5T2JqZWN0cz8/W10sdD1NYXRoLm1pbihlLmxlbmd0aCw0KSxyPTEyLHM9NDA7bGV0IGk9MDtmb3IobGV0IG89MDtvPHQ7bysrKWk9TWF0aC5tYXgoaSxlW29dLmRpc3BsYXlSZWNvcmRzLmxlbmd0aCk7cmV0dXJuIDIqKGUubGVuZ3RoKnIrZS5sZW5ndGgqaSpzKX1zZXJpYWxpemUoKXtjb25zdCBlPXRoaXMudGlsZUJ1ZmZlckRhdGEuc2VyaWFsaXplKCksdD10aGlzLnRpbGVCdWZmZXJEYXRhLmdldEJ1ZmZlcnMoKSxyPXRoaXMudGlsZURpc3BsYXlEYXRhLnNlcmlhbGl6ZShuZXcgbShJbnQzMkFycmF5LHRoaXMuX2d1ZXNzU2l6ZSgpKSkuYnVmZmVyKCk7cmV0dXJuIHQucHVzaChyKSx7cmVzdWx0OntkaXNwbGF5RGF0YTpyLGJ1ZmZlckRhdGE6ZX0sdHJhbnNmZXJMaXN0OnR9fXN0YXRpYyBmcm9tVmVydGV4RGF0YShlLHIpe2NvbnN0IHM9e30saT1uZXcgTWFwO2Zvcihjb25zdCB0IG9mIHIpaS5zZXQodC5pZCx0KTtyZXR1cm4gbigocj0+e2NvbnN0IG89ZS5kYXRhW3JdO2lmKG51bGwhPW8pe2NvbnN0IGU9bC5mcm9tKG8ucmVjb3JkcykuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspe2NvbnN0IHQ9ZS5pZCxzPWUubWF0ZXJpYWxLZXksbz1lLmluZGV4RnJvbSxhPWUuaW5kZXhDb3VudCxuPWUudmVydGV4RnJvbSxsPWUudmVydGV4Q291bnQsdT1pLmdldCh0KSxjPW5ldyBmKHQscixzKTtjLmluZGV4RnJvbT1vLGMuaW5kZXhDb3VudD1hLGMudmVydGV4RnJvbT1uLGMudmVydGV4Q291bnQ9bCx1LmRpc3BsYXlSZWNvcmRzLnB1c2goYyl9c1tyXT11LmZyb21WZXJ0ZXhEYXRhKG8scil9ZWxzZSBzW3JdPW5ldyBjKHIsMCx0LkRFRkFVTFQpLmludG9CdWZmZXJzKCl9KSksQi5mcm9tTWVzaERhdGEoe2Rpc3BsYXlPYmplY3RzOnIsdmVydGV4QnVmZmVyc01hcDpzfSl9c3RhdGljIGZyb21NZXNoRGF0YShlKXtjb25zdCB0PW5ldyBCLHI9bmV3IGksbz1uZXcgcztyLmRpc3BsYXlPYmplY3RzPWUuZGlzcGxheU9iamVjdHM7Zm9yKGNvbnN0IHMgaW4gZS52ZXJ0ZXhCdWZmZXJzTWFwKXtjb25zdCB0PXMscj1lLnZlcnRleEJ1ZmZlcnNNYXBbdF07by5nZW9tZXRyaWVzW3RdLmluZGV4QnVmZmVyPXIuaW5kZXhCdWZmZXIsby5nZW9tZXRyaWVzW3RdLnZlcnRleEJ1ZmZlcj1yLm5hbWVkQnVmZmVyc31yZXR1cm4gdC50aWxlRGlzcGxheURhdGE9cix0LnRpbGVCdWZmZXJEYXRhPW8sdH1zdGF0aWMgYmluZChlLHQpe2NvbnN0IHI9bmV3IEI7cmV0dXJuIHIudGlsZURpc3BsYXlEYXRhPWUsci50aWxlQnVmZmVyRGF0YT10LHJ9c3RhdGljIGNyZWF0ZShlLHQpe2NvbnN0IHI9bmV3IEI7ci50aWxlRGlzcGxheURhdGE9bmV3IGksci50aWxlRGlzcGxheURhdGEuZGlzcGxheU9iamVjdHM9ZTtjb25zdCBvPVswLDAsMCwwLDBdLGE9WzAsMCwwLDAsMF0sbj1bW10sW10sW10sW10sW11dO2Zvcihjb25zdCBzIG9mIGUpZm9yKGNvbnN0IGUgb2Ygcy5kaXNwbGF5UmVjb3JkcyluW2UuZ2VvbWV0cnlUeXBlXS5wdXNoKGUpLG9bZS5nZW9tZXRyeVR5cGVdKz1lLm1lc2hEYXRhLnZlcnRleENvdW50LGFbZS5nZW9tZXRyeVR5cGVdKz1lLm1lc2hEYXRhLmluZGV4RGF0YS5sZW5ndGg7Y29uc3QgbD1uZXcgcyx1PXgodCk7Zm9yKGxldCBzPTA7czxEO3MrKyl7Y29uc3QgZT1uZXcgVWludDMyQXJyYXkoYVtzXSksdD1oKHVbc10sb1tzXSk7Zi53cml0ZUFsbE1lc2hEYXRhVG9CdWZmZXJzKG5bc10sdCxlKSxsLmdlb21ldHJpZXNbc109e2luZGV4QnVmZmVyOmUsdmVydGV4QnVmZmVyOnR9fXJldHVybiByLnRpbGVCdWZmZXJEYXRhPWwscn1zdGF0aWMgX2FsaWduKGUsdCl7Y29uc3Qgcj1lJXQ7cmV0dXJuIDA9PT1yP2U6ZSsodC1yKX1zdGF0aWMgX2NvbXB1dGVWZXJ0ZXhBbGlnbm1lbnQoZSl7bGV0IHQ9ITEscj0hMTtmb3IoY29uc3QgcyBvZiBlKXMlND09Mj90PSEwOnMlNCE9MCYmKHI9ITApO3JldHVybiByPzQ6dD8yOjF9fWV4cG9ydHtCIGFzIFRpbGVEYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgcyBmcm9tXCIuL0dyYXBoaWNEaXNwbGF5TGlzdC5qc1wiO2ltcG9ydCB0IGZyb21cIi4vV0dMRGlzcGxheU9iamVjdC5qc1wiO2ltcG9ydHtzZXJpYWxpemVMaXN0IGFzIGl9ZnJvbVwiLi91dGlsL3NlcmlhbGl6YXRpb25VdGlscy5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmRpc3BsYXlPYmplY3RzPVtdLHRoaXMuX2Rpc3BsYXlMaXN0PW51bGx9Z2V0IGRpc3BsYXlPYmplY3RSZWdpc3RyeSgpe2lmKCF0aGlzLl9kaXNwbGF5T2JqZWN0UmVnaXN0cnkpe3RoaXMuX2Rpc3BsYXlPYmplY3RSZWdpc3RyeT1uZXcgTWFwO2Zvcihjb25zdCBzIG9mIHRoaXMuZGlzcGxheU9iamVjdHMpdGhpcy5fZGlzcGxheU9iamVjdFJlZ2lzdHJ5LnNldChzLmlkLHMpfXJldHVybiB0aGlzLl9kaXNwbGF5T2JqZWN0UmVnaXN0cnl9Z2V0IGRpc3BsYXlMaXN0KCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXlMaXN0fWNvbXB1dGVEaXNwbGF5TGlzdCgpe3RoaXMuX2Rpc3BsYXlMaXN0PW5ldyBzO2Zvcihjb25zdCBzIG9mIHRoaXMuZGlzcGxheU9iamVjdHMpZm9yKGNvbnN0IHQgb2Ygcy5kaXNwbGF5UmVjb3Jkcyl0aGlzLl9kaXNwbGF5TGlzdC5hZGRUb0xpc3QodCl9Y2xvbmUoKXtjb25zdCBzPW5ldyBlO3JldHVybiB0aGlzLmRpc3BsYXlPYmplY3RzJiYocy5kaXNwbGF5T2JqZWN0cz10aGlzLmRpc3BsYXlPYmplY3RzLm1hcCgocz0+cy5jbG9uZSgpKSkpLHN9c2VyaWFsaXplKHMpe3JldHVybiBpKHMsdGhpcy5kaXNwbGF5T2JqZWN0cyksc31fZGVzZXJpYWxpemVPYmplY3RzKHMpe2NvbnN0IGk9cy5yZWFkSW50MzIoKSxlPW5ldyBBcnJheShpKSxhPW5ldyBNYXA7Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDsrK2wpe2NvbnN0IGk9dC5kZXNlcmlhbGl6ZShzKTtlW2xdPWksYS5zZXQoaS5pZCxpKX10aGlzLmRpc3BsYXlPYmplY3RzPWUsdGhpcy5fZGlzcGxheUxpc3Q9bnVsbCx0aGlzLl9kaXNwbGF5T2JqZWN0UmVnaXN0cnk9YX1zdGF0aWMgZGVzZXJpYWxpemUocyl7Y29uc3QgdD1uZXcgZTtyZXR1cm4gdC5fZGVzZXJpYWxpemVPYmplY3RzKHMpLHR9fWV4cG9ydHtlIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVHZW9tZXRyeURhdGEgYXMgZSxDX1ZCT19JTkZPIGFzIHR9ZnJvbVwiLi9VdGlscy5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgcn1mcm9tXCIuLi8uLi8uLi93ZWJnbC9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VXNhZ2UgYXMgc31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtWZXJ0ZXhBcnJheU9iamVjdCBhcyBhfWZyb21cIi4uLy4uLy4uL3dlYmdsL1ZlcnRleEFycmF5T2JqZWN0LmpzXCI7Y2xhc3Mgb3tjb25zdHJ1Y3RvcihhKXt0aGlzLmdlb21ldHJ5TWFwPWUoKCgpPT4oe2luZGV4QnVmZmVyOnIuY3JlYXRlSW5kZXgoYSxzLlNUQVRJQ19EUkFXKSx2YW86bnVsbH0pKSwoKGUscyk9Pih7dmVydGV4QnVmZmVyOnIuY3JlYXRlVmVydGV4KGEsdFtzXSl9KSkpfWRpc3Bvc2UoKXtmb3IobGV0IGU9MDtlPDU7ZSsrKXtjb25zdCB0PXRoaXMuZ2VvbWV0cnlNYXBbZV07aWYodCl7dC5kYXRhLnZhbz8uZGlzcG9zZVZBT09ubHkoKSx0LmRhdGEuaW5kZXhCdWZmZXI/LmRpc3Bvc2UoKTtmb3IoY29uc3QgZSBpbiB0LmJ1ZmZlcnMpdC5idWZmZXJzW2VdPy5kYXRhLnZlcnRleEJ1ZmZlci5kaXNwb3NlKCl9fX1nZXQoZSl7Y29uc3QgdD10aGlzLmdlb21ldHJ5TWFwW2VdO3JldHVybntnZXRWQU8oZSxyLHMpe2lmKCF0LmRhdGEudmFvKXtjb25zdCBvPXt9O2Zvcihjb25zdCBlIGluIHQuYnVmZmVycylvW2VdPXQuYnVmZmVyc1tlXS5kYXRhLnZlcnRleEJ1ZmZlcjt0LmRhdGEudmFvPW5ldyBhKGUscyxyLG8sdC5kYXRhLmluZGV4QnVmZmVyKX1yZXR1cm4gdC5kYXRhLnZhb319fWhhcyhlKXtyZXR1cm4gbnVsbCE9dGhpcy5nZW9tZXRyeU1hcFtlXX11cGxvYWQoZSx0KXt0LmZvckVhY2goKCh0LHIpPT57dGhpcy5fdXBsb2FkKHQscixlKX0pKX1fdXBsb2FkKGUsdCxyKXtpZihlLmluZGljZXMmJihlLmluZGljZXMuYWxsRGlydHk/dGhpcy5fdXBsb2FkSW5kaWNlcyhyLHQpOm51bGwhPWUuaW5kaWNlcy5mcm9tJiZudWxsIT1lLmluZGljZXMuY291bnQmJnRoaXMuX3VwbG9hZEluZGljZXMocix0LGUuaW5kaWNlcy5mcm9tLGUuaW5kaWNlcy5jb3VudCkpLGUudmVydGljZXMpe2NvbnN0IHM9ZS52ZXJ0aWNlcztmb3IoY29uc3QgZSBpbiBzKXtjb25zdCBhPXNbZV07YS5hbGxEaXJ0eT90aGlzLl91cGxvYWRWZXJ0aWNlcyhyLHQsZSk6bnVsbCE9YS5mcm9tJiZudWxsIT1hLmNvdW50JiZ0aGlzLl91cGxvYWRWZXJ0aWNlcyhyLHQsZSxhLmZyb20sYS5jb3VudCl9fX1fdXBsb2FkVmVydGljZXMoZSx0LHIscyxhKXtjb25zdCBvPXRoaXMuZ2VvbWV0cnlNYXBbdF07aWYoIW8pcmV0dXJuO2NvbnN0IGY9ZS5nZW9tZXRyaWVzW3RdLnZlcnRleEJ1ZmZlcltyXTtpZighZilyZXR1cm47Y29uc3R7ZGF0YTppLHN0cmlkZTpufT1mO2lmKG8uYnVmZmVyc1tyXSYmaS5sZW5ndGg+MCl7Y29uc3QgZT1uL2kuQllURVNfUEVSX0VMRU1FTlQ7bnVsbCE9cyYmbnVsbCE9YT9vLmJ1ZmZlcnNbcl0uZGF0YS52ZXJ0ZXhCdWZmZXIuc2V0U3ViRGF0YShpLHMqZSxzKmUsKHMrYSkqZSk6by5idWZmZXJzW3JdLmRhdGEudmVydGV4QnVmZmVyLnNldERhdGEoaSl9fV91cGxvYWRJbmRpY2VzKGUsdCxyLHMpe2NvbnN0IGE9dGhpcy5nZW9tZXRyeU1hcFt0XTtpZighYSlyZXR1cm47Y29uc3Qgbz1lLmdlb21ldHJpZXNbdF0uaW5kZXhCdWZmZXI7YS5kYXRhLmluZGV4QnVmZmVyJiZvLmxlbmd0aD4wJiYobnVsbCE9ciYmbnVsbCE9cz9hLmRhdGEuaW5kZXhCdWZmZXIuc2V0U3ViRGF0YShvLHIscixyK3MpOmEuZGF0YS5pbmRleEJ1ZmZlci5zZXREYXRhKG8pKX19ZXhwb3J0e28gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHMgZnJvbVwiLi9XR0xEaXNwbGF5UmVjb3JkLmpzXCI7aW1wb3J0e3NlcmlhbGl6ZUxpc3QgYXMgaSxkZXNlcmlhbGl6ZUxpc3QgYXMgdH1mcm9tXCIuL3V0aWwvc2VyaWFsaXphdGlvblV0aWxzLmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3RvcihzKXt0aGlzLmluc2VydEFmdGVyPW51bGwsdGhpcy5pZD1zLHRoaXMuZGlzcGxheVJlY29yZHM9W119Y29weSgpe2NvbnN0IHM9bmV3IGUodGhpcy5pZCk7cmV0dXJuIHMuc2V0KHRoaXMpLHN9Y2xvbmUoKXtjb25zdCBzPW5ldyBlKHRoaXMuaWQpO3JldHVybiBzLmRpc3BsYXlSZWNvcmRzPXRoaXMuZGlzcGxheVJlY29yZHMubWFwKChzPT5zLmNsb25lKCkpKSxzLmluc2VydEFmdGVyPXRoaXMuaW5zZXJ0QWZ0ZXIsc31zZXQocyl7dGhpcy5pZD1zLmlkLHRoaXMuZGlzcGxheVJlY29yZHM9cy5kaXNwbGF5UmVjb3Jkcyx0aGlzLmluc2VydEFmdGVyPXMuaW5zZXJ0QWZ0ZXJ9c2VyaWFsaXplKHMpe3JldHVybiBzLnB1c2godGhpcy5pZCksaShzLHRoaXMuZGlzcGxheVJlY29yZHMpLHN9c3RhdGljIGRlc2VyaWFsaXplKGkpe2NvbnN0IHI9aS5yZWFkSW50MzIoKSxkPW5ldyBlKHIpLG89e2lkOnJ9O3JldHVybiBkLmRpc3BsYXlSZWNvcmRzPXQoaSxzLG8pPz9bXSxkfX1leHBvcnR7ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuL01lc2hEYXRhLmpzXCI7aW1wb3J0e3N0cmlkZVRvUGFja2luZ0ZhY3RvciBhcyBlfWZyb21cIi4vVXRpbHMuanNcIjtjbGFzcyBze2NvbnN0cnVjdG9yKHQsZSxzLGk9MCxyPTApe3RoaXMuaWQ9dCx0aGlzLmdlb21ldHJ5VHlwZT1lLHRoaXMubWF0ZXJpYWxLZXk9cyx0aGlzLm1pblpvb209aSx0aGlzLm1heFpvb209cix0aGlzLm1lc2hEYXRhPW51bGwsdGhpcy5zeW1ib2xMZXZlbD0wLHRoaXMuek9yZGVyPTAsdGhpcy52ZXJ0ZXhGcm9tPTAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuaW5kZXhGcm9tPTAsdGhpcy5pbmRleENvdW50PTAsdGhpcy5fc29ydEtleT1udWxsfWdldCBzb3J0S2V5KCl7cmV0dXJuIG51bGw9PXRoaXMuX3NvcnRLZXkmJnRoaXMuX2NvbXB1dGVTb3J0S2V5KCksdGhpcy5fc29ydEtleX1jbG9uZSgpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3QgdD1uZXcgcyh0aGlzLmlkLHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMubWF0ZXJpYWxLZXkpO3JldHVybiB0LnZlcnRleEZyb209dGhpcy52ZXJ0ZXhGcm9tLHQudmVydGV4Q291bnQ9dGhpcy52ZXJ0ZXhDb3VudCx0LmluZGV4RnJvbT10aGlzLmluZGV4RnJvbSx0LmluZGV4Q291bnQ9dGhpcy5pbmRleENvdW50LHQuek9yZGVyPXRoaXMuek9yZGVyLHQuc3ltYm9sTGV2ZWw9dGhpcy5zeW1ib2xMZXZlbCx0Lm1lc2hEYXRhPXRoaXMubWVzaERhdGEsdC5taW5ab29tPXRoaXMubWluWm9vbSx0Lm1heFpvb209dGhpcy5tYXhab29tLHR9c2V0TWVzaERhdGFGcm9tQnVmZmVycyhzLGkscil7Y29uc3Qgbz1uZXcgdDtmb3IoY29uc3QgdCBpbiBpKXtjb25zdCByPWlbdF0uc3RyaWRlLGE9aVt0XS5kYXRhO2lmKCFhKWNvbnRpbnVlO2NvbnN0IGg9W10sbj1lKHIpO2ZvcihsZXQgdD0wO3Q8cipzLnZlcnRleENvdW50L247Kyt0KWhbdF09YVt0K3Iqcy52ZXJ0ZXhGcm9tL25dO28udmVydGV4RGF0YS5zZXQodCxoKX1vLmluZGV4RGF0YS5sZW5ndGg9MDtmb3IobGV0IHQ9MDt0PHMuaW5kZXhDb3VudDsrK3Qpby5pbmRleERhdGFbdF09clt0K3MuaW5kZXhGcm9tXS1zLnZlcnRleEZyb207by52ZXJ0ZXhDb3VudD1zLnZlcnRleENvdW50LHRoaXMubWVzaERhdGE9b31yZWFkTWVzaERhdGFGcm9tQnVmZmVycyhzLGkpe3RoaXMubWVzaERhdGE/dGhpcy5tZXNoRGF0YS5jbGVhcigpOnRoaXMubWVzaERhdGE9bmV3IHQ7Zm9yKGNvbnN0IHQgaW4gcyl7Y29uc3QgaT1zW3RdLnN0cmlkZSxyPXNbdF0uZGF0YSxvPVtdLGE9ZShpKTtmb3IobGV0IHQ9MDt0PGkqdGhpcy52ZXJ0ZXhDb3VudC9hOysrdClvW3RdPXJbdCtpKnRoaXMudmVydGV4RnJvbS9hXTt0aGlzLm1lc2hEYXRhLnZlcnRleERhdGEuc2V0KHQsbyl9dGhpcy5tZXNoRGF0YS5pbmRleERhdGEubGVuZ3RoPTA7Zm9yKGxldCB0PTA7dDx0aGlzLmluZGV4Q291bnQ7Kyt0KXRoaXMubWVzaERhdGEuaW5kZXhEYXRhW3RdPWlbdCt0aGlzLmluZGV4RnJvbV0tdGhpcy52ZXJ0ZXhGcm9tO3RoaXMubWVzaERhdGEudmVydGV4Q291bnQ9dGhpcy52ZXJ0ZXhDb3VudH13cml0ZU1lc2hEYXRhVG9CdWZmZXJzKHQscyxpLHIpe2lmKHRoaXMubWVzaERhdGEpe2Zvcihjb25zdCBpIGluIHMpe2NvbnN0IHI9c1tpXS5zdHJpZGUsbz10aGlzLm1lc2hEYXRhLnZlcnRleERhdGEuZ2V0KGkpLGE9c1tpXS5kYXRhLGg9ZShyKTtmb3IobGV0IGU9MDtlPHIqdGhpcy5tZXNoRGF0YS52ZXJ0ZXhDb3VudC9oOysrZSlhW2Urcip0L2hdPW9bZV19Zm9yKGxldCBlPTA7ZTx0aGlzLm1lc2hEYXRhLmluZGV4RGF0YS5sZW5ndGg7KytlKXJbZStpXT10aGlzLm1lc2hEYXRhLmluZGV4RGF0YVtlXSt0O3RoaXMudmVydGV4RnJvbT10LHRoaXMudmVydGV4Q291bnQ9dGhpcy5tZXNoRGF0YS52ZXJ0ZXhDb3VudCx0aGlzLmluZGV4RnJvbT1pLHRoaXMuaW5kZXhDb3VudD10aGlzLm1lc2hEYXRhLmluZGV4RGF0YS5sZW5ndGh9fXN0YXRpYyB3cml0ZUFsbE1lc2hEYXRhVG9CdWZmZXJzKHQsZSxzKXtsZXQgaT0wLHI9MDtmb3IoY29uc3QgbyBvZiB0KW8ud3JpdGVNZXNoRGF0YVRvQnVmZmVycyhpLGUscixzKSxpKz1vLnZlcnRleENvdW50LHIrPW8uaW5kZXhDb3VudH1fY29tcHV0ZVNvcnRLZXkoKXt0aGlzLl9zb3J0S2V5PSgzMSZ0aGlzLnN5bWJvbExldmVsKTw8MTJ8KDEyNyZ0aGlzLnpPcmRlcik8PDR8NyZ0aGlzLmdlb21ldHJ5VHlwZX1zZXJpYWxpemUodCl7cmV0dXJuIHQucHVzaCh0aGlzLmdlb21ldHJ5VHlwZSksdC5wdXNoKHRoaXMubWF0ZXJpYWxLZXkpLHQucHVzaCh0aGlzLnZlcnRleEZyb20pLHQucHVzaCh0aGlzLnZlcnRleENvdW50KSx0LnB1c2godGhpcy5pbmRleEZyb20pLHQucHVzaCh0aGlzLmluZGV4Q291bnQpLHQucHVzaCh0aGlzLm1pblpvb20pLHQucHVzaCh0aGlzLm1heFpvb20pLHR9c3RhdGljIGRlc2VyaWFsaXplKHQsZSl7Y29uc3QgaT10LnJlYWRJbnQzMigpLHI9dC5yZWFkSW50MzIoKSxvPW5ldyBzKGUuaWQsaSxyKTtyZXR1cm4gby52ZXJ0ZXhGcm9tPXQucmVhZEludDMyKCksby52ZXJ0ZXhDb3VudD10LnJlYWRJbnQzMigpLG8uaW5kZXhGcm9tPXQucmVhZEludDMyKCksby5pbmRleENvdW50PXQucmVhZEludDMyKCksby5taW5ab29tPXQucmVhZEludDMyKCksby5tYXhab29tPXQucmVhZEludDMyKCksb319ZXhwb3J0e3MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2FsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcndpdGhEYXRhIGFzIGV9ZnJvbVwiLi4vVXRpbHMuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5kYXRhPWUsdGhpcy5zdHJpZGU9dH1zdGF0aWMgZGVjb2RlKHIpe2NvbnN0IHM9ZShyLmRhdGEsci5zdHJpZGUpLG49ci5zdHJpZGU7cmV0dXJuIG5ldyB0KHMsbil9c3RhdGljIGZyb21WZXJ0ZXhWZWN0b3Iocil7Y29uc3Qgcz1lKHIuZGF0YS5idWZmZXIoKSxyLnN0cmlkZSksbj1yLnN0cmlkZTtyZXR1cm4gbmV3IHQocyxuKX19Y2xhc3Mgcntjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5nZW9tZXRyeVR5cGU9ZSx0aGlzLmluZGV4QnVmZmVyPW5ldyBVaW50MzJBcnJheSh0KSx0aGlzLm5hbWVkQnVmZmVycz1yfXN0YXRpYyBkZWNvZGUoZSl7Y29uc3Qgcz1lLmdlb21ldHJ5VHlwZSxuPWUuaW5kZXhCdWZmZXIsbz17fTtmb3IoY29uc3QgciBpbiBlLm5hbWVkQnVmZmVycylvW3JdPXQuZGVjb2RlKGUubmFtZWRCdWZmZXJzW3JdKTtyZXR1cm4gbmV3IHIocyxuLG8pfXN0YXRpYyBmcm9tVmVydGV4RGF0YShzLG4pe2NvbnN0IG89cy5pbmRpY2VzLGM9ZShzLnZlcnRpY2VzLHMuc3RyaWRlKSxpPXMuc3RyaWRlLGQ9e2dlb21ldHJ5Om5ldyB0KGMsaSl9O3JldHVybiBuZXcgcihuLG8sZCl9c3RhdGljIGZyb21WZXJ0ZXhWZWN0b3JzKGUpe2NvbnN0IHM9ZS5nZW9tZXRyeVR5cGUsbj1lLmluZGV4VmVjdG9yLmJ1ZmZlcigpLG89e307bGV0IGM7Zm9yKGMgaW4gZS5uYW1lZFZlY3RvcnMpb1tjXT10LmZyb21WZXJ0ZXhWZWN0b3IoZS5uYW1lZFZlY3RvcnNbY10pO3JldHVybiBuZXcgcihzLG4sbyl9fWV4cG9ydHtyIGFzIFZlcnRleEJ1ZmZlcnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRTdHJpZGVzIGFzIHR9ZnJvbVwiLi4vVXRpbHMuanNcIjtpbXBvcnR7VmVydGV4QnVmZmVycyBhcyBlfWZyb21cIi4vVmVydGV4QnVmZmVyLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vdXRpbC9Xcml0ZXIuanNcIjtjbGFzcyBze2dldCB2ZXJ0ZXhDb3VudCgpe2NvbnN0IHQ9dGhpcy5zdHJpZGUvNCxlPXRoaXMuZGF0YS5sZW5ndGgvdDtyZXR1cm4gZSE9PSgwfGUpJiZjb25zb2xlLmRlYnVnKFwiQ29ycnVwdGVkIHN0cmlkZVwiKSxlfWNvbnN0cnVjdG9yKHQsZSl7dGhpcy5kYXRhPXQsdGhpcy5zdHJpZGU9ZX10cmFuc2Zlcih0LGUpe2NvbnN0IHI9dGhpcy5kYXRhLmJ1ZmZlcigpO3QudmVydGV4Q291bnQ9dGhpcy52ZXJ0ZXhDb3VudCx0LmRhdGE9cix0LnN0cmlkZT10aGlzLnN0cmlkZSxlLnB1c2gocil9fWNsYXNzIG97Y29uc3RydWN0b3IoZSxvLG4pe3RoaXMuZ2VvbWV0cnlUeXBlPWUsdGhpcy5pbmRleFZlY3Rvcj1uZXcgcihVaW50MzJBcnJheSw2Km8pLHRoaXMubmFtZWRWZWN0b3JzPXt9O2NvbnN0IGk9dChlLG4pO2Zvcihjb25zdCB0IGluIGkpe2NvbnN0IGU9aVt0XTtsZXQgbjtzd2l0Y2goZSU0KXtjYXNlIDA6Y2FzZSAyOm49bmV3IHIoVWludDMyQXJyYXksZSpvKTticmVhaztjYXNlIDE6Y2FzZSAzOm49bmV3IHIoVWludDhBcnJheSxlKm8pfXRoaXMubmFtZWRWZWN0b3JzW3RdPW5ldyBzKG4sZSl9fWdldCh0KXtyZXR1cm4gdGhpcy5uYW1lZFZlY3RvcnNbdF0uZGF0YX1nZXRWZWN0b3IodCl7cmV0dXJuIHRoaXMubmFtZWRWZWN0b3JzW3RdfXRyYW5zZmVyKHQsZSl7Y29uc3Qgcj10aGlzLmluZGV4VmVjdG9yLmJ1ZmZlcigpLHM9e307bGV0IG87Zm9yKG8gaW4gZS5wdXNoKHIpLHRoaXMubmFtZWRWZWN0b3JzKXtjb25zdCB0PXRoaXMubmFtZWRWZWN0b3JzW29dO3Nbb109e30sdC50cmFuc2ZlcihzW29dLGUpfXQuZ2VvbWV0cnlUeXBlPXRoaXMuZ2VvbWV0cnlUeXBlLHQuaW5kZXhCdWZmZXI9cix0Lm5hbWVkQnVmZmVycz1zLHRoaXMuZGVzdHJveSgpfWludG9CdWZmZXJzKCl7Y29uc3QgdD1lLmZyb21WZXJ0ZXhWZWN0b3JzKHRoaXMpO3JldHVybiB0aGlzLmRlc3Ryb3koKSx0fWRlc3Ryb3koKXt0aGlzLmluZGV4VmVjdG9yPW51bGwsdGhpcy5uYW1lZFZlY3RvcnM9bnVsbH19ZXhwb3J0e3MgYXMgVmVydGV4VmVjdG9yLG8gYXMgVmVydGV4VmVjdG9yc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZShlLG4pe2lmKG51bGwhPT1uKXtlLnB1c2gobi5sZW5ndGgpO2Zvcihjb25zdCByIG9mIG4pci5zZXJpYWxpemUoZSk7cmV0dXJuIGV9ZS5wdXNoKDApfWZ1bmN0aW9uIG4oZSxuLHIpe2NvbnN0IHQ9ZS5yZWFkSW50MzIoKSxvPW5ldyBBcnJheSh0KTtmb3IobGV0IGk9MDtpPG8ubGVuZ3RoO2krKylvW2ldPW4uZGVzZXJpYWxpemUoZSxyKTtyZXR1cm4gb31leHBvcnR7biBhcyBkZXNlcmlhbGl6ZUxpc3QsZSBhcyBzZXJpYWxpemVMaXN0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0SnNvblR5cGUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUdyYXBoaWNzIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlciBhcyBlfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlci5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyBzfWZyb21cIi4vRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtjbGFzcyBvIGV4dGVuZHMgc3tzdGF0aWMgZnJvbShzLG4saSl7Y29uc3QgYz1lLmNyZWF0ZUluc3RhbmNlKCksdT1bXSxhPXMuZmlsdGVyKChyPT4hIXIuZ2VvbWV0cnkpKTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCBzPXIoZS5nZW9tZXRyeSk7dCh1LFtlXSxzLCExLCExLG4pfXJldHVybiBuZXcgbyhjLHUsaSl9Y29uc3RydWN0b3Iocix0LGUpe3N1cGVyKHIsdCxudWxsKSx0aGlzLl90cmFuc2Zvcm09ZX1nZXQgZ2VvbWV0cnlUeXBlKCl7Y29uc3Qgcj10aGlzLl9jdXJyZW50O3JldHVybiByP3IuZ2VvbWV0cnlUeXBlOm51bGx9Z2V0IGluc2VydEFmdGVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuaW5zZXJ0QWZ0ZXJ9cmVhZEdyYXBoaWMoKXtyZXR1cm4gdGhpcy5fY3VycmVudH1nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5jb3B5KCl9Y29weSgpe2NvbnN0IHI9bmV3IG8odGhpcy5pbnN0YW5jZSx0aGlzLl9mZWF0dXJlcyx0aGlzLl90cmFuc2Zvcm0pO3JldHVybiB0aGlzLmNvcHlJbnRvKHIpLHJ9fWV4cG9ydHtvIGFzIEdyYXBoaWNzUmVhZGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cHQycHggYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e3IgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvcmJ1c2guanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGksaW50ZXJzZWN0cyBhcyByLGNsb25lIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRCb3VuZHNYWSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYm91bmRzVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplTWFwWCBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHMuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e0hpdHRlc3REcmF3SGVscGVyIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9jaW0vQ0lNU3ltYm9sRHJhd0hlbHBlci5qc1wiO2ltcG9ydHtDSU1TeW1ib2xJbmZsYXRlZFNpemVIZWxwZXIgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9DSU1TeW1ib2xIZWxwZXIuanNcIjtpbXBvcnQgYSBmcm9tXCIuL0dyYXBoaWNTdG9yZUl0ZW0uanNcIjtpbXBvcnR7UElYRUxfQlVGRkVSIGFzIGMsZ3JhcGhpY0dlb21ldHJ5VG9OdW1iZXIgYXMgZH1mcm9tXCIuL2dyYXBoaWNzVXRpbHMuanNcIjtjb25zdCBtPXttaW5YOjAsbWluWTowLG1heFg6MCxtYXhZOjB9LHA9aSgpLGc9MWUtNTtmdW5jdGlvbiBmKGUsdCxpLHIscyl7cmV0dXJuIG0ubWluWD10LG0ubWluWT1pLG0ubWF4WD1yLG0ubWF4WT1zLGUuc2VhcmNoKG0pfWZ1bmN0aW9uIF8oZSl7cmV0dXJue21pblg6ZS5ib3VuZHNbMF0sbWluWTplLmJvdW5kc1sxXSxtYXhYOmUuYm91bmRzWzJdLG1heFk6ZS5ib3VuZHNbM119fWNsYXNzIGJ7Y29uc3RydWN0b3IoZSxpLHIscyxvLG4sbCl7dGhpcy5fZ3JhcGhpY3M9cyx0aGlzLl9vbkFkZD1vLHRoaXMuX29uUmVtb3ZlPW4sdGhpcy5faGFzaFRvQ0lNPWwsdGhpcy5faW5kZXg9dCg5LF8pLHRoaXMuX2l0ZW1CeUdyYXBoaWM9bmV3IE1hcCx0aGlzLl9pbmZsYXRlZFNpemVIZWxwZXI9bmV3IGgsdGhpcy5fdGlsZUluZm9WaWV3PWUsdGhpcy5fdWlkRmllbGROYW1lPXI7Y29uc3QgdT1lLmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoaSk7dSYmKHRoaXMuX3Jlc29sdXRpb249dGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVSZXNvbHV0aW9uKHUubGV2ZWwpKX1zZXRSZXNvdXJjZU1hbmFnZXIoZSl7dGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyPWUsdGhpcy5faGl0dGVzdERyYXdIZWxwZXI9bmV3IHUoZSl9aGl0VGVzdChlLHQscyxvLGwpe2U9bihlLHRoaXMuX3RpbGVJbmZvVmlldy5zcGF0aWFsUmVmZXJlbmNlKTtjb25zdCB1PS41Km8qd2luZG93LmRldmljZVBpeGVsUmF0aW8qcztwWzBdPWUtdSxwWzFdPXQtdSxwWzJdPWUrdSxwWzNdPXQrdTtjb25zdCBoPS41Km8qKHMrYyksYT1mKHRoaXMuX2luZGV4LGUtaCx0LWgsZStoLHQraCk7aWYoIWF8fDA9PT1hLmxlbmd0aClyZXR1cm5bXTtjb25zdCBkPVtdLG09aSgpLGc9aSgpO2Zvcihjb25zdCBpIG9mIGEpe2NvbnN0e2dlb21ldHJ5OmUsc3ltYm9sUmVzb3VyY2U6dH09aTt0aGlzLl9nZXRTeW1ib2xCb3VuZHMobSx0LGUsZyxsKSxnWzNdPWdbMl09Z1sxXT1nWzBdPTAscihtLHApJiZpLmdyYXBoaWM/LnZpc2libGUmJmQucHVzaChpKX1pZigwPT09ZC5sZW5ndGgpcmV0dXJuW107Y29uc3QgXz10aGlzLl9oaXR0ZXN0RHJhd0hlbHBlcixiPVtdO2Zvcihjb25zdCBpIG9mIGQpe2NvbnN0e2dlb21ldHJ5OmUsc3ltYm9sUmVzb3VyY2U6dH09aSx7aGFzaDpyLHRleHRJbmZvOnN9PXQsbj10aGlzLl9oYXNoVG9DSU0uZ2V0KHIpO24mJihfLmhpdFRlc3QocCxuLnN5bWJvbCxlLHMsbCxvKSYmYi5wdXNoKGkpKX1yZXR1cm4gYi5zb3J0KHkpLGIubWFwKChlPT5lLmdyYXBoaWMpKX1nZXRHcmFwaGljc0RhdGEoZSx0LGkpe2NvbnN0IHI9dGhpcy5fc2VhcmNoRm9ySXRlbXModCk7aWYoMD09PXIubGVuZ3RofHwwPT09aS5sZW5ndGgpcmV0dXJuW107ci5zb3J0KCgoZSx0KT0+ZS56b3JkZXItdC56b3JkZXIpKSxyWzBdLmluc2VydEFmdGVyPS0xO2ZvcihsZXQgYT0xO2E8ci5sZW5ndGg7YSsrKXJbYV0uaW5zZXJ0QWZ0ZXI9clthLTFdLmdyYXBoaWMudWlkO3Iuc29ydCgoKGUsdCk9PmUuZ3JhcGhpYy51aWQtdC5ncmFwaGljLnVpZCkpLGkuc29ydCgoKGUsdCk9PmUudWlkLXQudWlkKSk7bGV0IHMsbz0wLG49MDtjb25zdCBsPXQucmVzb2x1dGlvbix1PVtdLGg9e29yaWdpblBvc2l0aW9uOlwidXBwZXJMZWZ0XCIsc2NhbGU6W2wsbF0sdHJhbnNsYXRlOlt0LmJvdW5kc1swXSx0LmJvdW5kc1szXV19O2Zvcihjb25zdCBjIG9mIGkpe2ZvcihuPS0yO288ci5sZW5ndGg7KWlmKHM9cltvXSxvKyssYy51aWQ9PT1zLmdyYXBoaWMudWlkKXtuPXMuaW5zZXJ0QWZ0ZXI7YnJlYWt9aWYoIXM/Lmdlb21ldHJ5fHwtMj09PW4pY29udGludWU7Y29uc3QgaT1zLmdldEdlb21ldHJ5UXVhbnRpemVkKGgsdC5ib3VuZHMsdGhpcy5fdGlsZUluZm9WaWV3LnNwYXRpYWxSZWZlcmVuY2UsbCksZD17Li4ucy5ncmFwaGljLmF0dHJpYnV0ZXN9O2RbdGhpcy5fdWlkRmllbGROYW1lXT1jLnVpZCxudWxsPT1zLmdyb3VwSWQmJihzLmdyb3VwSWQ9ZS5jcmVhdGVUZW1wbGF0ZUdyb3VwKHMuc3ltYm9sLG51bGwpKSx1LnB1c2goe2NlbnRyb2lkOmEuZ2V0Q2VudHJvaWRRdWFudGl6ZWQocyxoKSxnZW9tZXRyeTppLGF0dHJpYnV0ZXM6ZCxzeW1ib2w6cy5zeW1ib2wsZ3JvdXBJZDpzLmdyb3VwSWQsaW5zZXJ0QWZ0ZXI6bix6b3JkZXI6cy56b3JkZXJ9KX1yZXR1cm4gdS5zb3J0KCgoZSx0KT0+ZS56b3JkZXItdC56b3JkZXIpKSx1fXF1ZXJ5VGlsZURhdGEoZSx0KXtpZigwPT09dGhpcy5fZ3JhcGhpY3MubGVuZ3RoKXJldHVybltdO2NvbnN0e2JvdW5kczppLHJlc29sdXRpb246cn09dCxzPXRoaXMuX3NlYXJjaEZvckl0ZW1zKHQpLG89W107cmV0dXJuIDA9PT1zLmxlbmd0aHx8dGhpcy5fY3JlYXRlVGlsZUdyYXBoaWNzKG8sZSxzLHtvcmlnaW5Qb3NpdGlvbjpcInVwcGVyTGVmdFwiLHNjYWxlOltyLHJdLHRyYW5zbGF0ZTpbaVswXSxpWzNdXX0sdCksb31oYXMoZSl7cmV0dXJuIHRoaXMuX2l0ZW1CeUdyYXBoaWMuaGFzKGUpfWdldEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX2l0ZW1CeUdyYXBoaWMuZ2V0KGUpO3JldHVybiB0P3QuYm91bmRzOm51bGx9Z2V0QWxsQm91bmRzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5faXRlbUJ5R3JhcGhpYy52YWx1ZXMoKSkuZmlsdGVyKChlPT5lLmdyYXBoaWMudmlzaWJsZSkpLm1hcCgoZT0+ZS5ib3VuZHMpKX1hZGRPck1vZGlmeShlLHQsaSl7aWYoIWV8fG51bGw9PXQpcmV0dXJuO3RoaXMuaGFzKGUpJiZ0aGlzLnJlbW92ZShlKSx0aGlzLl9vbkFkZChlKTtjb25zdCByPVswLDAsMCwwXSxzPXRoaXMuX2dldFN5bWJvbEJvdW5kcyhudWxsLHQsaSxyLDApLG89YS5hY3F1aXJlKGUsdCxpLG51bGwhPXM/czpudWxsLHIpO3JldHVybiB0aGlzLl9pdGVtQnlHcmFwaGljLnNldChlLG8pLGkmJnRoaXMuX2luZGV4Lmluc2VydChvKSxvLmJvdW5kc31yZW1vdmUoZSl7aWYoIXRoaXMuX2l0ZW1CeUdyYXBoaWMuaGFzKGUpKXJldHVybjt0aGlzLl9vblJlbW92ZShlKTtjb25zdCB0PXRoaXMuX2l0ZW1CeUdyYXBoaWMuZ2V0KGUpO3Q/LmJvdW5kcyYmdGhpcy5faW5kZXgucmVtb3ZlKHQpLHRoaXMuX2l0ZW1CeUdyYXBoaWMuZGVsZXRlKGUpfXVwZGF0ZVooKXtjb25zdCBlPXRoaXMuX2dyYXBoaWNzLml0ZW1zO2xldCB0LGk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaT1lW3JdLHQ9dGhpcy5faXRlbUJ5R3JhcGhpYy5nZXQoaSksdCYmKHQuem9yZGVyPXIpfXVwZGF0ZShlLHQsaSl7Y29uc3Qgcj10aGlzLl9pdGVtQnlHcmFwaGljLmdldChlKTtyLmdyb3VwSWQ9bnVsbDtjb25zdCBvPXMoci5ib3VuZHMpO3RoaXMuX2luZGV4LnJlbW92ZShyKTtjb25zdCBuPXRoaXMuX2dldFN5bWJvbEJvdW5kcyhyLmJvdW5kcyx0LGksci5zaXplLDApO3JldHVybiBudWxsIT1uJiZyLnNldChlLHQsaSxuLHIuc2l6ZSksaSYmdGhpcy5faW5kZXguaW5zZXJ0KHIpLHtvbGRCb3VuZHM6byxuZXdCb3VuZHM6ci5ib3VuZHN9fXVwZGF0ZUxldmVsKGUpe2lmKHRoaXMuX3Jlc29sdXRpb249PT1lKXJldHVybjt0aGlzLl9yZXNvbHV0aW9uPWUsdGhpcy5faW5kZXguY2xlYXIoKTtjb25zdCB0PXRoaXMuX2l0ZW1CeUdyYXBoaWMsaT1bXTtmb3IoY29uc3RbcixzXW9mIHQpe2NvbnN0IGU9dGhpcy5fZ2V0U3ltYm9sQm91bmRzKHMuYm91bmRzLHMuc3ltYm9sUmVzb3VyY2Uscy5nZW9tZXRyeSxzLnNpemUsMCk7cy5nZW9tZXRyeSYmbnVsbCE9ZSYmKHMuYm91bmRzPWUsaS5wdXNoKHMpKX10aGlzLl9pbmRleC5sb2FkKGkpfWNsZWFyKCl7dGhpcy5faXRlbUJ5R3JhcGhpYy5jbGVhcigpLHRoaXMuX2luZGV4LmNsZWFyKCl9X2NyZWF0ZVRpbGVHcmFwaGljcyhlLHQsaSxyLHMpe2NvbnN0IG89dGhpcy5fdWlkRmllbGROYW1lLG49dGhpcy5fdGlsZUluZm9WaWV3LnNwYXRpYWxSZWZlcmVuY2Use2JvdW5kczpsLHJlc29sdXRpb246dX09cztsZXQgaCxjLGQsbTtpLnNvcnQoKChlLHQpPT5lLnpvcmRlci10LnpvcmRlcikpO2ZvcihsZXQgcD0wO3A8aS5sZW5ndGg7cCsrKXtkPWlbcF0saD1kLmdyYXBoaWMsYz1kLmdldEdlb21ldHJ5UXVhbnRpemVkKHIsbCxuLHUpLG09MD09PXA/LTE6aVtwLTFdLmdyYXBoaWMudWlkO2NvbnN0IHM9ey4uLmQuZ3JhcGhpYy5hdHRyaWJ1dGVzfTtzW29dPWgudWlkLG51bGw9PWQuZ3JvdXBJZCYmKGQuZ3JvdXBJZD10LmNyZWF0ZVRlbXBsYXRlR3JvdXAoZC5zeW1ib2wsbnVsbCkpLGUucHVzaCh7Y2VudHJvaWQ6YS5nZXRDZW50cm9pZFF1YW50aXplZChkLHIpLGdlb21ldHJ5OmMsYXR0cmlidXRlczpzLHN5bWJvbDpkLnN5bWJvbCxncm91cElkOmQuZ3JvdXBJZCxpbnNlcnRBZnRlcjptLHpvcmRlcjpkLnpvcmRlcn0pfX1fc2VhcmNoRm9ySXRlbXMoZSl7Y29uc3QgdD10aGlzLl90aWxlSW5mb1ZpZXcuc3BhdGlhbFJlZmVyZW5jZSxyPWUuYm91bmRzLHM9bCh0KTtpZihzJiZ0LmlzV3JhcHBhYmxlKXtjb25zdFt0LG9dPXMudmFsaWQsbj1NYXRoLmFicyhyWzJdLW8pPGcsbD1NYXRoLmFicyhyWzBdLXQpPGc7aWYoKCFufHwhbCkmJihufHxsKSl7Y29uc3Qgcz1lLnJlc29sdXRpb247bGV0IGw7bD1pKG4/W3QsclsxXSx0K3MqYyxyWzNdXTpbby1zKmMsclsxXSxvLHJbM11dKTtjb25zdCB1PWYodGhpcy5faW5kZXgsclswXSxyWzFdLHJbMl0sclszXSksaD1mKHRoaXMuX2luZGV4LGxbMF0sbFsxXSxsWzJdLGxbM10pO3JldHVyblsuLi5uZXcgU2V0KFsuLi51LC4uLmhdKV19fXJldHVybiBmKHRoaXMuX2luZGV4LHJbMF0sclsxXSxyWzJdLHJbM10pfV9nZXRTeW1ib2xCb3VuZHModCxyLHMsbixsKXtpZighcnx8IXIuc3ltYm9sfHwhcylyZXR1cm4gbnVsbDtpZih0fHwodD1pKCkpLG8odCxzKSwhbnx8MD09PW5bMF0mJjA9PT1uWzFdJiYwPT09blsyXSYmMD09PW5bM10pe2NvbnN0e2hhc2g6dCx0ZXh0SW5mbzppfT1yLHM9dGhpcy5faGFzaFRvQ0lNLmdldCh0KTtpZighcylyZXR1cm4gbnVsbDtufHwobj1bMCwwLDAsMF0pO2NvbnN0IG89dGhpcy5faW5mbGF0ZWRTaXplSGVscGVyLmdldFN5bWJvbEluZmxhdGVTaXplKG4scy5zeW1ib2wsdGhpcy5fY2ltUmVzb3VyY2VNYW5hZ2VyLGwsaSk7blswXT1lKG9bMF0pLG5bMV09ZShvWzFdKSxuWzJdPWUob1syXSksblszXT1lKG9bM10pfWNvbnN0IHU9dGhpcy5fcmVzb2x1dGlvbixhPWguc2FmZVNpemUobik7cmV0dXJuIHRbMF0tPWEqdSx0WzFdLT1hKnUsdFsyXSs9YSp1LHRbM10rPWEqdSx0fX1jb25zdCB5PShlLHQpPT57Y29uc3QgaT1kKGUuZ3JhcGhpYykscj1kKHQuZ3JhcGhpYyk7cmV0dXJuIGk9PT1yP3Quem9yZGVyLWUuem9yZGVyOmktcn07ZXhwb3J0e2IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyB0LGNvbnRhaW5zUG9pbnRXaXRoTWFyZ2luIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtwb2x5Z29uQ2VudHJvaWQgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2NlbnRyb2lkLmpzXCI7aW1wb3J0e2lzUG9seWdvbiBhcyByLGdldEpzb25UeXBlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7cXVhbnRpemVQb2ludCBhcyBvLHF1YW50aXplR2VvbWV0cnkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3F1YW50aXphdGlvblV0aWxzLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbVBvbHlsaW5lIGFzIHUsZ2VuZXJhbGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIGgscXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBhLGNvbnZlcnRUb1BvbHlsaW5lIGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtjb25zdCBwPW5ldyBjLHk9bmV3IGMsZz1cImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI7ZnVuY3Rpb24gZih0KXt0LmNvb3Jkcy5sZW5ndGg9MCx0Lmxlbmd0aHMubGVuZ3RoPTB9Y2xhc3MgZHtjb25zdHJ1Y3Rvcigpe3RoaXMuYm91bmRzPXQoKSx0aGlzLmdyYXBoaWM9bnVsbH1zdGF0aWMgYWNxdWlyZSh0PW51bGwsZSxzLHIsaSl7bGV0IG87cmV0dXJuIDA9PT1kLl9wb29sLmxlbmd0aD9vPW5ldyBkOihvPWQuX3Bvb2wucG9wKCksdGhpcy5fc2V0LmRlbGV0ZShvKSksby5hY3F1aXJlKHQsZSxzLHIsaSksb31zdGF0aWMgcmVsZWFzZSh0KXt0JiYhdGhpcy5fc2V0Lmhhcyh0KSYmKHQucmVsZWFzZSgpLHRoaXMuX3Bvb2wucHVzaCh0KSx0aGlzLl9zZXQuYWRkKHQpKX1zdGF0aWMgZ2V0Q2VudHJvaWRRdWFudGl6ZWQodCxlKXtpZihyKHQuZ2VvbWV0cnkpKXtjb25zdCByPXQuc3ltYm9sO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7aWYocj8ubGF5ZXJzLmxlbmd0aD4wJiZyLmxheWVycy5zb21lKCh0PT5cInRleHRcIj09PXQudHlwZXx8XCJtYXJrZXJcIj09PXQudHlwZSkpKXtjb25zdCByPXModC5nZW9tZXRyeSk7cmV0dXJuIG51bGwhPT1yP28oZSx7fSx7eDpyWzBdLHk6clsxXX0sITEsITEpOm51bGx9fXJldHVybiBudWxsfWFjcXVpcmUodD1udWxsLGUscyxyLGkpe3QmJnRoaXMuc2V0KHQsZSxzLHIsaSl9cmVsZWFzZSgpe3RoaXMuZ3JhcGhpYz1udWxsLHRoaXMuc3ltYm9sUmVzb3VyY2U9bnVsbCx0aGlzLmdlb21ldHJ5PW51bGx9Z2V0IHN5bWJvbCgpe3JldHVybiB0aGlzLnN5bWJvbFJlc291cmNlLnN5bWJvbH1zZXQodCxlLHMscixpKXt0aGlzLmdyYXBoaWM9dCx0aGlzLmdlb21ldHJ5PXMsdGhpcy5zeW1ib2xSZXNvdXJjZT1lLHRoaXMuYm91bmRzPXIsaSYmKHRoaXMuc2l6ZT1pKX1nZXRHZW9tZXRyeVF1YW50aXplZCh0LHMscixvKXtjb25zdCBjPXRoaXMuZ2VvbWV0cnksZD1pKGMpO2lmKG51bGw9PWQpcmV0dXJuIG51bGw7c3dpdGNoKGQpe2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlnb25cIjp7Y29uc3QgZT1jLHtyaW5nczpzfT1lO2lmKCFzfHwwPT09cy5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IHI7aWYocj0xPT09cy5sZW5ndGgmJjI9PT1zWzBdLmxlbmd0aD9uKHQse3BhdGhzOltbc1swXVswXSxzWzBdWzFdXV19KTpuKHQsdGhpcy5nZW9tZXRyeSksIXIpe2NvbnN0IGU9e3g6c1swXVswXVswXSx5OnNbMF1bMF1bMV19O2lmKHI9bih0LGUpLHIpe2NvbnN0e3g6dCx5OmV9PXI7cmV0dXJue3JpbmdzOltbW3QtMSxlXSxbMSwtMV0sWzEsMV0sWy0xLDFdLFstMSwtMV1dXX19fXJldHVybiByfWNhc2VcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6e2NvbnN0IGU9YztmKHApLGYoeSk7Y29uc3Qgcz1lLmhhc1o/PyExLHI9ZS5oYXNNPz8hMTtyZXR1cm4gdShwLGUpLGgoeSxwLHMscixnLHQuc2NhbGVbMF0pLGEocCx5LHMscixnLHQpLG0ocCxlLmhhc1o/PyExLGUuaGFzTT8/ITEpfWNhc2VcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjp7Y29uc3QgaT1jLHU9LjUqbypNYXRoLm1heChNYXRoLmFicyh0aGlzLnNpemVbMF0pK3RoaXMuc2l6ZVsyXS10aGlzLnNpemVbMF0sTWF0aC5hYnModGhpcy5zaXplWzFdKSt0aGlzLnNpemVbM10tdGhpcy5zaXplWzFdKSxoPWwocik7bGV0IGE9aS5wb2ludHM7aWYoaCl7Y29uc3RbdCxyXT1oLnZhbGlkLGk9ci10O2E9YS5maWx0ZXIoKG89PntpZihvWzBdK3U+cnx8b1swXS11PHQpe2NvbnN0IHQ9Wy4uLm9dO3JldHVybiBvWzBdK3U+cj90WzBdLT1pOnRbMF0rPWksZShzLG8sdSl8fGUocyx0LHUpfXJldHVybiBlKHMsbyx1KX0pKX1yZXR1cm4gMD09PWEubGVuZ3RoP3twb2ludHM6YX06bih0LHtwb2ludHM6YX0pfX1yZXR1cm4gbih0LHRoaXMuZ2VvbWV0cnkpfX1kLl9wb29sPVtdLGQuX3NldD1uZXcgU2V0O2V4cG9ydHtkIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e2JpZGlUZXh0IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9CaWRpVGV4dC5qc1wiO2ltcG9ydHtIYW5kbGVPd25lck1peGluIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9IYW5kbGVPd25lci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydHthc3NlcnRJc1NvbWUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIG4saXNBYm9ydEVycm9yIGFzIGgsdGhyb3dJZkFib3J0RXJyb3IgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHt3aWR0aCBhcyB1LGhlaWdodCBhcyBtLGNyZWF0ZSBhcyBffWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Y2xvc2VSaW5nc0FuZEZpeFdpbmRpbmcgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2Nvb3Jkc1V0aWxzLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHksaXNQb2x5Z29uIGFzIGIsaXNQb2x5bGluZSBhcyBTLGlzRXh0ZW50IGFzIHcsaXNQb2ludCBhcyB2LGlzTXVsdGlwb2ludCBhcyBUfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e25vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbkZvckRpc3BsYXkgYXMgSX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzU3luYy5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIFV9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBHLHByb2plY3QgYXMgTX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydHtzeW1ib2xUb0NJTSBhcyBqfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvY2ltL0NJTVN5bWJvbEhlbHBlci5qc1wiO2ltcG9ydHtlcnJvclBvbHlsaW5lU3ltYm9sMkQgYXMgQyxlcnJvclBvbHlnb25TeW1ib2wyRCBhcyBQLGVycm9yUG9pbnRTeW1ib2wyRCBhcyBSfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9kZWZhdWx0cy5qc1wiO2ltcG9ydHtGSUxURVJfRkxBR18wIGFzIHh9ZnJvbVwiLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e1dHTFN5bWJvbG9neVR5cGUgYXMgQX1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7R3JhcGhpY1RpbGUgYXMgen1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvR3JhcGhpY1RpbGUuanNcIjtpbXBvcnR7VGlsZURhdGEgYXMgcX1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvVGlsZURhdGEuanNcIjtpbXBvcnQgRCBmcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvV0dMRGlzcGxheU9iamVjdC5qc1wiO2ltcG9ydHtNZXNoRGF0YSBhcyBGfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9tZXNoL01lc2hEYXRhLmpzXCI7aW1wb3J0e1dHTE1lc2hGYWN0b3J5IGFzIE99ZnJvbVwiLi4vLi4vZW5naW5lL3dlYmdsL21lc2gvZmFjdG9yaWVzL1dHTE1lc2hGYWN0b3J5LmpzXCI7aW1wb3J0e1dHTFRlbXBsYXRlU3RvcmUgYXMgRX1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC90ZW1wbGF0ZXMvV0dMVGVtcGxhdGVTdG9yZS5qc1wiO2ltcG9ydHtjcmVhdGVNYXRjaGVyIGFzIEh9ZnJvbVwiLi4vLi4vZW5naW5lL3dlYmdsL3V0aWwvTWF0Y2hlci5qc1wiO2ltcG9ydHtjcmVhdGVTeW1ib2xTY2hlbWFPcHRpb25zIGFzIGssY3JlYXRlTWF0Y2hlclNjaGVtYSBhcyBOfWZyb21cIi4uL2ZlYXR1cmVzL3NjaGVtYVV0aWxzLmpzXCI7aW1wb3J0IEIgZnJvbVwiLi4vZmVhdHVyZXMvc3VwcG9ydC9BdHRyaWJ1dGVTdG9yZS5qc1wiO2ltcG9ydHtDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2UgYXMgTH1mcm9tXCIuLi9mZWF0dXJlcy9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qc1wiO2ltcG9ydHtHcmFwaGljc1JlYWRlciBhcyBWfWZyb21cIi4uL2ZlYXR1cmVzL3N1cHBvcnQvR3JhcGhpY3NSZWFkZXIuanNcIjtpbXBvcnQgVyBmcm9tXCIuL0dyYXBoaWNTdG9yZS5qc1wiO2ltcG9ydHtpbnRlcnNlY3RpbmdJbnRlcm5hdGlvbmFsRGF0ZWxpbmUgYXMgSixpc01hcmtlclN5bWJvbCBhcyBaLGlzVGV4dFN5bWJvbCBhcyBLLHBvbHlnb25Gcm9tRXh0ZW50IGFzIFEsVElMRV9TSVpFIGFzIFgsUElYRUxfQlVGRkVSIGFzIFl9ZnJvbVwiLi9ncmFwaGljc1V0aWxzLmpzXCI7aW1wb3J0e2V4cGFuZFN5bWJvbCBhcyAkfWZyb21cIi4uL3N1cHBvcnQvY2ltU3ltYm9sVXRpbHMuanNcIjtpbXBvcnR7Z2V0V2ViR0xDYXBhYmlsaXRpZXMgYXMgZWV9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvY2FwYWJpbGl0aWVzLmpzXCI7aW1wb3J0e2NyZWF0ZVN5bWJvbFNjaGVtYSBhcyB0ZX1mcm9tXCIuLi9mZWF0dXJlcy9jcmVhdGVTeW1ib2xTY2hlbWEuanNcIjtjb25zdCBzZT1oYXMoXCJlc3JpLTJkLWdyYXBoaWMtZGVidWdcIik7ZnVuY3Rpb24gaWUoZSx0LHMpe2xldCBpPXMuZ2V0KGUpO3JldHVybiBpfHwoaT17dGlsZTp0LGFkZGVkT3JNb2RpZmllZDpbXSxyZW1vdmVkOltdfSxzLnNldChlLGkpKSxpfWxldCByZT1jbGFzcyBleHRlbmRzKG8ocih0KSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3N0b3JhZ2U9bmV3IEwsdGhpcy5fZGlzcGxheUlkcz1uZXcgTWFwLHRoaXMuX2NvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLl90aWxlcz1uZXcgTWFwLHRoaXMuX2dyYXBoaWNTdG9yZVVwZGF0ZT0hMSx0aGlzLl9ncmFwaGljc1NldD1uZXcgU2V0LHRoaXMuX21hdGNoZXI9UHJvbWlzZS5yZXNvbHZlKG51bGwpLHRoaXMuX3RpbGVVcGRhdGVTZXQ9bmV3IFNldCx0aGlzLl90aWxlc1RvVXBkYXRlPW5ldyBNYXAsdGhpcy5fZ3JhcGhpY0lkVG9BYm9ydENvbnRyb2xsZXI9bmV3IE1hcCx0aGlzLl9hdHRhY2hlZD0hMSx0aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXI9bnVsbCx0aGlzLl9oYXNoVG9FeHBhbmRlZFN5bWJvbD1uZXcgTWFwLHRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sUHJvbWlzZT1uZXcgTWFwLHRoaXMuX2hhc2hUb0NJTVN5bWJvbFByb21pc2U9bmV3IE1hcCx0aGlzLl9oYXNoVG9DSU09bmV3IE1hcCx0aGlzLl9wcm9jZXNzaW5nPSExLHRoaXMuX25lZWRzUHJvY2Vzc2luZz0hMSx0aGlzLl9wZW5kaW5nVXBkYXRlPXthZGRlZDpuZXcgU2V0LHVwZGF0ZWQ6bmV3IFNldCxyZW1vdmVkOm5ldyBTZXR9LHRoaXMubGFzdFVwZGF0ZUlkPS0xLHRoaXMucmVuZGVyZXI9bnVsbCx0aGlzLnVwZGF0ZVJlcXVlc3RlZD0hMSx0aGlzLmRlZmF1bHRQb2ludFN5bWJvbEVuYWJsZWQ9ITAsdGhpcy5ncmFwaGljVXBkYXRlSGFuZGxlcj10aGlzLmdyYXBoaWNVcGRhdGVIYW5kbGVyLmJpbmQodGhpcyl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXIpLHRoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lcj1udWxsLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIikpLHRoaXMuX2NvbnRyb2xsZXIuYWJvcnQoKSx0aGlzLmNvbnRhaW5lci5kZXN0cm95KCksdGhpcy5fc2V0KFwiZ3JhcGhpY3NcIixudWxsKSx0aGlzLl9ncmFwaGljU3RvcmUuY2xlYXIoKSx0aGlzLl9hdHRyaWJ1dGVTdG9yZT1udWxsLHRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sLmNsZWFyKCksdGhpcy52aWV3PW51bGwsdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMuX2hhc2hUb0NJTS5jbGVhcigpLHRoaXMuX2hhc2hUb0NJTVN5bWJvbFByb21pc2UuY2xlYXIoKSx0aGlzLl9oYXNoVG9FeHBhbmRlZFN5bWJvbFByb21pc2UuY2xlYXIoKX1fY3JlYXRlTWF0Y2hlcihlLHQscyl7aWYoZSl7Y29uc3QgaT1rKGUpLHI9Tih7aW5kZXhDb3VudDowLGZpZWxkczp7fX0sXCJmZWF0dXJlXCIsZSxpKTt0aGlzLl9tYXRjaGVyPUgocix0LG51bGwscyl9fV9jcmVhdGVEaXNwbGF5SWQoZSl7bGV0IHQ9dGhpcy5fZGlzcGxheUlkcy5nZXQoZSk7cmV0dXJuIHR8fCh0PXRoaXMuX3N0b3JhZ2UuY3JlYXRlRGlzcGxheUlkKCksdGhpcy5fZGlzcGxheUlkcy5zZXQoZSx0KSksdH1pbml0aWFsaXplKCl7dGhpcy5fYXR0cmlidXRlU3RvcmU9bmV3IEIoe3R5cGU6XCJsb2NhbFwiLGluaXRpYWxpemU6ZT0+UHJvbWlzZS5yZXNvbHZlKHRoaXMuY29udGFpbmVyLmF0dHJpYnV0ZVZpZXcuaW5pdGlhbGl6ZShlKSksdXBkYXRlOmU9PnRoaXMuY29udGFpbmVyLmF0dHJpYnV0ZVZpZXcucmVxdWVzdFVwZGF0ZShlKSxyZW5kZXI6KCk9PnRoaXMuY29udGFpbmVyLnJlcXVlc3RSZW5kZXIoKX0sZWUoXCIyZFwiKSksdGhpcy5jb250YWluZXIuaGFzSGlnaGxpZ2h0PSgpPT50aGlzLl9hdHRyaWJ1dGVTdG9yZS5oYXNIaWdobGlnaHQ7Y29uc3QgZT1lPT57dGhpcy5fY3JlYXRlRGlzcGxheUlkKGUudWlkKSx0aGlzLl9zZXRGaWx0ZXJTdGF0ZShlLnVpZCxlLnZpc2libGUpfSx0PWU9Pntjb25zdCB0PXRoaXMuX2Rpc3BsYXlJZHMuZ2V0KGUudWlkKTt0aGlzLl9kaXNwbGF5SWRzLmRlbGV0ZShlLnVpZCksdGhpcy5fc3RvcmFnZS5yZWxlYXNlRGlzcGxheUlkKHQpfSxzPW5ldyBFKHRoaXMuY29udGFpbmVyLmdldE1hdGVyaWFsSXRlbXMuYmluZCh0aGlzLmNvbnRhaW5lciksdGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLnRpbGVJbmZvKTt0aGlzLl9ncmFwaGljU3RvcmU9bmV3IFcodGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLHRoaXMudmlldy5zdGF0ZS5zY2FsZSx0aGlzLnVpZCx0aGlzLmdyYXBoaWNzLGUsdCx0aGlzLl9oYXNoVG9DSU0pLHRoaXMuX21lc2hGYWN0b3J5PW5ldyBPKG51bGwsdGhpcy51aWQscyksdGhpcy5fdGVtcGxhdGVTdG9yZT1zLHRoaXMuaGFuZGxlcy5hZGQoW2QoKCgpPT50aGlzLl9lZmZlY3RpdmVSZW5kZXJlciksKGU9Pnt0aGlzLl9jcmVhdGVNYXRjaGVyKGUscyx0aGlzLmNvbnRhaW5lci5zdGFnZS5yZXNvdXJjZU1hbmFnZXIpO2Zvcihjb25zdCB0IG9mIHRoaXMuZ3JhcGhpY3MpdGhpcy5fcGVuZGluZ1VwZGF0ZS51cGRhdGVkLmFkZCh0KTt0aGlzLnJlcXVlc3RVcGRhdGUoKX0pKSx0aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUub24oXCJ1cGRhdGVcIix0aGlzLl9vblRpbGVVcGRhdGUuYmluZCh0aGlzKSksdGhpcy5jb250YWluZXIub24oXCJhdHRhY2hcIiwoKCk9PntzZSYmdGhpcy5jb250YWluZXIuZW5hYmxlUmVuZGVyaW5nQm91bmRzKCgoKT0+dGhpcy5fZ3JhcGhpY1N0b3JlLmdldEFsbEJvdW5kcygpKSksdGhpcy5ncmFwaGljcy5pdGVtcy5sZW5ndGg+MCYmdGhpcy5fZ3JhcGhpY3NDaGFuZ2VIYW5kbGVyKHt0YXJnZXQ6dGhpcy5ncmFwaGljcyxhZGRlZDp0aGlzLmdyYXBoaWNzLml0ZW1zLHJlbW92ZWQ6W10sbW92ZWQ6W119KSx0aGlzLmhhbmRsZXMuYWRkKHRoaXMuZ3JhcGhpY3Mub24oXCJjaGFuZ2VcIiwoZT0+dGhpcy5fZ3JhcGhpY3NDaGFuZ2VIYW5kbGVyKGUpKSksXCJncmFwaGljc1wiKTtjb25zdCBlPXRoaXMuY29udGFpbmVyLnN0YWdlLnJlc291cmNlTWFuYWdlcjt0aGlzLl9jcmVhdGVNYXRjaGVyKHRoaXMuX2VmZmVjdGl2ZVJlbmRlcmVyLHMsZSksdGhpcy5fZ3JhcGhpY1N0b3JlLnNldFJlc291cmNlTWFuYWdlcihlKSx0aGlzLl9hdHRhY2hlZD0hMCx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfSkpXSk7Y29uc3QgaT10aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUudGlsZXM7dGhpcy5fb25UaWxlVXBkYXRlKHthZGRlZDppLHJlbW92ZWQ6W119KX1nZXQgX2VmZmVjdGl2ZVJlbmRlcmVyKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5yZW5kZXJlcj90aGlzLnJlbmRlcmVyKCk6dGhpcy5yZW5kZXJlcn1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hdGhpcy5fYXR0YWNoZWR8fG51bGwhPT10aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXJ8fHRoaXMuX3BlbmRpbmdVcGRhdGUuYWRkZWQuc2l6ZT4wfHx0aGlzLl9wZW5kaW5nVXBkYXRlLnJlbW92ZWQuc2l6ZT4wfHx0aGlzLl9wZW5kaW5nVXBkYXRlLnVwZGF0ZWQuc2l6ZT4wfHx0aGlzLl90aWxlVXBkYXRlU2V0LnNpemU+MHx8dGhpcy5fdGlsZXNUb1VwZGF0ZS5zaXplPjB8fHRoaXMuX2F0dHJpYnV0ZVN0b3JlPy51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd8fHRoaXMuX3Byb2Nlc3Npbmd9aGl0VGVzdChlKXtpZighdGhpcy52aWV3fHx0aGlzLnZpZXcuc3VzcGVuZGVkKXJldHVybltdO2NvbnN0e3Jlc29sdXRpb246dCxyb3RhdGlvbjpzfT10aGlzLnZpZXcuc3RhdGU7cmV0dXJuIHRoaXMuX2dyYXBoaWNTdG9yZS5oaXRUZXN0KGUueCxlLnksMix0LHMpfXVwZGF0ZShlKXtuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKTtjb25zdCB0PWUuc3RhdGUse3Jlc29sdXRpb246c309dDtpZih0aGlzLl9ncmFwaGljU3RvcmUudXBkYXRlTGV2ZWwocyksdGhpcy5fZ3JhcGhpY1N0b3JlVXBkYXRlPSEwLHRoaXMudXBkYXRlUmVxdWVzdGVkPSExLHRoaXMuX3BlbmRpbmdVcGRhdGUudXBkYXRlZC5zaXplPjApe2lmKCF0aGlzLl9wcm9jZXNzaW5nKXJldHVybiB2b2lkIHRoaXMuX3VwZGF0ZUdyYXBoaWNzKCk7dGhpcy5fbmVlZHNQcm9jZXNzaW5nPSEwfX12aWV3Q2hhbmdlKCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9cmVxdWVzdFVwZGF0ZSgpe3RoaXMudXBkYXRlUmVxdWVzdGVkfHwodGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITAsdGhpcy5yZXF1ZXN0VXBkYXRlQ2FsbGJhY2soKSl9cHJvY2Vzc1VwZGF0ZShlKXt0aGlzLnVwZGF0ZVJlcXVlc3RlZCYmKHRoaXMudXBkYXRlUmVxdWVzdGVkPSExLHRoaXMudXBkYXRlKGUpKX1ncmFwaGljVXBkYXRlSGFuZGxlcihlKXtjb25zdHtncmFwaGljOnQscHJvcGVydHk6c309ZTtzd2l0Y2gocyl7Y2FzZVwiYXR0cmlidXRlc1wiOmNhc2VcImdlb21ldHJ5XCI6Y2FzZVwic3ltYm9sXCI6dGhpcy5fcGVuZGluZ1VwZGF0ZS51cGRhdGVkLmFkZCh0KSx0aGlzLnJlcXVlc3RVcGRhdGUoKTticmVhaztjYXNlXCJ2aXNpYmxlXCI6dGhpcy5fc2V0RmlsdGVyU3RhdGUodC51aWQsdC52aXNpYmxlKSx0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpfX1zZXRIaWdobGlnaHQoZSl7Y29uc3QgdD1lLm1hcCgoZT0+dGhpcy5fZGlzcGxheUlkcy5nZXQoZSkpKS5maWx0ZXIocyk7dGhpcy5fYXR0cmlidXRlU3RvcmUuc2V0SGlnaGxpZ2h0KGUsdCl9X2dldEludGVyc2VjdGluZ1RpbGVzKGUpe2NvbnN0IHQ9dGhpcy5fZ3JhcGhpY1N0b3JlLmdldEJvdW5kcyhlKTtpZighdHx8MD09PXUodCl8fDA9PT1tKHQpKXJldHVybltdO2NvbnN0IHM9Sih0LHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gbnVsbCE9cz9bLi4ubmV3IFNldChbLi4udGhpcy52aWV3LmdyYXBoaWNzVGlsZVN0b3JlLmJvdW5kc0ludGVyc2VjdGlvbnMoc1swXSksLi4udGhpcy52aWV3LmdyYXBoaWNzVGlsZVN0b3JlLmJvdW5kc0ludGVyc2VjdGlvbnMoc1sxXSldKV06dGhpcy52aWV3LmdyYXBoaWNzVGlsZVN0b3JlLmJvdW5kc0ludGVyc2VjdGlvbnModCl9YXN5bmMgX3VwZGF0ZVRpbGUoZSl7bih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCk7Y29uc3QgdD1lLnRpbGUscz10aGlzLl9nZXRHcmFwaGljc0RhdGEodGhpcy5fdGVtcGxhdGVTdG9yZSx0LGUuYWRkZWRPck1vZGlmaWVkKSxpPWF3YWl0IHRoaXMuX3Byb2Nlc3NHcmFwaGljcyh0LHMpO3JldHVybiBuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKSx0aGlzLl9wYXRjaFRpbGUodC5rZXkse3R5cGU6XCJ1cGRhdGVcIixhZGRPclVwZGF0ZTppLHJlbW92ZTplLnJlbW92ZWQsZW5kOiEwLGNsZWFyOiExLHNvcnQ6ITF9KSxpfV9wYXRjaFRpbGUoZSx0KXtjb25zdCBzPXRoaXMuX3RpbGVzLmdldChlKTtzJiYodGhpcy5jb250YWluZXIub25UaWxlRGF0YShzLHQpLHRoaXMuY29udGFpbmVyLnJlcXVlc3RSZW5kZXIoKSl9X2dyYXBoaWNzQ2hhbmdlSGFuZGxlcihlKXtjb25zdCB0PXRoaXMuX3BlbmRpbmdVcGRhdGU7Zm9yKGNvbnN0IHMgb2YgZS5hZGRlZCl0LmFkZGVkLmFkZChzKTtmb3IoY29uc3QgcyBvZiBlLm1vdmVkKXQudXBkYXRlZC5hZGQocyk7Zm9yKGNvbnN0IHMgb2YgZS5yZW1vdmVkKXRoaXMuX3BlbmRpbmdVcGRhdGUuYWRkZWQuaGFzKHMpP3QuYWRkZWQuZGVsZXRlKHMpOnQucmVtb3ZlZC5hZGQocyk7dGhpcy5fcHJvY2Vzc2luZz90aGlzLl9uZWVkc1Byb2Nlc3Npbmc9ITA6dGhpcy5fdXBkYXRlR3JhcGhpY3MoKX1fZ2V0R3JhcGhpY3NUb1VwZGF0ZSgpe2NvbnN0IGU9e2FkZGVkOltdLHJlbW92ZWQ6W10sdXBkYXRlZDpbXX07aWYoIXRoaXMuZ3JhcGhpY3MpcmV0dXJuIGU7Y29uc3QgdD10aGlzLl9wZW5kaW5nVXBkYXRlO2Zvcihjb25zdCBzIG9mIHRoaXMuZ3JhcGhpY3MuaXRlbXMpdC5hZGRlZC5oYXMocyk/ZS5hZGRlZC5wdXNoKHMpOnQudXBkYXRlZC5oYXMocykmJmUudXBkYXRlZC5wdXNoKHMpO2Zvcihjb25zdCBzIG9mIHQucmVtb3ZlZCl0aGlzLl9ncmFwaGljU3RvcmUuaGFzKHMpJiZlLnJlbW92ZWQucHVzaChzKTtyZXR1cm4gdC5hZGRlZC5jbGVhcigpLHQucmVtb3ZlZC5jbGVhcigpLHQudXBkYXRlZC5jbGVhcigpLGV9YXN5bmMgX3VwZGF0ZUdyYXBoaWNzKCl7dGhpcy5fcHJvY2Vzc2luZz0hMDtjb25zdHthZGRlZDplLHJlbW92ZWQ6dCx1cGRhdGVkOnN9PXRoaXMuX2dldEdyYXBoaWNzVG9VcGRhdGUoKSxpPXRoaXMuX3RpbGVzVG9VcGRhdGU7bGV0IHI7dHJ5e2lmKCF0aGlzLl9ncmFwaGljU3RvcmVVcGRhdGUpe2NvbnN0IGU9dGhpcy52aWV3LnN0YXRlLHtyZXNvbHV0aW9uOnR9PWU7dGhpcy5fZ3JhcGhpY1N0b3JlLnVwZGF0ZUxldmVsKHQpfWNvbnN0IG89W10sYT1uZXcgQXJyYXkoZS5sZW5ndGgrdC5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCB0PXNbZV0sbj10aGlzLl9nZXRJbnRlcnNlY3RpbmdUaWxlcyh0KTtmb3IoY29uc3QgZSBvZiBuKXtyPWUuaWQ7aWUocixlLGkpLnJlbW92ZWQucHVzaCh0aGlzLl9kaXNwbGF5SWRzLmdldCh0LnVpZCkpfW8ucHVzaCh0aGlzLl91cGRhdGVHcmFwaGljKHQsbnVsbCkpLGFbZV09dH1jb25zdCBuPXMubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBzPWVbdF07YVtuK3RdPXMsdGhpcy5fZ3JhcGhpY3NTZXQuYWRkKHMpLG8ucHVzaCh0aGlzLl9hZGRHcmFwaGljKHMpKX1mb3IoY29uc3QgZSBvZiB0KXt0aGlzLl9hYm9ydFByb2Nlc3NpbmdHcmFwaGljKGUudWlkKTtjb25zdCB0PXRoaXMuX2dldEludGVyc2VjdGluZ1RpbGVzKGUpO2Zvcihjb25zdCBzIG9mIHQpe3I9cy5pZDtpZShyLHMsaSkucmVtb3ZlZC5wdXNoKHRoaXMuX2Rpc3BsYXlJZHMuZ2V0KGUudWlkKSl9dGhpcy5fZ3JhcGhpY3NTZXQuZGVsZXRlKGUpLHRoaXMuX2dyYXBoaWNTdG9yZS5yZW1vdmUoZSl9bGV0IGg7dGhpcy5fZmxpcFVwZGF0aW5nR3JhcGhpY3MoKSxhd2FpdCBQcm9taXNlLmFsbChvKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl7aD1hW2VdO2NvbnN0IHQ9dGhpcy5fZ2V0SW50ZXJzZWN0aW5nVGlsZXMoaCk7Zm9yKGNvbnN0IGUgb2YgdCl7cj1lLmlkO2llKHIsZSxpKS5hZGRlZE9yTW9kaWZpZWQucHVzaChoKX19dGhpcy5fZ3JhcGhpY1N0b3JlLnVwZGF0ZVooKTtjb25zdCBsPVtdO2Zvcihjb25zdFtlLHRdb2YgaSlsLnB1c2godGhpcy5fdXBkYXRlVGlsZSh0KSk7YXdhaXQgUHJvbWlzZS5hbGwobCl9Y2F0Y2gobyl7aChvKSwwfWZvcihjb25zdCBhIG9mIHQpdHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5fZ2V0U3ltYm9sRm9yR3JhcGhpYyhhLG51bGwpO2lmKGUpe2NvbnN0IHQ9ZS5oYXNoKCk7dGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2wuZGVsZXRlKHQpfX1jYXRjaChvKXtoKG8pLDB9aS5jbGVhcigpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5fcHJvY2Vzc2luZz0hMSx0aGlzLl9uZWVkc1Byb2Nlc3NpbmcmJih0aGlzLl9uZWVkc1Byb2Nlc3Npbmc9ITEsdGhpcy5fdXBkYXRlR3JhcGhpY3MoKSl9X2dldEFyY2FkZUluZm8oZSl7Y29uc3QgdD0oZS5hdHRyaWJ1dGVzP09iamVjdC5rZXlzKGUuYXR0cmlidXRlcyk6W10pLm1hcCgodD0+KHtuYW1lOnQsYWxpYXM6dCx0eXBlOlwic3RyaW5nXCI9PXR5cGVvZiBlLmF0dHJpYnV0ZXNbdF0/XCJlc3JpRmllbGRUeXBlU3RyaW5nXCI6XCJlc3JpRmllbGRUeXBlRG91YmxlXCJ9KSkpO3JldHVybiBudWxsPT1lLmdlb21ldHJ5P251bGw6e2dlb21ldHJ5VHlwZTp5KGUuZ2VvbWV0cnkpLHNwYXRpYWxSZWZlcmVuY2U6Zy5mcm9tSlNPTihlLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UpLGZpZWxkczp0fX1fZ2V0U3ltYm9sRm9yR3JhcGhpYyhlLHQpe3JldHVybiBuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKSxudWxsIT1lLnN5bWJvbD9Qcm9taXNlLnJlc29sdmUoZS5zeW1ib2wpOm51bGwhPXRoaXMuX2VmZmVjdGl2ZVJlbmRlcmVyP3RoaXMuX2VmZmVjdGl2ZVJlbmRlcmVyLmdldFN5bWJvbEFzeW5jKGUse3NjYWxlOnRoaXMudmlldy5zdGF0ZS5zY2FsZSxzaWduYWw6bnVsbCE9dD90LnNpZ25hbDpudWxsfSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2dldE51bGxTeW1ib2woZSkpfV9nZXRDSU1TeW1ib2woZSx0LHMpe2xldCBpPXRoaXMuX2hhc2hUb0NJTS5nZXQodCk7aWYoaSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpO2NvbnN0IHI9aihlKTtpZihudWxsIT1yKXtpZihcIkNJTVN5bWJvbFJlZmVyZW5jZVwiPT09ci50eXBlKXJldHVybiBpPXIsdGhpcy5faGFzaFRvQ0lNLnNldCh0LGkpLFByb21pc2UucmVzb2x2ZShpKTtsZXQgZT10aGlzLl9oYXNoVG9DSU1TeW1ib2xQcm9taXNlLmdldCh0KTtyZXR1cm4gZXx8KGU9ci5mZXRjaENJTVN5bWJvbChzKS50aGVuKChlPT4odGhpcy5faGFzaFRvQ0lNLnNldCh0LGUuZGF0YSksdGhpcy5faGFzaFRvQ0lNU3ltYm9sUHJvbWlzZS5kZWxldGUodCksZSkpKS5jYXRjaCgoZT0+KHRoaXMuX2hhc2hUb0NJTVN5bWJvbFByb21pc2UuZGVsZXRlKHQpLGwoZSksbnVsbCkpKSx0aGlzLl9oYXNoVG9DSU1TeW1ib2xQcm9taXNlLnNldCh0LGUpLGUpfXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCl9X2V4cGFuZENJTVN5bWJvbChlLHQscyxpKXtjb25zdCByPXRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sLmdldChzKTtpZihyKXJldHVybiBQcm9taXNlLnJlc29sdmUocik7bGV0IG89dGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2xQcm9taXNlLmdldChzKTtpZihvKXJldHVybiBvO2NvbnN0IGE9dGhpcy5jb250YWluZXIuc3RhZ2Usbj10aGlzLl9nZXRBcmNhZGVJbmZvKHQpLGg9ayhudWxsKSxsPXRlKGUsaCk7cmV0dXJuIG89JChsLG4sYS5yZXNvdXJjZU1hbmFnZXIsaSksdGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2xQcm9taXNlLnNldChzLG8pLG8udGhlbigoZT0+KHRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sLnNldChzLGUpLHRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sUHJvbWlzZS5kZWxldGUocyksZSkpKSxvfWFzeW5jIF9nZXRTeW1ib2xSZXNvdXJjZXMoZSx0KXtuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKTtyZXR1cm4gdGhpcy5jb250YWluZXIuc3RhZ2U/dGhpcy5fZ2V0U3ltYm9sRm9yR3JhcGhpYyhlLHQpLnRoZW4oKHM9PntpZighcylyZXR1cm4gbnVsbDtjb25zdCByPXMuaGFzaCgpO3JldHVybiB0aGlzLl9nZXRDSU1TeW1ib2wocyxyLHQpLnRoZW4oKHM9Pm51bGw9PXM/bnVsbDp0aGlzLl9leHBhbmRDSU1TeW1ib2wocyxlLHIsdCkudGhlbigoZT0+e2NvbnN0IHQ9ZS5sYXllcnMuZmlsdGVyKChlPT5cInRleHRcIj09PWUudHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUudGV4dCkpO2lmKHQmJnQubGVuZ3RoPjApe2NvbnN0IHM9bmV3IEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj10W2VdLG89W10sW2FdPWkoci50ZXh0KTtyLnRleHQ9YTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKylvLnB1c2goYS5jaGFyQ29kZUF0KGUpKTtzW2VdPXtzeW1ib2w6cixpZDplLGdseXBoSWRzOm99fWNvbnN0IG89bmV3IE1hcDtyZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0TWF0ZXJpYWxJdGVtcyhzKS50aGVuKChzPT57YShzKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3QgaT10W2VdO28uc2V0KGkuY2ltLHt0ZXh0OmkudGV4dCxtb3NhaWNJdGVtOnNbZV0ubW9zYWljSXRlbX0pfXJldHVybntzeW1ib2w6ZSx0ZXh0SW5mbzpvLGhhc2g6cn19KSl9cmV0dXJue3N5bWJvbDplLGhhc2g6cn19KSkpKX0pKS5jYXRjaCgoZT0+KGwoZSksbnVsbCkpKTpudWxsfWFzeW5jIF9wcm9qZWN0QW5kTm9ybWFsaXplR2VvbWV0cnkoZSx0KXtpZihuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKSxudWxsPT1lLmdlb21ldHJ5fHxcIm1lc2hcIj09PWUuZ2VvbWV0cnkudHlwZSlyZXR1cm4gbnVsbDtsZXQgcz1lLmdlb21ldHJ5O2lmKGIocykpe2NvbnN0IGU9cy5yaW5ncztzLnJpbmdzPWV9ZWxzZSBpZihTKHMpKXtjb25zdCBlPXMucGF0aHM7cy5wYXRocz1lfWVsc2UgaWYodyhzKSl7Y29uc3QgaT1hd2FpdCB0aGlzLl9nZXRTeW1ib2xGb3JHcmFwaGljKGUsdCk7aWYobih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCksaSYmKFooaS50eXBlKXx8SyhpLnR5cGUpKSl7cz1zLmNlbnRlcn1lbHNlIHM9UShzKX1hd2FpdCBHKHMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSk7Y29uc3QgaT1JKHMpLHI9TShpLHMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIHImJmYocikscn1fb25UaWxlVXBkYXRlKGUpe2NvbnN0IHQ9VSh0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSk7aWYoZS5hZGRlZCYmZS5hZGRlZC5sZW5ndGg+MClmb3IoY29uc3QgcyBvZiBlLmFkZGVkKXRoaXMuX2FkZE5ld1RpbGUocyx0KTtpZihlLnJlbW92ZWQmJmUucmVtb3ZlZC5sZW5ndGg+MClmb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpdGhpcy5fcmVtb3ZlVGlsZShzLmtleSl9YXN5bmMgX2FkZEdyYXBoaWMoZSl7dGhpcy5fYWJvcnRQcm9jZXNzaW5nR3JhcGhpYyhlLnVpZCksbih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCk7Y29uc3QgdD1uZXcgQWJvcnRDb250cm9sbGVyO3RoaXMuX2dyYXBoaWNJZFRvQWJvcnRDb250cm9sbGVyLnNldChlLnVpZCx0KTtjb25zdCBzPXtzaWduYWw6dC5zaWduYWx9O3RyeXthd2FpdCB0aGlzLl9hZGRPclVwZGF0ZUdyYXBoaWMoZSxzKSxuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKSx0aGlzLl9ncmFwaGljSWRUb0Fib3J0Q29udHJvbGxlci5kZWxldGUoZS51aWQpfWNhdGNoKGkpe2lmKHRoaXMuX2dyYXBoaWNJZFRvQWJvcnRDb250cm9sbGVyLmRlbGV0ZShlLnVpZCksIWgoaSkpdGhyb3cgaX19X3VwZGF0ZUdyYXBoaWMoZSx0KXtuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKTtjb25zdCBzPXRoaXMuX3Byb2plY3RBbmROb3JtYWxpemVHZW9tZXRyeShlLHQpLGk9dGhpcy5fZ2V0U3ltYm9sUmVzb3VyY2VzKGUsdCk7cmV0dXJuIFByb21pc2UuYWxsKFtzLGldKS50aGVuKCgoW3Qsc10pPT57bih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCksdGhpcy5fZ3JhcGhpY1N0b3JlLmFkZE9yTW9kaWZ5KGUscyx0KX0pKX1fYWRkT3JVcGRhdGVHcmFwaGljKGUsdCl7bih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCk7Y29uc3Qgcz10aGlzLl9wcm9qZWN0QW5kTm9ybWFsaXplR2VvbWV0cnkoZSx0KSxpPXRoaXMuX2dldFN5bWJvbFJlc291cmNlcyhlLHQpO3JldHVybiBQcm9taXNlLmFsbChbcyxpXSkudGhlbigoKFt0LHNdKT0+e24odGhpcy5fY29udHJvbGxlci5zaWduYWwpLHRoaXMuX2dyYXBoaWNzU2V0LmhhcyhlKSYmdGhpcy5fZ3JhcGhpY1N0b3JlLmFkZE9yTW9kaWZ5KGUscyx0KX0pKX1fYWRkVGlsZShlKXtjb25zdCB0PXRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZS5nZXRUaWxlQm91bmRzKF8oKSxlKSxzPXRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZS5nZXRUaWxlUmVzb2x1dGlvbihlLmxldmVsKSxpPW5ldyB6KGUscyx0WzBdLHRbM10pO3JldHVybiB0aGlzLl90aWxlcy5zZXQoZSxpKSx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChpKSxpfWFzeW5jIF9hZGROZXdUaWxlKGUsdCl7Y29uc3Qgcz10aGlzLl9hZGRUaWxlKGUua2V5KSxpPXRoaXMuX2dyYXBoaWNTdG9yZS5xdWVyeVRpbGVEYXRhKHRoaXMuX3RlbXBsYXRlU3RvcmUsZSk7aWYoMD09PWkubGVuZ3RoKXJldHVybjtpZih0KXtjb25zdCBzPU1hdGgucm91bmQoKHQudmFsaWRbMV0tdC52YWxpZFswXSkvZS5yZXNvbHV0aW9uKTtmb3IoY29uc3QgZSBvZiBpKWUuZ2VvbWV0cnkmJih2KGUuZ2VvbWV0cnkpfHxUKGUuZ2VvbWV0cnkpKSYmdGhpcy5fd3JhcFBvaW50cyhlLHMpfWNvbnN0IHI9ZS5rZXk7dGhpcy5fdGlsZVVwZGF0ZVNldC5hZGQoZS5rZXkpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIik7dHJ5e2NvbnN0IHQ9e3R5cGU6XCJ1cGRhdGVcIixjbGVhcjohMSxhZGRPclVwZGF0ZTphd2FpdCB0aGlzLl9wcm9jZXNzR3JhcGhpY3MoZSxpKSxyZW1vdmU6W10sZW5kOiEwLHNvcnQ6ITF9O3MucGF0Y2godCksdGhpcy5fdGlsZVVwZGF0ZVNldC5kZWxldGUociksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKX1jYXRjaChvKXtpZih0aGlzLl90aWxlVXBkYXRlU2V0LmRlbGV0ZShyKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLCFoKG8pKXRocm93IG99fV9yZW1vdmVUaWxlKGUpe2lmKCF0aGlzLl90aWxlcy5oYXMoZSkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fdGlsZXMuZ2V0KGUpO3RoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHQpLHQuZGVzdHJveSgpLHRoaXMuX3RpbGVzLmRlbGV0ZShlKX1fc2V0RmlsdGVyU3RhdGUoZSx0KXtjb25zdCBzPXRoaXMuX2Rpc3BsYXlJZHMuZ2V0KGUpLGk9dGhpcy5fYXR0cmlidXRlU3RvcmUuZ2V0SGlnaGxpZ2h0RmxhZyhlKTt0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZXREYXRhKHMsMCwwLGl8KHQ/eDowKSl9X2dldEdyYXBoaWNzRGF0YShlLHQscyl7Y29uc3QgaT10aGlzLnZpZXcscj1VKGkuc3BhdGlhbFJlZmVyZW5jZSksbz10aGlzLl9ncmFwaGljU3RvcmUuZ2V0R3JhcGhpY3NEYXRhKGUsdCxzKTtpZihyKXtjb25zdCBlPU1hdGgucm91bmQoKHIudmFsaWRbMV0tci52YWxpZFswXSkvdC5yZXNvbHV0aW9uKTtmb3IoY29uc3QgdCBvZiBvKXQuZ2VvbWV0cnkmJih2KHQuZ2VvbWV0cnkpfHxUKHQuZ2VvbWV0cnkpKSYmdGhpcy5fd3JhcFBvaW50cyh0LGUpfXJldHVybiBvfV93cmFwUG9pbnRzKGUsdCl7Y29uc3Qgcz1lLmdlb21ldHJ5O1Qocyk/dGhpcy5fd3JhcE11bHRpcG9pbnQocyx0KTp0aGlzLl93cmFwUG9pbnQoZSx0KX1fd3JhcE11bHRpcG9pbnQoZSx0KXtjb25zdCBzPWUucG9pbnRzLGk9W107bGV0IHI9MCxvPTA7Zm9yKGNvbnN0W2Esbl1vZiBzKXtpZihpLnB1c2goW2ErcixuXSkscj0wLHQ9PT1YKXtjb25zdCBlPTUqWTthK288ZT8oaS5wdXNoKFt0LDBdKSxyPS10KTphK28+WC1lJiYoaS5wdXNoKFstdCwwXSkscj10KX1lbHNlIGErbzwtWT8oaS5wdXNoKFt0LDBdKSxyPS10KTphK28+WCtZJiYoaS5wdXNoKFstdCwwXSkscj10KTtvKz1hfWUucG9pbnRzPWl9X3dyYXBQb2ludChlLHQpe2NvbnN0IHM9ZS5nZW9tZXRyeTtpZih0PT09WCl7Y29uc3QgaT01Klk7cy54PGk/ZS5nZW9tZXRyeT17cG9pbnRzOltbcy54LHMueV0sW3QsMF1dfTpzLng+WC1pJiYoZS5nZW9tZXRyeT17cG9pbnRzOltbcy54LHMueV0sWy10LDBdXX0pfWVsc2Ugcy54PC1ZP2UuZ2VvbWV0cnk9e3BvaW50czpbW3MueCxzLnldLFt0LDBdXX06cy54PlgrWSYmKGUuZ2VvbWV0cnk9e3BvaW50czpbW3MueCxzLnldLFstdCwwXV19KX1fcHJvY2Vzc0dyYXBoaWNzKGUsdCxzKXtpZighKHQmJnQubGVuZ3RoKXx8IXRoaXMuX21lc2hGYWN0b3J5KXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7Y29uc3QgaT1WLmZyb20odCx0aGlzLnVpZCxlLnRyYW5zZm9ybSkscj10aGlzLl9tZXNoRmFjdG9yeTtyZXR1cm4gdGhpcy5fbWF0Y2hlci50aGVuKCh0PT5yLmFuYWx5emVHcmFwaGljcyhpLHRoaXMuY29udGFpbmVyLnN0YWdlLnJlc291cmNlTWFuYWdlcix0LG51bGwsbnVsbCxzKS50aGVuKCgoKT0+KHRoaXMuX2F0dHJpYnV0ZVN0b3JlLnNlbmRVcGRhdGVzKCksdGhpcy5fcHJvY2Vzc0FuYWx5emVkR3JhcGhpY3MoZSxpKSkpKSkpfV9wcm9jZXNzQW5hbHl6ZWRHcmFwaGljcyhlLHQpe2NvbnN0IHM9dGhpcy5fbWVzaEZhY3RvcnksaT10LmdldFNpemUoKSxyPXQuZ2V0Q3Vyc29yKCksbz17ZmVhdHVyZXM6aSxyZWNvcmRzOmksbWV0cmljczowfSxhPW5ldyBGKGUua2V5LmlkLG8sQS5ERUZBVUxULCExLCExKSxuPVtdO2Zvcig7ci5uZXh0KCk7KXtjb25zdCB0PXIucmVhZEdyYXBoaWMoKTt0Lmluc2VydEFmdGVyPS0xPT09dC5pbnNlcnRBZnRlcj8tMTp0aGlzLl9kaXNwbGF5SWRzLmdldCh0Lmluc2VydEFmdGVyKSx0LmRpc3BsYXlJZD10aGlzLl9kaXNwbGF5SWRzLmdldCh0LmF0dHJpYnV0ZXNbdGhpcy51aWRdKTtjb25zdCBpPW5ldyBEKHQuZGlzcGxheUlkKTtpLmluc2VydEFmdGVyPXQuaW5zZXJ0QWZ0ZXIsbi5wdXNoKGkpLHMud3JpdGVHcmFwaGljKGEscixlLmxldmVsLHRoaXMuY29udGFpbmVyLnN0YWdlLnJlc291cmNlTWFuYWdlcil9Y29uc3QgaD1lLnRpbGVJbmZvVmlldy50aWxlSW5mby5pc1dyYXBwYWJsZSxsPWEuc2VyaWFsaXplKGgpO2lmKDEhPT1sLmxlbmd0aClyZXR1cm4gbmV3IHE7Y29uc3QgZD1sWzBdLm1lc3NhZ2U7cmV0dXJuIHEuZnJvbVZlcnRleERhdGEoZCxuKX1fYWJvcnRQcm9jZXNzaW5nR3JhcGhpYyhlKXt0aGlzLl9ncmFwaGljSWRUb0Fib3J0Q29udHJvbGxlci5nZXQoZSk/LmFib3J0KCl9X2dldE51bGxTeW1ib2woZSl7Y29uc3QgdD1lLmdlb21ldHJ5O3JldHVybiBTKHQpP0M6Yih0KXx8dyh0KT9QOnRoaXMuZGVmYXVsdFBvaW50U3ltYm9sRW5hYmxlZD9SOm51bGx9X2ZsaXBVcGRhdGluZ0dyYXBoaWNzKCl7dGhpcy5fdXBkYXRpbmdHcmFwaGljc1RpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRpbmdHcmFwaGljc1RpbWVyKSx0aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXI9bnVsbCx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfSksMTYwKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfX07ZShbcCgpXSxyZS5wcm90b3R5cGUsXCJfZWZmZWN0aXZlUmVuZGVyZXJcIixudWxsKSxlKFtwKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHJlLnByb3RvdHlwZSxcInJlcXVlc3RVcGRhdGVDYWxsYmFja1wiLHZvaWQgMCksZShbcCgpXSxyZS5wcm90b3R5cGUsXCJjb250YWluZXJcIix2b2lkIDApLGUoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0scmUucHJvdG90eXBlLFwiZ3JhcGhpY3NcIix2b2lkIDApLGUoW3AoKV0scmUucHJvdG90eXBlLFwicmVuZGVyZXJcIix2b2lkIDApLGUoW3AoKV0scmUucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtwKCldLHJlLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW3AoKV0scmUucHJvdG90eXBlLFwidXBkYXRlUmVxdWVzdGVkXCIsdm9pZCAwKSxlKFtwKCldLHJlLnByb3RvdHlwZSxcImRlZmF1bHRQb2ludFN5bWJvbEVuYWJsZWRcIix2b2lkIDApLHJlPWUoW2MoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5zdXBwb3J0LkdyYXBoaWNzVmlldzJEXCIpXSxyZSk7Y29uc3Qgb2U9cmU7ZXhwb3J0e29lIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9