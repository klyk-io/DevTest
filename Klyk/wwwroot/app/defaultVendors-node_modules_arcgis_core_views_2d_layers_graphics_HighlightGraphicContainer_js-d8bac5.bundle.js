"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_views_2d_layers_graphics_HighlightGraphicContainer_js-d8bac5"],{

/***/ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/scaleUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getExtentForScale: () => (/* binding */ d),
/* harmony export */   getResolutionForScale: () => (/* binding */ r),
/* harmony export */   getResolutionInMetersForScale: () => (/* binding */ o),
/* harmony export */   getScale: () => (/* binding */ i),
/* harmony export */   getScaleForResolution: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=96;function i(i,r){const o=r||i.extent,c=i.width,d=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(o&&o.spatialReference);return o&&c?o.width/c*d*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e:0}function r(i,r){return i/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function o(t){return t/(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function c(i,r){return i*((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(r)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.inchesPerMeter*e)}function d(t,n){const e=t.extent,i=t.width-(t.padding?t.padding.left+t.padding.right:0),o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/sublayerUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isExportDynamic: () => (/* binding */ n),
/* harmony export */   isSublayerOverhaul: () => (/* binding */ o),
/* harmony export */   shouldWriteSublayerStructure: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateTolerance: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;"number"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return"number"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>"size"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o="visualVariables"in n?r(s,n.visualVariables):s;if("simple"===n.type)return t(o,n.symbol);if("unique-value"===n.type){let e=o;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if("class-breaks"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return"dot-density"===n.type||n.type,o}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/identify.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/identify.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   identify: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/rest/utils.js");
/* harmony import */ var _operations_identify_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operations/identify.js */ "./node_modules/@arcgis/core/rest/operations/identify.js");
/* harmony import */ var _support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./support/IdentifyParameters.js */ "./node_modules/@arcgis/core/rest/support/IdentifyParameters.js");
/* harmony import */ var _support_IdentifyResult_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./support/IdentifyResult.js */ "./node_modules/@arcgis/core/rest/support/IdentifyResult.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(u);return l.path+="/identify",(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_1__.normalizeCentralMeridian)(c).then((e=>{const t=(0,_operations_identify_js__WEBPACK_IMPORTED_MODULE_3__.identifyToIdentifyRESTParameters)(i,{geometry:e&&e[0]}),u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.encode)({...l.query,f:"json",...t}),a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.asValidOptions)(u,f);return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>_support_IdentifyResult_js__WEBPACK_IMPORTED_MODULE_5__["default"].fromJSON(r))),e}function a(r){return r=_support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_4__["default"].from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/operations/identify.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/operations/identify.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   identifyToIdentifyRESTParameters: () => (/* binding */ l),
/* harmony export */   toDynamicLayersJSON: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _layers_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/support/sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s=e=>e.spatialReference.wkid||JSON.stringify(e.spatialReference);function l(e,t){const{dpi:i,gdbVersion:n,geometry:l,geometryPrecision:a,height:f,layerOption:p,mapExtent:m,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,spatialReference:x,timeExtent:b,tolerance:h,width:E}=e.toJSON(),{dynamicLayers:O,layerDefs:S,layerIds:N}=o(e),j=t&&null!=t.geometry?t.geometry:null,J={geometryPrecision:a,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,tolerance:h},R=j&&j.toJSON()||l;if(J.imageDisplay=`${E},${f},${i}`,n&&(J.gdbVersion=n),R&&(delete R.spatialReference,J.geometry=JSON.stringify(R),J.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__.getJsonType)(R)),x?J.sr=x.wkid||JSON.stringify(x):R&&R.spatialReference?J.sr=s(R):m&&m.spatialReference&&(J.sr=s(m)),J.time=b?[b.start,b.end].join(","):null,m){const{xmin:e,ymin:r,xmax:t,ymax:i}=m;J.mapExtent=`${e},${r},${t},${i}`}return S&&(J.layerDefs=S),O&&!S&&(J.dynamicLayers=O),J.layers="popup"===p?"visible":p,N&&!O&&(J.layers+=`:${N.join(",")}`),J}function o(e){const{mapExtent:r,floors:s,width:l,sublayers:o,layerIds:f,layerOption:p,gdbVersion:m}=e,y=o?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u="popup"===p,c={},d=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_2__.getScale)({extent:r,width:l,spatialReference:r?.spatialReference}),g=[],x=e=>{const r=0===d,t=0===e.minScale||d<=e.minScale,i=0===e.maxScale||d>=e.maxScale;if(e.visible&&(r||t&&i))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===f?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(o?.forEach(x),o&&!g.length)c.layerIds=[];else{const e=(0,_layers_support_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isExportDynamic)(g,y,m),r=g.map((e=>{const r=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_3__.getLayerFloorFilterClause)(s,e);return e.toExportImageJSON(r)}));if(e)c.dynamicLayers=JSON.stringify(r);else{if(o){let e=g.map((({id:e})=>e));f&&(e=e.filter((e=>f.includes(e)))),c.layerIds=e}else f?.length&&(c.layerIds=f);const e=a(s,g);if(null!=e&&e.length){const r={};for(const t of e)t.definitionExpression&&(r[t.id]=t.definitionExpression);Object.keys(r).length&&(c.layerDefs=JSON.stringify(r))}}}return c}function a(r,t){const n=!!r?.length,s=t.filter((e=>null!=e.definitionExpression||n&&null!=e.floorInfo));return s.length?s.map((t=>{const n=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_3__.getLayerFloorFilterClause)(r,t),s=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_0__.sqlAnd)(n,t.definitionExpression);return{id:t.id,definitionExpression:s??void 0}})):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/IdentifyParameters.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/IdentifyParameters.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var m;let a=m=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupport{static from(t){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.ensureClass)(m,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.layerIds=null,this.layerOption="top",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"floors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],a.prototype,"gdbVersion",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({types:_geometry_js__WEBPACK_IMPORTED_MODULE_1__.geometryTypes,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__.fromJSON,write:!0}})],a.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"geometryPrecision",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"height",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:[Number],json:{write:!0}})],a.prototype,"layerIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:["top","visible","all","popup"],json:{write:!0}})],a.prototype,"layerOption",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__["default"],json:{write:!0}})],a.prototype,"mapExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"maxAllowableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnFieldName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnGeometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnUnformattedValues",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:!0}})],a.prototype,"returnZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{write:!0}})],a.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_TimeExtent_js__WEBPACK_IMPORTED_MODULE_2__["default"],json:{write:!0}})],a.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"tolerance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],a.prototype,"width",void 0),a=m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.rest.support.IdentifyParameters")],a);const u=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/IdentifyResult.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/IdentifyResult.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let u=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupport{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__.typeKebabDictionary.toJSON(o.type))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],u.prototype,"displayFieldName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]})],u.prototype,"feature",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("feature",["attributes","geometry"])],u.prototype,"readFeature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("feature")],u.prototype,"writeFeature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],u.prototype,"layerId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],u.prototype,"layerName",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.rest.support.IdentifyResult")],u);const m=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BaseGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_8__["default"]{doRender(e){e.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.WGLDrawPhase.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.ClearBufferBit.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat(["highlightAll"])),s.draw(e),s.unbind()}};i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.support.HighlightGraphicContainer")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MapServiceLayerViewHelper: () => (/* binding */ U),
/* harmony export */   collectPopupProviders: () => (/* binding */ _),
/* harmony export */   isMapServiceLayerView: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _rest_identify_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../rest/identify.js */ "./node_modules/@arcgis/core/rest/identify.js");
/* harmony import */ var _rest_support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../rest/support/IdentifyParameters.js */ "./node_modules/@arcgis/core/rest/support/IdentifyParameters.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _popupUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let P=null;function S(e,t){return"tile"===t.type||"map-image"===t.type}let U=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.debounce)((async e=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch((()=>{})))}))}initialize(){const e=e=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)};this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.on)((()=>this.highlightGraphics),"change",(t=>e(t.added)),{onListenerAdd:t=>e(t)})])}async fetchPopupFeatures(e,t){const{layerView:{layer:r,view:{scale:s}}}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("fetchPopupFeatures:invalid-area","Nothing to fetch without area",{layer:r});const i=_(r.sublayers,s,t);if(!i.length)return[];const a=await A(r,i);if(!((r.capabilities?.operations?.supportsIdentify??!0)&&r.version>=10.5)&&!a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("fetchPopupFeatures:not-supported","query operation is disabled for this service",{layer:r});return a?this._fetchPopupFeaturesUsingQueries(e,i,t):this._fetchPopupFeaturesUsingIdentify(e,i,t)}clearHighlights(){this.highlightGraphics?.removeAll()}highlight(e){const r=this.highlightGraphics;if(!r)return{remove(){}};let o=null;if(e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]?o=[e]:_core_Collection_js__WEBPACK_IMPORTED_MODULE_4__["default"].isCollection(e)&&e.length>0?o=e.toArray():Array.isArray(e)&&e.length>0&&(o=e),o=o?.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome),!o||!o.length)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_6__.makeHandle)();for(const t of o){const e=t.sourceLayer;null!=e&&"geometryType"in e&&"point"===e.geometryType&&(t.visible=!1)}return r.addMany(o),{remove:()=>{r.removeMany(o??[])}}}async _updateHighlightedFeaturesSymbols(e){const{layerView:{view:t},highlightGraphics:r,highlightGraphicUpdated:s}=this;if(r&&s)for(const i of e){const e=i.sourceLayer&&"renderer"in i.sourceLayer&&i.sourceLayer.renderer;i.sourceLayer&&"geometryType"in i.sourceLayer&&"point"===i.sourceLayer.geometryType&&e&&"getSymbolAsync"in e&&e.getSymbolAsync(i).then((async o=>{o||=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__["default"];let a=null;const n="visualVariables"in e?e.visualVariables?.find((e=>"size"===e.type)):void 0;n&&(P||(P=(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"))).getSize),a=P(n,i,{view:t.type,scale:t.scale,shape:"simple-marker"===o.type?o.style:null})),a||="width"in o&&"height"in o&&null!=o.width&&null!=o.height?Math.max(o.width,o.height):"size"in o?o.size:16,r.includes(i)&&(i.symbol=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__["default"]({style:"square",size:a,xoffset:"xoffset"in o?o.xoffset:0,yoffset:"yoffset"in o?o.yoffset:0}),s(i,"symbol"),i.visible=!0)}))}}async _updateHighlightedFeaturesGeometries(e){const{layerView:{layer:t,view:r},highlightGraphics:s,highlightGraphicUpdated:i}=this;if(this._highlightGeometriesResolution=e,!i||!s?.length||!t.capabilities.operations.supportsQuery)return;const o=this._getTargetResolution(e),a=new Map;for(const c of s)if(!this._featuresResolutions.has(c)||this._featuresResolutions.get(c)>o){const e=c.sourceLayer;(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_8__.getOrCreateMapValue)(a,e,(()=>new Map)).set(c.getObjectId(),c)}const l=Array.from(a,(([e,t])=>{const s=e.createQuery();return s.objectIds=[...t.keys()],s.outFields=[e.objectIdField],s.returnGeometry=!0,s.maxAllowableOffset=o,s.outSpatialReference=r.spatialReference,e.queryFeatures(s)})),p=await Promise.all(l);if(!this.destroyed)for(const{features:n}of p)for(const e of n){const t=e.sourceLayer,r=a.get(t).get(e.getObjectId());r&&s.includes(r)&&(r.geometry=e.geometry,i(r,"geometry"),this._featuresResolutions.set(r,o))}}_getTargetResolution(e){const t=e*(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__.getMetersPerUnitForSR)(this.layerView.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t,r){const s=await this._createIdentifyParameters(e,t,r);if(null==s)return[];const{results:i}=await (0,_rest_identify_js__WEBPACK_IMPORTED_MODULE_20__.identify)(this.layerView.layer.parsedUrl,s);return i.map((e=>e.feature))}async _createIdentifyParameters(e,t,r){const{floors:s,layer:i,timeExtent:o,view:{spatialReference:a,scale:n}}=this.layerView,l=null!=r?r.event:null;if(!t.length)return null;await Promise.all(t.map((({sublayer:e})=>e.load().catch((()=>{})))));const p=Math.min((0,_core_has_js__WEBPACK_IMPORTED_MODULE_7__["default"])("mapservice-popup-identify-max-tolerance"),i.allSublayers.reduce(((e,t)=>t.renderer?(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_19__.calculateTolerance)({renderer:t.renderer,event:l}):e),2)),c=this.createFetchPopupFeaturesQueryGeometry(e,p),u=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__.getResolutionForScale)(n,a),h=Math.round(c.width/u),y=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__["default"]({xmin:c.center.x-u*h,ymin:c.center.y-u*h,xmax:c.center.x+u*h,ymax:c.center.y+u*h,spatialReference:c.spatialReference});return new _rest_support_IdentifyParameters_js__WEBPACK_IMPORTED_MODULE_21__["default"]({floors:s,gdbVersion:"gdbVersion"in i?i.gdbVersion:void 0,geometry:e,height:h,layerOption:"popup",mapExtent:y,returnGeometry:!0,spatialReference:a,sublayers:i.sublayers,timeExtent:o,tolerance:p,width:h})}async _fetchPopupFeaturesUsingQueries(e,t,r){const{layerView:{floors:i,timeExtent:o}}=this,a=null!=r?r.event:null,n=t.map((async({sublayer:t,popupTemplate:r})=>{if(await t.load().catch((()=>{})),t.capabilities&&!t.capabilities.operations.supportsQuery)return[];const s=t.createQuery(),n=(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_19__.calculateTolerance)({renderer:t.renderer,event:a}),l=this.createFetchPopupFeaturesQueryGeometry(e,n),p=new Set,[c]=await Promise.all([(0,_popupUtils_js__WEBPACK_IMPORTED_MODULE_24__.getRequiredFields)(t,r),t.renderer?.collectRequiredFields(p,t.fieldsIndex)]);(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_17__.collectFields)(p,t.fieldsIndex,c);const u=Array.from(p).sort();if(s.geometry=l,s.outFields=u,s.timeExtent=o,i){const e=i.clone(),r=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__.getLayerFloorFilterClause)(e,t);null!=r&&(s.where=s.where?`(${s.where}) AND (${r})`:r)}const h=this._getTargetResolution(l.width/n),y=await R(r),m="point"===t.geometryType||y&&y.arcadeUtils.hasGeometryOperations(r);m||(s.maxAllowableOffset=h);let{features:f}=await t.queryFeatures(s);const b=m?0:h;f=await V(t,f);for(const e of f)this._featuresResolutions.set(e,b);return f}));return(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_9__.eachAlways)(n)).reverse().reduce(((e,t)=>t.value?[...e,...t.value]:e),[]).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.isSome)}};function _(e,t,r){const s=[],i=e=>{const o=0===e.minScale||t<=e.minScale,a=0===e.maxScale||t>=e.maxScale;if(e.visible&&o&&a)if(e.sublayers)e.sublayers.forEach(i);else if(e.popupEnabled){const t=(0,_popupUtils_js__WEBPACK_IMPORTED_MODULE_24__.getFetchPopupTemplate)(e,{...r,defaultPopupTemplateEnabled:!1});null!=t&&s.unshift({sublayer:e,popupTemplate:t})}};return(e?.toArray()??[]).reverse().map(i),s}function R(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>"expression"===e.type))?(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_22__.loadArcade)():Promise.resolve()}async function A(e,t){if(e.capabilities?.operations?.supportsQuery)return!0;try{return await Promise.any(t.map((({sublayer:e})=>e.load().then((()=>e.capabilities.operations.supportsQuery)))))}catch{return!1}}async function V(e,t){const r=e.renderer;return r&&"defaultSymbol"in r&&!r.defaultSymbol&&(t=r.valueExpression?await Promise.all(t.map((e=>r.getSymbolAsync(e).then((t=>t?e:null))))).then((e=>e.filter((e=>null!=e)))):t.filter((e=>null!=r.getSymbol(e)))),t}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],U.prototype,"createFetchPopupFeaturesQueryGeometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],U.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],U.prototype,"highlightGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],U.prototype,"highlightGraphicUpdated",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],U.prototype,"updatingHandles",void 0),U=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.views.layers.support.MapService")],U);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const t=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:u}=p,{objectIdField:d,typeIdField:i,globalIdField:s,relationships:a}=n;if(t.includes("*"))return["*"];const o=u?await (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...t,...o]);return i&&f.push(i),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&s&&n.fieldsIndex?.has(s)&&!f.includes(s)&&f.push(s),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function t(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/drapedUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/drapedUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createQueryGeometry: () => (/* binding */ r),
/* harmony export */   intersectsDrapedGeometry: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(t,r,i,a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]){let o=0;if("2d"===i.type)o=r*(i.resolution??0);else if("3d"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(a)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__.calculateTolerance)(),i,a).intersects(n)}const a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"];


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19ncmFwaGljc19IaWdobGlnaHRHcmFwaGljQ29udGFpbmVyX2pzLWQ4YmFjNS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDb0YsV0FBVyxnQkFBZ0IsZ0NBQWdDLHlFQUFDLHdCQUF3Qix3QkFBd0IsOERBQUMsS0FBSyxnQkFBZ0IsVUFBVSx5RUFBQyxJQUFJLDhEQUFDLElBQUksY0FBYyxVQUFVLDhEQUFDLElBQUksZ0JBQWdCLFVBQVUseUVBQUMsSUFBSSw4REFBQyxJQUFJLGdCQUFnQixrR0FBa0cscUNBQTJLOzs7Ozs7Ozs7Ozs7Ozs7O0FDSnhrQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLGdFQUFnRSwrQ0FBK0MsWUFBWSxnQkFBZ0IsZ0ZBQWdGLGdCQUFnQiwwQkFBMEIsMENBQTBDLEVBQUUsS0FBSyx1QkFBdUIsR0FBRyxNQUFNLFlBQVksT0FBTyxHQUFHLFNBQTBFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcGQ7QUFDQTtBQUNBO0FBQ0E7QUFDd0Usa0JBQWtCLHFCQUFxQixZQUFZLGNBQWMseUJBQXlCLHVPQUF1TyxrQkFBa0Isb0JBQW9CLGlCQUFpQix5SEFBeUgsNkVBQUMsdUNBQXVDLDZFQUFDLGtDQUFrQyw2RUFBQyx3Q0FBd0MsNkVBQUMsU0FBUyxZQUFZLGdCQUFnQixtQ0FBbUMsdUNBQXVDLFlBQVksdURBQXVELDhCQUE4QixRQUFRLGlCQUFpQixVQUFVLEtBQUssTUFBTSxLQUFLLGNBQWMsS0FBSyxpQkFBaUIsU0FBUyxjQUFjLDhGQUFxTDs7Ozs7Ozs7Ozs7Ozs7O0FDSmpxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrSUFBa0ksY0FBYyxZQUFZLFlBQVksV0FBVyxLQUFLLGtCQUFrQiwrQkFBK0IsV0FBVyxnQkFBZ0IsbUVBQW1FLGdCQUFnQixlQUFl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dUIsMkRBQUMsRUFBRSxRQUFRLHVDQUF1Qyx1QkFBdUIsb0VBQW9FLDRDQUE0Qyx5RUFBQyxJQUFJLHlFQUFDLHFCQUFxQix1Q0FBdUMsbUJBQW1CLEdBQUcsa0hBQWtILGtCQUFrQixtQkFBbUIsb0JBQW9CLFdBQVcsNkZBQUMsc0JBQXNCLFlBQVksMkRBQUMsQ0FBZ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9zdWJsYXllclV0aWxzLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3JlbmRlcmVycy9zdXBwb3J0L2NsaWNrVG9sZXJhbmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9pZGVudGlmeS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L29wZXJhdGlvbnMvaWRlbnRpZnkuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVzdC9zdXBwb3J0L0lkZW50aWZ5UGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9yZXN0L3N1cHBvcnQvSWRlbnRpZnlSZXN1bHQuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0hpZ2hsaWdodEdyYXBoaWNDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL3N1cHBvcnQvTWFwU2VydmljZUxheWVyVmlld0hlbHBlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvc3VwcG9ydC9wb3B1cFV0aWxzLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3N1cHBvcnQvZHJhcGVkVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgdCxpbmNoZXNQZXJNZXRlciBhcyBufWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7Y29uc3QgZT05NjtmdW5jdGlvbiBpKGkscil7Y29uc3Qgbz1yfHxpLmV4dGVudCxjPWkud2lkdGgsZD10KG8mJm8uc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIG8mJmM/by53aWR0aC9jKmQqbiplOjB9ZnVuY3Rpb24gcihpLHIpe3JldHVybiBpLyh0KHIpKm4qZSl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC8obiplKX1mdW5jdGlvbiBjKGkscil7cmV0dXJuIGkqKHQocikqbiplKX1mdW5jdGlvbiBkKHQsbil7Y29uc3QgZT10LmV4dGVudCxpPXQud2lkdGgtKHQucGFkZGluZz90LnBhZGRpbmcubGVmdCt0LnBhZGRpbmcucmlnaHQ6MCksbz1yKG4sZS5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gZS5jbG9uZSgpLmV4cGFuZChvKmkvZS53aWR0aCl9ZXhwb3J0e2QgYXMgZ2V0RXh0ZW50Rm9yU2NhbGUsciBhcyBnZXRSZXNvbHV0aW9uRm9yU2NhbGUsbyBhcyBnZXRSZXNvbHV0aW9uSW5NZXRlcnNGb3JTY2FsZSxpIGFzIGdldFNjYWxlLGMgYXMgZ2V0U2NhbGVGb3JSZXNvbHV0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvKG8pe2NvbnN0IG49by5sYXllcjtpZihcImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQmJlwiZmxvb3JzXCJpbiBvLnZpZXcpe3JldHVybiBsKG8udmlldy5mbG9vcnMsbi5mbG9vckluZm8uZmxvb3JGaWVsZCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihvLG4pe3JldHVyblwiZmxvb3JJbmZvXCJpbiBuJiZuLmZsb29ySW5mbz8uZmxvb3JGaWVsZD9sKG8sbi5mbG9vckluZm8uZmxvb3JGaWVsZCk6bnVsbH1mdW5jdGlvbiBsKG8sbil7aWYoIW8/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBsPW8uZmlsdGVyKChvPT5cIlwiIT09bykpLm1hcCgobz0+YCcke299J2ApKTtyZXR1cm4gbC5wdXNoKFwiJydcIiksYCR7bn0gSU4gKCR7bC5qb2luKFwiLFwiKX0pIE9SICR7bn0gSVMgTlVMTGB9ZXhwb3J0e28gYXMgZ2V0Rmxvb3JGaWx0ZXJDbGF1c2UsbiBhcyBnZXRMYXllckZsb29yRmlsdGVyQ2xhdXNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7T3JpZ2luSWQgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2Z1bmN0aW9uIGUocixlLG4pe2NvbnN0IG89ZS5mbGF0dGVuKCgoe3N1YmxheWVyczpyfSk9PnIpKS5sZW5ndGg7aWYobyE9PXIubGVuZ3RoKXJldHVybiEwO3JldHVybiEhci5zb21lKChyPT5yLm9yaWdpbklkT2YoXCJtaW5TY2FsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJtYXhTY2FsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJyZW5kZXJlclwiKT5ufHxyLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+bnx8ci5vcmlnaW5JZE9mKFwib3BhY2l0eVwiKT5ufHxyLm9yaWdpbklkT2YoXCJsYWJlbHNWaXNpYmxlXCIpPm58fHIub3JpZ2luSWRPZihcInNvdXJjZVwiKT5uKSl8fCFpKHIsZSl9ZnVuY3Rpb24gbihlLG4sbyl7cmV0dXJuISFlLnNvbWUoKGU9Pntjb25zdCBuPWUuc291cmNlO3JldHVybiEoIW58fFwibWFwLWxheWVyXCI9PT1uLnR5cGUmJm4ubWFwTGF5ZXJJZD09PWUuaWQmJihudWxsPT1uLmdkYlZlcnNpb258fG4uZ2RiVmVyc2lvbj09PW8pKXx8ZS5vcmlnaW5JZE9mKFwicmVuZGVyZXJcIik+ci5TRVJWSUNFfHxlLm9yaWdpbklkT2YoXCJsYWJlbGluZ0luZm9cIik+ci5TRVJWSUNFfHxlLm9yaWdpbklkT2YoXCJvcGFjaXR5XCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwibGFiZWxzVmlzaWJsZVwiKT5yLlNFUlZJQ0V9KSl8fCFpKGUsbil9ZnVuY3Rpb24gaShyLGUpe2lmKCFyfHwhci5sZW5ndGh8fG51bGw9PWUpcmV0dXJuITA7Y29uc3Qgbj1lLnNsaWNlKCkucmV2ZXJzZSgpLmZsYXR0ZW4oKCh7c3VibGF5ZXJzOnJ9KT0+ciYmci50b0FycmF5KCkucmV2ZXJzZSgpKSkubWFwKChyPT5yLmlkKSkudG9BcnJheSgpO2lmKHIubGVuZ3RoPm4ubGVuZ3RoKXJldHVybiExO2xldCBpPTA7Y29uc3Qgbz1uLmxlbmd0aDtmb3IoY29uc3R7aWQ6dH1vZiByKXtmb3IoO2k8byYmbltpXSE9PXQ7KWkrKztpZihpPj1vKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIG8ocil7cmV0dXJuISFyJiZyLnNvbWUoKHI9Pm51bGwhPXIubWluU2NhbGV8fHIubGF5ZXJEZWZpbml0aW9uJiZudWxsIT1yLmxheWVyRGVmaW5pdGlvbi5taW5TY2FsZSkpfWV4cG9ydHtuIGFzIGlzRXhwb3J0RHluYW1pYyxvIGFzIGlzU3VibGF5ZXJPdmVyaGF1bCxlIGFzIHNob3VsZFdyaXRlU3VibGF5ZXJTdHJ1Y3R1cmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxlKXtyZXR1cm4gZT9cInhvZmZzZXRcImluIGUmJmUueG9mZnNldD9NYXRoLm1heCh0LE1hdGguYWJzKGUueG9mZnNldCkpOlwieW9mZnNldFwiaW4gZSYmZS55b2Zmc2V0P01hdGgubWF4KHQsTWF0aC5hYnMoZS55b2Zmc2V0fHwwKSk6dDp0fWZ1bmN0aW9uIGUodCl7bGV0IGU9MCxuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IHM9dFtyXS5zaXplO1wibnVtYmVyXCI9PXR5cGVvZiBzJiYoZSs9cyxuKyspfXJldHVybiBlL259ZnVuY3Rpb24gbih0LG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6dCYmdC5zdG9wcyYmdC5zdG9wcy5sZW5ndGg/ZSh0LnN0b3BzKTpufWZ1bmN0aW9uIHIodCxlKXtpZighZSlyZXR1cm4gdDtjb25zdCByPWUuZmlsdGVyKCh0PT5cInNpemVcIj09PXQudHlwZSkpLm1hcCgoZT0+e2NvbnN0e21heFNpemU6cixtaW5TaXplOnN9PWU7cmV0dXJuKG4ocix0KStuKHMsdCkpLzJ9KSk7bGV0IHM9MDtjb25zdCBvPXIubGVuZ3RoO2lmKDA9PT1vKXJldHVybiB0O2ZvcihsZXQgbj0wO248bztuKyspcys9cltuXTtjb25zdCBmPU1hdGguZmxvb3Iocy9vKTtyZXR1cm4gTWF0aC5tYXgoZix0KX1mdW5jdGlvbiBzKGUpe2NvbnN0IG49ZSYmZS5yZW5kZXJlcixzPVwidG91Y2hcIj09PShlJiZlLmV2ZW50JiZlLmV2ZW50LnBvaW50ZXJUeXBlKT85OjY7aWYoIW4pcmV0dXJuIHM7Y29uc3Qgbz1cInZpc3VhbFZhcmlhYmxlc1wiaW4gbj9yKHMsbi52aXN1YWxWYXJpYWJsZXMpOnM7aWYoXCJzaW1wbGVcIj09PW4udHlwZSlyZXR1cm4gdChvLG4uc3ltYm9sKTtpZihcInVuaXF1ZS12YWx1ZVwiPT09bi50eXBlKXtsZXQgZT1vO3JldHVybiBuLnVuaXF1ZVZhbHVlSW5mb3M/LmZvckVhY2goKG49PntlPXQoZSxuLnN5bWJvbCl9KSksZX1pZihcImNsYXNzLWJyZWFrc1wiPT09bi50eXBlKXtsZXQgZT1vO3JldHVybiBuLmNsYXNzQnJlYWtJbmZvcy5mb3JFYWNoKChuPT57ZT10KGUsbi5zeW1ib2wpfSkpLGV9cmV0dXJuXCJkb3QtZGVuc2l0eVwiPT09bi50eXBlfHxuLnR5cGUsb31leHBvcnR7cyBhcyBjYWxjdWxhdGVUb2xlcmFuY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCByIGZyb21cIi4uL3JlcXVlc3QuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuIGFzIGV9ZnJvbVwiLi4vZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlscy5qc1wiO2ltcG9ydHtwYXJzZVVybCBhcyB0LGVuY29kZSBhcyBvLGFzVmFsaWRPcHRpb25zIGFzIHN9ZnJvbVwiLi91dGlscy5qc1wiO2ltcG9ydHtpZGVudGlmeVRvSWRlbnRpZnlSRVNUUGFyYW1ldGVycyBhcyBufWZyb21cIi4vb3BlcmF0aW9ucy9pZGVudGlmeS5qc1wiO2ltcG9ydCB1IGZyb21cIi4vc3VwcG9ydC9JZGVudGlmeVBhcmFtZXRlcnMuanNcIjtpbXBvcnQgaSBmcm9tXCIuL3N1cHBvcnQvSWRlbnRpZnlSZXN1bHQuanNcIjthc3luYyBmdW5jdGlvbiBmKHUsaSxmKXtjb25zdCBjPShpPWEoaSkpLmdlb21ldHJ5P1tpLmdlb21ldHJ5XTpbXSxsPXQodSk7cmV0dXJuIGwucGF0aCs9XCIvaWRlbnRpZnlcIixlKGMpLnRoZW4oKGU9Pntjb25zdCB0PW4oaSx7Z2VvbWV0cnk6ZSYmZVswXX0pLHU9byh7Li4ubC5xdWVyeSxmOlwianNvblwiLC4uLnR9KSxhPXModSxmKTtyZXR1cm4gcihsLnBhdGgsYSkudGhlbihtKS50aGVuKChyPT5wKHIsaS5zdWJsYXllcnMpKSl9KSl9ZnVuY3Rpb24gbShyKXtjb25zdCBlPXIuZGF0YTtyZXR1cm4gZS5yZXN1bHRzPWUucmVzdWx0c3x8W10sZS5leGNlZWRlZFRyYW5zZmVyTGltaXQ9Qm9vbGVhbihlLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCksZS5yZXN1bHRzPWUucmVzdWx0cy5tYXAoKHI9PmkuZnJvbUpTT04ocikpKSxlfWZ1bmN0aW9uIGEocil7cmV0dXJuIHI9dS5mcm9tKHIpfWZ1bmN0aW9uIHAocixlKXtpZighZT8ubGVuZ3RoKXJldHVybiByO2NvbnN0IHQ9bmV3IE1hcDtmdW5jdGlvbiBvKHIpe3Quc2V0KHIuaWQsciksci5zdWJsYXllcnMmJnIuc3VibGF5ZXJzLmZvckVhY2gobyl9ZS5mb3JFYWNoKG8pO2Zvcihjb25zdCBzIG9mIHIucmVzdWx0cylzLmZlYXR1cmUuc291cmNlTGF5ZXI9dC5nZXQocy5sYXllcklkKTtyZXR1cm4gcn1leHBvcnR7ZiBhcyBpZGVudGlmeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3NxbEFuZCBhcyBlfWZyb21cIi4uLy4uL2NvcmUvc3FsLmpzXCI7aW1wb3J0e2dldEpzb25UeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7Z2V0U2NhbGUgYXMgdH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanNcIjtpbXBvcnR7Z2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZSBhcyBpfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2Zsb29yRmlsdGVyVXRpbHMuanNcIjtpbXBvcnR7aXNFeHBvcnREeW5hbWljIGFzIG59ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvc3VibGF5ZXJVdGlscy5qc1wiO2NvbnN0IHM9ZT0+ZS5zcGF0aWFsUmVmZXJlbmNlLndraWR8fEpTT04uc3RyaW5naWZ5KGUuc3BhdGlhbFJlZmVyZW5jZSk7ZnVuY3Rpb24gbChlLHQpe2NvbnN0e2RwaTppLGdkYlZlcnNpb246bixnZW9tZXRyeTpsLGdlb21ldHJ5UHJlY2lzaW9uOmEsaGVpZ2h0OmYsbGF5ZXJPcHRpb246cCxtYXBFeHRlbnQ6bSxtYXhBbGxvd2FibGVPZmZzZXQ6eSxyZXR1cm5GaWVsZE5hbWU6dSxyZXR1cm5HZW9tZXRyeTpjLHJldHVyblVuZm9ybWF0dGVkVmFsdWVzOmQscmV0dXJuWjpnLHNwYXRpYWxSZWZlcmVuY2U6eCx0aW1lRXh0ZW50OmIsdG9sZXJhbmNlOmgsd2lkdGg6RX09ZS50b0pTT04oKSx7ZHluYW1pY0xheWVyczpPLGxheWVyRGVmczpTLGxheWVySWRzOk59PW8oZSksaj10JiZudWxsIT10Lmdlb21ldHJ5P3QuZ2VvbWV0cnk6bnVsbCxKPXtnZW9tZXRyeVByZWNpc2lvbjphLG1heEFsbG93YWJsZU9mZnNldDp5LHJldHVybkZpZWxkTmFtZTp1LHJldHVybkdlb21ldHJ5OmMscmV0dXJuVW5mb3JtYXR0ZWRWYWx1ZXM6ZCxyZXR1cm5aOmcsdG9sZXJhbmNlOmh9LFI9aiYmai50b0pTT04oKXx8bDtpZihKLmltYWdlRGlzcGxheT1gJHtFfSwke2Z9LCR7aX1gLG4mJihKLmdkYlZlcnNpb249biksUiYmKGRlbGV0ZSBSLnNwYXRpYWxSZWZlcmVuY2UsSi5nZW9tZXRyeT1KU09OLnN0cmluZ2lmeShSKSxKLmdlb21ldHJ5VHlwZT1yKFIpKSx4P0ouc3I9eC53a2lkfHxKU09OLnN0cmluZ2lmeSh4KTpSJiZSLnNwYXRpYWxSZWZlcmVuY2U/Si5zcj1zKFIpOm0mJm0uc3BhdGlhbFJlZmVyZW5jZSYmKEouc3I9cyhtKSksSi50aW1lPWI/W2Iuc3RhcnQsYi5lbmRdLmpvaW4oXCIsXCIpOm51bGwsbSl7Y29uc3R7eG1pbjplLHltaW46cix4bWF4OnQseW1heDppfT1tO0oubWFwRXh0ZW50PWAke2V9LCR7cn0sJHt0fSwke2l9YH1yZXR1cm4gUyYmKEoubGF5ZXJEZWZzPVMpLE8mJiFTJiYoSi5keW5hbWljTGF5ZXJzPU8pLEoubGF5ZXJzPVwicG9wdXBcIj09PXA/XCJ2aXNpYmxlXCI6cCxOJiYhTyYmKEoubGF5ZXJzKz1gOiR7Ti5qb2luKFwiLFwiKX1gKSxKfWZ1bmN0aW9uIG8oZSl7Y29uc3R7bWFwRXh0ZW50OnIsZmxvb3JzOnMsd2lkdGg6bCxzdWJsYXllcnM6byxsYXllcklkczpmLGxheWVyT3B0aW9uOnAsZ2RiVmVyc2lvbjptfT1lLHk9bz8uZmluZCgoZT0+bnVsbCE9ZS5sYXllcikpPy5sYXllcj8uc2VydmljZVN1YmxheWVycyx1PVwicG9wdXBcIj09PXAsYz17fSxkPXQoe2V4dGVudDpyLHdpZHRoOmwsc3BhdGlhbFJlZmVyZW5jZTpyPy5zcGF0aWFsUmVmZXJlbmNlfSksZz1bXSx4PWU9Pntjb25zdCByPTA9PT1kLHQ9MD09PWUubWluU2NhbGV8fGQ8PWUubWluU2NhbGUsaT0wPT09ZS5tYXhTY2FsZXx8ZD49ZS5tYXhTY2FsZTtpZihlLnZpc2libGUmJihyfHx0JiZpKSlpZihlLnN1YmxheWVycyllLnN1YmxheWVycy5mb3JFYWNoKHgpO2Vsc2V7aWYoITE9PT1mPy5pbmNsdWRlcyhlLmlkKXx8dSYmKCFlLnBvcHVwVGVtcGxhdGV8fCFlLnBvcHVwRW5hYmxlZCkpcmV0dXJuO2cudW5zaGlmdChlKX19O2lmKG8/LmZvckVhY2goeCksbyYmIWcubGVuZ3RoKWMubGF5ZXJJZHM9W107ZWxzZXtjb25zdCBlPW4oZyx5LG0pLHI9Zy5tYXAoKGU9Pntjb25zdCByPWkocyxlKTtyZXR1cm4gZS50b0V4cG9ydEltYWdlSlNPTihyKX0pKTtpZihlKWMuZHluYW1pY0xheWVycz1KU09OLnN0cmluZ2lmeShyKTtlbHNle2lmKG8pe2xldCBlPWcubWFwKCgoe2lkOmV9KT0+ZSkpO2YmJihlPWUuZmlsdGVyKChlPT5mLmluY2x1ZGVzKGUpKSkpLGMubGF5ZXJJZHM9ZX1lbHNlIGY/Lmxlbmd0aCYmKGMubGF5ZXJJZHM9Zik7Y29uc3QgZT1hKHMsZyk7aWYobnVsbCE9ZSYmZS5sZW5ndGgpe2NvbnN0IHI9e307Zm9yKGNvbnN0IHQgb2YgZSl0LmRlZmluaXRpb25FeHByZXNzaW9uJiYoclt0LmlkXT10LmRlZmluaXRpb25FeHByZXNzaW9uKTtPYmplY3Qua2V5cyhyKS5sZW5ndGgmJihjLmxheWVyRGVmcz1KU09OLnN0cmluZ2lmeShyKSl9fX1yZXR1cm4gY31mdW5jdGlvbiBhKHIsdCl7Y29uc3Qgbj0hIXI/Lmxlbmd0aCxzPXQuZmlsdGVyKChlPT5udWxsIT1lLmRlZmluaXRpb25FeHByZXNzaW9ufHxuJiZudWxsIT1lLmZsb29ySW5mbykpO3JldHVybiBzLmxlbmd0aD9zLm1hcCgodD0+e2NvbnN0IG49aShyLHQpLHM9ZShuLHQuZGVmaW5pdGlvbkV4cHJlc3Npb24pO3JldHVybntpZDp0LmlkLGRlZmluaXRpb25FeHByZXNzaW9uOnM/P3ZvaWQgMH19KSk6bnVsbH1leHBvcnR7bCBhcyBpZGVudGlmeVRvSWRlbnRpZnlSRVNUUGFyYW1ldGVycyxvIGFzIHRvRHluYW1pY0xheWVyc0pTT059O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtnZW9tZXRyeVR5cGVzIGFzIGV9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9UaW1lRXh0ZW50LmpzXCI7aW1wb3J0e0pTT05TdXBwb3J0IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyBufWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO3ZhciBtO2xldCBhPW09Y2xhc3MgZXh0ZW5kcyBye3N0YXRpYyBmcm9tKHQpe3JldHVybiBpKG0sdCl9Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5kcGk9OTYsdGhpcy5mbG9vcnM9bnVsbCx0aGlzLmdkYlZlcnNpb249bnVsbCx0aGlzLmdlb21ldHJ5PW51bGwsdGhpcy5nZW9tZXRyeVByZWNpc2lvbj1udWxsLHRoaXMuaGVpZ2h0PTQwMCx0aGlzLmxheWVySWRzPW51bGwsdGhpcy5sYXllck9wdGlvbj1cInRvcFwiLHRoaXMubWFwRXh0ZW50PW51bGwsdGhpcy5tYXhBbGxvd2FibGVPZmZzZXQ9bnVsbCx0aGlzLnJldHVybkZpZWxkTmFtZT0hMCx0aGlzLnJldHVybkdlb21ldHJ5PSExLHRoaXMucmV0dXJuTT0hMSx0aGlzLnJldHVyblVuZm9ybWF0dGVkVmFsdWVzPSEwLHRoaXMucmV0dXJuWj0hMSx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnN1YmxheWVycz1udWxsLHRoaXMudGltZUV4dGVudD1udWxsLHRoaXMudG9sZXJhbmNlPW51bGwsdGhpcy53aWR0aD00MDB9fTt0KFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJkcGlcIix2b2lkIDApLHQoW3MoKV0sYS5wcm90b3R5cGUsXCJmbG9vcnNcIix2b2lkIDApLHQoW3Moe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcImdkYlZlcnNpb25cIix2b2lkIDApLHQoW3Moe3R5cGVzOmUsanNvbjp7cmVhZDpuLHdyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcImdlb21ldHJ5XCIsdm9pZCAwKSx0KFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJnZW9tZXRyeVByZWNpc2lvblwiLHZvaWQgMCksdChbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwiaGVpZ2h0XCIsdm9pZCAwKSx0KFtzKHt0eXBlOltOdW1iZXJdLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcImxheWVySWRzXCIsdm9pZCAwKSx0KFtzKHt0eXBlOltcInRvcFwiLFwidmlzaWJsZVwiLFwiYWxsXCIsXCJwb3B1cFwiXSxqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJsYXllck9wdGlvblwiLHZvaWQgMCksdChbcyh7dHlwZTpsLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcIm1hcEV4dGVudFwiLHZvaWQgMCksdChbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwibWF4QWxsb3dhYmxlT2Zmc2V0XCIsdm9pZCAwKSx0KFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwicmV0dXJuRmllbGROYW1lXCIsdm9pZCAwKSx0KFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwicmV0dXJuR2VvbWV0cnlcIix2b2lkIDApLHQoW3Moe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJyZXR1cm5NXCIsdm9pZCAwKSx0KFtzKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwicmV0dXJuVW5mb3JtYXR0ZWRWYWx1ZXNcIix2b2lkIDApLHQoW3Moe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0sYS5wcm90b3R5cGUsXCJyZXR1cm5aXCIsdm9pZCAwKSx0KFtzKHt0eXBlOnksanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksdChbcygpXSxhLnByb3RvdHlwZSxcInN1YmxheWVyc1wiLHZvaWQgMCksdChbcyh7dHlwZTpvLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLHQoW3Moe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxhLnByb3RvdHlwZSxcInRvbGVyYW5jZVwiLHZvaWQgMCksdChbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGEucHJvdG90eXBlLFwid2lkdGhcIix2b2lkIDApLGE9bT10KFtwKFwiZXNyaS5yZXN0LnN1cHBvcnQuSWRlbnRpZnlQYXJhbWV0ZXJzXCIpXSxhKTtjb25zdCB1PWE7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgcn1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7dHlwZUtlYmFiRGljdGlvbmFyeSBhcyBpfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHlwZVV0aWxzLmpzXCI7bGV0IHU9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHIpe3N1cGVyKHIpLHRoaXMuZGlzcGxheUZpZWxkTmFtZT1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMubGF5ZXJJZD1udWxsLHRoaXMubGF5ZXJOYW1lPW51bGx9cmVhZEZlYXR1cmUocix0KXtyZXR1cm4gZS5mcm9tSlNPTih7YXR0cmlidXRlczp7Li4udC5hdHRyaWJ1dGVzfSxnZW9tZXRyeTp7Li4udC5nZW9tZXRyeX19KX13cml0ZUZlYXR1cmUocixlKXtpZighcilyZXR1cm47Y29uc3R7YXR0cmlidXRlczp0LGdlb21ldHJ5Om99PXI7dCYmKGUuYXR0cmlidXRlcz17Li4udH0pLG51bGwhPW8mJihlLmdlb21ldHJ5PW8udG9KU09OKCksZS5nZW9tZXRyeVR5cGU9aS50b0pTT04oby50eXBlKSl9fTtyKFtvKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sdS5wcm90b3R5cGUsXCJkaXNwbGF5RmllbGROYW1lXCIsdm9pZCAwKSxyKFtvKHt0eXBlOmV9KV0sdS5wcm90b3R5cGUsXCJmZWF0dXJlXCIsdm9pZCAwKSxyKFtzKFwiZmVhdHVyZVwiLFtcImF0dHJpYnV0ZXNcIixcImdlb21ldHJ5XCJdKV0sdS5wcm90b3R5cGUsXCJyZWFkRmVhdHVyZVwiLG51bGwpLHIoW2EoXCJmZWF0dXJlXCIpXSx1LnByb3RvdHlwZSxcIndyaXRlRmVhdHVyZVwiLG51bGwpLHIoW28oe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSx1LnByb3RvdHlwZSxcImxheWVySWRcIix2b2lkIDApLHIoW28oe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSx1LnByb3RvdHlwZSxcImxheWVyTmFtZVwiLHZvaWQgMCksdT1yKFtwKFwiZXNyaS5yZXN0LnN1cHBvcnQuSWRlbnRpZnlSZXN1bHRcIildLHUpO2NvbnN0IG09dTtleHBvcnR7bSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgc31mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnQgdCBmcm9tXCIuL0Jhc2VHcmFwaGljQ29udGFpbmVyLmpzXCI7aW1wb3J0e0NsZWFyQnVmZmVyQml0IGFzIG99ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtsZXQgaT1jbGFzcyBleHRlbmRzIHR7ZG9SZW5kZXIoZSl7ZS5kcmF3UGhhc2U9PT1zLkhJR0hMSUdIVCYmc3VwZXIuZG9SZW5kZXIoZSl9cmVuZGVyQ2hpbGRyZW4oZSl7aWYodGhpcy5hdHRyaWJ1dGVWaWV3LnVwZGF0ZSgpLCF0aGlzLmNoaWxkcmVuLnNvbWUoKGU9PmUuaGFzRGF0YSkpKXJldHVybjt0aGlzLmF0dHJpYnV0ZVZpZXcuYmluZFRleHR1cmVzKGUuY29udGV4dCksc3VwZXIucmVuZGVyQ2hpbGRyZW4oZSk7Y29uc3R7cGFpbnRlcjpyfT1lLHM9ci5lZmZlY3RzLmhpZ2hsaWdodDtzLmJpbmQoZSksZS5jb250ZXh0LnNldENvbG9yTWFzayghMCwhMCwhMCwhMCksZS5jb250ZXh0LmNsZWFyKG8uQ09MT1JfQlVGRkVSX0JJVCksdGhpcy5fcmVuZGVyQ2hpbGRyZW4oZSxzLmRlZmluZXMuY29uY2F0KFtcImhpZ2hsaWdodEFsbFwiXSkpLHMuZHJhdyhlKSxzLnVuYmluZCgpfX07aT1lKFtyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuc3VwcG9ydC5IaWdobGlnaHRHcmFwaGljQ29udGFpbmVyXCIpXSxpKTtjb25zdCBuPWk7ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7Z2V0T3JDcmVhdGVNYXBWYWx1ZSBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgbCxlYWNoQWx3YXlzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgY31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBtIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydHtnZXRSZXNvbHV0aW9uRm9yU2NhbGUgYXMgZn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanNcIjtpbXBvcnR7Y29sbGVjdEZpZWxkcyBhcyBkfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZSBhcyBnfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2Zsb29yRmlsdGVyVXRpbHMuanNcIjtpbXBvcnR7Y2FsY3VsYXRlVG9sZXJhbmNlIGFzIHd9ZnJvbVwiLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvY2xpY2tUb2xlcmFuY2VVdGlscy5qc1wiO2ltcG9ydHtpZGVudGlmeSBhcyBifWZyb21cIi4uLy4uLy4uL3Jlc3QvaWRlbnRpZnkuanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvSWRlbnRpZnlQYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e2xvYWRBcmNhZGUgYXMgan1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2FyY2FkZU9uRGVtYW5kLmpzXCI7aW1wb3J0IHggZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TaW1wbGVNYXJrZXJTeW1ib2wuanNcIjtpbXBvcnR7Z2V0UmVxdWlyZWRGaWVsZHMgYXMgRixnZXRGZXRjaFBvcHVwVGVtcGxhdGUgYXMgR31mcm9tXCIuL3BvcHVwVXRpbHMuanNcIjtsZXQgUD1udWxsO2Z1bmN0aW9uIFMoZSx0KXtyZXR1cm5cInRpbGVcIj09PXQudHlwZXx8XCJtYXAtaW1hZ2VcIj09PXQudHlwZX1sZXQgVT1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fZmVhdHVyZXNSZXNvbHV0aW9ucz1uZXcgV2Vha01hcCx0aGlzLmhpZ2hsaWdodEdyYXBoaWNzPW51bGwsdGhpcy5oaWdobGlnaHRHcmFwaGljVXBkYXRlZD1udWxsLHRoaXMudXBkYXRlSGlnaGxpZ2h0ZWRGZWF0dXJlcz1sKChhc3luYyBlPT57dGhpcy5kZXN0cm95ZWR8fHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlSGlnaGxpZ2h0ZWRGZWF0dXJlc0dlb21ldHJpZXMoZSkuY2F0Y2goKCgpPT57fSkpKX0pKX1pbml0aWFsaXplKCl7Y29uc3QgZT1lPT57dGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl91cGRhdGVIaWdobGlnaHRlZEZlYXR1cmVzU3ltYm9scyhlKS5jYXRjaCgoKCk9Pnt9KSkpLHRoaXMudXBkYXRlSGlnaGxpZ2h0ZWRGZWF0dXJlcyh0aGlzLl9oaWdobGlnaHRHZW9tZXRyaWVzUmVzb2x1dGlvbil9O3RoaXMuYWRkSGFuZGxlcyhbYygoKCk9PnRoaXMuaGlnaGxpZ2h0R3JhcGhpY3MpLFwiY2hhbmdlXCIsKHQ9PmUodC5hZGRlZCkpLHtvbkxpc3RlbmVyQWRkOnQ9PmUodCl9KV0pfWFzeW5jIGZldGNoUG9wdXBGZWF0dXJlcyhlLHQpe2NvbnN0e2xheWVyVmlldzp7bGF5ZXI6cix2aWV3OntzY2FsZTpzfX19PXRoaXM7aWYoIWUpdGhyb3cgbmV3IG8oXCJmZXRjaFBvcHVwRmVhdHVyZXM6aW52YWxpZC1hcmVhXCIsXCJOb3RoaW5nIHRvIGZldGNoIHdpdGhvdXQgYXJlYVwiLHtsYXllcjpyfSk7Y29uc3QgaT1fKHIuc3VibGF5ZXJzLHMsdCk7aWYoIWkubGVuZ3RoKXJldHVybltdO2NvbnN0IGE9YXdhaXQgQShyLGkpO2lmKCEoKHIuY2FwYWJpbGl0aWVzPy5vcGVyYXRpb25zPy5zdXBwb3J0c0lkZW50aWZ5Pz8hMCkmJnIudmVyc2lvbj49MTAuNSkmJiFhKXRocm93IG5ldyBvKFwiZmV0Y2hQb3B1cEZlYXR1cmVzOm5vdC1zdXBwb3J0ZWRcIixcInF1ZXJ5IG9wZXJhdGlvbiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBzZXJ2aWNlXCIse2xheWVyOnJ9KTtyZXR1cm4gYT90aGlzLl9mZXRjaFBvcHVwRmVhdHVyZXNVc2luZ1F1ZXJpZXMoZSxpLHQpOnRoaXMuX2ZldGNoUG9wdXBGZWF0dXJlc1VzaW5nSWRlbnRpZnkoZSxpLHQpfWNsZWFySGlnaGxpZ2h0cygpe3RoaXMuaGlnaGxpZ2h0R3JhcGhpY3M/LnJlbW92ZUFsbCgpfWhpZ2hsaWdodChlKXtjb25zdCByPXRoaXMuaGlnaGxpZ2h0R3JhcGhpY3M7aWYoIXIpcmV0dXJue3JlbW92ZSgpe319O2xldCBvPW51bGw7aWYoZSBpbnN0YW5jZW9mIHQ/bz1bZV06aS5pc0NvbGxlY3Rpb24oZSkmJmUubGVuZ3RoPjA/bz1lLnRvQXJyYXkoKTpBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiYobz1lKSxvPW8/LmZpbHRlcihzKSwhb3x8IW8ubGVuZ3RoKXJldHVybiBhKCk7Zm9yKGNvbnN0IHQgb2Ygbyl7Y29uc3QgZT10LnNvdXJjZUxheWVyO251bGwhPWUmJlwiZ2VvbWV0cnlUeXBlXCJpbiBlJiZcInBvaW50XCI9PT1lLmdlb21ldHJ5VHlwZSYmKHQudmlzaWJsZT0hMSl9cmV0dXJuIHIuYWRkTWFueShvKSx7cmVtb3ZlOigpPT57ci5yZW1vdmVNYW55KG8/P1tdKX19fWFzeW5jIF91cGRhdGVIaWdobGlnaHRlZEZlYXR1cmVzU3ltYm9scyhlKXtjb25zdHtsYXllclZpZXc6e3ZpZXc6dH0saGlnaGxpZ2h0R3JhcGhpY3M6cixoaWdobGlnaHRHcmFwaGljVXBkYXRlZDpzfT10aGlzO2lmKHImJnMpZm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1pLnNvdXJjZUxheWVyJiZcInJlbmRlcmVyXCJpbiBpLnNvdXJjZUxheWVyJiZpLnNvdXJjZUxheWVyLnJlbmRlcmVyO2kuc291cmNlTGF5ZXImJlwiZ2VvbWV0cnlUeXBlXCJpbiBpLnNvdXJjZUxheWVyJiZcInBvaW50XCI9PT1pLnNvdXJjZUxheWVyLmdlb21ldHJ5VHlwZSYmZSYmXCJnZXRTeW1ib2xBc3luY1wiaW4gZSYmZS5nZXRTeW1ib2xBc3luYyhpKS50aGVuKChhc3luYyBvPT57b3x8PW5ldyB4O2xldCBhPW51bGw7Y29uc3Qgbj1cInZpc3VhbFZhcmlhYmxlc1wiaW4gZT9lLnZpc3VhbFZhcmlhYmxlcz8uZmluZCgoZT0+XCJzaXplXCI9PT1lLnR5cGUpKTp2b2lkIDA7biYmKFB8fChQPShhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9yZW5kZXJlcnMvdmlzdWFsVmFyaWFibGVzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVVdGlscy5qc1wiKSkuZ2V0U2l6ZSksYT1QKG4saSx7dmlldzp0LnR5cGUsc2NhbGU6dC5zY2FsZSxzaGFwZTpcInNpbXBsZS1tYXJrZXJcIj09PW8udHlwZT9vLnN0eWxlOm51bGx9KSksYXx8PVwid2lkdGhcImluIG8mJlwiaGVpZ2h0XCJpbiBvJiZudWxsIT1vLndpZHRoJiZudWxsIT1vLmhlaWdodD9NYXRoLm1heChvLndpZHRoLG8uaGVpZ2h0KTpcInNpemVcImluIG8/by5zaXplOjE2LHIuaW5jbHVkZXMoaSkmJihpLnN5bWJvbD1uZXcgeCh7c3R5bGU6XCJzcXVhcmVcIixzaXplOmEseG9mZnNldDpcInhvZmZzZXRcImluIG8/by54b2Zmc2V0OjAseW9mZnNldDpcInlvZmZzZXRcImluIG8/by55b2Zmc2V0OjB9KSxzKGksXCJzeW1ib2xcIiksaS52aXNpYmxlPSEwKX0pKX19YXN5bmMgX3VwZGF0ZUhpZ2hsaWdodGVkRmVhdHVyZXNHZW9tZXRyaWVzKGUpe2NvbnN0e2xheWVyVmlldzp7bGF5ZXI6dCx2aWV3OnJ9LGhpZ2hsaWdodEdyYXBoaWNzOnMsaGlnaGxpZ2h0R3JhcGhpY1VwZGF0ZWQ6aX09dGhpcztpZih0aGlzLl9oaWdobGlnaHRHZW9tZXRyaWVzUmVzb2x1dGlvbj1lLCFpfHwhcz8ubGVuZ3RofHwhdC5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c1F1ZXJ5KXJldHVybjtjb25zdCBvPXRoaXMuX2dldFRhcmdldFJlc29sdXRpb24oZSksYT1uZXcgTWFwO2Zvcihjb25zdCBjIG9mIHMpaWYoIXRoaXMuX2ZlYXR1cmVzUmVzb2x1dGlvbnMuaGFzKGMpfHx0aGlzLl9mZWF0dXJlc1Jlc29sdXRpb25zLmdldChjKT5vKXtjb25zdCBlPWMuc291cmNlTGF5ZXI7bihhLGUsKCgpPT5uZXcgTWFwKSkuc2V0KGMuZ2V0T2JqZWN0SWQoKSxjKX1jb25zdCBsPUFycmF5LmZyb20oYSwoKFtlLHRdKT0+e2NvbnN0IHM9ZS5jcmVhdGVRdWVyeSgpO3JldHVybiBzLm9iamVjdElkcz1bLi4udC5rZXlzKCldLHMub3V0RmllbGRzPVtlLm9iamVjdElkRmllbGRdLHMucmV0dXJuR2VvbWV0cnk9ITAscy5tYXhBbGxvd2FibGVPZmZzZXQ9byxzLm91dFNwYXRpYWxSZWZlcmVuY2U9ci5zcGF0aWFsUmVmZXJlbmNlLGUucXVlcnlGZWF0dXJlcyhzKX0pKSxwPWF3YWl0IFByb21pc2UuYWxsKGwpO2lmKCF0aGlzLmRlc3Ryb3llZClmb3IoY29uc3R7ZmVhdHVyZXM6bn1vZiBwKWZvcihjb25zdCBlIG9mIG4pe2NvbnN0IHQ9ZS5zb3VyY2VMYXllcixyPWEuZ2V0KHQpLmdldChlLmdldE9iamVjdElkKCkpO3ImJnMuaW5jbHVkZXMocikmJihyLmdlb21ldHJ5PWUuZ2VvbWV0cnksaShyLFwiZ2VvbWV0cnlcIiksdGhpcy5fZmVhdHVyZXNSZXNvbHV0aW9ucy5zZXQocixvKSl9fV9nZXRUYXJnZXRSZXNvbHV0aW9uKGUpe2NvbnN0IHQ9ZSp1KHRoaXMubGF5ZXJWaWV3LnZpZXcuc3BhdGlhbFJlZmVyZW5jZSkscj10LzE2O3JldHVybiByPD0xMD8wOmUvdCpyfWFzeW5jIF9mZXRjaFBvcHVwRmVhdHVyZXNVc2luZ0lkZW50aWZ5KGUsdCxyKXtjb25zdCBzPWF3YWl0IHRoaXMuX2NyZWF0ZUlkZW50aWZ5UGFyYW1ldGVycyhlLHQscik7aWYobnVsbD09cylyZXR1cm5bXTtjb25zdHtyZXN1bHRzOml9PWF3YWl0IGIodGhpcy5sYXllclZpZXcubGF5ZXIucGFyc2VkVXJsLHMpO3JldHVybiBpLm1hcCgoZT0+ZS5mZWF0dXJlKSl9YXN5bmMgX2NyZWF0ZUlkZW50aWZ5UGFyYW1ldGVycyhlLHQscil7Y29uc3R7Zmxvb3JzOnMsbGF5ZXI6aSx0aW1lRXh0ZW50Om8sdmlldzp7c3BhdGlhbFJlZmVyZW5jZTphLHNjYWxlOm59fT10aGlzLmxheWVyVmlldyxsPW51bGwhPXI/ci5ldmVudDpudWxsO2lmKCF0Lmxlbmd0aClyZXR1cm4gbnVsbDthd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoKHtzdWJsYXllcjplfSk9PmUubG9hZCgpLmNhdGNoKCgoKT0+e30pKSkpKTtjb25zdCBwPU1hdGgubWluKGhhcyhcIm1hcHNlcnZpY2UtcG9wdXAtaWRlbnRpZnktbWF4LXRvbGVyYW5jZVwiKSxpLmFsbFN1YmxheWVycy5yZWR1Y2UoKChlLHQpPT50LnJlbmRlcmVyP3coe3JlbmRlcmVyOnQucmVuZGVyZXIsZXZlbnQ6bH0pOmUpLDIpKSxjPXRoaXMuY3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnlHZW9tZXRyeShlLHApLHU9ZihuLGEpLGg9TWF0aC5yb3VuZChjLndpZHRoL3UpLHk9bmV3IG0oe3htaW46Yy5jZW50ZXIueC11KmgseW1pbjpjLmNlbnRlci55LXUqaCx4bWF4OmMuY2VudGVyLngrdSpoLHltYXg6Yy5jZW50ZXIueSt1Kmgsc3BhdGlhbFJlZmVyZW5jZTpjLnNwYXRpYWxSZWZlcmVuY2V9KTtyZXR1cm4gbmV3IHYoe2Zsb29yczpzLGdkYlZlcnNpb246XCJnZGJWZXJzaW9uXCJpbiBpP2kuZ2RiVmVyc2lvbjp2b2lkIDAsZ2VvbWV0cnk6ZSxoZWlnaHQ6aCxsYXllck9wdGlvbjpcInBvcHVwXCIsbWFwRXh0ZW50OnkscmV0dXJuR2VvbWV0cnk6ITAsc3BhdGlhbFJlZmVyZW5jZTphLHN1YmxheWVyczppLnN1YmxheWVycyx0aW1lRXh0ZW50Om8sdG9sZXJhbmNlOnAsd2lkdGg6aH0pfWFzeW5jIF9mZXRjaFBvcHVwRmVhdHVyZXNVc2luZ1F1ZXJpZXMoZSx0LHIpe2NvbnN0e2xheWVyVmlldzp7Zmxvb3JzOmksdGltZUV4dGVudDpvfX09dGhpcyxhPW51bGwhPXI/ci5ldmVudDpudWxsLG49dC5tYXAoKGFzeW5jKHtzdWJsYXllcjp0LHBvcHVwVGVtcGxhdGU6cn0pPT57aWYoYXdhaXQgdC5sb2FkKCkuY2F0Y2goKCgpPT57fSkpLHQuY2FwYWJpbGl0aWVzJiYhdC5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c1F1ZXJ5KXJldHVybltdO2NvbnN0IHM9dC5jcmVhdGVRdWVyeSgpLG49dyh7cmVuZGVyZXI6dC5yZW5kZXJlcixldmVudDphfSksbD10aGlzLmNyZWF0ZUZldGNoUG9wdXBGZWF0dXJlc1F1ZXJ5R2VvbWV0cnkoZSxuKSxwPW5ldyBTZXQsW2NdPWF3YWl0IFByb21pc2UuYWxsKFtGKHQsciksdC5yZW5kZXJlcj8uY29sbGVjdFJlcXVpcmVkRmllbGRzKHAsdC5maWVsZHNJbmRleCldKTtkKHAsdC5maWVsZHNJbmRleCxjKTtjb25zdCB1PUFycmF5LmZyb20ocCkuc29ydCgpO2lmKHMuZ2VvbWV0cnk9bCxzLm91dEZpZWxkcz11LHMudGltZUV4dGVudD1vLGkpe2NvbnN0IGU9aS5jbG9uZSgpLHI9ZyhlLHQpO251bGwhPXImJihzLndoZXJlPXMud2hlcmU/YCgke3Mud2hlcmV9KSBBTkQgKCR7cn0pYDpyKX1jb25zdCBoPXRoaXMuX2dldFRhcmdldFJlc29sdXRpb24obC53aWR0aC9uKSx5PWF3YWl0IFIociksbT1cInBvaW50XCI9PT10Lmdlb21ldHJ5VHlwZXx8eSYmeS5hcmNhZGVVdGlscy5oYXNHZW9tZXRyeU9wZXJhdGlvbnMocik7bXx8KHMubWF4QWxsb3dhYmxlT2Zmc2V0PWgpO2xldHtmZWF0dXJlczpmfT1hd2FpdCB0LnF1ZXJ5RmVhdHVyZXMocyk7Y29uc3QgYj1tPzA6aDtmPWF3YWl0IFYodCxmKTtmb3IoY29uc3QgZSBvZiBmKXRoaXMuX2ZlYXR1cmVzUmVzb2x1dGlvbnMuc2V0KGUsYik7cmV0dXJuIGZ9KSk7cmV0dXJuKGF3YWl0IHAobikpLnJldmVyc2UoKS5yZWR1Y2UoKChlLHQpPT50LnZhbHVlP1suLi5lLC4uLnQudmFsdWVdOmUpLFtdKS5maWx0ZXIocyl9fTtmdW5jdGlvbiBfKGUsdCxyKXtjb25zdCBzPVtdLGk9ZT0+e2NvbnN0IG89MD09PWUubWluU2NhbGV8fHQ8PWUubWluU2NhbGUsYT0wPT09ZS5tYXhTY2FsZXx8dD49ZS5tYXhTY2FsZTtpZihlLnZpc2libGUmJm8mJmEpaWYoZS5zdWJsYXllcnMpZS5zdWJsYXllcnMuZm9yRWFjaChpKTtlbHNlIGlmKGUucG9wdXBFbmFibGVkKXtjb25zdCB0PUcoZSx7Li4ucixkZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQ6ITF9KTtudWxsIT10JiZzLnVuc2hpZnQoe3N1YmxheWVyOmUscG9wdXBUZW1wbGF0ZTp0fSl9fTtyZXR1cm4oZT8udG9BcnJheSgpPz9bXSkucmV2ZXJzZSgpLm1hcChpKSxzfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGUuZXhwcmVzc2lvbkluZm9zPy5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSYmZS5jb250ZW50LnNvbWUoKGU9PlwiZXhwcmVzc2lvblwiPT09ZS50eXBlKSk/aigpOlByb21pc2UucmVzb2x2ZSgpfWFzeW5jIGZ1bmN0aW9uIEEoZSx0KXtpZihlLmNhcGFiaWxpdGllcz8ub3BlcmF0aW9ucz8uc3VwcG9ydHNRdWVyeSlyZXR1cm4hMDt0cnl7cmV0dXJuIGF3YWl0IFByb21pc2UuYW55KHQubWFwKCgoe3N1YmxheWVyOmV9KT0+ZS5sb2FkKCkudGhlbigoKCk9PmUuY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNRdWVyeSkpKSkpfWNhdGNoe3JldHVybiExfX1hc3luYyBmdW5jdGlvbiBWKGUsdCl7Y29uc3Qgcj1lLnJlbmRlcmVyO3JldHVybiByJiZcImRlZmF1bHRTeW1ib2xcImluIHImJiFyLmRlZmF1bHRTeW1ib2wmJih0PXIudmFsdWVFeHByZXNzaW9uP2F3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5yLmdldFN5bWJvbEFzeW5jKGUpLnRoZW4oKHQ9PnQ/ZTpudWxsKSkpKSkudGhlbigoZT0+ZS5maWx0ZXIoKGU9Pm51bGwhPWUpKSkpOnQuZmlsdGVyKChlPT5udWxsIT1yLmdldFN5bWJvbChlKSkpKSx0fWUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJjcmVhdGVGZXRjaFBvcHVwRmVhdHVyZXNRdWVyeUdlb21ldHJ5XCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFUucHJvdG90eXBlLFwibGF5ZXJWaWV3XCIsdm9pZCAwKSxlKFtoKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFUucHJvdG90eXBlLFwiaGlnaGxpZ2h0R3JhcGhpY3NcIix2b2lkIDApLGUoW2goe2NvbnN0cnVjdE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJoaWdobGlnaHRHcmFwaGljVXBkYXRlZFwiLHZvaWQgMCksZShbaCh7Y29uc3RydWN0T25seTohMH0pXSxVLnByb3RvdHlwZSxcInVwZGF0aW5nSGFuZGxlc1wiLHZvaWQgMCksVT1lKFt5KFwiZXNyaS52aWV3cy5sYXllcnMuc3VwcG9ydC5NYXBTZXJ2aWNlXCIpXSxVKTtleHBvcnR7VSBhcyBNYXBTZXJ2aWNlTGF5ZXJWaWV3SGVscGVyLF8gYXMgY29sbGVjdFBvcHVwUHJvdmlkZXJzLFMgYXMgaXNNYXBTZXJ2aWNlTGF5ZXJWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHQ9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp1fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6aSxnbG9iYWxJZEZpZWxkOnMscmVsYXRpb25zaGlwczphfT1uO2lmKHQuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz11P2F3YWl0IGUobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnQsLi4ub10pO3JldHVybiBpJiZmLnB1c2goaSksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJnMmJm4uZmllbGRzSW5kZXg/LmhhcyhzKSYmIWYuaW5jbHVkZXMocykmJmYucHVzaChzKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdChlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdCBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyBlfWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e2NhbGN1bGF0ZVRvbGVyYW5jZSBhcyB0fWZyb21cIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2NsaWNrVG9sZXJhbmNlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtmdW5jdGlvbiByKHQscixpLGE9bmV3IG4pe2xldCBvPTA7aWYoXCIyZFwiPT09aS50eXBlKW89ciooaS5yZXNvbHV0aW9uPz8wKTtlbHNlIGlmKFwiM2RcIj09PWkudHlwZSl7Y29uc3Qgbj1pLm92ZXJsYXlQaXhlbFNpemVJbk1hcFVuaXRzKHQpLGE9aS5iYXNlbWFwU3BhdGlhbFJlZmVyZW5jZTtvPW51bGw9PWF8fGEuZXF1YWxzKGkuc3BhdGlhbFJlZmVyZW5jZSk/cipuOmUoYSkvZShpLnNwYXRpYWxSZWZlcmVuY2UpfWNvbnN0IHM9dC54LW8sbD10LnktbyxtPXQueCtvLHA9dC55K28se3NwYXRpYWxSZWZlcmVuY2U6Y309aTtyZXR1cm4gYS54bWluPU1hdGgubWluKHMsbSksYS55bWluPU1hdGgubWluKGwscCksYS54bWF4PU1hdGgubWF4KHMsbSksYS55bWF4PU1hdGgubWF4KGwscCksYS5zcGF0aWFsUmVmZXJlbmNlPWMsYX1mdW5jdGlvbiBpKGUsbixpKXtjb25zdCBvPWkudG9NYXAoZSk7aWYobnVsbD09bylyZXR1cm4hMTtyZXR1cm4gcihvLHQoKSxpLGEpLmludGVyc2VjdHMobil9Y29uc3QgYT1uZXcgbjtleHBvcnR7ciBhcyBjcmVhdGVRdWVyeUdlb21ldHJ5LGkgYXMgaW50ZXJzZWN0c0RyYXBlZEdlb21ldHJ5fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==