"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_views_2d_layers_ImageryLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RasterVFContainer: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _BrushVectorField_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BrushVectorField.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/BrushVectorField.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t extends _webgl_WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this.symbolTypes=["triangle"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:"imagery (vf)",brushes:[_BrushVectorField_js__WEBPACK_IMPORTED_MODULE_0__["default"]],target:()=>this.children,drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_GraphicsCollection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../support/GraphicsCollection.js */ "./node_modules/@arcgis/core/support/GraphicsCollection.js");
/* harmony import */ var _engine_flow_FlowView2D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../engine/flow/FlowView2D.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./graphics/GraphicsView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js");
/* harmony import */ var _graphics_HighlightGraphicContainer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./graphics/HighlightGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js");
/* harmony import */ var _imagery_ImageryView2D_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./imagery/ImageryView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js");
/* harmony import */ var _imagery_VectorFieldView2D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./imagery/VectorFieldView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js");
/* harmony import */ var _layers_ImageryLayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/ImageryLayerView.js */ "./node_modules/@arcgis/core/views/layers/ImageryLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let g=class extends((0,_layers_ImageryLayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_18__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_11__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_17__["default"])))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new _support_GraphicsCollection_js__WEBPACK_IMPORTED_MODULE_9__.GraphicsCollection,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:"getPixelData"in e?e.getPixelData():null}async hitTest(e,t){return this.subview?[{type:"graphic",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_12__["default"]({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new _graphics_HighlightGraphicContainer_js__WEBPACK_IMPORTED_MODULE_13__["default"](this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.blendMode??"normal"),(e=>this.subview&&(this.subview.container.blendMode=e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.effect??null),(e=>this.subview&&(this.subview.container.effect=e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.timeExtent),(e=>{const{subview:t}=this;t&&(t.timeExtent=e,"redraw"in t?this.requestUpdate():t.redrawOrRefetch())}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync),this.layer.on("redraw",(()=>{const{subview:e}=this;e&&("redraw"in e?e.redraw():e.redrawOrRefetch())})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].isCollection(e)?e.at(0):e)instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]))return{remove:()=>{}};let s=[];return Array.isArray(e)||_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].isCollection(e)?s=e.map((e=>e.clone())):e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let t="imagery";if("vector-field"===e?t="imageryVF":"flow"===e&&(t="flow"),this.subview){const{type:e}=this.subview;if(e===t)return this._attachSubview(this.subview),void("flow"===e?this.subview.redrawOrRefetch():"imagery"===e&&"lerc"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview="imagery"===t?new _imagery_ImageryView2D_js__WEBPACK_IMPORTED_MODULE_14__["default"]({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):"imageryVF"===t?new _imagery_VectorFieldView2D_js__WEBPACK_IMPORTED_MODULE_15__["default"]({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new _engine_flow_FlowView2D_js__WEBPACK_IMPORTED_MODULE_10__["default"]({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,"pixelData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,"subview",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.ImageryLayerView2D")],g);const b=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BaseGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i=class extends _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_8__["default"]{doRender(e){e.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.WGLDrawPhase.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.ClearBufferBit.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat(["highlightAll"])),s.draw(e),s.unbind()}};i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.support.HighlightGraphicContainer")],i);const n=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _engine_imagery_RasterVFDisplayObject_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../engine/imagery/RasterVFDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._loading=null,this.update=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)(((e,t)=>this._update(e,t).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes="wind_speed"===e.style?["scalar","triangle"]:"simple_scalar"===e.style?["scalar"]:["triangle"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"]({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,l]=e.state.size;this._loading=this.fetchPixels(o,a,l,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:i,pixelBlock:s}=e,o=new _engine_imagery_RasterVFDisplayObject_js__WEBPACK_IMPORTED_MODULE_10__.RasterVFDisplayObject(s);o.offset=[0,0],o.symbolizerParameters=t,o.rawPixelData=e,o.invalidateVAO(),o.x=i.xmin,o.y=i.ymax,o.pixelRatio=r.pixelRatio,o.rotation=r.rotation,o.resolution=r.resolution,o.width=s.width*t.symbolTileSize,o.height=s.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes="wind_speed"===t.style?["scalar","triangle"]:"simple_scalar"===t.style?["scalar"]:["triangle"],this.container.addChild(o)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"fetchPixels",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"_loading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"updating",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.imagery.ImageryVFStrategy")],c);const p=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../engine/BitmapContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js");
/* harmony import */ var _engine_Container_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../engine/Container.js */ "./node_modules/@arcgis/core/views/2d/engine/Container.js");
/* harmony import */ var _engine_ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../engine/ImageryBitmapSource.js */ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js");
/* harmony import */ var _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/ExportStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(){super(...arguments),this.attached=!1,this.container=new _engine_Container_js__WEBPACK_IMPORTED_MODULE_12__.Container,this.updateRequested=!1,this.type="imagery",this._bitmapView=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__.BitmapContainer}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(t)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(t)}))}hitTest(t){return new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_14__["default"]({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(t)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_10__.mosaicPixelData)(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new _engine_ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_13__["default"](a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"attached",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"strategy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"type",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.imagery.ImageryView2D")],m);const u=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _engine_imagery_RasterVFContainer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../engine/imagery/RasterVFContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js");
/* harmony import */ var _ImageryVFStrategy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ImageryVFStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let u=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__.HandleOwner{constructor(){super(...arguments),this.attached=!1,this.container=new _engine_imagery_RasterVFContainer_js__WEBPACK_IMPORTED_MODULE_13__.RasterVFContainer,this.type="imageryVF",this._dataParameters={exportParametersVersion:0,bbox:"",symbolTileSize:0,time:""},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{symbolTileSize:a}=this.layer.renderer,{extent:o,width:n,height:l}=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.snapImageToSymbolTile)(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:o,pixelBlock:null};const c={bbox:`${o.xmin}, ${o.ymin}, ${o.xmax}, ${o.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||"")};if(this._canReuseVectorFieldData(c)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===c.bbox)return t}}const{pixelData:h}=await this.layer.fetchImage(o,n,l,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=c;const y=h?.pixelBlock;if(null==y)return{extent:o,pixelBlock:null};return{extent:o,pixelBlock:"vector-uv"===this.layer.rasterInfo.dataType?(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.convertVectorFieldData)(y,"vector-uv"):y}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new _ImageryVFStrategy_js__WEBPACK_IMPORTED_MODULE_14__["default"]({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial),"attach")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.handles.remove("attach"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams)}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return await (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_11__.projectExtent)(this.layer.fullExtent,t)}catch(e){try{const e=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(this.layer.url,{query:{option:"footprints",outSR:t.wkid||JSON.stringify(t.toJSON()),f:"json"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__["default"].fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){"vector-field"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"attached",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],u.prototype,"updating",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.imagery.VectorFieldView2D")],u);const d=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/ImageryLayerView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/ImageryLayerView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=n=>{let u=class extends n{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,t){const{layer:o}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:o});const{popupEnabled:p}=o,n=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__.getFetchPopupTemplate)(o,t);if(!p||null==n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("imagerylayerview:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:p,popupTemplate:n});const u=await n.getRequiredFields(),l=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__["default"];l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=u,l.outSpatialReference=e.spatialReference;const{resolution:m,spatialReference:c}=this.view,y="2d"===this.view.type?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"](m,m,c):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__["default"](.5*m,.5*m,c),{returnTopmostRaster:d,showNoDataRecords:h}=n.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},w={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:y,showNoDataRecords:h,signal:null!=t?t.signal:null};return o.queryVisibleRasters(l,w).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],u.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"view",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.layers.ImageryLayerView")],u),u};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19JbWFnZXJ5TGF5ZXJWaWV3MkRfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM4SCxnQkFBZ0IsOERBQUMsQ0FBQyxjQUFjLGtEQUFrRCwyQkFBMkIsU0FBUyx1QkFBdUIsOEJBQThCLDZCQUE2Qiw0REFBQyxxQ0FBcUMseURBQUMsS0FBSyxFQUFFLDBDQUEwQyxZQUFZLDRCQUE0Qix5REFBQyxvQ0FBb0MsaUNBQWlDLElBQW1DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSi9pQjtBQUNBO0FBQ0E7QUFDQTtBQUM2OUIsb0JBQW9CLHdFQUFDLENBQUMsNEVBQUMsQ0FBQyxrRUFBQyxDQUFDLDZEQUFDLEtBQUssY0FBYyw0RUFBNEUsOEVBQUMsOERBQThELGdCQUFnQixNQUFNLFVBQVUsTUFBTSx1RUFBdUUsbUJBQW1CLHNCQUFzQiwyRUFBMkUsT0FBTyxVQUFVLHdCQUF3QixTQUFTLGtHQUFrRyxvRUFBQyxFQUFFLDZHQUE2RywrRUFBQyxpQ0FBaUMsaUZBQWlGLDZEQUFDLDhGQUE4RixrRUFBQyxFQUFFLDZEQUFDLG9GQUFvRixrRUFBQyxFQUFFLDZEQUFDLDREQUE0RCxtRkFBbUYsRUFBRSx3REFBQyxFQUFFLDZEQUFDLDRCQUE0QixNQUFNLFVBQVUsTUFBTSwwRUFBMEUsRUFBRSx3REFBQywrQkFBK0IsTUFBTSxVQUFVLE1BQU0saURBQWlELEdBQUcsNkRBQUMsdURBQXVELFNBQVMscU5BQXFOLGFBQWEsY0FBYyxVQUFVLHFCQUFxQixlQUFlLDRCQUE0QiwyREFBQyxzQ0FBc0MsbURBQUMsU0FBUyxlQUFlLFNBQVMseUJBQXlCLDJEQUFDLHNEQUFzRCxtREFBQyxzREFBc0QsWUFBWSx3Q0FBd0Msa0JBQWtCLHFCQUFxQixhQUFhLDJDQUEyQyxjQUFjLHFCQUFxQixrQ0FB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UUFBUSxFQUFFLE1BQU0sZUFBZSxLQUFLLDhFQUFDLE1BQU0seUJBQXlCLHNEQUFDLHlGQUF5RiwrQkFBK0IsRUFBRSwwQ0FBMEMsOERBQUMsQ0FBQyxpR0FBaUcsTUFBTSxnQ0FBZ0MsdUNBQXVDLDBEQUFDLFlBQVksMERBQUMsZUFBZSwwQ0FBMEMsa0JBQWtCLDRDQUE0QyxJQUFJLDBHQUEwRywrQ0FBK0MsWUFBWSx1REFBdUQsT0FBTyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLENBQUMsb0dBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsOENBQW1FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL2ltYWdlcnkvUmFzdGVyVkZDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL0ltYWdlcnlMYXllclZpZXcyRC5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZ3JhcGhpY3MvSGlnaGxpZ2h0R3JhcGhpY0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvaW1hZ2VyeS9JbWFnZXJ5VkZTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvaW1hZ2VyeS9JbWFnZXJ5VmlldzJELmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9pbWFnZXJ5L1ZlY3RvckZpZWxkVmlldzJELmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9JbWFnZXJ5TGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuL0JydXNoVmVjdG9yRmllbGQuanNcIjtpbXBvcnR7V0dMRHJhd1BoYXNlIGFzIHJ9ZnJvbVwiLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi93ZWJnbC9XR0xDb250YWluZXIuanNcIjtjbGFzcyB0IGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zeW1ib2xUeXBlcz1bXCJ0cmlhbmdsZVwiXX1nZXQgcmVxdWlyZXNEZWRpY2F0ZWRGQk8oKXtyZXR1cm4hMX1wcmVwYXJlUmVuZGVyUGFzc2VzKHMpe2NvbnN0IHQ9cy5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJpbWFnZXJ5ICh2ZilcIixicnVzaGVzOltlXSx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW4sZHJhd1BoYXNlOnIuTUFQfSk7cmV0dXJuWy4uLnN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMocyksdF19ZG9SZW5kZXIoZSl7dGhpcy52aXNpYmxlJiZlLmRyYXdQaGFzZT09PXIuTUFQJiZ0aGlzLnN5bWJvbFR5cGVzLmZvckVhY2goKHI9PntlLnJlbmRlclBhc3M9cixzdXBlci5kb1JlbmRlcihlKX0pKX19ZXhwb3J0e3QgYXMgUmFzdGVyVkZDb250YWluZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7d2F0Y2ggYXMgcixzeW5jQW5kSW5pdGlhbCBhcyBzLHN5bmMgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtHcmFwaGljc0NvbGxlY3Rpb24gYXMgbn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L0dyYXBoaWNzQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBsIGZyb21cIi4uL2VuZ2luZS9mbG93L0Zsb3dWaWV3MkQuanNcIjtpbXBvcnR7TGF5ZXJWaWV3MkRNaXhpbiBhcyBjfWZyb21cIi4vTGF5ZXJWaWV3MkQuanNcIjtpbXBvcnQgdyBmcm9tXCIuL2dyYXBoaWNzL0dyYXBoaWNzVmlldzJELmpzXCI7aW1wb3J0IHAgZnJvbVwiLi9ncmFwaGljcy9IaWdobGlnaHRHcmFwaGljQ29udGFpbmVyLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi9pbWFnZXJ5L0ltYWdlcnlWaWV3MkQuanNcIjtpbXBvcnQgZCBmcm9tXCIuL2ltYWdlcnkvVmVjdG9yRmllbGRWaWV3MkQuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi9sYXllcnMvSW1hZ2VyeUxheWVyVmlldy5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanNcIjtsZXQgZz1jbGFzcyBleHRlbmRzKG0odihjKHkpKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9leHBvcnRJbWFnZVZlcnNpb249LTEsdGhpcy5faGlnaGxpZ2h0R3JhcGhpY3M9bmV3IG4sdGhpcy5faGlnaGxpZ2h0Vmlldz12b2lkIDAsdGhpcy5sYXllcj1udWxsLHRoaXMuc3Vidmlldz1udWxsfWdldCBwaXhlbERhdGEoKXtjb25zdHtzdWJ2aWV3OmV9PXRoaXM7cmV0dXJuIHRoaXMudXBkYXRpbmd8fCFlP251bGw6XCJnZXRQaXhlbERhdGFcImluIGU/ZS5nZXRQaXhlbERhdGEoKTpudWxsfWFzeW5jIGhpdFRlc3QoZSx0KXtyZXR1cm4gdGhpcy5zdWJ2aWV3P1t7dHlwZTpcImdyYXBoaWNcIixncmFwaGljOnRoaXMuc3Vidmlldy5oaXRUZXN0KGUpLGxheWVyOnRoaXMubGF5ZXIsbWFwUG9pbnQ6ZX1dOm51bGx9dXBkYXRlKGUpe3RoaXMuc3Vidmlldz8udXBkYXRlKGUpfWF0dGFjaCgpe3RoaXMubGF5ZXIuaW5jcmVhc2VSYXN0ZXJKb2JIYW5kbGVyVXNhZ2UoKSx0aGlzLl9zZXRTdWJWaWV3KCksdGhpcy52aWV3JiYodGhpcy5faGlnaGxpZ2h0Vmlldz1uZXcgdyh7dmlldzp0aGlzLnZpZXcsZ3JhcGhpY3M6dGhpcy5faGlnaGxpZ2h0R3JhcGhpY3MscmVxdWVzdFVwZGF0ZUNhbGxiYWNrOigpPT50aGlzLnJlcXVlc3RVcGRhdGUoKSxjb250YWluZXI6bmV3IHAodGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lKX0pLHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2hpZ2hsaWdodFZpZXcuY29udGFpbmVyKSksdGhpcy5hZGRBdHRhY2hIYW5kbGVzKFtyKCgoKT0+dGhpcy5sYXllci5ibGVuZE1vZGU/P1wibm9ybWFsXCIpLChlPT50aGlzLnN1YnZpZXcmJih0aGlzLnN1YnZpZXcuY29udGFpbmVyLmJsZW5kTW9kZT1lKSkscykscigoKCk9PnRoaXMubGF5ZXIuZWZmZWN0Pz9udWxsKSwoZT0+dGhpcy5zdWJ2aWV3JiYodGhpcy5zdWJ2aWV3LmNvbnRhaW5lci5lZmZlY3Q9ZSkpLHMpLHIoKCgpPT50aGlzLmxheWVyLmV4cG9ydEltYWdlU2VydmljZVBhcmFtZXRlcnMudmVyc2lvbiksKGU9PntlJiZ0aGlzLl9leHBvcnRJbWFnZVZlcnNpb24hPT1lJiYodGhpcy5fZXhwb3J0SW1hZ2VWZXJzaW9uPWUsdGhpcy5yZXF1ZXN0VXBkYXRlKCkpfSksYSkscigoKCk9PnRoaXMudGltZUV4dGVudCksKGU9Pntjb25zdHtzdWJ2aWV3OnR9PXRoaXM7dCYmKHQudGltZUV4dGVudD1lLFwicmVkcmF3XCJpbiB0P3RoaXMucmVxdWVzdFVwZGF0ZSgpOnQucmVkcmF3T3JSZWZldGNoKCkpfSksYSksdGhpcy5sYXllci5vbihcInJlZHJhd1wiLCgoKT0+e2NvbnN0e3N1YnZpZXc6ZX09dGhpcztlJiYoXCJyZWRyYXdcImluIGU/ZS5yZWRyYXcoKTplLnJlZHJhd09yUmVmZXRjaCgpKX0pKSxyKCgoKT0+dGhpcy5sYXllci5yZW5kZXJlciksKCgpPT50aGlzLl9zZXRTdWJWaWV3KCkpKV0pfWRldGFjaCgpe3RoaXMubGF5ZXIuZGVjcmVhc2VSYXN0ZXJKb2JIYW5kbGVyVXNhZ2UoKSx0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMuX2RldGFjaFN1YnZpZXcodGhpcy5zdWJ2aWV3KSx0aGlzLnN1YnZpZXc/LmRlc3Ryb3koKSx0aGlzLnN1YnZpZXc9bnVsbCx0aGlzLl9oaWdobGlnaHRWaWV3Py5kZXN0cm95KCksdGhpcy5fZXhwb3J0SW1hZ2VWZXJzaW9uPS0xfW1vdmVTdGFydCgpe312aWV3Q2hhbmdlKCl7fW1vdmVFbmQoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1oaWdobGlnaHQoZSxyKXtpZighKChBcnJheS5pc0FycmF5KGUpP2VbMF06aS5pc0NvbGxlY3Rpb24oZSk/ZS5hdCgwKTplKWluc3RhbmNlb2YgdCkpcmV0dXJue3JlbW92ZTooKT0+e319O2xldCBzPVtdO3JldHVybiBBcnJheS5pc0FycmF5KGUpfHxpLmlzQ29sbGVjdGlvbihlKT9zPWUubWFwKChlPT5lLmNsb25lKCkpKTplIGluc3RhbmNlb2YgdCYmKHM9W2UuY2xvbmUoKV0pLHRoaXMuX2hpZ2hsaWdodEdyYXBoaWNzLmFkZE1hbnkocykse3JlbW92ZTooKT0+e3RoaXMuX2hpZ2hsaWdodEdyYXBoaWNzLnJlbW92ZU1hbnkocyl9fX1hc3luYyBkb1JlZnJlc2goKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7cmV0dXJuIXRoaXMuc3Vidmlld3x8dGhpcy5zdWJ2aWV3LnVwZGF0aW5nfV9zZXRTdWJWaWV3KCl7aWYoIXRoaXMudmlldylyZXR1cm47Y29uc3QgZT10aGlzLmxheWVyLnJlbmRlcmVyPy50eXBlO2xldCB0PVwiaW1hZ2VyeVwiO2lmKFwidmVjdG9yLWZpZWxkXCI9PT1lP3Q9XCJpbWFnZXJ5VkZcIjpcImZsb3dcIj09PWUmJih0PVwiZmxvd1wiKSx0aGlzLnN1YnZpZXcpe2NvbnN0e3R5cGU6ZX09dGhpcy5zdWJ2aWV3O2lmKGU9PT10KXJldHVybiB0aGlzLl9hdHRhY2hTdWJ2aWV3KHRoaXMuc3Vidmlldyksdm9pZChcImZsb3dcIj09PWU/dGhpcy5zdWJ2aWV3LnJlZHJhd09yUmVmZXRjaCgpOlwiaW1hZ2VyeVwiPT09ZSYmXCJsZXJjXCI9PT10aGlzLmxheWVyLmZvcm1hdD90aGlzLnN1YnZpZXcucmVkcmF3KCk6dGhpcy5yZXF1ZXN0VXBkYXRlKCkpO3RoaXMuX2RldGFjaFN1YnZpZXcodGhpcy5zdWJ2aWV3KSx0aGlzLnN1YnZpZXc/LmRlc3Ryb3koKX10aGlzLnN1YnZpZXc9XCJpbWFnZXJ5XCI9PT10P25ldyB1KHtsYXllcjp0aGlzLmxheWVyLHZpZXc6dGhpcy52aWV3LHRpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50fSk6XCJpbWFnZXJ5VkZcIj09PXQ/bmV3IGQoe2xheWVyOnRoaXMubGF5ZXIsdmlldzp0aGlzLnZpZXcsdGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnR9KTpuZXcgbCh7bGF5ZXI6dGhpcy5sYXllcixsYXllclZpZXc6dGhpc30pLHRoaXMuX2F0dGFjaFN1YnZpZXcodGhpcy5zdWJ2aWV3KSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1fYXR0YWNoU3VidmlldyhlKXtlJiYhZS5hdHRhY2hlZCYmKGUuYXR0YWNoKCksZS5hdHRhY2hlZD0hMCx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZEF0KGUuY29udGFpbmVyLDApLGUuY29udGFpbmVyLmJsZW5kTW9kZT10aGlzLmxheWVyLmJsZW5kTW9kZSxlLmNvbnRhaW5lci5lZmZlY3Q9dGhpcy5sYXllci5lZmZlY3QpfV9kZXRhY2hTdWJ2aWV3KGUpe2U/LmF0dGFjaGVkJiYodGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQoZS5jb250YWluZXIpLGUuZGV0YWNoKCksZS5hdHRhY2hlZD0hMSl9fTtlKFtoKCldLGcucHJvdG90eXBlLFwicGl4ZWxEYXRhXCIsbnVsbCksZShbaCgpXSxnLnByb3RvdHlwZSxcInN1YnZpZXdcIix2b2lkIDApLGc9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLkltYWdlcnlMYXllclZpZXcyRFwiKV0sZyk7Y29uc3QgYj1nO2V4cG9ydHtiIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1dHTERyYXdQaGFzZSBhcyBzfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vQmFzZUdyYXBoaWNDb250YWluZXIuanNcIjtpbXBvcnR7Q2xlYXJCdWZmZXJCaXQgYXMgb31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2xldCBpPWNsYXNzIGV4dGVuZHMgdHtkb1JlbmRlcihlKXtlLmRyYXdQaGFzZT09PXMuSElHSExJR0hUJiZzdXBlci5kb1JlbmRlcihlKX1yZW5kZXJDaGlsZHJlbihlKXtpZih0aGlzLmF0dHJpYnV0ZVZpZXcudXBkYXRlKCksIXRoaXMuY2hpbGRyZW4uc29tZSgoZT0+ZS5oYXNEYXRhKSkpcmV0dXJuO3RoaXMuYXR0cmlidXRlVmlldy5iaW5kVGV4dHVyZXMoZS5jb250ZXh0KSxzdXBlci5yZW5kZXJDaGlsZHJlbihlKTtjb25zdHtwYWludGVyOnJ9PWUscz1yLmVmZmVjdHMuaGlnaGxpZ2h0O3MuYmluZChlKSxlLmNvbnRleHQuc2V0Q29sb3JNYXNrKCEwLCEwLCEwLCEwKSxlLmNvbnRleHQuY2xlYXIoby5DT0xPUl9CVUZGRVJfQklUKSx0aGlzLl9yZW5kZXJDaGlsZHJlbihlLHMuZGVmaW5lcy5jb25jYXQoW1wiaGlnaGxpZ2h0QWxsXCJdKSkscy5kcmF3KGUpLHMudW5iaW5kKCl9fTtpPWUoW3IoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5zdXBwb3J0LkhpZ2hsaWdodEdyYXBoaWNDb250YWluZXJcIildLGkpO2NvbnN0IG49aTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgaSxpc0Fib3J0RXJyb3IgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e1Jhc3RlclZGRGlzcGxheU9iamVjdCBhcyBsfWZyb21cIi4uLy4uL2VuZ2luZS9pbWFnZXJ5L1Jhc3RlclZGRGlzcGxheU9iamVjdC5qc1wiO2xldCBjPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9sb2FkaW5nPW51bGwsdGhpcy51cGRhdGU9aSgoKGUsdCk9PnRoaXMuX3VwZGF0ZShlLHQpLmNhdGNoKChlPT57cyhlKXx8ci5nZXRMb2dnZXIodGhpcykuZXJyb3IoZSl9KSkpKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hIXRoaXMuX2xvYWRpbmd9cmVkcmF3KGUpe2lmKCF0aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jb250YWluZXIuY2hpbGRyZW5bMF07dC5zeW1ib2xpemVyUGFyYW1ldGVycz1lLHQuaW52YWxpZGF0ZVZBTygpLHRoaXMuY29udGFpbmVyLnN5bWJvbFR5cGVzPVwid2luZF9zcGVlZFwiPT09ZS5zdHlsZT9bXCJzY2FsYXJcIixcInRyaWFuZ2xlXCJdOlwic2ltcGxlX3NjYWxhclwiPT09ZS5zdHlsZT9bXCJzY2FsYXJcIl06W1widHJpYW5nbGVcIl0sdGhpcy5jb250YWluZXIucmVxdWVzdFJlbmRlcigpfWFzeW5jIF91cGRhdGUoZSx0LHIpe2lmKCFlLnN0YXRpb25hcnkpcmV0dXJuO2NvbnN0e2V4dGVudDppLHNwYXRpYWxSZWZlcmVuY2U6c309ZS5zdGF0ZSxvPW5ldyBuKHt4bWluOmkueG1pbix5bWluOmkueW1pbix4bWF4OmkueG1heCx5bWF4OmkueW1heCxzcGF0aWFsUmVmZXJlbmNlOnN9KSxbYSxsXT1lLnN0YXRlLnNpemU7dGhpcy5fbG9hZGluZz10aGlzLmZldGNoUGl4ZWxzKG8sYSxsLHIpO2NvbnN0IGM9YXdhaXQgdGhpcy5fbG9hZGluZzt0aGlzLl9hZGRUb0Rpc3BsYXkoYyx0LGUuc3RhdGUpLHRoaXMuX2xvYWRpbmc9bnVsbH1fYWRkVG9EaXNwbGF5KGUsdCxyKXtpZihudWxsPT1lLnBpeGVsQmxvY2spcmV0dXJuIHRoaXMuY29udGFpbmVyLmNoaWxkcmVuLmZvckVhY2goKGU9PmUuZGVzdHJveSgpKSksdm9pZCB0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpO2NvbnN0e2V4dGVudDppLHBpeGVsQmxvY2s6c309ZSxvPW5ldyBsKHMpO28ub2Zmc2V0PVswLDBdLG8uc3ltYm9saXplclBhcmFtZXRlcnM9dCxvLnJhd1BpeGVsRGF0YT1lLG8uaW52YWxpZGF0ZVZBTygpLG8ueD1pLnhtaW4sby55PWkueW1heCxvLnBpeGVsUmF0aW89ci5waXhlbFJhdGlvLG8ucm90YXRpb249ci5yb3RhdGlvbixvLnJlc29sdXRpb249ci5yZXNvbHV0aW9uLG8ud2lkdGg9cy53aWR0aCp0LnN5bWJvbFRpbGVTaXplLG8uaGVpZ2h0PXMuaGVpZ2h0KnQuc3ltYm9sVGlsZVNpemUsdGhpcy5jb250YWluZXIuY2hpbGRyZW4uZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMuY29udGFpbmVyLnN5bWJvbFR5cGVzPVwid2luZF9zcGVlZFwiPT09dC5zdHlsZT9bXCJzY2FsYXJcIixcInRyaWFuZ2xlXCJdOlwic2ltcGxlX3NjYWxhclwiPT09dC5zdHlsZT9bXCJzY2FsYXJcIl06W1widHJpYW5nbGVcIl0sdGhpcy5jb250YWluZXIuYWRkQ2hpbGQobyl9fTtlKFtvKCldLGMucHJvdG90eXBlLFwiZmV0Y2hQaXhlbHNcIix2b2lkIDApLGUoW28oKV0sYy5wcm90b3R5cGUsXCJjb250YWluZXJcIix2b2lkIDApLGUoW28oKV0sYy5wcm90b3R5cGUsXCJfbG9hZGluZ1wiLHZvaWQgMCksZShbbygpXSxjLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksYz1lKFthKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuaW1hZ2VyeS5JbWFnZXJ5VkZTdHJhdGVneVwiKV0sYyk7Y29uc3QgcD1jO2V4cG9ydHtwIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHttb3NhaWNQaXhlbERhdGEgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydHtCaXRtYXBDb250YWluZXIgYXMgbn1mcm9tXCIuLi8uLi9lbmdpbmUvQml0bWFwQ29udGFpbmVyLmpzXCI7aW1wb3J0e0NvbnRhaW5lciBhcyBsfWZyb21cIi4uLy4uL2VuZ2luZS9Db250YWluZXIuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9lbmdpbmUvSW1hZ2VyeUJpdG1hcFNvdXJjZS5qc1wiO2ltcG9ydCBoIGZyb21cIi4uL3N1cHBvcnQvRXhwb3J0U3RyYXRlZ3kuanNcIjtsZXQgbT1jbGFzcyBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYXR0YWNoZWQ9ITEsdGhpcy5jb250YWluZXI9bmV3IGwsdGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy50eXBlPVwiaW1hZ2VyeVwiLHRoaXMuX2JpdG1hcFZpZXc9bmV3IG59ZGVzdHJveSgpe3RoaXMuYXR0YWNoZWQmJih0aGlzLmRldGFjaCgpLHRoaXMuYXR0YWNoZWQ9ITEpLHRoaXMudXBkYXRlUmVxdWVzdGVkPSExfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLmF0dGFjaGVkfHx0aGlzLmlzVXBkYXRpbmcoKX11cGRhdGUodCl7dGhpcy5zdHJhdGVneS51cGRhdGUodCkuY2F0Y2goKHQ9PntzKHQpfHxyLmdldExvZ2dlcih0aGlzKS5lcnJvcih0KX0pKX1oaXRUZXN0KHQpe3JldHVybiBuZXcgZSh7YXR0cmlidXRlczp7fSxnZW9tZXRyeTp0LmNsb25lKCksbGF5ZXI6dGhpcy5sYXllcn0pfWF0dGFjaCgpe3RoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX2JpdG1hcFZpZXcpO2NvbnN0IHQ9dGhpcy5sYXllci52ZXJzaW9uPj0xMCxlPXRoaXMubGF5ZXIudmVyc2lvbj49MTAuMT90aGlzLmxheWVyLmltYWdlTWF4SGVpZ2h0OjIwNDgsaT10aGlzLmxheWVyLnZlcnNpb24+PTEwLjE/dGhpcy5sYXllci5pbWFnZU1heFdpZHRoOjIwNDg7dGhpcy5zdHJhdGVneT1uZXcgaCh7Y29udGFpbmVyOnRoaXMuX2JpdG1hcFZpZXcsaW1hZ2VOb3JtYWxpemF0aW9uU3VwcG9ydGVkOnQsaW1hZ2VNYXhIZWlnaHQ6ZSxpbWFnZU1heFdpZHRoOmksZmV0Y2hTb3VyY2U6dGhpcy5fZmV0Y2hJbWFnZS5iaW5kKHRoaXMpLHJlcXVlc3RVcGRhdGU6KCk9PnRoaXMucmVxdWVzdFVwZGF0ZSgpfSl9ZGV0YWNoKCl7dGhpcy5zdHJhdGVneS5kZXN0cm95KCksdGhpcy5fYml0bWFwVmlldy5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITF9cmVkcmF3KCl7dGhpcy5zdHJhdGVneS51cGRhdGVFeHBvcnRzKChhc3luYyB0PT57Y29uc3R7c291cmNlOmV9PXQ7aWYoIWV8fGUgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcClyZXR1cm47Y29uc3QgaT1hd2FpdCB0aGlzLmxheWVyLmFwcGx5UmVuZGVyZXIoe2V4dGVudDplLmV4dGVudCxwaXhlbEJsb2NrOmUub3JpZ2luYWxQaXhlbEJsb2NrPz9lLnBpeGVsQmxvY2t9KTtlLmZpbHRlcj10PT50aGlzLmxheWVyLnBpeGVsRmlsdGVyP3RoaXMubGF5ZXIuYXBwbHlGaWx0ZXIodCk6ey4uLmksZXh0ZW50OmUuZXh0ZW50fX0pKS5jYXRjaCgodD0+e3ModCl8fHIuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHQpfSkpfXJlcXVlc3RVcGRhdGUoKXt0aGlzLnVwZGF0ZVJlcXVlc3RlZHx8KHRoaXMudXBkYXRlUmVxdWVzdGVkPSEwLHRoaXMudmlldy5yZXF1ZXN0VXBkYXRlKCkpfWlzVXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5zdHJhdGVneS51cGRhdGluZ3x8dGhpcy51cGRhdGVSZXF1ZXN0ZWR9Z2V0UGl4ZWxEYXRhKCl7aWYodGhpcy51cGRhdGluZylyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuc3RyYXRlZ3kuYml0bWFwcztpZigxPT09dC5sZW5ndGgmJnRbMF0uc291cmNlKXJldHVybntleHRlbnQ6dFswXS5zb3VyY2UuZXh0ZW50LHBpeGVsQmxvY2s6dFswXS5zb3VyY2Uub3JpZ2luYWxQaXhlbEJsb2NrfTtpZih0Lmxlbmd0aD4xKXtjb25zdCBlPXRoaXMudmlldy5leHRlbnQsaT10Lm1hcCgodD0+dC5zb3VyY2UpKS5maWx0ZXIoKHQ9PnQuZXh0ZW50JiZ0LmV4dGVudC5pbnRlcnNlY3RzKGUpKSkubWFwKCh0PT4oe2V4dGVudDp0LmV4dGVudCxwaXhlbEJsb2NrOnQub3JpZ2luYWxQaXhlbEJsb2NrfSkpKSxyPXAoaSxlKTtyZXR1cm4gbnVsbCE9cj97ZXh0ZW50OnIuZXh0ZW50LHBpeGVsQmxvY2s6ci5waXhlbEJsb2NrfTpudWxsfXJldHVybiBudWxsfWFzeW5jIF9mZXRjaEltYWdlKHQsZSxpLHIpeyhyPXJ8fHt9KS50aW1lRXh0ZW50PXRoaXMudGltZUV4dGVudCxyLnJlcXVlc3RBc0ltYWdlRWxlbWVudD0hMCxyLnJldHVybkltYWdlQml0bWFwPSEwO2NvbnN0IHM9YXdhaXQgdGhpcy5sYXllci5mZXRjaEltYWdlKHQsZSxpLHIpO2lmKHMuaW1hZ2VCaXRtYXApcmV0dXJuIHMuaW1hZ2VCaXRtYXA7Y29uc3QgYT1hd2FpdCB0aGlzLmxheWVyLmFwcGx5UmVuZGVyZXIocy5waXhlbERhdGEse3NpZ25hbDpyLnNpZ25hbH0pLG89bmV3IGMoYS5waXhlbEJsb2NrLGEuZXh0ZW50Py5jbG9uZSgpLHMucGl4ZWxEYXRhLnBpeGVsQmxvY2spO3JldHVybiBvLmZpbHRlcj10PT50aGlzLmxheWVyLmFwcGx5RmlsdGVyKHQpLG99fTt0KFthKCldLG0ucHJvdG90eXBlLFwiYXR0YWNoZWRcIix2b2lkIDApLHQoW2EoKV0sbS5wcm90b3R5cGUsXCJjb250YWluZXJcIix2b2lkIDApLHQoW2EoKV0sbS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksdChbYSgpXSxtLnByb3RvdHlwZSxcInN0cmF0ZWd5XCIsdm9pZCAwKSx0KFthKCldLG0ucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksdChbYSgpXSxtLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLHQoW2EoKV0sbS5wcm90b3R5cGUsXCJ1cGRhdGVSZXF1ZXN0ZWRcIix2b2lkIDApLHQoW2EoKV0sbS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHQoW2EoKV0sbS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxtPXQoW28oXCJlc3JpLnZpZXdzLjJkLmxheWVycy5pbWFnZXJ5LkltYWdlcnlWaWV3MkRcIildLG0pO2NvbnN0IHU9bTtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtIYW5kbGVPd25lciBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvSGFuZGxlT3duZXIuanNcIjtpbXBvcnR7d2F0Y2ggYXMgcyxzeW5jQW5kSW5pdGlhbCBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e3Byb2plY3RFeHRlbnQgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtzbmFwSW1hZ2VUb1N5bWJvbFRpbGUgYXMgbSxjb252ZXJ0VmVjdG9yRmllbGREYXRhIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3ZlY3RvckZpZWxkVXRpbHMuanNcIjtpbXBvcnR7UmFzdGVyVkZDb250YWluZXIgYXMgaH1mcm9tXCIuLi8uLi9lbmdpbmUvaW1hZ2VyeS9SYXN0ZXJWRkNvbnRhaW5lci5qc1wiO2ltcG9ydCB5IGZyb21cIi4vSW1hZ2VyeVZGU3RyYXRlZ3kuanNcIjtsZXQgdT1jbGFzcyBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYXR0YWNoZWQ9ITEsdGhpcy5jb250YWluZXI9bmV3IGgsdGhpcy50eXBlPVwiaW1hZ2VyeVZGXCIsdGhpcy5fZGF0YVBhcmFtZXRlcnM9e2V4cG9ydFBhcmFtZXRlcnNWZXJzaW9uOjAsYmJveDpcIlwiLHN5bWJvbFRpbGVTaXplOjAsdGltZTpcIlwifSx0aGlzLl9mZXRjaHBpeGVscz1hc3luYyh0LGUscixpKT0+e2NvbnN0IHM9YXdhaXQgdGhpcy5fcHJvamVjdEZ1bGxFeHRlbnRQcm9taXNlLHtzeW1ib2xUaWxlU2l6ZTphfT10aGlzLmxheWVyLnJlbmRlcmVyLHtleHRlbnQ6byx3aWR0aDpuLGhlaWdodDpsfT1tKHQsZSxyLGEscyk7aWYobnVsbCE9cyYmIXMuaW50ZXJzZWN0cyh0KSlyZXR1cm57ZXh0ZW50Om8scGl4ZWxCbG9jazpudWxsfTtjb25zdCBjPXtiYm94OmAke28ueG1pbn0sICR7by55bWlufSwgJHtvLnhtYXh9LCAke28ueW1heH1gLGV4cG9ydFBhcmFtZXRlcnNWZXJzaW9uOnRoaXMubGF5ZXIuZXhwb3J0SW1hZ2VTZXJ2aWNlUGFyYW1ldGVycy52ZXJzaW9uLHN5bWJvbFRpbGVTaXplOmEsdGltZTpKU09OLnN0cmluZ2lmeSh0aGlzLnRpbWVFeHRlbnR8fFwiXCIpfTtpZih0aGlzLl9jYW5SZXVzZVZlY3RvckZpZWxkRGF0YShjKSl7Y29uc3QgdD10aGlzLmdldFBpeGVsRGF0YSgpO2lmKG51bGwhPXQpe2lmKGAke3QuZXh0ZW50LnhtaW59LCAke3QuZXh0ZW50LnltaW59LCAke3QuZXh0ZW50LnhtYXh9LCAke3QuZXh0ZW50LnltYXh9YD09PWMuYmJveClyZXR1cm4gdH19Y29uc3R7cGl4ZWxEYXRhOmh9PWF3YWl0IHRoaXMubGF5ZXIuZmV0Y2hJbWFnZShvLG4sbCx7dGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnQscmVxdWVzdEFzSW1hZ2VFbGVtZW50OiExLHNpZ25hbDppfSk7dGhpcy5fZGF0YVBhcmFtZXRlcnM9Yztjb25zdCB5PWg/LnBpeGVsQmxvY2s7aWYobnVsbD09eSlyZXR1cm57ZXh0ZW50Om8scGl4ZWxCbG9jazpudWxsfTtyZXR1cm57ZXh0ZW50Om8scGl4ZWxCbG9jazpcInZlY3Rvci11dlwiPT09dGhpcy5sYXllci5yYXN0ZXJJbmZvLmRhdGFUeXBlP3AoeSxcInZlY3Rvci11dlwiKTp5fX19Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIXRoaXMuYXR0YWNoZWR8fHRoaXMuX3N0cmF0ZWd5LnVwZGF0aW5nfWF0dGFjaCgpe3RoaXMuX3Byb2plY3RGdWxsRXh0ZW50UHJvbWlzZT10aGlzLl9nZXRQcm9qZWN0ZWRGdWxsRXh0ZW50KHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKSx0aGlzLl9zdHJhdGVneT1uZXcgeSh7Y29udGFpbmVyOnRoaXMuY29udGFpbmVyLGZldGNoUGl4ZWxzOnRoaXMuX2ZldGNocGl4ZWxzfSksdGhpcy5oYW5kbGVzLmFkZChzKCgoKT0+dGhpcy5sYXllci5yZW5kZXJlciksKHQ9PnRoaXMuX3VwZGF0ZVN5bWJvbGl6ZXJQYXJhbXModCkpLGEpLFwiYXR0YWNoXCIpfWRldGFjaCgpe3RoaXMuX3N0cmF0ZWd5LmRlc3Ryb3koKSx0aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5mb3JFYWNoKCh0PT50LmRlc3Ryb3koKSkpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy5oYW5kbGVzLnJlbW92ZShcImF0dGFjaFwiKSx0aGlzLl9zdHJhdGVneT10aGlzLmNvbnRhaW5lcj10aGlzLl9wcm9qZWN0RnVsbEV4dGVudFByb21pc2U9bnVsbH1nZXRQaXhlbERhdGEoKXtjb25zdCB0PXRoaXMuY29udGFpbmVyLmNoaWxkcmVuWzBdPy5yYXdQaXhlbERhdGE7aWYodGhpcy51cGRhdGluZ3x8IXQpcmV0dXJuIG51bGw7Y29uc3R7ZXh0ZW50OmUscGl4ZWxCbG9jazpyfT10O3JldHVybntleHRlbnQ6ZSxwaXhlbEJsb2NrOnJ9fWhpdFRlc3QodCl7cmV0dXJuIG5ldyBlKHthdHRyaWJ1dGVzOnt9LGdlb21ldHJ5OnQuY2xvbmUoKSxsYXllcjp0aGlzLmxheWVyfSl9dXBkYXRlKHQpe3RoaXMuX3N0cmF0ZWd5LnVwZGF0ZSh0LHRoaXMuX3N5bWJvbGl6ZXJQYXJhbXMpfXJlZHJhdygpe2NvbnN0e3JlbmRlcmVyOnR9PXRoaXMubGF5ZXI7dCYmKHRoaXMuX3VwZGF0ZVN5bWJvbGl6ZXJQYXJhbXModCksdGhpcy5fc3RyYXRlZ3kucmVkcmF3KHRoaXMuX3N5bWJvbGl6ZXJQYXJhbXMpKX1fY2FuUmV1c2VWZWN0b3JGaWVsZERhdGEodCl7Y29uc3QgZT10aGlzLl9kYXRhUGFyYW1ldGVycy5leHBvcnRQYXJhbWV0ZXJzVmVyc2lvbj09PXQuZXhwb3J0UGFyYW1ldGVyc1ZlcnNpb24scj10aGlzLl9kYXRhUGFyYW1ldGVycy50aW1lPT09dC50aW1lLGk9dGhpcy5fZGF0YVBhcmFtZXRlcnMuc3ltYm9sVGlsZVNpemU9PT10LnN5bWJvbFRpbGVTaXplLHM9dGhpcy5fZGF0YVBhcmFtZXRlcnMuYmJveD09PXQuYmJveDtyZXR1cm4gZSYmciYmaSYmc31hc3luYyBfZ2V0UHJvamVjdGVkRnVsbEV4dGVudCh0KXt0cnl7cmV0dXJuIGF3YWl0IGModGhpcy5sYXllci5mdWxsRXh0ZW50LHQpfWNhdGNoKGUpe3RyeXtjb25zdCBlPShhd2FpdCByKHRoaXMubGF5ZXIudXJsLHtxdWVyeTp7b3B0aW9uOlwiZm9vdHByaW50c1wiLG91dFNSOnQud2tpZHx8SlNPTi5zdHJpbmdpZnkodC50b0pTT04oKSksZjpcImpzb25cIn19KSkuZGF0YS5mZWF0dXJlQ29sbGVjdGlvbi5sYXllcnNbMF0ubGF5ZXJEZWZpbml0aW9uLmV4dGVudDtyZXR1cm4gZT9sLmZyb21KU09OKGUpOm51bGx9Y2F0Y2h7cmV0dXJuIG51bGx9fX1fdXBkYXRlU3ltYm9saXplclBhcmFtcyh0KXtcInZlY3Rvci1maWVsZFwiPT09dC50eXBlJiYodGhpcy5fc3ltYm9saXplclBhcmFtcz10aGlzLmxheWVyLnN5bWJvbGl6ZXIuZ2VuZXJhdGVXZWJHTFBhcmFtZXRlcnMoe3BpeGVsQmxvY2s6bnVsbH0pKX19O3QoW28oKV0sdS5wcm90b3R5cGUsXCJhdHRhY2hlZFwiLHZvaWQgMCksdChbbygpXSx1LnByb3RvdHlwZSxcImNvbnRhaW5lclwiLHZvaWQgMCksdChbbygpXSx1LnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSx0KFtvKCldLHUucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksdChbbygpXSx1LnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLHQoW28oKV0sdS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSx0KFtvKCldLHUucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSx1PXQoW24oXCJlc3JpLnZpZXdzLjJkLmxheWVycy5pbWFnZXJ5LlZlY3RvckZpZWxkVmlldzJEXCIpXSx1KTtjb25zdCBkPXU7ZXhwb3J0e2QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnR7Y29tYmluZWRWaWV3TGF5ZXJUaW1lRXh0ZW50UHJvcGVydHkgYXMgcH1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2dldEZldGNoUG9wdXBUZW1wbGF0ZSBhcyBhfWZyb21cIi4vc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7Y29uc3Qgbj1uPT57bGV0IHU9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnZpZXc9bnVsbH1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSx0KXtjb25zdHtsYXllcjpvfT10aGlzO2lmKCFlKXRocm93IG5ldyByKFwiaW1hZ2VyeWxheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIk5vdGhpbmcgdG8gZmV0Y2ggd2l0aG91dCBhcmVhXCIse2xheWVyOm99KTtjb25zdHtwb3B1cEVuYWJsZWQ6cH09byxuPWEobyx0KTtpZighcHx8bnVsbD09bil0aHJvdyBuZXcgcihcImltYWdlcnlsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJNaXNzaW5nIHJlcXVpcmVkIHBvcHVwVGVtcGxhdGUgb3IgcG9wdXBFbmFibGVkXCIse3BvcHVwRW5hYmxlZDpwLHBvcHVwVGVtcGxhdGU6bn0pO2NvbnN0IHU9YXdhaXQgbi5nZXRSZXF1aXJlZEZpZWxkcygpLGw9bmV3IGk7bC50aW1lRXh0ZW50PXRoaXMudGltZUV4dGVudCxsLmdlb21ldHJ5PWUsbC5vdXRGaWVsZHM9dSxsLm91dFNwYXRpYWxSZWZlcmVuY2U9ZS5zcGF0aWFsUmVmZXJlbmNlO2NvbnN0e3Jlc29sdXRpb246bSxzcGF0aWFsUmVmZXJlbmNlOmN9PXRoaXMudmlldyx5PVwiMmRcIj09PXRoaXMudmlldy50eXBlP25ldyBzKG0sbSxjKTpuZXcgcyguNSptLC41Km0sYykse3JldHVyblRvcG1vc3RSYXN0ZXI6ZCxzaG93Tm9EYXRhUmVjb3JkczpofT1uLmxheWVyT3B0aW9uc3x8e3JldHVyblRvcG1vc3RSYXN0ZXI6ITAsc2hvd05vRGF0YVJlY29yZHM6ITF9LHc9e3JldHVybkRvbWFpblZhbHVlczohMCxyZXR1cm5Ub3Btb3N0UmFzdGVyOmQscGl4ZWxTaXplOnksc2hvd05vRGF0YVJlY29yZHM6aCxzaWduYWw6bnVsbCE9dD90LnNpZ25hbDpudWxsfTtyZXR1cm4gby5xdWVyeVZpc2libGVSYXN0ZXJzKGwsdykudGhlbigoZT0+ZSkpfWNhblJlc3VtZSgpe3JldHVybiEhc3VwZXIuY2FuUmVzdW1lKCkmJiF0aGlzLnRpbWVFeHRlbnQ/LmlzRW1wdHl9fTtyZXR1cm4gZShbdCgpXSx1LnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFt0KCldLHUucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsdm9pZCAwKSxlKFt0KHApXSx1LnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLGUoW3QoKV0sdS5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSx1PWUoW28oXCJlc3JpLnZpZXdzLmxheWVycy5JbWFnZXJ5TGF5ZXJWaWV3XCIpXSx1KSx1fTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==