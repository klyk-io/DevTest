"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_ogc_ogcFeatureUtils_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createOptimizedFeatures: () => (/* binding */ I),
/* harmony export */   getGeometryType: () => (/* binding */ s),
/* harmony export */   inferLayerProperties: () => (/* binding */ L),
/* harmony export */   validateGeoJSON: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function s(e){return i[e]}function*c(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a;i&&(a=f[i],null==l||a||(f[i]=a=l));const y=new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.OptimizedFeature(e?g(new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__["default"],e,o):null,f,null,a??void 0);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case"LineString":return m(e,t,n);case"MultiLineString":return h(e,t,n);case"MultiPoint":return w(e,t,n);case"MultiPolygon":return P(e,t,n);case"Point":return b(e,t,n);case"Polygon":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function T(t){if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==t.type&&"FeatureCollection"!==t.type)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:t});const{crs:n}=t;if(!n)return;const o="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!o||!r.test(o))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,t&&(p=Object.keys(t).filter((e=>t[e]===c))))),t&&p&&d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);if("unknown"===c){l.add(r);continue}l.delete(r),i.add(r);const u=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeFieldName)(r);u&&n.push({name:u,alias:r,type:c})}m=e}}}const h=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__.normalizeFieldName)(1===p?.length&&p[0]||null)??void 0;if(h)for(const o of n)if(o.name===h&&(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_3__.isNumericField)(o)){o.type="esriFieldTypeOID";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createCapabilities: () => (/* binding */ c),
/* harmony export */   createDefaultAttributesFunction: () => (/* binding */ i),
/* harmony export */   createDefaultTemplate: () => (/* binding */ a),
/* harmony export */   createDrawingInfo: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/QueryEngineCapabilities.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js");
/* harmony import */ var _symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../symbols/support/defaultsJSON.js */ "./node_modules/@arcgis/core/symbols/support/defaultsJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPointSymbolJSON:"esriGeometryPolyline"===t?_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolylineSymbolJSON:_symbols_support_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_3__.defaultPolygonSymbolJSON}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions"))return()=>({[s]:null,...t});try{let r=`this.${s} = null;`;for(const s in t){r+=`this${u.test(s)?`.${s}`:`["${s}"]`} = ${JSON.stringify(t[s])};`}const e=new Function(`\n      return class AttributesClass$${n++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(s={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(s)}}]}function c(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:_data_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_2__.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   crsDefault: () => (/* binding */ b),
/* harmony export */   crsPrefix: () => (/* binding */ w),
/* harmony export */   getCollectionDefinition: () => (/* binding */ h),
/* harmony export */   getServerCollections: () => (/* binding */ j),
/* harmony export */   getServerConformance: () => (/* binding */ F),
/* harmony export */   getServerLandingPage: () => (/* binding */ I),
/* harmony export */   getServerOpenApi: () => (/* binding */ T),
/* harmony export */   getSpatialReferenceWkid: () => (/* binding */ k),
/* harmony export */   queryFeatureSetJSON: () => (/* binding */ x),
/* harmony export */   queryOptimizedFeatureSet: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _graphics_OptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphics/OptimizedFeatureSet.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js");
/* harmony import */ var _graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graphics/sources/geojson/geojson.js */ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js");
/* harmony import */ var _graphics_sources_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphics/sources/support/clientSideDefaults.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js");
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/fieldType.js */ "./node_modules/@arcgis/core/layers/support/fieldType.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const y=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.sources.ogcfeature"),w="http://www.opengis.net/def/crs/",b=`${w}OGC/1.3/CRS84`;async function h(n,i,r={},a=5){const{links:s}=n,o=$(s,"items","application/geo+json")||$(s,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if(null==o)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:missing-items-page","Missing items url");const{data:l}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(o.href,{signal:r.signal,query:{limit:a,...r.customParameters,token:r.apiKey},headers:{accept:"application/geo+json"}});await (0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_8__.validateGeoJSON)(l);const d=(0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_8__.inferLayerProperties)(l,{geometryType:i.geometryType}),g=i.fields||d.fields||[],w=null!=i.hasZ?i.hasZ:d.hasZ,b=d.geometryType,h=i.objectIdField||d.objectIdFieldName||"OBJECTID";let j=i.timeInfo;const F=g.find((({name:e})=>e===h));if(F)F.editable=!1,F.nullable=!1;else{if(!d.objectIdFieldType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");g.unshift({name:h,alias:h,type:"number"===d.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1})}if(h!==d.objectIdFieldName){const e=g.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type="esriFieldTypeInteger")}g===d.fields&&d.unknownFields.length>0&&y.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:d.unknownFields}});for(const e of g){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),"esriFieldTypeOID"!==e.type&&"esriFieldTypeGlobalID"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:invalid-field-name","field name is missing",{field:e});if(!_support_fieldType_js__WEBPACK_IMPORTED_MODULE_11__.kebabDict.jsonValues.includes(e.type))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:invalid-field-type",`invalid type for field "${e.name}"`,{field:e})}if(j){const e=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__["default"](g);if(j.startTimeField){const t=e.get(j.startTimeField);t?(j.startTimeField=t.name,t.type="esriFieldTypeDate"):j.startTimeField=null}if(j.endTimeField){const t=e.get(j.endTimeField);t?(j.endTimeField=t.name,t.type="esriFieldTypeDate"):j.endTimeField=null}if(j.trackIdField){const t=e.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,y.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(y.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:j}}),j=null)}return{drawingInfo:b?(0,_graphics_sources_support_clientSideDefaults_js__WEBPACK_IMPORTED_MODULE_9__.createDrawingInfo)(b):null,extent:M(n),geometryType:b,fields:g,hasZ:!!w,objectIdField:h,timeInfo:j}}async function j(n,i={}){const{links:r}=n,a=$(r,"data","application/json")||$(r,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json");if(null==a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a.href,{signal:l,headers:{accept:"application/json"},query:{...o,token:s}});return c}async function F(n,i={}){const{links:r}=n,a=$(r,"conformance","application/json")||$(r,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json");if(null==a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(a.href,{signal:l,headers:{accept:"application/json"},query:{...o,token:s}});return c}async function I(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:s}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(t,{signal:a,headers:{accept:"application/json"},query:{...r,token:i}});return s}async function T(t,n={}){const i="application/vnd.oai.openapi+json;version=3.0",r=$(t.links,"service-desc",i);if(null==r)return y.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:a,customParameters:s,signal:o}=n,{data:l}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(r.href,{signal:o,headers:{accept:i},query:{...s,token:a}});return l}function k(e){const t=/^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case"ogc":switch(r.toLowerCase()){case"crs27":return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WGS84.wkid;default:return null}case"esri":case"epsg":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function x(e,t,n){const i=await S(e,t,n);return (0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToFeatureSet)(i)}async function S(n,a,c){const{collection:u,layerDefinition:m,maxRecordCount:p,queryParameters:{apiKey:f,customParameters:y},spatialReference:w,supportedCrs:b}=n,{links:h}=u,j=$(h,"items","application/geo+json")||$(h,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if(null==j)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:F,num:I,start:T,timeExtent:k,where:x}=a;if(a.objectIds)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");const S=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(w),v=a.outSpatialReference??S,q=v.isWGS84?null:N(v,b),M=C(F,b),G=O(k),W=R(x),D=I??(null!=T&&void 0!==T?10:p),{data:P}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(j.href,{...c,query:{...y,...M,crs:q,datetime:G,query:W,limit:D,startindex:T,token:f},headers:{accept:"application/geo+json"}});let Z=!1;if(P.links){const e=P.links.find((e=>"next"===e.rel));Z=!!e}!Z&&Number.isInteger(P.numberMatched)&&Number.isInteger(P.numberReturned)&&(Z=P.numberReturned<P.numberMatched);const{fields:K,geometryType:L,hasZ:J,objectIdField:z}=m,A=(0,_graphics_sources_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_8__.createOptimizedFeatures)(P,{geometryType:L,hasZ:J,objectIdField:z});if(!q&&v.isWebMercator)for(const e of A)if(null!=e.geometry&&null!=L){const t=(0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToGeometry)(e.geometry,L,J,!1);t.spatialReference=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WGS84,e.geometry=(0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertFromGeometry)((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__.project)(t,v))}for(const e of A)e.objectId=e.attributes[z];const E=q||!q&&v.isWebMercator?v.toJSON():_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.WGS84,U=new _graphics_OptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_7__["default"];return U.exceededTransferLimit=Z,U.features=A,U.fields=K,U.geometryType=L,U.hasZ=J,U.objectIdFieldName=z,U.spatialReference=E,U}function v(e){return null!=e&&"extent"===e.type}function N(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${w}${r}`:null}function q(e){if(null==e)return"";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function O(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():".."}/${null!=n?n.toISOString():".."}`}function R(e){return null!=e&&e&&"1=1"!==e?e:null}function C(e,t){if(!v(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:q(e)};const i=N(n,t);return null!=i?{bbox:q(e),"bbox-crs":i}:n.isWebMercator?{bbox:q((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__.project)(e,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WGS84))}:null}function M(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],s=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:s,zmax:i?void 0:n[5],spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WGS84.toJSON()}}function $(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19vZ2Nfb2djRmVhdHVyZVV0aWxzX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dPLFNBQVMseU1BQXlNLGNBQWMsWUFBWSxjQUFjLGVBQWUsc0JBQXNCLE1BQU0sZ0VBQWdFLGNBQWMsb0JBQW9CLGdDQUFnQyxNQUFNLHNEQUFzRCxNQUFNLHlFQUF5RSxNQUFNLDBFQUEwRSxpQkFBaUIsRUFBRSxNQUFNLCtCQUErQixHQUFHLGtCQUFrQixNQUFNLDZCQUE2QixHQUFHLDZCQUE2QixjQUFjLE1BQU0sbUNBQW1DLFlBQVksa0VBQUMsU0FBUyw2REFBQyw2QkFBNkIsU0FBUyxjQUFjLHdDQUF3QyxTQUFTLGNBQWMsWUFBWSxjQUFjLFlBQVksY0FBYyxRQUFRLFlBQVksV0FBVyxLQUFLLGlDQUFpQyx1QkFBdUIsWUFBWSxjQUFjLDZCQUE2QiwwREFBMEQsa0JBQWtCLGVBQWUsaUNBQWlDLHNDQUFzQyxpQ0FBaUMsbUNBQW1DLDRCQUE0QiwrQkFBK0Isa0JBQWtCLDhCQUE4QixrQkFBa0Isc0NBQXNDLFNBQVMsa0JBQWtCLDhCQUE4QixrQkFBa0IsOEJBQThCLFlBQVksWUFBWSxXQUFXLGdCQUFnQixTQUFTLGtCQUFrQiw4QkFBOEIsa0JBQWtCLHNCQUFzQixZQUFZLFlBQVksV0FBVyxnQkFBZ0IsU0FBUyxrQkFBa0IsYUFBYSx1QkFBdUIsa0JBQWtCLGFBQWEsdUJBQXVCLGtCQUFrQiwwQkFBMEIseUJBQXlCLGtCQUFrQixxQkFBcUIsS0FBSyxnQkFBZ0IseUJBQXlCLGtCQUFrQixlQUFlLCtDQUErQyxjQUFjLGlCQUFpQix5Q0FBeUMseUNBQXlDLHlCQUF5QixjQUFjLGdCQUFnQixzREFBQyxnREFBZ0QsOERBQThELHNEQUFDLDRGQUE0RixPQUFPLEVBQUUsTUFBTSxNQUFNLEdBQUcsYUFBYSw0SUFBNEks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cyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL3NvdXJjZXMvZ2VvanNvbi9nZW9qc29uLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvY2xpZW50U2lkZURlZmF1bHRzLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9vZ2Mvb2djRmVhdHVyZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgdH1mcm9tXCIuLi8uLi9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7bm9ybWFsaXplRmllbGROYW1lIGFzIG8saXNOdW1lcmljRmllbGQgYXMgcn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtjb25zdCBpPXtMaW5lU3RyaW5nOlwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIixNdWx0aUxpbmVTdHJpbmc6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLE11bHRpUG9pbnQ6XCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCIsUG9pbnQ6XCJlc3JpR2VvbWV0cnlQb2ludFwiLFBvbHlnb246XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsTXVsdGlQb2x5Z29uOlwiZXNyaUdlb21ldHJ5UG9seWdvblwifTtmdW5jdGlvbiBzKGUpe3JldHVybiBpW2VdfWZ1bmN0aW9uKmMoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiRmVhdHVyZVwiOnlpZWxkIGU7YnJlYWs7Y2FzZVwiRmVhdHVyZUNvbGxlY3Rpb25cIjpmb3IoY29uc3QgdCBvZiBlLmZlYXR1cmVzKXQmJih5aWVsZCB0KX19ZnVuY3Rpb24qdShlKXtpZihlKXN3aXRjaChlLnR5cGUpe2Nhc2VcIlBvaW50XCI6eWllbGQgZS5jb29yZGluYXRlczticmVhaztjYXNlXCJMaW5lU3RyaW5nXCI6Y2FzZVwiTXVsdGlQb2ludFwiOnlpZWxkKmUuY29vcmRpbmF0ZXM7YnJlYWs7Y2FzZVwiTXVsdGlMaW5lU3RyaW5nXCI6Y2FzZVwiUG9seWdvblwiOmZvcihjb25zdCB0IG9mIGUuY29vcmRpbmF0ZXMpeWllbGQqdDticmVhaztjYXNlXCJNdWx0aVBvbHlnb25cIjpmb3IoY29uc3QgdCBvZiBlLmNvb3JkaW5hdGVzKWZvcihjb25zdCBlIG9mIHQpeWllbGQqZX19ZnVuY3Rpb24qbChlLG89e30pe2NvbnN0e2dlb21ldHJ5VHlwZTpyLG9iamVjdElkRmllbGQ6aX09bztmb3IoY29uc3QgYyBvZiBlKXtjb25zdHtnZW9tZXRyeTplLHByb3BlcnRpZXM6dSxpZDpsfT1jO2lmKGUmJnMoZS50eXBlKSE9PXIpY29udGludWU7Y29uc3QgZj11fHx7fTtsZXQgYTtpJiYoYT1mW2ldLG51bGw9PWx8fGF8fChmW2ldPWE9bCkpO2NvbnN0IHk9bmV3IHQoZT9nKG5ldyBuLGUsbyk6bnVsbCxmLG51bGwsYT8/dm9pZCAwKTt5aWVsZCB5fX1mdW5jdGlvbiBmKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYodC5sZW5ndGg+MilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBhKGUpe3JldHVybiFwKGUpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIHAoZSl9ZnVuY3Rpb24gcChlKXtsZXQgdD0wO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBvPWVbbl0scj1lWyhuKzEpJWUubGVuZ3RoXTt0Kz1vWzBdKnJbMV0tclswXSpvWzFdfXJldHVybiB0PD0wfWZ1bmN0aW9uIGQoZSl7Y29uc3QgdD1lWzBdLG49ZVtlLmxlbmd0aC0xXTtyZXR1cm4gdFswXT09PW5bMF0mJnRbMV09PT1uWzFdJiZ0WzJdPT09blsyXXx8ZS5wdXNoKHQpLGV9ZnVuY3Rpb24gZyhlLHQsbil7c3dpdGNoKHQudHlwZSl7Y2FzZVwiTGluZVN0cmluZ1wiOnJldHVybiBtKGUsdCxuKTtjYXNlXCJNdWx0aUxpbmVTdHJpbmdcIjpyZXR1cm4gaChlLHQsbik7Y2FzZVwiTXVsdGlQb2ludFwiOnJldHVybiB3KGUsdCxuKTtjYXNlXCJNdWx0aVBvbHlnb25cIjpyZXR1cm4gUChlLHQsbik7Y2FzZVwiUG9pbnRcIjpyZXR1cm4gYihlLHQsbik7Y2FzZVwiUG9seWdvblwiOnJldHVybiBqKGUsdCxuKX19ZnVuY3Rpb24gbShlLHQsbil7cmV0dXJuIEcoZSx0LmNvb3JkaW5hdGVzLG4pLGV9ZnVuY3Rpb24gaChlLHQsbil7Zm9yKGNvbnN0IG8gb2YgdC5jb29yZGluYXRlcylHKGUsbyxuKTtyZXR1cm4gZX1mdW5jdGlvbiB3KGUsdCxuKXtyZXR1cm4gRyhlLHQuY29vcmRpbmF0ZXMsbiksZX1mdW5jdGlvbiBQKGUsdCxuKXtmb3IoY29uc3QgbyBvZiB0LmNvb3JkaW5hdGVzKXtTKGUsb1swXSxuKTtmb3IobGV0IHQ9MTt0PG8ubGVuZ3RoO3QrKylGKGUsb1t0XSxuKX1yZXR1cm4gZX1mdW5jdGlvbiBiKGUsdCxuKXtyZXR1cm4gayhlLHQuY29vcmRpbmF0ZXMsbiksZX1mdW5jdGlvbiBqKGUsdCxuKXtjb25zdCBvPXQuY29vcmRpbmF0ZXM7UyhlLG9bMF0sbik7Zm9yKGxldCByPTE7cjxvLmxlbmd0aDtyKyspRihlLG9bcl0sbik7cmV0dXJuIGV9ZnVuY3Rpb24gUyhlLHQsbil7Y29uc3Qgbz1kKHQpO2Eobyk/TShlLG8sbik6RyhlLG8sbil9ZnVuY3Rpb24gRihlLHQsbil7Y29uc3Qgbz1kKHQpO3kobyk/TShlLG8sbik6RyhlLG8sbil9ZnVuY3Rpb24gRyhlLHQsbil7Zm9yKGNvbnN0IG8gb2YgdClrKGUsbyxuKTtlLmxlbmd0aHMucHVzaCh0Lmxlbmd0aCl9ZnVuY3Rpb24gTShlLHQsbil7Zm9yKGxldCBvPXQubGVuZ3RoLTE7bz49MDtvLS0payhlLHRbb10sbik7ZS5sZW5ndGhzLnB1c2godC5sZW5ndGgpfWZ1bmN0aW9uIGsoZSx0LG4pe2NvbnN0W28scixpXT10O2UuY29vcmRzLnB1c2gobyxyKSxuLmhhc1omJmUuY29vcmRzLnB1c2goaXx8MCl9ZnVuY3Rpb24gTyhlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcInN0cmluZ1wiOnJldHVyblwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiO2Nhc2VcIm51bWJlclwiOnJldHVyblwiZXNyaUZpZWxkVHlwZURvdWJsZVwiO2RlZmF1bHQ6cmV0dXJuXCJ1bmtub3duXCJ9fWZ1bmN0aW9uIFQodCl7aWYoIXQpdGhyb3cgbmV3IGUoXCJnZW9qc29uLWxheWVyOmVtcHR5XCIsXCJHZW9KU09OIGRhdGEgaXMgZW1wdHlcIik7aWYoXCJGZWF0dXJlXCIhPT10LnR5cGUmJlwiRmVhdHVyZUNvbGxlY3Rpb25cIiE9PXQudHlwZSl0aHJvdyBuZXcgZShcImdlb2pzb24tbGF5ZXI6dW5zdXBwb3J0ZWQtZ2VvanNvbi1vYmplY3RcIixcIm1pc3Npbmcgb3Igbm90IHN1cHBvcnRlZCBHZW9KU09OIG9iamVjdCB0eXBlXCIse2RhdGE6dH0pO2NvbnN0e2NyczpufT10O2lmKCFuKXJldHVybjtjb25zdCBvPVwic3RyaW5nXCI9PXR5cGVvZiBuP246XCJuYW1lXCI9PT1uLnR5cGU/bi5wcm9wZXJ0aWVzLm5hbWU6XCJFUFNHXCI9PT1uLnR5cGU/bi5wcm9wZXJ0aWVzLmNvZGU6bnVsbCxyPW5ldyBSZWdFeHAoXCIuKihDUlM4NEg/fDQzMjYpJFwiLFwiaVwiKTtpZighb3x8IXIudGVzdChvKSl0aHJvdyBuZXcgZShcImdlb2pzb24tbGF5ZXI6dW5zdXBwb3J0ZWQtY3JzXCIsXCJ1bnN1cHBvcnRlZCBHZW9KU09OICdjcnMnIG1lbWJlclwiLHtjcnM6bn0pfWZ1bmN0aW9uIEwoZSx0PXt9KXtjb25zdCBuPVtdLGk9bmV3IFNldCxsPW5ldyBTZXQ7bGV0IGEseT0hMSxwPW51bGwsZD0hMSx7Z2VvbWV0cnlUeXBlOmc9bnVsbH09dCxtPSExO2Zvcihjb25zdCByIG9mIGMoZSkpe2NvbnN0e2dlb21ldHJ5OmUscHJvcGVydGllczp0LGlkOmN9PXI7aWYoIWV8fChnfHwoZz1zKGUudHlwZSkpLHMoZS50eXBlKT09PWcpKXtpZigheSl7eT1mKHUoZSkpfWlmKGR8fChkPW51bGwhPWMsZCYmKGE9dHlwZW9mIGMsdCYmKHA9T2JqZWN0LmtleXModCkuZmlsdGVyKChlPT50W2VdPT09YykpKSkpLHQmJnAmJmQmJm51bGwhPWMmJihwLmxlbmd0aD4xP3A9cC5maWx0ZXIoKGU9PnRbZV09PT1jKSk6MT09PXAubGVuZ3RoJiYocD10W3BbMF1dPT09Yz9wOltdKSksIW0mJnQpe2xldCBlPSEwO2Zvcihjb25zdCByIGluIHQpe2lmKGkuaGFzKHIpKWNvbnRpbnVlO2NvbnN0IHM9dFtyXTtpZihudWxsPT1zKXtlPSExLGwuYWRkKHIpO2NvbnRpbnVlfWNvbnN0IGM9TyhzKTtpZihcInVua25vd25cIj09PWMpe2wuYWRkKHIpO2NvbnRpbnVlfWwuZGVsZXRlKHIpLGkuYWRkKHIpO2NvbnN0IHU9byhyKTt1JiZuLnB1c2goe25hbWU6dSxhbGlhczpyLHR5cGU6Y30pfW09ZX19fWNvbnN0IGg9bygxPT09cD8ubGVuZ3RoJiZwWzBdfHxudWxsKT8/dm9pZCAwO2lmKGgpZm9yKGNvbnN0IG8gb2YgbilpZihvLm5hbWU9PT1oJiZyKG8pKXtvLnR5cGU9XCJlc3JpRmllbGRUeXBlT0lEXCI7YnJlYWt9cmV0dXJue2ZpZWxkczpuLGdlb21ldHJ5VHlwZTpnLGhhc1o6eSxvYmplY3RJZEZpZWxkTmFtZTpoLG9iamVjdElkRmllbGRUeXBlOmEsdW5rbm93bkZpZWxkczpBcnJheS5mcm9tKGwpfX1mdW5jdGlvbiBJKGUsdCl7cmV0dXJuIEFycmF5LmZyb20obChjKGUpLHQpKX1leHBvcnR7SSBhcyBjcmVhdGVPcHRpbWl6ZWRGZWF0dXJlcyxzIGFzIGdldEdlb21ldHJ5VHlwZSxMIGFzIGluZmVyTGF5ZXJQcm9wZXJ0aWVzLFQgYXMgdmFsaWRhdGVHZW9KU09OfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e3F1ZXJ5Q2FwYWJpbGl0aWVzIGFzIHN9ZnJvbVwiLi4vLi4vZGF0YS9RdWVyeUVuZ2luZUNhcGFiaWxpdGllcy5qc1wiO2ltcG9ydHtkZWZhdWx0UG9pbnRTeW1ib2xKU09OIGFzIHIsZGVmYXVsdFBvbHlsaW5lU3ltYm9sSlNPTiBhcyBlLGRlZmF1bHRQb2x5Z29uU3ltYm9sSlNPTiBhcyBwfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC9kZWZhdWx0c0pTT04uanNcIjtmdW5jdGlvbiBvKHQpe3JldHVybntyZW5kZXJlcjp7dHlwZTpcInNpbXBsZVwiLHN5bWJvbDpcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10fHxcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIj09PXQ/cjpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10P2U6cH19fWNvbnN0IHU9L15bXyRhLXpBLVpdW18kYS16QS1aMC05XSokLztsZXQgbj0xO2Z1bmN0aW9uIGkodCxzKXtpZihoYXMoXCJlc3JpLWNzcC1yZXN0cmljdGlvbnNcIikpcmV0dXJuKCk9Pih7W3NdOm51bGwsLi4udH0pO3RyeXtsZXQgcj1gdGhpcy4ke3N9ID0gbnVsbDtgO2Zvcihjb25zdCBzIGluIHQpe3IrPWB0aGlzJHt1LnRlc3Qocyk/YC4ke3N9YDpgW1wiJHtzfVwiXWB9ID0gJHtKU09OLnN0cmluZ2lmeSh0W3NdKX07YH1jb25zdCBlPW5ldyBGdW5jdGlvbihgXFxuICAgICAgcmV0dXJuIGNsYXNzIEF0dHJpYnV0ZXNDbGFzcyQke24rK30ge1xcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XFxuICAgICAgICAgICR7cn07XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBgKSgpO3JldHVybigpPT5uZXcgZX1jYXRjaChyKXtyZXR1cm4oKT0+KHtbc106bnVsbCwuLi50fSl9fWZ1bmN0aW9uIGEocz17fSl7cmV0dXJuW3tuYW1lOlwiTmV3IEZlYXR1cmVcIixkZXNjcmlwdGlvbjpcIlwiLHByb3RvdHlwZTp7YXR0cmlidXRlczp0KHMpfX1dfWZ1bmN0aW9uIGModCxyKXtyZXR1cm57YW5hbHl0aWNzOntzdXBwb3J0c0NhY2hlSGludDohMX0sYXR0YWNobWVudDpudWxsLGRhdGE6e2lzVmVyc2lvbmVkOiExLHN1cHBvcnRzQXR0YWNobWVudDohMSxzdXBwb3J0c006ITEsc3VwcG9ydHNaOnR9LG1ldGFkYXRhOntzdXBwb3J0c0FkdmFuY2VkRmllbGRQcm9wZXJ0aWVzOiExfSxvcGVyYXRpb25zOntzdXBwb3J0c0NhbGN1bGF0ZTohMSxzdXBwb3J0c1RydW5jYXRlOiExLHN1cHBvcnRzVmFsaWRhdGVTcWw6ITEsc3VwcG9ydHNBZGQ6cixzdXBwb3J0c0RlbGV0ZTpyLHN1cHBvcnRzRWRpdGluZzpyLHN1cHBvcnRzQ2hhbmdlVHJhY2tpbmc6ITEsc3VwcG9ydHNRdWVyeTohMCxzdXBwb3J0c1F1ZXJ5QW5hbHl0aWNzOiExLHN1cHBvcnRzUXVlcnlBdHRhY2htZW50czohMSxzdXBwb3J0c1F1ZXJ5VG9wRmVhdHVyZXM6ITEsc3VwcG9ydHNSZXNpemVBdHRhY2htZW50czohMSxzdXBwb3J0c1N5bmM6ITEsc3VwcG9ydHNVcGRhdGU6cixzdXBwb3J0c0V4Y2VlZHNMaW1pdFN0YXRpc3RpY3M6ITAsc3VwcG9ydHNBc3luY0NvbnZlcnQzRDohMX0scXVlcnk6cyxxdWVyeVJlbGF0ZWQ6e3N1cHBvcnRzQ291bnQ6ITAsc3VwcG9ydHNPcmRlckJ5OiEwLHN1cHBvcnRzUGFnaW5hdGlvbjohMCxzdXBwb3J0c0NhY2hlSGludDohMX0scXVlcnlUb3BGZWF0dXJlczp7c3VwcG9ydHNDYWNoZUhpbnQ6ITF9LGVkaXRpbmc6e3N1cHBvcnRzR2VvbWV0cnlVcGRhdGU6cixzdXBwb3J0c0dsb2JhbElkOiExLHN1cHBvcnRzUmV0dXJuU2VydmljZUVkaXRzSW5Tb3VyY2VTcGF0aWFsUmVmZXJlbmNlOiExLHN1cHBvcnRzUm9sbGJhY2tPbkZhaWx1cmU6ITEsc3VwcG9ydHNVcGRhdGVXaXRob3V0TTohMSxzdXBwb3J0c1VwbG9hZFdpdGhJdGVtSWQ6ITEsc3VwcG9ydHNEZWxldGVCeUFub255bW91czohMSxzdXBwb3J0c0RlbGV0ZUJ5T3RoZXJzOiExLHN1cHBvcnRzVXBkYXRlQnlBbm9ueW1vdXM6ITEsc3VwcG9ydHNVcGRhdGVCeU90aGVyczohMSxzdXBwb3J0c0FzeW5jQXBwbHlFZGl0czohMX19fWV4cG9ydHtjIGFzIGNyZWF0ZUNhcGFiaWxpdGllcyxpIGFzIGNyZWF0ZURlZmF1bHRBdHRyaWJ1dGVzRnVuY3Rpb24sYSBhcyBjcmVhdGVEZWZhdWx0VGVtcGxhdGUsbyBhcyBjcmVhdGVEcmF3aW5nSW5mb307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7V0dTODQgYXMgaX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIHJ9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0ZlYXR1cmVTZXQgYXMgYSxjb252ZXJ0VG9HZW9tZXRyeSBhcyBzLGNvbnZlcnRGcm9tR2VvbWV0cnkgYXMgb31mcm9tXCIuLi9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZVNldC5qc1wiO2ltcG9ydHt2YWxpZGF0ZUdlb0pTT04gYXMgYyxpbmZlckxheWVyUHJvcGVydGllcyBhcyB1LGNyZWF0ZU9wdGltaXplZEZlYXR1cmVzIGFzIGR9ZnJvbVwiLi4vZ3JhcGhpY3Mvc291cmNlcy9nZW9qc29uL2dlb2pzb24uanNcIjtpbXBvcnR7Y3JlYXRlRHJhd2luZ0luZm8gYXMgbX1mcm9tXCIuLi9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvY2xpZW50U2lkZURlZmF1bHRzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtrZWJhYkRpY3QgYXMgZn1mcm9tXCIuLi9zdXBwb3J0L2ZpZWxkVHlwZS5qc1wiO2ltcG9ydCBnIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtjb25zdCB5PW4uZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMuZ3JhcGhpY3Muc291cmNlcy5vZ2NmZWF0dXJlXCIpLHc9XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9jcnMvXCIsYj1gJHt3fU9HQy8xLjMvQ1JTODRgO2FzeW5jIGZ1bmN0aW9uIGgobixpLHI9e30sYT01KXtjb25zdHtsaW5rczpzfT1uLG89JChzLFwiaXRlbXNcIixcImFwcGxpY2F0aW9uL2dlbytqc29uXCIpfHwkKHMsXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9yZWwvb2djLzEuMC9pdGVtc1wiLFwiYXBwbGljYXRpb24vZ2VvK2pzb25cIik7aWYobnVsbD09byl0aHJvdyBuZXcgdChcIm9nYy1mZWF0dXJlLWxheWVyOm1pc3NpbmctaXRlbXMtcGFnZVwiLFwiTWlzc2luZyBpdGVtcyB1cmxcIik7Y29uc3R7ZGF0YTpsfT1hd2FpdCBlKG8uaHJlZix7c2lnbmFsOnIuc2lnbmFsLHF1ZXJ5OntsaW1pdDphLC4uLnIuY3VzdG9tUGFyYW1ldGVycyx0b2tlbjpyLmFwaUtleX0saGVhZGVyczp7YWNjZXB0OlwiYXBwbGljYXRpb24vZ2VvK2pzb25cIn19KTthd2FpdCBjKGwpO2NvbnN0IGQ9dShsLHtnZW9tZXRyeVR5cGU6aS5nZW9tZXRyeVR5cGV9KSxnPWkuZmllbGRzfHxkLmZpZWxkc3x8W10sdz1udWxsIT1pLmhhc1o/aS5oYXNaOmQuaGFzWixiPWQuZ2VvbWV0cnlUeXBlLGg9aS5vYmplY3RJZEZpZWxkfHxkLm9iamVjdElkRmllbGROYW1lfHxcIk9CSkVDVElEXCI7bGV0IGo9aS50aW1lSW5mbztjb25zdCBGPWcuZmluZCgoKHtuYW1lOmV9KT0+ZT09PWgpKTtpZihGKUYuZWRpdGFibGU9ITEsRi5udWxsYWJsZT0hMTtlbHNle2lmKCFkLm9iamVjdElkRmllbGRUeXBlKXRocm93IG5ldyB0KFwib2djLWZlYXR1cmUtbGF5ZXI6bWlzc2luZy1mZWF0dXJlLWlkXCIsXCJDb2xsZWN0aW9uIGdlb2pzb24gcmVxdWlyZSBhIGZlYXR1cmUgaWQgYXMgYSB1bmlxdWUgaWRlbnRpZmllclwiKTtnLnVuc2hpZnQoe25hbWU6aCxhbGlhczpoLHR5cGU6XCJudW1iZXJcIj09PWQub2JqZWN0SWRGaWVsZFR5cGU/XCJlc3JpRmllbGRUeXBlT0lEXCI6XCJlc3JpRmllbGRUeXBlU3RyaW5nXCIsZWRpdGFibGU6ITEsbnVsbGFibGU6ITF9KX1pZihoIT09ZC5vYmplY3RJZEZpZWxkTmFtZSl7Y29uc3QgZT1nLmZpbmQoKCh7bmFtZTplfSk9PmU9PT1kLm9iamVjdElkRmllbGROYW1lKSk7ZSYmKGUudHlwZT1cImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCIpfWc9PT1kLmZpZWxkcyYmZC51bmtub3duRmllbGRzLmxlbmd0aD4wJiZ5Lndhcm4oe25hbWU6XCJvZ2MtZmVhdHVyZS1sYXllcjp1bmtub3duLWZpZWxkLXR5cGVzXCIsbWVzc2FnZTpcIlNvbWUgZmllbGRzIHR5cGVzIGNvdWxkbid0IGJlIGluZmVycmVkIGZyb20gdGhlIGZlYXR1cmVzIGFuZCB3ZXJlIGRyb3BwZWRcIixkZXRhaWxzOnt1bmtub3duRmllbGRzOmQudW5rbm93bkZpZWxkc319KTtmb3IoY29uc3QgZSBvZiBnKXtpZihudWxsPT1lLm5hbWUmJihlLm5hbWU9ZS5hbGlhcyksbnVsbD09ZS5hbGlhcyYmKGUuYWxpYXM9ZS5uYW1lKSxcImVzcmlGaWVsZFR5cGVPSURcIiE9PWUudHlwZSYmXCJlc3JpRmllbGRUeXBlR2xvYmFsSURcIiE9PWUudHlwZSYmKGUuZWRpdGFibGU9bnVsbD09ZS5lZGl0YWJsZXx8ISFlLmVkaXRhYmxlLGUubnVsbGFibGU9bnVsbD09ZS5udWxsYWJsZXx8ISFlLm51bGxhYmxlKSwhZS5uYW1lKXRocm93IG5ldyB0KFwib2djLWZlYXR1cmUtbGF5ZXI6aW52YWxpZC1maWVsZC1uYW1lXCIsXCJmaWVsZCBuYW1lIGlzIG1pc3NpbmdcIix7ZmllbGQ6ZX0pO2lmKCFmLmpzb25WYWx1ZXMuaW5jbHVkZXMoZS50eXBlKSl0aHJvdyBuZXcgdChcIm9nYy1mZWF0dXJlLWxheWVyOmludmFsaWQtZmllbGQtdHlwZVwiLGBpbnZhbGlkIHR5cGUgZm9yIGZpZWxkIFwiJHtlLm5hbWV9XCJgLHtmaWVsZDplfSl9aWYoail7Y29uc3QgZT1uZXcgcChnKTtpZihqLnN0YXJ0VGltZUZpZWxkKXtjb25zdCB0PWUuZ2V0KGouc3RhcnRUaW1lRmllbGQpO3Q/KGouc3RhcnRUaW1lRmllbGQ9dC5uYW1lLHQudHlwZT1cImVzcmlGaWVsZFR5cGVEYXRlXCIpOmouc3RhcnRUaW1lRmllbGQ9bnVsbH1pZihqLmVuZFRpbWVGaWVsZCl7Y29uc3QgdD1lLmdldChqLmVuZFRpbWVGaWVsZCk7dD8oai5lbmRUaW1lRmllbGQ9dC5uYW1lLHQudHlwZT1cImVzcmlGaWVsZFR5cGVEYXRlXCIpOmouZW5kVGltZUZpZWxkPW51bGx9aWYoai50cmFja0lkRmllbGQpe2NvbnN0IHQ9ZS5nZXQoai50cmFja0lkRmllbGQpO3Q/ai50cmFja0lkRmllbGQ9dC5uYW1lOihqLnRyYWNrSWRGaWVsZD1udWxsLHkud2Fybih7bmFtZTpcIm9nYy1mZWF0dXJlLWxheWVyOmludmFsaWQtdGltZUluZm8tdHJhY2tJZEZpZWxkXCIsbWVzc2FnZTpcInRyYWNrSWRGaWVsZCBpcyBtaXNzaW5nXCIsZGV0YWlsczp7dGltZUluZm86an19KSl9ai5zdGFydFRpbWVGaWVsZHx8ai5lbmRUaW1lRmllbGR8fCh5Lndhcm4oe25hbWU6XCJvZ2MtZmVhdHVyZS1sYXllcjppbnZhbGlkLXRpbWVJbmZvXCIsbWVzc2FnZTpcInN0YXJ0VGltZUZpZWxkIGFuZCBlbmRUaW1lRmllbGQgYXJlIG1pc3NpbmdcIixkZXRhaWxzOnt0aW1lSW5mbzpqfX0pLGo9bnVsbCl9cmV0dXJue2RyYXdpbmdJbmZvOmI/bShiKTpudWxsLGV4dGVudDpNKG4pLGdlb21ldHJ5VHlwZTpiLGZpZWxkczpnLGhhc1o6ISF3LG9iamVjdElkRmllbGQ6aCx0aW1lSW5mbzpqfX1hc3luYyBmdW5jdGlvbiBqKG4saT17fSl7Y29uc3R7bGlua3M6cn09bixhPSQocixcImRhdGFcIixcImFwcGxpY2F0aW9uL2pzb25cIil8fCQocixcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL3JlbC9vZ2MvMS4wL2RhdGFcIixcImFwcGxpY2F0aW9uL2pzb25cIik7aWYobnVsbD09YSl0aHJvdyBuZXcgdChcIm9nYy1mZWF0dXJlLWxheWVyOm1pc3NpbmctY29sbGVjdGlvbnMtcGFnZVwiLFwiTWlzc2luZyBjb2xsZWN0aW9ucyB1cmxcIik7Y29uc3R7YXBpS2V5OnMsY3VzdG9tUGFyYW1ldGVyczpvLHNpZ25hbDpsfT1pLHtkYXRhOmN9PWF3YWl0IGUoYS5ocmVmLHtzaWduYWw6bCxoZWFkZXJzOnthY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LHF1ZXJ5OnsuLi5vLHRva2VuOnN9fSk7cmV0dXJuIGN9YXN5bmMgZnVuY3Rpb24gRihuLGk9e30pe2NvbnN0e2xpbmtzOnJ9PW4sYT0kKHIsXCJjb25mb3JtYW5jZVwiLFwiYXBwbGljYXRpb24vanNvblwiKXx8JChyLFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvcmVsL29nYy8xLjAvY29uZm9ybWFuY2VcIixcImFwcGxpY2F0aW9uL2pzb25cIik7aWYobnVsbD09YSl0aHJvdyBuZXcgdChcIm9nYy1mZWF0dXJlLWxheWVyOm1pc3NpbmctY29uZm9ybWFuY2UtcGFnZVwiLFwiTWlzc2luZyBjb25mb3JtYW5jZSB1cmxcIik7Y29uc3R7YXBpS2V5OnMsY3VzdG9tUGFyYW1ldGVyczpvLHNpZ25hbDpsfT1pLHtkYXRhOmN9PWF3YWl0IGUoYS5ocmVmLHtzaWduYWw6bCxoZWFkZXJzOnthY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LHF1ZXJ5OnsuLi5vLHRva2VuOnN9fSk7cmV0dXJuIGN9YXN5bmMgZnVuY3Rpb24gSSh0LG49e30pe2NvbnN0e2FwaUtleTppLGN1c3RvbVBhcmFtZXRlcnM6cixzaWduYWw6YX09bix7ZGF0YTpzfT1hd2FpdCBlKHQse3NpZ25hbDphLGhlYWRlcnM6e2FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIn0scXVlcnk6ey4uLnIsdG9rZW46aX19KTtyZXR1cm4gc31hc3luYyBmdW5jdGlvbiBUKHQsbj17fSl7Y29uc3QgaT1cImFwcGxpY2F0aW9uL3ZuZC5vYWkub3BlbmFwaStqc29uO3ZlcnNpb249My4wXCIscj0kKHQubGlua3MsXCJzZXJ2aWNlLWRlc2NcIixpKTtpZihudWxsPT1yKXJldHVybiB5Lndhcm4oXCJvZ2MtZmVhdHVyZS1sYXllcjptaXNzaW5nLW9wZW5hcGktcGFnZVwiLFwiVGhlIE9HQyBBUEktRmVhdHVyZXMgc2VydmVyIGRvZXMgbm90IGhhdmUgYW4gT3BlbkFQSSBwYWdlLlwiKSxudWxsO2NvbnN0e2FwaUtleTphLGN1c3RvbVBhcmFtZXRlcnM6cyxzaWduYWw6b309bix7ZGF0YTpsfT1hd2FpdCBlKHIuaHJlZix7c2lnbmFsOm8saGVhZGVyczp7YWNjZXB0Oml9LHF1ZXJ5OnsuLi5zLHRva2VuOmF9fSk7cmV0dXJuIGx9ZnVuY3Rpb24gayhlKXtjb25zdCB0PS9eaHR0cDpcXC9cXC93d3dcXC5vcGVuZ2lzLm5ldFxcL2RlZlxcL2Nyc1xcLyg/PGF1dGhvcml0eT4uKilcXC8oPzx2ZXJzaW9uPi4qKVxcLyg/PGNvZGU+LiopJC9pLmV4ZWMoZSksbj10Py5ncm91cHM7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3R7YXV0aG9yaXR5OmksY29kZTpyfT1uO3N3aXRjaChpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcIm9nY1wiOnN3aXRjaChyLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImNyczI3XCI6cmV0dXJuIGcuR0NTX05BRF8xOTI3LndraWQ7Y2FzZVwiY3JzODNcIjpyZXR1cm4gNDI2OTtjYXNlXCJjcnM4NFwiOmNhc2VcImNyczg0aFwiOnJldHVybiBnLldHUzg0LndraWQ7ZGVmYXVsdDpyZXR1cm4gbnVsbH1jYXNlXCJlc3JpXCI6Y2FzZVwiZXBzZ1wiOntjb25zdCBlPU51bWJlci5wYXJzZUludChyLDEwKTtyZXR1cm4gTnVtYmVyLmlzTmFOKGUpP251bGw6ZX1kZWZhdWx0OnJldHVybiBudWxsfX1hc3luYyBmdW5jdGlvbiB4KGUsdCxuKXtjb25zdCBpPWF3YWl0IFMoZSx0LG4pO3JldHVybiBhKGkpfWFzeW5jIGZ1bmN0aW9uIFMobixhLGMpe2NvbnN0e2NvbGxlY3Rpb246dSxsYXllckRlZmluaXRpb246bSxtYXhSZWNvcmRDb3VudDpwLHF1ZXJ5UGFyYW1ldGVyczp7YXBpS2V5OmYsY3VzdG9tUGFyYW1ldGVyczp5fSxzcGF0aWFsUmVmZXJlbmNlOncsc3VwcG9ydGVkQ3JzOmJ9PW4se2xpbmtzOmh9PXUsaj0kKGgsXCJpdGVtc1wiLFwiYXBwbGljYXRpb24vZ2VvK2pzb25cIil8fCQoaCxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL3JlbC9vZ2MvMS4wL2l0ZW1zXCIsXCJhcHBsaWNhdGlvbi9nZW8ranNvblwiKTtpZihudWxsPT1qKXRocm93IG5ldyB0KFwib2djLWZlYXR1cmUtbGF5ZXI6bWlzc2luZy1pdGVtcy1wYWdlXCIsXCJNaXNzaW5nIGl0ZW1zIHVybFwiKTtjb25zdHtnZW9tZXRyeTpGLG51bTpJLHN0YXJ0OlQsdGltZUV4dGVudDprLHdoZXJlOnh9PWE7aWYoYS5vYmplY3RJZHMpdGhyb3cgbmV3IHQoXCJvZ2MtZmVhdHVyZS1sYXllcjpxdWVyeS1ieS1vYmplY3RpZHMtbm90LXN1cHBvcnRlZFwiLFwiUXVlcmllcyB3aXRoIG9iamVjdGlkcyBhcmUgbm90IHN1cHBvcnRlZFwiKTtjb25zdCBTPWcuZnJvbUpTT04odyksdj1hLm91dFNwYXRpYWxSZWZlcmVuY2U/P1MscT12LmlzV0dTODQ/bnVsbDpOKHYsYiksTT1DKEYsYiksRz1PKGspLFc9Uih4KSxEPUk/PyhudWxsIT1UJiZ2b2lkIDAhPT1UPzEwOnApLHtkYXRhOlB9PWF3YWl0IGUoai5ocmVmLHsuLi5jLHF1ZXJ5OnsuLi55LC4uLk0sY3JzOnEsZGF0ZXRpbWU6RyxxdWVyeTpXLGxpbWl0OkQsc3RhcnRpbmRleDpULHRva2VuOmZ9LGhlYWRlcnM6e2FjY2VwdDpcImFwcGxpY2F0aW9uL2dlbytqc29uXCJ9fSk7bGV0IFo9ITE7aWYoUC5saW5rcyl7Y29uc3QgZT1QLmxpbmtzLmZpbmQoKGU9PlwibmV4dFwiPT09ZS5yZWwpKTtaPSEhZX0hWiYmTnVtYmVyLmlzSW50ZWdlcihQLm51bWJlck1hdGNoZWQpJiZOdW1iZXIuaXNJbnRlZ2VyKFAubnVtYmVyUmV0dXJuZWQpJiYoWj1QLm51bWJlclJldHVybmVkPFAubnVtYmVyTWF0Y2hlZCk7Y29uc3R7ZmllbGRzOkssZ2VvbWV0cnlUeXBlOkwsaGFzWjpKLG9iamVjdElkRmllbGQ6en09bSxBPWQoUCx7Z2VvbWV0cnlUeXBlOkwsaGFzWjpKLG9iamVjdElkRmllbGQ6en0pO2lmKCFxJiZ2LmlzV2ViTWVyY2F0b3IpZm9yKGNvbnN0IGUgb2YgQSlpZihudWxsIT1lLmdlb21ldHJ5JiZudWxsIT1MKXtjb25zdCB0PXMoZS5nZW9tZXRyeSxMLEosITEpO3Quc3BhdGlhbFJlZmVyZW5jZT1nLldHUzg0LGUuZ2VvbWV0cnk9byhyKHQsdikpfWZvcihjb25zdCBlIG9mIEEpZS5vYmplY3RJZD1lLmF0dHJpYnV0ZXNbel07Y29uc3QgRT1xfHwhcSYmdi5pc1dlYk1lcmNhdG9yP3YudG9KU09OKCk6aSxVPW5ldyBsO3JldHVybiBVLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD1aLFUuZmVhdHVyZXM9QSxVLmZpZWxkcz1LLFUuZ2VvbWV0cnlUeXBlPUwsVS5oYXNaPUosVS5vYmplY3RJZEZpZWxkTmFtZT16LFUuc3BhdGlhbFJlZmVyZW5jZT1FLFV9ZnVuY3Rpb24gdihlKXtyZXR1cm4gbnVsbCE9ZSYmXCJleHRlbnRcIj09PWUudHlwZX1mdW5jdGlvbiBOKGUsdCl7Y29uc3R7aXNXZWJNZXJjYXRvcjpuLHdraWQ6aX09ZTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCByPW4/dFszODU3XT8/dFsxMDIxMDBdPz90WzEwMjExM10/P3RbOTAwOTEzXTp0W2Uud2tpZF07cmV0dXJuIHI/YCR7d30ke3J9YDpudWxsfWZ1bmN0aW9uIHEoZSl7aWYobnVsbD09ZSlyZXR1cm5cIlwiO2NvbnN0e3htaW46dCx5bWluOm4seG1heDppLHltYXg6cn09ZTtyZXR1cm5gJHt0fSwke259LCR7aX0sJHtyfWB9ZnVuY3Rpb24gTyhlKXtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0e3N0YXJ0OnQsZW5kOm59PWU7cmV0dXJuYCR7bnVsbCE9dD90LnRvSVNPU3RyaW5nKCk6XCIuLlwifS8ke251bGwhPW4/bi50b0lTT1N0cmluZygpOlwiLi5cIn1gfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIG51bGwhPWUmJmUmJlwiMT0xXCIhPT1lP2U6bnVsbH1mdW5jdGlvbiBDKGUsdCl7aWYoIXYoZSkpcmV0dXJuIG51bGw7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpufT1lO2lmKCFufHxuLmlzV0dTODQpcmV0dXJue2Jib3g6cShlKX07Y29uc3QgaT1OKG4sdCk7cmV0dXJuIG51bGwhPWk/e2Jib3g6cShlKSxcImJib3gtY3JzXCI6aX06bi5pc1dlYk1lcmNhdG9yP3tiYm94OnEocihlLGcuV0dTODQpKX06bnVsbH1mdW5jdGlvbiBNKGUpe2NvbnN0IHQ9ZS5leHRlbnQ/LnNwYXRpYWw7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgbj10LmJib3hbMF0saT00PT09bi5sZW5ndGgscj1uWzBdLGE9blsxXSxzPWk/dm9pZCAwOm5bMl07cmV0dXJue3htaW46cix5bWluOmEseG1heDppP25bMl06blszXSx5bWF4Omk/blszXTpuWzRdLHptaW46cyx6bWF4Omk/dm9pZCAwOm5bNV0sc3BhdGlhbFJlZmVyZW5jZTpnLldHUzg0LnRvSlNPTigpfX1mdW5jdGlvbiAkKGUsdCxuKXtyZXR1cm4gZS5maW5kKChlPT5lLnJlbD09PXQmJmUudHlwZT09PW4pKXx8ZS5maW5kKChlPT5lLnJlbD09PXQmJiFlLnR5cGUpKX1leHBvcnR7YiBhcyBjcnNEZWZhdWx0LHcgYXMgY3JzUHJlZml4LGggYXMgZ2V0Q29sbGVjdGlvbkRlZmluaXRpb24saiBhcyBnZXRTZXJ2ZXJDb2xsZWN0aW9ucyxGIGFzIGdldFNlcnZlckNvbmZvcm1hbmNlLEkgYXMgZ2V0U2VydmVyTGFuZGluZ1BhZ2UsVCBhcyBnZXRTZXJ2ZXJPcGVuQXBpLGsgYXMgZ2V0U3BhdGlhbFJlZmVyZW5jZVdraWQseCBhcyBxdWVyeUZlYXR1cmVTZXRKU09OLFMgYXMgcXVlcnlPcHRpbWl6ZWRGZWF0dXJlU2V0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==