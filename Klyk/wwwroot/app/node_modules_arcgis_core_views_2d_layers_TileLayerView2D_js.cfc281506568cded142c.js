"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["node_modules_arcgis_core_views_2d_layers_TileLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/layers/TileLayerView2D.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/TileLayerView2D.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _support_GraphicsCollection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../support/GraphicsCollection.js */ "./node_modules/@arcgis/core/support/GraphicsCollection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _chunks_index2_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/index2.js */ "./node_modules/@arcgis/core/chunks/index2.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _chunks_index3_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../chunks/index3.js */ "./node_modules/@arcgis/core/chunks/index3.js");
/* harmony import */ var _layers_effects_EffectView_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/effects/EffectView.js */ "./node_modules/@arcgis/core/layers/effects/EffectView.js");
/* harmony import */ var _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../engine/DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _engine_webgl_effects_highlight_HighlightGradient_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../engine/webgl/effects/highlight/HighlightGradient.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/effects/highlight/HighlightGradient.js");
/* harmony import */ var _engine_webgl_BufferPool_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../engine/webgl/BufferPool.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_brushes_BrushBitmap_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../engine/webgl/brushes/BrushBitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/BrushBitmap.js");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../chunks/vec4f32.js */ "./node_modules/@arcgis/core/chunks/vec4f32.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_shaders_BackgroundPrograms_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../engine/webgl/shaders/BackgroundPrograms.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/BackgroundPrograms.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl/checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl/contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _chunks_builtins_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../chunks/builtins.js */ "./node_modules/@arcgis/core/chunks/builtins.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _engine_webgl_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../engine/webgl/materialKey/MaterialKey.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js");
/* harmony import */ var _engine_webgl_techniques_Technique_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../engine/webgl/techniques/Technique.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/Technique.js");
/* harmony import */ var _engine_webgl_techniques_dotDensity_TechniqueDotDensity_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../engine/webgl/techniques/dotDensity/TechniqueDotDensity.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/dotDensity/TechniqueDotDensity.js");
/* harmony import */ var _engine_webgl_techniques_heatmap_TechniqueHeatmap_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../engine/webgl/techniques/heatmap/TechniqueHeatmap.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/heatmap/TechniqueHeatmap.js");
/* harmony import */ var _engine_webgl_techniques_pieChart_TechniquePieChart_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../engine/webgl/techniques/pieChart/TechniquePieChart.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/pieChart/TechniquePieChart.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../webgl/FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _webgl_GLObjectType_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../webgl/GLObjectType.js */ "./node_modules/@arcgis/core/views/webgl/GLObjectType.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/* harmony import */ var _engine_webgl_brushes_WGLBrushHeatmap_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../engine/webgl/brushes/WGLBrushHeatmap.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushHeatmap.js");
/* harmony import */ var _engine_webgl_DefaultVertexAttributeLayouts_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../engine/webgl/DefaultVertexAttributeLayouts.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DefaultVertexAttributeLayouts.js");
/* harmony import */ var _engine_webgl_shaders_TileInfoPrograms_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../engine/webgl/shaders/TileInfoPrograms.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/TileInfoPrograms.js");
/* harmony import */ var _engine_webgl_brushes_WGLGeometryBrushMarker_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../engine/webgl/brushes/WGLGeometryBrushMarker.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLGeometryBrushMarker.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _engine_webgl_number_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../engine/webgl/number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/* harmony import */ var _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../chunks/vec2f32.js */ "./node_modules/@arcgis/core/chunks/vec2f32.js");
/* harmony import */ var _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../engine/vectorTiles/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _engine_vectorTiles_shaders_sources_resolver_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../engine/vectorTiles/shaders/sources/resolver.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/sources/resolver.js");
/* harmony import */ var _engine_webgl_shaders_BitBlitPrograms_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../engine/webgl/shaders/BitBlitPrograms.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/BitBlitPrograms.js");
/* harmony import */ var _engine_webgl_shaders_sources_resolver_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../engine/webgl/shaders/sources/resolver.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/sources/resolver.js");
/* harmony import */ var _engine_webgl_TextureManager_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../engine/webgl/TextureManager.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TextureManager.js");
/* harmony import */ var _engine_webgl_shaders_StencilPrograms_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../engine/webgl/shaders/StencilPrograms.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/StencilPrograms.js");
/* harmony import */ var _engine_webgl_effects_BlendEffect_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../engine/webgl/effects/BlendEffect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/effects/BlendEffect.js");
/* harmony import */ var _engine_webgl_shaders_HighlightPrograms_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../engine/webgl/shaders/HighlightPrograms.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/HighlightPrograms.js");
/* harmony import */ var _engine_webgl_Profiler_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../engine/webgl/Profiler.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Profiler.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/* harmony import */ var _3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _3d_webgl_engine_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../3d/webgl-engine/lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _webgl_testSVGPremultipliedAlpha_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../webgl/testSVGPremultipliedAlpha.js */ "./node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js");
/* harmony import */ var _LabelManager_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../LabelManager.js */ "./node_modules/@arcgis/core/views/2d/LabelManager.js");
/* harmony import */ var _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./graphics/GraphicsView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js");
/* harmony import */ var _core_accessorSupport_tracking_Flags_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../../../core/accessorSupport/tracking/Flags.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking/Flags.js");
/* harmony import */ var _engine_webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../engine/webgl/AttributeStoreView.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js");
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../../../renderers/support/lengthUtils.js */ "./node_modules/@arcgis/core/renderers/support/lengthUtils.js");
/* harmony import */ var _chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../../../chunks/vec3f32.js */ "./node_modules/@arcgis/core/chunks/vec3f32.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _navigation_MapViewNavigation_js__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../navigation/MapViewNavigation.js */ "./node_modules/@arcgis/core/views/2d/navigation/MapViewNavigation.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _engine_webgl_shaders_MagnifierPrograms_js__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../engine/webgl/shaders/MagnifierPrograms.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/MagnifierPrograms.js");
/* harmony import */ var _BitmapTileLayerView2D_js__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./BitmapTileLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _graphics_HighlightGraphicContainer_js__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./graphics/HighlightGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js");
/* harmony import */ var _support_imageUtils_js__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./support/imageUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../tiling/TileQueue.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileQueue.js");
/* harmony import */ var _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../tiling/TileStrategy.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileStrategy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _layers_support_MapServiceLayerViewHelper_js__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../../layers/support/MapServiceLayerViewHelper.js */ "./node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js");
/* harmony import */ var _support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../../support/drapedUtils.js */ "./node_modules/@arcgis/core/views/support/drapedUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const T=[0,0];let v=class extends((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_87__["default"])((0,_BitmapTileLayerView2D_js__WEBPACK_IMPORTED_MODULE_78__.BitmapTileLayerView2D)((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_79__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_86__["default"])))){constructor(){super(...arguments),this._fetchQueue=null,this._highlightGraphics=new _support_GraphicsCollection_js__WEBPACK_IMPORTED_MODULE_10__.GraphicsCollection,this._highlightView=null,this._popupHighlightHelper=null,this._tileStrategy=null,this.layer=null}get resampling(){return!("resampling"in this.layer)||!1!==this.layer.resampling}get tilemapCache(){return"tilemapCache"in this.layer?this.layer.tilemapCache:null}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume(),this._highlightView?.processUpdate(e)}attach(){const e="tileServers"in this.layer?this.layer.tileServers:null,t=this.tilemapCache;if(this._tileInfoView=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_82__["default"](this.layer.tileInfo,this.layer.fullExtent,t?.effectiveMinLOD,t?.effectiveMaxLOD),this._fetchQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_84__["default"]({tileInfoView:this._tileInfoView,concurrency:e&&10*e.length||10,process:(e,t)=>this.fetchTile(e,t)}),this._tileStrategy=new _tiling_TileStrategy_js__WEBPACK_IMPORTED_MODULE_85__["default"]({cachePolicy:"keep",resampling:this.resampling,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView}),(0,_layers_support_MapServiceLayerViewHelper_js__WEBPACK_IMPORTED_MODULE_88__.isMapServiceLayerView)(this,this.layer)){const e=this._highlightView=new _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_66__["default"]({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new _graphics_HighlightGraphicContainer_js__WEBPACK_IMPORTED_MODULE_80__["default"](this.view.featuresTilingScheme),defaultPointSymbolEnabled:!1});this.container.addChild(this._highlightView.container),this._popupHighlightHelper=new _layers_support_MapServiceLayerViewHelper_js__WEBPACK_IMPORTED_MODULE_88__.MapServiceLayerViewHelper({createFetchPopupFeaturesQueryGeometry:(e,t)=>(0,_support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_89__.createQueryGeometry)(e,t,this.view),highlightGraphics:this._highlightGraphics,highlightGraphicUpdated:(t,i)=>{e.graphicUpdateHandler({graphic:t,property:i})},layerView:this,updatingHandles:this.updatingHandles})}this.requestUpdate(),this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.resampling),(()=>{this.doRefresh()}))),super.attach()}detach(){super.detach(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._popupHighlightHelper?.destroy(),this._fetchQueue=this._tileStrategy=this._tileInfoView=this._popupHighlightHelper=null}async fetchPopupFeatures(e,t){return this._popupHighlightHelper?this._popupHighlightHelper.fetchPopupFeatures(e,t):[]}highlight(e){return this._popupHighlightHelper?this._popupHighlightHelper.highlight(e):{remove(){}}}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}supportsSpatialReference(e){return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.equals)(this.layer.tileInfo?.spatialReference,e)}async doRefresh(){!this.attached||this.updateRequested||this.suspended||(this._fetchQueue.reset(),this._tileStrategy.refresh((e=>this._enqueueTileFetch(e))))}isUpdating(){return this._fetchQueue?.updating??!1}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(T,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this._bitmapView.addChild(t),this.requestUpdate(),t}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once("detach",(()=>e.destroy())),this.requestUpdate()}async fetchTile(e,t={}){const r=this.tilemapCache,{signal:s,resamplingLevel:o=0}=t;if(!r)try{return await this._fetchImage(e,s)}catch(a){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(a)&&!this.resampling)return (0,_support_imageUtils_js__WEBPACK_IMPORTED_MODULE_81__.createBlankImage)(this._tileInfoView.tileInfo.size);if(o<3){const i=this._tileInfoView.getTileParentId(e.id);if(i){const r=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_83__["default"](i),s=await this.fetchTile(r,{...t,resamplingLevel:o+1});return (0,_support_imageUtils_js__WEBPACK_IMPORTED_MODULE_81__.resampleImage)(this._tileInfoView,s,r,e)}}throw a}const l=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_83__["default"](0,0,0,0);let h;try{if(await r.fetchAvailabilityUpsample(e.level,e.row,e.col,l,{signal:s}),l.level!==e.level&&!this.resampling)return (0,_support_imageUtils_js__WEBPACK_IMPORTED_MODULE_81__.createBlankImage)(this._tileInfoView.tileInfo.size);h=await this._fetchImage(l,s)}catch(a){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(a))throw a;h=await this._fetchImage(e,s)}return this.resampling?(0,_support_imageUtils_js__WEBPACK_IMPORTED_MODULE_81__.resampleImage)(this._tileInfoView,h,l,e):h}async _enqueueTileFetch(e){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);e.bitmap.source=t,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.requestRender(),e.once("attach",(()=>this.requestUpdate()))}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}this.requestUpdate()}}async _fetchImage(e,t){return this.layer.fetchImageBitmapTile(e.level,e.row,e.col,{signal:t})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"_fetchQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"resampling",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"tilemapCache",null),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.TileLayerView2D")],v);const I=v;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19UaWxlTGF5ZXJWaWV3MkRfanMuY2ZjMjgxNTA2NTY4Y2RlZDE0MmMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3lwSSxjQUFjLG9CQUFvQiw0RUFBQyxDQUFDLGlGQUFDLENBQUMsa0VBQUMsQ0FBQyw2REFBQyxLQUFLLGNBQWMsc0VBQXNFLCtFQUFDLGtHQUFrRyxpQkFBaUIsK0RBQStELG1CQUFtQiwrREFBK0QsVUFBVSxxSkFBcUosU0FBUyxtRkFBbUYsMEJBQTBCLGdFQUFDLHVHQUF1Ryw2REFBQyxFQUFFLGtHQUFrRyx5QkFBeUIsZ0VBQUMsRUFBRSxvSkFBb0osRUFBRSxvR0FBQyxtQkFBbUIsZ0NBQWdDLG9FQUFDLEVBQUUsNkdBQTZHLCtFQUFDLDhEQUE4RCxFQUFFLHNGQUFzRixvR0FBQyxFQUFFLDZDQUE2Qyw2RUFBQywwRkFBMEYsd0JBQXdCLHFCQUFxQixFQUFFLHFEQUFxRCxFQUFFLDJDQUEyQyw2REFBQyw2QkFBNkIsaUJBQWlCLG1CQUFtQixTQUFTLHFPQUFxTyw4QkFBOEIsd0ZBQXdGLGFBQWEsMkVBQTJFLFlBQVksWUFBWSxxQkFBcUIsYUFBYSxxQkFBcUIsVUFBVSxxQkFBcUIsNEJBQTRCLE9BQU8sa0ZBQUMsMENBQTBDLGtCQUFrQiw0SUFBNEksYUFBYSxzQ0FBc0MsZUFBZSxrREFBa0QscVBBQXFQLGVBQWUseUhBQXlILHNCQUFzQixFQUFFLDJCQUEyQiw2QkFBNkIsR0FBRyxVQUFVLG1DQUFtQyxTQUFTLElBQUksbUVBQUMsNkJBQTZCLHlFQUFDLG1DQUFtQyxRQUFRLGlEQUFpRCxNQUFNLFlBQVksMkRBQUMsOEJBQThCLHlCQUF5QixFQUFFLE9BQU8sc0VBQUMsNEJBQTRCLFFBQVEsWUFBWSwyREFBQyxVQUFVLE1BQU0sSUFBSSw0REFBNEQsU0FBUyw2Q0FBNkMseUVBQUMsbUNBQW1DLDhCQUE4QixTQUFTLEdBQUcsbUVBQUMsWUFBWSw4QkFBOEIsdUJBQXVCLHNFQUFDLDZCQUE2QiwyQkFBMkIsb0NBQW9DLElBQUksMkNBQTJDLHVMQUF1TCxTQUFTLG1FQUFDLEtBQUssdURBQUMsMEJBQTBCLHNCQUFzQix1QkFBdUIsNERBQTRELFNBQVMsSUFBSSx1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLDZDQUE2QyxVQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9UaWxlTGF5ZXJWaWV3MkQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7R3JhcGhpY3NDb2xsZWN0aW9uIGFzIGh9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9HcmFwaGljc0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvc2NoZWR1bGluZy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29uZmlnLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jaHVua3MvaW5kZXgyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jaHVua3MvaW5kZXgzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9sYXllcnMvZWZmZWN0cy9FZmZlY3RWaWV3LmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvRGlzcGxheU9iamVjdC5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL2VmZmVjdHMvaGlnaGxpZ2h0L0hpZ2hsaWdodEdyYWRpZW50LmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvQnVmZmVyUG9vbC5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvYnJ1c2hlcy9CcnVzaEJpdG1hcC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY2h1bmtzL3ZlYzRmMzIuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9VdGlscy5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL3NoYWRlcnMvQmFja2dyb3VuZFByb2dyYW1zLmpzXCI7aW1wb3J0XCIuLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydFwiLi4vLi4vd2ViZ2wvY2hlY2tXZWJHTEVycm9yLmpzXCI7aW1wb3J0XCIuLi8uLi93ZWJnbC9jb250ZXh0VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NodW5rcy9idWlsdGlucy5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL21hdGVyaWFsS2V5L01hdGVyaWFsS2V5LmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvdGVjaG5pcXVlcy9UZWNobmlxdWUuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC90ZWNobmlxdWVzL2RvdERlbnNpdHkvVGVjaG5pcXVlRG90RGVuc2l0eS5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL3RlY2huaXF1ZXMvaGVhdG1hcC9UZWNobmlxdWVIZWF0bWFwLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvdGVjaG5pcXVlcy9waWVDaGFydC9UZWNobmlxdWVQaWVDaGFydC5qc1wiO2ltcG9ydFwiLi4vLi4vd2ViZ2wvQnVmZmVyT2JqZWN0LmpzXCI7aW1wb3J0XCIuLi8uLi93ZWJnbC9GcmFtZWJ1ZmZlck9iamVjdC5qc1wiO2ltcG9ydFwiLi4vLi4vd2ViZ2wvR0xPYmplY3RUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi93ZWJnbC9UZXh0dXJlLmpzXCI7aW1wb3J0XCIuLi8uLi93ZWJnbC9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL2JydXNoZXMvV0dMQnJ1c2hIZWF0bWFwLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvRGVmYXVsdFZlcnRleEF0dHJpYnV0ZUxheW91dHMuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9zaGFkZXJzL1RpbGVJbmZvUHJvZ3JhbXMuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9icnVzaGVzL1dHTEdlb21ldHJ5QnJ1c2hNYXJrZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvbnVtYmVyLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvdmVjdG9yVGlsZXMvc3R5bGUvU3R5bGVEZWZpbml0aW9uLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jaHVua3MvdmVjMmYzMi5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3ZlY3RvclRpbGVzL2VudW1zLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvdmVjdG9yVGlsZXMvc2hhZGVycy9zb3VyY2VzL3Jlc29sdmVyLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvc2hhZGVycy9CaXRCbGl0UHJvZ3JhbXMuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9zaGFkZXJzL3NvdXJjZXMvcmVzb2x2ZXIuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9UZXh0dXJlTWFuYWdlci5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL3NoYWRlcnMvU3RlbmNpbFByb2dyYW1zLmpzXCI7aW1wb3J0XCIuLi9lbmdpbmUvd2ViZ2wvZWZmZWN0cy9CbGVuZEVmZmVjdC5qc1wiO2ltcG9ydFwiLi4vZW5naW5lL3dlYmdsL3NoYWRlcnMvSGlnaGxpZ2h0UHJvZ3JhbXMuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9Qcm9maWxlci5qc1wiO2ltcG9ydFwiLi4vLi4vd2ViZ2wvcmVuZGVyU3RhdGUuanNcIjtpbXBvcnRcIi4uLy4uLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9mbG9hdFJHQkEuanNcIjtpbXBvcnRcIi4uLy4uLzNkL3dlYmdsLWVuZ2luZS9saWIvT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeS5qc1wiO2ltcG9ydFwiLi4vLi4vd2ViZ2wvdGVzdFNWR1ByZW11bHRpcGxpZWRBbHBoYS5qc1wiO2ltcG9ydFwiLi4vTGFiZWxNYW5hZ2VyLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9ncmFwaGljcy9HcmFwaGljc1ZpZXcyRC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvdHJhY2tpbmcvRmxhZ3MuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9BdHRyaWJ1dGVTdG9yZVZpZXcuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NodW5rcy9lYXJjdXQuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvbGVuZ3RoVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NodW5rcy92ZWMzZjMyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9uYXZpZ2F0aW9uL01hcFZpZXdOYXZpZ2F0aW9uLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnRcIi4uL2VuZ2luZS93ZWJnbC9zaGFkZXJzL01hZ25pZmllclByb2dyYW1zLmpzXCI7aW1wb3J0e0JpdG1hcFRpbGVMYXllclZpZXcyRCBhcyBufWZyb21cIi4vQml0bWFwVGlsZUxheWVyVmlldzJELmpzXCI7aW1wb3J0e0xheWVyVmlldzJETWl4aW4gYXMgcH1mcm9tXCIuL0xheWVyVmlldzJELmpzXCI7aW1wb3J0IGcgZnJvbVwiLi9ncmFwaGljcy9IaWdobGlnaHRHcmFwaGljQ29udGFpbmVyLmpzXCI7aW1wb3J0e2NyZWF0ZUJsYW5rSW1hZ2UgYXMgYyxyZXNhbXBsZUltYWdlIGFzIG19ZnJvbVwiLi9zdXBwb3J0L2ltYWdlVXRpbHMuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi90aWxpbmcvVGlsZUluZm9WaWV3LmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vdGlsaW5nL1RpbGVLZXkuanNcIjtpbXBvcnQgdyBmcm9tXCIuLi90aWxpbmcvVGlsZVF1ZXVlLmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vdGlsaW5nL1RpbGVTdHJhdGVneS5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi8uLi9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanNcIjtpbXBvcnR7aXNNYXBTZXJ2aWNlTGF5ZXJWaWV3IGFzIGIsTWFwU2VydmljZUxheWVyVmlld0hlbHBlciBhcyBffWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L01hcFNlcnZpY2VMYXllclZpZXdIZWxwZXIuanNcIjtpbXBvcnR7Y3JlYXRlUXVlcnlHZW9tZXRyeSBhcyBWfWZyb21cIi4uLy4uL3N1cHBvcnQvZHJhcGVkVXRpbHMuanNcIjtjb25zdCBUPVswLDBdO2xldCB2PWNsYXNzIGV4dGVuZHMoeShuKHAoZCkpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2ZldGNoUXVldWU9bnVsbCx0aGlzLl9oaWdobGlnaHRHcmFwaGljcz1uZXcgaCx0aGlzLl9oaWdobGlnaHRWaWV3PW51bGwsdGhpcy5fcG9wdXBIaWdobGlnaHRIZWxwZXI9bnVsbCx0aGlzLl90aWxlU3RyYXRlZ3k9bnVsbCx0aGlzLmxheWVyPW51bGx9Z2V0IHJlc2FtcGxpbmcoKXtyZXR1cm4hKFwicmVzYW1wbGluZ1wiaW4gdGhpcy5sYXllcil8fCExIT09dGhpcy5sYXllci5yZXNhbXBsaW5nfWdldCB0aWxlbWFwQ2FjaGUoKXtyZXR1cm5cInRpbGVtYXBDYWNoZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLnRpbGVtYXBDYWNoZTpudWxsfXVwZGF0ZShlKXt0aGlzLl9mZXRjaFF1ZXVlLnBhdXNlKCksdGhpcy5fZmV0Y2hRdWV1ZS5zdGF0ZT1lLnN0YXRlLHRoaXMuX3RpbGVTdHJhdGVneS51cGRhdGUoZSksdGhpcy5fZmV0Y2hRdWV1ZS5yZXN1bWUoKSx0aGlzLl9oaWdobGlnaHRWaWV3Py5wcm9jZXNzVXBkYXRlKGUpfWF0dGFjaCgpe2NvbnN0IGU9XCJ0aWxlU2VydmVyc1wiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLnRpbGVTZXJ2ZXJzOm51bGwsdD10aGlzLnRpbGVtYXBDYWNoZTtpZih0aGlzLl90aWxlSW5mb1ZpZXc9bmV3IHUodGhpcy5sYXllci50aWxlSW5mbyx0aGlzLmxheWVyLmZ1bGxFeHRlbnQsdD8uZWZmZWN0aXZlTWluTE9ELHQ/LmVmZmVjdGl2ZU1heExPRCksdGhpcy5fZmV0Y2hRdWV1ZT1uZXcgdyh7dGlsZUluZm9WaWV3OnRoaXMuX3RpbGVJbmZvVmlldyxjb25jdXJyZW5jeTplJiYxMCplLmxlbmd0aHx8MTAscHJvY2VzczooZSx0KT0+dGhpcy5mZXRjaFRpbGUoZSx0KX0pLHRoaXMuX3RpbGVTdHJhdGVneT1uZXcgaih7Y2FjaGVQb2xpY3k6XCJrZWVwXCIscmVzYW1wbGluZzp0aGlzLnJlc2FtcGxpbmcsYWNxdWlyZVRpbGU6ZT0+dGhpcy5hY3F1aXJlVGlsZShlKSxyZWxlYXNlVGlsZTplPT50aGlzLnJlbGVhc2VUaWxlKGUpLHRpbGVJbmZvVmlldzp0aGlzLl90aWxlSW5mb1ZpZXd9KSxiKHRoaXMsdGhpcy5sYXllcikpe2NvbnN0IGU9dGhpcy5faGlnaGxpZ2h0Vmlldz1uZXcgYSh7dmlldzp0aGlzLnZpZXcsZ3JhcGhpY3M6dGhpcy5faGlnaGxpZ2h0R3JhcGhpY3MscmVxdWVzdFVwZGF0ZUNhbGxiYWNrOigpPT50aGlzLnJlcXVlc3RVcGRhdGUoKSxjb250YWluZXI6bmV3IGcodGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lKSxkZWZhdWx0UG9pbnRTeW1ib2xFbmFibGVkOiExfSk7dGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5faGlnaGxpZ2h0Vmlldy5jb250YWluZXIpLHRoaXMuX3BvcHVwSGlnaGxpZ2h0SGVscGVyPW5ldyBfKHtjcmVhdGVGZXRjaFBvcHVwRmVhdHVyZXNRdWVyeUdlb21ldHJ5OihlLHQpPT5WKGUsdCx0aGlzLnZpZXcpLGhpZ2hsaWdodEdyYXBoaWNzOnRoaXMuX2hpZ2hsaWdodEdyYXBoaWNzLGhpZ2hsaWdodEdyYXBoaWNVcGRhdGVkOih0LGkpPT57ZS5ncmFwaGljVXBkYXRlSGFuZGxlcih7Z3JhcGhpYzp0LHByb3BlcnR5Oml9KX0sbGF5ZXJWaWV3OnRoaXMsdXBkYXRpbmdIYW5kbGVzOnRoaXMudXBkYXRpbmdIYW5kbGVzfSl9dGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5hZGRBdHRhY2hIYW5kbGVzKHIoKCgpPT50aGlzLnJlc2FtcGxpbmcpLCgoKT0+e3RoaXMuZG9SZWZyZXNoKCl9KSkpLHN1cGVyLmF0dGFjaCgpfWRldGFjaCgpe3N1cGVyLmRldGFjaCgpLHRoaXMuX3RpbGVTdHJhdGVneS5kZXN0cm95KCksdGhpcy5fZmV0Y2hRdWV1ZS5jbGVhcigpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCksdGhpcy5fcG9wdXBIaWdobGlnaHRIZWxwZXI/LmRlc3Ryb3koKSx0aGlzLl9mZXRjaFF1ZXVlPXRoaXMuX3RpbGVTdHJhdGVneT10aGlzLl90aWxlSW5mb1ZpZXc9dGhpcy5fcG9wdXBIaWdobGlnaHRIZWxwZXI9bnVsbH1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5fcG9wdXBIaWdobGlnaHRIZWxwZXI/dGhpcy5fcG9wdXBIaWdobGlnaHRIZWxwZXIuZmV0Y2hQb3B1cEZlYXR1cmVzKGUsdCk6W119aGlnaGxpZ2h0KGUpe3JldHVybiB0aGlzLl9wb3B1cEhpZ2hsaWdodEhlbHBlcj90aGlzLl9wb3B1cEhpZ2hsaWdodEhlbHBlci5oaWdobGlnaHQoZSk6e3JlbW92ZSgpe319fW1vdmVTdGFydCgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfXZpZXdDaGFuZ2UoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1tb3ZlRW5kKCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9c3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpe3JldHVybiBsKHRoaXMubGF5ZXIudGlsZUluZm8/LnNwYXRpYWxSZWZlcmVuY2UsZSl9YXN5bmMgZG9SZWZyZXNoKCl7IXRoaXMuYXR0YWNoZWR8fHRoaXMudXBkYXRlUmVxdWVzdGVkfHx0aGlzLnN1c3BlbmRlZHx8KHRoaXMuX2ZldGNoUXVldWUucmVzZXQoKSx0aGlzLl90aWxlU3RyYXRlZ3kucmVmcmVzaCgoZT0+dGhpcy5fZW5xdWV1ZVRpbGVGZXRjaChlKSkpKX1pc1VwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX2ZldGNoUXVldWU/LnVwZGF0aW5nPz8hMX1hY3F1aXJlVGlsZShlKXtjb25zdCB0PXRoaXMuX2JpdG1hcFZpZXcuY3JlYXRlVGlsZShlKSxpPXQuYml0bWFwO3JldHVybltpLngsaS55XT10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZUNvb3JkcyhULHQua2V5KSxpLnJlc29sdXRpb249dGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVSZXNvbHV0aW9uKHQua2V5KSxbaS53aWR0aCxpLmhlaWdodF09dGhpcy5fdGlsZUluZm9WaWV3LnRpbGVJbmZvLnNpemUsdGhpcy5fZW5xdWV1ZVRpbGVGZXRjaCh0KSx0aGlzLl9iaXRtYXBWaWV3LmFkZENoaWxkKHQpLHRoaXMucmVxdWVzdFVwZGF0ZSgpLHR9cmVsZWFzZVRpbGUoZSl7dGhpcy5fZmV0Y2hRdWV1ZS5hYm9ydChlLmtleS5pZCksdGhpcy5fYml0bWFwVmlldy5yZW1vdmVDaGlsZChlKSxlLm9uY2UoXCJkZXRhY2hcIiwoKCk9PmUuZGVzdHJveSgpKSksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9YXN5bmMgZmV0Y2hUaWxlKGUsdD17fSl7Y29uc3Qgcj10aGlzLnRpbGVtYXBDYWNoZSx7c2lnbmFsOnMscmVzYW1wbGluZ0xldmVsOm89MH09dDtpZighcil0cnl7cmV0dXJuIGF3YWl0IHRoaXMuX2ZldGNoSW1hZ2UoZSxzKX1jYXRjaChhKXtpZighaShhKSYmIXRoaXMucmVzYW1wbGluZylyZXR1cm4gYyh0aGlzLl90aWxlSW5mb1ZpZXcudGlsZUluZm8uc2l6ZSk7aWYobzwzKXtjb25zdCBpPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlUGFyZW50SWQoZS5pZCk7aWYoaSl7Y29uc3Qgcj1uZXcgZihpKSxzPWF3YWl0IHRoaXMuZmV0Y2hUaWxlKHIsey4uLnQscmVzYW1wbGluZ0xldmVsOm8rMX0pO3JldHVybiBtKHRoaXMuX3RpbGVJbmZvVmlldyxzLHIsZSl9fXRocm93IGF9Y29uc3QgbD1uZXcgZigwLDAsMCwwKTtsZXQgaDt0cnl7aWYoYXdhaXQgci5mZXRjaEF2YWlsYWJpbGl0eVVwc2FtcGxlKGUubGV2ZWwsZS5yb3csZS5jb2wsbCx7c2lnbmFsOnN9KSxsLmxldmVsIT09ZS5sZXZlbCYmIXRoaXMucmVzYW1wbGluZylyZXR1cm4gYyh0aGlzLl90aWxlSW5mb1ZpZXcudGlsZUluZm8uc2l6ZSk7aD1hd2FpdCB0aGlzLl9mZXRjaEltYWdlKGwscyl9Y2F0Y2goYSl7aWYoaShhKSl0aHJvdyBhO2g9YXdhaXQgdGhpcy5fZmV0Y2hJbWFnZShlLHMpfXJldHVybiB0aGlzLnJlc2FtcGxpbmc/bSh0aGlzLl90aWxlSW5mb1ZpZXcsaCxsLGUpOmh9YXN5bmMgX2VucXVldWVUaWxlRmV0Y2goZSl7aWYoIXRoaXMuX2ZldGNoUXVldWUuaGFzKGUua2V5LmlkKSl7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hRdWV1ZS5wdXNoKGUua2V5KTtlLmJpdG1hcC5zb3VyY2U9dCxlLmJpdG1hcC53aWR0aD10aGlzLl90aWxlSW5mb1ZpZXcudGlsZUluZm8uc2l6ZVswXSxlLmJpdG1hcC5oZWlnaHQ9dGhpcy5fdGlsZUluZm9WaWV3LnRpbGVJbmZvLnNpemVbMV0sZS5yZXF1ZXN0UmVuZGVyKCksZS5vbmNlKFwiYXR0YWNoXCIsKCgpPT50aGlzLnJlcXVlc3RVcGRhdGUoKSkpfWNhdGNoKHIpe2kocil8fHQuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHIpfXRoaXMucmVxdWVzdFVwZGF0ZSgpfX1hc3luYyBfZmV0Y2hJbWFnZShlLHQpe3JldHVybiB0aGlzLmxheWVyLmZldGNoSW1hZ2VCaXRtYXBUaWxlKGUubGV2ZWwsZS5yb3csZS5jb2wse3NpZ25hbDp0fSl9fTtlKFtzKCldLHYucHJvdG90eXBlLFwiX2ZldGNoUXVldWVcIix2b2lkIDApLGUoW3MoKV0sdi5wcm90b3R5cGUsXCJyZXNhbXBsaW5nXCIsbnVsbCksZShbcygpXSx2LnByb3RvdHlwZSxcInRpbGVtYXBDYWNoZVwiLG51bGwpLHY9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLlRpbGVMYXllclZpZXcyRFwiKV0sdik7Y29uc3QgST12O2V4cG9ydHtJIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9