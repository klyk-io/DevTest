"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["defaultVendors-node_modules_arcgis_core_layers_ImageryTileLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/ByteSizeUnit.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/ByteSizeUnit.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByteSizeUnit: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var E;!function(E){E[E.KILOBYTES=1024]="KILOBYTES",E[E.MEGABYTES=1048576]="MEGABYTES",E[E.GIGABYTES=1073741824]="GIGABYTES"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/UintArray.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UintArray.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newUintArray: () => (/* binding */ t),
/* harmony export */   uintArrayFrom: () => (/* binding */ e),
/* harmony export */   uintSubArray: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.NATIVE_ARRAY_MAX_SIZE?t?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.NATIVE_ARRAY_MAX_SIZE?Array.from(t):new Uint32Array(t)}function y(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ImageryTileLayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ImageryTileLayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ J)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/ImageryTileMixin.js */ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_Field_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./support/rasterEnums.js */ "./node_modules/@arcgis/core/layers/support/rasterEnums.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/rasterDatasets/RasterFactory.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let _=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_15__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_21__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__.PortalLayer)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_16__.CustomParametersMixin)((0,_mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_17__.ImageryTileMixin)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_22__.TemporalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_14__.ArcGISService)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_20__.RefreshableLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_13__["default"]))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode="show",this.sourceJSON=null,this.version=null,this.type="imagery-tile",this.operationalLayerType="ArcGISTiledImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAbortError).then((()=>this._openRaster(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.ServicePixelValue",alias:"Pixel Value",domain:null,editable:!1,length:50,type:"string"}),new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.ServicePixelValue.Raw",alias:"Raw Pixel Value",domain:null,editable:!1,length:50,type:"string"})],{rasterInfo:r}=this,t=r?.attributeTable,s=null!=t?t.fields:null,i="Raster.";if(s){const r=s.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));e.push(...r)}const o=r?.dataType,a=r?.multidimensionalInfo;if(("vector-magdir"===o||"vector-uv"===o)&&null!=a){const r=a.variables[0].unit?.trim(),t="Magnitude"+(r?` (${r})`:"");e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.Magnitude",alias:t,domain:null,editable:!1,type:"double"})),e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"Raster.Direction",alias:"Direction (°)",domain:null,editable:!1,type:"double"}))}return e}createPopupTemplate(e){const{rasterFields:r}=this,t=new Set(r.map((({name:e})=>e)).filter((e=>"raster.servicepixelvalue.raw"!==e.toLowerCase())));return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_30__.createPopupTemplate)({fields:r,title:this.title},{...e,visibleFieldNames:t})}async generateRasterInfo(e,r){if(!(e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__.ensureClass)(_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_26__["default"],e)))return this.rasterInfo;try{const t={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>t[e.url]=e));const s=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__.create)(e.functionDefinition?.toJSON()??e.toJSON(),t),i=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_27__["default"]({rasterFunction:s});return await i.open(r),i.rasterInfo}catch(s){if(s instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"])throw s;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imagery-tile-layer","the given raster function is not supported")}}write(e,r){const s=this._primaryRasters[0]??this.raster;if(this.loaded?"RasterTileServer"===s.datasetFormat&&("Raster"===s.tileType||"Map"===s.tileType):this.url&&/\/ImageServer(\/|\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||"operational-layers"}`;r.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let r=!1;if(this.raster)this.raster.rasterInfo||await this.raster.open(),"Function"===this.raster.datasetFormat?(r=!0,this._primaryRasters=this.raster.primaryRasters.rasters):this._primaryRasters=[this.raster],this.url=this.raster.url;else{const{rasterFunction:r}=this,i=[this.url];r&&(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__.getPrimaryRasterUrls)(r.toJSON(),i);const a=await Promise.all(i.map((r=>_support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_28__["default"].open({url:r,sourceJSON:this.sourceJSON,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:e})))),n=a.findIndex((e=>null==e));if(n>-1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imagery-tile-layer:open",`cannot open raster: ${i[n]}`);if(this._primaryRasters=a,r){const e={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((r=>e[r.url]=r));const i=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_29__.create)(r.functionDefinition?.toJSON()??r.toJSON(),e),n=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_27__["default"]({rasterFunction:i});try{await n.open(),this.raster=n}catch(o){const e=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this);o instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]&&e.error("imagery-tile-layer:open",o.message),e.warn("imagery-tile-layer:open","the raster function cannot be applied and is removed"),this._set("rasterFunction",null),this.raster=a[0]}}else this.raster=a[0]}const i=this.raster.rasterInfo;if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imagery-tile-layer:load","cannot load resources on "+this.url);if(this._set("rasterInfo",r?i:this._primaryRasters[0].rasterInfo),this._set("spatialReference",i.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e="Map"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:"service"})}else this.read({tileInfo:this.rasterInfo.storageInfo.tileInfo.toJSON()},{origin:"service"});this.title||(this.title=this.raster.datasetName),"Map"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],_.prototype,"_primaryRasters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__.Integer],json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"0,1,2"!==this.bandIds?.join(",")}}}}})],_.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"bilinear"!==this.interpolation}}}}}),(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_11__.enumeration)(_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_25__.interpolationKebab)],_.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_23__.legendEnabled)],_.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],_.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["show","hide"]})],_.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!0,write:!0}})],_.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],_.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,json:{origins:{service:{read:{source:"currentVersion"}}}}})],_.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,json:{read:!1}})],_.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["ArcGISTiledImageServiceLayer"]})],_.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}},writer(e,r,t){r[t]=!e}}}})],_.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}}}}})],_.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],_.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]]})],_.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_24__["default"]]})],_.prototype,"rasterFields",null),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.layers.ImageryTileLayer")],_);const J=_;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageryTileMixin: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../rasterRenderers.js */ "./node_modules/@arcgis/core/rasterRenderers.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/MultidimensionalSubset.js */ "./node_modules/@arcgis/core/layers/support/MultidimensionalSubset.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/RasterJobHandler.js */ "./node_modules/@arcgis/core/layers/support/RasterJobHandler.js");
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/rasterDatasets/multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/rasterFunctions/clipUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../renderers/support/rasterRendererHelper.js */ "./node_modules/@arcgis/core/renderers/support/rasterRendererHelper.js");
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../renderers/support/RasterSymbolizer.js */ "./node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js");
/* harmony import */ var _rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../rest/support/ImageHistogramParameters.js */ "./node_modules/@arcgis/core/rest/support/ImageHistogramParameters.js");
/* harmony import */ var _views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../views/2d/engine/flow/dataUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const B=_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger("esri.layers.mixins.ImageryTileMixin"),V=o=>{let V=class extends o{constructor(...t){super(...t),this._isConstructedFromFunctionRaster=!1,this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.interpolation="nearest",this.multidimensionalSubset=null,this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster="Function"===t[0]?.raster?.datasetFormat}get fullExtent(){return this.rasterInfo?.extent}set multidimensionalDefinition(t){this._set("multidimensionalDefinition",t),this.updateRenderer()}set rasterFunction(t){"none"===t?.functionName?.toLowerCase()&&(t=void 0),this._set("rasterFunction",t),this.updateRasterFunction()}set url(t){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__.sanitizeUrl)(t,B))}set renderer(t){null==t&&null==this.rasterFunction?this._configDefaultRenderer("override"):(this._set("renderer",t),this.updateRenderer())}readRenderer(t,e,r){const n=e?.layerDefinition?.drawingInfo?.renderer;return (0,_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.read)(n,r)||void 0}async convertVectorFieldData(t,e){if(null==t||!this.rasterInfo)return null;const r=this._rasterJobHandler.instance,i=this.rasterInfo.dataType;return r?r.convertVectorFieldData({pixelBlock:t,dataType:i},e):(0,_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertVectorFieldData)(t,i)}async computeStatisticsHistograms(t,e){t=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__.ensureClass)(_rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__["default"],t).clone();const{rasterInfo:r}=this,{geometry:i}=t;if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","geometry must be specified");let n=i;const{spatialReference:o}=r;i.spatialReference.equals(o)||(await (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)(),n="extent"===i.type?(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(i,o):(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPolygon)(i,o));const a=t.pixelSize??new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__["default"]({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:o}),{extent:u,width:c,height:d}=(0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.snapToRaster)(r,n,a),m=await this.fetchPixels(u,c,d,{...e,interpolation:"nearest"});if(null==m.pixelBlock)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","failed to fetch pixels");const h=await (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.clip)(m.pixelBlock,u,n),p=this._rasterJobHandler.instance;return p?p.computeStatisticsHistograms({pixelBlock:h},e):(0,_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__.computeStatisticsHistograms)(h)}async createFlowMesh(t,e){const r=this._rasterJobHandler.instance;return r?r.createFlowMesh(t,e):(0,_views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__.createFlowMesh)(t.meshType,t.simulationSettings,t.flowData,null!=e.signal?e.signal:(new AbortController).signal)}normalizeRasterFetchOptions(t){const{multidimensionalInfo:e}=this.rasterInfo??{};if(null==e)return t;let r=t.multidimensionalDefinition||this.multidimensionalDefinition;null!=r&&r.length||(r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset}));const i=t.timeExtent||this.timeExtent;if(null!=r&&null!=i&&(null!=i.start||null!=i.end)){r=r.map((t=>t.clone()));const n=e.variables.find((({name:t})=>t===r[0].variableName))?.dimensions?.find((({name:t})=>"StdTime"===t)),s=r.find((({dimensionName:t})=>"StdTime"===t));if(!n||!s)return{...t,multidimensionalDefinition:null};const{start:o,end:a}=i,l=null==o?null:o.getTime(),u=null==a?null:a.getTime(),c=l??u,d=u??l;if(null!=n.values){const t=n.values.filter((t=>{if(Array.isArray(t)){if(c===d)return t[0]<=c&&t[1]>=c;const e=t[0]<=c&&t[1]>c||t[0]<d&&t[1]>=d,r=t[0]>=c&&t[1]<=d||t[0]<c&&t[1]>d;return e||r}return c===d?t===c:t>=c&&t<=d}));if(t.length){const e=t.sort(((t,e)=>{const r=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:t,n=Array.isArray(e)?e[0]:e,s=Array.isArray(e)?e[1]:e;if(c===d)return r-n;return Math.abs(i-d)-Math.abs(s-d)}))[0];s.values=[e]}else r=null}else if(n.hasRegularIntervals&&n.extent){const[t,e]=n.extent;c>e||d<t?r=null:s.values=c===d?[c]:[Math.max(t,c),Math.min(e,d)]}}return null!=r&&(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.hasExcludedVariableOrDimension)(r,this.multidimensionalSubset)?{...t,multidimensionalDefinition:null}:{...t,multidimensionalDefinition:r}}async updateRasterFunction(){if(!this.loaded||"imagery-tile"!==this.type||!this.rasterFunction&&!this._cachedRasterFunctionJson||JSON.stringify(this.rasterFunction)===JSON.stringify(this._cachedRasterFunctionJson))return;if(this._isConstructedFromFunctionRaster&&"Function"===this.raster.datasetFormat){const t=this.raster.rasterFunction.toJSON();return!this.rasterFunction&&t&&this._set("rasterFunction",_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(t)),void(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON())}let t,e=this.raster,r=!1;"Function"===e.datasetFormat?(t=e.primaryRasters.rasters,e=t[0],r=!0):t=[e];const{rasterFunction:i}=this;if(i){const r={raster:e};t.length>1&&t.forEach((t=>r[t.url]=t));const n=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__.create)(i.functionDefinition?.toJSON()??i.toJSON(),r),s=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__["default"]({rasterFunction:n});s.rasterJobHandler=this._rasterJobHandler.instance,await s.open(),this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this.raster=s}else this.raster=e,this._cachedRasterFunctionJson=null,await e.when();if(this._cachedRendererJson=null,!r&&!i)return;const{bandIds:n}=this,{bandCount:s}=this.raster.rasterInfo,o=n?.length?n.some((t=>t>=s)):s>=3;n&&(o||this.renderer&&"raster-stretch"!==this.renderer.type)&&this._set("bandIds",null),this._configDefaultRenderer("auto")}async updateRenderer(){const{loaded:t,symbolizer:e}=this;if(!t||!e||!this.renderer)return;const{rasterInfo:r}=this.raster,i=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=i?.name,s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:n});if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(s))return;const o=this._rasterJobHandler.instance;o&&(e.rasterInfo=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(r,n),e.rendererJSON=s,e.bind(),await o.updateSymbolizer(e),this._cachedRendererJson=s)}async applyRenderer(t,e){const r=t&&t.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;let i;await this.updateRenderer();const n=this._rasterJobHandler.instance,s=this.bandIds??[];return i=n?await n.symbolize({...t,simpleStretchParams:e,bandIds:s}):this.symbolizer.symbolize({...t,simpleStretchParams:e,bandIds:s}),i}getTileUrl(t,e,r){return"RasterTileServer"===this.raster.datasetFormat?`${this.url}/tile/${t}/${e}/${r}`:""}getCompatibleTileInfo(t,e,r=!1){if(!this.loaded||null==e)return null;if(r&&t.equals(this.spatialReference))return this.tileInfo;const i=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.getInfo)(t);return _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create({size:256,spatialReference:t,origin:i?{x:i.origin[0],y:i.origin[1]}:{x:e.xmin,y:e.ymax}})}getCompatibleFullExtent(t){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(t)||(this._compatibleFullExtent=this.raster.computeExtent(t)),this._compatibleFullExtent):null}async fetchTile(t,e,r,i={}){if(L(this),i.requestAsImageElement){const s=this.getTileUrl(t,e,r);return (0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(s,{responseType:"image",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:i.signal}).then((t=>t.data))}const{rasterInfo:s}=this;if(null!=s.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition){const n=i.tileInfo||s.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(t,e,r,n),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),"raster-shaded-relief"===this.renderer?.type&&(i={...i,buffer:{cols:1,rows:1}}),this.raster.fetchTile(t,e,r,i)}async fetchPixels(t,e,r,i={}){return null!=this.rasterInfo.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition?{extent:t,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),e=Math.round(e),r=Math.round(r),this.raster.fetchPixels(t,e,r,i))}async identify(t,e={}){const{raster:r,rasterInfo:i}=this;if(null!=i.multidimensionalInfo){if(!(i.hasMultidimensionalTranspose&&!!((0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.isMultiSliceOrRangeDefinition)(e.multidimensionalDefinition)||e.transposedVariableName||e.timeExtent))&&null==(e=this.normalizeRasterFetchOptions(e)).multidimensionalDefinition)return{location:t,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(t))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");return r.identify(t,e)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}hasStandardTime(){const t=this.rasterInfo?.multidimensionalInfo;if(null==t||"standard-time"!==this.rasterInfo?.dataType)return!1;const e=this.multidimensionalDefinition,r=e?.[0]?.variableName;return t.variables.some((t=>t.name===r&&(!e?.[0].dimensionName||t.dimensions.some((t=>"StdTime"===t.name)))))}getStandardTimeValue(t){return new Date(24*(t-25569)*3600*1e3).toString()}getMultidimensionalSubsetVariables(t){const e=t??this.rasterInfo?.multidimensionalInfo;return (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getSubsetVariablesFromMdInfo)(this.multidimensionalSubset,e)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&"Function"===this.raster.datasetFormat&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const t=new _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__["default"];return this._rasterJobHandler.connectionPromise=t.initialize().then((async()=>{L(this),this._rasterJobHandler.instance=t,this.raster.rasterJobHandler=t,"Function"===this.raster.datasetFormat&&this.raster.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{})),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null,this.raster&&(this.raster.rasterJobHandler=null)}_configDefaultInterpolation(){if(null==this.interpolation){L(this);const{raster:t}=this,e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultInterpolation)(t.rasterInfo,t.tileType,this.sourceJSON?.defaultResamplingMethod);this._set("interpolation",e)}}_configDefaultRenderer(t="no"){L(this);const{rasterInfo:e}=this.raster;!this.bandIds&&e.bandCount>1&&(this.bandIds=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultBandCombination)(e));const r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(e,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),i=r?.name;if(!this.renderer||"override"===t){const t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(e,{bandIds:this.bandIds,variableName:i}),r=e.statistics,n=r&&r.length>0?r[0]:null,s=n?.max??0,o=n?.min??0;"WCSServer"===this.raster.datasetFormat&&"raster-stretch"===t.type&&(s>1e24||o<-1e24)&&(t.dynamicRangeAdjustment=!0,t.statistics=null,"none"===t.stretchType&&(t.stretchType="min-max")),this.renderer=t}const n=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:i}),s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(e,i);this.symbolizer?(this.symbolizer.rendererJSON=n,this.symbolizer.rasterInfo=s):this.symbolizer=new _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rendererJSON:n,rasterInfo:s});const o=this.symbolizer.bind();if(o.success){if("auto"===t){const{colormap:t}=this.raster.rasterInfo,e=this.renderer;if(null!=t&&"raster-colormap"===e.type){const t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(this.raster.rasterInfo);JSON.stringify(t)!==JSON.stringify(e)&&this._configDefaultRenderer("override")}else if("raster-stretch"===e.type){const t=this.bandIds?.length,r=e.statistics?.length;!e.dynamicRangeAdjustment&&r&&t&&r!==t&&this._configDefaultRenderer("override")}}}else B.warn("imagery-tile-mixin",o.error||"The given renderer is not supported by the layer."),"auto"===t&&this._configDefaultRenderer("override")}};function L(t){if(!t.raster||!t.rasterInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile","no raster")}return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_cachedRendererJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_cachedRasterFunctionJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_compatibleFullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_isConstructedFromFunctionRaster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"_rasterJobHandler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{origins:{service:{read:{source:"copyrightText"}}}}})],V.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!1}})],V.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:[_support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__["default"]],json:{write:!0}})],V.prototype,"multidimensionalDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__["default"],json:{write:!0}})],V.prototype,"multidimensionalSubset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"],json:{name:"renderingRule",write:!0}})],V.prototype,"rasterFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__["default"],json:{read:!1}})],V.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],V.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__.url)],V.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.rasterRendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(){const t="raster-stretch"===this.renderer?.type&&"none"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||"Raster"===this.raster.tileType||!t}}},origins:{"web-scene":{types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.websceneRasterRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:t=>({enabled:t&&"vector-field"!==t.type&&"flow"!==t.type})}}}}})],V.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("renderer")],V.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"symbolizer",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.ImageryTileMixin")],V),V};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/Tilemap.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/Tilemap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tilemap: () => (/* binding */ r),
/* harmony export */   tilemapDefinitionId: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_UintArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/UintArray.js */ "./node_modules/@arcgis/core/geometry/support/UintArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r{constructor(t){this._validateJSON(t);const{location:i,data:e}=t;this.location=Object.freeze((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(i));const r=this.location.width,n=this.location.height;let s=!0,h=!0;const c=Math.ceil(r*n/32),m=(0,_geometry_support_UintArray_js__WEBPACK_IMPORTED_MODULE_5__.newUintArray)(c);let f=0;for(let a=0;a<e.length;a++){const t=a%32;e[a]?(h=!1,m[f]|=1<<t):s=!1,31===t&&++f}h?(this._availability="unavailable",this.byteSize=40):s?(this._availability="available",this.byteSize=40):(this._availability=m,this.byteSize=40+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__.estimateSize)(m))}getAvailability(t,i){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?"unknown":l[o]&1<<a?"available":"unavailable"}static fromDefinition(a,o){const l=a.service.request||_request_js__WEBPACK_IMPORTED_MODULE_0__["default"],{row:n,col:h,width:c,height:m}=a,f={query:{f:"json"}};return o=o?{...f,...o}:f,l(s(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:n,left:h,width:c,height:m},valid:!0,data:(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.constant)(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==n||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:n,left:h,width:c,height:m}});return r.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new r(t))}_validateJSON(t){if(!t||!t.location)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:missing-location","Location missing from tilemap response");if(!1===t.valid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function n(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function s(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TilemapCache.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TilemapCache.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TilemapCache: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/* harmony import */ var _Tilemap_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Tilemap.js */ "./node_modules/@arcgis/core/layers/support/Tilemap.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var w;let T=w=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._pendingTilemapRequests={},this.request=_request_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_6__.LRUCache(2*_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__.ByteSizeUnit.MEGABYTES),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.watch)((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial)])}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.onAbort)(a,(()=>t((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.createAbortError)())));const i=(0,_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.tilemapDefinitionId)(l);let s=this._pendingTilemapRequests[i];if(!s){s=_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.Tilemap.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})):this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof _Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.Tilemap){const l=r.getAvailability(t,i);if("unavailable"===l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i});return l}if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(r))throw r;return"unknown"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let c=!1;const h=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)((()=>{c||(c=!0,n.abort())}));if(this.addHandles(h,a),await (0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_10__.waitTicks)(10,n.signal).catch((()=>{})),c||(c=!0,this.removeHandles(a)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAborted)(n))return;const m=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.objectToQuery)({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=(0,_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.tilemapDefinitionId)(r);return this._tilemapCache.get(s)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};T._maxPrefetch=4,T._prefetches=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_7__["default"]({initialSize:w._maxPrefetch}),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"minLOD",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"maxLOD",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"request",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"size",void 0),T=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.support.TilemapCache")],T);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./RawBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js");
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../rasterFormats/pixelRangeUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const N=8,V=256;let U=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_7__.EsriPromiseMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.JSONSupport)){constructor(){super(...arguments),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:"closest"}}async init(){const e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:"closest",tileInfo:_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||"gcs-shift"===e.type}set rasterJobHandler(e){this._set("rasterJobHandler",e),"Function"===this.datasetFormat&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}set url(e){this._set("url",(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__.sanitizeUrl)(e,_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this)))}async open(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:open-not-implemented","open() is not implemented")}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__.ensureClass)(_geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"],e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const a=null!=s&&n&&(null!=o||(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.isMultiSliceOrRangeDefinition)(i));if(a&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:m,extent:f}=r,{datumTransformation:u}=t;let h=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPoint)(e,m,u);if(!f.intersects(h))return{location:h,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(h);if(!r.nativeExtent.intersects(e))return{location:e,value:null};h=e}let p=0;const d=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if("Function"===this.datasetFormat){const e=this.primaryRasters.rasters[0];if(d)return e.identify(h,t);const{pixelSize:i}=r,o=3,n=i.x*o/2,s=i.y*o/2,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:h.x-n,xmax:h.x+n,ymin:h.y-s,ymax:h.y+s,spatialReference:m}),a={interpolation:"nearest"},{pixelBlock:c}=await e.fetchPixels(l,o,o,a),{pixelBlock:f}=await this.fetchPixels(l,o,o,a);if(null==c)return{location:h,value:null};const u=Math.floor(o*o*.5),p=!c.mask||c.mask[u]?c.pixels.map((e=>e[u])):null;let x;return null!=f&&(x=!f.mask||f.mask[u]?f.pixels.map((e=>e[u])):void 0),{location:h,value:p,processedValue:x,pyramidLevel:0}}if(!d)if(t.srcResolution){p=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapPyramid)(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(p=await this.computeBestPyramidLevelForLocation(e,t),null==p)return{location:h,value:null};const x=this.identifyPixelLocation(h,p,null,d);if(null===x)return{location:h,value:null};const{row:g,col:I,rowOffset:R,colOffset:T,blockWidth:b}=x,v=l??t.sliceId,P=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getRasterId)(this.url,v),B=`${p}/${g}/${I}`;let M=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getBlock)(P,null,B);null==M&&(M=this.fetchRawTile(p,g,I,t),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.putBlock)(P,null,B,M));const _=await M;if(null==_||!_.pixels?.length)return{location:h,value:null};const W=R*b+T;return this._processIdentifyResult(_,{srcLocation:h,position:W,pyramidLevel:p,useTransposedTile:!!d,requestSomeSlices:a,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapExtent)(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference),s=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),f=m-Math.round((n/2-a)/(c-a)*t);let u=0;const h=[];for(let y=0;y<=s;y++){const r=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:0===y?a:-n/2,xmax:y===s?c-n*y:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),p=0===y?m-f:y===s?t-u:m;u+=p,h.push(p);const d=o.disableWrapAround&&y>0?null:this._fetchPixels(r,p,i,o);l.push(d)}const p=(await Promise.all(l)).map((e=>e?.pixelBlock));let d=null;const x={width:t,height:i};if(this.rasterJobHandler){d=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:p,srcMosaicSize:x,destDimension:null,coefs:null,sampleSpacing:null,interpolation:"nearest",alignmentInfo:null,blockWidths:h},o)).pixelBlock}else d=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(p,x,{blockWidths:h});return{extent:e,srcExtent:(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:d}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,f=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:f,srcExtent:f,pixelBlock:null};const{pixelBlocks:u,mosaicSize:h}=r;if(1===u.length&&null!=u[0]&&u[0].width===i.width&&u[0].height===i.height)return{extent:f,srcExtent:f,pixelBlock:r.pixelBlocks[0]};const p=e>0?l.pyramidBlockWidth:l.blockWidth,d=e>0?l.pyramidBlockHeight:l.blockHeight,x={x:t.x%p,y:t.y%d};let y;if(this.rasterJobHandler){y=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:u,srcMosaicSize:h,destDimension:i,clipOffset:x,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else y=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(u,h,{clipOffset:x,clipSize:i});return{extent:f,srcExtent:f,pixelBlock:y}}fetchRawTile(e,t,o,r){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:read-not-implemented","fetchRawTile() is not implemented")}computeExtent(e){return (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_23__.decode)(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.getSliceIndex)(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.unwrapOrThrow)(o.lodAt(e));return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const r=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),l=1/.0254*96*s;for(let e=0;e<=n;e++)r.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_17__["default"]({level:n-e,resolution:s,scale:l})),s*=2,l*=2;const a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]({origin:a,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:r}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const m=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"]({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let m=0;m<r.length;m++){const{x:o,y:n}=r[m];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,m=o&&null!=c?c.tileSize[0]:s.blockWidth,f=o&&null!=c?c.tileSize[1]:s.blockHeight,u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectPoint)(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/f,y=(u.x-a.x)/p/m,g=Math.min(f-1,Math.floor((x-Math.floor(x))*f)),I=Math.min(m-1,Math.floor((y-Math.floor(y))*m));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:m,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,f=m-l*e.y;return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:a,xmax:c,ymin:f,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}async _fetchPixels(e,t,i,o={}){let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:m,ul:f}=n;if(0===c||0===m)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:u}=this,h=u.transform,p="gcs-shift"===h?.type,d=null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(e.spatialReference);!p&&d||(r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWrapCount)(n.srcExtent,p));const x=await this._fetchRawTiles(s,f,{width:c,height:m,wrapCount:r},o);if(!x)return{extent:e,srcExtent:a,pixelBlock:null};const y=u.storageInfo,g=s>0?y.pyramidBlockWidth:y.blockWidth,I=s>0?y.pyramidBlockHeight:y.blockHeight;let{x:R,y:w}=u.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=y;if(null!=e&&e[s-1])({x:R,y:w}=e[s-1]);else{const e=t**s;R*=e,w*=e}}const S=u.spatialReference,k=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:R,y:w,spatialReference:S}),T=g===c&&I===m&&f.x%g==0&&f.y%I==0,b=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),v=!e.spatialReference.equals(S),P=S.isGeographic?1e-9:1e-4,{datumTransformation:j}=o;if(!v&&T&&1===x.pixelBlocks.length&&g===t&&I===i&&this._isSameResolution(l,b,P))return{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:x.pixelBlocks[0]};const H=d&&null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getWorldWidth)(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,z=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith("vector");z&&!this.rasterJobHandler&&await (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.load)();const E=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b.toJSON(),datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:z},o):(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getProjectionOffsetGrid)({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b,datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1,includeGCSGrid:z});let F;const O=!o.requestRawData,G={rows:E.spacing[0],cols:E.spacing[1]},q=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,x.extent.xmin):void 0,{pixelBlocks:N,mosaicSize:V,isPartiallyFilled:U}=x;let $=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:N,srcMosaicSize:V,destDimension:O?{width:t,height:i}:null,coefs:O?E.coefficients:null,sampleSpacing:O?G:null,projectDirections:z,gcsGrid:z?E.gcsGrid:null,isUV:"vector-uv"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:q,blockWidths:null},o);({pixelBlock:F,localNorthDirections:$}=e)}else{const e=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.mosaic)(N,V,{alignmentInfo:q});F=O?(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.approximateTransform)(e,{width:t,height:i},E.coefficients,G,o.interpolation):e,z&&E.gcsGrid&&($=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_24__.getLocalArithmeticNorthRotations)({width:t,height:i},E.gcsGrid),F=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertToLocalDirections)(F,this.rasterInfo.dataType,$))}return o.requestRawData||z?{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F,transformGrid:E,localNorthDirections:$,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:f,wrapCount:u}=i;const h=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,f+=2*o.buffer.rows);let p=0,d=0,x=0;if(u&&null!=h){({worldColumnCountFromOrigin:d,originColumnOffset:x,rightPadding:p}=h);d*h.blockWidth-p>=a+m&&(p=0)}const y=Math.floor(a/s),g=Math.floor(c/l),I=Math.floor((a+m+p-1)/s),R=Math.floor((c+f+p-1)/l),w=n[e];if(!w)return null;const{minRow:S,minCol:k,maxCol:T,maxRow:b}=w;if(0===u&&(R<S||I<k||g>b||y>T))return null;const v=new Array;let P=!1;const B=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let z=g;z<=R;z++)for(let t=y;t<=I;t++){let i=t;if(!o.disableWrapAround&&u&&null!=h&&d<=t&&(i=t-d-x),z>=S&&i>=k&&b>=z&&T>=i){const t=this._fetchRawTile(e,z,i,o);B?v.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{P=!0,e(null)}))}))):v.push(t)}else v.push(Promise.resolve(null))}if(0===v.length)return null;const M=await Promise.all(v),_={height:(R-g+1)*l,width:(I-y+1)*s},{spatialReference:W}=this.rasterInfo,C=this.getPyramidPixelSize(e),{x:j,y:H}=C;return{extent:new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_27__["default"]({xmin:r.x+y*s*j,xmax:r.x+(I+1)*s*j,ymin:r.y-(R+1)*l*H,ymax:r.y-g*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:_,isPartiallyFilled:P}}_isSameResolution(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}_fetchRawTile(e,t,i,o){const r=this.rasterInfo.storageInfo.blockBoundary[e];if(!r)return Promise.resolve(null);const{minRow:n,minCol:s,maxCol:a,maxRow:c}=r;if(t<n||i<s||t>c||i>a)return Promise.resolve(null);const m=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getRasterId)(this.url,o.sliceId),f=`${e}/${t}/${i}`;let u=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.getBlock)(m,o.registryId,f);if(null==u){const r=new AbortController;u=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.putBlock)(m,o.registryId,f,u,r),u.catch((()=>(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.deleteBlock)(m,o.registryId,f)))}return o.signal&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.onAbort)(o,(()=>{(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_21__.decreaseRefCount)(m,o.registryId,f)})),u}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&"vector-magdir"===i||"vector-uv"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if("vector-magdir"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.uvComponentToVector)([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlighmentInfo&&(this._rasterTileAlighmentInfo=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.getRasterDatasetAlignmentInfo)(this.rasterInfo)),null==this._rasterTileAlighmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlighmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlighmentInfo.hasGCSSShiftTransform,...this._rasterTileAlighmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,m=l/i,f=a<n&&c*m>=16,u=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(f||u||(0===s||0===l)){const s=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_28__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectResolution)(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const u=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(f&&o.srcResolution&&u){const e=Math.round(Math.log(Math.max(c,m))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo;return Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1])>=V||e/i>N||t/o>N}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.snapPyramid)(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__.projectExtent)(e,o,n);if(null==c)return;const m=i.transform;m&&(c=m.inverseTransform(c)),t.srcExtent=c;const{x:f,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-f)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-f)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:m,identifyOptions:f}=t;let u=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.createSlices)(l,f.transposedVariableName);if(m){const e=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_20__.getSliceIds)(u,f.multidimensionalDefinition,f.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),u=e.map((e=>u[e]))}const p=e.noDataValues||this.rasterInfo.noDataValue,d={pixels:a,pixelType:e.pixelType};let x;null!=p&&((0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_22__.convertNoDataToMask)(d,p),x=d.mask);return{location:i,value:null,dataSeries:u.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__["default"]({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"_rasterTileAlighmentInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],U.prototype,"_isGlobalWrappableSource",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],U.prototype,"_hasNoneOrGCSShiftTransform",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"rasterJobHandler",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__.url)],U.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({type:String,json:{write:!0}})],U.prototype,"datasetName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({type:String,json:{write:!0}})],U.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"hasUniqueSourceStorageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],U.prototype,"sourceJSON",void 0),U=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.support.rasterDatasets.BaseRaster")],U);const $=U;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const g=new Map;g.set("int16","esriFieldTypeSmallInteger"),g.set("int32","esriFieldTypeInteger"),g.set("int64","esriFieldTypeInteger"),g.set("float32","esriFieldTypeSingle"),g.set("float64","esriFieldTypeDouble"),g.set("text","esriFieldTypeString");const y=8;let x=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat="CRF"}async open(e){await this.init();const{data:r}=await this.request(this.url+"/conf.json",{signal:e?.signal});if(!this._validateHeader(r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","Invalid or unsupported conf.json.");this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const{storageInfo:i,rasterInfo:o}=this._parseHeader(r);if("thematic"===o.dataType){const e=await this._fetchAuxiliaryInformation();o.attributeTable=e}this._set("storageInfo",i),this._set("rasterInfo",o),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,i={}){const{transposeInfo:o}=this.rasterInfo.storageInfo,{transposedVariableName:s}=i,a=!(!o||!s),n=a?0:this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(n<0)return null;const l=this._buildCacheFilePath(n,t,r,i.multidimensionalDefinition,s),f=this._getIndexRecordFromBundle(t,r,a),m=await this.request(l,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:"array-buffer",signal:i.signal});if(!m)return null;const c=new Uint8Array(m.data),p=this._getTileEndAndContentType(c,f);if(0===p.recordSize)return null;const d=await this.request(l,{range:{from:p.position,to:p.position+p.recordSize},responseType:"array-buffer",signal:i.signal});if(!d)return null;const[u,h]=this._getTileSize(a);return this.decodePixelBlock(d.data,{width:u,height:h,planes:null,pixelType:null,returnInterleaved:a})}_validateHeader(e){const t=["origin","extent","geodataXform","LODInfos","blockWidth","blockHeight","bandCount","pixelType","pixelSizeX","pixelSizeY","format","packetSize"];return e&&"RasterInfo"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){const t=["u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64"][e.pixelType],{bandCount:r,histograms:i,colormap:l,blockWidth:f,blockHeight:m,firstPyramidLevel:c,maximumPyramidLevel:p}=e,g=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),x=e.extent.spatialReference,S=e.geodataXform?.spatialReference,I=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"](x?.wkid||x?.wkt?x:S);let w=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:I});const _=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:I}),v=Math.round((w.xmax-w.xmin)/_.x),b=Math.round((w.ymax-w.ymin)/_.y),z=this._parseTransform(e.geodataXform),T=z?w:null;z&&(w=z.forwardTransform(w),_.x=(w.xmax-w.xmin)/v,_.y=(w.ymax-w.ymin)/b);const k=e.properties??{},j=e.format.toLowerCase().replace("cache/",""),C=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"](e.origin.x,e.origin.y,I);let R,F,P,H;if(l&&l.colors)for(R=[],F=0;F<l.colors.length;F++)P=l.colors[F],H=l.values?l.values[F]:F,R.push([H,255&P,P<<16>>>24,P<<8>>>24,P>>>24]);const D=e.LODInfos,L=[];for(F=0;F<D.levels.length;F++)L.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_8__["default"]({level:D.levels[F],resolution:D.resolutions[F],scale:96/.0254*D.resolutions[F]}));const M=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({dpi:96,lods:L,format:j,origin:C,size:[f,m],spatialReference:I}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},B=[{maxCol:Math.ceil(v/f)-1,maxRow:Math.ceil(b/m)-1,minCol:0,minRow:0}];let $=2;if(p>0)for(F=0;F<p;F++)B.push({maxCol:Math.ceil(v/$/f)-1,maxRow:Math.ceil(b/$/m)-1,minCol:0,minRow:0}),$*=2;const N=e.mdInfo;let q=null;if(N&&k._yxs){const e=k._yxs;q={packetSize:e.PacketSize,tileSize:[e.TileXSize,e.TileYSize]}}return{storageInfo:O,rasterInfo:new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:v,height:b,pixelType:t,bandCount:r,extent:w,nativeExtent:T,transform:z,spatialReference:I,pixelSize:_,keyProperties:k,statistics:g,histograms:i,multidimensionalInfo:N,colormap:R,storageInfo:new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({blockWidth:f,blockHeight:m,pyramidBlockWidth:f,pyramidBlockHeight:m,origin:C,tileInfo:M,transposeInfo:q,firstPyramidLevel:c,maximumPyramidLevel:p,blockBoundary:B})})}}_parseTransform(e){if(!(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.isTransformSupported)(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transform types");const r=(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.readTransform)(e);if("identity"===r.type)return null;if("polynomial"!==r.type||!r.forwardCoefficients?.length||!r.inverseCoefficients?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently");return r}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+"/conf.vat.json",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+"/conf.vat.dbf",{responseType:"array-buffer",signal:e}).then((e=>e.data)).catch((()=>null)),i=await Promise.all([t,r]);let o;if(i[0]){let e=i[0].fields;const t=i[0].values;if(e&&t){e=e.map((e=>({type:"OID"===e.name?"esriFieldTypeOID":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(o={fields:e,features:r})}}if(!o&&i[1]){o=_DBFParser_js__WEBPACK_IMPORTED_MODULE_13__["default"].parse(i[1]).recordSet}return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(o)}_buildCacheFilePath(e,t,r,i,o){const s=this._getPackageSize(!!o),a=Math.floor(t/s)*s,n=Math.floor(r/s)*s,l="R"+this._toHexString4(a)+"C"+this._toHexString4(n);let f="L";f+=e>=10?e.toString():"0"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,c=i?.[0];if(null==m||!c)return`${this.url}/_alllayers/${f}/${l}.bundle`;let p="_yxs";if(!o){p=m.variables.find((e=>e.name===c.variableName)).dimensions[0].values.indexOf(c.values[0]).toString(16);const e=4-p.length;for(let t=0;t<e;t++)p="0"+p;p="S"+p}const d=this._getVariableFolderName(o||c.variableName);return`${this.url}/_alllayers/${d}/${p}/${f}/${l}.bundle`}_getPackageSize(e=!1){const{transposeInfo:t}=this.rasterInfo.storageInfo;return e&&null!=t?t.packetSize??0:this.storageInfo.packetSize}_getTileSize(e=!1){const{storageInfo:t}=this.rasterInfo,{transposeInfo:r}=t;return e&&null!=r?r.tileSize:t.tileInfo.size}_getVariableFolderName(e){return""===(e=e.trim())?"_v":e.replaceAll(/[\{|\}\-]/g,"_").replace("\\*","_v")}_getIndexRecordFromBundle(e,t,r=!1){const i=this._getPackageSize(r),o=i*(e%i)+t%i;if(o<0)throw new Error("Invalid level / row / col");return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let i,o=0;for(i=0;i<5;i++)o|=(255&r[i])<<8*i;const s=0xffffffffff&o;for(o=0,i=5;i<8;i++)o|=(255&r[i])<<8*(i-5);return{position:s,recordSize:0xffffffffff&o}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t="0"+t}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],x.prototype,"storageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],x.prototype,"datasetFormat",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.CloudRaster")],x);const S=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byteStreamUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/byteStreamUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(e){const t=e.fields,r=e.records,n=t.some((e=>"oid"===e.name.toLowerCase()))?"OBJECTID":"OID",i=[{name:n,type:"esriFieldTypeOID",alias:"OID"}].concat(t.map((e=>({name:e.name,type:"esriFieldType"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:"",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:(0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,11)),type:d,typeName:["String","Date","Double","Boolean","String","Integer"][["C","D","F","L","M","N"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if("C"===n.type)t.push((0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,n.length)).trim());else if("N"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if("F"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if("D"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+"/"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+"/"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(){super(...arguments),this.datasetFormat="Function",this.tileType="Raster",this.rasterFunction=null}async open(t){await this.init();const{rasterFunction:r}=this;this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:a}=this.primaryRasters,i=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(i);const n=s.map((({rasterInfo:t})=>t)),c=r.bind({rasterInfos:n,rasterIds:a});if(!c.success||0===n.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("raster-function:open",`cannot bind the function: ${c.error??""}`);const l="Table"===r.functionName?r:r.functionArguments?.raster;"Table"===l?.functionName&&(r.rasterInfo.attributeTable=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=n[0];this.hasUniqueSourceStorageInfo=1===n.length||n.slice(1).every((t=>this._hasSameStorageInfo(t,p))),this.set("sourceJSON",s[0].sourceJSON),this.set("rasterInfo",r.rasterInfo)}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async fetchPixels(t,e,r,s={}){const{rasters:a,rasterIds:o}=this.primaryRasters;let n=!1;const{interpolation:c}=s,l=this.rasterFunction.flatWebGLFunctionChain?.hasSurfaceFunction;!s.requestRawData&&"bilinear"!==c&&l&&(n=1===a.length&&!s.skipRasterFunction,s={...s,interpolation:"bilinear",requestRawData:n});const p=a.map((a=>a.fetchPixels(t,e,r,s))),u=await Promise.all(p),m=u.map((t=>t.pixelBlock)),h=n||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||m.every((t=>null==t)))return u[0];const f=u.find((t=>null!=t.pixelBlock))?.extent??t,d=this.rasterJobHandler?await this.rasterJobHandler.process({extent:f,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}):this.rasterFunction.process({extent:f,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}),{transformGrid:y}=u[0];if(!n||null==d||null==y)return{...u[0],pixelBlock:d};const x={rows:y.spacing[0],cols:y.spacing[1]};let b;if(this.rasterJobHandler){b=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[d],srcMosaicSize:{width:d.width,height:d.height},destDimension:{width:e,height:r},coefs:y.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else b=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__.approximateTransform)(d,{width:e,height:r},y.coefficients,x,c);return{extent:t,srcExtent:u[0].srcExtent,pixelBlock:b}}_hasSameStorageInfo(t,e){const{storageInfo:r,pixelSize:s,spatialReference:a,extent:i}=t,{storageInfo:o,pixelSize:n,spatialReference:c,extent:l}=e;return s.x===n.x&&s.y===n.y&&a.equals(c)&&i.equals(l)&&r.blockHeight===o.blockHeight&&r.blockWidth===o.blockWidth&&r.maximumPyramidLevel===o.maximumPyramidLevel}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],n.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"tileType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"rasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"primaryRasters",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.rasterDatasets.FunctionRaster")],n);const c=n;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./InMemoryRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let h=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__["default"]{async open(t){await this.init();const e=await this._fetchData(t);let{spatialReference:s,statistics:r,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const i=!s;i&&(s=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]({wkid:3857})),a?.length&&null==r&&(r=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__.estimateStatisticsFromHistograms)(a));const{width:l,height:m}=e;let c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"]({xmin:-.5,ymin:.5-m,xmax:l-.5,ymax:.5,spatialReference:s});const h=o?o.forwardTransform(c):c;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,c=h)}const w=new _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]({data:{extent:h,nativeExtent:c,transform:o,pixelBlock:e,statistics:r,histograms:a,keyProperties:{DateType:"Processed"},isPseudoSpatialReference:i}});await w.open(),w.data=null,this._set("rasterInfo",w.rasterInfo),this._inMemoryRaster=w}fetchRawTile(t,e,s,r={}){return this._inMemoryRaster.fetchRawTile(t,e,s,r)}async _fetchData(t){const{data:s}=await this.request(this.url,{responseType:"array-buffer",signal:t?.signal}),r=(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__.getFormat)(s).toUpperCase();if("JPG"!==r&&"PNG"!==r&&"GIF"!==r&&"BMP"!==r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data is not a supported format");this._set("datasetFormat",r);const a=r.toLowerCase(),o="gif"===a||"bmp"===a||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("ios"),i=await this.decodePixelBlock(s,{format:a,useCanvas:o,hasNoZlibMask:!0});if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data cannot be decoded");return i}async _fetchAuxiliaryData(t){const e=t?.signal,a=this.ioConfig.skipExtensions??[],o=a.includes("aux.xml")?null:this.request(this.url+".aux.xml",{responseType:"xml",signal:e}),i=this.datasetFormat,n="JPG"===i?"jgw":"PNG"===i?"pgw":"BMP"===i?"bpw":null,m=n&&a.includes(n)?null:this.request(this.url.slice(0,this.url.lastIndexOf("."))+"."+n,{responseType:"text",signal:e}),p=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.eachAlways)([o,m]);if(e?.aborted)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createAbortError)();const f=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_11__.parsePAMInfo)(p[0].value?.data);if(!f.transform){const t=p[1].value?p[1].value.data.split("\n").slice(0,6).map((t=>Number(t))):null;f.transform=6===t?.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__["default"]({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return f}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],h.prototype,"datasetFormat",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.ImageAuxRaster")],h);const d=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../TilemapCache.js */ "./node_modules/@arcgis/core/layers/support/TilemapCache.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterTransforms/GCSShiftTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js");
/* harmony import */ var _rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../rest/imageService/fetchRasterInfo.js */ "./node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let x=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__["default"]{constructor(){super(...arguments),this._levelOffset=0,this._tilemapCache=null,this._slices=null,this.datasetFormat="RasterTileServer",this.tileType=null}async open(e){await this.init();const r=e&&e.signal,a=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:"json"},signal:r});a.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const l=a.data;if(this.sourceJSON=l,!l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","cannot initialize tiled image service, missing service info");if(!l.tileInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","use ImageryLayer to open non-tiled image services");this._fixScaleInServiceInfo();const m=["jpg","jpeg","png","png8","png24","png32","mixed"];this.tileType=l.cacheType,null==this.tileType&&(m.includes(l.tileInfo.format.toLowerCase())?this.tileType="Map":"lerc"===l.tileInfo.format.toLowerCase()?this.tileType="Elevation":this.tileType="Raster"),this.datasetName=l.name?.slice(l.name.indexOf("/")+1)??"";const u=await this._fetchRasterInfo({signal:r});if(null==u)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-server-raster:open","cannot initialize image service");const h="Map"===this.tileType?g(l.tileInfo,l):_TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(l.tileInfo);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(h);const[f,p]=this._computeMinMaxLOD(u,h),{extent:d,pixelSize:y}=u,x=.5/u.width*y.x,v=Math.max(y.x,y.y),{lods:S}=h;("Map"!==this.tileType&&0!==l.maxScale||Math.abs(y.x-y.y)>x||!S.some((e=>Math.abs(e.resolution-v)<x)))&&(y.x=y.y=f.resolution,u.width=Math.ceil((d.xmax-d.xmin)/y.x-.1),u.height=Math.ceil((d.ymax-d.ymin)/y.y-.1));const I=f.level-p.level,[w,j]=h.size,M=[],b=[];S.forEach(((e,t)=>{e.level>=p.level&&e.level<=f.level&&M.push({x:e.resolution,y:e.resolution}),t<S.length-1&&b.push(Math.round(10*e.resolution/S[t+1].resolution)/10)})),M.sort(((e,t)=>e.x-t.x));const T=this.computeBlockBoundary(d,w,j,h.origin,M,I),_=M.length>1?M.slice(1):null;let O;l.transposeInfo&&(O={tileSize:[l.transposeInfo.rows,l.transposeInfo.cols],packetSize:u.keyProperties?._yxs.PacketSize??0});const R=b.length<=1||b.length>=3&&b.slice(0,b.length-1).every((e=>e===b[0]))?b[0]??2:Math.round(10/(p.resolution/f.resolution)**(-1/I))/10;if(u.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({blockWidth:h.size[0],blockHeight:h.size[1],pyramidBlockWidth:h.size[0],pyramidBlockHeight:h.size[1],pyramidResolutions:_,pyramidScalingFactor:R,compression:h.format,origin:h.origin,firstPyramidLevel:1,maximumPyramidLevel:I,tileInfo:h,transposeInfo:O,blockBoundary:T}),this._fixGCSShift(u),this._set("rasterInfo",u),l.capabilities.toLowerCase().includes("tilemap")){const e={tileInfo:u.storageInfo.tileInfo,parsedUrl:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.urlToObject)(this.url),url:this.url,tileServers:[]};this._tilemapCache=new _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__.TilemapCache({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:r,extent:a}=this.rasterInfo,{transposeInfo:l}=r,o=null!=l&&!!s.transposedVariableName;if(this._slices&&!o&&null==s.sliceId)return null;const n=o?0:r.maximumPyramidLevel-e+this._levelOffset,c=`${this.url}/tile/${n}/${t}/${i}`,m=this._slices?o?{variable:s.transposedVariableName}:{sliceId:s.sliceId||0}:null,{data:h}=await this.request(c,{query:m,responseType:"array-buffer",signal:s.signal});if(!h)return null;const f=o?l.tileSize:r.tileInfo.size,p=await this.decodePixelBlock(h,{width:f[0],height:f[1],planes:null,pixelType:null,isPoint:"Elevation"===this.tileType,returnInterleaved:o,noDataValue:this.rasterInfo.noDataValue});if(null==p)return null;const d=r.blockBoundary[e];if("jpg"!==r.compression||i>d.minCol&&i<d.maxCol&&t>d.minRow&&t<d.maxRow)return p;const{origin:y,blockWidth:x,blockHeight:g}=r,{x:v,y:S}=this.getPyramidPixelSize(e),I=Math.round((a.xmin-y.x)/v)%x,w=Math.round((a.xmax-y.x)/v)%x||x,j=Math.round((y.y-a.ymax)/S)%g,M=Math.round((y.y-a.ymin)/S)%g||g,b=i===d.minCol?I:0,T=t===d.minRow?j:0,_=i===d.maxCol?w:x,O=t===d.maxRow?M:g;return (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__.setValidBoundary)(p,{x:b,y:T},{width:_-b,height:O-T}),p}getSliceIndex(e){if(!this._slices||null==e||0===e.length)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.find((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName));if(!i)return!0;return(Array.isArray(e.values[0])?`${e.values[0][0]}-${e.values[0][1]}`:e.values[0])!==(Array.isArray(i.values[0])?`${i.values[0][0]}-${i.values[0][1]}`:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+"/statistics",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.statistics)),s=this.request(this.url+"/histograms",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.histograms)),r=await Promise.all([i,s]);return r[0]&&r[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:r[0]||null,histograms:r[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let a=r-s+this._levelOffset;const l=i.srcLocation;for(;a>=0;){try{if("available"===await this._tilemapCache.fetchAvailability(a,i.row,i.col,t))break}catch{}if(a--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===a||null==i?null:s}async _fetchRasterInfo(e){const t=this.sourceJSON;if("Map"===this.tileType){const e=t.fullExtent||t.extent,i=Math.ceil((e.xmax-e.xmin)/t.pixelSizeX-.1),s=Math.ceil((e.ymax-e.ymin)/t.pixelSizeY-.1),r=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(t.spatialReference||e.spatialReference),a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:r});return new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({width:i,height:s,bandCount:3,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(e),spatialReference:r,pixelSize:a,pixelType:"u8",statistics:null,keyProperties:{DataType:"processed"}})}const{signal:i}=e,s=(0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__.fetchServiceRasterInfo)(this.url,this.sourceJSON,{signal:i,query:this.ioConfig.customFetchParameters}),r=t.hasMultidimensions?this.request(`${this.url}/slices`,{query:{f:"json"},signal:i}).then((e=>e.data&&e.data.slices)).catch((()=>null)):null,a=await Promise.all([s,r]);return this._slices=a[1],a[0]}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_fixGCSShift(e){const{extent:t,spatialReference:i}=e;t.xmin>-1&&t.xmax>181&&i?.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__["default"],e.extent=e.transform.forwardTransform(t))}_computeMinMaxLOD(e,t){const{pixelSize:i}=e,s=.5/e.width*i.x,{lods:r}=t,a=t.lodAt(Math.max.apply(null,r.map((e=>e.level)))),l=t.lodAt(Math.min.apply(null,r.map((e=>e.level)))),{tileType:o}=this;if("Map"===o)return this._levelOffset=r[0].level,[a,l];if("Raster"===o){return[r.find((e=>e.resolution===i.x))??a,l]}const{minScale:n,maxScale:c}=this.sourceJSON;let m=a;c>0&&(m=r.find((e=>Math.abs(e.scale-c)<s)),m||(m=r.filter((e=>e.scale>c)).sort(((e,t)=>e.scale>t.scale?1:-1))[0]??a));let u=l;return n>0&&(u=r.find((e=>Math.abs(e.scale-n)<s))??l,this._levelOffset=u.level-l.level),[m,u]}};function g(e,t){if(!e)return null;const{minScale:i,maxScale:s,minLOD:r,maxLOD:a}=t;if(null!=r&&null!=a)return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=r&&e<=a))});if(0!==i&&0!==s){const t=e=>Math.round(1e4*e)/1e4,r=i?t(i):1/0,a=s?t(s):-1/0;return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((e=>{const i=t(e.scale);return i<=r&&i>=a}))})}return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],x.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],x.prototype,"tileType",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.ImageServerRaster")],x);const v=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this.datasetFormat="MEMORY",this.data=null}async open(t){await this.init();const e=this.data,{pixelBlock:s,statistics:r,histograms:i,name:a,keyProperties:n,nativeExtent:m,transform:c}=this.data,{width:h,height:f,pixelType:u}=s,d=e.extent??new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"]({xmin:-.5,ymin:.5,xmax:h-.5,ymax:f-.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]({wkid:3857})}),y=e.isPseudoSpatialReference??!e.extent,x={x:d.width/h,y:d.height/f},g=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:h,height:f,pixelType:u,extent:d,nativeExtent:m,transform:c,pixelSize:x,spatialReference:d.spatialReference,bandCount:s.pixels.length,keyProperties:n||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set("rasterInfo",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=a,this.url="/InMemory/"+a}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,r,i){const o=this.rasterInfo.storageInfo.maximumPyramidLevel,a=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:r,maximumPyramidLevel:o},i):Promise.resolve((0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__.split)(t,r,o)),l=null!=this.rasterInfo.statistics,p=null!=this.rasterInfo.histograms,c=l?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},i):Promise.resolve((0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__.estimateStatisticsHistograms)(t)),h=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)([a,c]);if(!h[0].value&&h[1].value)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("inmemory-raster:open","failed to build in memory raster");this._pixelBlockTiles=h[0].value,l||(this.rasterInfo.statistics=h[1].value?.statistics),p||(this.rasterInfo.histograms=h[1].value?.histograms)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],c.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"data",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.InMemoryRaster")],c);const h=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/utils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const y=new Map;y.set("Int8","s8"),y.set("UInt8","u8"),y.set("Int16","s16"),y.set("UInt16","u16"),y.set("Int32","s32"),y.set("UInt32","u32"),y.set("Float32","f32"),y.set("Float64","f32"),y.set("Double64","f32");const x=new Map;x.set("none",{blobExtension:".til",isOneSegment:!0,decoderFormat:"bip"}),x.set("lerc",{blobExtension:".lrc",isOneSegment:!1,decoderFormat:"lerc"}),x.set("deflate",{blobExtension:".pzp",isOneSegment:!0,decoderFormat:"deflate"}),x.set("jpeg",{blobExtension:".pjg",isOneSegment:!0,decoderFormat:"jpg"});let w=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat="MRF"}async open(t){await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const e=t?t.signal:null,r=await this.request(this.url,{responseType:"xml",signal:e}),{rasterInfo:s,files:o}=this._parseHeader(r.data);if(-1===this.ioConfig.skipExtensions?.indexOf("aux.xml")){const e=await this._fetchAuxiliaryData(t);null!=e&&(s.statistics=e.statistics??s.statistics,s.histograms=e.histograms,e.histograms&&null==s.statistics&&(s.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimateStatisticsFromHistograms)(e.histograms)))}this._set("rasterInfo",s),this._files=o;const i=await this.request(o.index,{responseType:"array-buffer",signal:e});this._storageIndex=this._parseIndex(i.data);const{blockWidth:a,blockHeight:n}=this.rasterInfo.storageInfo,l=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:f,height:c}=this.rasterInfo,p=[],m=this._getBandSegmentCount();let u=0,g=-1;for(;u<this._storageIndex.length;){g++;const t=Math.ceil(f/a/l**g)-1,e=Math.ceil(c/n/l**g)-1;u+=(t+1)*(e+1)*m*4,p.push({maxRow:e,maxCol:t,minCol:0,minRow:0})}this.rasterInfo.storageInfo.blockBoundary=p,g>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=g),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:i,blockHeight:a,blockBoundary:n}=this.rasterInfo.storageInfo,l=n[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:f,pixelType:c}=this.rasterInfo,{ranges:p,actualTileWidth:m,actualTileHeight:h}=this._getTileLocation(t,e,r);if(!p||0===p.length)return null;if(0===p[0].from&&0===p[0].to){const t=new Uint8Array(i*a);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__["default"]({width:i,height:a,pixels:null,mask:t,validPixelCount:0})}const{bandIds:u}=this.ioConfig,g=this._getBandSegmentCount(),d=[];let y=0;for(y=0;y<g;y++)u&&!u.includes(y)||d.push(this.request(this._files.data,{range:{from:p[y].from,to:p[y].to},responseType:"array-buffer",signal:s.signal}));const w=await Promise.all(d),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(y=0;y<g;y++)b.set(new Uint8Array(w[y].data),A),A+=w[y].data.byteLength;const F=x.get(this.rasterInfo.storageInfo.compression).decoderFormat,_=await this.decodePixelBlock(b.buffer,{width:i,height:a,format:F,planes:u?.length||f,pixelType:c});if(null==_)return null;let{noDataValue:R}=this.rasterInfo;if(null!=R&&"lerc"!==F&&!_.mask&&(R=R[0],null!=R)){const t=_.width*_.height,e=new Uint8Array(t);if(Math.abs(R)>1e24)for(y=0;y<t;y++)Math.abs((_.pixels[0][y]-R)/R)>1e-6&&(e[y]=1);else for(y=0;y<t;y++)_.pixels[0][y]!==R&&(e[y]=1);_.mask=e}let S=0,j=0;if(m!==i||h!==a){let t=_.mask;if(t)for(y=0;y<a;y++)if(j=y*i,y<h)for(S=m;S<i;S++)t[j+S]=0;else for(S=0;S<i;S++)t[j+S]=0;else for(t=new Uint8Array(i*a),_.mask=t,y=0;y<h;y++)for(j=y*i,S=0;S<m;S++)t[j+S]=1}return _}_parseIndex(t){if(t.byteLength%16>0)throw new Error("invalid array buffer must be multiples of 16");let e,r,s,o,i,a;if(_rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__.isPlatformLittleEndian){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getBandSegmentCount(){return x.get(this.rasterInfo.storageInfo.compression).isOneSegment?1:this.rasterInfo.bandCount}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i}=this.rasterInfo.storageInfo,{width:a,height:n}=this.rasterInfo,l=this._getBandSegmentCount();let f,c,p,m=0,h=0;for(p=0;p<t;p++)h=i**p,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=f*c;h=i**t,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=e*f+r,m*=4*l;const u=this._storageIndex.subarray(m,m+4*l);let g=0,d=0;const y=[];for(let x=0;x<l;x++)g=u[4*x]*2**32+u[4*x+1],d=g+u[4*x+2]*2**32+u[4*x+3],y.push({from:g,to:d});return{ranges:y,actualTileWidth:r<f-1?s:Math.ceil(a/h)-s*(f-1),actualTileHeight:e<c-1?o:Math.ceil(n/h)-o*(c-1)}}_parseHeader(t){const r=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Raster");if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","not a valid MRF format");const s=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"Size"),o=parseInt(s.getAttribute("x"),10),n=parseInt(s.getAttribute("y"),10),f=parseInt(s.getAttribute("c"),10),m=((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"Compression")||"none").toLowerCase();if(!x.has(m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support compression "+m);const h=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"DataType")||"UInt8",w=y.get(h);if(null==w)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support pixel type "+h);const I=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"PageSize"),b=parseInt(I.getAttribute("x"),10),A=parseInt(I.getAttribute("y"),10),F=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"DataValues");let _,R;F&&(R=F.getAttribute("NoData"),null!=R&&(_=R.trim().split(" ").map((t=>parseFloat(t)))));if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/CachedSource"))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support MRF referencing other data files");const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/GeoTags"),j=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(S,"BoundingBox");let k,M=!1;if(null!=j){const t=parseFloat(j.getAttribute("minx")),e=parseFloat(j.getAttribute("miny")),r=parseFloat(j.getAttribute("maxx")),s=parseFloat(j.getAttribute("maxy")),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(S,"Projection")||"";let i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;if("LOCAL_CS[]"!==o)if(o.toLowerCase().startsWith("epsg:")){const t=Number(o.slice(5));isNaN(t)||0===t||(i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:t}))}else i=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parseSpatialReference)(o)??_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;else M=!0,i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857});k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"](t,e,r,s),k.spatialReference=i}else M=!0,k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:-.5,ymin:.5-n,xmax:o-.5,ymax:.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857})});const T=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Rsets"),C=parseInt(T&&T.getAttribute("scale")||"2",10),U=k.spatialReference,B=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.xmin,y:k.ymax,spatialReference:U}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:m,pyramidScalingFactor:C}),E=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.width/o,y:k.height/n,spatialReference:U}),L=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:o,height:n,extent:k,isPseudoSpatialReference:M,spatialReference:U,bandCount:f,pixelType:w,pixelSize:E,noDataValue:_,storageInfo:B}),P=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"datafile"),W=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"IndexFile");return{rasterInfo:L,files:{mrf:this.url,index:W||this.url.replace(".mrf",".idx"),data:P||this.url.replace(".mrf",x.get(m).blobExtension)}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:t?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(e)}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_storageIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],w.prototype,"datasetFormat",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterIO.MRFRaster")],w);const I=w;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CloudRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js");
/* harmony import */ var _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ImageAuxRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js");
/* harmony import */ var _ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageServerRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js");
/* harmony import */ var _MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MRFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js");
/* harmony import */ var _TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TIFFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const c=new Map;c.set("CRF",{desc:"Cloud Raster Format",constructor:_CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__["default"]}),c.set("MRF",{desc:"Meta Raster Format",constructor:_MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__["default"]}),c.set("TIFF",{desc:"GeoTIFF",constructor:_TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__["default"]}),c.set("RasterTileServer",{desc:"Raster Tile Server",constructor:_ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]}),c.set("JPG",{desc:"JPG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("PNG",{desc:"PNG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("GIF",{desc:"GIF Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("BMP",{desc:"BMP Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]});class n{static get supportedFormats(){const t=new Set;return c.forEach(((e,r)=>t.add(r))),t}static async open(e){const{url:r,ioConfig:s,sourceJSON:o}=e;let a=e.datasetFormat;null==a&&r.lastIndexOf(".")&&(a=r.slice(r.lastIndexOf(".")+1).toUpperCase()),"OVR"===a||"TIF"===a?a="TIFF":"JPG"!==a&&"JPEG"!==a&&"JFIF"!==a||(a="JPG"),r.toLowerCase().includes("/imageserver")&&!r.toLowerCase().includes("/wcsserver")&&(a="RasterTileServer");const n={url:r,sourceJSON:o,datasetFormat:a,ioConfig:s??{bandIds:null,sampling:null}};let l,i;if(a&&this.supportedFormats.has(a)){if("CRF"===a&&!s?.enableCRF)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open",`cannot open raster: ${r}`);return l=c.get(a).constructor,i=new l(n),await i.open({signal:e.signal}),i}if(a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open","not a supported format "+a);const u=Array.from(c.keys());let F=0;const m=()=>(a=u[F++],a&&("CRF"!==a||s?.enableCRF)?(l=c.get(a).constructor,i=new l(n),i.open({signal:e.signal}).then((()=>i)).catch((()=>m()))):null);return m()}static register(t,e,r){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:e,constructor:r})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decreaseRefCount: () => (/* binding */ s),
/* harmony export */   deleteBlock: () => (/* binding */ h),
/* harmony export */   deleteRaster: () => (/* binding */ f),
/* harmony export */   getBlock: () => (/* binding */ m),
/* harmony export */   getRasterId: () => (/* binding */ i),
/* harmony export */   putBlock: () => (/* binding */ x),
/* harmony export */   register: () => (/* binding */ u),
/* harmony export */   unregister: () => (/* binding */ a),
/* harmony export */   update: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EphemeralBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=new Map,c=new _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__["default"];function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function u(e,t){const n={extent:null,rasterInfo:t,cache:new Map},o=r.get(e);return o?(o.push(n),o.length-1):(r.set(e,[n]),0)}function a(e,t){const n=r.get(e);n&&(n[t]=null,n.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function s(e,t,n){const o=r.get(e);if(!o)return null==t?c.decreaseRefCount(e,n):0;if(null==t||null==o[t])return c.decreaseRefCount(e,n);const l=o[t]?.cache,i=l?.get(n);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(n);for(let e=0;e<o.length;e++)o[e]?.cache.delete(n);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,t,n){const o=r.get(e);if(!o)return null==t?c.getBlock(e,n):null;if(null==t||null==o[t]){for(let e=0;e<o.length;e++){const t=o[e]?.cache.get(n);if(t)return t.refCount++,t.block}return c.getBlock(e,n)}const l=o[t]?.cache.get(n);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===t||!o[r])continue;const e=o[r]?.cache,l=e?.get(n);if(e&&l)return l.refCount++,e.set(n,l),l.block}return null}function x(e,t,n,o,l=null){const i=r.get(e);if(!i)return void(null==t&&c.putBlock(e,n,o,l));if(null==t||null==i[t])return void c.putBlock(e,n,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[t]?.cache.set(n,u)}function h(e,t,n){const o=r.get(e);o?null!=t&&null!=o[t]?o[t]?.cache.delete(n):c.deleteBlock(e,n):null==t&&c.deleteBlock(e,n)}function d(e,t){const n=r.get(e);return n?n[t]??null:null}function g(e,r,c,i,u,a,f=null){const s=d(e,r);if(!s)return;const m=s.extent,{cache:x,rasterInfo:h}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:y,transform:p}=h,k=new Set;for(let d=0;d<g.length;d++){const e=g[d];if(e.xmax-e.xmin<=i||e.ymax-e.ymin<=i)continue;let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectExtent)(e,y,f);null!=p&&(r=p.inverseTransform(r));const c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__["default"]({x:i,y:i,spatialReference:e.spatialReference});if(null==u&&!(u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectResolution)(c,y,e,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:x}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.snapPyramid)(u,h,a||"closest");if(x)return;const{storageInfo:M}=h,{origin:R}=M,C={x:Math.max(0,Math.floor((r.xmin-R.x)/m.x)),y:Math.max(0,Math.floor((R.y-r.ymax)/m.y))},B=Math.ceil((r.xmax-r.xmin)/m.x-.1),j=Math.ceil((r.ymax-r.ymin)/m.y-.1),v=s>0?M.pyramidBlockWidth:M.blockWidth,b=s>0?M.pyramidBlockHeight:M.blockHeight,w=1,$=Math.max(0,Math.floor(C.x/v)-w),I=Math.max(0,Math.floor(C.y/b)-w),H=Math.floor((C.x+B-1)/v)+w,E=Math.floor((C.y+j-1)/b)+w;for(let t=I;t<=E;t++)for(let e=$;e<=H;e++)k.add(`${s}/${t}/${e}`)}x.forEach(((e,t)=>{if(!k.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFormats/TiffDecoder.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js");
/* harmony import */ var _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/TiffTags.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffTags.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const F=(e,t)=>e.get(t)?.values,E=(e,t)=>e.get(t)?.values?.[0];let S=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat="TIFF"}async open(e){await this.init();const t=e?e.signal:null,{data:i}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:"array-buffer",signal:t});if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","failed to open url "+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1,this.url.lastIndexOf("."));const{littleEndian:s,firstIFDPos:a,isBigTiff:n}=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.parseSignature)(i),o=[];await this._readIFDs(o,i,s,a,0,n?8:4,t);const{imageInfo:f,rasterInfo:l}=this._parseIFDs(o),u=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.getPyramidIFDs)(o),m=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.getMaskIFDs)(o);if(this._headerInfo={littleEndian:s,isBigTiff:n,ifds:o,pyramidIFDs:u,maskIFDs:m,...f},this._set("rasterInfo",l),!f.isSupported)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","this tiff is not supported: "+f.message);if(!f.tileWidth)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","none-tiled tiff is not optimized for access, convert to COG and retry.");const d=o[0].get("PREDICTOR")?.values?.[0],y=o[0].get("SAMPLEFORMAT")?.values?.[0];if(3===y&&2===d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","unsupported horizontal difference encoding. Predictor=3 is supported for floatting point data");const{skipExtensions:g=[]}=this.ioConfig;if(!g.includes("aux.xml")){const t=await this._fetchAuxiliaryMetaData(e);null!=t&&this._processPAMInfo(t,l)}g.includes("vat.dbf")||1!==l.bandCount||"u8"!==l.pixelType||(l.attributeTable=await this._fetchAuxiliaryTable(e),null!=l.attributeTable&&(l.keyProperties.DataType="thematic")),this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){if(!this._headerInfo?.isSupported||this.isBlockOutside(e,t,r))return null;const s=await this._fetchRawTiffTile(e,t,r,!1,i);if(null!=s&&this._headerInfo.hasMaskBand){const a=await this._fetchRawTiffTile(e,t,r,!0,i);null!=a&&a.pixels[0]instanceof Uint8Array&&(s.mask=a.pixels[0])}return s}_parseIFDs(e){const t=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.getImageInfo)(e),{width:r,height:i,tileWidth:s,tileHeight:o,planes:f,pixelType:u,compression:c,firstPyramidLevel:p,maximumPyramidLevel:h,pyramidBlockWidth:d,pyramidBlockHeight:y,tileBoundary:g,affine:T,metadata:x}=t,w=t.extent.spatialReference?.wkt||t.extent.spatialReference?.wkid;let S=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parseSpatialReference)(w),v=!!t.isPseudoGeographic;null==S&&(v=!0,S=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__["default"]({wkid:3857}));const D=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({...t.extent,spatialReference:S}),P=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"](D?{x:D.xmin,y:D.ymax,spatialReference:S}:{x:0,y:0}),k=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({blockWidth:s,blockHeight:o,pyramidBlockWidth:d,pyramidBlockHeight:y,compression:c,origin:P,firstPyramidLevel:p,maximumPyramidLevel:h,blockBoundary:g}),O=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:(D.xmax-D.xmin)/r,y:(D.ymax-D.ymin)/i,spatialReference:S}),j=x?{BandProperties:x.bandProperties,DataType:x.dataType}:{};let B=null;const L=E(e[0],"PHOTOMETRICINTERPRETATION"),A=F(e[0],"COLORMAP");if(L<=3&&A?.length>3&&A.length%3==0){B=[];const e=A.length/3;for(let t=0;t<e;t++)B.push([t,A[t]>>>8,A[t+e]>>>8,A[t+2*e]>>>8])}const z=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_8__["default"]({width:r,height:i,bandCount:f,pixelType:u,pixelSize:O,storageInfo:k,spatialReference:S,isPseudoSpatialReference:v,keyProperties:j,extent:D,colormap:B,statistics:x?x.statistics:null});return T?.length&&(z.nativeExtent=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({xmin:-.5,ymin:.5-i,xmax:r-.5,ymax:.5,spatialReference:S}),z.transform=new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_16__["default"]({polynomialOrder:1,forwardCoefficients:[T[2]+T[0]/2,T[5]-T[3]/2,T[0],T[3],-T[1],-T[4]]}),z.extent=z.transform.forwardTransform(z.nativeExtent),z.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:(D.xmax-D.xmin)/r,y:(D.ymax-D.ymin)/i,spatialReference:S}),k.origin.x=-.5,k.origin.y=.5),{imageInfo:t,rasterInfo:z}}_processPAMInfo(e,t){if(t.statistics=e.statistics??t.statistics,t.histograms=e.histograms,e.histograms&&null==t.statistics&&(t.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimateStatisticsFromHistograms)(e.histograms)),e.transform&&null==t.transform){t.transform=e.transform,t.nativeExtent=t.extent;const r=t.transform.forwardTransform(t.nativeExtent);t.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_20__["default"]({x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height,spatialReference:t.spatialReference}),t.extent=r}t.isPseudoSpatialReference&&e.spatialReference&&(t.spatialReference=e.spatialReference,t.extent.spatialReference=t.nativeExtent.spatialReference=t.storageInfo.origin.spatialReference=t.spatialReference)}async _readIFDs(e,t,r,i,s,a=4,n){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:"array-buffer",signal:n})).data,s=i+s,i=0}const o=await this._readIFD(t,r,i,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].TIFF_TAGS,a,n);if(e.push(o.ifd),!o.nextIFD)return null;await this._readIFDs(e,t,r,o.nextIFD-s,s,a,n)}async _readIFD(e,r,i,s,a=_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].TIFF_TAGS,n=4,o){if(!e)return null;const f=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.parseIFD)(e,r,i,s,a,n);if(f.success){const i=[];if(f.ifd?.forEach((e=>{e.values||i.push(e)})),i.length>0){const a=i.map((e=>e.offlineOffsetSize)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),n=Math.min.apply(null,a.map((e=>e[0])));if(Math.min.apply(null,a.map((e=>e[0]+e[1])))-n<=this._bufferSize){const{data:t}=await this.request(this.url,{range:{from:n,to:n+this._bufferSize},responseType:"array-buffer",signal:o});e=t,s=n,i.forEach((t=>(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.parseFieldValues)(e,r,t,s)))}}if(f.ifd?.has("GEOKEYDIRECTORY")){const t=f.ifd.get("GEOKEYDIRECTORY"),i=t?.values;if(i&&i.length>4){const a=i[0]+"."+i[1]+"."+i[2],n=await this._readIFD(e,r,t.valueOffset+6-s,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].GEO_KEYS,2,o);t.data=n.ifd,t.data&&t.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return f}if(f.requiredBufferSize&&f.requiredBufferSize!==e.byteLength){const t=await this.request(this.url,{range:{from:s,to:s+f.requiredBufferSize+4},responseType:"array-buffer",signal:o});return(e=t.data).byteLength<f.requiredBufferSize?null:this._readIFD(e,r,0,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_14__["default"].TIFF_TAGS,4,o)}}async _fetchRawTiffTile(e,t,r,i,s={}){const a=this._getTileLocation(e,t,r,i);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:f,ifd:l}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:"array-buffer",signal:s.signal}))),c=await Promise.all(u),p=c.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),h=1===c.length?c[0].data:new ArrayBuffer(p),m=[0],d=[0];if(c.length>1){const e=new Uint8Array(h);for(let t=0,r=0;t<c.length;t++){const i=c[t].data;e.set(new Uint8Array(i),r),m[t]=r,r+=i.byteLength,d[t]=i.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),T=await this.decodePixelBlock(h,{format:"tiff",customOptions:{headerInfo:this._headerInfo,ifd:l,offsets:m,sizes:d},width:y,height:g,planes:null,pixelType:null});if(null==T)return null;let x,I,w;if(o!==y||f!==g){let e=T.mask;if(e)for(x=0;x<g;x++)if(w=x*y,x<f)for(I=o;I<y;I++)e[w+I]=0;else for(I=0;I<y;I++)e[w+I]=0;else for(e=new Uint8Array(y*g),T.mask=e,x=0;x<f;x++)for(w=x*y,I=0;I<o;I++)e[w+I]=1}return T}_getTileLocation(e,t,r,i=!1){const{firstPyramidLevel:s,blockBoundary:a}=this.rasterInfo.storageInfo,n=0===e?0:e-(s-1),{_headerInfo:o}=this;if(!o)return null;const f=i?o.maskIFDs[n]:0===n?o?.ifds[0]:o?.pyramidIFDs[n-1];if(!f)return null;const l=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_13__.isBSQConfig)(f,o),u=F(f,"TILEOFFSETS");if(void 0===u)return null;const c=F(f,"TILEBYTECOUNTS"),{minRow:p,minCol:h,maxRow:m,maxCol:d}=a[n];if(t>m||r>d||t<p||r<h)return null;const y=E(f,"IMAGEWIDTH"),T=E(f,"IMAGELENGTH"),x=E(f,"TILEWIDTH"),I=E(f,"TILELENGTH"),w=[];if(l){const{bandCount:e}=this.rasterInfo;for(let i=0;i<e;i++){const e=i*(m+1)*(d+1)+t*(d+1)+r;w[i]={from:u[e],to:u[e]+c[e]-1}}}else{const e=t*(d+1)+r;w.push({from:u[e],to:u[e]+c[e]-1})}for(let g=0;g<w.length;g++)if(null==w[g].from||!w[g].to)return null;return{ranges:w,ifd:f,actualTileWidth:r===d&&y%x||x,actualTileHeight:t===m&&T%I||I}}async _fetchAuxiliaryMetaData(e){try{const{data:t}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:e?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(t)}catch{return null}}async _fetchAuxiliaryTable(e){try{const{data:t}=await this.request(this.url+".vat.dbf",{responseType:"array-buffer",signal:e?.signal}),r=_DBFParser_js__WEBPACK_IMPORTED_MODULE_11__["default"].parse(t);return r?.recordSet?_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(r.recordSet):null}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],S.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],S.prototype,"_headerInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],S.prototype,"_bufferSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],S.prototype,"datasetFormat",void 0),S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.TIFFRaster")],S);const v=S;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parsePAMInfo: () => (/* binding */ p),
/* harmony export */   parseSpatialReference: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function f(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function u(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElement)(e,"GeodataXform"),r=m((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(t,"SpatialReference/WKID")||(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(t,"SpatialReference/WKT"));if("typens:PolynomialXform"!==t.getAttribute("xsi:type"))return{spatialReference:r,transform:null};const o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(t,"PolynomialOrder")??1,u=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"CoeffX/Double"),c=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"CoeffY/Double"),d=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"InverseCoeffX/Double"),p=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValues)(t,"InverseCoeffY/Double"),S=f(u,c),C=f(d,p);return{spatialReference:r,transform:S&&C&&S.length&&C.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_3__["default"]({spatialReference:r,polynomialOrder:o,forwardCoefficients:S,inverseCoefficients:C}):null}}function c(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(e,"NoDataValue"),i=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElement)(e,"Histograms/HistItem"),l=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(i,"HistMin"),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(i,"HistMax"),f=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(i,"BucketCount"),u=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(i,"HistCounts")?.split("|").map((e=>Number(e)));let c,m,d,p;(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElements)(e,"Metadata/MDI").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute("key").toUpperCase()){case"STATISTICS_MINIMUM":c=t;break;case"STATISTICS_MAXIMUM":m=t;break;case"STATISTICS_MEAN":d=t;break;case"STATISTICS_STDDEV":p=t}}));const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementNumericValue)(e,"Metadata/SourceBandIndex");return{noDataValue:t,histogram:u?.length&&null!=l&&null!=o?{min:l,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function m(e){if(!e)return null;let t=Number(e);if(!isNaN(t)&&0!==t)return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:t});if((e=String(e)).startsWith("COMPD_CS")){if(!e.includes("VERTCS")||!e.includes("GEOGCS")&&!e.startsWith("PROJCS"))return null;const n=e.indexOf("VERTCS"),r=e.indexOf("PROJCS"),s=r>-1?r:e.indexOf("GEOGCS");if(-1===s)return null;const a=e.slice(s,e.lastIndexOf("]",n)+1).trim(),i=e.slice(n,e.lastIndexOf("]")).trim();t=d(a);const l=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"](t?{wkid:t}:{wkt:a}),f=d(i);return f&&(l.vcsWkid=f),l}return e.startsWith("GEOGCS")||e.startsWith("PROJCS")?(t=d(e),new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"](0!==t?{wkid:t}:{wkt:e})):null}function d(e){const t=e.replaceAll("]","[").replaceAll('"',"").split("[").map((e=>e.trim())).filter((e=>""!==e)),n=t[t.length-1].split(","),r=n[0]?.toLowerCase();if(("epsg"===r||"esri"===r)&&e.endsWith('"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function p(s){if("pamdataset"!==s?.documentElement.tagName?.toLowerCase())return{};const a={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};s.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.isSameTagIgnoreNS)(e,"SRS")){if(!a.spatialReference){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(e);a.spatialReference=m(t)}}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.isSameTagIgnoreNS)(e,"Metadata"))if("xml:ESRI"===e.getAttribute("domain")){const{spatialReference:t,transform:n}=u(e);a.transform=n,a.spatialReference||(a.spatialReference=t)}else{(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElements)(e,"MDI").forEach((e=>a.metadata[e.getAttribute("key")]=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.getElementValue)(e)))}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_2__.isSameTagIgnoreNS)(e,"PAMRasterBand")){const t=c(e);null!=t.sourceBandIndex&&null==a.rasterBands[t.sourceBandIndex]?a.rasterBands[t.sourceBandIndex]=t:a.rasterBands.push(t)}}));const i=a.rasterBands;if(i.length){const t=!!i[0].statistics;a.statistics=t?i.map((e=>e.statistics)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null;const n=!!i[0].histogram;a.histograms=n?i.map((e=>e.histogram)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null}return a}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getElement: () => (/* binding */ e),
/* harmony export */   getElementNumericValue: () => (/* binding */ o),
/* harmony export */   getElementNumericValues: () => (/* binding */ u),
/* harmony export */   getElementValue: () => (/* binding */ t),
/* harmony export */   getElementValues: () => (/* binding */ l),
/* harmony export */   getElements: () => (/* binding */ n),
/* harmony export */   getNodeNameIgnoreNS: () => (/* binding */ c),
/* harmony export */   getSpaceDelimitedNumericValues: () => (/* binding */ r),
/* harmony export */   isSameTagIgnoreNS: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,t){if(!e||!t)return[];let l=t;t.includes("/")?(l=t.slice(0,t.indexOf("/")),t=t.slice(t.indexOf("/")+1)):t="";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS("*",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes("/")?(r=l.slice(0,l.indexOf("/")),l=l.slice(l.indexOf("/")+1)):l="";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),""!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(" ").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(":")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(":")+1)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clip: () => (/* binding */ a),
/* harmony export */   snapToRaster: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(e,i){if(e.spatialReference.equals(i))return e;const n=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(e.spatialReference),a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(i);if(n===a)return e;const h=n/a;return{x:e.x*h,y:e.y*h}}async function a(t,e,n){if("extent"===n.type)return o(t,e,n);const{width:a,height:x}=t,l=new Uint8Array(a*x),{contains:m,intersects:s}=await Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngine_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js"));return s(e,n)?"polyline"===n.type?r(t,e,n):m(n,e)?t:h(t,e,n):new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:x,mask:l,maskIsAlpha:!1,pixels:[...t.pixels]})}function h(t,e,n){if(!t)return t;const{width:a,height:h}=t,o=e.width/a,r=e.height/h,{xmin:x,ymax:l}=e;let m;if("extent"===n.type){const t=(n.xmin-x)/o,e=(n.xmax-x)/o,i=(l-n.ymax)/r,a=(l-n.ymin)/r;m=[[[t,i],[t,a],[e,a],[e,i],[t,i]]]}else m=n.rings.map((t=>t.map((([t,e])=>[(t-x)/o,(l-e)/r]))));const s=document.createElement("canvas");s.width=a,s.height=h;const p=s.getContext("2d");p.fillStyle="#f00",m.forEach((t=>{p.beginPath(),p.moveTo(t[0][0],t[0][1]);for(let e=0;e<t.length;e++)p.lineTo(t[e][0],t[e][1]);p.closePath(),p.fill()}));const f=p.getImageData(0,0,a,h).data,y=t.mask,c=a*h,M=new Uint8Array(c);for(let i=0;i<c;i++)y&&!y[i]||(M[i]=f[4*i+3]>127?255:0);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:M,maskIsAlpha:!1,pixels:[...t.pixels]})}function o(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h;if(n.width/r<.5||n.height/x<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const{xmin:l,xmax:m,ymin:s,ymax:p}=e,{xmin:f,xmax:y,ymin:c,ymax:M}=n,u=Math.max(l,f),w=Math.min(m,y),d=Math.max(s,c),g=Math.min(p,M),T=.5*r,k=.5*x;if(w-u<T||g-d<k||w<l+T||u>m-T||d>p-k||g<s+k)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const A=Math.max(0,(u-l)/r),R=Math.min(a,Math.max(0,(w-l)/r)),U=Math.max(0,(p-g)/x),j=Math.min(h,Math.max(0,(p-d)/x)),E=Math.round(A),I=Math.round(R)-1,P=Math.round(U),v=Math.round(j)-1;if(E===I&&A%1>.5&&R%1<.5||P===v&&U%1>.5&&j%1<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});if(0===E&&0===P&&I===a&&v===h)return t;const b=t.mask;for(let i=P;i<=v;i++)for(let t=E;t<=I;t++){const e=i*a+t;o[e]=b?b[e]:255}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function r(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h,{xmin:l,ymax:m}=e,{paths:s}=n,p=t.mask;for(let i=0;i<s.length;i++){const t=s[i];for(let e=0;e<t.length-1;e++){const[i,n]=t[e],[s,f]=t[e+1];let y=Math.floor((m-n)/x),c=Math.floor((m-f)/x);if(c<y){const t=y;y=c,c=t}y=Math.max(0,y),c=Math.min(h-1,c);const M=(s-i)/(f-n);for(let t=y;t<=c;t++){const e=t===y?Math.max(n,f):(h+1-t)*x,m=t===c?Math.min(n,f):e-x;let u=f===n?Math.floor((i-l)/r):Math.floor((M*(e-n)+i-l)/r),w=f===n?Math.floor((s-l)/r):Math.floor((M*(m-n)+i-l)/r);if(w<u){const t=u;u=w,w=t}const d=t*a;u=Math.max(0,u),w=Math.min(a-1,w);for(let t=d+u;t<=d+w;t++)o[t]=p?p[t]:255}}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function x(t,i,a,h=!0){const{spatialReference:o}=t,{x:r,y:x}=n(a,o);let l,m,s;const p="extent"===i.type?i:i.extent;let{xmin:f,xmax:y,ymax:c,ymin:M}=p;const{xmin:u,ymax:w}=t.extent;return h?(f=u+(f>u?r*Math.round((f-u)/r):0),c=w-(c<w?x*Math.round((w-c)/x):0),y=u+(y>u?r*Math.round((y-u)/r):0),M=w-(M<w?x*Math.round((w-M)/x):0),l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o}),m=Math.round(l.width/r),s=Math.round(l.height/x)):(m=Math.floor((y-f)/r+.8),s=Math.floor((c-M)/x+.8),f=u+(f>u?r*Math.floor((f-u)/r+.1):0),c=w-(c<w?x*Math.floor((w-c)/x+.1):0),y=f+m*r,M=c-s*x,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o})),{extent:l,width:m,height:s}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19JbWFnZXJ5VGlsZUxheWVyX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGFBQWEseUdBQXlHLFNBQVMsR0FBNkI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0psSztBQUNBO0FBQ0E7QUFDQTtBQUNrRixtQkFBbUIsVUFBVSwwRUFBQyx3REFBd0QsY0FBYyxPQUFPLGdFQUFDLDhCQUE4QiwwRUFBQyxrQ0FBa0Msa0JBQWtCLHlEQUF3SDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p6WTtBQUNBO0FBQ0E7QUFDQTtBQUMrc0Qsb0JBQW9CLGtFQUFDLENBQUMsNEVBQUMsQ0FBQyw4RUFBQyxDQUFDLG9FQUFDLENBQUMsd0ZBQUMsQ0FBQyw4RUFBQyxDQUFDLHdFQUFDLENBQUMsd0VBQUMsQ0FBQyw4RUFBQyxDQUFDLHFGQUFDLENBQUMsa0RBQUMsWUFBWSxrQkFBa0Isc1VBQXNVLHVCQUF1QiwwQkFBMEIsV0FBVyxHQUFHLFFBQVEsOEJBQThCLHFEQUFxRCxpQ0FBaUMsVUFBVSxvRUFBQyx5REFBeUQsMkJBQTJCLGtDQUFrQyxtQkFBbUIsYUFBYSwwREFBQyxFQUFFLG9HQUFvRyxNQUFNLDBEQUFDLEVBQUUsNEdBQTRHLElBQUksYUFBYSw4REFBOEQsTUFBTSwrRUFBK0Usa0JBQWtCLHlCQUF5QixHQUFHLGFBQWEsOENBQThDLG9EQUFvRCwwREFBMEQsRUFBRSxPQUFPLFdBQVcsMERBQUMsRUFBRSxzRUFBc0UsY0FBYywwREFBQyxFQUFFLG9GQUFvRixHQUFHLFNBQVMsdUJBQXVCLE1BQU0sZUFBZSx5QkFBeUIsT0FBTyxzRUFBc0UsT0FBTyw0RUFBQyxFQUFFLDBCQUEwQixFQUFFLHlCQUF5QixFQUFFLDhCQUE4QixPQUFPLGdGQUFDLENBQUMsbUVBQUMsNEJBQTRCLElB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LFlBQVksWUFBWSxXQUFXLEtBQUssYUFBYSxZQUFZLGFBQWEsS0FBSyw2QkFBNkIsZ0RBQWdELFFBQVEsVUFBVSxRQUFRLGtDQUFrQyxvQkFBb0IsWUFBWSxLQUFLLEtBQUssZ0VBQWdFLG9IQUFvSCxRQUFRLFVBQVUsUUFBUSxZQUFZLGtDQUFrQyxjQUFjLE9BQU8sc0JBQXNCLFdBQVcsc0RBQUMsRUFBRSxtRUFBbUUsRUFBRSx1QkFBdUIsTUFBTSxtQkFBbUIsSUFBSSxRQUFRLFFBQVEsVUFBVSxxQ0FBcUMsSUFBSSw0QkFBNEIsR0FBRyxNQUFNLGNBQWMsVUFBVSx3SkFBd0osMkRBQUMsRUFBRSwrQ0FBK0MsdU1BQXVNLDJEQUFDLEVBQUUsK0NBQStDLElBQUksMkJBQStEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9CeXRlU2l6ZVVuaXQuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9VaW50QXJyYXkuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL0ltYWdlcnlUaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL21peGlucy9JbWFnZXJ5VGlsZU1peGluLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1RpbGVtYXAuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvVGlsZW1hcENhY2hlLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Jhc2VSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvQ2xvdWRSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvREJGUGFyc2VyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0VwaGVtZXJhbEJsb2NrQ2FjaGUuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvRnVuY3Rpb25SYXN0ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VBdXhSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VTZXJ2ZXJSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW5NZW1vcnlSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvTVJGUmFzdGVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1Jhc3RlckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvUmF3QmxvY2tDYWNoZS5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9USUZGUmFzdGVyLmpzIiwid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL3BhbVBhcnNlci5qcyIsIndlYnBhY2s6Ly9rbHlrLy4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy94bWxVdGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8va2x5ay8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL2NsaXBVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIEU7IWZ1bmN0aW9uKEUpe0VbRS5LSUxPQllURVM9MTAyNF09XCJLSUxPQllURVNcIixFW0UuTUVHQUJZVEVTPTEwNDg1NzZdPVwiTUVHQUJZVEVTXCIsRVtFLkdJR0FCWVRFUz0xMDczNzQxODI0XT1cIkdJR0FCWVRFU1wifShFfHwoRT17fSkpO2V4cG9ydHtFIGFzIEJ5dGVTaXplVW5pdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e05BVElWRV9BUlJBWV9NQVhfU0laRSBhcyByLGlzQXJyYXkgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL3R5cGVkQXJyYXlVdGlsLmpzXCI7ZnVuY3Rpb24gdChuLHQ9ITEpe3JldHVybiBuPD1yP3Q/bmV3IEFycmF5KG4pLmZpbGwoMCk6bmV3IEFycmF5KG4pOm5ldyBVaW50MzJBcnJheShuKX1mdW5jdGlvbiBlKHQpe3JldHVybihuKHQpP3QubGVuZ3RoOnQuYnl0ZUxlbmd0aC84KTw9cj9BcnJheS5mcm9tKHQpOm5ldyBVaW50MzJBcnJheSh0KX1mdW5jdGlvbiB5KHIsbix0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShyKT9yLnNsaWNlKG4sbit0KTpyLnN1YmFycmF5KG4sbit0KX1leHBvcnR7dCBhcyBuZXdVaW50QXJyYXksZSBhcyB1aW50QXJyYXlGcm9tLHkgYXMgdWludFN1YkFycmF5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi9Qb3B1cFRlbXBsYXRlLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e011bHRpT3JpZ2luSlNPTk1peGluIGFzIGl9ZnJvbVwiLi4vY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgYX1mcm9tXCIuLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Vuc3VyZUNsYXNzIGFzIGwsSW50ZWdlciBhcyBwfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZW51bWVyYXRpb24gYXMgbX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2VudW1lcmF0aW9uLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHV9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBjIGZyb21cIi4vTGF5ZXIuanNcIjtpbXBvcnR7QXJjR0lTU2VydmljZSBhcyBkfWZyb21cIi4vbWl4aW5zL0FyY0dJU1NlcnZpY2UuanNcIjtpbXBvcnR7QmxlbmRMYXllciBhcyBofWZyb21cIi4vbWl4aW5zL0JsZW5kTGF5ZXIuanNcIjtpbXBvcnR7Q3VzdG9tUGFyYW1ldGVyc01peGluIGFzIHl9ZnJvbVwiLi9taXhpbnMvQ3VzdG9tUGFyYW1ldGVyc01peGluLmpzXCI7aW1wb3J0e0ltYWdlcnlUaWxlTWl4aW4gYXMgZn1mcm9tXCIuL21peGlucy9JbWFnZXJ5VGlsZU1peGluLmpzXCI7aW1wb3J0e09wZXJhdGlvbmFsTGF5ZXIgYXMgZ31mcm9tXCIuL21peGlucy9PcGVyYXRpb25hbExheWVyLmpzXCI7aW1wb3J0e1BvcnRhbExheWVyIGFzIHZ9ZnJvbVwiLi9taXhpbnMvUG9ydGFsTGF5ZXIuanNcIjtpbXBvcnR7UmVmcmVzaGFibGVMYXllciBhcyBqfWZyb21cIi4vbWl4aW5zL1JlZnJlc2hhYmxlTGF5ZXIuanNcIjtpbXBvcnR7U2NhbGVSYW5nZUxheWVyIGFzIFJ9ZnJvbVwiLi9taXhpbnMvU2NhbGVSYW5nZUxheWVyLmpzXCI7aW1wb3J0e1RlbXBvcmFsTGF5ZXIgYXMgU31mcm9tXCIuL21peGlucy9UZW1wb3JhbExheWVyLmpzXCI7aW1wb3J0e2xlZ2VuZEVuYWJsZWQgYXMgd31mcm9tXCIuL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydCBiIGZyb21cIi4vc3VwcG9ydC9GaWVsZC5qc1wiO2ltcG9ydHtpbnRlcnBvbGF0aW9uS2ViYWIgYXMgSX1mcm9tXCIuL3N1cHBvcnQvcmFzdGVyRW51bXMuanNcIjtpbXBvcnQgTyBmcm9tXCIuL3N1cHBvcnQvUmFzdGVyRnVuY3Rpb24uanNcIjtpbXBvcnQgUCBmcm9tXCIuL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvRnVuY3Rpb25SYXN0ZXIuanNcIjtpbXBvcnQgVCBmcm9tXCIuL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvUmFzdGVyRmFjdG9yeS5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgeCxnZXRQcmltYXJ5UmFzdGVyVXJscyBhcyBOfWZyb21cIi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyRnVuY3Rpb25IZWxwZXIuanNcIjtpbXBvcnR7Y3JlYXRlUG9wdXBUZW1wbGF0ZSBhcyBGfWZyb21cIi4uL3N1cHBvcnQvcG9wdXBVdGlscy5qc1wiO2xldCBfPWNsYXNzIGV4dGVuZHMoaChSKGcodih5KGYoUyhkKGooaShjKSkpKSkpKSkpKSl7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy5fcHJpbWFyeVJhc3RlcnM9W10sdGhpcy5iYW5kSWRzPW51bGwsdGhpcy5pbnRlcnBvbGF0aW9uPW51bGwsdGhpcy5sZWdlbmRFbmFibGVkPSEwLHRoaXMuaXNSZWZlcmVuY2U9bnVsbCx0aGlzLmxpc3RNb2RlPVwic2hvd1wiLHRoaXMuc291cmNlSlNPTj1udWxsLHRoaXMudmVyc2lvbj1udWxsLHRoaXMudHlwZT1cImltYWdlcnktdGlsZVwiLHRoaXMub3BlcmF0aW9uYWxMYXllclR5cGU9XCJBcmNHSVNUaWxlZEltYWdlU2VydmljZUxheWVyXCIsdGhpcy5wb3B1cEVuYWJsZWQ9ITAsdGhpcy5wb3B1cFRlbXBsYXRlPW51bGwsdGhpcy5maWVsZHM9bnVsbH1ub3JtYWxpemVDdG9yQXJncyhlLHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi5yfTplfWxvYWQoZSl7Y29uc3Qgcj1udWxsIT1lP2Uuc2lnbmFsOm51bGw7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLmxvYWRGcm9tUG9ydGFsKHtzdXBwb3J0ZWRUeXBlczpbXCJJbWFnZSBTZXJ2aWNlXCJdfSxlKS5jYXRjaChvKS50aGVuKCgoKT0+dGhpcy5fb3BlblJhc3RlcihyKSkpKSxQcm9taXNlLnJlc29sdmUodGhpcyl9Z2V0IGRlZmF1bHRQb3B1cFRlbXBsYXRlKCl7cmV0dXJuIHRoaXMuY3JlYXRlUG9wdXBUZW1wbGF0ZSgpfWdldCByYXN0ZXJGaWVsZHMoKXtjb25zdCBlPVtuZXcgYih7bmFtZTpcIlJhc3Rlci5TZXJ2aWNlUGl4ZWxWYWx1ZVwiLGFsaWFzOlwiUGl4ZWwgVmFsdWVcIixkb21haW46bnVsbCxlZGl0YWJsZTohMSxsZW5ndGg6NTAsdHlwZTpcInN0cmluZ1wifSksbmV3IGIoe25hbWU6XCJSYXN0ZXIuU2VydmljZVBpeGVsVmFsdWUuUmF3XCIsYWxpYXM6XCJSYXcgUGl4ZWwgVmFsdWVcIixkb21haW46bnVsbCxlZGl0YWJsZTohMSxsZW5ndGg6NTAsdHlwZTpcInN0cmluZ1wifSldLHtyYXN0ZXJJbmZvOnJ9PXRoaXMsdD1yPy5hdHRyaWJ1dGVUYWJsZSxzPW51bGwhPXQ/dC5maWVsZHM6bnVsbCxpPVwiUmFzdGVyLlwiO2lmKHMpe2NvbnN0IHI9cy5maWx0ZXIoKGU9Plwib2lkXCIhPT1lLnR5cGUmJlwidmFsdWVcIiE9PWUubmFtZS50b0xvd2VyQ2FzZSgpKSkubWFwKChlPT57Y29uc3Qgcj1lLmNsb25lKCk7cmV0dXJuIHIubmFtZT1pK2UubmFtZSxyfSkpO2UucHVzaCguLi5yKX1jb25zdCBvPXI/LmRhdGFUeXBlLGE9cj8ubXVsdGlkaW1lbnNpb25hbEluZm87aWYoKFwidmVjdG9yLW1hZ2RpclwiPT09b3x8XCJ2ZWN0b3ItdXZcIj09PW8pJiZudWxsIT1hKXtjb25zdCByPWEudmFyaWFibGVzWzBdLnVuaXQ/LnRyaW0oKSx0PVwiTWFnbml0dWRlXCIrKHI/YCAoJHtyfSlgOlwiXCIpO2UucHVzaChuZXcgYih7bmFtZTpcIlJhc3Rlci5NYWduaXR1ZGVcIixhbGlhczp0LGRvbWFpbjpudWxsLGVkaXRhYmxlOiExLHR5cGU6XCJkb3VibGVcIn0pKSxlLnB1c2gobmV3IGIoe25hbWU6XCJSYXN0ZXIuRGlyZWN0aW9uXCIsYWxpYXM6XCJEaXJlY3Rpb24gKMKwKVwiLGRvbWFpbjpudWxsLGVkaXRhYmxlOiExLHR5cGU6XCJkb3VibGVcIn0pKX1yZXR1cm4gZX1jcmVhdGVQb3B1cFRlbXBsYXRlKGUpe2NvbnN0e3Jhc3RlckZpZWxkczpyfT10aGlzLHQ9bmV3IFNldChyLm1hcCgoKHtuYW1lOmV9KT0+ZSkpLmZpbHRlcigoZT0+XCJyYXN0ZXIuc2VydmljZXBpeGVsdmFsdWUucmF3XCIhPT1lLnRvTG93ZXJDYXNlKCkpKSk7cmV0dXJuIEYoe2ZpZWxkczpyLHRpdGxlOnRoaXMudGl0bGV9LHsuLi5lLHZpc2libGVGaWVsZE5hbWVzOnR9KX1hc3luYyBnZW5lcmF0ZVJhc3RlckluZm8oZSxyKXtpZighKGU9bChPLGUpKSlyZXR1cm4gdGhpcy5yYXN0ZXJJbmZvO3RyeXtjb25zdCB0PXtyYXN0ZXI6dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF19O3RoaXMuX3ByaW1hcnlSYXN0ZXJzLmxlbmd0aD4xJiZ0aGlzLl9wcmltYXJ5UmFzdGVycy5mb3JFYWNoKChlPT50W2UudXJsXT1lKSk7Y29uc3Qgcz14KGUuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKT8/ZS50b0pTT04oKSx0KSxpPW5ldyBQKHtyYXN0ZXJGdW5jdGlvbjpzfSk7cmV0dXJuIGF3YWl0IGkub3BlbihyKSxpLnJhc3RlckluZm99Y2F0Y2gocyl7aWYocyBpbnN0YW5jZW9mIHQpdGhyb3cgczt0aHJvdyBuZXcgdChcImltYWdlcnktdGlsZS1sYXllclwiLFwidGhlIGdpdmVuIHJhc3RlciBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCIpfX13cml0ZShlLHIpe2NvbnN0IHM9dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF0/P3RoaXMucmFzdGVyO2lmKHRoaXMubG9hZGVkP1wiUmFzdGVyVGlsZVNlcnZlclwiPT09cy5kYXRhc2V0Rm9ybWF0JiYoXCJSYXN0ZXJcIj09PXMudGlsZVR5cGV8fFwiTWFwXCI9PT1zLnRpbGVUeXBlKTp0aGlzLnVybCYmL1xcL0ltYWdlU2VydmVyKFxcL3xcXC8/JCkvaS50ZXN0KHRoaXMudXJsKSlyZXR1cm4gc3VwZXIud3JpdGUoZSxyKTtpZihyJiZyLm1lc3NhZ2VzKXtjb25zdCBlPWAke3Iub3JpZ2lufS8ke3IubGF5ZXJDb250YWluZXJUeXBlfHxcIm9wZXJhdGlvbmFsLWxheWVyc1wifWA7ci5tZXNzYWdlcy5wdXNoKG5ldyB0KFwibGF5ZXI6dW5zdXBwb3J0ZWRcIixgTGF5ZXJzICgke3RoaXMudGl0bGV9LCAke3RoaXMuaWR9KSBvZiB0eXBlICcke3RoaXMuZGVjbGFyZWRDbGFzc30nIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoZSBjb250ZXh0IG9mICcke2V9J2Ase2xheWVyOnRoaXN9KSl9cmV0dXJuIG51bGx9YXN5bmMgX29wZW5SYXN0ZXIoZSl7bGV0IHI9ITE7aWYodGhpcy5yYXN0ZXIpdGhpcy5yYXN0ZXIucmFzdGVySW5mb3x8YXdhaXQgdGhpcy5yYXN0ZXIub3BlbigpLFwiRnVuY3Rpb25cIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQ/KHI9ITAsdGhpcy5fcHJpbWFyeVJhc3RlcnM9dGhpcy5yYXN0ZXIucHJpbWFyeVJhc3RlcnMucmFzdGVycyk6dGhpcy5fcHJpbWFyeVJhc3RlcnM9W3RoaXMucmFzdGVyXSx0aGlzLnVybD10aGlzLnJhc3Rlci51cmw7ZWxzZXtjb25zdHtyYXN0ZXJGdW5jdGlvbjpyfT10aGlzLGk9W3RoaXMudXJsXTtyJiZOKHIudG9KU09OKCksaSk7Y29uc3QgYT1hd2FpdCBQcm9taXNlLmFsbChpLm1hcCgocj0+VC5vcGVuKHt1cmw6cixzb3VyY2VKU09OOnRoaXMuc291cmNlSlNPTixpb0NvbmZpZzp7c2FtcGxpbmc6XCJjbG9zZXN0XCIsLi4udGhpcy5pb0NvbmZpZyxjdXN0b21GZXRjaFBhcmFtZXRlcnM6dGhpcy5jdXN0b21QYXJhbWV0ZXJzfSxzaWduYWw6ZX0pKSkpLG49YS5maW5kSW5kZXgoKGU9Pm51bGw9PWUpKTtpZihuPi0xKXRocm93IG5ldyB0KFwiaW1hZ2VyeS10aWxlLWxheWVyOm9wZW5cIixgY2Fubm90IG9wZW4gcmFzdGVyOiAke2lbbl19YCk7aWYodGhpcy5fcHJpbWFyeVJhc3RlcnM9YSxyKXtjb25zdCBlPXtyYXN0ZXI6dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF19O3RoaXMuX3ByaW1hcnlSYXN0ZXJzLmxlbmd0aD4xJiZ0aGlzLl9wcmltYXJ5UmFzdGVycy5mb3JFYWNoKChyPT5lW3IudXJsXT1yKSk7Y29uc3QgaT14KHIuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKT8/ci50b0pTT04oKSxlKSxuPW5ldyBQKHtyYXN0ZXJGdW5jdGlvbjppfSk7dHJ5e2F3YWl0IG4ub3BlbigpLHRoaXMucmFzdGVyPW59Y2F0Y2gobyl7Y29uc3QgZT1zLmdldExvZ2dlcih0aGlzKTtvIGluc3RhbmNlb2YgdCYmZS5lcnJvcihcImltYWdlcnktdGlsZS1sYXllcjpvcGVuXCIsby5tZXNzYWdlKSxlLndhcm4oXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6b3BlblwiLFwidGhlIHJhc3RlciBmdW5jdGlvbiBjYW5ub3QgYmUgYXBwbGllZCBhbmQgaXMgcmVtb3ZlZFwiKSx0aGlzLl9zZXQoXCJyYXN0ZXJGdW5jdGlvblwiLG51bGwpLHRoaXMucmFzdGVyPWFbMF19fWVsc2UgdGhpcy5yYXN0ZXI9YVswXX1jb25zdCBpPXRoaXMucmFzdGVyLnJhc3RlckluZm87aWYoIWkpdGhyb3cgbmV3IHQoXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6bG9hZFwiLFwiY2Fubm90IGxvYWQgcmVzb3VyY2VzIG9uIFwiK3RoaXMudXJsKTtpZih0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIscj9pOnRoaXMuX3ByaW1hcnlSYXN0ZXJzWzBdLnJhc3RlckluZm8pLHRoaXMuX3NldChcInNwYXRpYWxSZWZlcmVuY2VcIixpLnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuc291cmNlSlNPTj10aGlzLnNvdXJjZUpTT058fHRoaXMucmFzdGVyLnNvdXJjZUpTT04sbnVsbCE9dGhpcy5zb3VyY2VKU09OKXtjb25zdCBlPVwiTWFwXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZSYmbnVsbCE9dGhpcy5zb3VyY2VKU09OLm1pbkxPRCYmbnVsbCE9dGhpcy5zb3VyY2VKU09OLm1heExPRD90aGlzLnNvdXJjZUpTT046ey4uLnRoaXMuc291cmNlSlNPTixtaW5TY2FsZTowLG1heFNjYWxlOjB9O3RoaXMucmVhZChlLHtvcmlnaW46XCJzZXJ2aWNlXCJ9KX1lbHNlIHRoaXMucmVhZCh7dGlsZUluZm86dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnRpbGVJbmZvLnRvSlNPTigpfSx7b3JpZ2luOlwic2VydmljZVwifSk7dGhpcy50aXRsZXx8KHRoaXMudGl0bGU9dGhpcy5yYXN0ZXIuZGF0YXNldE5hbWUpLFwiTWFwXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZSYmKHRoaXMucG9wdXBFbmFibGVkPSExKSx0aGlzLl9jb25maWdEZWZhdWx0U2V0dGluZ3MoKSx0aGlzLmFkZEhhbmRsZXMoYSgoKCk9PnRoaXMuY3VzdG9tUGFyYW1ldGVycyksKGU9Pnt0aGlzLnJhc3RlciYmKHRoaXMucmFzdGVyLmlvQ29uZmlnLmN1c3RvbUZldGNoUGFyYW1ldGVycz1lKX0pKSl9fTtlKFtuKCldLF8ucHJvdG90eXBlLFwiX3ByaW1hcnlSYXN0ZXJzXCIsdm9pZCAwKSxlKFtuKHt0eXBlOltwXSxqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZXx8XCIwLDEsMlwiIT09dGhpcy5iYW5kSWRzPy5qb2luKFwiLFwiKX19fX19KV0sXy5wcm90b3R5cGUsXCJiYW5kSWRzXCIsdm9pZCAwKSxlKFtuKHtqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZXx8XCJiaWxpbmVhclwiIT09dGhpcy5pbnRlcnBvbGF0aW9ufX19fX0pLG0oSSldLF8ucHJvdG90eXBlLFwiaW50ZXJwb2xhdGlvblwiLHZvaWQgMCksZShbbih3KV0sXy5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsdm9pZCAwKSxlKFtuKHt0eXBlOkJvb2xlYW4sanNvbjp7cmVhZDohMSx3cml0ZTp7ZW5hYmxlZDohMCxvdmVycmlkZVBvbGljeTooKT0+KHtlbmFibGVkOiExfSl9fX0pXSxfLnByb3RvdHlwZSxcImlzUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtuKHt0eXBlOltcInNob3dcIixcImhpZGVcIl19KV0sXy5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCksZShbbih7anNvbjp7cmVhZDohMCx3cml0ZTohMH19KV0sXy5wcm90b3R5cGUsXCJibGVuZE1vZGVcIix2b2lkIDApLGUoW24oKV0sXy5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSxlKFtuKHtyZWFkT25seTohMCxqc29uOntvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJjdXJyZW50VmVyc2lvblwifX19fX0pXSxfLnByb3RvdHlwZSxcInZlcnNpb25cIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLF8ucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbbih7dHlwZTpbXCJBcmNHSVNUaWxlZEltYWdlU2VydmljZUxheWVyXCJdfSldLF8ucHJvdG90eXBlLFwib3BlcmF0aW9uYWxMYXllclR5cGVcIix2b2lkIDApLGUoW24oe3R5cGU6Qm9vbGVhbix2YWx1ZTohMCxqc29uOntyZWFkOntzb3VyY2U6XCJkaXNhYmxlUG9wdXBcIixyZWFkZXI6KGUscik9PiFyLmRpc2FibGVQb3B1cH0sd3JpdGU6e3RhcmdldDpcImRpc2FibGVQb3B1cFwiLG92ZXJyaWRlUG9saWN5KCl7cmV0dXJue2VuYWJsZWQ6IXRoaXMubG9hZGVkfHxcIlJhc3RlclwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGV9fSx3cml0ZXIoZSxyLHQpe3JbdF09IWV9fX19KV0sXy5wcm90b3R5cGUsXCJwb3B1cEVuYWJsZWRcIix2b2lkIDApLGUoW24oe3R5cGU6cixqc29uOntyZWFkOntzb3VyY2U6XCJwb3B1cEluZm9cIn0sd3JpdGU6e3RhcmdldDpcInBvcHVwSW5mb1wiLG92ZXJyaWRlUG9saWN5KCl7cmV0dXJue2VuYWJsZWQ6IXRoaXMubG9hZGVkfHxcIlJhc3RlclwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGV9fX19fSldLF8ucHJvdG90eXBlLFwicG9wdXBUZW1wbGF0ZVwiLHZvaWQgMCksZShbbih7cmVhZE9ubHk6ITB9KV0sXy5wcm90b3R5cGUsXCJkZWZhdWx0UG9wdXBUZW1wbGF0ZVwiLG51bGwpLGUoW24oe3JlYWRPbmx5OiEwLHR5cGU6W2JdfSldLF8ucHJvdG90eXBlLFwiZmllbGRzXCIsdm9pZCAwKSxlKFtuKHtyZWFkT25seTohMCx0eXBlOltiXX0pXSxfLnByb3RvdHlwZSxcInJhc3RlckZpZWxkc1wiLG51bGwpLF89ZShbdShcImVzcmkubGF5ZXJzLkltYWdlcnlUaWxlTGF5ZXJcIildLF8pO2NvbnN0IEo9XztleHBvcnR7SiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e3Jhc3RlclJlbmRlcmVyVHlwZXMgYXMgZSx3ZWJzY2VuZVJhc3RlclJlbmRlcmVyVHlwZXMgYXMgcixyZWFkIGFzIGl9ZnJvbVwiLi4vLi4vcmFzdGVyUmVuZGVyZXJzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyB1fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIGR9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7c2FuaXRpemVVcmwgYXMgbX1mcm9tXCIuLi9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e3VybCBhcyBofWZyb21cIi4uL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydCBwIGZyb21cIi4uL3N1cHBvcnQvRGltZW5zaW9uYWxEZWZpbml0aW9uLmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vc3VwcG9ydC9NdWx0aWRpbWVuc2lvbmFsU3Vic2V0LmpzXCI7aW1wb3J0IHkgZnJvbVwiLi4vc3VwcG9ydC9SYXN0ZXJGdW5jdGlvbi5qc1wiO2ltcG9ydCBiIGZyb21cIi4uL3N1cHBvcnQvUmFzdGVySm9iSGFuZGxlci5qc1wiO2ltcG9ydCBnIGZyb21cIi4uL3N1cHBvcnQvVGlsZUluZm8uanNcIjtpbXBvcnQgRiBmcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Z1bmN0aW9uUmFzdGVyLmpzXCI7aW1wb3J0e2dldERlZmF1bHRNdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbiBhcyBKLGhhc0V4Y2x1ZGVkVmFyaWFibGVPckRpbWVuc2lvbiBhcyBSLGdldERlZmF1bHRWYXJpYWJsSW5mbyBhcyBfLGlzTXVsdGlTbGljZU9yUmFuZ2VEZWZpbml0aW9uIGFzIEksZ2V0U3Vic2V0VmFyaWFibGVzRnJvbU1kSW5mbyBhcyBTfWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvbXVsdGlkaW1lbnNpb25hbFV0aWxzLmpzXCI7aW1wb3J0e3NuYXBUb1Jhc3RlciBhcyB4LGNsaXAgYXMgd31mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9jbGlwVXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHZ9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyRnVuY3Rpb25IZWxwZXIuanNcIjtpbXBvcnR7bG9hZCBhcyBqLHByb2plY3RFeHRlbnQgYXMgRCxwcm9qZWN0UG9seWdvbiBhcyBIfWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3Jhc3RlclByb2plY3Rpb25IZWxwZXIuanNcIjtpbXBvcnR7Y29tcHV0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zIGFzIFR9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvc3RyZXRjaFV0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRWZWN0b3JGaWVsZERhdGEgYXMgTn1mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy92ZWN0b3JGaWVsZFV0aWxzLmpzXCI7aW1wb3J0e25vcm1hbGl6ZVJlbmRlcmVySlNPTiBhcyBPLGdldFZhcmlhYmxlUmFzdGVySW5mbyBhcyB6LGdldERlZmF1bHRJbnRlcnBvbGF0aW9uIGFzIFAsZ2V0RGVmYXVsdEJhbmRDb21iaW5hdGlvbiBhcyBDLGNyZWF0ZURlZmF1bHRSZW5kZXJlciBhcyBFfWZyb21cIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L3Jhc3RlclJlbmRlcmVySGVscGVyLmpzXCI7aW1wb3J0IEEgZnJvbVwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvUmFzdGVyU3ltYm9saXplci5qc1wiO2ltcG9ydCBNIGZyb21cIi4uLy4uL3Jlc3Qvc3VwcG9ydC9JbWFnZUhpc3RvZ3JhbVBhcmFtZXRlcnMuanNcIjtpbXBvcnR7Y3JlYXRlRmxvd01lc2ggYXMgVX1mcm9tXCIuLi8uLi92aWV3cy8yZC9lbmdpbmUvZmxvdy9kYXRhVXRpbHMuanNcIjtpbXBvcnQgayBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHEgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBCPW8uZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMubWl4aW5zLkltYWdlcnlUaWxlTWl4aW5cIiksVj1vPT57bGV0IFY9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKC4uLnQpe3N1cGVyKC4uLnQpLHRoaXMuX2lzQ29uc3RydWN0ZWRGcm9tRnVuY3Rpb25SYXN0ZXI9ITEsdGhpcy5fcmFzdGVySm9iSGFuZGxlcj17aW5zdGFuY2U6bnVsbCxyZWZDb3VudDowLGNvbm5lY3Rpb25Qcm9taXNlOm51bGx9LHRoaXMuYmFuZElkcz1udWxsLHRoaXMuY29weXJpZ2h0PW51bGwsdGhpcy5pbnRlcnBvbGF0aW9uPVwibmVhcmVzdFwiLHRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldD1udWxsLHRoaXMucmFzdGVyPW51bGwsdGhpcy5yYXN0ZXJJbmZvPW51bGwsdGhpcy5zb3VyY2VKU09OPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5zeW1ib2xpemVyPW51bGwsdGhpcy5faXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3Rlcj1cIkZ1bmN0aW9uXCI9PT10WzBdPy5yYXN0ZXI/LmRhdGFzZXRGb3JtYXR9Z2V0IGZ1bGxFeHRlbnQoKXtyZXR1cm4gdGhpcy5yYXN0ZXJJbmZvPy5leHRlbnR9c2V0IG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKHQpe3RoaXMuX3NldChcIm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uXCIsdCksdGhpcy51cGRhdGVSZW5kZXJlcigpfXNldCByYXN0ZXJGdW5jdGlvbih0KXtcIm5vbmVcIj09PXQ/LmZ1bmN0aW9uTmFtZT8udG9Mb3dlckNhc2UoKSYmKHQ9dm9pZCAwKSx0aGlzLl9zZXQoXCJyYXN0ZXJGdW5jdGlvblwiLHQpLHRoaXMudXBkYXRlUmFzdGVyRnVuY3Rpb24oKX1zZXQgdXJsKHQpe3RoaXMuX3NldChcInVybFwiLG0odCxCKSl9c2V0IHJlbmRlcmVyKHQpe251bGw9PXQmJm51bGw9PXRoaXMucmFzdGVyRnVuY3Rpb24/dGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwib3ZlcnJpZGVcIik6KHRoaXMuX3NldChcInJlbmRlcmVyXCIsdCksdGhpcy51cGRhdGVSZW5kZXJlcigpKX1yZWFkUmVuZGVyZXIodCxlLHIpe2NvbnN0IG49ZT8ubGF5ZXJEZWZpbml0aW9uPy5kcmF3aW5nSW5mbz8ucmVuZGVyZXI7cmV0dXJuIGkobixyKXx8dm9pZCAwfWFzeW5jIGNvbnZlcnRWZWN0b3JGaWVsZERhdGEodCxlKXtpZihudWxsPT10fHwhdGhpcy5yYXN0ZXJJbmZvKXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZSxpPXRoaXMucmFzdGVySW5mby5kYXRhVHlwZTtyZXR1cm4gcj9yLmNvbnZlcnRWZWN0b3JGaWVsZERhdGEoe3BpeGVsQmxvY2s6dCxkYXRhVHlwZTppfSxlKTpOKHQsaSl9YXN5bmMgY29tcHV0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zKHQsZSl7dD1sKE0sdCkuY2xvbmUoKTtjb25zdHtyYXN0ZXJJbmZvOnJ9PXRoaXMse2dlb21ldHJ5Oml9PXQ7aWYobnVsbD09aSl0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZS1taXhpbjpjb21wdXRlLXN0YXRpc3RpY3MtaGlzdG9ncmFtc1wiLFwiZ2VvbWV0cnkgbXVzdCBiZSBzcGVjaWZpZWRcIik7bGV0IG49aTtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOm99PXI7aS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhvKXx8KGF3YWl0IGooKSxuPVwiZXh0ZW50XCI9PT1pLnR5cGU/RChpLG8pOkgoaSxvKSk7Y29uc3QgYT10LnBpeGVsU2l6ZT8/bmV3IHEoe3g6ci5waXhlbFNpemUueCx5OnIucGl4ZWxTaXplLnksc3BhdGlhbFJlZmVyZW5jZTpvfSkse2V4dGVudDp1LHdpZHRoOmMsaGVpZ2h0OmR9PXgocixuLGEpLG09YXdhaXQgdGhpcy5mZXRjaFBpeGVscyh1LGMsZCx7Li4uZSxpbnRlcnBvbGF0aW9uOlwibmVhcmVzdFwifSk7aWYobnVsbD09bS5waXhlbEJsb2NrKXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlLW1peGluOmNvbXB1dGUtc3RhdGlzdGljcy1oaXN0b2dyYW1zXCIsXCJmYWlsZWQgdG8gZmV0Y2ggcGl4ZWxzXCIpO2NvbnN0IGg9YXdhaXQgdyhtLnBpeGVsQmxvY2ssdSxuKSxwPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U7cmV0dXJuIHA/cC5jb21wdXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMoe3BpeGVsQmxvY2s6aH0sZSk6VChoKX1hc3luYyBjcmVhdGVGbG93TWVzaCh0LGUpe2NvbnN0IHI9dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZTtyZXR1cm4gcj9yLmNyZWF0ZUZsb3dNZXNoKHQsZSk6VSh0Lm1lc2hUeXBlLHQuc2ltdWxhdGlvblNldHRpbmdzLHQuZmxvd0RhdGEsbnVsbCE9ZS5zaWduYWw/ZS5zaWduYWw6KG5ldyBBYm9ydENvbnRyb2xsZXIpLnNpZ25hbCl9bm9ybWFsaXplUmFzdGVyRmV0Y2hPcHRpb25zKHQpe2NvbnN0e211bHRpZGltZW5zaW9uYWxJbmZvOmV9PXRoaXMucmFzdGVySW5mbz8/e307aWYobnVsbD09ZSlyZXR1cm4gdDtsZXQgcj10Lm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9ufHx0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uO251bGwhPXImJnIubGVuZ3RofHwocj1KKHRoaXMucmFzdGVyLnJhc3RlckluZm8se211bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSkpO2NvbnN0IGk9dC50aW1lRXh0ZW50fHx0aGlzLnRpbWVFeHRlbnQ7aWYobnVsbCE9ciYmbnVsbCE9aSYmKG51bGwhPWkuc3RhcnR8fG51bGwhPWkuZW5kKSl7cj1yLm1hcCgodD0+dC5jbG9uZSgpKSk7Y29uc3Qgbj1lLnZhcmlhYmxlcy5maW5kKCgoe25hbWU6dH0pPT50PT09clswXS52YXJpYWJsZU5hbWUpKT8uZGltZW5zaW9ucz8uZmluZCgoKHtuYW1lOnR9KT0+XCJTdGRUaW1lXCI9PT10KSkscz1yLmZpbmQoKCh7ZGltZW5zaW9uTmFtZTp0fSk9PlwiU3RkVGltZVwiPT09dCkpO2lmKCFufHwhcylyZXR1cm57Li4udCxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjpudWxsfTtjb25zdHtzdGFydDpvLGVuZDphfT1pLGw9bnVsbD09bz9udWxsOm8uZ2V0VGltZSgpLHU9bnVsbD09YT9udWxsOmEuZ2V0VGltZSgpLGM9bD8/dSxkPXU/P2w7aWYobnVsbCE9bi52YWx1ZXMpe2NvbnN0IHQ9bi52YWx1ZXMuZmlsdGVyKCh0PT57aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYoYz09PWQpcmV0dXJuIHRbMF08PWMmJnRbMV0+PWM7Y29uc3QgZT10WzBdPD1jJiZ0WzFdPmN8fHRbMF08ZCYmdFsxXT49ZCxyPXRbMF0+PWMmJnRbMV08PWR8fHRbMF08YyYmdFsxXT5kO3JldHVybiBlfHxyfXJldHVybiBjPT09ZD90PT09Yzp0Pj1jJiZ0PD1kfSkpO2lmKHQubGVuZ3RoKXtjb25zdCBlPXQuc29ydCgoKHQsZSk9Pntjb25zdCByPUFycmF5LmlzQXJyYXkodCk/dFswXTp0LGk9QXJyYXkuaXNBcnJheSh0KT90WzFdOnQsbj1BcnJheS5pc0FycmF5KGUpP2VbMF06ZSxzPUFycmF5LmlzQXJyYXkoZSk/ZVsxXTplO2lmKGM9PT1kKXJldHVybiByLW47cmV0dXJuIE1hdGguYWJzKGktZCktTWF0aC5hYnMocy1kKX0pKVswXTtzLnZhbHVlcz1bZV19ZWxzZSByPW51bGx9ZWxzZSBpZihuLmhhc1JlZ3VsYXJJbnRlcnZhbHMmJm4uZXh0ZW50KXtjb25zdFt0LGVdPW4uZXh0ZW50O2M+ZXx8ZDx0P3I9bnVsbDpzLnZhbHVlcz1jPT09ZD9bY106W01hdGgubWF4KHQsYyksTWF0aC5taW4oZSxkKV19fXJldHVybiBudWxsIT1yJiZSKHIsdGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0KT97Li4udCxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjpudWxsfTp7Li4udCxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjpyfX1hc3luYyB1cGRhdGVSYXN0ZXJGdW5jdGlvbigpe2lmKCF0aGlzLmxvYWRlZHx8XCJpbWFnZXJ5LXRpbGVcIiE9PXRoaXMudHlwZXx8IXRoaXMucmFzdGVyRnVuY3Rpb24mJiF0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb258fEpTT04uc3RyaW5naWZ5KHRoaXMucmFzdGVyRnVuY3Rpb24pPT09SlNPTi5zdHJpbmdpZnkodGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uKSlyZXR1cm47aWYodGhpcy5faXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3RlciYmXCJGdW5jdGlvblwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCl7Y29uc3QgdD10aGlzLnJhc3Rlci5yYXN0ZXJGdW5jdGlvbi50b0pTT04oKTtyZXR1cm4hdGhpcy5yYXN0ZXJGdW5jdGlvbiYmdCYmdGhpcy5fc2V0KFwicmFzdGVyRnVuY3Rpb25cIix5LmZyb21KU09OKHQpKSx2b2lkKHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj10aGlzLnJhc3RlckZ1bmN0aW9uPy50b0pTT04oKSl9bGV0IHQsZT10aGlzLnJhc3RlcixyPSExO1wiRnVuY3Rpb25cIj09PWUuZGF0YXNldEZvcm1hdD8odD1lLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnMsZT10WzBdLHI9ITApOnQ9W2VdO2NvbnN0e3Jhc3RlckZ1bmN0aW9uOml9PXRoaXM7aWYoaSl7Y29uc3Qgcj17cmFzdGVyOmV9O3QubGVuZ3RoPjEmJnQuZm9yRWFjaCgodD0+clt0LnVybF09dCkpO2NvbnN0IG49dihpLmZ1bmN0aW9uRGVmaW5pdGlvbj8udG9KU09OKCk/P2kudG9KU09OKCkscikscz1uZXcgRih7cmFzdGVyRnVuY3Rpb246bn0pO3MucmFzdGVySm9iSGFuZGxlcj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLGF3YWl0IHMub3BlbigpLHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj10aGlzLnJhc3RlckZ1bmN0aW9uPy50b0pTT04oKSx0aGlzLnJhc3Rlcj1zfWVsc2UgdGhpcy5yYXN0ZXI9ZSx0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb249bnVsbCxhd2FpdCBlLndoZW4oKTtpZih0aGlzLl9jYWNoZWRSZW5kZXJlckpzb249bnVsbCwhciYmIWkpcmV0dXJuO2NvbnN0e2JhbmRJZHM6bn09dGhpcyx7YmFuZENvdW50OnN9PXRoaXMucmFzdGVyLnJhc3RlckluZm8sbz1uPy5sZW5ndGg/bi5zb21lKCh0PT50Pj1zKSk6cz49MztuJiYob3x8dGhpcy5yZW5kZXJlciYmXCJyYXN0ZXItc3RyZXRjaFwiIT09dGhpcy5yZW5kZXJlci50eXBlKSYmdGhpcy5fc2V0KFwiYmFuZElkc1wiLG51bGwpLHRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcImF1dG9cIil9YXN5bmMgdXBkYXRlUmVuZGVyZXIoKXtjb25zdHtsb2FkZWQ6dCxzeW1ib2xpemVyOmV9PXRoaXM7aWYoIXR8fCFlfHwhdGhpcy5yZW5kZXJlcilyZXR1cm47Y29uc3R7cmFzdGVySW5mbzpyfT10aGlzLnJhc3RlcixpPV8ocix7bXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixtdWx0aWRpbWVuc2lvbmFsU3Vic2V0OnRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldH0pLG49aT8ubmFtZSxzPU8oey4uLnRoaXMucmVuZGVyZXIudG9KU09OKCksdmFyaWFibGVOYW1lOm59KTtpZihKU09OLnN0cmluZ2lmeSh0aGlzLl9jYWNoZWRSZW5kZXJlckpzb24pPT09SlNPTi5zdHJpbmdpZnkocykpcmV0dXJuO2NvbnN0IG89dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZTtvJiYoZS5yYXN0ZXJJbmZvPXoocixuKSxlLnJlbmRlcmVySlNPTj1zLGUuYmluZCgpLGF3YWl0IG8udXBkYXRlU3ltYm9saXplcihlKSx0aGlzLl9jYWNoZWRSZW5kZXJlckpzb249cyl9YXN5bmMgYXBwbHlSZW5kZXJlcih0LGUpe2NvbnN0IHI9dCYmdC5waXhlbEJsb2NrO2lmKCEobnVsbCE9ciYmci5waXhlbHMmJnIucGl4ZWxzLmxlbmd0aD4wKSlyZXR1cm4gbnVsbDtsZXQgaTthd2FpdCB0aGlzLnVwZGF0ZVJlbmRlcmVyKCk7Y29uc3Qgbj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLHM9dGhpcy5iYW5kSWRzPz9bXTtyZXR1cm4gaT1uP2F3YWl0IG4uc3ltYm9saXplKHsuLi50LHNpbXBsZVN0cmV0Y2hQYXJhbXM6ZSxiYW5kSWRzOnN9KTp0aGlzLnN5bWJvbGl6ZXIuc3ltYm9saXplKHsuLi50LHNpbXBsZVN0cmV0Y2hQYXJhbXM6ZSxiYW5kSWRzOnN9KSxpfWdldFRpbGVVcmwodCxlLHIpe3JldHVyblwiUmFzdGVyVGlsZVNlcnZlclwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdD9gJHt0aGlzLnVybH0vdGlsZS8ke3R9LyR7ZX0vJHtyfWA6XCJcIn1nZXRDb21wYXRpYmxlVGlsZUluZm8odCxlLHI9ITEpe2lmKCF0aGlzLmxvYWRlZHx8bnVsbD09ZSlyZXR1cm4gbnVsbDtpZihyJiZ0LmVxdWFscyh0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKXJldHVybiB0aGlzLnRpbGVJbmZvO2NvbnN0IGk9ZCh0KTtyZXR1cm4gZy5jcmVhdGUoe3NpemU6MjU2LHNwYXRpYWxSZWZlcmVuY2U6dCxvcmlnaW46aT97eDppLm9yaWdpblswXSx5Omkub3JpZ2luWzFdfTp7eDplLnhtaW4seTplLnltYXh9fSl9Z2V0Q29tcGF0aWJsZUZ1bGxFeHRlbnQodCl7cmV0dXJuIHRoaXMubG9hZGVkPyh0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudCYmdGhpcy5fY29tcGF0aWJsZUZ1bGxFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHModCl8fCh0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudD10aGlzLnJhc3Rlci5jb21wdXRlRXh0ZW50KHQpKSx0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudCk6bnVsbH1hc3luYyBmZXRjaFRpbGUodCxlLHIsaT17fSl7aWYoTCh0aGlzKSxpLnJlcXVlc3RBc0ltYWdlRWxlbWVudCl7Y29uc3Qgcz10aGlzLmdldFRpbGVVcmwodCxlLHIpO3JldHVybiBuKHMse3Jlc3BvbnNlVHlwZTpcImltYWdlXCIscXVlcnk6ey4uLnRoaXMucmVmcmVzaFBhcmFtZXRlcnMsLi4udGhpcy5yYXN0ZXIuaW9Db25maWcuY3VzdG9tRmV0Y2hQYXJhbWV0ZXJzfSxzaWduYWw6aS5zaWduYWx9KS50aGVuKCh0PT50LmRhdGEpKX1jb25zdHtyYXN0ZXJJbmZvOnN9PXRoaXM7aWYobnVsbCE9cy5tdWx0aWRpbWVuc2lvbmFsSW5mbyYmbnVsbD09KGk9dGhpcy5ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnMoaSkpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKXtjb25zdCBuPWkudGlsZUluZm98fHMuc3RvcmFnZUluZm8udGlsZUluZm87cmV0dXJue2V4dGVudDp0aGlzLnJhc3Rlci5nZXRUaWxlRXh0ZW50RnJvbVRpbGVJbmZvKHQsZSxyLG4pLHBpeGVsQmxvY2s6bnVsbH19cmV0dXJuIGF3YWl0IHRoaXMuX2luaXRKb2JIYW5kbGVyKCksYXdhaXQgdGhpcy51cGRhdGVSYXN0ZXJGdW5jdGlvbigpLFwicmFzdGVyLXNoYWRlZC1yZWxpZWZcIj09PXRoaXMucmVuZGVyZXI/LnR5cGUmJihpPXsuLi5pLGJ1ZmZlcjp7Y29sczoxLHJvd3M6MX19KSx0aGlzLnJhc3Rlci5mZXRjaFRpbGUodCxlLHIsaSl9YXN5bmMgZmV0Y2hQaXhlbHModCxlLHIsaT17fSl7cmV0dXJuIG51bGwhPXRoaXMucmFzdGVySW5mby5tdWx0aWRpbWVuc2lvbmFsSW5mbyYmbnVsbD09KGk9dGhpcy5ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnMoaSkpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uP3tleHRlbnQ6dCxwaXhlbEJsb2NrOm51bGx9Oihhd2FpdCB0aGlzLl9pbml0Sm9iSGFuZGxlcigpLGF3YWl0IHRoaXMudXBkYXRlUmFzdGVyRnVuY3Rpb24oKSxlPU1hdGgucm91bmQoZSkscj1NYXRoLnJvdW5kKHIpLHRoaXMucmFzdGVyLmZldGNoUGl4ZWxzKHQsZSxyLGkpKX1hc3luYyBpZGVudGlmeSh0LGU9e30pe2NvbnN0e3Jhc3RlcjpyLHJhc3RlckluZm86aX09dGhpcztpZihudWxsIT1pLm11bHRpZGltZW5zaW9uYWxJbmZvKXtpZighKGkuaGFzTXVsdGlkaW1lbnNpb25hbFRyYW5zcG9zZSYmISEoSShlLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKXx8ZS50cmFuc3Bvc2VkVmFyaWFibGVOYW1lfHxlLnRpbWVFeHRlbnQpKSYmbnVsbD09KGU9dGhpcy5ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnMoZSkpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKXJldHVybntsb2NhdGlvbjp0LHZhbHVlOm51bGx9fWNvbnN0IG49dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0Py5hcmVhT2ZJbnRlcmVzdDtpZihuJiYhbi5jb250YWlucyh0KSl0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZS1taXhpbjppZGVudGlmeVwiLFwidGhlIHJlcXVlc3QgY2Fubm90IGJlIGZ1bGZpbGxlZCB3aGVuIGZhbGxpbmcgb3V0c2lkZSBvZiB0aGUgbXVsdGlkaW1lbnNpb25hbCBzdWJzZXRcIik7cmV0dXJuIHIuaWRlbnRpZnkodCxlKX1pbmNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQrK31kZWNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQtLSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50PD0wJiZ0aGlzLl9zaHV0ZG93bkpvYkhhbmRsZXIoKX1oYXNTdGFuZGFyZFRpbWUoKXtjb25zdCB0PXRoaXMucmFzdGVySW5mbz8ubXVsdGlkaW1lbnNpb25hbEluZm87aWYobnVsbD09dHx8XCJzdGFuZGFyZC10aW1lXCIhPT10aGlzLnJhc3RlckluZm8/LmRhdGFUeXBlKXJldHVybiExO2NvbnN0IGU9dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixyPWU/LlswXT8udmFyaWFibGVOYW1lO3JldHVybiB0LnZhcmlhYmxlcy5zb21lKCh0PT50Lm5hbWU9PT1yJiYoIWU/LlswXS5kaW1lbnNpb25OYW1lfHx0LmRpbWVuc2lvbnMuc29tZSgodD0+XCJTdGRUaW1lXCI9PT10Lm5hbWUpKSkpKX1nZXRTdGFuZGFyZFRpbWVWYWx1ZSh0KXtyZXR1cm4gbmV3IERhdGUoMjQqKHQtMjU1NjkpKjM2MDAqMWUzKS50b1N0cmluZygpfWdldE11bHRpZGltZW5zaW9uYWxTdWJzZXRWYXJpYWJsZXModCl7Y29uc3QgZT10Pz90aGlzLnJhc3RlckluZm8/Lm11bHRpZGltZW5zaW9uYWxJbmZvO3JldHVybiBTKHRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldCxlKX1fY29uZmlnRGVmYXVsdFNldHRpbmdzKCl7dGhpcy5fY29uZmlnRGVmYXVsdEludGVycG9sYXRpb24oKSx0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9ufHwodGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbj1KKHRoaXMucmFzdGVyLnJhc3RlckluZm8se211bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSkpLHRoaXMucmFzdGVyRnVuY3Rpb24mJlwiRnVuY3Rpb25cIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQmJih0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb249dGhpcy5yYXN0ZXJGdW5jdGlvbi50b0pTT04oKSksdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKCl9X2luaXRKb2JIYW5kbGVyKCl7aWYobnVsbCE9dGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZSlyZXR1cm4gdGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZTtjb25zdCB0PW5ldyBiO3JldHVybiB0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlPXQuaW5pdGlhbGl6ZSgpLnRoZW4oKGFzeW5jKCk9PntMKHRoaXMpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U9dCx0aGlzLnJhc3Rlci5yYXN0ZXJKb2JIYW5kbGVyPXQsXCJGdW5jdGlvblwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCYmdGhpcy5yYXN0ZXIuc3luY0pvYkhhbmRsZXIoKSx0aGlzLnJhc3RlckZ1bmN0aW9uJiZhd2FpdCB0aGlzLnVwZGF0ZVJhc3RlckZ1bmN0aW9uKCkuY2F0Y2goKCgpPT57fSkpLHRoaXMucmVuZGVyZXImJnRoaXMudXBkYXRlUmVuZGVyZXIoKX0pKS5jYXRjaCgoKCk9Pnt9KSksdGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZX1fc2h1dGRvd25Kb2JIYW5kbGVyKCl7dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZSYmdGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZS5kZXN0cm95KCksdGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZT1udWxsLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2U9bnVsbCx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50PTAsdGhpcy5fY2FjaGVkUmVuZGVyZXJKc29uPW51bGwsdGhpcy5yYXN0ZXImJih0aGlzLnJhc3Rlci5yYXN0ZXJKb2JIYW5kbGVyPW51bGwpfV9jb25maWdEZWZhdWx0SW50ZXJwb2xhdGlvbigpe2lmKG51bGw9PXRoaXMuaW50ZXJwb2xhdGlvbil7TCh0aGlzKTtjb25zdHtyYXN0ZXI6dH09dGhpcyxlPVAodC5yYXN0ZXJJbmZvLHQudGlsZVR5cGUsdGhpcy5zb3VyY2VKU09OPy5kZWZhdWx0UmVzYW1wbGluZ01ldGhvZCk7dGhpcy5fc2V0KFwiaW50ZXJwb2xhdGlvblwiLGUpfX1fY29uZmlnRGVmYXVsdFJlbmRlcmVyKHQ9XCJub1wiKXtMKHRoaXMpO2NvbnN0e3Jhc3RlckluZm86ZX09dGhpcy5yYXN0ZXI7IXRoaXMuYmFuZElkcyYmZS5iYW5kQ291bnQ+MSYmKHRoaXMuYmFuZElkcz1DKGUpKTtjb25zdCByPV8oZSx7bXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixtdWx0aWRpbWVuc2lvbmFsU3Vic2V0OnRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldH0pLGk9cj8ubmFtZTtpZighdGhpcy5yZW5kZXJlcnx8XCJvdmVycmlkZVwiPT09dCl7Y29uc3QgdD1FKGUse2JhbmRJZHM6dGhpcy5iYW5kSWRzLHZhcmlhYmxlTmFtZTppfSkscj1lLnN0YXRpc3RpY3Msbj1yJiZyLmxlbmd0aD4wP3JbMF06bnVsbCxzPW4/Lm1heD8/MCxvPW4/Lm1pbj8/MDtcIldDU1NlcnZlclwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCYmXCJyYXN0ZXItc3RyZXRjaFwiPT09dC50eXBlJiYocz4xZTI0fHxvPC0xZTI0KSYmKHQuZHluYW1pY1JhbmdlQWRqdXN0bWVudD0hMCx0LnN0YXRpc3RpY3M9bnVsbCxcIm5vbmVcIj09PXQuc3RyZXRjaFR5cGUmJih0LnN0cmV0Y2hUeXBlPVwibWluLW1heFwiKSksdGhpcy5yZW5kZXJlcj10fWNvbnN0IG49Tyh7Li4udGhpcy5yZW5kZXJlci50b0pTT04oKSx2YXJpYWJsZU5hbWU6aX0pLHM9eihlLGkpO3RoaXMuc3ltYm9saXplcj8odGhpcy5zeW1ib2xpemVyLnJlbmRlcmVySlNPTj1uLHRoaXMuc3ltYm9saXplci5yYXN0ZXJJbmZvPXMpOnRoaXMuc3ltYm9saXplcj1uZXcgQSh7cmVuZGVyZXJKU09OOm4scmFzdGVySW5mbzpzfSk7Y29uc3Qgbz10aGlzLnN5bWJvbGl6ZXIuYmluZCgpO2lmKG8uc3VjY2Vzcyl7aWYoXCJhdXRvXCI9PT10KXtjb25zdHtjb2xvcm1hcDp0fT10aGlzLnJhc3Rlci5yYXN0ZXJJbmZvLGU9dGhpcy5yZW5kZXJlcjtpZihudWxsIT10JiZcInJhc3Rlci1jb2xvcm1hcFwiPT09ZS50eXBlKXtjb25zdCB0PUUodGhpcy5yYXN0ZXIucmFzdGVySW5mbyk7SlNPTi5zdHJpbmdpZnkodCkhPT1KU09OLnN0cmluZ2lmeShlKSYmdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwib3ZlcnJpZGVcIil9ZWxzZSBpZihcInJhc3Rlci1zdHJldGNoXCI9PT1lLnR5cGUpe2NvbnN0IHQ9dGhpcy5iYW5kSWRzPy5sZW5ndGgscj1lLnN0YXRpc3RpY3M/Lmxlbmd0aDshZS5keW5hbWljUmFuZ2VBZGp1c3RtZW50JiZyJiZ0JiZyIT09dCYmdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKFwib3ZlcnJpZGVcIil9fX1lbHNlIEIud2FybihcImltYWdlcnktdGlsZS1taXhpblwiLG8uZXJyb3J8fFwiVGhlIGdpdmVuIHJlbmRlcmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGxheWVyLlwiKSxcImF1dG9cIj09PXQmJnRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcIm92ZXJyaWRlXCIpfX07ZnVuY3Rpb24gTCh0KXtpZighdC5yYXN0ZXJ8fCF0LnJhc3RlckluZm8pdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGVcIixcIm5vIHJhc3RlclwiKX1yZXR1cm4gdChbYSgpXSxWLnByb3RvdHlwZSxcIl9jYWNoZWRSZW5kZXJlckpzb25cIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJfY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uXCIsdm9pZCAwKSx0KFthKCldLFYucHJvdG90eXBlLFwiX2NvbXBhdGlibGVGdWxsRXh0ZW50XCIsdm9pZCAwKSx0KFthKCldLFYucHJvdG90eXBlLFwiX2lzQ29uc3RydWN0ZWRGcm9tRnVuY3Rpb25SYXN0ZXJcIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJfcmFzdGVySm9iSGFuZGxlclwiLHZvaWQgMCksdChbYSgpXSxWLnByb3RvdHlwZSxcImJhbmRJZHNcIix2b2lkIDApLHQoW2Eoe2pzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImNvcHlyaWdodFRleHRcIn19fX19KV0sVi5wcm90b3R5cGUsXCJjb3B5cmlnaHRcIix2b2lkIDApLHQoW2Eoe2pzb246e3JlYWQ6ITF9fSldLFYucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLG51bGwpLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJpbnRlcnBvbGF0aW9uXCIsdm9pZCAwKSx0KFthKCldLFYucHJvdG90eXBlLFwiaW9Db25maWdcIix2b2lkIDApLHQoW2Eoe3R5cGU6W3BdLGpzb246e3dyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcIm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uXCIsbnVsbCksdChbYSh7dHlwZTpmLGpzb246e3dyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcIm11bHRpZGltZW5zaW9uYWxTdWJzZXRcIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJyYXN0ZXJcIix2b2lkIDApLHQoW2Eoe3R5cGU6eSxqc29uOntuYW1lOlwicmVuZGVyaW5nUnVsZVwiLHdyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcInJhc3RlckZ1bmN0aW9uXCIsbnVsbCksdChbYSgpXSxWLnByb3RvdHlwZSxcInJhc3RlckluZm9cIix2b2lkIDApLHQoW2EoKV0sVi5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSx0KFthKHtyZWFkT25seTohMCx0eXBlOmssanNvbjp7cmVhZDohMX19KV0sVi5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSx0KFthKHt0eXBlOmd9KV0sVi5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksdChbYShoKV0sVi5wcm90b3R5cGUsXCJ1cmxcIixudWxsKSx0KFthKHt0eXBlczplLGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ucmVuZGVyZXJcIix3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtjb25zdCB0PVwicmFzdGVyLXN0cmV0Y2hcIj09PXRoaXMucmVuZGVyZXI/LnR5cGUmJlwibm9uZVwiPT09dGhpcy5yZW5kZXJlci5zdHJldGNoVHlwZSYmIXRoaXMucmVuZGVyZXIudXNlR2FtbWE7cmV0dXJue2VuYWJsZWQ6IXRoaXMubG9hZGVkfHxcIlJhc3RlclwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGV8fCF0fX19LG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3R5cGVzOnIsbmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLHdyaXRlOntvdmVycmlkZVBvbGljeTp0PT4oe2VuYWJsZWQ6dCYmXCJ2ZWN0b3ItZmllbGRcIiE9PXQudHlwZSYmXCJmbG93XCIhPT10LnR5cGV9KX19fX19KV0sVi5wcm90b3R5cGUsXCJyZW5kZXJlclwiLG51bGwpLHQoW3UoXCJyZW5kZXJlclwiKV0sVi5wcm90b3R5cGUsXCJyZWFkUmVuZGVyZXJcIixudWxsKSx0KFthKCldLFYucHJvdG90eXBlLFwic3ltYm9saXplclwiLHZvaWQgMCksVj10KFtjKFwiZXNyaS5sYXllcnMuSW1hZ2VyeVRpbGVNaXhpblwiKV0sViksVn07ZXhwb3J0e1YgYXMgSW1hZ2VyeVRpbGVNaXhpbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydHtjb25zdGFudCBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7Y2xvbmUgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2xhbmcuanNcIjtpbXBvcnR7ZXN0aW1hdGVTaXplIGFzIG99ZnJvbVwiLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtuZXdVaW50QXJyYXkgYXMgbH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L1VpbnRBcnJheS5qc1wiO2NsYXNzIHJ7Y29uc3RydWN0b3IodCl7dGhpcy5fdmFsaWRhdGVKU09OKHQpO2NvbnN0e2xvY2F0aW9uOmksZGF0YTplfT10O3RoaXMubG9jYXRpb249T2JqZWN0LmZyZWV6ZShhKGkpKTtjb25zdCByPXRoaXMubG9jYXRpb24ud2lkdGgsbj10aGlzLmxvY2F0aW9uLmhlaWdodDtsZXQgcz0hMCxoPSEwO2NvbnN0IGM9TWF0aC5jZWlsKHIqbi8zMiksbT1sKGMpO2xldCBmPTA7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IHQ9YSUzMjtlW2FdPyhoPSExLG1bZl18PTE8PHQpOnM9ITEsMzE9PT10JiYrK2Z9aD8odGhpcy5fYXZhaWxhYmlsaXR5PVwidW5hdmFpbGFibGVcIix0aGlzLmJ5dGVTaXplPTQwKTpzPyh0aGlzLl9hdmFpbGFiaWxpdHk9XCJhdmFpbGFibGVcIix0aGlzLmJ5dGVTaXplPTQwKToodGhpcy5fYXZhaWxhYmlsaXR5PW0sdGhpcy5ieXRlU2l6ZT00MCtvKG0pKX1nZXRBdmFpbGFiaWxpdHkodCxpKXtpZihcInVuYXZhaWxhYmxlXCI9PT10aGlzLl9hdmFpbGFiaWxpdHl8fFwiYXZhaWxhYmxlXCI9PT10aGlzLl9hdmFpbGFiaWxpdHkpcmV0dXJuIHRoaXMuX2F2YWlsYWJpbGl0eTtjb25zdCBlPSh0LXRoaXMubG9jYXRpb24udG9wKSp0aGlzLmxvY2F0aW9uLndpZHRoKyhpLXRoaXMubG9jYXRpb24ubGVmdCksYT1lJTMyLG89ZT4+NSxsPXRoaXMuX2F2YWlsYWJpbGl0eTtyZXR1cm4gbzwwfHxvPmwubGVuZ3RoP1widW5rbm93blwiOmxbb10mMTw8YT9cImF2YWlsYWJsZVwiOlwidW5hdmFpbGFibGVcIn1zdGF0aWMgZnJvbURlZmluaXRpb24oYSxvKXtjb25zdCBsPWEuc2VydmljZS5yZXF1ZXN0fHx0LHtyb3c6bixjb2w6aCx3aWR0aDpjLGhlaWdodDptfT1hLGY9e3F1ZXJ5OntmOlwianNvblwifX07cmV0dXJuIG89bz97Li4uZiwuLi5vfTpmLGwocyhhKSxvKS50aGVuKCh0PT50LmRhdGEpKS5jYXRjaCgodD0+e2lmKHQmJnQuZGV0YWlscyYmNDIyPT09dC5kZXRhaWxzLmh0dHBTdGF0dXMpcmV0dXJue2xvY2F0aW9uOnt0b3A6bixsZWZ0Omgsd2lkdGg6YyxoZWlnaHQ6bX0sdmFsaWQ6ITAsZGF0YTppKGMqbSwwKX07dGhyb3cgdH0pKS50aGVuKCh0PT57aWYodC5sb2NhdGlvbiYmKHQubG9jYXRpb24udG9wIT09bnx8dC5sb2NhdGlvbi5sZWZ0IT09aHx8dC5sb2NhdGlvbi53aWR0aCE9PWN8fHQubG9jYXRpb24uaGVpZ2h0IT09bSkpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOmxvY2F0aW9uLW1pc21hdGNoXCIsXCJUaWxlbWFwIHJlc3BvbnNlIGZvciBkaWZmZXJlbnQgbG9jYXRpb24gdGhhbiByZXF1ZXN0ZWRcIix7cmVzcG9uc2U6dCxkZWZpbml0aW9uOnt0b3A6bixsZWZ0Omgsd2lkdGg6YyxoZWlnaHQ6bX19KTtyZXR1cm4gci5mcm9tSlNPTih0KX0pKX1zdGF0aWMgZnJvbUpTT04odCl7cmV0dXJuIE9iamVjdC5mcmVlemUobmV3IHIodCkpfV92YWxpZGF0ZUpTT04odCl7aWYoIXR8fCF0LmxvY2F0aW9uKXRocm93IG5ldyBlKFwidGlsZW1hcDptaXNzaW5nLWxvY2F0aW9uXCIsXCJMb2NhdGlvbiBtaXNzaW5nIGZyb20gdGlsZW1hcCByZXNwb25zZVwiKTtpZighMT09PXQudmFsaWQpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOmludmFsaWRcIixcIlRpbGVtYXAgcmVzcG9uc2Ugd2FzIG1hcmtlZCBhcyBpbnZhbGlkXCIpO2lmKCF0LmRhdGEpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOm1pc3NpbmctZGF0YVwiLFwiRGF0YSBtaXNzaW5nIGZyb20gdGlsZW1hcCByZXNwb25zZVwiKTtpZighQXJyYXkuaXNBcnJheSh0LmRhdGEpKXRocm93IG5ldyBlKFwidGlsZW1hcDpkYXRhLW1pc21hdGNoXCIsXCJEYXRhIG11c3QgYmUgYW4gYXJyYXkgb2YgbnVtYmVyc1wiKTtpZih0LmRhdGEubGVuZ3RoIT09dC5sb2NhdGlvbi53aWR0aCp0LmxvY2F0aW9uLmhlaWdodCl0aHJvdyBuZXcgZShcInRpbGVtYXA6ZGF0YS1taXNtYXRjaFwiLFwiTnVtYmVyIG9mIGRhdGEgaXRlbXMgZG9lcyBub3QgbWF0Y2ggd2lkdGgvaGVpZ2h0IG9mIHRpbGVtYXBcIil9fWZ1bmN0aW9uIG4odCl7cmV0dXJuYCR7dC5sZXZlbH0vJHt0LnJvd30vJHt0LmNvbH0vJHt0LndpZHRofS8ke3QuaGVpZ2h0fWB9ZnVuY3Rpb24gcyh0KXtsZXQgaTtpZih0LnNlcnZpY2UudGlsZVNlcnZlcnM/Lmxlbmd0aCl7Y29uc3QgZT10LnNlcnZpY2UudGlsZVNlcnZlcnM7aT1gJHtlJiZlLmxlbmd0aD9lW3Qucm93JWUubGVuZ3RoXTp0LnNlcnZpY2UudXJsfS90aWxlbWFwLyR7dC5sZXZlbH0vJHt0LnJvd30vJHt0LmNvbH0vJHt0LndpZHRofS8ke3QuaGVpZ2h0fWB9ZWxzZSBpPWAke3Quc2VydmljZS51cmx9L3RpbGVtYXAvJHt0LmxldmVsfS8ke3Qucm93fS8ke3QuY29sfS8ke3Qud2lkdGh9LyR7dC5oZWlnaHR9YDtjb25zdCBlPXQuc2VydmljZS5xdWVyeTtyZXR1cm4gZSYmKGk9YCR7aX0/JHtlfWApLGl9ZXhwb3J0e3IgYXMgVGlsZW1hcCxuIGFzIHRpbGVtYXBEZWZpbml0aW9uSWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e0J5dGVTaXplVW5pdCBhcyByfWZyb21cIi4uLy4uL2NvcmUvQnl0ZVNpemVVbml0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtMUlVDYWNoZSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvTFJVQ2FjaGUuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9jb3JlL1Bvb2xlZEFycmF5LmpzXCI7aW1wb3J0e29uQWJvcnQgYXMgbixjcmVhdGVBYm9ydEVycm9yIGFzIGMsaXNBYm9ydEVycm9yIGFzIGgsaXNBYm9ydGVkIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbSxpbml0aWFsIGFzIGZ9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3dhaXRUaWNrcyBhcyB1fWZyb21cIi4uLy4uL2NvcmUvc2NoZWR1bGluZy5qc1wiO2ltcG9ydHtvYmplY3RUb1F1ZXJ5IGFzIHZ9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB5fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1RpbGVLZXkgYXMgX31mcm9tXCIuL1RpbGVLZXkuanNcIjtpbXBvcnR7dGlsZW1hcERlZmluaXRpb25JZCBhcyBiLFRpbGVtYXAgYXMgZ31mcm9tXCIuL1RpbGVtYXAuanNcIjt2YXIgdztsZXQgVD13PWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9wZW5kaW5nVGlsZW1hcFJlcXVlc3RzPXt9LHRoaXMucmVxdWVzdD10LHRoaXMuc2l6ZT0zMix0aGlzLl9wcmVmZXRjaGluZ0VuYWJsZWQ9ITB9aW5pdGlhbGl6ZSgpe3RoaXMuX3RpbGVtYXBDYWNoZT1uZXcgbygyKnIuTUVHQUJZVEVTKSx0aGlzLmFkZEhhbmRsZXMoW20oKCgpPT57Y29uc3R7bGF5ZXI6ZX09dGhpcztyZXR1cm5bZT8ucGFyc2VkVXJsLGU/LnRpbGVTZXJ2ZXJzLGU/LmFwaUtleSxlPy5jdXN0b21QYXJhbWV0ZXJzXX0pLCgoKT0+dGhpcy5faW5pdGlhbGl6ZVRpbGVtYXBEZWZpbml0aW9uKCkpLGYpXSl9Z2V0IGVmZmVjdGl2ZU1pbkxPRCgpe3JldHVybiB0aGlzLm1pbkxPRD8/dGhpcy5sYXllci50aWxlSW5mby5sb2RzWzBdLmxldmVsfWdldCBlZmZlY3RpdmVNYXhMT0QoKXtyZXR1cm4gdGhpcy5tYXhMT0Q/P3RoaXMubGF5ZXIudGlsZUluZm8ubG9kc1t0aGlzLmxheWVyLnRpbGVJbmZvLmxvZHMubGVuZ3RoLTFdLmxldmVsfWZldGNoVGlsZW1hcChlLHQsaSxyKXtpZighdGhpcy5sYXllci50aWxlSW5mby5sb2RBdChlKXx8ZTx0aGlzLmVmZmVjdGl2ZU1pbkxPRHx8ZT50aGlzLmVmZmVjdGl2ZU1heExPRClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHMoXCJ0aWxlbWFwLWNhY2hlOmxldmVsLXVuYXZhaWxhYmxlXCIsYExldmVsICR7ZX0gaXMgdW5hdmFpbGFibGUgaW4gdGhlIHNlcnZpY2VgKSk7Y29uc3QgbD10aGlzLl90bXBUaWxlbWFwRGVmaW5pdGlvbixvPXRoaXMuX3RpbGVtYXBGcm9tQ2FjaGUoZSx0LGksbCk7aWYobylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG8pO2NvbnN0IGE9ciYmci5zaWduYWw7cmV0dXJuIHI9ey4uLnIsc2lnbmFsOm51bGx9LG5ldyBQcm9taXNlKCgoZSx0KT0+e24oYSwoKCk9PnQoYygpKSkpO2NvbnN0IGk9YihsKTtsZXQgcz10aGlzLl9wZW5kaW5nVGlsZW1hcFJlcXVlc3RzW2ldO2lmKCFzKXtzPWcuZnJvbURlZmluaXRpb24obCxyKS50aGVuKChlPT4odGhpcy5fdGlsZW1hcENhY2hlLnB1dChpLGUsZS5ieXRlU2l6ZSksZSkpKTtjb25zdCBlPSgpPT5kZWxldGUgdGhpcy5fcGVuZGluZ1RpbGVtYXBSZXF1ZXN0c1tpXTt0aGlzLl9wZW5kaW5nVGlsZW1hcFJlcXVlc3RzW2ldPXMscy50aGVuKGUsZSl9cy50aGVuKGUsdCl9KSl9Z2V0QXZhaWxhYmlsaXR5KGUsdCxpKXtpZighdGhpcy5sYXllci50aWxlSW5mby5sb2RBdChlKXx8ZTx0aGlzLmVmZmVjdGl2ZU1pbkxPRHx8ZT50aGlzLmVmZmVjdGl2ZU1heExPRClyZXR1cm5cInVuYXZhaWxhYmxlXCI7Y29uc3Qgcj10aGlzLl90aWxlbWFwRnJvbUNhY2hlKGUsdCxpLHRoaXMuX3RtcFRpbGVtYXBEZWZpbml0aW9uKTtyZXR1cm4gcj9yLmdldEF2YWlsYWJpbGl0eSh0LGkpOlwidW5rbm93blwifWZldGNoQXZhaWxhYmlsaXR5KGUsdCxpLHIpe3JldHVybiF0aGlzLmxheWVyLnRpbGVJbmZvLmxvZEF0KGUpfHxlPHRoaXMuZWZmZWN0aXZlTWluTE9EfHxlPnRoaXMuZWZmZWN0aXZlTWF4TE9EP1Byb21pc2UucmVqZWN0KG5ldyBzKFwidGlsZS1tYXA6dGlsZS11bmF2YWlsYWJsZVwiLFwiVGlsZSBpcyBub3QgYXZhaWxhYmxlXCIse2xldmVsOmUscm93OnQsY29sOml9KSk6dGhpcy5mZXRjaFRpbGVtYXAoZSx0LGkscikuY2F0Y2goKGU9PmUpKS50aGVuKChyPT57aWYociBpbnN0YW5jZW9mIGcpe2NvbnN0IGw9ci5nZXRBdmFpbGFiaWxpdHkodCxpKTtpZihcInVuYXZhaWxhYmxlXCI9PT1sKXRocm93IG5ldyBzKFwidGlsZS1tYXA6dGlsZS11bmF2YWlsYWJsZVwiLFwiVGlsZSBpcyBub3QgYXZhaWxhYmxlXCIse2xldmVsOmUscm93OnQsY29sOml9KTtyZXR1cm4gbH1pZihoKHIpKXRocm93IHI7cmV0dXJuXCJ1bmtub3duXCJ9KSl9ZmV0Y2hBdmFpbGFiaWxpdHlVcHNhbXBsZShlLHQsaSxyLHMpe3IubGV2ZWw9ZSxyLnJvdz10LHIuY29sPWk7Y29uc3QgbD10aGlzLmxheWVyLnRpbGVJbmZvO2wudXBkYXRlVGlsZUluZm8ocik7Y29uc3Qgbz10aGlzLmZldGNoQXZhaWxhYmlsaXR5KGUsdCxpLHMpLmNhdGNoKChlPT57aWYoaChlKSl0aHJvdyBlO2lmKGwudXBzYW1wbGVUaWxlKHIpKXJldHVybiB0aGlzLmZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGUoci5sZXZlbCxyLnJvdyxyLmNvbCxyLHMpO3Rocm93IGV9KSk7cmV0dXJuIHRoaXMuX2ZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGVQcmVmZXRjaChyLmlkLGUsdCxpLHMsbyksb31hc3luYyBfZmV0Y2hBdmFpbGFiaWxpdHlVcHNhbXBsZVByZWZldGNoKGUsdCxpLHIscyxvKXtpZighdGhpcy5fcHJlZmV0Y2hpbmdFbmFibGVkfHxudWxsPT1lKXJldHVybjtjb25zdCBhPWBwcmVmZXRjaC0ke2V9YDtpZih0aGlzLmhhc0hhbmRsZXMoYSkpcmV0dXJuO2NvbnN0IG49bmV3IEFib3J0Q29udHJvbGxlcjtvLnRoZW4oKCgpPT5uLmFib3J0KCkpLCgoKT0+bi5hYm9ydCgpKSk7bGV0IGM9ITE7Y29uc3QgaD1sKCgoKT0+e2N8fChjPSEwLG4uYWJvcnQoKSl9KSk7aWYodGhpcy5hZGRIYW5kbGVzKGgsYSksYXdhaXQgdSgxMCxuLnNpZ25hbCkuY2F0Y2goKCgpPT57fSkpLGN8fChjPSEwLHRoaXMucmVtb3ZlSGFuZGxlcyhhKSkscChuKSlyZXR1cm47Y29uc3QgbT1uZXcgXyhlLHQsaSxyKSxmPXsuLi5zLHNpZ25hbDpuLnNpZ25hbH0sdj10aGlzLmxheWVyLnRpbGVJbmZvO2ZvcihsZXQgbD0wO3cuX3ByZWZldGNoZXMubGVuZ3RoPHcuX21heFByZWZldGNoJiZ2LnVwc2FtcGxlVGlsZShtKTsrK2wpe2NvbnN0IGU9dGhpcy5mZXRjaEF2YWlsYWJpbGl0eShtLmxldmVsLG0ucm93LG0uY29sLGYpO3cuX3ByZWZldGNoZXMucHVzaChlKTtjb25zdCB0PSgpPT57dy5fcHJlZmV0Y2hlcy5yZW1vdmVVbm9yZGVyZWQoZSl9O2UudGhlbih0LHQpfX1faW5pdGlhbGl6ZVRpbGVtYXBEZWZpbml0aW9uKCl7aWYoIXRoaXMubGF5ZXIucGFyc2VkVXJsKXJldHVybjtjb25zdHtwYXJzZWRVcmw6ZSxhcGlLZXk6dCxjdXN0b21QYXJhbWV0ZXJzOml9PXRoaXMubGF5ZXI7dGhpcy5fdGlsZW1hcENhY2hlLmNsZWFyKCksdGhpcy5fdG1wVGlsZW1hcERlZmluaXRpb249e3NlcnZpY2U6e3VybDplLnBhdGgscXVlcnk6dih7Li4uZS5xdWVyeSwuLi5pLHRva2VuOnQ/P2UucXVlcnk/LnRva2VufSksdGlsZVNlcnZlcnM6dGhpcy5sYXllci50aWxlU2VydmVycyxyZXF1ZXN0OnRoaXMucmVxdWVzdH0sd2lkdGg6dGhpcy5zaXplLGhlaWdodDp0aGlzLnNpemUsbGV2ZWw6MCxyb3c6MCxjb2w6MH19X3RpbGVtYXBGcm9tQ2FjaGUoZSx0LGkscil7ci5sZXZlbD1lLHIucm93PXQtdCV0aGlzLnNpemUsci5jb2w9aS1pJXRoaXMuc2l6ZTtjb25zdCBzPWIocik7cmV0dXJuIHRoaXMuX3RpbGVtYXBDYWNoZS5nZXQocyl9Z2V0IHRlc3QoKXtjb25zdCBlPXRoaXM7cmV0dXJue2dldCBwcmVmZXRjaGluZ0VuYWJsZWQoKXtyZXR1cm4gZS5fcHJlZmV0Y2hpbmdFbmFibGVkfSxzZXQgcHJlZmV0Y2hpbmdFbmFibGVkKHQpe2UuX3ByZWZldGNoaW5nRW5hYmxlZD10fSxoYXNUaWxlbWFwOih0LGkscik9PiEhZS5fdGlsZW1hcEZyb21DYWNoZSh0LGkscixlLl90bXBUaWxlbWFwRGVmaW5pdGlvbil9fX07VC5fbWF4UHJlZmV0Y2g9NCxULl9wcmVmZXRjaGVzPW5ldyBhKHtpbml0aWFsU2l6ZTp3Ll9tYXhQcmVmZXRjaH0pLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbeSh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcIm1pbkxPRFwiLHZvaWQgMCksZShbeSh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcIm1heExPRFwiLHZvaWQgMCksZShbeSh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcInJlcXVlc3RcIix2b2lkIDApLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJzaXplXCIsdm9pZCAwKSxUPXc9ZShbZChcImVzcmkubGF5ZXJzLnN1cHBvcnQuVGlsZW1hcENhY2hlXCIpXSxUKTtleHBvcnR7VCBhcyBUaWxlbWFwQ2FjaGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHt1bndyYXBPclRocm93IGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e29uQWJvcnQgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgY31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG19ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzYW5pdGl6ZVVybCBhcyBmfWZyb21cIi4uL2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e3VybCBhcyB1fWZyb21cIi4uL2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi9EaW1lbnNpb25hbERlZmluaXRpb24uanNcIjtpbXBvcnQgcCBmcm9tXCIuLi9MT0QuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi9SYXN0ZXJTdG9yYWdlSW5mby5qc1wiO2ltcG9ydCB4IGZyb21cIi4uL1RpbGVJbmZvLmpzXCI7aW1wb3J0e2lzTXVsdGlTbGljZU9yUmFuZ2VEZWZpbml0aW9uIGFzIHksZ2V0U2xpY2VJbmRleCBhcyBnLGNyZWF0ZVNsaWNlcyBhcyBJLGdldFNsaWNlSWRzIGFzIFJ9ZnJvbVwiLi9tdWx0aWRpbWVuc2lvbmFsVXRpbHMuanNcIjtpbXBvcnR7Z2V0UmFzdGVySWQgYXMgdyxnZXRCbG9jayBhcyBTLHB1dEJsb2NrIGFzIGssZGVsZXRlQmxvY2sgYXMgVCxkZWNyZWFzZVJlZkNvdW50IGFzIGJ9ZnJvbVwiLi9SYXdCbG9ja0NhY2hlLmpzXCI7aW1wb3J0e2NvbnZlcnROb0RhdGFUb01hc2sgYXMgdn1mcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL3BpeGVsUmFuZ2VVdGlscy5qc1wiO2ltcG9ydHtkZWNvZGUgYXMgUH1mcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL1Jhc3RlckNvZGVjLmpzXCI7aW1wb3J0e21vc2FpYyBhcyBCLGFwcHJveGltYXRlVHJhbnNmb3JtIGFzIE0sZ2V0TG9jYWxBcml0aG1ldGljTm9ydGhSb3RhdGlvbnMgYXMgX31mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydHtsb2FkIGFzIFcsZ2V0V29ybGRXaWR0aCBhcyBDLHByb2plY3RQb2ludCBhcyBqLHNuYXBQeXJhbWlkIGFzIEgsc25hcEV4dGVudCBhcyB6LGdldFdvcmxkV3JhcENvdW50IGFzIEwscHJvamVjdEV4dGVudCBhcyBFLGdldFByb2plY3Rpb25PZmZzZXRHcmlkIGFzIEQsZ2V0UmFzdGVyRGF0YXNldEFsaWdubWVudEluZm8gYXMgRixwcm9qZWN0UmVzb2x1dGlvbiBhcyBPfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJQcm9qZWN0aW9uSGVscGVyLmpzXCI7aW1wb3J0e2NvbnZlcnRUb0xvY2FsRGlyZWN0aW9ucyBhcyBBLHV2Q29tcG9uZW50VG9WZWN0b3IgYXMgR31mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvdmVjdG9yRmllbGRVdGlscy5qc1wiO2ltcG9ydCBxIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBKIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7Y29uc3QgTj04LFY9MjU2O2xldCBVPWNsYXNzIGV4dGVuZHMocyhvKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuZGF0YXNldE5hbWU9bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9bnVsbCx0aGlzLmhhc1VuaXF1ZVNvdXJjZVN0b3JhZ2VJbmZvPSEwLHRoaXMucmFzdGVySW5mbz1udWxsLHRoaXMuaW9Db25maWc9e3NhbXBsaW5nOlwiY2xvc2VzdFwifX1hc3luYyBpbml0KCl7Y29uc3QgZT1XKCk7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKGUpLGF3YWl0IHRoaXMud2hlbigpfW5vcm1hbGl6ZUN0b3JBcmdzKGUpe3JldHVybiBlJiZlLmlvQ29uZmlnJiYoZT17Li4uZSxpb0NvbmZpZzp7cmVzb2x1dGlvbjpudWxsLGJhbmRJZHM6bnVsbCxzYW1wbGluZzpcImNsb3Nlc3RcIix0aWxlSW5mbzp4LmNyZWF0ZSgpLC4uLmUuaW9Db25maWd9fSksZX1nZXQgX2lzR2xvYmFsV3JhcHBhYmxlU291cmNlKCl7Y29uc3R7cmFzdGVySW5mbzplfT10aGlzLHQ9QyhlLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBudWxsIT10JiZlLmV4dGVudC53aWR0aD49dC8yfWdldCBfaGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm0oKXtjb25zdHt0cmFuc2Zvcm06ZX09dGhpcy5yYXN0ZXJJbmZvO3JldHVybiBudWxsPT1lfHxcImdjcy1zaGlmdFwiPT09ZS50eXBlfXNldCByYXN0ZXJKb2JIYW5kbGVyKGUpe3RoaXMuX3NldChcInJhc3RlckpvYkhhbmRsZXJcIixlKSxcIkZ1bmN0aW9uXCI9PT10aGlzLmRhdGFzZXRGb3JtYXQmJnRoaXMucHJpbWFyeVJhc3RlcnM/LnJhc3RlcnM/LmZvckVhY2goKHQ9PnQucmFzdGVySm9iSGFuZGxlcj1lKSl9c2V0IHVybChlKXt0aGlzLl9zZXQoXCJ1cmxcIixmKGUsci5nZXRMb2dnZXIodGhpcykpKX1hc3luYyBvcGVuKGUpe3Rocm93IG5ldyBpKFwiQmFzZVJhc3RlcjpvcGVuLW5vdC1pbXBsZW1lbnRlZFwiLFwib3BlbigpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX1hc3luYyBmZXRjaFRpbGUoZSx0LGksbz17fSl7Y29uc3Qgcj1vLnRpbGVJbmZvfHx0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8udGlsZUluZm8sbj10aGlzLmdldFRpbGVFeHRlbnRGcm9tVGlsZUluZm8oZSx0LGkscik7cmV0dXJuIHRoaXMuZmV0Y2hQaXhlbHMobixyLnNpemVbMF0sci5zaXplWzFdLG8pfWFzeW5jIGlkZW50aWZ5KGUsdD17fSl7ZT1jKEosZSkuY2xvbmUoKS5ub3JtYWxpemUoKTtjb25zdHttdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjppLHRpbWVFeHRlbnQ6b309dCx7cmFzdGVySW5mbzpyfT10aGlzLHtoYXNNdWx0aWRpbWVuc2lvbmFsVHJhbnNwb3NlOm4sbXVsdGlkaW1lbnNpb25hbEluZm86c309cjtsZXR7dHJhbnNwb3NlZFZhcmlhYmxlTmFtZTpsfT10O2NvbnN0IGE9bnVsbCE9cyYmbiYmKG51bGwhPW98fHkoaSkpO2lmKGEmJiFsKXtsPW51bGwhPWkmJmkubGVuZ3RoPjA/aVswXS52YXJpYWJsZU5hbWU/P3ZvaWQgMDpzLnZhcmlhYmxlc1swXS5uYW1lLHQ9ey4uLnQsdHJhbnNwb3NlZFZhcmlhYmxlTmFtZTpsfX10PXRoaXMuX2dldFJlcXVlc3RPcHRpb25zV2l0aFNsaWNlSWQodCk7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTptLGV4dGVudDpmfT1yLHtkYXR1bVRyYW5zZm9ybWF0aW9uOnV9PXQ7bGV0IGg9aihlLG0sdSk7aWYoIWYuaW50ZXJzZWN0cyhoKSlyZXR1cm57bG9jYXRpb246aCx2YWx1ZTpudWxsfTtpZihudWxsIT1yLnRyYW5zZm9ybSl7Y29uc3QgZT1yLnRyYW5zZm9ybS5pbnZlcnNlVHJhbnNmb3JtKGgpO2lmKCFyLm5hdGl2ZUV4dGVudC5pbnRlcnNlY3RzKGUpKXJldHVybntsb2NhdGlvbjplLHZhbHVlOm51bGx9O2g9ZX1sZXQgcD0wO2NvbnN0IGQ9bnVsbCE9bCYmbnVsbCE9cyYmci5oYXNNdWx0aWRpbWVuc2lvbmFsVHJhbnNwb3NlO2lmKFwiRnVuY3Rpb25cIj09PXRoaXMuZGF0YXNldEZvcm1hdCl7Y29uc3QgZT10aGlzLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnNbMF07aWYoZClyZXR1cm4gZS5pZGVudGlmeShoLHQpO2NvbnN0e3BpeGVsU2l6ZTppfT1yLG89MyxuPWkueCpvLzIscz1pLnkqby8yLGw9bmV3IHEoe3htaW46aC54LW4seG1heDpoLngrbix5bWluOmgueS1zLHltYXg6aC55K3Msc3BhdGlhbFJlZmVyZW5jZTptfSksYT17aW50ZXJwb2xhdGlvbjpcIm5lYXJlc3RcIn0se3BpeGVsQmxvY2s6Y309YXdhaXQgZS5mZXRjaFBpeGVscyhsLG8sbyxhKSx7cGl4ZWxCbG9jazpmfT1hd2FpdCB0aGlzLmZldGNoUGl4ZWxzKGwsbyxvLGEpO2lmKG51bGw9PWMpcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3QgdT1NYXRoLmZsb29yKG8qbyouNSkscD0hYy5tYXNrfHxjLm1hc2tbdV0/Yy5waXhlbHMubWFwKChlPT5lW3VdKSk6bnVsbDtsZXQgeDtyZXR1cm4gbnVsbCE9ZiYmKHg9IWYubWFza3x8Zi5tYXNrW3VdP2YucGl4ZWxzLm1hcCgoZT0+ZVt1XSkpOnZvaWQgMCkse2xvY2F0aW9uOmgsdmFsdWU6cCxwcm9jZXNzZWRWYWx1ZTp4LHB5cmFtaWRMZXZlbDowfX1pZighZClpZih0LnNyY1Jlc29sdXRpb24pe3A9SCh0LnNyY1Jlc29sdXRpb24scix0aGlzLmlvQ29uZmlnLnNhbXBsaW5nKS5weXJhbWlkTGV2ZWx9ZWxzZSBpZihwPWF3YWl0IHRoaXMuY29tcHV0ZUJlc3RQeXJhbWlkTGV2ZWxGb3JMb2NhdGlvbihlLHQpLG51bGw9PXApcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3QgeD10aGlzLmlkZW50aWZ5UGl4ZWxMb2NhdGlvbihoLHAsbnVsbCxkKTtpZihudWxsPT09eClyZXR1cm57bG9jYXRpb246aCx2YWx1ZTpudWxsfTtjb25zdHtyb3c6Zyxjb2w6SSxyb3dPZmZzZXQ6Uixjb2xPZmZzZXQ6VCxibG9ja1dpZHRoOmJ9PXgsdj1sPz90LnNsaWNlSWQsUD13KHRoaXMudXJsLHYpLEI9YCR7cH0vJHtnfS8ke0l9YDtsZXQgTT1TKFAsbnVsbCxCKTtudWxsPT1NJiYoTT10aGlzLmZldGNoUmF3VGlsZShwLGcsSSx0KSxrKFAsbnVsbCxCLE0pKTtjb25zdCBfPWF3YWl0IE07aWYobnVsbD09X3x8IV8ucGl4ZWxzPy5sZW5ndGgpcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3QgVz1SKmIrVDtyZXR1cm4gdGhpcy5fcHJvY2Vzc0lkZW50aWZ5UmVzdWx0KF8se3NyY0xvY2F0aW9uOmgscG9zaXRpb246VyxweXJhbWlkTGV2ZWw6cCx1c2VUcmFuc3Bvc2VkVGlsZTohIWQscmVxdWVzdFNvbWVTbGljZXM6YSxpZGVudGlmeU9wdGlvbnM6dH0pfWFzeW5jIGZldGNoUGl4ZWxzKGUsdCxpLG89e30pe2U9eihlKSxvPXRoaXMuX2dldFJlcXVlc3RPcHRpb25zV2l0aFNsaWNlSWQobyk7Y29uc3R7X2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtOnJ9PXRoaXM7aWYoby5yZXF1ZXN0UmF3RGF0YSYmcilyZXR1cm4gdGhpcy5fZmV0Y2hQaXhlbHMoZSx0LGksbyk7Y29uc3Qgbj1DKGUuc3BhdGlhbFJlZmVyZW5jZSkscz1MKGUpO2lmKG51bGw9PW58fDA9PT1zfHwxPT09cyYmdGhpcy5faXNHbG9iYWxXcmFwcGFibGVTb3VyY2UmJnIpcmV0dXJuIHRoaXMuX2ZldGNoUGl4ZWxzKGUsdCxpLG8pO2lmKHM+PTMpcmV0dXJue2V4dGVudDplLHBpeGVsQmxvY2s6bnVsbH07Y29uc3QgbD1bXSx7eG1pbjphLHhtYXg6Y309ZSxtPU1hdGgucm91bmQobi8oYy1hKSp0KSxmPW0tTWF0aC5yb3VuZCgobi8yLWEpLyhjLWEpKnQpO2xldCB1PTA7Y29uc3QgaD1bXTtmb3IobGV0IHk9MDt5PD1zO3krKyl7Y29uc3Qgcj1uZXcgcSh7eG1pbjowPT09eT9hOi1uLzIseG1heDp5PT09cz9jLW4qeTpuLzIseW1pbjplLnltaW4seW1heDplLnltYXgsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KSxwPTA9PT15P20tZjp5PT09cz90LXU6bTt1Kz1wLGgucHVzaChwKTtjb25zdCBkPW8uZGlzYWJsZVdyYXBBcm91bmQmJnk+MD9udWxsOnRoaXMuX2ZldGNoUGl4ZWxzKHIscCxpLG8pO2wucHVzaChkKX1jb25zdCBwPShhd2FpdCBQcm9taXNlLmFsbChsKSkubWFwKChlPT5lPy5waXhlbEJsb2NrKSk7bGV0IGQ9bnVsbDtjb25zdCB4PXt3aWR0aDp0LGhlaWdodDppfTtpZih0aGlzLnJhc3RlckpvYkhhbmRsZXIpe2Q9KGF3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5tb3NhaWNBbmRUcmFuc2Zvcm0oe3NyY1BpeGVsQmxvY2tzOnAsc3JjTW9zYWljU2l6ZTp4LGRlc3REaW1lbnNpb246bnVsbCxjb2VmczpudWxsLHNhbXBsZVNwYWNpbmc6bnVsbCxpbnRlcnBvbGF0aW9uOlwibmVhcmVzdFwiLGFsaWdubWVudEluZm86bnVsbCxibG9ja1dpZHRoczpofSxvKSkucGl4ZWxCbG9ja31lbHNlIGQ9QihwLHgse2Jsb2NrV2lkdGhzOmh9KTtyZXR1cm57ZXh0ZW50OmUsc3JjRXh0ZW50OkUoZSx0aGlzLnJhc3RlckluZm8uc3BhdGlhbFJlZmVyZW5jZSxvLmRhdHVtVHJhbnNmb3JtYXRpb24pLHBpeGVsQmxvY2s6ZH19YXN5bmMgZmV0Y2hSYXdQaXhlbHMoZSx0LGksbz17fSl7dD17eDpNYXRoLmZsb29yKHQueCkseTpNYXRoLmZsb29yKHQueSl9O2NvbnN0IHI9YXdhaXQgdGhpcy5fZmV0Y2hSYXdUaWxlcyhlLHQsaSxvKSx7bmF0aXZlRXh0ZW50Om4sbmF0aXZlUGl4ZWxTaXplOnMsc3RvcmFnZUluZm86bH09dGhpcy5yYXN0ZXJJbmZvLGE9MioqZSxjPXMueCphLG09cy55KmEsZj1uZXcgcSh7eG1pbjpuLnhtaW4rYyp0LngseG1heDpuLnhtaW4rYyoodC54K2kud2lkdGgtMSkseW1pbjpuLnltYXgtbSoodC55K2kuaGVpZ2h0LTEpLHltYXg6bi55bWF4LW0qdC55LHNwYXRpYWxSZWZlcmVuY2U6bi5zcGF0aWFsUmVmZXJlbmNlfSk7aWYoIXIpcmV0dXJue2V4dGVudDpmLHNyY0V4dGVudDpmLHBpeGVsQmxvY2s6bnVsbH07Y29uc3R7cGl4ZWxCbG9ja3M6dSxtb3NhaWNTaXplOmh9PXI7aWYoMT09PXUubGVuZ3RoJiZudWxsIT11WzBdJiZ1WzBdLndpZHRoPT09aS53aWR0aCYmdVswXS5oZWlnaHQ9PT1pLmhlaWdodClyZXR1cm57ZXh0ZW50OmYsc3JjRXh0ZW50OmYscGl4ZWxCbG9jazpyLnBpeGVsQmxvY2tzWzBdfTtjb25zdCBwPWU+MD9sLnB5cmFtaWRCbG9ja1dpZHRoOmwuYmxvY2tXaWR0aCxkPWU+MD9sLnB5cmFtaWRCbG9ja0hlaWdodDpsLmJsb2NrSGVpZ2h0LHg9e3g6dC54JXAseTp0LnklZH07bGV0IHk7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXt5PShhd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIubW9zYWljQW5kVHJhbnNmb3JtKHtzcmNQaXhlbEJsb2Nrczp1LHNyY01vc2FpY1NpemU6aCxkZXN0RGltZW5zaW9uOmksY2xpcE9mZnNldDp4LGNsaXBTaXplOmksY29lZnM6bnVsbCxzYW1wbGVTcGFjaW5nOm51bGwsaW50ZXJwb2xhdGlvbjpvLmludGVycG9sYXRpb24sYWxpZ25tZW50SW5mbzpudWxsLGJsb2NrV2lkdGhzOm51bGx9LG8pKS5waXhlbEJsb2NrfWVsc2UgeT1CKHUsaCx7Y2xpcE9mZnNldDp4LGNsaXBTaXplOml9KTtyZXR1cm57ZXh0ZW50OmYsc3JjRXh0ZW50OmYscGl4ZWxCbG9jazp5fX1mZXRjaFJhd1RpbGUoZSx0LG8scil7dGhyb3cgbmV3IGkoXCJCYXNlUmFzdGVyOnJlYWQtbm90LWltcGxlbWVudGVkXCIsXCJmZXRjaFJhd1RpbGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9Y29tcHV0ZUV4dGVudChlKXtyZXR1cm4gRSh0aGlzLnJhc3RlckluZm8uZXh0ZW50LGUpfWRlY29kZVBpeGVsQmxvY2soZSx0KXtyZXR1cm4hdGhpcy5yYXN0ZXJKb2JIYW5kbGVyfHx0LnVzZUNhbnZhcz9QKGUsdCk6dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLmRlY29kZSh7ZGF0YTplLG9wdGlvbnM6dH0pfWFzeW5jIHJlcXVlc3QoZSxpLG89MCl7Y29uc3R7Y3VzdG9tRmV0Y2hQYXJhbWV0ZXJzOnJ9PXRoaXMuaW9Db25maWcse3JhbmdlOm4scXVlcnk6cyxoZWFkZXJzOmx9PWk7bz1vPz9pLnJldHJ5Q291bnQ/P3RoaXMuaW9Db25maWcucmV0cnlDb3VudDtjb25zdCBhPW4/e1JhbmdlOmBieXRlcz0ke24uZnJvbX0tJHtuLnRvfWB9Om51bGw7dHJ5e3JldHVybiBhd2FpdCB0KGUsey4uLmkscXVlcnk6ey4uLnMsLi4ucn0saGVhZGVyczp7Li4ubCwuLi5hfX0pfWNhdGNoKGMpe2lmKG8+MClyZXR1cm4gby0tLHRoaXMucmVxdWVzdChlLGksbyk7dGhyb3cgY319Z2V0U2xpY2VJbmRleChlKXtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzp0fT10aGlzLnJhc3RlckluZm87cmV0dXJuIG51bGw9PXR8fG51bGw9PWV8fDA9PT1lLmxlbmd0aD9udWxsOmcoZSx0KX1nZXRUaWxlRXh0ZW50RnJvbVRpbGVJbmZvKGUsdCxpLG8pe2NvbnN0IHI9bihvLmxvZEF0KGUpKTtyZXR1cm4gdGhpcy5nZXRUaWxlRXh0ZW50KHt4OnIucmVzb2x1dGlvbix5OnIucmVzb2x1dGlvbn0sdCxpLG8ub3JpZ2luLG8uc3BhdGlhbFJlZmVyZW5jZSxvLnNpemUpfXVwZGF0ZVRpbGVJbmZvKCl7Y29uc3R7c3RvcmFnZUluZm86ZSxzcGF0aWFsUmVmZXJlbmNlOnQsZXh0ZW50OmkscGl4ZWxTaXplOm99PXRoaXMucmFzdGVySW5mbztpZighZS50aWxlSW5mbyl7Y29uc3Qgcj1bXSxuPWUubWF4aW11bVB5cmFtaWRMZXZlbHx8MDtsZXQgcz1NYXRoLm1heChvLngsby55KSxsPTEvLjAyNTQqOTYqcztmb3IobGV0IGU9MDtlPD1uO2UrKylyLnB1c2gobmV3IHAoe2xldmVsOm4tZSxyZXNvbHV0aW9uOnMsc2NhbGU6bH0pKSxzKj0yLGwqPTI7Y29uc3QgYT1uZXcgSih7eDppLnhtaW4seTppLnltYXgsc3BhdGlhbFJlZmVyZW5jZTp0fSk7ZS50aWxlSW5mbz1uZXcgeCh7b3JpZ2luOmEsc2l6ZTpbZS5ibG9ja1dpZHRoLGUuYmxvY2tIZWlnaHRdLHNwYXRpYWxSZWZlcmVuY2U6dCxsb2RzOnJ9KSxlLmlzVmlydHVhbFRpbGVJbmZvPSEwfX1jcmVhdGVSZW1vdGVEYXRhc2V0U3RvcmFnZUluZm8oZSx0PTUxMixpPTUxMixvKXtjb25zdHt3aWR0aDpyLGhlaWdodDpuLG5hdGl2ZUV4dGVudDpzLHBpeGVsU2l6ZTpsLHNwYXRpYWxSZWZlcmVuY2U6YX09ZSxjPW5ldyBKKHt4OnMueG1pbix5OnMueW1heCxzcGF0aWFsUmVmZXJlbmNlOmF9KTtudWxsPT1vJiYobz1NYXRoLm1heCgwLE1hdGgucm91bmQoTWF0aC5sb2coTWF0aC5tYXgocixuKSkvTWF0aC5MTjItOCkpKTtjb25zdCBtPXRoaXMuY29tcHV0ZUJsb2NrQm91bmRhcnkocyw1MTIsNTEyLHt4OnMueG1pbix5OnMueW1heH0sW2xdLG8pO2Uuc3RvcmFnZUluZm89bmV3IGQoe2Jsb2NrV2lkdGg6dCxibG9ja0hlaWdodDppLHB5cmFtaWRCbG9ja1dpZHRoOnQscHlyYW1pZEJsb2NrSGVpZ2h0Omksb3JpZ2luOmMsZmlyc3RQeXJhbWlkTGV2ZWw6MSxtYXhpbXVtUHlyYW1pZExldmVsOm8sYmxvY2tCb3VuZGFyeTptfSl9YXN5bmMgY29tcHV0ZUJlc3RQeXJhbWlkTGV2ZWxGb3JMb2NhdGlvbihlLHQ9e30pe3JldHVybiAwfWNvbXB1dGVCbG9ja0JvdW5kYXJ5KGUsdCxpLG8scixuPTAscz0yKXtpZigxPT09ci5sZW5ndGgmJm4+MCl7cj1bLi4ucl07bGV0e3g6ZSx5OnR9PXJbMF07Zm9yKGxldCBpPTA7aTxuO2krKyllKj1zLHQqPXMsci5wdXNoKHt4OmUseTp0fSl9Y29uc3QgbD1bXSx7eDphLHk6Y309bztmb3IobGV0IG09MDttPHIubGVuZ3RoO20rKyl7Y29uc3R7eDpvLHk6bn09clttXTtsLnB1c2goe21pbkNvbDpNYXRoLmZsb29yKChlLnhtaW4tYSsuMSpvKS90L28pLG1heENvbDpNYXRoLmZsb29yKChlLnhtYXgtYS0uMSpvKS90L28pLG1pblJvdzpNYXRoLmZsb29yKChjLWUueW1heCsuMSpuKS9pL24pLG1heFJvdzpNYXRoLmZsb29yKChjLWUueW1pbi0uMSpuKS9pL24pfSl9cmV0dXJuIGx9Z2V0UHlyYW1pZFBpeGVsU2l6ZShlKXtjb25zdHtuYXRpdmVQaXhlbFNpemU6dH09dGhpcy5yYXN0ZXJJbmZvLHtweXJhbWlkUmVzb2x1dGlvbnM6aSxweXJhbWlkU2NhbGluZ0ZhY3RvcjpvfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87aWYoMD09PWUpcmV0dXJuIHQ7aWYobnVsbCE9aSYmaS5sZW5ndGgpcmV0dXJuIGlbZS0xXTtjb25zdCByPW8qKmU7cmV0dXJue3g6dC54KnIseTp0Lnkqcn19aWRlbnRpZnlQaXhlbExvY2F0aW9uKGUsdCxpLG8pe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6cixuYXRpdmVFeHRlbnQ6bixzdG9yYWdlSW5mbzpzfT10aGlzLnJhc3RlckluZm8se21heGltdW1QeXJhbWlkTGV2ZWw6bCxvcmlnaW46YSx0cmFuc3Bvc2VJbmZvOmN9PXMsbT1vJiZudWxsIT1jP2MudGlsZVNpemVbMF06cy5ibG9ja1dpZHRoLGY9byYmbnVsbCE9Yz9jLnRpbGVTaXplWzFdOnMuYmxvY2tIZWlnaHQsdT1qKGUscixpKTtpZighbi5pbnRlcnNlY3RzKHUpKXJldHVybiBudWxsO2lmKHQ8MHx8dD5sKXJldHVybiBudWxsO2NvbnN0IGg9dGhpcy5nZXRQeXJhbWlkUGl4ZWxTaXplKHQpLHt4OnAseTpkfT1oLHg9KGEueS11LnkpL2QvZix5PSh1LngtYS54KS9wL20sZz1NYXRoLm1pbihmLTEsTWF0aC5mbG9vcigoeC1NYXRoLmZsb29yKHgpKSpmKSksST1NYXRoLm1pbihtLTEsTWF0aC5mbG9vcigoeS1NYXRoLmZsb29yKHkpKSptKSk7cmV0dXJue3B5cmFtaWRMZXZlbDp0LHJvdzpNYXRoLmZsb29yKHgpLGNvbDpNYXRoLmZsb29yKHkpLHJvd09mZnNldDpnLGNvbE9mZnNldDpJLGJsb2NrV2lkdGg6bSxzcmNMb2NhdGlvbjp1fX1nZXRUaWxlRXh0ZW50KGUsdCxpLG8scixuKXtjb25zdFtzLGxdPW4sYT1vLngraSpzKmUueCxjPWErcyplLngsbT1vLnktdCpsKmUueSxmPW0tbCplLnk7cmV0dXJuIG5ldyBxKHt4bWluOmEseG1heDpjLHltaW46Zix5bWF4Om0sc3BhdGlhbFJlZmVyZW5jZTpyfSl9Z2V0QmxvY2tXaWR0aEhlaWdodChlKXtyZXR1cm57YmxvY2tXaWR0aDplPjA/dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnB5cmFtaWRCbG9ja1dpZHRoOnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja1dpZHRoLGJsb2NrSGVpZ2h0OmU+MD90aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ucHlyYW1pZEJsb2NrSGVpZ2h0OnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0hlaWdodH19aXNCbG9ja091dHNpZGUoZSx0LGkpe2NvbnN0IG89dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnlbZV07cmV0dXJuIW98fG8ubWF4Um93PHR8fG8ubWF4Q29sPGl8fG8ubWluUm93PnR8fG8ubWluQ29sPml9YXN5bmMgX2ZldGNoUGl4ZWxzKGUsdCxpLG89e30pe2xldCByPUwoZSk7aWYocj49MilyZXR1cm57ZXh0ZW50OmUscGl4ZWxCbG9jazpudWxsfTtjb25zdCBuPXRoaXMuX2dldFNvdXJjZURhdGFJbmZvKGUsdCxpLG8pLHtweXJhbWlkTGV2ZWw6cyxzcmNSZXNvbHV0aW9uOmwsc3JjRXh0ZW50OmEsc3JjV2lkdGg6YyxzcmNIZWlnaHQ6bSx1bDpmfT1uO2lmKDA9PT1jfHwwPT09bSlyZXR1cm57ZXh0ZW50OmUsc3JjRXh0ZW50OmEscGl4ZWxCbG9jazpudWxsfTtjb25zdHtyYXN0ZXJJbmZvOnV9PXRoaXMsaD11LnRyYW5zZm9ybSxwPVwiZ2NzLXNoaWZ0XCI9PT1oPy50eXBlLGQ9bnVsbCE9QyhlLnNwYXRpYWxSZWZlcmVuY2UpOyFwJiZkfHwocj1MKG4uc3JjRXh0ZW50LHApKTtjb25zdCB4PWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlsZXMocyxmLHt3aWR0aDpjLGhlaWdodDptLHdyYXBDb3VudDpyfSxvKTtpZigheClyZXR1cm57ZXh0ZW50OmUsc3JjRXh0ZW50OmEscGl4ZWxCbG9jazpudWxsfTtjb25zdCB5PXUuc3RvcmFnZUluZm8sZz1zPjA/eS5weXJhbWlkQmxvY2tXaWR0aDp5LmJsb2NrV2lkdGgsST1zPjA/eS5weXJhbWlkQmxvY2tIZWlnaHQ6eS5ibG9ja0hlaWdodDtsZXR7eDpSLHk6d309dS5waXhlbFNpemU7aWYocz4wKXtjb25zdHtweXJhbWlkUmVzb2x1dGlvbnM6ZSxweXJhbWlkU2NhbGluZ0ZhY3Rvcjp0fT15O2lmKG51bGwhPWUmJmVbcy0xXSkoe3g6Uix5Ond9PWVbcy0xXSk7ZWxzZXtjb25zdCBlPXQqKnM7Uio9ZSx3Kj1lfX1jb25zdCBTPXUuc3BhdGlhbFJlZmVyZW5jZSxrPW5ldyBKKHt4OlIseTp3LHNwYXRpYWxSZWZlcmVuY2U6U30pLFQ9Zz09PWMmJkk9PT1tJiZmLnglZz09MCYmZi55JUk9PTAsYj1uZXcgSih7eDooZS54bWF4LWUueG1pbikvdCx5OihlLnltYXgtZS55bWluKS9pLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSksdj0hZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhTKSxQPVMuaXNHZW9ncmFwaGljPzFlLTk6MWUtNCx7ZGF0dW1UcmFuc2Zvcm1hdGlvbjpqfT1vO2lmKCF2JiZUJiYxPT09eC5waXhlbEJsb2Nrcy5sZW5ndGgmJmc9PT10JiZJPT09aSYmdGhpcy5faXNTYW1lUmVzb2x1dGlvbihsLGIsUCkpcmV0dXJue2V4dGVudDplLHNyY0V4dGVudDphLHNyY1RpbGVQaXhlbFNpemU6ayxwaXhlbEJsb2NrOngucGl4ZWxCbG9ja3NbMF19O2NvbnN0IEg9ZCYmbnVsbCE9QyhhLnNwYXRpYWxSZWZlcmVuY2UpJiZ0aGlzLl9oYXNOb25lT3JHQ1NTaGlmdFRyYW5zZm9ybSx6PW8ucmVxdWVzdFByb2plY3RlZExvY2FsRGlyZWN0aW9ucyYmdGhpcy5yYXN0ZXJJbmZvLmRhdGFUeXBlLnN0YXJ0c1dpdGgoXCJ2ZWN0b3JcIik7eiYmIXRoaXMucmFzdGVySm9iSGFuZGxlciYmYXdhaXQgVygpO2NvbnN0IEU9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP2F3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5nZXRQcm9qZWN0aW9uT2Zmc2V0R3JpZCh7cHJvamVjdGVkRXh0ZW50OmUsc3JjQnVmZmVyRXh0ZW50OnguZXh0ZW50LHBpeGVsU2l6ZTpiLnRvSlNPTigpLGRhdHVtVHJhbnNmb3JtYXRpb246aixyYXN0ZXJUcmFuc2Zvcm06aCxoYXNXcmFwQXJvdW5kOnI+MHx8SCxpc0FkYXB0aXZlOiExIT09dGhpcy5pb0NvbmZpZy5vcHRpbWl6ZVByb2plY3Rpb25BY2N1cmFjeSxpbmNsdWRlR0NTR3JpZDp6fSxvKTpEKHtwcm9qZWN0ZWRFeHRlbnQ6ZSxzcmNCdWZmZXJFeHRlbnQ6eC5leHRlbnQscGl4ZWxTaXplOmIsZGF0dW1UcmFuc2Zvcm1hdGlvbjpqLHJhc3RlclRyYW5zZm9ybTpoLGhhc1dyYXBBcm91bmQ6cj4wfHxILGlzQWRhcHRpdmU6ITEsaW5jbHVkZUdDU0dyaWQ6en0pO2xldCBGO2NvbnN0IE89IW8ucmVxdWVzdFJhd0RhdGEsRz17cm93czpFLnNwYWNpbmdbMF0sY29sczpFLnNwYWNpbmdbMV19LHE9dGhpcy5faGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm0/dGhpcy5fZ2V0UmFzdGVyVGlsZUFsaWdubWVudEluZm8ocyx4LmV4dGVudC54bWluKTp2b2lkIDAse3BpeGVsQmxvY2tzOk4sbW9zYWljU2l6ZTpWLGlzUGFydGlhbGx5RmlsbGVkOlV9PXg7bGV0ICQ9bnVsbDtpZih0aGlzLnJhc3RlckpvYkhhbmRsZXIpe2NvbnN0IGU9YXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6TixzcmNNb3NhaWNTaXplOlYsZGVzdERpbWVuc2lvbjpPP3t3aWR0aDp0LGhlaWdodDppfTpudWxsLGNvZWZzOk8/RS5jb2VmZmljaWVudHM6bnVsbCxzYW1wbGVTcGFjaW5nOk8/RzpudWxsLHByb2plY3REaXJlY3Rpb25zOnosZ2NzR3JpZDp6P0UuZ2NzR3JpZDpudWxsLGlzVVY6XCJ2ZWN0b3ItdXZcIj09PXRoaXMucmFzdGVySW5mby5kYXRhVHlwZSxpbnRlcnBvbGF0aW9uOm8uaW50ZXJwb2xhdGlvbixhbGlnbm1lbnRJbmZvOnEsYmxvY2tXaWR0aHM6bnVsbH0sbyk7KHtwaXhlbEJsb2NrOkYsbG9jYWxOb3J0aERpcmVjdGlvbnM6JH09ZSl9ZWxzZXtjb25zdCBlPUIoTixWLHthbGlnbm1lbnRJbmZvOnF9KTtGPU8/TShlLHt3aWR0aDp0LGhlaWdodDppfSxFLmNvZWZmaWNpZW50cyxHLG8uaW50ZXJwb2xhdGlvbik6ZSx6JiZFLmdjc0dyaWQmJigkPV8oe3dpZHRoOnQsaGVpZ2h0Oml9LEUuZ2NzR3JpZCksRj1BKEYsdGhpcy5yYXN0ZXJJbmZvLmRhdGFUeXBlLCQpKX1yZXR1cm4gby5yZXF1ZXN0UmF3RGF0YXx8ej97ZXh0ZW50OmUsc3JjRXh0ZW50OmEsc3JjVGlsZVBpeGVsU2l6ZTprLHBpeGVsQmxvY2s6Rix0cmFuc2Zvcm1HcmlkOkUsbG9jYWxOb3J0aERpcmVjdGlvbnM6JCxpc1BhcnRpYWxseUZpbGxlZDpVfTp7ZXh0ZW50OmUsc3JjRXh0ZW50OmEsc3JjVGlsZVBpeGVsU2l6ZTprLHBpeGVsQmxvY2s6Rn19YXN5bmMgX2ZldGNoUmF3VGlsZXMoZSx0LGksbyl7Y29uc3R7b3JpZ2luOnIsYmxvY2tCb3VuZGFyeTpufT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se2Jsb2NrV2lkdGg6cyxibG9ja0hlaWdodDpsfT10aGlzLmdldEJsb2NrV2lkdGhIZWlnaHQoZSk7bGV0e3g6YSx5OmN9PXQse3dpZHRoOm0saGVpZ2h0OmYsd3JhcENvdW50OnV9PWk7Y29uc3QgaD10aGlzLl9nZXRSYXN0ZXJUaWxlQWxpZ25tZW50SW5mbyhlLDApO28uYnVmZmVyJiYoYS09by5idWZmZXIuY29scyxjLT1vLmJ1ZmZlci5yb3dzLG0rPTIqby5idWZmZXIuY29scyxmKz0yKm8uYnVmZmVyLnJvd3MpO2xldCBwPTAsZD0wLHg9MDtpZih1JiZudWxsIT1oKXsoe3dvcmxkQ29sdW1uQ291bnRGcm9tT3JpZ2luOmQsb3JpZ2luQ29sdW1uT2Zmc2V0OngscmlnaHRQYWRkaW5nOnB9PWgpO2QqaC5ibG9ja1dpZHRoLXA+PWErbSYmKHA9MCl9Y29uc3QgeT1NYXRoLmZsb29yKGEvcyksZz1NYXRoLmZsb29yKGMvbCksST1NYXRoLmZsb29yKChhK20rcC0xKS9zKSxSPU1hdGguZmxvb3IoKGMrZitwLTEpL2wpLHc9bltlXTtpZighdylyZXR1cm4gbnVsbDtjb25zdHttaW5Sb3c6UyxtaW5Db2w6ayxtYXhDb2w6VCxtYXhSb3c6Yn09dztpZigwPT09dSYmKFI8U3x8STxrfHxnPmJ8fHk+VCkpcmV0dXJuIG51bGw7Y29uc3Qgdj1uZXcgQXJyYXk7bGV0IFA9ITE7Y29uc3QgQj1udWxsPT10aGlzLmlvQ29uZmlnLmFsbG93UGFydGlhbEZpbGw/by5hbGxvd1BhcnRpYWxGaWxsOnRoaXMuaW9Db25maWcuYWxsb3dQYXJ0aWFsRmlsbDtmb3IobGV0IHo9Zzt6PD1SO3orKylmb3IobGV0IHQ9eTt0PD1JO3QrKyl7bGV0IGk9dDtpZighby5kaXNhYmxlV3JhcEFyb3VuZCYmdSYmbnVsbCE9aCYmZDw9dCYmKGk9dC1kLXgpLHo+PVMmJmk+PWsmJmI+PXomJlQ+PWkpe2NvbnN0IHQ9dGhpcy5fZmV0Y2hSYXdUaWxlKGUseixpLG8pO0I/di5wdXNoKG5ldyBQcm9taXNlKChlPT57dC50aGVuKCh0PT5lKHQpKSkuY2F0Y2goKCgpPT57UD0hMCxlKG51bGwpfSkpfSkpKTp2LnB1c2godCl9ZWxzZSB2LnB1c2goUHJvbWlzZS5yZXNvbHZlKG51bGwpKX1pZigwPT09di5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgTT1hd2FpdCBQcm9taXNlLmFsbCh2KSxfPXtoZWlnaHQ6KFItZysxKSpsLHdpZHRoOihJLXkrMSkqc30se3NwYXRpYWxSZWZlcmVuY2U6V309dGhpcy5yYXN0ZXJJbmZvLEM9dGhpcy5nZXRQeXJhbWlkUGl4ZWxTaXplKGUpLHt4OmoseTpIfT1DO3JldHVybntleHRlbnQ6bmV3IHEoe3htaW46ci54K3kqcypqLHhtYXg6ci54KyhJKzEpKnMqaix5bWluOnIueS0oUisxKSpsKkgseW1heDpyLnktZypsKkgsc3BhdGlhbFJlZmVyZW5jZTpXfSkscGl4ZWxCbG9ja3M6TSxtb3NhaWNTaXplOl8saXNQYXJ0aWFsbHlGaWxsZWQ6UH19X2lzU2FtZVJlc29sdXRpb24oZSx0LGkpe3JldHVybiBNYXRoLmFicyhlLngtdC54KTxpJiZNYXRoLmFicyhlLnktdC55KTxpfV9mZXRjaFJhd1RpbGUoZSx0LGksbyl7Y29uc3Qgcj10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tCb3VuZGFyeVtlXTtpZighcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO2NvbnN0e21pblJvdzpuLG1pbkNvbDpzLG1heENvbDphLG1heFJvdzpjfT1yO2lmKHQ8bnx8aTxzfHx0PmN8fGk+YSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO2NvbnN0IG09dyh0aGlzLnVybCxvLnNsaWNlSWQpLGY9YCR7ZX0vJHt0fS8ke2l9YDtsZXQgdT1TKG0sby5yZWdpc3RyeUlkLGYpO2lmKG51bGw9PXUpe2NvbnN0IHI9bmV3IEFib3J0Q29udHJvbGxlcjt1PXRoaXMuZmV0Y2hSYXdUaWxlKGUsdCxpLHsuLi5vLHNpZ25hbDpyLnNpZ25hbH0pLGsobSxvLnJlZ2lzdHJ5SWQsZix1LHIpLHUuY2F0Y2goKCgpPT5UKG0sby5yZWdpc3RyeUlkLGYpKSl9cmV0dXJuIG8uc2lnbmFsJiZsKG8sKCgpPT57YihtLG8ucmVnaXN0cnlJZCxmKX0pKSx1fV9jb21wdXRlTWFnRGlyVmFsdWVzKGUpe2NvbnN0e2JhbmRDb3VudDp0LGRhdGFUeXBlOml9PXRoaXMucmFzdGVySW5mbztpZighKDI9PT10JiZcInZlY3Rvci1tYWdkaXJcIj09PWl8fFwidmVjdG9yLXV2XCI9PT1pKXx8MiE9PWU/Lmxlbmd0aHx8IWVbMF0/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBvPWVbMF0ubGVuZ3RoO2lmKFwidmVjdG9yLW1hZ2RpclwiPT09aSl7Y29uc3QgdD1lWzFdLm1hcCgoZT0+KGUrMzYwKSUzNjApKTtyZXR1cm5bZVswXSx0XX1jb25zdFtyLG5dPWUscz1bXSxsPVtdO2ZvcihsZXQgYT0wO2E8bzthKyspe2NvbnN0W2UsdF09RyhbclthXSxuW2FdXSk7cy5wdXNoKGUpLGwucHVzaCh0KX1yZXR1cm5bcyxsXX1fZ2V0UmFzdGVyVGlsZUFsaWdubWVudEluZm8oZSx0KXtyZXR1cm4gbnVsbD09dGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm8mJih0aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mbz1GKHRoaXMucmFzdGVySW5mbykpLG51bGw9PXRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvLnB5cmFtaWRzSW5mbz9udWxsOntzdGFydFg6dCxoYWxmV29ybGRXaWR0aDp0aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mby5oYWxmV29ybGRXaWR0aCxoYXNHQ1NTU2hpZnRUcmFuc2Zvcm06dGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm8uaGFzR0NTU1NoaWZ0VHJhbnNmb3JtLC4uLnRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvLnB5cmFtaWRzSW5mb1tlXX19X2dldFNvdXJjZURhdGFJbmZvKGUsdCxpLG89e30pe2NvbnN0IHI9e2RhdHVtVHJhbnNmb3JtYXRpb246by5kYXR1bVRyYW5zZm9ybWF0aW9uLHB5cmFtaWRMZXZlbDowLHB5cmFtaWRSZXNvbHV0aW9uOm51bGwsc3JjRXh0ZW50Om51bGwsc3JjSGVpZ2h0OjAsc3JjUmVzb2x1dGlvbjpudWxsLHNyY1dpZHRoOjAsdWw6e3g6MCx5OjB9fTtvLnNyY1Jlc29sdXRpb24mJihyLnNyY1Jlc29sdXRpb249by5zcmNSZXNvbHV0aW9uLHRoaXMuX3VwZGF0ZVNvdXJjZURhdGFJbmZvKGUscikpO2NvbnN0IG49dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWx8fDAse3NyY1dpZHRoOnMsc3JjSGVpZ2h0OmwscHlyYW1pZExldmVsOmF9PXIsYz1zL3QsbT1sL2ksZj1hPG4mJmMqbT49MTYsdT1hPT09biYmdGhpcy5fcmVxdWlyZVRvb01hbnlTcmNUaWxlcyhzLGwsdCxpKTtpZihmfHx1fHwoMD09PXN8fDA9PT1sKSl7Y29uc3Qgcz1uZXcgSih7eDooZS54bWF4LWUueG1pbikvdCx5OihlLnltYXgtZS55bWluKS9pLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSk7bGV0IGw9TyhzLHRoaXMucmFzdGVySW5mby5zcGF0aWFsUmVmZXJlbmNlLGUsci5kYXR1bVRyYW5zZm9ybWF0aW9uKTtjb25zdCB1PSFsfHxvLnNyY1Jlc29sdXRpb24mJmwueCtsLnk8by5zcmNSZXNvbHV0aW9uLngrby5zcmNSZXNvbHV0aW9uLnk7aWYoZiYmby5zcmNSZXNvbHV0aW9uJiZ1KXtjb25zdCBlPU1hdGgucm91bmQoTWF0aC5sb2coTWF0aC5tYXgoYyxtKSkvTWF0aC5MTjIpLTE7aWYobi1hKzM+PWUpe2NvbnN0IHQ9MioqZTtsPXt4Om8uc3JjUmVzb2x1dGlvbi54KnQseTpvLnNyY1Jlc29sdXRpb24ueSp0fX19bCYmKHIuc3JjUmVzb2x1dGlvbj1sLHRoaXMuX3VwZGF0ZVNvdXJjZURhdGFJbmZvKGUscikpfXJldHVybiB0aGlzLl9yZXF1aXJlVG9vTWFueVNyY1RpbGVzKHIuc3JjV2lkdGgsci5zcmNIZWlnaHQsdCxpKSYmKHIuc3JjV2lkdGg9MCxyLnNyY0hlaWdodD0wKSxyfV9yZXF1aXJlVG9vTWFueVNyY1RpbGVzKGUsdCxpLG8pe2NvbnN0e3RpbGVJbmZvOnJ9PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbztyZXR1cm4gTWF0aC5jZWlsKGUvci5zaXplWzBdKSpNYXRoLmNlaWwodC9yLnNpemVbMV0pPj1WfHxlL2k+Tnx8dC9vPk59X3VwZGF0ZVNvdXJjZURhdGFJbmZvKGUsdCl7dC5zcmNXaWR0aD0wLHQuc3JjSGVpZ2h0PTA7Y29uc3R7cmFzdGVySW5mbzppfT10aGlzLG89aS5zcGF0aWFsUmVmZXJlbmNlLHtzcmNSZXNvbHV0aW9uOnIsZGF0dW1UcmFuc2Zvcm1hdGlvbjpufT10LHtweXJhbWlkTGV2ZWw6cyxweXJhbWlkUmVzb2x1dGlvbjpsLGV4Y2Vzc2l2ZVJlYWRpbmc6YX09SChyLGksdGhpcy5pb0NvbmZpZy5zYW1wbGluZyk7aWYoYSlyZXR1cm47bGV0IGM9dC5zcmNFeHRlbnR8fEUoZSxvLG4pO2lmKG51bGw9PWMpcmV0dXJuO2NvbnN0IG09aS50cmFuc2Zvcm07bSYmKGM9bS5pbnZlcnNlVHJhbnNmb3JtKGMpKSx0LnNyY0V4dGVudD1jO2NvbnN0e3g6Zix5OnV9PWkuc3RvcmFnZUluZm8ub3JpZ2luLGg9TWF0aC5mbG9vcigoYy54bWluLWYpL2wueCsuMSkscD1NYXRoLmZsb29yKCh1LWMueW1heCkvbC55Ky4xKSxkPU1hdGguZmxvb3IoKGMueG1heC1mKS9sLngtLjEpLHg9TWF0aC5mbG9vcigodS1jLnltaW4pL2wueS0uMSkseT1jLndpZHRoPC4xKmwueD8wOmQtaCsxLGc9Yy5oZWlnaHQ8LjEqbC55PzA6eC1wKzE7dC5weXJhbWlkTGV2ZWw9cyx0LnB5cmFtaWRSZXNvbHV0aW9uPWwsdC5zcmNXaWR0aD15LHQuc3JjSGVpZ2h0PWcsdC51bD17eDpoLHk6cH19X2dldFJlcXVlc3RPcHRpb25zV2l0aFNsaWNlSWQoZSl7cmV0dXJuIG51bGwhPXRoaXMucmFzdGVySW5mby5tdWx0aWRpbWVuc2lvbmFsSW5mbyYmbnVsbD09ZS5zbGljZUlkJiYoZT17Li4uZSxzbGljZUlkOnRoaXMuZ2V0U2xpY2VJbmRleChlLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKX0pLGV9X3Byb2Nlc3NJZGVudGlmeVJlc3VsdChlLHQpe2NvbnN0e3NyY0xvY2F0aW9uOmkscG9zaXRpb246byxweXJhbWlkTGV2ZWw6cix1c2VUcmFuc3Bvc2VkVGlsZTpufT10LHM9ZS5waXhlbHNbMF0ubGVuZ3RoL2Uud2lkdGgvZS5oZWlnaHQ7aWYoISghZS5tYXNrfHxlLm1hc2tbb10pKXJldHVybntsb2NhdGlvbjppLHZhbHVlOm51bGx9O2NvbnN0e211bHRpZGltZW5zaW9uYWxJbmZvOmx9PXRoaXMucmFzdGVySW5mbztpZihudWxsPT1sfHwhbil7Y29uc3QgdD1lLnBpeGVscy5tYXAoKGU9PmVbb10pKSxuPXtsb2NhdGlvbjppLHZhbHVlOnQscHlyYW1pZExldmVsOnJ9LHM9dGhpcy5fY29tcHV0ZU1hZ0RpclZhbHVlcyh0Lm1hcCgoZT0+W2VdKSkpO3JldHVybiBzPy5sZW5ndGgmJihuLm1hZ2RpclZhbHVlPXMubWFwKChlPT5lWzBdKSkpLG59bGV0IGE9ZS5waXhlbHMubWFwKChlPT5lLnNsaWNlKG8qcyxvKnMrcykpKSxjPXRoaXMuX2NvbXB1dGVNYWdEaXJWYWx1ZXMoYSk7Y29uc3R7cmVxdWVzdFNvbWVTbGljZXM6bSxpZGVudGlmeU9wdGlvbnM6Zn09dDtsZXQgdT1JKGwsZi50cmFuc3Bvc2VkVmFyaWFibGVOYW1lKTtpZihtKXtjb25zdCBlPVIodSxmLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLGYudGltZUV4dGVudCk7YT1hLm1hcCgodD0+ZS5tYXAoKGU9PnRbZV0pKSkpLGM9Yz8ubWFwKCh0PT5lLm1hcCgoZT0+dFtlXSkpKSksdT1lLm1hcCgoZT0+dVtlXSkpfWNvbnN0IHA9ZS5ub0RhdGFWYWx1ZXN8fHRoaXMucmFzdGVySW5mby5ub0RhdGFWYWx1ZSxkPXtwaXhlbHM6YSxwaXhlbFR5cGU6ZS5waXhlbFR5cGV9O2xldCB4O251bGwhPXAmJih2KGQscCkseD1kLm1hc2spO3JldHVybntsb2NhdGlvbjppLHZhbHVlOm51bGwsZGF0YVNlcmllczp1Lm1hcCgoKGUsdCk9Pntjb25zdCBpPXt2YWx1ZTowPT09eD8uW3RdP251bGw6YS5tYXAoKGU9PmVbdF0pKSxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjplLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLm1hcCgoZT0+bmV3IGgoey4uLmUsaXNTbGljZTohMH0pKSl9O3JldHVybiBjPy5sZW5ndGgmJihpLm1hZ2RpclZhbHVlPVtjWzBdW3RdLGNbMV1bdF1dKSxpfSkpLHB5cmFtaWRMZXZlbDpyfX19O2UoW2EoKV0sVS5wcm90b3R5cGUsXCJfcmFzdGVyVGlsZUFsaWdobWVudEluZm9cIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwfSldLFUucHJvdG90eXBlLFwiX2lzR2xvYmFsV3JhcHBhYmxlU291cmNlXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sVS5wcm90b3R5cGUsXCJfaGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm1cIixudWxsKSxlKFthKCldLFUucHJvdG90eXBlLFwicmFzdGVySm9iSGFuZGxlclwiLG51bGwpLGUoW2EodSldLFUucHJvdG90eXBlLFwidXJsXCIsbnVsbCksZShbYSh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLFUucHJvdG90eXBlLFwiZGF0YXNldE5hbWVcIix2b2lkIDApLGUoW2Eoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxVLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLGUoW2EoKV0sVS5wcm90b3R5cGUsXCJoYXNVbmlxdWVTb3VyY2VTdG9yYWdlSW5mb1wiLHZvaWQgMCksZShbYSgpXSxVLnByb3RvdHlwZSxcInJhc3RlckluZm9cIix2b2lkIDApLGUoW2EoKV0sVS5wcm90b3R5cGUsXCJpb0NvbmZpZ1wiLHZvaWQgMCksZShbYSgpXSxVLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLFU9ZShbbShcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuQmFzZVJhc3RlclwiKV0sVSk7Y29uc3QgJD1VO2V4cG9ydHskIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9MT0QuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9UaWxlSW5mby5qc1wiO2ltcG9ydCBsIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydCBmIGZyb21cIi4vREJGUGFyc2VyLmpzXCI7aW1wb3J0e2lzVHJhbnNmb3JtU3VwcG9ydGVkIGFzIG0scmVhZFRyYW5zZm9ybSBhcyBjfWZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvdXRpbHMuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IGc9bmV3IE1hcDtnLnNldChcImludDE2XCIsXCJlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyXCIpLGcuc2V0KFwiaW50MzJcIixcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCIpLGcuc2V0KFwiaW50NjRcIixcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCIpLGcuc2V0KFwiZmxvYXQzMlwiLFwiZXNyaUZpZWxkVHlwZVNpbmdsZVwiKSxnLnNldChcImZsb2F0NjRcIixcImVzcmlGaWVsZFR5cGVEb3VibGVcIiksZy5zZXQoXCJ0ZXh0XCIsXCJlc3JpRmllbGRUeXBlU3RyaW5nXCIpO2NvbnN0IHk9ODtsZXQgeD1jbGFzcyBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc3RvcmFnZUluZm89bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJDUkZcIn1hc3luYyBvcGVuKGUpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0e2RhdGE6cn09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbmYuanNvblwiLHtzaWduYWw6ZT8uc2lnbmFsfSk7aWYoIXRoaXMuX3ZhbGlkYXRlSGVhZGVyKHIpKXRocm93IG5ldyB0KFwiY2xvdWRyYXN0ZXI6b3BlblwiLFwiSW52YWxpZCBvciB1bnN1cHBvcnRlZCBjb25mLmpzb24uXCIpO3RoaXMuZGF0YXNldE5hbWU9dGhpcy51cmwuc2xpY2UodGhpcy51cmwubGFzdEluZGV4T2YoXCIvXCIpKzEpO2NvbnN0e3N0b3JhZ2VJbmZvOmkscmFzdGVySW5mbzpvfT10aGlzLl9wYXJzZUhlYWRlcihyKTtpZihcInRoZW1hdGljXCI9PT1vLmRhdGFUeXBlKXtjb25zdCBlPWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5SW5mb3JtYXRpb24oKTtvLmF0dHJpYnV0ZVRhYmxlPWV9dGhpcy5fc2V0KFwic3RvcmFnZUluZm9cIixpKSx0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIsbyksdGhpcy5pb0NvbmZpZy5yZXRyeUNvdW50PXRoaXMuaW9Db25maWcucmV0cnlDb3VudHx8MH1hc3luYyBmZXRjaFJhd1RpbGUoZSx0LHIsaT17fSl7Y29uc3R7dHJhbnNwb3NlSW5mbzpvfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se3RyYW5zcG9zZWRWYXJpYWJsZU5hbWU6c309aSxhPSEoIW98fCFzKSxuPWE/MDp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ubWF4aW11bVB5cmFtaWRMZXZlbC1lO2lmKG48MClyZXR1cm4gbnVsbDtjb25zdCBsPXRoaXMuX2J1aWxkQ2FjaGVGaWxlUGF0aChuLHQscixpLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uLHMpLGY9dGhpcy5fZ2V0SW5kZXhSZWNvcmRGcm9tQnVuZGxlKHQscixhKSxtPWF3YWl0IHRoaXMucmVxdWVzdChsLHtyYW5nZTp7ZnJvbTowLHRvOnRoaXMuc3RvcmFnZUluZm8uaGVhZGVyU2l6ZS0xfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6aS5zaWduYWx9KTtpZighbSlyZXR1cm4gbnVsbDtjb25zdCBjPW5ldyBVaW50OEFycmF5KG0uZGF0YSkscD10aGlzLl9nZXRUaWxlRW5kQW5kQ29udGVudFR5cGUoYyxmKTtpZigwPT09cC5yZWNvcmRTaXplKXJldHVybiBudWxsO2NvbnN0IGQ9YXdhaXQgdGhpcy5yZXF1ZXN0KGwse3JhbmdlOntmcm9tOnAucG9zaXRpb24sdG86cC5wb3NpdGlvbitwLnJlY29yZFNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDppLnNpZ25hbH0pO2lmKCFkKXJldHVybiBudWxsO2NvbnN0W3UsaF09dGhpcy5fZ2V0VGlsZVNpemUoYSk7cmV0dXJuIHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhkLmRhdGEse3dpZHRoOnUsaGVpZ2h0OmgscGxhbmVzOm51bGwscGl4ZWxUeXBlOm51bGwscmV0dXJuSW50ZXJsZWF2ZWQ6YX0pfV92YWxpZGF0ZUhlYWRlcihlKXtjb25zdCB0PVtcIm9yaWdpblwiLFwiZXh0ZW50XCIsXCJnZW9kYXRhWGZvcm1cIixcIkxPREluZm9zXCIsXCJibG9ja1dpZHRoXCIsXCJibG9ja0hlaWdodFwiLFwiYmFuZENvdW50XCIsXCJwaXhlbFR5cGVcIixcInBpeGVsU2l6ZVhcIixcInBpeGVsU2l6ZVlcIixcImZvcm1hdFwiLFwicGFja2V0U2l6ZVwiXTtyZXR1cm4gZSYmXCJSYXN0ZXJJbmZvXCI9PT1lLnR5cGUmJiF0LnNvbWUoKHQ9PiFlW3RdKSl9X3BhcnNlSGVhZGVyKGUpe2NvbnN0IHQ9W1widTFcIixcInUyXCIsXCJ1NFwiLFwidThcIixcInM4XCIsXCJ1MTZcIixcInMxNlwiLFwidTMyXCIsXCJzMzJcIixcImYzMlwiLFwiZjY0XCJdW2UucGl4ZWxUeXBlXSx7YmFuZENvdW50OnIsaGlzdG9ncmFtczppLGNvbG9ybWFwOmwsYmxvY2tXaWR0aDpmLGJsb2NrSGVpZ2h0Om0sZmlyc3RQeXJhbWlkTGV2ZWw6YyxtYXhpbXVtUHlyYW1pZExldmVsOnB9PWUsZz1lLnN0YXRpc3RpY3MmJmUuc3RhdGlzdGljcy5tYXAoKGU9Pih7bWluOmUubWluLG1heDplLm1heCxhdmc6ZS5tZWFuLHN0ZGRldjplLnN0YW5kYXJkRGV2aWF0aW9uLG1lZGlhbjplLm1lZGlhbixtb2RlOmUubW9kZX0pKSkseD1lLmV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLFM9ZS5nZW9kYXRhWGZvcm0/LnNwYXRpYWxSZWZlcmVuY2UsST1uZXcgZCh4Py53a2lkfHx4Py53a3Q/eDpTKTtsZXQgdz1uZXcgdSh7eG1pbjplLmV4dGVudC54bWluLHltaW46ZS5leHRlbnQueW1pbix4bWF4OmUuZXh0ZW50LnhtYXgseW1heDplLmV4dGVudC55bWF4LHNwYXRpYWxSZWZlcmVuY2U6SX0pO2NvbnN0IF89bmV3IGgoe3g6ZS5waXhlbFNpemVYLHk6ZS5waXhlbFNpemVZLHNwYXRpYWxSZWZlcmVuY2U6SX0pLHY9TWF0aC5yb3VuZCgody54bWF4LXcueG1pbikvXy54KSxiPU1hdGgucm91bmQoKHcueW1heC13LnltaW4pL18ueSksej10aGlzLl9wYXJzZVRyYW5zZm9ybShlLmdlb2RhdGFYZm9ybSksVD16P3c6bnVsbDt6JiYodz16LmZvcndhcmRUcmFuc2Zvcm0odyksXy54PSh3LnhtYXgtdy54bWluKS92LF8ueT0ody55bWF4LXcueW1pbikvYik7Y29uc3Qgaz1lLnByb3BlcnRpZXM/P3t9LGo9ZS5mb3JtYXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwiY2FjaGUvXCIsXCJcIiksQz1uZXcgaChlLm9yaWdpbi54LGUub3JpZ2luLnksSSk7bGV0IFIsRixQLEg7aWYobCYmbC5jb2xvcnMpZm9yKFI9W10sRj0wO0Y8bC5jb2xvcnMubGVuZ3RoO0YrKylQPWwuY29sb3JzW0ZdLEg9bC52YWx1ZXM/bC52YWx1ZXNbRl06RixSLnB1c2goW0gsMjU1JlAsUDw8MTY+Pj4yNCxQPDw4Pj4+MjQsUD4+PjI0XSk7Y29uc3QgRD1lLkxPREluZm9zLEw9W107Zm9yKEY9MDtGPEQubGV2ZWxzLmxlbmd0aDtGKyspTC5wdXNoKG5ldyBvKHtsZXZlbDpELmxldmVsc1tGXSxyZXNvbHV0aW9uOkQucmVzb2x1dGlvbnNbRl0sc2NhbGU6OTYvLjAyNTQqRC5yZXNvbHV0aW9uc1tGXX0pKTtjb25zdCBNPW5ldyBuKHtkcGk6OTYsbG9kczpMLGZvcm1hdDpqLG9yaWdpbjpDLHNpemU6W2YsbV0sc3BhdGlhbFJlZmVyZW5jZTpJfSksTz17cmVjb3JkU2l6ZTp5LHBhY2tldFNpemU6ZS5wYWNrZXRTaXplLGhlYWRlclNpemU6ZS5wYWNrZXRTaXplKmUucGFja2V0U2l6ZSp5KzY0fSxCPVt7bWF4Q29sOk1hdGguY2VpbCh2L2YpLTEsbWF4Um93Ok1hdGguY2VpbChiL20pLTEsbWluQ29sOjAsbWluUm93OjB9XTtsZXQgJD0yO2lmKHA+MClmb3IoRj0wO0Y8cDtGKyspQi5wdXNoKHttYXhDb2w6TWF0aC5jZWlsKHYvJC9mKS0xLG1heFJvdzpNYXRoLmNlaWwoYi8kL20pLTEsbWluQ29sOjAsbWluUm93OjB9KSwkKj0yO2NvbnN0IE49ZS5tZEluZm87bGV0IHE9bnVsbDtpZihOJiZrLl95eHMpe2NvbnN0IGU9ay5feXhzO3E9e3BhY2tldFNpemU6ZS5QYWNrZXRTaXplLHRpbGVTaXplOltlLlRpbGVYU2l6ZSxlLlRpbGVZU2l6ZV19fXJldHVybntzdG9yYWdlSW5mbzpPLHJhc3RlckluZm86bmV3IHMoe3dpZHRoOnYsaGVpZ2h0OmIscGl4ZWxUeXBlOnQsYmFuZENvdW50OnIsZXh0ZW50OncsbmF0aXZlRXh0ZW50OlQsdHJhbnNmb3JtOnosc3BhdGlhbFJlZmVyZW5jZTpJLHBpeGVsU2l6ZTpfLGtleVByb3BlcnRpZXM6ayxzdGF0aXN0aWNzOmcsaGlzdG9ncmFtczppLG11bHRpZGltZW5zaW9uYWxJbmZvOk4sY29sb3JtYXA6UixzdG9yYWdlSW5mbzpuZXcgYSh7YmxvY2tXaWR0aDpmLGJsb2NrSGVpZ2h0Om0scHlyYW1pZEJsb2NrV2lkdGg6ZixweXJhbWlkQmxvY2tIZWlnaHQ6bSxvcmlnaW46Qyx0aWxlSW5mbzpNLHRyYW5zcG9zZUluZm86cSxmaXJzdFB5cmFtaWRMZXZlbDpjLG1heGltdW1QeXJhbWlkTGV2ZWw6cCxibG9ja0JvdW5kYXJ5OkJ9KX0pfX1fcGFyc2VUcmFuc2Zvcm0oZSl7aWYoIW0oZSkpdGhyb3cgbmV3IHQoXCJjbG91ZHJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBjb250YWlucyB1bnN1cHBvcnRlZCBnZW9kYXRhIHRyYW5zZm9ybSB0eXBlc1wiKTtjb25zdCByPWMoZSk7aWYoXCJpZGVudGl0eVwiPT09ci50eXBlKXJldHVybiBudWxsO2lmKFwicG9seW5vbWlhbFwiIT09ci50eXBlfHwhci5mb3J3YXJkQ29lZmZpY2llbnRzPy5sZW5ndGh8fCFyLmludmVyc2VDb2VmZmljaWVudHM/Lmxlbmd0aCl0aHJvdyBuZXcgdChcImNsb3VkcmFzdGVyOm9wZW5cIixcInRoZSBkYXRhIGNvbnRhaW5zIHVuc3VwcG9ydGVkIGdlb2RhdGEgdHJhbnNmb3JtcyAtIGJvdGggZm9yd2FyZCBhbmQgaW52ZXJzZSBjb2VmZmljaWVudHMgYXJlIHJlcXVpcmVkIGN1cnJlbnRseVwiKTtyZXR1cm4gcn1hc3luYyBfZmV0Y2hBdXhpbGlhcnlJbmZvcm1hdGlvbihlKXtjb25zdCB0PXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9jb25mLnZhdC5qc29uXCIse3NpZ25hbDplfSkudGhlbigoZT0+ZS5kYXRhKSkuY2F0Y2goKCgpPT5udWxsKSkscj10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvY29uZi52YXQuZGJmXCIse3Jlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDplfSkudGhlbigoZT0+ZS5kYXRhKSkuY2F0Y2goKCgpPT5udWxsKSksaT1hd2FpdCBQcm9taXNlLmFsbChbdCxyXSk7bGV0IG87aWYoaVswXSl7bGV0IGU9aVswXS5maWVsZHM7Y29uc3QgdD1pWzBdLnZhbHVlcztpZihlJiZ0KXtlPWUubWFwKChlPT4oe3R5cGU6XCJPSURcIj09PWUubmFtZT9cImVzcmlGaWVsZFR5cGVPSURcIjpnLmdldChlLnR5cGUpLG5hbWU6ZS5uYW1lLGFsaWFzOmUuYWxpYXN8fGUubmFtZX0pKSk7Y29uc3Qgcj10Lm1hcCgoZT0+KHthdHRyaWJ1dGVzOmV9KSkpO2UmJnQmJihvPXtmaWVsZHM6ZSxmZWF0dXJlczpyfSl9fWlmKCFvJiZpWzFdKXtvPWYucGFyc2UoaVsxXSkucmVjb3JkU2V0fXJldHVybiBwLmZyb21KU09OKG8pfV9idWlsZENhY2hlRmlsZVBhdGgoZSx0LHIsaSxvKXtjb25zdCBzPXRoaXMuX2dldFBhY2thZ2VTaXplKCEhbyksYT1NYXRoLmZsb29yKHQvcykqcyxuPU1hdGguZmxvb3Ioci9zKSpzLGw9XCJSXCIrdGhpcy5fdG9IZXhTdHJpbmc0KGEpK1wiQ1wiK3RoaXMuX3RvSGV4U3RyaW5nNChuKTtsZXQgZj1cIkxcIjtmKz1lPj0xMD9lLnRvU3RyaW5nKCk6XCIwXCIrZS50b1N0cmluZygpO2NvbnN0e211bHRpZGltZW5zaW9uYWxJbmZvOm19PXRoaXMucmFzdGVySW5mbyxjPWk/LlswXTtpZihudWxsPT1tfHwhYylyZXR1cm5gJHt0aGlzLnVybH0vX2FsbGxheWVycy8ke2Z9LyR7bH0uYnVuZGxlYDtsZXQgcD1cIl95eHNcIjtpZighbyl7cD1tLnZhcmlhYmxlcy5maW5kKChlPT5lLm5hbWU9PT1jLnZhcmlhYmxlTmFtZSkpLmRpbWVuc2lvbnNbMF0udmFsdWVzLmluZGV4T2YoYy52YWx1ZXNbMF0pLnRvU3RyaW5nKDE2KTtjb25zdCBlPTQtcC5sZW5ndGg7Zm9yKGxldCB0PTA7dDxlO3QrKylwPVwiMFwiK3A7cD1cIlNcIitwfWNvbnN0IGQ9dGhpcy5fZ2V0VmFyaWFibGVGb2xkZXJOYW1lKG98fGMudmFyaWFibGVOYW1lKTtyZXR1cm5gJHt0aGlzLnVybH0vX2FsbGxheWVycy8ke2R9LyR7cH0vJHtmfS8ke2x9LmJ1bmRsZWB9X2dldFBhY2thZ2VTaXplKGU9ITEpe2NvbnN0e3RyYW5zcG9zZUluZm86dH09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvO3JldHVybiBlJiZudWxsIT10P3QucGFja2V0U2l6ZT8/MDp0aGlzLnN0b3JhZ2VJbmZvLnBhY2tldFNpemV9X2dldFRpbGVTaXplKGU9ITEpe2NvbnN0e3N0b3JhZ2VJbmZvOnR9PXRoaXMucmFzdGVySW5mbyx7dHJhbnNwb3NlSW5mbzpyfT10O3JldHVybiBlJiZudWxsIT1yP3IudGlsZVNpemU6dC50aWxlSW5mby5zaXplfV9nZXRWYXJpYWJsZUZvbGRlck5hbWUoZSl7cmV0dXJuXCJcIj09PShlPWUudHJpbSgpKT9cIl92XCI6ZS5yZXBsYWNlQWxsKC9bXFx7fFxcfVxcLV0vZyxcIl9cIikucmVwbGFjZShcIlxcXFwqXCIsXCJfdlwiKX1fZ2V0SW5kZXhSZWNvcmRGcm9tQnVuZGxlKGUsdCxyPSExKXtjb25zdCBpPXRoaXMuX2dldFBhY2thZ2VTaXplKHIpLG89aSooZSVpKSt0JWk7aWYobzwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGV2ZWwgLyByb3cgLyBjb2xcIik7cmV0dXJuIDIwK28qdGhpcy5zdG9yYWdlSW5mby5yZWNvcmRTaXplKzQ0fV9nZXRUaWxlRW5kQW5kQ29udGVudFR5cGUoZSx0KXtjb25zdCByPWUuc3ViYXJyYXkodCx0KzgpO2xldCBpLG89MDtmb3IoaT0wO2k8NTtpKyspb3w9KDI1NSZyW2ldKTw8OCppO2NvbnN0IHM9MHhmZmZmZmZmZmZmJm87Zm9yKG89MCxpPTU7aTw4O2krKylvfD0oMjU1JnJbaV0pPDw4KihpLTUpO3JldHVybntwb3NpdGlvbjpzLHJlY29yZFNpemU6MHhmZmZmZmZmZmZmJm99fV90b0hleFN0cmluZzQoZSl7bGV0IHQ9ZS50b1N0cmluZygxNik7aWYoNCE9PXQubGVuZ3RoKXtsZXQgZT00LXQubGVuZ3RoO2Zvcig7ZS0tID4wOyl0PVwiMFwiK3R9cmV0dXJuIHR9fTtlKFtyKHtyZWFkT25seTohMH0pXSx4LnByb3RvdHlwZSxcInN0b3JhZ2VJbmZvXCIsdm9pZCAwKSxlKFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0seC5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx4PWUoW2koXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkNsb3VkUmFzdGVyXCIpXSx4KTtjb25zdCBTPXg7ZXhwb3J0e1MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2J5dGVzVG9VVEY4IGFzIGV9ZnJvbVwiLi9ieXRlU3RyZWFtVXRpbHMuanNcIjtmdW5jdGlvbiB0KGUpe2NvbnN0IHQ9ZS5maWVsZHMscj1lLnJlY29yZHMsbj10LnNvbWUoKGU9Plwib2lkXCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKSkpP1wiT0JKRUNUSURcIjpcIk9JRFwiLGk9W3tuYW1lOm4sdHlwZTpcImVzcmlGaWVsZFR5cGVPSURcIixhbGlhczpcIk9JRFwifV0uY29uY2F0KHQubWFwKChlPT4oe25hbWU6ZS5uYW1lLHR5cGU6XCJlc3JpRmllbGRUeXBlXCIrZS50eXBlTmFtZSxhbGlhczplLm5hbWV9KSkpKSxzPWkubWFwKChlPT5lLm5hbWUpKSxhPVtdO2xldCBvPTAsbD0wO3JldHVybiByLmZvckVhY2goKGU9Pntjb25zdCB0PXt9O2Zvcih0W25dPW8rKyxsPTE7bDxzLmxlbmd0aDtsKyspdFtzW2xdXT1lW2wtMV07YS5wdXNoKHthdHRyaWJ1dGVzOnR9KX0pKSx7ZGlzcGxheUZpZWxkTmFtZTpcIlwiLGZpZWxkczppLGZlYXR1cmVzOmF9fWNsYXNzIHJ7c3RhdGljIGdldCBzdXBwb3J0ZWRWZXJzaW9ucygpe3JldHVybls1XX1zdGF0aWMgcGFyc2Uocil7Y29uc3Qgbj1uZXcgRGF0YVZpZXcociksaT0zJm4uZ2V0VWludDgoMCk7aWYoMyE9PWkpcmV0dXJue2hlYWRlcjp7dmVyc2lvbjppfSxyZWNvcmRTZXQ6bnVsbH07Y29uc3Qgcz1uLmdldFVpbnQzMig0LCEwKSxhPW4uZ2V0VWludDE2KDgsITApLG89bi5nZXRVaW50MTYoMTAsITApLGw9e3ZlcnNpb246aSxyZWNvcmRDb3VudDpzLGhlYWRlckJ5dGVDb3VudDphLHJlY29yZEJ5dGVDb3VudDpvfTtsZXQgcD0zMjtjb25zdCBnPVtdLHU9W107bGV0IGQ7aWYoMz09PWkpe2Zvcig7MTMhPT1uLmdldFVpbnQ4KHApOylkPVN0cmluZy5mcm9tQ2hhckNvZGUobi5nZXRVaW50OChwKzExKSkudHJpbSgpLGcucHVzaCh7bmFtZTplKG5ldyBVaW50OEFycmF5KHIscCwxMSkpLHR5cGU6ZCx0eXBlTmFtZTpbXCJTdHJpbmdcIixcIkRhdGVcIixcIkRvdWJsZVwiLFwiQm9vbGVhblwiLFwiU3RyaW5nXCIsXCJJbnRlZ2VyXCJdW1tcIkNcIixcIkRcIixcIkZcIixcIkxcIixcIk1cIixcIk5cIl0uaW5kZXhPZihkKV0sbGVuZ3RoOm4uZ2V0VWludDgocCsxNil9KSxwKz0zMjtpZihwKz0xLGcubGVuZ3RoPjApZm9yKDt1Lmxlbmd0aDxzJiZyLmJ5dGVMZW5ndGgtcD5vOyl7Y29uc3QgdD1bXTszMj09PW4uZ2V0VWludDgocCk/KHArPTEsZy5mb3JFYWNoKChuPT57aWYoXCJDXCI9PT1uLnR5cGUpdC5wdXNoKGUobmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpKTtlbHNlIGlmKFwiTlwiPT09bi50eXBlKXQucHVzaChwYXJzZUludChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpLDEwKSk7ZWxzZSBpZihcIkZcIj09PW4udHlwZSl0LnB1c2gocGFyc2VGbG9hdChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpKSk7ZWxzZSBpZihcIkRcIj09PW4udHlwZSl7Y29uc3QgZT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpO3QucHVzaChuZXcgRGF0ZShwYXJzZUludChlLnN1YnN0cmluZygwLDQpLDEwKSxwYXJzZUludChlLnN1YnN0cmluZyg0LDYpLDEwKS0xLHBhcnNlSW50KGUuc3Vic3RyaW5nKDYsOCksMTApKSl9cCs9bi5sZW5ndGh9KSksdS5wdXNoKHQpKTpwKz1vfX1yZXR1cm57aGVhZGVyOmwsZmllbGRzOmcscmVjb3Jkczp1LHJlY29yZFNldDp0KHtmaWVsZHM6ZyxyZWNvcmRzOnV9KX19fWV4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodD0xNWUzLGU9NWUzKXt0aGlzLl90aW1lcj1udWxsLHRoaXMuX2NhY2hlZEJsb2Nrcz1uZXcgTWFwLHRoaXMuX3NpemU9LTEsdGhpcy5fZHVyYXRpb249dCx0aGlzLl9pbnRlcnZhbD1NYXRoLm1pbih0LGUpfWRlY3JlYXNlUmVmQ291bnQodCxlKXtjb25zdCBzPXQrXCIvXCIrZSxyPXRoaXMuX2NhY2hlZEJsb2NrcztpZihyLmhhcyhzKSl7Y29uc3QgdD1yLmdldChzKTtyZXR1cm4gdC5yZWZDb3VudC0tLHQucmVmQ291bnQ8PTAmJihyLmRlbGV0ZShzKSx0LmNvbnRyb2xsZXImJnQuY29udHJvbGxlci5hYm9ydCgpKSx0LnJlZkNvdW50fXJldHVybiAwfWdldEJsb2NrKHQsZSl7Y29uc3Qgcz10K1wiL1wiK2Uscj10aGlzLl9jYWNoZWRCbG9ja3M7aWYoci5oYXMocykpe2NvbnN0IHQ9ci5nZXQocyk7cmV0dXJuIHQudHM9RGF0ZS5ub3coKSx0LnJlZkNvdW50Kyssci5kZWxldGUocyksci5zZXQocyx0KSx0LmJsb2NrfXJldHVybiBudWxsfXB1dEJsb2NrKHQsZSxzLHIpe2NvbnN0IGk9dGhpcy5fY2FjaGVkQmxvY2tzLGM9dCtcIi9cIitlO2lmKGkuaGFzKGMpKXtjb25zdCB0PWkuZ2V0KGMpO3QudHM9RGF0ZS5ub3coKSx0LnJlZkNvdW50Kyt9ZWxzZSBpLnNldChjLHtibG9jazpzLHRzOkRhdGUubm93KCkscmVmQ291bnQ6MSxjb250cm9sbGVyOnJ9KTt0aGlzLl90cmltKCksdGhpcy5fdXBkYXRlVGltZXIoKX1kZWxldGVCbG9jayh0LGUpe2NvbnN0IHM9dGhpcy5fY2FjaGVkQmxvY2tzLHI9dCtcIi9cIitlO3MuaGFzKHIpJiZzLmRlbGV0ZShyKX11cGRhdGVNYXhTaXplKHQpe3RoaXMuX3NpemU9dCx0aGlzLl90cmltKCl9ZW1wdHkoKXt0aGlzLl9jYWNoZWRCbG9ja3MuY2xlYXIoKSx0aGlzLl9jbGVhclRpbWVyKCl9Z2V0Q3VycmVudFNpemUoKXtyZXR1cm4gdGhpcy5fY2FjaGVkQmxvY2tzLnNpemV9X3VwZGF0ZVRpbWVyKCl7aWYobnVsbCE9dGhpcy5fdGltZXIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY2FjaGVkQmxvY2tzO3RoaXMuX3RpbWVyPXNldEludGVydmFsKCgoKT0+e2NvbnN0IGU9QXJyYXkuZnJvbSh0KSxzPURhdGUubm93KCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aCYmZVtyXVsxXS50czw9cy10aGlzLl9kdXJhdGlvbjtyKyspdC5kZWxldGUoZVtyXVswXSk7MD09PXQuc2l6ZSYmdGhpcy5fY2xlYXJUaW1lcigpfSksdGhpcy5faW50ZXJ2YWwpfV90cmltKCl7Y29uc3QgdD10aGlzLl9jYWNoZWRCbG9ja3M7aWYoLTE9PT10aGlzLl9zaXplfHx0aGlzLl9zaXplPj10LnNpemUpcmV0dXJuO2NvbnN0IGU9QXJyYXkuZnJvbSh0KTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoLXRoaXMuX3NpemU7cysrKXQuZGVsZXRlKGVbc11bMF0pfV9jbGVhclRpbWVyKCl7bnVsbCE9dGhpcy5fdGltZXImJihjbGVhckludGVydmFsKHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX19ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e2FwcHJveGltYXRlVHJhbnNmb3JtIGFzIGl9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2xldCBuPWNsYXNzIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5kYXRhc2V0Rm9ybWF0PVwiRnVuY3Rpb25cIix0aGlzLnRpbGVUeXBlPVwiUmFzdGVyXCIsdGhpcy5yYXN0ZXJGdW5jdGlvbj1udWxsfWFzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3R7cmFzdGVyRnVuY3Rpb246cn09dGhpczt0aGlzLnByaW1hcnlSYXN0ZXJzPy5yYXN0ZXJzPy5sZW5ndGg/ci5zb3VyY2VSYXN0ZXJzPXRoaXMucHJpbWFyeVJhc3RlcnMucmFzdGVyczoodGhpcy5wcmltYXJ5UmFzdGVycz1yLmdldFByaW1hcnlSYXN0ZXJzKCksdGhpcy5yYXN0ZXJKb2JIYW5kbGVyJiZ0aGlzLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnM/LmZvckVhY2goKHQ9PnQucmFzdGVySm9iSGFuZGxlcj10aGlzLnJhc3RlckpvYkhhbmRsZXIpKSk7Y29uc3R7cmFzdGVyczpzLHJhc3RlcklkczphfT10aGlzLnByaW1hcnlSYXN0ZXJzLGk9cy5tYXAoKGU9PmUucmFzdGVySW5mbz92b2lkIDA6ZS5vcGVuKHQpKSk7YXdhaXQgUHJvbWlzZS5hbGwoaSk7Y29uc3Qgbj1zLm1hcCgoKHtyYXN0ZXJJbmZvOnR9KT0+dCkpLGM9ci5iaW5kKHtyYXN0ZXJJbmZvczpuLHJhc3RlcklkczphfSk7aWYoIWMuc3VjY2Vzc3x8MD09PW4ubGVuZ3RoKXRocm93IG5ldyBlKFwicmFzdGVyLWZ1bmN0aW9uOm9wZW5cIixgY2Fubm90IGJpbmQgdGhlIGZ1bmN0aW9uOiAke2MuZXJyb3I/P1wiXCJ9YCk7Y29uc3QgbD1cIlRhYmxlXCI9PT1yLmZ1bmN0aW9uTmFtZT9yOnIuZnVuY3Rpb25Bcmd1bWVudHM/LnJhc3RlcjtcIlRhYmxlXCI9PT1sPy5mdW5jdGlvbk5hbWUmJihyLnJhc3RlckluZm8uYXR0cmlidXRlVGFibGU9by5mcm9tSlNPTihsLmZ1bmN0aW9uQXJndW1lbnRzLmF0dHJpYnV0ZVRhYmxlQXNSZWNvcmRTZXQpKSxhd2FpdCB0aGlzLnN5bmNKb2JIYW5kbGVyKCk7Y29uc3QgcD1uWzBdO3RoaXMuaGFzVW5pcXVlU291cmNlU3RvcmFnZUluZm89MT09PW4ubGVuZ3RofHxuLnNsaWNlKDEpLmV2ZXJ5KCh0PT50aGlzLl9oYXNTYW1lU3RvcmFnZUluZm8odCxwKSkpLHRoaXMuc2V0KFwic291cmNlSlNPTlwiLHNbMF0uc291cmNlSlNPTiksdGhpcy5zZXQoXCJyYXN0ZXJJbmZvXCIsci5yYXN0ZXJJbmZvKX1hc3luYyBzeW5jSm9iSGFuZGxlcigpe3JldHVybiB0aGlzLnJhc3RlckpvYkhhbmRsZXI/LnVwZGF0ZVJhc3RlckZ1bmN0aW9uKHRoaXMucmFzdGVyRnVuY3Rpb24pfWFzeW5jIGZldGNoUGl4ZWxzKHQsZSxyLHM9e30pe2NvbnN0e3Jhc3RlcnM6YSxyYXN0ZXJJZHM6b309dGhpcy5wcmltYXJ5UmFzdGVycztsZXQgbj0hMTtjb25zdHtpbnRlcnBvbGF0aW9uOmN9PXMsbD10aGlzLnJhc3RlckZ1bmN0aW9uLmZsYXRXZWJHTEZ1bmN0aW9uQ2hhaW4/Lmhhc1N1cmZhY2VGdW5jdGlvbjshcy5yZXF1ZXN0UmF3RGF0YSYmXCJiaWxpbmVhclwiIT09YyYmbCYmKG49MT09PWEubGVuZ3RoJiYhcy5za2lwUmFzdGVyRnVuY3Rpb24scz17Li4ucyxpbnRlcnBvbGF0aW9uOlwiYmlsaW5lYXJcIixyZXF1ZXN0UmF3RGF0YTpufSk7Y29uc3QgcD1hLm1hcCgoYT0+YS5mZXRjaFBpeGVscyh0LGUscixzKSkpLHU9YXdhaXQgUHJvbWlzZS5hbGwocCksbT11Lm1hcCgodD0+dC5waXhlbEJsb2NrKSksaD1ufHxzLnJlcXVlc3RSYXdEYXRhP3UubWFwKCh0PT50LnNyY1RpbGVQaXhlbFNpemUpKTpudWxsO2lmKHMuc2tpcFJhc3RlckZ1bmN0aW9ufHxtLmV2ZXJ5KCh0PT5udWxsPT10KSkpcmV0dXJuIHVbMF07Y29uc3QgZj11LmZpbmQoKHQ9Pm51bGwhPXQucGl4ZWxCbG9jaykpPy5leHRlbnQ/P3QsZD10aGlzLnJhc3RlckpvYkhhbmRsZXI/YXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLnByb2Nlc3Moe2V4dGVudDpmLHByaW1hcnlQaXhlbEJsb2NrczptLHByaW1hcnlQaXhlbFNpemVzOmgscHJpbWFyeVJhc3RlcklkczpvfSk6dGhpcy5yYXN0ZXJGdW5jdGlvbi5wcm9jZXNzKHtleHRlbnQ6ZixwcmltYXJ5UGl4ZWxCbG9ja3M6bSxwcmltYXJ5UGl4ZWxTaXplczpoLHByaW1hcnlSYXN0ZXJJZHM6b30pLHt0cmFuc2Zvcm1HcmlkOnl9PXVbMF07aWYoIW58fG51bGw9PWR8fG51bGw9PXkpcmV0dXJuey4uLnVbMF0scGl4ZWxCbG9jazpkfTtjb25zdCB4PXtyb3dzOnkuc3BhY2luZ1swXSxjb2xzOnkuc3BhY2luZ1sxXX07bGV0IGI7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXtiPShhd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIubW9zYWljQW5kVHJhbnNmb3JtKHtzcmNQaXhlbEJsb2NrczpbZF0sc3JjTW9zYWljU2l6ZTp7d2lkdGg6ZC53aWR0aCxoZWlnaHQ6ZC5oZWlnaHR9LGRlc3REaW1lbnNpb246e3dpZHRoOmUsaGVpZ2h0OnJ9LGNvZWZzOnkuY29lZmZpY2llbnRzLHNhbXBsZVNwYWNpbmc6eCxwcm9qZWN0RGlyZWN0aW9uczohMSxnY3NHcmlkOm51bGwsaXNVVjohMSxpbnRlcnBvbGF0aW9uOmMsYWxpZ25tZW50SW5mbzp2b2lkIDAsYmxvY2tXaWR0aHM6bnVsbH0scykpLnBpeGVsQmxvY2t9ZWxzZSBiPWkoZCx7d2lkdGg6ZSxoZWlnaHQ6cn0seS5jb2VmZmljaWVudHMseCxjKTtyZXR1cm57ZXh0ZW50OnQsc3JjRXh0ZW50OnVbMF0uc3JjRXh0ZW50LHBpeGVsQmxvY2s6Yn19X2hhc1NhbWVTdG9yYWdlSW5mbyh0LGUpe2NvbnN0e3N0b3JhZ2VJbmZvOnIscGl4ZWxTaXplOnMsc3BhdGlhbFJlZmVyZW5jZTphLGV4dGVudDppfT10LHtzdG9yYWdlSW5mbzpvLHBpeGVsU2l6ZTpuLHNwYXRpYWxSZWZlcmVuY2U6YyxleHRlbnQ6bH09ZTtyZXR1cm4gcy54PT09bi54JiZzLnk9PT1uLnkmJmEuZXF1YWxzKGMpJiZpLmVxdWFscyhsKSYmci5ibG9ja0hlaWdodD09PW8uYmxvY2tIZWlnaHQmJnIuYmxvY2tXaWR0aD09PW8uYmxvY2tXaWR0aCYmci5tYXhpbXVtUHlyYW1pZExldmVsPT09by5tYXhpbXVtUHlyYW1pZExldmVsfX07dChbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLG4ucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksdChbcigpXSxuLnByb3RvdHlwZSxcInRpbGVUeXBlXCIsdm9pZCAwKSx0KFtyKCldLG4ucHJvdG90eXBlLFwicmFzdGVyRnVuY3Rpb25cIix2b2lkIDApLHQoW3IoKV0sbi5wcm90b3R5cGUsXCJwcmltYXJ5UmFzdGVyc1wiLHZvaWQgMCksbj10KFtzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5GdW5jdGlvblJhc3RlclwiKV0sbik7Y29uc3QgYz1uO2V4cG9ydHtjIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtlYWNoQWx3YXlzIGFzIHMsY3JlYXRlQWJvcnRFcnJvciBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBpIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydCBuIGZyb21cIi4vSW5NZW1vcnlSYXN0ZXIuanNcIjtpbXBvcnR7cGFyc2VQQU1JbmZvIGFzIGx9ZnJvbVwiLi9wYW1QYXJzZXIuanNcIjtpbXBvcnR7Z2V0Rm9ybWF0IGFzIG19ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9SYXN0ZXJDb2RlYy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVN0YXRpc3RpY3NGcm9tSGlzdG9ncmFtcyBhcyBwfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL1BvbHlub21pYWxUcmFuc2Zvcm0uanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7bGV0IGg9Y2xhc3MgZXh0ZW5kcyBpe2FzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgZT1hd2FpdCB0aGlzLl9mZXRjaERhdGEodCk7bGV0e3NwYXRpYWxSZWZlcmVuY2U6cyxzdGF0aXN0aWNzOnIsaGlzdG9ncmFtczphLHRyYW5zZm9ybTpvfT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeURhdGEodCk7Y29uc3QgaT0hcztpJiYocz1uZXcgZih7d2tpZDozODU3fSkpLGE/Lmxlbmd0aCYmbnVsbD09ciYmKHI9cChhKSk7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6bX09ZTtsZXQgYz1uZXcgdSh7eG1pbjotLjUseW1pbjouNS1tLHhtYXg6bC0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6c30pO2NvbnN0IGg9bz9vLmZvcndhcmRUcmFuc2Zvcm0oYyk6YztsZXQgZD0hMDtpZihvKXtjb25zdCB0PW8uZm9yd2FyZENvZWZmaWNpZW50cztkPXQmJjA9PT10WzFdJiYwPT09dFsyXSxkJiYobz1udWxsLGM9aCl9Y29uc3Qgdz1uZXcgbih7ZGF0YTp7ZXh0ZW50OmgsbmF0aXZlRXh0ZW50OmMsdHJhbnNmb3JtOm8scGl4ZWxCbG9jazplLHN0YXRpc3RpY3M6cixoaXN0b2dyYW1zOmEsa2V5UHJvcGVydGllczp7RGF0ZVR5cGU6XCJQcm9jZXNzZWRcIn0saXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlOml9fSk7YXdhaXQgdy5vcGVuKCksdy5kYXRhPW51bGwsdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHcucmFzdGVySW5mbyksdGhpcy5faW5NZW1vcnlSYXN0ZXI9d31mZXRjaFJhd1RpbGUodCxlLHMscj17fSl7cmV0dXJuIHRoaXMuX2luTWVtb3J5UmFzdGVyLmZldGNoUmF3VGlsZSh0LGUscyxyKX1hc3luYyBfZmV0Y2hEYXRhKHQpe2NvbnN0e2RhdGE6c309YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6dD8uc2lnbmFsfSkscj1tKHMpLnRvVXBwZXJDYXNlKCk7aWYoXCJKUEdcIiE9PXImJlwiUE5HXCIhPT1yJiZcIkdJRlwiIT09ciYmXCJCTVBcIiE9PXIpdGhyb3cgbmV3IGUoXCJpbWFnZS1hdXgtcmFzdGVyOm9wZW5cIixcInRoZSBkYXRhIGlzIG5vdCBhIHN1cHBvcnRlZCBmb3JtYXRcIik7dGhpcy5fc2V0KFwiZGF0YXNldEZvcm1hdFwiLHIpO2NvbnN0IGE9ci50b0xvd2VyQ2FzZSgpLG89XCJnaWZcIj09PWF8fFwiYm1wXCI9PT1hfHwhaGFzKFwiaW9zXCIpLGk9YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKHMse2Zvcm1hdDphLHVzZUNhbnZhczpvLGhhc05vWmxpYk1hc2s6ITB9KTtpZihudWxsPT1pKXRocm93IG5ldyBlKFwiaW1hZ2UtYXV4LXJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBjYW5ub3QgYmUgZGVjb2RlZFwiKTtyZXR1cm4gaX1hc3luYyBfZmV0Y2hBdXhpbGlhcnlEYXRhKHQpe2NvbnN0IGU9dD8uc2lnbmFsLGE9dGhpcy5pb0NvbmZpZy5za2lwRXh0ZW5zaW9ucz8/W10sbz1hLmluY2x1ZGVzKFwiYXV4LnhtbFwiKT9udWxsOnRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi5hdXgueG1sXCIse3Jlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDplfSksaT10aGlzLmRhdGFzZXRGb3JtYXQsbj1cIkpQR1wiPT09aT9cImpnd1wiOlwiUE5HXCI9PT1pP1wicGd3XCI6XCJCTVBcIj09PWk/XCJicHdcIjpudWxsLG09biYmYS5pbmNsdWRlcyhuKT9udWxsOnRoaXMucmVxdWVzdCh0aGlzLnVybC5zbGljZSgwLHRoaXMudXJsLmxhc3RJbmRleE9mKFwiLlwiKSkrXCIuXCIrbix7cmVzcG9uc2VUeXBlOlwidGV4dFwiLHNpZ25hbDplfSkscD1hd2FpdCBzKFtvLG1dKTtpZihlPy5hYm9ydGVkKXRocm93IHIoKTtjb25zdCBmPWwocFswXS52YWx1ZT8uZGF0YSk7aWYoIWYudHJhbnNmb3JtKXtjb25zdCB0PXBbMV0udmFsdWU/cFsxXS52YWx1ZS5kYXRhLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDAsNikubWFwKCh0PT5OdW1iZXIodCkpKTpudWxsO2YudHJhbnNmb3JtPTY9PT10Py5sZW5ndGg/bmV3IGMoe2ZvcndhcmRDb2VmZmljaWVudHM6W3RbNF0sdFs1XSx0WzBdLC10WzFdLHRbMl0sLXRbM11dfSk6bnVsbH1yZXR1cm4gZn19O3QoW2Eoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxoLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLGg9dChbbyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW1hZ2VBdXhSYXN0ZXJcIildLGgpO2NvbnN0IGQ9aDtleHBvcnR7ZCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHthc3NlcnRJc1NvbWUgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3VybFRvT2JqZWN0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vUmFzdGVySW5mby5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1Jhc3RlclN0b3JhZ2VJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vVGlsZUluZm8uanNcIjtpbXBvcnR7VGlsZW1hcENhY2hlIGFzIGN9ZnJvbVwiLi4vVGlsZW1hcENhY2hlLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e3NldFZhbGlkQm91bmRhcnkgYXMgdX1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydCBoIGZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvR0NTU2hpZnRUcmFuc2Zvcm0uanNcIjtpbXBvcnR7ZmV0Y2hTZXJ2aWNlUmFzdGVySW5mbyBhcyBmfWZyb21cIi4uLy4uLy4uL3Jlc3QvaW1hZ2VTZXJ2aWNlL2ZldGNoUmFzdGVySW5mby5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2xldCB4PWNsYXNzIGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fbGV2ZWxPZmZzZXQ9MCx0aGlzLl90aWxlbWFwQ2FjaGU9bnVsbCx0aGlzLl9zbGljZXM9bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJSYXN0ZXJUaWxlU2VydmVyXCIsdGhpcy50aWxlVHlwZT1udWxsfWFzeW5jIG9wZW4oZSl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3Qgcj1lJiZlLnNpZ25hbCxhPXRoaXMuc291cmNlSlNPTj97ZGF0YTp0aGlzLnNvdXJjZUpTT059OmF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHNpZ25hbDpyfSk7YS5zc2wmJih0aGlzLnVybD10aGlzLnVybC5yZXBsYWNlKC9eaHR0cDovaSxcImh0dHBzOlwiKSk7Y29uc3QgbD1hLmRhdGE7aWYodGhpcy5zb3VyY2VKU09OPWwsIWwpdGhyb3cgbmV3IHQoXCJpbWFnZXNlcnZlcnJhc3RlcjpvcGVuXCIsXCJjYW5ub3QgaW5pdGlhbGl6ZSB0aWxlZCBpbWFnZSBzZXJ2aWNlLCBtaXNzaW5nIHNlcnZpY2UgaW5mb1wiKTtpZighbC50aWxlSW5mbyl0aHJvdyBuZXcgdChcImltYWdlc2VydmVycmFzdGVyOm9wZW5cIixcInVzZSBJbWFnZXJ5TGF5ZXIgdG8gb3BlbiBub24tdGlsZWQgaW1hZ2Ugc2VydmljZXNcIik7dGhpcy5fZml4U2NhbGVJblNlcnZpY2VJbmZvKCk7Y29uc3QgbT1bXCJqcGdcIixcImpwZWdcIixcInBuZ1wiLFwicG5nOFwiLFwicG5nMjRcIixcInBuZzMyXCIsXCJtaXhlZFwiXTt0aGlzLnRpbGVUeXBlPWwuY2FjaGVUeXBlLG51bGw9PXRoaXMudGlsZVR5cGUmJihtLmluY2x1ZGVzKGwudGlsZUluZm8uZm9ybWF0LnRvTG93ZXJDYXNlKCkpP3RoaXMudGlsZVR5cGU9XCJNYXBcIjpcImxlcmNcIj09PWwudGlsZUluZm8uZm9ybWF0LnRvTG93ZXJDYXNlKCk/dGhpcy50aWxlVHlwZT1cIkVsZXZhdGlvblwiOnRoaXMudGlsZVR5cGU9XCJSYXN0ZXJcIiksdGhpcy5kYXRhc2V0TmFtZT1sLm5hbWU/LnNsaWNlKGwubmFtZS5pbmRleE9mKFwiL1wiKSsxKT8/XCJcIjtjb25zdCB1PWF3YWl0IHRoaXMuX2ZldGNoUmFzdGVySW5mbyh7c2lnbmFsOnJ9KTtpZihudWxsPT11KXRocm93IG5ldyB0KFwiaW1hZ2Utc2VydmVyLXJhc3RlcjpvcGVuXCIsXCJjYW5ub3QgaW5pdGlhbGl6ZSBpbWFnZSBzZXJ2aWNlXCIpO2NvbnN0IGg9XCJNYXBcIj09PXRoaXMudGlsZVR5cGU/ZyhsLnRpbGVJbmZvLGwpOm4uZnJvbUpTT04obC50aWxlSW5mbyk7aShoKTtjb25zdFtmLHBdPXRoaXMuX2NvbXB1dGVNaW5NYXhMT0QodSxoKSx7ZXh0ZW50OmQscGl4ZWxTaXplOnl9PXUseD0uNS91LndpZHRoKnkueCx2PU1hdGgubWF4KHkueCx5LnkpLHtsb2RzOlN9PWg7KFwiTWFwXCIhPT10aGlzLnRpbGVUeXBlJiYwIT09bC5tYXhTY2FsZXx8TWF0aC5hYnMoeS54LXkueSk+eHx8IVMuc29tZSgoZT0+TWF0aC5hYnMoZS5yZXNvbHV0aW9uLXYpPHgpKSkmJih5Lng9eS55PWYucmVzb2x1dGlvbix1LndpZHRoPU1hdGguY2VpbCgoZC54bWF4LWQueG1pbikveS54LS4xKSx1LmhlaWdodD1NYXRoLmNlaWwoKGQueW1heC1kLnltaW4pL3kueS0uMSkpO2NvbnN0IEk9Zi5sZXZlbC1wLmxldmVsLFt3LGpdPWguc2l6ZSxNPVtdLGI9W107Uy5mb3JFYWNoKCgoZSx0KT0+e2UubGV2ZWw+PXAubGV2ZWwmJmUubGV2ZWw8PWYubGV2ZWwmJk0ucHVzaCh7eDplLnJlc29sdXRpb24seTplLnJlc29sdXRpb259KSx0PFMubGVuZ3RoLTEmJmIucHVzaChNYXRoLnJvdW5kKDEwKmUucmVzb2x1dGlvbi9TW3QrMV0ucmVzb2x1dGlvbikvMTApfSkpLE0uc29ydCgoKGUsdCk9PmUueC10LngpKTtjb25zdCBUPXRoaXMuY29tcHV0ZUJsb2NrQm91bmRhcnkoZCx3LGosaC5vcmlnaW4sTSxJKSxfPU0ubGVuZ3RoPjE/TS5zbGljZSgxKTpudWxsO2xldCBPO2wudHJhbnNwb3NlSW5mbyYmKE89e3RpbGVTaXplOltsLnRyYW5zcG9zZUluZm8ucm93cyxsLnRyYW5zcG9zZUluZm8uY29sc10scGFja2V0U2l6ZTp1LmtleVByb3BlcnRpZXM/Ll95eHMuUGFja2V0U2l6ZT8/MH0pO2NvbnN0IFI9Yi5sZW5ndGg8PTF8fGIubGVuZ3RoPj0zJiZiLnNsaWNlKDAsYi5sZW5ndGgtMSkuZXZlcnkoKGU9PmU9PT1iWzBdKSk/YlswXT8/MjpNYXRoLnJvdW5kKDEwLyhwLnJlc29sdXRpb24vZi5yZXNvbHV0aW9uKSoqKC0xL0kpKS8xMDtpZih1LnN0b3JhZ2VJbmZvPW5ldyBvKHtibG9ja1dpZHRoOmguc2l6ZVswXSxibG9ja0hlaWdodDpoLnNpemVbMV0scHlyYW1pZEJsb2NrV2lkdGg6aC5zaXplWzBdLHB5cmFtaWRCbG9ja0hlaWdodDpoLnNpemVbMV0scHlyYW1pZFJlc29sdXRpb25zOl8scHlyYW1pZFNjYWxpbmdGYWN0b3I6Uixjb21wcmVzc2lvbjpoLmZvcm1hdCxvcmlnaW46aC5vcmlnaW4sZmlyc3RQeXJhbWlkTGV2ZWw6MSxtYXhpbXVtUHlyYW1pZExldmVsOkksdGlsZUluZm86aCx0cmFuc3Bvc2VJbmZvOk8sYmxvY2tCb3VuZGFyeTpUfSksdGhpcy5fZml4R0NTU2hpZnQodSksdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHUpLGwuY2FwYWJpbGl0aWVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ0aWxlbWFwXCIpKXtjb25zdCBlPXt0aWxlSW5mbzp1LnN0b3JhZ2VJbmZvLnRpbGVJbmZvLHBhcnNlZFVybDpzKHRoaXMudXJsKSx1cmw6dGhpcy51cmwsdGlsZVNlcnZlcnM6W119O3RoaXMuX3RpbGVtYXBDYWNoZT1uZXcgYyh7bGF5ZXI6ZX0pfX1hc3luYyBmZXRjaFJhd1RpbGUoZSx0LGkscz17fSl7Y29uc3R7c3RvcmFnZUluZm86cixleHRlbnQ6YX09dGhpcy5yYXN0ZXJJbmZvLHt0cmFuc3Bvc2VJbmZvOmx9PXIsbz1udWxsIT1sJiYhIXMudHJhbnNwb3NlZFZhcmlhYmxlTmFtZTtpZih0aGlzLl9zbGljZXMmJiFvJiZudWxsPT1zLnNsaWNlSWQpcmV0dXJuIG51bGw7Y29uc3Qgbj1vPzA6ci5tYXhpbXVtUHlyYW1pZExldmVsLWUrdGhpcy5fbGV2ZWxPZmZzZXQsYz1gJHt0aGlzLnVybH0vdGlsZS8ke259LyR7dH0vJHtpfWAsbT10aGlzLl9zbGljZXM/bz97dmFyaWFibGU6cy50cmFuc3Bvc2VkVmFyaWFibGVOYW1lfTp7c2xpY2VJZDpzLnNsaWNlSWR8fDB9Om51bGwse2RhdGE6aH09YXdhaXQgdGhpcy5yZXF1ZXN0KGMse3F1ZXJ5Om0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnMuc2lnbmFsfSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgZj1vP2wudGlsZVNpemU6ci50aWxlSW5mby5zaXplLHA9YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKGgse3dpZHRoOmZbMF0saGVpZ2h0OmZbMV0scGxhbmVzOm51bGwscGl4ZWxUeXBlOm51bGwsaXNQb2ludDpcIkVsZXZhdGlvblwiPT09dGhpcy50aWxlVHlwZSxyZXR1cm5JbnRlcmxlYXZlZDpvLG5vRGF0YVZhbHVlOnRoaXMucmFzdGVySW5mby5ub0RhdGFWYWx1ZX0pO2lmKG51bGw9PXApcmV0dXJuIG51bGw7Y29uc3QgZD1yLmJsb2NrQm91bmRhcnlbZV07aWYoXCJqcGdcIiE9PXIuY29tcHJlc3Npb258fGk+ZC5taW5Db2wmJmk8ZC5tYXhDb2wmJnQ+ZC5taW5Sb3cmJnQ8ZC5tYXhSb3cpcmV0dXJuIHA7Y29uc3R7b3JpZ2luOnksYmxvY2tXaWR0aDp4LGJsb2NrSGVpZ2h0Omd9PXIse3g6dix5OlN9PXRoaXMuZ2V0UHlyYW1pZFBpeGVsU2l6ZShlKSxJPU1hdGgucm91bmQoKGEueG1pbi15LngpL3YpJXgsdz1NYXRoLnJvdW5kKChhLnhtYXgteS54KS92KSV4fHx4LGo9TWF0aC5yb3VuZCgoeS55LWEueW1heCkvUyklZyxNPU1hdGgucm91bmQoKHkueS1hLnltaW4pL1MpJWd8fGcsYj1pPT09ZC5taW5Db2w/STowLFQ9dD09PWQubWluUm93P2o6MCxfPWk9PT1kLm1heENvbD93OngsTz10PT09ZC5tYXhSb3c/TTpnO3JldHVybiB1KHAse3g6Yix5OlR9LHt3aWR0aDpfLWIsaGVpZ2h0Ok8tVH0pLHB9Z2V0U2xpY2VJbmRleChlKXtpZighdGhpcy5fc2xpY2VzfHxudWxsPT1lfHwwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgdD1lO2ZvcihsZXQgaT0wO2k8dGhpcy5fc2xpY2VzLmxlbmd0aDtpKyspe2NvbnN0IGU9dGhpcy5fc2xpY2VzW2ldLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uO2lmKGUubGVuZ3RoPT09dC5sZW5ndGgmJiFlLnNvbWUoKGU9Pntjb25zdCBpPXQuZmluZCgodD0+ZS52YXJpYWJsZU5hbWU9PT10LnZhcmlhYmxlTmFtZSYmdC5kaW1lbnNpb25OYW1lPT09ZS5kaW1lbnNpb25OYW1lKSk7aWYoIWkpcmV0dXJuITA7cmV0dXJuKEFycmF5LmlzQXJyYXkoZS52YWx1ZXNbMF0pP2Ake2UudmFsdWVzWzBdWzBdfS0ke2UudmFsdWVzWzBdWzFdfWA6ZS52YWx1ZXNbMF0pIT09KEFycmF5LmlzQXJyYXkoaS52YWx1ZXNbMF0pP2Ake2kudmFsdWVzWzBdWzBdfS0ke2kudmFsdWVzWzBdWzFdfWA6aS52YWx1ZXNbMF0pfSkpKXJldHVybiBpfXJldHVybiBudWxsfWFzeW5jIGZldGNoVmFyaWFibGVTdGF0aXN0aWNzSGlzdG9ncmFtcyhlLHQpe2NvbnN0IGk9dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL3N0YXRpc3RpY3NcIix7cXVlcnk6e3ZhcmlhYmxlOmUsZjpcImpzb25cIn0sc2lnbmFsOnR9KS50aGVuKChlPT5lLmRhdGE/LnN0YXRpc3RpY3MpKSxzPXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9oaXN0b2dyYW1zXCIse3F1ZXJ5Ont2YXJpYWJsZTplLGY6XCJqc29uXCJ9LHNpZ25hbDp0fSkudGhlbigoZT0+ZS5kYXRhPy5oaXN0b2dyYW1zKSkscj1hd2FpdCBQcm9taXNlLmFsbChbaSxzXSk7cmV0dXJuIHJbMF0mJnJbMF0uZm9yRWFjaCgoZT0+e2UuYXZnPWUubWVhbixlLnN0ZGRldj1lLnN0YW5kYXJkRGV2aWF0aW9ufSkpLHtzdGF0aXN0aWNzOnJbMF18fG51bGwsaGlzdG9ncmFtczpyWzFdfHxudWxsfX1hc3luYyBjb21wdXRlQmVzdFB5cmFtaWRMZXZlbEZvckxvY2F0aW9uKGUsdD17fSl7aWYoIXRoaXMuX3RpbGVtYXBDYWNoZSlyZXR1cm4gMDtsZXQgaT10aGlzLmlkZW50aWZ5UGl4ZWxMb2NhdGlvbihlLDAsdC5kYXR1bVRyYW5zZm9ybWF0aW9uKTtpZihudWxsPT09aSlyZXR1cm4gbnVsbDtsZXQgcz0wO2NvbnN0e21heGltdW1QeXJhbWlkTGV2ZWw6cn09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvO2xldCBhPXItcyt0aGlzLl9sZXZlbE9mZnNldDtjb25zdCBsPWkuc3JjTG9jYXRpb247Zm9yKDthPj0wOyl7dHJ5e2lmKFwiYXZhaWxhYmxlXCI9PT1hd2FpdCB0aGlzLl90aWxlbWFwQ2FjaGUuZmV0Y2hBdmFpbGFiaWxpdHkoYSxpLnJvdyxpLmNvbCx0KSlicmVha31jYXRjaHt9aWYoYS0tLHMrKyxpPXRoaXMuaWRlbnRpZnlQaXhlbExvY2F0aW9uKGwscyx0LmRhdHVtVHJhbnNmb3JtYXRpb24pLG51bGw9PT1pKXJldHVybiBudWxsfXJldHVybi0xPT09YXx8bnVsbD09aT9udWxsOnN9YXN5bmMgX2ZldGNoUmFzdGVySW5mbyhlKXtjb25zdCB0PXRoaXMuc291cmNlSlNPTjtpZihcIk1hcFwiPT09dGhpcy50aWxlVHlwZSl7Y29uc3QgZT10LmZ1bGxFeHRlbnR8fHQuZXh0ZW50LGk9TWF0aC5jZWlsKChlLnhtYXgtZS54bWluKS90LnBpeGVsU2l6ZVgtLjEpLHM9TWF0aC5jZWlsKChlLnltYXgtZS55bWluKS90LnBpeGVsU2l6ZVktLjEpLHI9cC5mcm9tSlNPTih0LnNwYXRpYWxSZWZlcmVuY2V8fGUuc3BhdGlhbFJlZmVyZW5jZSksYT1uZXcgZCh7eDp0LnBpeGVsU2l6ZVgseTp0LnBpeGVsU2l6ZVksc3BhdGlhbFJlZmVyZW5jZTpyfSk7cmV0dXJuIG5ldyBsKHt3aWR0aDppLGhlaWdodDpzLGJhbmRDb3VudDozLGV4dGVudDp5LmZyb21KU09OKGUpLHNwYXRpYWxSZWZlcmVuY2U6cixwaXhlbFNpemU6YSxwaXhlbFR5cGU6XCJ1OFwiLHN0YXRpc3RpY3M6bnVsbCxrZXlQcm9wZXJ0aWVzOntEYXRhVHlwZTpcInByb2Nlc3NlZFwifX0pfWNvbnN0e3NpZ25hbDppfT1lLHM9Zih0aGlzLnVybCx0aGlzLnNvdXJjZUpTT04se3NpZ25hbDppLHF1ZXJ5OnRoaXMuaW9Db25maWcuY3VzdG9tRmV0Y2hQYXJhbWV0ZXJzfSkscj10Lmhhc011bHRpZGltZW5zaW9ucz90aGlzLnJlcXVlc3QoYCR7dGhpcy51cmx9L3NsaWNlc2Ase3F1ZXJ5OntmOlwianNvblwifSxzaWduYWw6aX0pLnRoZW4oKGU9PmUuZGF0YSYmZS5kYXRhLnNsaWNlcykpLmNhdGNoKCgoKT0+bnVsbCkpOm51bGwsYT1hd2FpdCBQcm9taXNlLmFsbChbcyxyXSk7cmV0dXJuIHRoaXMuX3NsaWNlcz1hWzFdLGFbMF19X2ZpeFNjYWxlSW5TZXJ2aWNlSW5mbygpe2NvbnN0e3NvdXJjZUpTT046ZX09dGhpcztlLm1pblNjYWxlJiZlLm1pblNjYWxlPDAmJihlLm1pblNjYWxlPTApLGUubWF4U2NhbGUmJmUubWF4U2NhbGU8MCYmKGUubWF4U2NhbGU9MCl9X2ZpeEdDU1NoaWZ0KGUpe2NvbnN0e2V4dGVudDp0LHNwYXRpYWxSZWZlcmVuY2U6aX09ZTt0LnhtaW4+LTEmJnQueG1heD4xODEmJmk/LndraWQmJmkuaXNHZW9ncmFwaGljJiYoZS5uYXRpdmVFeHRlbnQ9ZS5leHRlbnQsZS50cmFuc2Zvcm09bmV3IGgsZS5leHRlbnQ9ZS50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybSh0KSl9X2NvbXB1dGVNaW5NYXhMT0QoZSx0KXtjb25zdHtwaXhlbFNpemU6aX09ZSxzPS41L2Uud2lkdGgqaS54LHtsb2RzOnJ9PXQsYT10LmxvZEF0KE1hdGgubWF4LmFwcGx5KG51bGwsci5tYXAoKGU9PmUubGV2ZWwpKSkpLGw9dC5sb2RBdChNYXRoLm1pbi5hcHBseShudWxsLHIubWFwKChlPT5lLmxldmVsKSkpKSx7dGlsZVR5cGU6b309dGhpcztpZihcIk1hcFwiPT09bylyZXR1cm4gdGhpcy5fbGV2ZWxPZmZzZXQ9clswXS5sZXZlbCxbYSxsXTtpZihcIlJhc3RlclwiPT09byl7cmV0dXJuW3IuZmluZCgoZT0+ZS5yZXNvbHV0aW9uPT09aS54KSk/P2EsbF19Y29uc3R7bWluU2NhbGU6bixtYXhTY2FsZTpjfT10aGlzLnNvdXJjZUpTT047bGV0IG09YTtjPjAmJihtPXIuZmluZCgoZT0+TWF0aC5hYnMoZS5zY2FsZS1jKTxzKSksbXx8KG09ci5maWx0ZXIoKGU9PmUuc2NhbGU+YykpLnNvcnQoKChlLHQpPT5lLnNjYWxlPnQuc2NhbGU/MTotMSkpWzBdPz9hKSk7bGV0IHU9bDtyZXR1cm4gbj4wJiYodT1yLmZpbmQoKGU9Pk1hdGguYWJzKGUuc2NhbGUtbik8cykpPz9sLHRoaXMuX2xldmVsT2Zmc2V0PXUubGV2ZWwtbC5sZXZlbCksW20sdV19fTtmdW5jdGlvbiBnKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7bWluU2NhbGU6aSxtYXhTY2FsZTpzLG1pbkxPRDpyLG1heExPRDphfT10O2lmKG51bGwhPXImJm51bGwhPWEpcmV0dXJuIG4uZnJvbUpTT04oey4uLmUsbG9kczplLmxvZHMuZmlsdGVyKCgoe2xldmVsOmV9KT0+bnVsbCE9ZSYmZT49ciYmZTw9YSkpfSk7aWYoMCE9PWkmJjAhPT1zKXtjb25zdCB0PWU9Pk1hdGgucm91bmQoMWU0KmUpLzFlNCxyPWk/dChpKToxLzAsYT1zP3Qocyk6LTEvMDtyZXR1cm4gbi5mcm9tSlNPTih7Li4uZSxsb2RzOmUubG9kcy5maWx0ZXIoKGU9Pntjb25zdCBpPXQoZS5zY2FsZSk7cmV0dXJuIGk8PXImJmk+PWF9KSl9KX1yZXR1cm4gbi5mcm9tSlNPTihlKX1lKFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0seC5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxlKFtyKCldLHgucHJvdG90eXBlLFwidGlsZVR5cGVcIix2b2lkIDApLHg9ZShbYShcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW1hZ2VTZXJ2ZXJSYXN0ZXJcIildLHgpO2NvbnN0IHY9eDtleHBvcnR7diBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtlYWNoQWx3YXlzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1Jhc3RlckluZm8uanNcIjtpbXBvcnQgYSBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnR7c3BsaXQgYXMgbn1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcGl4ZWxVdGlscy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zIGFzIG19ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtsZXQgYz1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuZGF0YXNldEZvcm1hdD1cIk1FTU9SWVwiLHRoaXMuZGF0YT1udWxsfWFzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgZT10aGlzLmRhdGEse3BpeGVsQmxvY2s6cyxzdGF0aXN0aWNzOnIsaGlzdG9ncmFtczppLG5hbWU6YSxrZXlQcm9wZXJ0aWVzOm4sbmF0aXZlRXh0ZW50Om0sdHJhbnNmb3JtOmN9PXRoaXMuZGF0YSx7d2lkdGg6aCxoZWlnaHQ6ZixwaXhlbFR5cGU6dX09cyxkPWUuZXh0ZW50Pz9uZXcgbCh7eG1pbjotLjUseW1pbjouNSx4bWF4OmgtLjUseW1heDpmLS41LHNwYXRpYWxSZWZlcmVuY2U6bmV3IHAoe3draWQ6Mzg1N30pfSkseT1lLmlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZT8/IWUuZXh0ZW50LHg9e3g6ZC53aWR0aC9oLHk6ZC5oZWlnaHQvZn0sZz1uZXcgbyh7d2lkdGg6aCxoZWlnaHQ6ZixwaXhlbFR5cGU6dSxleHRlbnQ6ZCxuYXRpdmVFeHRlbnQ6bSx0cmFuc2Zvcm06YyxwaXhlbFNpemU6eCxzcGF0aWFsUmVmZXJlbmNlOmQuc3BhdGlhbFJlZmVyZW5jZSxiYW5kQ291bnQ6cy5waXhlbHMubGVuZ3RoLGtleVByb3BlcnRpZXM6bnx8e30sc3RhdGlzdGljczpyLGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTp5LGhpc3RvZ3JhbXM6aX0pO3RoaXMuY3JlYXRlUmVtb3RlRGF0YXNldFN0b3JhZ2VJbmZvKGcsNTEyLDUxMiksdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLGcpLHRoaXMudXBkYXRlVGlsZUluZm8oKSxhd2FpdCB0aGlzLl9idWlsZEluTWVtb3J5UmFzdGVyKHMse3dpZHRoOjUxMixoZWlnaHQ6NTEyfSx0KSx0aGlzLmRhdGFzZXROYW1lPWEsdGhpcy51cmw9XCIvSW5NZW1vcnkvXCIrYX1mZXRjaFJhd1RpbGUodCxlLHMscj17fSl7Y29uc3QgaT10aGlzLl9waXhlbEJsb2NrVGlsZXMuZ2V0KGAke3R9LyR7ZX0vJHtzfWApO3JldHVybiBQcm9taXNlLnJlc29sdmUoaSl9YXN5bmMgX2J1aWxkSW5NZW1vcnlSYXN0ZXIodCxyLGkpe2NvbnN0IG89dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWwsYT10aGlzLnJhc3RlckpvYkhhbmRsZXI/dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLnNwbGl0KHtwaXhlbEJsb2NrOnQsdGlsZVNpemU6cixtYXhpbXVtUHlyYW1pZExldmVsOm99LGkpOlByb21pc2UucmVzb2x2ZShuKHQscixvKSksbD1udWxsIT10aGlzLnJhc3RlckluZm8uc3RhdGlzdGljcyxwPW51bGwhPXRoaXMucmFzdGVySW5mby5oaXN0b2dyYW1zLGM9bD9Qcm9taXNlLnJlc29sdmUoe3N0YXRpc3RpY3M6bnVsbCxoaXN0b2dyYW1zOm51bGx9KTp0aGlzLnJhc3RlckpvYkhhbmRsZXI/dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLmVzdGltYXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMoe3BpeGVsQmxvY2s6dH0saSk6UHJvbWlzZS5yZXNvbHZlKG0odCkpLGg9YXdhaXQgcyhbYSxjXSk7aWYoIWhbMF0udmFsdWUmJmhbMV0udmFsdWUpdGhyb3cgbmV3IGUoXCJpbm1lbW9yeS1yYXN0ZXI6b3BlblwiLFwiZmFpbGVkIHRvIGJ1aWxkIGluIG1lbW9yeSByYXN0ZXJcIik7dGhpcy5fcGl4ZWxCbG9ja1RpbGVzPWhbMF0udmFsdWUsbHx8KHRoaXMucmFzdGVySW5mby5zdGF0aXN0aWNzPWhbMV0udmFsdWU/LnN0YXRpc3RpY3MpLHB8fCh0aGlzLnJhc3RlckluZm8uaGlzdG9ncmFtcz1oWzFdLnZhbHVlPy5oaXN0b2dyYW1zKX19O3QoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxjLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLHQoW3IoKV0sYy5wcm90b3R5cGUsXCJkYXRhXCIsdm9pZCAwKSxjPXQoW2koXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkluTWVtb3J5UmFzdGVyXCIpXSxjKTtjb25zdCBoPWM7ZXhwb3J0e2ggYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL1BpeGVsQmxvY2suanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgbiBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnR7cGFyc2VTcGF0aWFsUmVmZXJlbmNlIGFzIGwscGFyc2VQQU1JbmZvIGFzIGZ9ZnJvbVwiLi9wYW1QYXJzZXIuanNcIjtpbXBvcnR7Z2V0RWxlbWVudCBhcyBjLGdldEVsZW1lbnRWYWx1ZSBhcyBwfWZyb21cIi4veG1sVXRpbGl0aWVzLmpzXCI7aW1wb3J0e2lzUGxhdGZvcm1MaXR0bGVFbmRpYW4gYXMgbX1mcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL3V0aWxzLmpzXCI7aW1wb3J0e2VzdGltYXRlU3RhdGlzdGljc0Zyb21IaXN0b2dyYW1zIGFzIGh9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IHk9bmV3IE1hcDt5LnNldChcIkludDhcIixcInM4XCIpLHkuc2V0KFwiVUludDhcIixcInU4XCIpLHkuc2V0KFwiSW50MTZcIixcInMxNlwiKSx5LnNldChcIlVJbnQxNlwiLFwidTE2XCIpLHkuc2V0KFwiSW50MzJcIixcInMzMlwiKSx5LnNldChcIlVJbnQzMlwiLFwidTMyXCIpLHkuc2V0KFwiRmxvYXQzMlwiLFwiZjMyXCIpLHkuc2V0KFwiRmxvYXQ2NFwiLFwiZjMyXCIpLHkuc2V0KFwiRG91YmxlNjRcIixcImYzMlwiKTtjb25zdCB4PW5ldyBNYXA7eC5zZXQoXCJub25lXCIse2Jsb2JFeHRlbnNpb246XCIudGlsXCIsaXNPbmVTZWdtZW50OiEwLGRlY29kZXJGb3JtYXQ6XCJiaXBcIn0pLHguc2V0KFwibGVyY1wiLHtibG9iRXh0ZW5zaW9uOlwiLmxyY1wiLGlzT25lU2VnbWVudDohMSxkZWNvZGVyRm9ybWF0OlwibGVyY1wifSkseC5zZXQoXCJkZWZsYXRlXCIse2Jsb2JFeHRlbnNpb246XCIucHpwXCIsaXNPbmVTZWdtZW50OiEwLGRlY29kZXJGb3JtYXQ6XCJkZWZsYXRlXCJ9KSx4LnNldChcImpwZWdcIix7YmxvYkV4dGVuc2lvbjpcIi5wamdcIixpc09uZVNlZ21lbnQ6ITAsZGVjb2RlckZvcm1hdDpcImpwZ1wifSk7bGV0IHc9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9maWxlcz1udWxsLHRoaXMuX3N0b3JhZ2VJbmRleD1udWxsLHRoaXMuZGF0YXNldEZvcm1hdD1cIk1SRlwifWFzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCksdGhpcy5kYXRhc2V0TmFtZT10aGlzLnVybC5zbGljZSh0aGlzLnVybC5sYXN0SW5kZXhPZihcIi9cIikrMSk7Y29uc3QgZT10P3Quc2lnbmFsOm51bGwscj1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwse3Jlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDplfSkse3Jhc3RlckluZm86cyxmaWxlczpvfT10aGlzLl9wYXJzZUhlYWRlcihyLmRhdGEpO2lmKC0xPT09dGhpcy5pb0NvbmZpZy5za2lwRXh0ZW5zaW9ucz8uaW5kZXhPZihcImF1eC54bWxcIikpe2NvbnN0IGU9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlEYXRhKHQpO251bGwhPWUmJihzLnN0YXRpc3RpY3M9ZS5zdGF0aXN0aWNzPz9zLnN0YXRpc3RpY3Mscy5oaXN0b2dyYW1zPWUuaGlzdG9ncmFtcyxlLmhpc3RvZ3JhbXMmJm51bGw9PXMuc3RhdGlzdGljcyYmKHMuc3RhdGlzdGljcz1oKGUuaGlzdG9ncmFtcykpKX10aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIscyksdGhpcy5fZmlsZXM9bztjb25zdCBpPWF3YWl0IHRoaXMucmVxdWVzdChvLmluZGV4LHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6ZX0pO3RoaXMuX3N0b3JhZ2VJbmRleD10aGlzLl9wYXJzZUluZGV4KGkuZGF0YSk7Y29uc3R7YmxvY2tXaWR0aDphLGJsb2NrSGVpZ2h0Om59PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbyxsPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5weXJhbWlkU2NhbGluZ0ZhY3Rvcix7d2lkdGg6ZixoZWlnaHQ6Y309dGhpcy5yYXN0ZXJJbmZvLHA9W10sbT10aGlzLl9nZXRCYW5kU2VnbWVudENvdW50KCk7bGV0IHU9MCxnPS0xO2Zvcig7dTx0aGlzLl9zdG9yYWdlSW5kZXgubGVuZ3RoOyl7ZysrO2NvbnN0IHQ9TWF0aC5jZWlsKGYvYS9sKipnKS0xLGU9TWF0aC5jZWlsKGMvbi9sKipnKS0xO3UrPSh0KzEpKihlKzEpKm0qNCxwLnB1c2goe21heFJvdzplLG1heENvbDp0LG1pbkNvbDowLG1pblJvdzowfSl9dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnk9cCxnPjAmJih0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uZmlyc3RQeXJhbWlkTGV2ZWw9MSx0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ubWF4aW11bVB5cmFtaWRMZXZlbD1nKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKCl9YXN5bmMgZmV0Y2hSYXdUaWxlKHQsZSxyLHM9e30pe2NvbnN0e2Jsb2NrV2lkdGg6aSxibG9ja0hlaWdodDphLGJsb2NrQm91bmRhcnk6bn09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLGw9blt0XTtpZighbHx8bC5tYXhSb3c8ZXx8bC5tYXhDb2w8cnx8bC5taW5Sb3c+ZXx8bC5taW5Db2w+cilyZXR1cm4gbnVsbDtjb25zdHtiYW5kQ291bnQ6ZixwaXhlbFR5cGU6Y309dGhpcy5yYXN0ZXJJbmZvLHtyYW5nZXM6cCxhY3R1YWxUaWxlV2lkdGg6bSxhY3R1YWxUaWxlSGVpZ2h0Omh9PXRoaXMuX2dldFRpbGVMb2NhdGlvbih0LGUscik7aWYoIXB8fDA9PT1wLmxlbmd0aClyZXR1cm4gbnVsbDtpZigwPT09cFswXS5mcm9tJiYwPT09cFswXS50byl7Y29uc3QgdD1uZXcgVWludDhBcnJheShpKmEpO3JldHVybiBuZXcgbyh7d2lkdGg6aSxoZWlnaHQ6YSxwaXhlbHM6bnVsbCxtYXNrOnQsdmFsaWRQaXhlbENvdW50OjB9KX1jb25zdHtiYW5kSWRzOnV9PXRoaXMuaW9Db25maWcsZz10aGlzLl9nZXRCYW5kU2VnbWVudENvdW50KCksZD1bXTtsZXQgeT0wO2Zvcih5PTA7eTxnO3krKyl1JiYhdS5pbmNsdWRlcyh5KXx8ZC5wdXNoKHRoaXMucmVxdWVzdCh0aGlzLl9maWxlcy5kYXRhLHtyYW5nZTp7ZnJvbTpwW3ldLmZyb20sdG86cFt5XS50b30scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnMuc2lnbmFsfSkpO2NvbnN0IHc9YXdhaXQgUHJvbWlzZS5hbGwoZCksST13Lm1hcCgodD0+dC5kYXRhLmJ5dGVMZW5ndGgpKS5yZWR1Y2UoKCh0LGUpPT50K2UpKSxiPW5ldyBVaW50OEFycmF5KEkpO2xldCBBPTA7Zm9yKHk9MDt5PGc7eSsrKWIuc2V0KG5ldyBVaW50OEFycmF5KHdbeV0uZGF0YSksQSksQSs9d1t5XS5kYXRhLmJ5dGVMZW5ndGg7Y29uc3QgRj14LmdldCh0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uY29tcHJlc3Npb24pLmRlY29kZXJGb3JtYXQsXz1hd2FpdCB0aGlzLmRlY29kZVBpeGVsQmxvY2soYi5idWZmZXIse3dpZHRoOmksaGVpZ2h0OmEsZm9ybWF0OkYscGxhbmVzOnU/Lmxlbmd0aHx8ZixwaXhlbFR5cGU6Y30pO2lmKG51bGw9PV8pcmV0dXJuIG51bGw7bGV0e25vRGF0YVZhbHVlOlJ9PXRoaXMucmFzdGVySW5mbztpZihudWxsIT1SJiZcImxlcmNcIiE9PUYmJiFfLm1hc2smJihSPVJbMF0sbnVsbCE9Uikpe2NvbnN0IHQ9Xy53aWR0aCpfLmhlaWdodCxlPW5ldyBVaW50OEFycmF5KHQpO2lmKE1hdGguYWJzKFIpPjFlMjQpZm9yKHk9MDt5PHQ7eSsrKU1hdGguYWJzKChfLnBpeGVsc1swXVt5XS1SKS9SKT4xZS02JiYoZVt5XT0xKTtlbHNlIGZvcih5PTA7eTx0O3krKylfLnBpeGVsc1swXVt5XSE9PVImJihlW3ldPTEpO18ubWFzaz1lfWxldCBTPTAsaj0wO2lmKG0hPT1pfHxoIT09YSl7bGV0IHQ9Xy5tYXNrO2lmKHQpZm9yKHk9MDt5PGE7eSsrKWlmKGo9eSppLHk8aClmb3IoUz1tO1M8aTtTKyspdFtqK1NdPTA7ZWxzZSBmb3IoUz0wO1M8aTtTKyspdFtqK1NdPTA7ZWxzZSBmb3IodD1uZXcgVWludDhBcnJheShpKmEpLF8ubWFzaz10LHk9MDt5PGg7eSsrKWZvcihqPXkqaSxTPTA7UzxtO1MrKyl0W2orU109MX1yZXR1cm4gX31fcGFyc2VJbmRleCh0KXtpZih0LmJ5dGVMZW5ndGglMTY+MCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFycmF5IGJ1ZmZlciBtdXN0IGJlIG11bHRpcGxlcyBvZiAxNlwiKTtsZXQgZSxyLHMsbyxpLGE7aWYobSl7Zm9yKHI9bmV3IFVpbnQ4QXJyYXkodCksbz1uZXcgQXJyYXlCdWZmZXIodC5ieXRlTGVuZ3RoKSxzPW5ldyBVaW50OEFycmF5KG8pLGk9MDtpPHQuYnl0ZUxlbmd0aC80O2krKylmb3IoYT0wO2E8NDthKyspc1s0KmkrYV09cls0KmkrMy1hXTtlPW5ldyBVaW50MzJBcnJheShvKX1lbHNlIGU9bmV3IFVpbnQzMkFycmF5KHQpO3JldHVybiBlfV9nZXRCYW5kU2VnbWVudENvdW50KCl7cmV0dXJuIHguZ2V0KHRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5jb21wcmVzc2lvbikuaXNPbmVTZWdtZW50PzE6dGhpcy5yYXN0ZXJJbmZvLmJhbmRDb3VudH1fZ2V0VGlsZUxvY2F0aW9uKHQsZSxyKXtjb25zdHtibG9ja1dpZHRoOnMsYmxvY2tIZWlnaHQ6byxweXJhbWlkU2NhbGluZ0ZhY3RvcjppfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se3dpZHRoOmEsaGVpZ2h0Om59PXRoaXMucmFzdGVySW5mbyxsPXRoaXMuX2dldEJhbmRTZWdtZW50Q291bnQoKTtsZXQgZixjLHAsbT0wLGg9MDtmb3IocD0wO3A8dDtwKyspaD1pKipwLGY9TWF0aC5jZWlsKGEvcy9oKSxjPU1hdGguY2VpbChuL28vaCksbSs9ZipjO2g9aSoqdCxmPU1hdGguY2VpbChhL3MvaCksYz1NYXRoLmNlaWwobi9vL2gpLG0rPWUqZityLG0qPTQqbDtjb25zdCB1PXRoaXMuX3N0b3JhZ2VJbmRleC5zdWJhcnJheShtLG0rNCpsKTtsZXQgZz0wLGQ9MDtjb25zdCB5PVtdO2ZvcihsZXQgeD0wO3g8bDt4KyspZz11WzQqeF0qMioqMzIrdVs0KngrMV0sZD1nK3VbNCp4KzJdKjIqKjMyK3VbNCp4KzNdLHkucHVzaCh7ZnJvbTpnLHRvOmR9KTtyZXR1cm57cmFuZ2VzOnksYWN0dWFsVGlsZVdpZHRoOnI8Zi0xP3M6TWF0aC5jZWlsKGEvaCktcyooZi0xKSxhY3R1YWxUaWxlSGVpZ2h0OmU8Yy0xP286TWF0aC5jZWlsKG4vaCktbyooYy0xKX19X3BhcnNlSGVhZGVyKHQpe2NvbnN0IHI9Yyh0LFwiTVJGX01FVEEvUmFzdGVyXCIpO2lmKCFyKXRocm93IG5ldyBlKFwibXJmOm9wZW5cIixcIm5vdCBhIHZhbGlkIE1SRiBmb3JtYXRcIik7Y29uc3Qgcz1jKHIsXCJTaXplXCIpLG89cGFyc2VJbnQocy5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSxuPXBhcnNlSW50KHMuZ2V0QXR0cmlidXRlKFwieVwiKSwxMCksZj1wYXJzZUludChzLmdldEF0dHJpYnV0ZShcImNcIiksMTApLG09KHAocixcIkNvbXByZXNzaW9uXCIpfHxcIm5vbmVcIikudG9Mb3dlckNhc2UoKTtpZigheC5oYXMobSkpdGhyb3cgbmV3IGUoXCJtcmY6b3BlblwiLFwiY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgY29tcHJlc3Npb24gXCIrbSk7Y29uc3QgaD1wKHIsXCJEYXRhVHlwZVwiKXx8XCJVSW50OFwiLHc9eS5nZXQoaCk7aWYobnVsbD09dyl0aHJvdyBuZXcgZShcIm1yZjpvcGVuXCIsXCJjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBwaXhlbCB0eXBlIFwiK2gpO2NvbnN0IEk9YyhyLFwiUGFnZVNpemVcIiksYj1wYXJzZUludChJLmdldEF0dHJpYnV0ZShcInhcIiksMTApLEE9cGFyc2VJbnQoSS5nZXRBdHRyaWJ1dGUoXCJ5XCIpLDEwKSxGPWMocixcIkRhdGFWYWx1ZXNcIik7bGV0IF8sUjtGJiYoUj1GLmdldEF0dHJpYnV0ZShcIk5vRGF0YVwiKSxudWxsIT1SJiYoXz1SLnRyaW0oKS5zcGxpdChcIiBcIikubWFwKCh0PT5wYXJzZUZsb2F0KHQpKSkpKTtpZihjKHQsXCJNUkZfTUVUQS9DYWNoZWRTb3VyY2VcIikpdGhyb3cgbmV3IGUoXCJtcmY6b3BlblwiLFwiY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgTVJGIHJlZmVyZW5jaW5nIG90aGVyIGRhdGEgZmlsZXNcIik7Y29uc3QgUz1jKHQsXCJNUkZfTUVUQS9HZW9UYWdzXCIpLGo9YyhTLFwiQm91bmRpbmdCb3hcIik7bGV0IGssTT0hMTtpZihudWxsIT1qKXtjb25zdCB0PXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtaW54XCIpKSxlPXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtaW55XCIpKSxyPXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtYXh4XCIpKSxzPXBhcnNlRmxvYXQoai5nZXRBdHRyaWJ1dGUoXCJtYXh5XCIpKSxvPXAoUyxcIlByb2plY3Rpb25cIil8fFwiXCI7bGV0IGk9dS5XR1M4NDtpZihcIkxPQ0FMX0NTW11cIiE9PW8paWYoby50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCJlcHNnOlwiKSl7Y29uc3QgdD1OdW1iZXIoby5zbGljZSg1KSk7aXNOYU4odCl8fDA9PT10fHwoaT1uZXcgdSh7d2tpZDp0fSkpfWVsc2UgaT1sKG8pPz91LldHUzg0O2Vsc2UgTT0hMCxpPW5ldyB1KHt3a2lkOjM4NTd9KTtrPW5ldyBnKHQsZSxyLHMpLGsuc3BhdGlhbFJlZmVyZW5jZT1pfWVsc2UgTT0hMCxrPW5ldyBnKHt4bWluOi0uNSx5bWluOi41LW4seG1heDpvLS41LHltYXg6LjUsc3BhdGlhbFJlZmVyZW5jZTpuZXcgdSh7d2tpZDozODU3fSl9KTtjb25zdCBUPWModCxcIk1SRl9NRVRBL1JzZXRzXCIpLEM9cGFyc2VJbnQoVCYmVC5nZXRBdHRyaWJ1dGUoXCJzY2FsZVwiKXx8XCIyXCIsMTApLFU9ay5zcGF0aWFsUmVmZXJlbmNlLEI9bmV3IGEoe29yaWdpbjpuZXcgZCh7eDprLnhtaW4seTprLnltYXgsc3BhdGlhbFJlZmVyZW5jZTpVfSksYmxvY2tXaWR0aDpiLGJsb2NrSGVpZ2h0OkEscHlyYW1pZEJsb2NrV2lkdGg6YixweXJhbWlkQmxvY2tIZWlnaHQ6QSxjb21wcmVzc2lvbjptLHB5cmFtaWRTY2FsaW5nRmFjdG9yOkN9KSxFPW5ldyBkKHt4Omsud2lkdGgvbyx5OmsuaGVpZ2h0L24sc3BhdGlhbFJlZmVyZW5jZTpVfSksTD1uZXcgaSh7d2lkdGg6byxoZWlnaHQ6bixleHRlbnQ6ayxpc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U6TSxzcGF0aWFsUmVmZXJlbmNlOlUsYmFuZENvdW50OmYscGl4ZWxUeXBlOncscGl4ZWxTaXplOkUsbm9EYXRhVmFsdWU6XyxzdG9yYWdlSW5mbzpCfSksUD1wKHQsXCJkYXRhZmlsZVwiKSxXPXAodCxcIkluZGV4RmlsZVwiKTtyZXR1cm57cmFzdGVySW5mbzpMLGZpbGVzOnttcmY6dGhpcy51cmwsaW5kZXg6V3x8dGhpcy51cmwucmVwbGFjZShcIi5tcmZcIixcIi5pZHhcIiksZGF0YTpQfHx0aGlzLnVybC5yZXBsYWNlKFwiLm1yZlwiLHguZ2V0KG0pLmJsb2JFeHRlbnNpb24pfX19YXN5bmMgX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KXt0cnl7Y29uc3R7ZGF0YTplfT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIuYXV4LnhtbFwiLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6dD8uc2lnbmFsfSk7cmV0dXJuIGYoZSl9Y2F0Y2h7cmV0dXJuIG51bGx9fX07dChbcigpXSx3LnByb3RvdHlwZSxcIl9maWxlc1wiLHZvaWQgMCksdChbcigpXSx3LnByb3RvdHlwZSxcIl9zdG9yYWdlSW5kZXhcIix2b2lkIDApLHQoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSx3LnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLHc9dChbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVySU8uTVJGUmFzdGVyXCIpXSx3KTtjb25zdCBJPXc7ZXhwb3J0e0kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBlIGZyb21cIi4vQ2xvdWRSYXN0ZXIuanNcIjtpbXBvcnQgciBmcm9tXCIuL0ltYWdlQXV4UmFzdGVyLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9JbWFnZVNlcnZlclJhc3Rlci5qc1wiO2ltcG9ydCBvIGZyb21cIi4vTVJGUmFzdGVyLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9USUZGUmFzdGVyLmpzXCI7Y29uc3QgYz1uZXcgTWFwO2Muc2V0KFwiQ1JGXCIse2Rlc2M6XCJDbG91ZCBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6ZX0pLGMuc2V0KFwiTVJGXCIse2Rlc2M6XCJNZXRhIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpvfSksYy5zZXQoXCJUSUZGXCIse2Rlc2M6XCJHZW9USUZGXCIsY29uc3RydWN0b3I6YX0pLGMuc2V0KFwiUmFzdGVyVGlsZVNlcnZlclwiLHtkZXNjOlwiUmFzdGVyIFRpbGUgU2VydmVyXCIsY29uc3RydWN0b3I6c30pLGMuc2V0KFwiSlBHXCIse2Rlc2M6XCJKUEcgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOnJ9KSxjLnNldChcIlBOR1wiLHtkZXNjOlwiUE5HIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpyfSksYy5zZXQoXCJHSUZcIix7ZGVzYzpcIkdJRiBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6cn0pLGMuc2V0KFwiQk1QXCIse2Rlc2M6XCJCTVAgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOnJ9KTtjbGFzcyBue3N0YXRpYyBnZXQgc3VwcG9ydGVkRm9ybWF0cygpe2NvbnN0IHQ9bmV3IFNldDtyZXR1cm4gYy5mb3JFYWNoKCgoZSxyKT0+dC5hZGQocikpKSx0fXN0YXRpYyBhc3luYyBvcGVuKGUpe2NvbnN0e3VybDpyLGlvQ29uZmlnOnMsc291cmNlSlNPTjpvfT1lO2xldCBhPWUuZGF0YXNldEZvcm1hdDtudWxsPT1hJiZyLmxhc3RJbmRleE9mKFwiLlwiKSYmKGE9ci5zbGljZShyLmxhc3RJbmRleE9mKFwiLlwiKSsxKS50b1VwcGVyQ2FzZSgpKSxcIk9WUlwiPT09YXx8XCJUSUZcIj09PWE/YT1cIlRJRkZcIjpcIkpQR1wiIT09YSYmXCJKUEVHXCIhPT1hJiZcIkpGSUZcIiE9PWF8fChhPVwiSlBHXCIpLHIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIi9pbWFnZXNlcnZlclwiKSYmIXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIi93Y3NzZXJ2ZXJcIikmJihhPVwiUmFzdGVyVGlsZVNlcnZlclwiKTtjb25zdCBuPXt1cmw6cixzb3VyY2VKU09OOm8sZGF0YXNldEZvcm1hdDphLGlvQ29uZmlnOnM/P3tiYW5kSWRzOm51bGwsc2FtcGxpbmc6bnVsbH19O2xldCBsLGk7aWYoYSYmdGhpcy5zdXBwb3J0ZWRGb3JtYXRzLmhhcyhhKSl7aWYoXCJDUkZcIj09PWEmJiFzPy5lbmFibGVDUkYpdGhyb3cgbmV3IHQoXCJyYXN0ZXJmYWN0b3J5Om9wZW5cIixgY2Fubm90IG9wZW4gcmFzdGVyOiAke3J9YCk7cmV0dXJuIGw9Yy5nZXQoYSkuY29uc3RydWN0b3IsaT1uZXcgbChuKSxhd2FpdCBpLm9wZW4oe3NpZ25hbDplLnNpZ25hbH0pLGl9aWYoYSl0aHJvdyBuZXcgdChcInJhc3RlcmZhY3Rvcnk6b3BlblwiLFwibm90IGEgc3VwcG9ydGVkIGZvcm1hdCBcIithKTtjb25zdCB1PUFycmF5LmZyb20oYy5rZXlzKCkpO2xldCBGPTA7Y29uc3QgbT0oKT0+KGE9dVtGKytdLGEmJihcIkNSRlwiIT09YXx8cz8uZW5hYmxlQ1JGKT8obD1jLmdldChhKS5jb25zdHJ1Y3RvcixpPW5ldyBsKG4pLGkub3Blbih7c2lnbmFsOmUuc2lnbmFsfSkudGhlbigoKCk9PmkpKS5jYXRjaCgoKCk9Pm0oKSkpKTpudWxsKTtyZXR1cm4gbSgpfXN0YXRpYyByZWdpc3Rlcih0LGUscil7Yy5oYXModC50b1VwcGVyQ2FzZSgpKXx8Yy5zZXQodC50b1VwcGVyQ2FzZSgpLHtkZXNjOmUsY29uc3RydWN0b3I6cn0pfX1leHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi9FcGhlbWVyYWxCbG9ja0NhY2hlLmpzXCI7aW1wb3J0e3Byb2plY3RFeHRlbnQgYXMgdCxwcm9qZWN0UmVzb2x1dGlvbiBhcyBuLHNuYXBQeXJhbWlkIGFzIG99ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3Jhc3RlclByb2plY3Rpb25IZWxwZXIuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IHI9bmV3IE1hcCxjPW5ldyBlO2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm4gbnVsbD09dD9lOmAke2V9P3NsaWNlSWQ9JHt0fWB9ZnVuY3Rpb24gdShlLHQpe2NvbnN0IG49e2V4dGVudDpudWxsLHJhc3RlckluZm86dCxjYWNoZTpuZXcgTWFwfSxvPXIuZ2V0KGUpO3JldHVybiBvPyhvLnB1c2gobiksby5sZW5ndGgtMSk6KHIuc2V0KGUsW25dKSwwKX1mdW5jdGlvbiBhKGUsdCl7Y29uc3Qgbj1yLmdldChlKTtuJiYoblt0XT1udWxsLG4uc29tZSgoZT0+bnVsbCE9ZSkpfHxyLmRlbGV0ZShlKSl9ZnVuY3Rpb24gZihlKXtyLmRlbGV0ZShlKX1mdW5jdGlvbiBzKGUsdCxuKXtjb25zdCBvPXIuZ2V0KGUpO2lmKCFvKXJldHVybiBudWxsPT10P2MuZGVjcmVhc2VSZWZDb3VudChlLG4pOjA7aWYobnVsbD09dHx8bnVsbD09b1t0XSlyZXR1cm4gYy5kZWNyZWFzZVJlZkNvdW50KGUsbik7Y29uc3QgbD1vW3RdPy5jYWNoZSxpPWw/LmdldChuKTtpZihsJiZpKXtpZihpLnJlZkNvdW50LS0sMD09PWkucmVmQ291bnQpe2wuZGVsZXRlKG4pO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKW9bZV0/LmNhY2hlLmRlbGV0ZShuKTtpLmNvbnRyb2xsZXImJmkuY29udHJvbGxlci5hYm9ydCgpfXJldHVybiBpLnJlZkNvdW50fXJldHVybiAwfWZ1bmN0aW9uIG0oZSx0LG4pe2NvbnN0IG89ci5nZXQoZSk7aWYoIW8pcmV0dXJuIG51bGw9PXQ/Yy5nZXRCbG9jayhlLG4pOm51bGw7aWYobnVsbD09dHx8bnVsbD09b1t0XSl7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IHQ9b1tlXT8uY2FjaGUuZ2V0KG4pO2lmKHQpcmV0dXJuIHQucmVmQ291bnQrKyx0LmJsb2NrfXJldHVybiBjLmdldEJsb2NrKGUsbil9Y29uc3QgbD1vW3RdPy5jYWNoZS5nZXQobik7aWYobClyZXR1cm4gbC5yZWZDb3VudCsrLGwuYmxvY2s7Zm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspe2lmKHI9PT10fHwhb1tyXSljb250aW51ZTtjb25zdCBlPW9bcl0/LmNhY2hlLGw9ZT8uZ2V0KG4pO2lmKGUmJmwpcmV0dXJuIGwucmVmQ291bnQrKyxlLnNldChuLGwpLGwuYmxvY2t9cmV0dXJuIG51bGx9ZnVuY3Rpb24geChlLHQsbixvLGw9bnVsbCl7Y29uc3QgaT1yLmdldChlKTtpZighaSlyZXR1cm4gdm9pZChudWxsPT10JiZjLnB1dEJsb2NrKGUsbixvLGwpKTtpZihudWxsPT10fHxudWxsPT1pW3RdKXJldHVybiB2b2lkIGMucHV0QmxvY2soZSxuLG8sbCk7Y29uc3QgdT17cmVmQ291bnQ6MSxibG9jazpvLGlzUmVzb2x2ZWQ6ITEsaXNSZWplY3RlZDohMSxjb250cm9sbGVyOmx9O28udGhlbigoKCk9PnUuaXNSZXNvbHZlZD0hMCkpLmNhdGNoKCgoKT0+dS5pc1JlamVjdGVkPSEwKSksaVt0XT8uY2FjaGUuc2V0KG4sdSl9ZnVuY3Rpb24gaChlLHQsbil7Y29uc3Qgbz1yLmdldChlKTtvP251bGwhPXQmJm51bGwhPW9bdF0/b1t0XT8uY2FjaGUuZGVsZXRlKG4pOmMuZGVsZXRlQmxvY2soZSxuKTpudWxsPT10JiZjLmRlbGV0ZUJsb2NrKGUsbil9ZnVuY3Rpb24gZChlLHQpe2NvbnN0IG49ci5nZXQoZSk7cmV0dXJuIG4/blt0XT8/bnVsbDpudWxsfWZ1bmN0aW9uIGcoZSxyLGMsaSx1LGEsZj1udWxsKXtjb25zdCBzPWQoZSxyKTtpZighcylyZXR1cm47Y29uc3QgbT1zLmV4dGVudCx7Y2FjaGU6eCxyYXN0ZXJJbmZvOmh9PXM7aWYobSYmbS54bWluPT09Yy54bWluJiZtLnhtYXg9PT1jLnhtYXgmJm0ueW1pbj09PWMueW1pbiYmbS55bWF4PT09Yy55bWF4KXJldHVybjtpPWk/PzA7Y29uc3QgZz1jLmNsb25lKCkubm9ybWFsaXplKCkse3NwYXRpYWxSZWZlcmVuY2U6eSx0cmFuc2Zvcm06cH09aCxrPW5ldyBTZXQ7Zm9yKGxldCBkPTA7ZDxnLmxlbmd0aDtkKyspe2NvbnN0IGU9Z1tkXTtpZihlLnhtYXgtZS54bWluPD1pfHxlLnltYXgtZS55bWluPD1pKWNvbnRpbnVlO2xldCByPXQoZSx5LGYpO251bGwhPXAmJihyPXAuaW52ZXJzZVRyYW5zZm9ybShyKSk7Y29uc3QgYz1uZXcgbCh7eDppLHk6aSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pO2lmKG51bGw9PXUmJiEodT1uKGMseSxlLGYpKSlyZXR1cm47Y29uc3R7cHlyYW1pZExldmVsOnMscHlyYW1pZFJlc29sdXRpb246bSxleGNlc3NpdmVSZWFkaW5nOnh9PW8odSxoLGF8fFwiY2xvc2VzdFwiKTtpZih4KXJldHVybjtjb25zdHtzdG9yYWdlSW5mbzpNfT1oLHtvcmlnaW46Un09TSxDPXt4Ok1hdGgubWF4KDAsTWF0aC5mbG9vcigoci54bWluLVIueCkvbS54KSkseTpNYXRoLm1heCgwLE1hdGguZmxvb3IoKFIueS1yLnltYXgpL20ueSkpfSxCPU1hdGguY2VpbCgoci54bWF4LXIueG1pbikvbS54LS4xKSxqPU1hdGguY2VpbCgoci55bWF4LXIueW1pbikvbS55LS4xKSx2PXM+MD9NLnB5cmFtaWRCbG9ja1dpZHRoOk0uYmxvY2tXaWR0aCxiPXM+MD9NLnB5cmFtaWRCbG9ja0hlaWdodDpNLmJsb2NrSGVpZ2h0LHc9MSwkPU1hdGgubWF4KDAsTWF0aC5mbG9vcihDLngvdiktdyksST1NYXRoLm1heCgwLE1hdGguZmxvb3IoQy55L2IpLXcpLEg9TWF0aC5mbG9vcigoQy54K0ItMSkvdikrdyxFPU1hdGguZmxvb3IoKEMueStqLTEpL2IpK3c7Zm9yKGxldCB0PUk7dDw9RTt0KyspZm9yKGxldCBlPSQ7ZTw9SDtlKyspay5hZGQoYCR7c30vJHt0fS8ke2V9YCl9eC5mb3JFYWNoKCgoZSx0KT0+e2lmKCFrLmhhcyh0KSl7Y29uc3QgZT14LmdldCh0KTsobnVsbD09ZXx8ZS5pc1Jlc29sdmVkfHxlLmlzUmVqZWN0ZWQpJiZ4LmRlbGV0ZSh0KX19KSkscy5leHRlbnQ9e3htaW46Yy54bWluLHltaW46Yy55bWluLHhtYXg6Yy54bWF4LHltYXg6Yy55bWF4fX1leHBvcnR7cyBhcyBkZWNyZWFzZVJlZkNvdW50LGggYXMgZGVsZXRlQmxvY2ssZiBhcyBkZWxldGVSYXN0ZXIsbSBhcyBnZXRCbG9jayxpIGFzIGdldFJhc3RlcklkLHggYXMgcHV0QmxvY2ssdSBhcyByZWdpc3RlcixhIGFzIHVucmVnaXN0ZXIsZyBhcyB1cGRhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7aXNTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL1Jhc3RlckluZm8uanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9SYXN0ZXJTdG9yYWdlSW5mby5qc1wiO2ltcG9ydCBvIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydCBmIGZyb21cIi4vREJGUGFyc2VyLmpzXCI7aW1wb3J0e3BhcnNlU3BhdGlhbFJlZmVyZW5jZSBhcyBsLHBhcnNlUEFNSW5mbyBhcyB1fWZyb21cIi4vcGFtUGFyc2VyLmpzXCI7aW1wb3J0e3BhcnNlU2lnbmF0dXJlIGFzIGMsZ2V0UHlyYW1pZElGRHMgYXMgcCxnZXRNYXNrSUZEcyBhcyBoLGdldEltYWdlSW5mbyBhcyBtLHBhcnNlSUZEIGFzIGQscGFyc2VGaWVsZFZhbHVlcyBhcyB5LGlzQlNRQ29uZmlnIGFzIGd9ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9UaWZmRGVjb2Rlci5qc1wiO2ltcG9ydCBUIGZyb21cIi4uL3Jhc3RlckZvcm1hdHMvVGlmZlRhZ3MuanNcIjtpbXBvcnR7ZXN0aW1hdGVTdGF0aXN0aWNzRnJvbUhpc3RvZ3JhbXMgYXMgeH1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvc3RyZXRjaFV0aWxzLmpzXCI7aW1wb3J0IEkgZnJvbVwiLi4vcmFzdGVyVHJhbnNmb3Jtcy9Qb2x5bm9taWFsVHJhbnNmb3JtLmpzXCI7aW1wb3J0IHcgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgUiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IF8gZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBGPShlLHQpPT5lLmdldCh0KT8udmFsdWVzLEU9KGUsdCk9PmUuZ2V0KHQpPy52YWx1ZXM/LlswXTtsZXQgUz1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2ZpbGVzPW51bGwsdGhpcy5faGVhZGVySW5mbz1udWxsLHRoaXMuX2J1ZmZlclNpemU9MTA0ODU3Nix0aGlzLmRhdGFzZXRGb3JtYXQ9XCJUSUZGXCJ9YXN5bmMgb3BlbihlKXthd2FpdCB0aGlzLmluaXQoKTtjb25zdCB0PWU/ZS5zaWduYWw6bnVsbCx7ZGF0YTppfT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwse3JhbmdlOntmcm9tOjAsdG86dGhpcy5fYnVmZmVyU2l6ZX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnR9KTtpZighaSl0aHJvdyBuZXcgcihcInRpZmZyYXN0ZXI6b3BlblwiLFwiZmFpbGVkIHRvIG9wZW4gdXJsIFwiK3RoaXMudXJsKTt0aGlzLmRhdGFzZXROYW1lPXRoaXMudXJsLnNsaWNlKHRoaXMudXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxLHRoaXMudXJsLmxhc3RJbmRleE9mKFwiLlwiKSk7Y29uc3R7bGl0dGxlRW5kaWFuOnMsZmlyc3RJRkRQb3M6YSxpc0JpZ1RpZmY6bn09YyhpKSxvPVtdO2F3YWl0IHRoaXMuX3JlYWRJRkRzKG8saSxzLGEsMCxuPzg6NCx0KTtjb25zdHtpbWFnZUluZm86ZixyYXN0ZXJJbmZvOmx9PXRoaXMuX3BhcnNlSUZEcyhvKSx1PXAobyksbT1oKG8pO2lmKHRoaXMuX2hlYWRlckluZm89e2xpdHRsZUVuZGlhbjpzLGlzQmlnVGlmZjpuLGlmZHM6byxweXJhbWlkSUZEczp1LG1hc2tJRkRzOm0sLi4uZn0sdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLGwpLCFmLmlzU3VwcG9ydGVkKXRocm93IG5ldyByKFwidGlmZnJhc3RlcjpvcGVuXCIsXCJ0aGlzIHRpZmYgaXMgbm90IHN1cHBvcnRlZDogXCIrZi5tZXNzYWdlKTtpZighZi50aWxlV2lkdGgpdGhyb3cgbmV3IHIoXCJ0aWZmcmFzdGVyOm9wZW5cIixcIm5vbmUtdGlsZWQgdGlmZiBpcyBub3Qgb3B0aW1pemVkIGZvciBhY2Nlc3MsIGNvbnZlcnQgdG8gQ09HIGFuZCByZXRyeS5cIik7Y29uc3QgZD1vWzBdLmdldChcIlBSRURJQ1RPUlwiKT8udmFsdWVzPy5bMF0seT1vWzBdLmdldChcIlNBTVBMRUZPUk1BVFwiKT8udmFsdWVzPy5bMF07aWYoMz09PXkmJjI9PT1kKXRocm93IG5ldyByKFwidGlmZnJhc3RlcjpvcGVuXCIsXCJ1bnN1cHBvcnRlZCBob3Jpem9udGFsIGRpZmZlcmVuY2UgZW5jb2RpbmcuIFByZWRpY3Rvcj0zIGlzIHN1cHBvcnRlZCBmb3IgZmxvYXR0aW5nIHBvaW50IGRhdGFcIik7Y29uc3R7c2tpcEV4dGVuc2lvbnM6Zz1bXX09dGhpcy5pb0NvbmZpZztpZighZy5pbmNsdWRlcyhcImF1eC54bWxcIikpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlNZXRhRGF0YShlKTtudWxsIT10JiZ0aGlzLl9wcm9jZXNzUEFNSW5mbyh0LGwpfWcuaW5jbHVkZXMoXCJ2YXQuZGJmXCIpfHwxIT09bC5iYW5kQ291bnR8fFwidThcIiE9PWwucGl4ZWxUeXBlfHwobC5hdHRyaWJ1dGVUYWJsZT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeVRhYmxlKGUpLG51bGwhPWwuYXR0cmlidXRlVGFibGUmJihsLmtleVByb3BlcnRpZXMuRGF0YVR5cGU9XCJ0aGVtYXRpY1wiKSksdGhpcy51cGRhdGVUaWxlSW5mbygpfWFzeW5jIGZldGNoUmF3VGlsZShlLHQscixpPXt9KXtpZighdGhpcy5faGVhZGVySW5mbz8uaXNTdXBwb3J0ZWR8fHRoaXMuaXNCbG9ja091dHNpZGUoZSx0LHIpKXJldHVybiBudWxsO2NvbnN0IHM9YXdhaXQgdGhpcy5fZmV0Y2hSYXdUaWZmVGlsZShlLHQsciwhMSxpKTtpZihudWxsIT1zJiZ0aGlzLl9oZWFkZXJJbmZvLmhhc01hc2tCYW5kKXtjb25zdCBhPWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlmZlRpbGUoZSx0LHIsITAsaSk7bnVsbCE9YSYmYS5waXhlbHNbMF1pbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihzLm1hc2s9YS5waXhlbHNbMF0pfXJldHVybiBzfV9wYXJzZUlGRHMoZSl7Y29uc3QgdD1tKGUpLHt3aWR0aDpyLGhlaWdodDppLHRpbGVXaWR0aDpzLHRpbGVIZWlnaHQ6byxwbGFuZXM6ZixwaXhlbFR5cGU6dSxjb21wcmVzc2lvbjpjLGZpcnN0UHlyYW1pZExldmVsOnAsbWF4aW11bVB5cmFtaWRMZXZlbDpoLHB5cmFtaWRCbG9ja1dpZHRoOmQscHlyYW1pZEJsb2NrSGVpZ2h0OnksdGlsZUJvdW5kYXJ5OmcsYWZmaW5lOlQsbWV0YWRhdGE6eH09dCx3PXQuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2U/LndrdHx8dC5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZT8ud2tpZDtsZXQgUz1sKHcpLHY9ISF0LmlzUHNldWRvR2VvZ3JhcGhpYztudWxsPT1TJiYodj0hMCxTPW5ldyBSKHt3a2lkOjM4NTd9KSk7Y29uc3QgRD1uZXcgXyh7Li4udC5leHRlbnQsc3BhdGlhbFJlZmVyZW5jZTpTfSksUD1uZXcgYihEP3t4OkQueG1pbix5OkQueW1heCxzcGF0aWFsUmVmZXJlbmNlOlN9Ont4OjAseTowfSksaz1uZXcgbih7YmxvY2tXaWR0aDpzLGJsb2NrSGVpZ2h0Om8scHlyYW1pZEJsb2NrV2lkdGg6ZCxweXJhbWlkQmxvY2tIZWlnaHQ6eSxjb21wcmVzc2lvbjpjLG9yaWdpbjpQLGZpcnN0UHlyYW1pZExldmVsOnAsbWF4aW11bVB5cmFtaWRMZXZlbDpoLGJsb2NrQm91bmRhcnk6Z30pLE89bmV3IGIoe3g6KEQueG1heC1ELnhtaW4pL3IseTooRC55bWF4LUQueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOlN9KSxqPXg/e0JhbmRQcm9wZXJ0aWVzOnguYmFuZFByb3BlcnRpZXMsRGF0YVR5cGU6eC5kYXRhVHlwZX06e307bGV0IEI9bnVsbDtjb25zdCBMPUUoZVswXSxcIlBIT1RPTUVUUklDSU5URVJQUkVUQVRJT05cIiksQT1GKGVbMF0sXCJDT0xPUk1BUFwiKTtpZihMPD0zJiZBPy5sZW5ndGg+MyYmQS5sZW5ndGglMz09MCl7Qj1bXTtjb25zdCBlPUEubGVuZ3RoLzM7Zm9yKGxldCB0PTA7dDxlO3QrKylCLnB1c2goW3QsQVt0XT4+PjgsQVt0K2VdPj4+OCxBW3QrMiplXT4+PjhdKX1jb25zdCB6PW5ldyBhKHt3aWR0aDpyLGhlaWdodDppLGJhbmRDb3VudDpmLHBpeGVsVHlwZTp1LHBpeGVsU2l6ZTpPLHN0b3JhZ2VJbmZvOmssc3BhdGlhbFJlZmVyZW5jZTpTLGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTp2LGtleVByb3BlcnRpZXM6aixleHRlbnQ6RCxjb2xvcm1hcDpCLHN0YXRpc3RpY3M6eD94LnN0YXRpc3RpY3M6bnVsbH0pO3JldHVybiBUPy5sZW5ndGgmJih6Lm5hdGl2ZUV4dGVudD1uZXcgXyh7eG1pbjotLjUseW1pbjouNS1pLHhtYXg6ci0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6U30pLHoudHJhbnNmb3JtPW5ldyBJKHtwb2x5bm9taWFsT3JkZXI6MSxmb3J3YXJkQ29lZmZpY2llbnRzOltUWzJdK1RbMF0vMixUWzVdLVRbM10vMixUWzBdLFRbM10sLVRbMV0sLVRbNF1dfSksei5leHRlbnQ9ei50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybSh6Lm5hdGl2ZUV4dGVudCksei5waXhlbFNpemU9bmV3IGIoe3g6KEQueG1heC1ELnhtaW4pL3IseTooRC55bWF4LUQueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOlN9KSxrLm9yaWdpbi54PS0uNSxrLm9yaWdpbi55PS41KSx7aW1hZ2VJbmZvOnQscmFzdGVySW5mbzp6fX1fcHJvY2Vzc1BBTUluZm8oZSx0KXtpZih0LnN0YXRpc3RpY3M9ZS5zdGF0aXN0aWNzPz90LnN0YXRpc3RpY3MsdC5oaXN0b2dyYW1zPWUuaGlzdG9ncmFtcyxlLmhpc3RvZ3JhbXMmJm51bGw9PXQuc3RhdGlzdGljcyYmKHQuc3RhdGlzdGljcz14KGUuaGlzdG9ncmFtcykpLGUudHJhbnNmb3JtJiZudWxsPT10LnRyYW5zZm9ybSl7dC50cmFuc2Zvcm09ZS50cmFuc2Zvcm0sdC5uYXRpdmVFeHRlbnQ9dC5leHRlbnQ7Y29uc3Qgcj10LnRyYW5zZm9ybS5mb3J3YXJkVHJhbnNmb3JtKHQubmF0aXZlRXh0ZW50KTt0LnBpeGVsU2l6ZT1uZXcgYih7eDooci54bWF4LXIueG1pbikvdC53aWR0aCx5OihyLnltYXgtci55bWluKS90LmhlaWdodCxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZX0pLHQuZXh0ZW50PXJ9dC5pc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2UmJmUuc3BhdGlhbFJlZmVyZW5jZSYmKHQuc3BhdGlhbFJlZmVyZW5jZT1lLnNwYXRpYWxSZWZlcmVuY2UsdC5leHRlbnQuc3BhdGlhbFJlZmVyZW5jZT10Lm5hdGl2ZUV4dGVudC5zcGF0aWFsUmVmZXJlbmNlPXQuc3RvcmFnZUluZm8ub3JpZ2luLnNwYXRpYWxSZWZlcmVuY2U9dC5zcGF0aWFsUmVmZXJlbmNlKX1hc3luYyBfcmVhZElGRHMoZSx0LHIsaSxzLGE9NCxuKXtpZighaSlyZXR1cm4gbnVsbDtpZihpPj10LmJ5dGVMZW5ndGh8fGk8MCl7dD0oYXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTppK3MsdG86aStzK3RoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpufSkpLmRhdGEscz1pK3MsaT0wfWNvbnN0IG89YXdhaXQgdGhpcy5fcmVhZElGRCh0LHIsaSxzLFQuVElGRl9UQUdTLGEsbik7aWYoZS5wdXNoKG8uaWZkKSwhby5uZXh0SUZEKXJldHVybiBudWxsO2F3YWl0IHRoaXMuX3JlYWRJRkRzKGUsdCxyLG8ubmV4dElGRC1zLHMsYSxuKX1hc3luYyBfcmVhZElGRChlLHIsaSxzLGE9VC5USUZGX1RBR1Msbj00LG8pe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IGY9ZChlLHIsaSxzLGEsbik7aWYoZi5zdWNjZXNzKXtjb25zdCBpPVtdO2lmKGYuaWZkPy5mb3JFYWNoKChlPT57ZS52YWx1ZXN8fGkucHVzaChlKX0pKSxpLmxlbmd0aD4wKXtjb25zdCBhPWkubWFwKChlPT5lLm9mZmxpbmVPZmZzZXRTaXplKSkuZmlsdGVyKHQpLG49TWF0aC5taW4uYXBwbHkobnVsbCxhLm1hcCgoZT0+ZVswXSkpKTtpZihNYXRoLm1pbi5hcHBseShudWxsLGEubWFwKChlPT5lWzBdK2VbMV0pKSktbjw9dGhpcy5fYnVmZmVyU2l6ZSl7Y29uc3R7ZGF0YTp0fT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwse3JhbmdlOntmcm9tOm4sdG86bit0aGlzLl9idWZmZXJTaXplfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6b30pO2U9dCxzPW4saS5mb3JFYWNoKCh0PT55KGUscix0LHMpKSl9fWlmKGYuaWZkPy5oYXMoXCJHRU9LRVlESVJFQ1RPUllcIikpe2NvbnN0IHQ9Zi5pZmQuZ2V0KFwiR0VPS0VZRElSRUNUT1JZXCIpLGk9dD8udmFsdWVzO2lmKGkmJmkubGVuZ3RoPjQpe2NvbnN0IGE9aVswXStcIi5cIitpWzFdK1wiLlwiK2lbMl0sbj1hd2FpdCB0aGlzLl9yZWFkSUZEKGUscix0LnZhbHVlT2Zmc2V0KzYtcyxzLFQuR0VPX0tFWVMsMixvKTt0LmRhdGE9bi5pZmQsdC5kYXRhJiZ0LmRhdGEuc2V0KFwiR0VPVElGRlZlcnNpb25cIix7aWQ6MCx0eXBlOjIsdmFsdWVDb3VudDoxLHZhbHVlT2Zmc2V0Om51bGwsdmFsdWVzOlthXX0pfX1yZXR1cm4gZn1pZihmLnJlcXVpcmVkQnVmZmVyU2l6ZSYmZi5yZXF1aXJlZEJ1ZmZlclNpemUhPT1lLmJ5dGVMZW5ndGgpe2NvbnN0IHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTpzLHRvOnMrZi5yZXF1aXJlZEJ1ZmZlclNpemUrNH0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm99KTtyZXR1cm4oZT10LmRhdGEpLmJ5dGVMZW5ndGg8Zi5yZXF1aXJlZEJ1ZmZlclNpemU/bnVsbDp0aGlzLl9yZWFkSUZEKGUsciwwLHMsVC5USUZGX1RBR1MsNCxvKX19YXN5bmMgX2ZldGNoUmF3VGlmZlRpbGUoZSx0LHIsaSxzPXt9KXtjb25zdCBhPXRoaXMuX2dldFRpbGVMb2NhdGlvbihlLHQscixpKTtpZighYSlyZXR1cm4gbnVsbDtjb25zdHtyYW5nZXM6bixhY3R1YWxUaWxlV2lkdGg6byxhY3R1YWxUaWxlSGVpZ2h0OmYsaWZkOmx9PWEsdT1uLm1hcCgoZT0+dGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTplLHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pKSksYz1hd2FpdCBQcm9taXNlLmFsbCh1KSxwPWMubWFwKChlPT5lLmRhdGEuYnl0ZUxlbmd0aCkpLnJlZHVjZSgoKGUsdCk9PmUrdCkpLGg9MT09PWMubGVuZ3RoP2NbMF0uZGF0YTpuZXcgQXJyYXlCdWZmZXIocCksbT1bMF0sZD1bMF07aWYoYy5sZW5ndGg+MSl7Y29uc3QgZT1uZXcgVWludDhBcnJheShoKTtmb3IobGV0IHQ9MCxyPTA7dDxjLmxlbmd0aDt0Kyspe2NvbnN0IGk9Y1t0XS5kYXRhO2Uuc2V0KG5ldyBVaW50OEFycmF5KGkpLHIpLG1bdF09cixyKz1pLmJ5dGVMZW5ndGgsZFt0XT1pLmJ5dGVMZW5ndGh9fWNvbnN0e2Jsb2NrV2lkdGg6eSxibG9ja0hlaWdodDpnfT10aGlzLmdldEJsb2NrV2lkdGhIZWlnaHQoZSksVD1hd2FpdCB0aGlzLmRlY29kZVBpeGVsQmxvY2soaCx7Zm9ybWF0OlwidGlmZlwiLGN1c3RvbU9wdGlvbnM6e2hlYWRlckluZm86dGhpcy5faGVhZGVySW5mbyxpZmQ6bCxvZmZzZXRzOm0sc2l6ZXM6ZH0sd2lkdGg6eSxoZWlnaHQ6ZyxwbGFuZXM6bnVsbCxwaXhlbFR5cGU6bnVsbH0pO2lmKG51bGw9PVQpcmV0dXJuIG51bGw7bGV0IHgsSSx3O2lmKG8hPT15fHxmIT09Zyl7bGV0IGU9VC5tYXNrO2lmKGUpZm9yKHg9MDt4PGc7eCsrKWlmKHc9eCp5LHg8Zilmb3IoST1vO0k8eTtJKyspZVt3K0ldPTA7ZWxzZSBmb3IoST0wO0k8eTtJKyspZVt3K0ldPTA7ZWxzZSBmb3IoZT1uZXcgVWludDhBcnJheSh5KmcpLFQubWFzaz1lLHg9MDt4PGY7eCsrKWZvcih3PXgqeSxJPTA7STxvO0krKyllW3crSV09MX1yZXR1cm4gVH1fZ2V0VGlsZUxvY2F0aW9uKGUsdCxyLGk9ITEpe2NvbnN0e2ZpcnN0UHlyYW1pZExldmVsOnMsYmxvY2tCb3VuZGFyeTphfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8sbj0wPT09ZT8wOmUtKHMtMSkse19oZWFkZXJJbmZvOm99PXRoaXM7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgZj1pP28ubWFza0lGRHNbbl06MD09PW4/bz8uaWZkc1swXTpvPy5weXJhbWlkSUZEc1tuLTFdO2lmKCFmKXJldHVybiBudWxsO2NvbnN0IGw9ZyhmLG8pLHU9RihmLFwiVElMRU9GRlNFVFNcIik7aWYodm9pZCAwPT09dSlyZXR1cm4gbnVsbDtjb25zdCBjPUYoZixcIlRJTEVCWVRFQ09VTlRTXCIpLHttaW5Sb3c6cCxtaW5Db2w6aCxtYXhSb3c6bSxtYXhDb2w6ZH09YVtuXTtpZih0Pm18fHI+ZHx8dDxwfHxyPGgpcmV0dXJuIG51bGw7Y29uc3QgeT1FKGYsXCJJTUFHRVdJRFRIXCIpLFQ9RShmLFwiSU1BR0VMRU5HVEhcIikseD1FKGYsXCJUSUxFV0lEVEhcIiksST1FKGYsXCJUSUxFTEVOR1RIXCIpLHc9W107aWYobCl7Y29uc3R7YmFuZENvdW50OmV9PXRoaXMucmFzdGVySW5mbztmb3IobGV0IGk9MDtpPGU7aSsrKXtjb25zdCBlPWkqKG0rMSkqKGQrMSkrdCooZCsxKStyO3dbaV09e2Zyb206dVtlXSx0bzp1W2VdK2NbZV0tMX19fWVsc2V7Y29uc3QgZT10KihkKzEpK3I7dy5wdXNoKHtmcm9tOnVbZV0sdG86dVtlXStjW2VdLTF9KX1mb3IobGV0IGc9MDtnPHcubGVuZ3RoO2crKylpZihudWxsPT13W2ddLmZyb218fCF3W2ddLnRvKXJldHVybiBudWxsO3JldHVybntyYW5nZXM6dyxpZmQ6ZixhY3R1YWxUaWxlV2lkdGg6cj09PWQmJnkleHx8eCxhY3R1YWxUaWxlSGVpZ2h0OnQ9PT1tJiZUJUl8fEl9fWFzeW5jIF9mZXRjaEF1eGlsaWFyeU1ldGFEYXRhKGUpe3RyeXtjb25zdHtkYXRhOnR9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi5hdXgueG1sXCIse3Jlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDplPy5zaWduYWx9KTtyZXR1cm4gdSh0KX1jYXRjaHtyZXR1cm4gbnVsbH19YXN5bmMgX2ZldGNoQXV4aWxpYXJ5VGFibGUoZSl7dHJ5e2NvbnN0e2RhdGE6dH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiLnZhdC5kYmZcIix7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOmU/LnNpZ25hbH0pLHI9Zi5wYXJzZSh0KTtyZXR1cm4gcj8ucmVjb3JkU2V0P3cuZnJvbUpTT04oci5yZWNvcmRTZXQpOm51bGx9Y2F0Y2h7cmV0dXJuIG51bGx9fX07ZShbaSgpXSxTLnByb3RvdHlwZSxcIl9maWxlc1wiLHZvaWQgMCksZShbaSgpXSxTLnByb3RvdHlwZSxcIl9oZWFkZXJJbmZvXCIsdm9pZCAwKSxlKFtpKCldLFMucHJvdG90eXBlLFwiX2J1ZmZlclNpemVcIix2b2lkIDApLGUoW2koe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxTLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLFM9ZShbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuVElGRlJhc3RlclwiKV0sUyk7Y29uc3Qgdj1TO2V4cG9ydHt2IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7aXNTb21lIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e2lzU2FtZVRhZ0lnbm9yZU5TIGFzIHQsZ2V0RWxlbWVudFZhbHVlIGFzIG4sZ2V0RWxlbWVudHMgYXMgcixnZXRFbGVtZW50IGFzIHMsZ2V0RWxlbWVudE51bWVyaWNWYWx1ZSBhcyBhLGdldEVsZW1lbnROdW1lcmljVmFsdWVzIGFzIGl9ZnJvbVwiLi94bWxVdGlsaXRpZXMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL1BvbHlub21pYWxUcmFuc2Zvcm0uanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7ZnVuY3Rpb24gZihlLHQpe2lmKCFlfHwhdClyZXR1cm4gbnVsbDtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW4ucHVzaChlW3JdKSxuLnB1c2godFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gdShlKXtjb25zdCB0PXMoZSxcIkdlb2RhdGFYZm9ybVwiKSxyPW0oYSh0LFwiU3BhdGlhbFJlZmVyZW5jZS9XS0lEXCIpfHxuKHQsXCJTcGF0aWFsUmVmZXJlbmNlL1dLVFwiKSk7aWYoXCJ0eXBlbnM6UG9seW5vbWlhbFhmb3JtXCIhPT10LmdldEF0dHJpYnV0ZShcInhzaTp0eXBlXCIpKXJldHVybntzcGF0aWFsUmVmZXJlbmNlOnIsdHJhbnNmb3JtOm51bGx9O2NvbnN0IG89YSh0LFwiUG9seW5vbWlhbE9yZGVyXCIpPz8xLHU9aSh0LFwiQ29lZmZYL0RvdWJsZVwiKSxjPWkodCxcIkNvZWZmWS9Eb3VibGVcIiksZD1pKHQsXCJJbnZlcnNlQ29lZmZYL0RvdWJsZVwiKSxwPWkodCxcIkludmVyc2VDb2VmZlkvRG91YmxlXCIpLFM9Zih1LGMpLEM9ZihkLHApO3JldHVybntzcGF0aWFsUmVmZXJlbmNlOnIsdHJhbnNmb3JtOlMmJkMmJlMubGVuZ3RoJiZDLmxlbmd0aD9uZXcgbCh7c3BhdGlhbFJlZmVyZW5jZTpyLHBvbHlub21pYWxPcmRlcjpvLGZvcndhcmRDb2VmZmljaWVudHM6UyxpbnZlcnNlQ29lZmZpY2llbnRzOkN9KTpudWxsfX1mdW5jdGlvbiBjKGUpe2NvbnN0IHQ9YShlLFwiTm9EYXRhVmFsdWVcIiksaT1zKGUsXCJIaXN0b2dyYW1zL0hpc3RJdGVtXCIpLGw9YShpLFwiSGlzdE1pblwiKSxvPWEoaSxcIkhpc3RNYXhcIiksZj1hKGksXCJCdWNrZXRDb3VudFwiKSx1PW4oaSxcIkhpc3RDb3VudHNcIik/LnNwbGl0KFwifFwiKS5tYXAoKGU9Pk51bWJlcihlKSkpO2xldCBjLG0sZCxwO3IoZSxcIk1ldGFkYXRhL01ESVwiKS5mb3JFYWNoKChlPT57Y29uc3QgdD1OdW1iZXIoZS50ZXh0Q29udGVudD8/ZS5ub2RlVmFsdWUpO3N3aXRjaChlLmdldEF0dHJpYnV0ZShcImtleVwiKS50b1VwcGVyQ2FzZSgpKXtjYXNlXCJTVEFUSVNUSUNTX01JTklNVU1cIjpjPXQ7YnJlYWs7Y2FzZVwiU1RBVElTVElDU19NQVhJTVVNXCI6bT10O2JyZWFrO2Nhc2VcIlNUQVRJU1RJQ1NfTUVBTlwiOmQ9dDticmVhaztjYXNlXCJTVEFUSVNUSUNTX1NURERFVlwiOnA9dH19KSk7Y29uc3QgUz1hKGUsXCJNZXRhZGF0YS9Tb3VyY2VCYW5kSW5kZXhcIik7cmV0dXJue25vRGF0YVZhbHVlOnQsaGlzdG9ncmFtOnU/Lmxlbmd0aCYmbnVsbCE9bCYmbnVsbCE9bz97bWluOmwsbWF4Om8sc2l6ZTpmfHx1Lmxlbmd0aCxjb3VudHM6dX06bnVsbCxzb3VyY2VCYW5kSW5kZXg6UyxzdGF0aXN0aWNzOm51bGwhPWMmJm51bGwhPW0/e21pbjpjLG1heDptLGF2ZzpkLHN0ZGRldjpwfTpudWxsfX1mdW5jdGlvbiBtKGUpe2lmKCFlKXJldHVybiBudWxsO2xldCB0PU51bWJlcihlKTtpZighaXNOYU4odCkmJjAhPT10KXJldHVybiBuZXcgbyh7d2tpZDp0fSk7aWYoKGU9U3RyaW5nKGUpKS5zdGFydHNXaXRoKFwiQ09NUERfQ1NcIikpe2lmKCFlLmluY2x1ZGVzKFwiVkVSVENTXCIpfHwhZS5pbmNsdWRlcyhcIkdFT0dDU1wiKSYmIWUuc3RhcnRzV2l0aChcIlBST0pDU1wiKSlyZXR1cm4gbnVsbDtjb25zdCBuPWUuaW5kZXhPZihcIlZFUlRDU1wiKSxyPWUuaW5kZXhPZihcIlBST0pDU1wiKSxzPXI+LTE/cjplLmluZGV4T2YoXCJHRU9HQ1NcIik7aWYoLTE9PT1zKXJldHVybiBudWxsO2NvbnN0IGE9ZS5zbGljZShzLGUubGFzdEluZGV4T2YoXCJdXCIsbikrMSkudHJpbSgpLGk9ZS5zbGljZShuLGUubGFzdEluZGV4T2YoXCJdXCIpKS50cmltKCk7dD1kKGEpO2NvbnN0IGw9bmV3IG8odD97d2tpZDp0fTp7d2t0OmF9KSxmPWQoaSk7cmV0dXJuIGYmJihsLnZjc1draWQ9ZiksbH1yZXR1cm4gZS5zdGFydHNXaXRoKFwiR0VPR0NTXCIpfHxlLnN0YXJ0c1dpdGgoXCJQUk9KQ1NcIik/KHQ9ZChlKSxuZXcgbygwIT09dD97d2tpZDp0fTp7d2t0OmV9KSk6bnVsbH1mdW5jdGlvbiBkKGUpe2NvbnN0IHQ9ZS5yZXBsYWNlQWxsKFwiXVwiLFwiW1wiKS5yZXBsYWNlQWxsKCdcIicsXCJcIikuc3BsaXQoXCJbXCIpLm1hcCgoZT0+ZS50cmltKCkpKS5maWx0ZXIoKGU9PlwiXCIhPT1lKSksbj10W3QubGVuZ3RoLTFdLnNwbGl0KFwiLFwiKSxyPW5bMF0/LnRvTG93ZXJDYXNlKCk7aWYoKFwiZXBzZ1wiPT09cnx8XCJlc3JpXCI9PT1yKSYmZS5lbmRzV2l0aCgnXCJdXScpKXtjb25zdCBlPU51bWJlcihuWzFdKTtpZighaXNOYU4oZSkmJjAhPT1lKXJldHVybiBlfXJldHVybiAwfWZ1bmN0aW9uIHAocyl7aWYoXCJwYW1kYXRhc2V0XCIhPT1zPy5kb2N1bWVudEVsZW1lbnQudGFnTmFtZT8udG9Mb3dlckNhc2UoKSlyZXR1cm57fTtjb25zdCBhPXtzcGF0aWFsUmVmZXJlbmNlOm51bGwsdHJhbnNmb3JtOm51bGwsbWV0YWRhdGE6e30scmFzdGVyQmFuZHM6W10sc3RhdGlzdGljczpudWxsLGhpc3RvZ3JhbXM6bnVsbH07cy5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChlPT57aWYoMT09PWUubm9kZVR5cGUpaWYodChlLFwiU1JTXCIpKXtpZighYS5zcGF0aWFsUmVmZXJlbmNlKXtjb25zdCB0PW4oZSk7YS5zcGF0aWFsUmVmZXJlbmNlPW0odCl9fWVsc2UgaWYodChlLFwiTWV0YWRhdGFcIikpaWYoXCJ4bWw6RVNSSVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJkb21haW5cIikpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6dCx0cmFuc2Zvcm06bn09dShlKTthLnRyYW5zZm9ybT1uLGEuc3BhdGlhbFJlZmVyZW5jZXx8KGEuc3BhdGlhbFJlZmVyZW5jZT10KX1lbHNle3IoZSxcIk1ESVwiKS5mb3JFYWNoKChlPT5hLm1ldGFkYXRhW2UuZ2V0QXR0cmlidXRlKFwia2V5XCIpXT1uKGUpKSl9ZWxzZSBpZih0KGUsXCJQQU1SYXN0ZXJCYW5kXCIpKXtjb25zdCB0PWMoZSk7bnVsbCE9dC5zb3VyY2VCYW5kSW5kZXgmJm51bGw9PWEucmFzdGVyQmFuZHNbdC5zb3VyY2VCYW5kSW5kZXhdP2EucmFzdGVyQmFuZHNbdC5zb3VyY2VCYW5kSW5kZXhdPXQ6YS5yYXN0ZXJCYW5kcy5wdXNoKHQpfX0pKTtjb25zdCBpPWEucmFzdGVyQmFuZHM7aWYoaS5sZW5ndGgpe2NvbnN0IHQ9ISFpWzBdLnN0YXRpc3RpY3M7YS5zdGF0aXN0aWNzPXQ/aS5tYXAoKGU9PmUuc3RhdGlzdGljcykpLmZpbHRlcihlKTpudWxsO2NvbnN0IG49ISFpWzBdLmhpc3RvZ3JhbTthLmhpc3RvZ3JhbXM9bj9pLm1hcCgoZT0+ZS5oaXN0b2dyYW0pKS5maWx0ZXIoZSk6bnVsbH1yZXR1cm4gYX1leHBvcnR7cCBhcyBwYXJzZVBBTUluZm8sbSBhcyBwYXJzZVNwYXRpYWxSZWZlcmVuY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4oZSx0KXtpZighZXx8IXQpcmV0dXJuW107bGV0IGw9dDt0LmluY2x1ZGVzKFwiL1wiKT8obD10LnNsaWNlKDAsdC5pbmRleE9mKFwiL1wiKSksdD10LnNsaWNlKHQuaW5kZXhPZihcIi9cIikrMSkpOnQ9XCJcIjtjb25zdCByPVtdO2lmKHQpe2NvbnN0IHU9bihlLGwpO2ZvcihsZXQgZT0wO2U8dS5sZW5ndGg7ZSsrKXtuKHVbZV0sdCkuZm9yRWFjaCgobj0+ci5wdXNoKG4pKSl9cmV0dXJuIHJ9Y29uc3QgdT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoXCIqXCIsbCk7aWYoIXV8fDA9PT11Lmxlbmd0aClyZXR1cm5bXTtmb3IobGV0IG49MDtuPHUubGVuZ3RoO24rKylyLnB1c2godVtuXXx8dS5pdGVtKG4pKTtyZXR1cm4gcn1mdW5jdGlvbiBlKHQsbCl7aWYoIXR8fCFsKXJldHVybiBudWxsO2xldCByPWw7bC5pbmNsdWRlcyhcIi9cIik/KHI9bC5zbGljZSgwLGwuaW5kZXhPZihcIi9cIikpLGw9bC5zbGljZShsLmluZGV4T2YoXCIvXCIpKzEpKTpsPVwiXCI7Y29uc3QgdT1uKHQscik7cmV0dXJuIHUubGVuZ3RoPjA/bD9lKHVbMF0sbCk6dVswXTpudWxsfWZ1bmN0aW9uIHQobix0PW51bGwpe2NvbnN0IGw9dD9lKG4sdCk6bjtsZXQgcjtyZXR1cm4gbD8ocj1sLnRleHRDb250ZW50fHxsLm5vZGVWYWx1ZSxyP3IudHJpbSgpOm51bGwpOm51bGx9ZnVuY3Rpb24gbChlLHQpe2NvbnN0IGw9bihlLHQpLHI9W107bGV0IHU7Zm9yKGxldCBuPTA7bjxsLmxlbmd0aDtuKyspdT1sW25dLnRleHRDb250ZW50fHxsW25dLm5vZGVWYWx1ZSx1JiYodT11LnRyaW0oKSxcIlwiIT09dSYmci5wdXNoKHUpKTtyZXR1cm4gcn1mdW5jdGlvbiByKG4sZT1udWxsKXtjb25zdCBsPXQobixlKTtyZXR1cm4gbD8uc3BsaXQoXCIgXCIpLm1hcCgobj0+TnVtYmVyKG4pKSk/P1tdfWZ1bmN0aW9uIHUobixlKXtyZXR1cm4gbChuLGUpLm1hcCgobj0+TnVtYmVyKG4pKSl9ZnVuY3Rpb24gbyhuLGUpe2NvbnN0IGw9dChuLGUpO3JldHVybiBOdW1iZXIobCl9ZnVuY3Rpb24gaShuLGUpe2NvbnN0IHQ9bj8ubm9kZU5hbWU/LnRvTG93ZXJDYXNlKCksbD1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQuc2xpY2UodC5sYXN0SW5kZXhPZihcIjpcIikrMSk9PT1sfWZ1bmN0aW9uIGMobil7cmV0dXJuIG4ubm9kZU5hbWUuc2xpY2Uobi5ub2RlTmFtZS5sYXN0SW5kZXhPZihcIjpcIikrMSl9ZXhwb3J0e2UgYXMgZ2V0RWxlbWVudCxvIGFzIGdldEVsZW1lbnROdW1lcmljVmFsdWUsdSBhcyBnZXRFbGVtZW50TnVtZXJpY1ZhbHVlcyx0IGFzIGdldEVsZW1lbnRWYWx1ZSxsIGFzIGdldEVsZW1lbnRWYWx1ZXMsbiBhcyBnZXRFbGVtZW50cyxjIGFzIGdldE5vZGVOYW1lSWdub3JlTlMsciBhcyBnZXRTcGFjZURlbGltaXRlZE51bWVyaWNWYWx1ZXMsaSBhcyBpc1NhbWVUYWdJZ25vcmVOU307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vUGl4ZWxCbG9jay5qc1wiO2Z1bmN0aW9uIG4oZSxpKXtpZihlLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGkpKXJldHVybiBlO2NvbnN0IG49dChlLnNwYXRpYWxSZWZlcmVuY2UpLGE9dChpKTtpZihuPT09YSlyZXR1cm4gZTtjb25zdCBoPW4vYTtyZXR1cm57eDplLngqaCx5OmUueSpofX1hc3luYyBmdW5jdGlvbiBhKHQsZSxuKXtpZihcImV4dGVudFwiPT09bi50eXBlKXJldHVybiBvKHQsZSxuKTtjb25zdHt3aWR0aDphLGhlaWdodDp4fT10LGw9bmV3IFVpbnQ4QXJyYXkoYSp4KSx7Y29udGFpbnM6bSxpbnRlcnNlY3RzOnN9PWF3YWl0IGltcG9ydChcIi4uLy4uLy4uL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lLmpzXCIpO3JldHVybiBzKGUsbik/XCJwb2x5bGluZVwiPT09bi50eXBlP3IodCxlLG4pOm0obixlKT90OmgodCxlLG4pOm5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6eCxtYXNrOmwsbWFza0lzQWxwaGE6ITEscGl4ZWxzOlsuLi50LnBpeGVsc119KX1mdW5jdGlvbiBoKHQsZSxuKXtpZighdClyZXR1cm4gdDtjb25zdHt3aWR0aDphLGhlaWdodDpofT10LG89ZS53aWR0aC9hLHI9ZS5oZWlnaHQvaCx7eG1pbjp4LHltYXg6bH09ZTtsZXQgbTtpZihcImV4dGVudFwiPT09bi50eXBlKXtjb25zdCB0PShuLnhtaW4teCkvbyxlPShuLnhtYXgteCkvbyxpPShsLW4ueW1heCkvcixhPShsLW4ueW1pbikvcjttPVtbW3QsaV0sW3QsYV0sW2UsYV0sW2UsaV0sW3QsaV1dXX1lbHNlIG09bi5yaW5ncy5tYXAoKHQ9PnQubWFwKCgoW3QsZV0pPT5bKHQteCkvbywobC1lKS9yXSkpKSk7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Mud2lkdGg9YSxzLmhlaWdodD1oO2NvbnN0IHA9cy5nZXRDb250ZXh0KFwiMmRcIik7cC5maWxsU3R5bGU9XCIjZjAwXCIsbS5mb3JFYWNoKCh0PT57cC5iZWdpblBhdGgoKSxwLm1vdmVUbyh0WzBdWzBdLHRbMF1bMV0pO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXAubGluZVRvKHRbZV1bMF0sdFtlXVsxXSk7cC5jbG9zZVBhdGgoKSxwLmZpbGwoKX0pKTtjb25zdCBmPXAuZ2V0SW1hZ2VEYXRhKDAsMCxhLGgpLmRhdGEseT10Lm1hc2ssYz1hKmgsTT1uZXcgVWludDhBcnJheShjKTtmb3IobGV0IGk9MDtpPGM7aSsrKXkmJiF5W2ldfHwoTVtpXT1mWzQqaSszXT4xMjc/MjU1OjApO3JldHVybiBuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OmgsbWFzazpNLG1hc2tJc0FscGhhOiExLHBpeGVsczpbLi4udC5waXhlbHNdfSl9ZnVuY3Rpb24gbyh0LGUsbil7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6aH09dCxvPW5ldyBVaW50OEFycmF5KGEqaCkscj1lLndpZHRoL2EseD1lLmhlaWdodC9oO2lmKG4ud2lkdGgvcjwuNXx8bi5oZWlnaHQveDwuNSlyZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pO2NvbnN0e3htaW46bCx4bWF4Om0seW1pbjpzLHltYXg6cH09ZSx7eG1pbjpmLHhtYXg6eSx5bWluOmMseW1heDpNfT1uLHU9TWF0aC5tYXgobCxmKSx3PU1hdGgubWluKG0seSksZD1NYXRoLm1heChzLGMpLGc9TWF0aC5taW4ocCxNKSxUPS41KnIsaz0uNSp4O2lmKHctdTxUfHxnLWQ8a3x8dzxsK1R8fHU+bS1UfHxkPnAta3x8ZzxzK2spcmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KTtjb25zdCBBPU1hdGgubWF4KDAsKHUtbCkvciksUj1NYXRoLm1pbihhLE1hdGgubWF4KDAsKHctbCkvcikpLFU9TWF0aC5tYXgoMCwocC1nKS94KSxqPU1hdGgubWluKGgsTWF0aC5tYXgoMCwocC1kKS94KSksRT1NYXRoLnJvdW5kKEEpLEk9TWF0aC5yb3VuZChSKS0xLFA9TWF0aC5yb3VuZChVKSx2PU1hdGgucm91bmQoaiktMTtpZihFPT09SSYmQSUxPi41JiZSJTE8LjV8fFA9PT12JiZVJTE+LjUmJmolMTwuNSlyZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pO2lmKDA9PT1FJiYwPT09UCYmST09PWEmJnY9PT1oKXJldHVybiB0O2NvbnN0IGI9dC5tYXNrO2ZvcihsZXQgaT1QO2k8PXY7aSsrKWZvcihsZXQgdD1FO3Q8PUk7dCsrKXtjb25zdCBlPWkqYSt0O29bZV09Yj9iW2VdOjI1NX1yZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pfWZ1bmN0aW9uIHIodCxlLG4pe2NvbnN0e3dpZHRoOmEsaGVpZ2h0Omh9PXQsbz1uZXcgVWludDhBcnJheShhKmgpLHI9ZS53aWR0aC9hLHg9ZS5oZWlnaHQvaCx7eG1pbjpsLHltYXg6bX09ZSx7cGF0aHM6c309bixwPXQubWFzaztmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl7Y29uc3QgdD1zW2ldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspe2NvbnN0W2ksbl09dFtlXSxbcyxmXT10W2UrMV07bGV0IHk9TWF0aC5mbG9vcigobS1uKS94KSxjPU1hdGguZmxvb3IoKG0tZikveCk7aWYoYzx5KXtjb25zdCB0PXk7eT1jLGM9dH15PU1hdGgubWF4KDAseSksYz1NYXRoLm1pbihoLTEsYyk7Y29uc3QgTT0ocy1pKS8oZi1uKTtmb3IobGV0IHQ9eTt0PD1jO3QrKyl7Y29uc3QgZT10PT09eT9NYXRoLm1heChuLGYpOihoKzEtdCkqeCxtPXQ9PT1jP01hdGgubWluKG4sZik6ZS14O2xldCB1PWY9PT1uP01hdGguZmxvb3IoKGktbCkvcik6TWF0aC5mbG9vcigoTSooZS1uKStpLWwpL3IpLHc9Zj09PW4/TWF0aC5mbG9vcigocy1sKS9yKTpNYXRoLmZsb29yKChNKihtLW4pK2ktbCkvcik7aWYodzx1KXtjb25zdCB0PXU7dT13LHc9dH1jb25zdCBkPXQqYTt1PU1hdGgubWF4KDAsdSksdz1NYXRoLm1pbihhLTEsdyk7Zm9yKGxldCB0PWQrdTt0PD1kK3c7dCsrKW9bdF09cD9wW3RdOjI1NX19fXJldHVybiBuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OmgsbWFzazpvLHBpeGVsczpbLi4udC5waXhlbHNdfSl9ZnVuY3Rpb24geCh0LGksYSxoPSEwKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOm99PXQse3g6cix5Onh9PW4oYSxvKTtsZXQgbCxtLHM7Y29uc3QgcD1cImV4dGVudFwiPT09aS50eXBlP2k6aS5leHRlbnQ7bGV0e3htaW46Zix4bWF4OnkseW1heDpjLHltaW46TX09cDtjb25zdHt4bWluOnUseW1heDp3fT10LmV4dGVudDtyZXR1cm4gaD8oZj11KyhmPnU/cipNYXRoLnJvdW5kKChmLXUpL3IpOjApLGM9dy0oYzx3P3gqTWF0aC5yb3VuZCgody1jKS94KTowKSx5PXUrKHk+dT9yKk1hdGgucm91bmQoKHktdSkvcik6MCksTT13LShNPHc/eCpNYXRoLnJvdW5kKCh3LU0pL3gpOjApLGw9bmV3IGUoe3htaW46Zix5bWF4OmMseG1heDp5LHltaW46TSxzcGF0aWFsUmVmZXJlbmNlOm99KSxtPU1hdGgucm91bmQobC53aWR0aC9yKSxzPU1hdGgucm91bmQobC5oZWlnaHQveCkpOihtPU1hdGguZmxvb3IoKHktZikvcisuOCkscz1NYXRoLmZsb29yKChjLU0pL3grLjgpLGY9dSsoZj51P3IqTWF0aC5mbG9vcigoZi11KS9yKy4xKTowKSxjPXctKGM8dz94Kk1hdGguZmxvb3IoKHctYykveCsuMSk6MCkseT1mK20qcixNPWMtcyp4LGw9bmV3IGUoe3htaW46Zix5bWF4OmMseG1heDp5LHltaW46TSxzcGF0aWFsUmVmZXJlbmNlOm99KSkse2V4dGVudDpsLHdpZHRoOm0saGVpZ2h0OnN9fWV4cG9ydHthIGFzIGNsaXAseCBhcyBzbmFwVG9SYXN0ZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9