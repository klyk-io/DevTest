"use strict";
(self["webpackChunkklyk"] = self["webpackChunkklyk"] || []).push([["node_modules_arcgis_core_portal_support_resourceUtils_js"],{

/***/ "./node_modules/@arcgis/core/portal/support/resourceUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addOrUpdateResource: () => (/* binding */ o),
/* harmony export */   contentToBlob: () => (/* binding */ p),
/* harmony export */   fetchResources: () => (/* binding */ s),
/* harmony export */   getSiblingOfSameType: () => (/* binding */ d),
/* harmony export */   getSiblingOfSameTypeI: () => (/* binding */ m),
/* harmony export */   removeAllResources: () => (/* binding */ u),
/* harmony export */   removeResource: () => (/* binding */ n),
/* harmony export */   splitPrefixFileNameAndExtension: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function s(e,t={},a){await e.load(a);const s=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.itemUrl,"resources"),{start:o=1,num:n=10,sortOrder:u="asc",sortField:l="created"}=t,c={query:{start:o,num:n,sortOrder:u,sortField:l,token:e.apiKey},signal:a?.signal},i=await e.portal.request(s,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function o(e,a,s,o){if(!e.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`portal-item-resource-${a}:invalid-path`,"Resource does not have a valid path");const n=e.portalItem;await n.load(o);const u=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(n.userItemUrl,"add"===a?"addResources":"updateResources"),[c,i]=l(e.path),d=await p(s),m=new FormData;return c&&"."!==c&&m.append("resourcesPrefix",c),null!=o&&o.compress&&m.append("compress","true"),m.append("fileName",i),m.append("file",d,i),m.append("f","json"),null!=o&&o.access&&m.append("access",o.access),await n.portal.request(u,{method:"post",body:m,signal:o?.signal}),e}async function n(e,a,s){if(!a.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await e.load(s);const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");await e.portal.request(o,{method:"post",query:{resource:a.path},signal:s?.signal}),a.portalItem=null}async function u(e,t){await e.load(t);const a=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");return e.portal.request(a,{method:"post",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,s]=l(t);return[a,s,r]}function i(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPathExtension)(e);return null==t?[e,""]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(t instanceof Blob)return t;return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.url,{responseType:"blob"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,s]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+s))}function m(e,t){if(!e.hasPath())return null;const[a,,s]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+s))}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3BvcnRhbF9zdXBwb3J0X3Jlc291cmNlVXRpbHNfanMuYWZiNjA2M2I2ZjYxZTBkNjBmOWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN1SSx1QkFBdUIsSUFBSSxnQkFBZ0IsUUFBUSx1REFBQyx5QkFBeUIsMkRBQTJELE1BQU0sT0FBTyxxREFBcUQsa0JBQWtCLCtCQUErQixPQUFPLGlFQUFpRSw0QkFBNEIsS0FBSywwREFBMEQsS0FBSywwQkFBMEIsMEJBQTBCLHNEQUFDLHlCQUF5QixFQUFFLHNEQUFzRCxxQkFBcUIsZ0JBQWdCLFFBQVEsdURBQUMsdUdBQXVHLDRPQUE0TyxzQ0FBc0MsSUFBSSx3QkFBd0IsMEJBQTBCLHNEQUFDLG9GQUFvRixnQkFBZ0IsUUFBUSx1REFBQyxrQ0FBa0MsMEJBQTBCLHFCQUFxQixnQkFBZ0Isa0JBQWtCLG9CQUFvQixzQkFBc0IsZ0JBQWdCLFFBQVEsdURBQUMsa0NBQWtDLDJCQUEyQixxQkFBcUIsYUFBYSxrQkFBa0IsRUFBRSxjQUFjLDJCQUEyQixpREFBaUQsY0FBYywyQkFBMkIsY0FBYyxjQUFjLFFBQVEsbUVBQUMsSUFBSSwwREFBMEQsRUFBRSxHQUFHLG9CQUFvQiw4QkFBOEIsYUFBYSx1REFBQyxRQUFRLG9CQUFvQixRQUFRLGdCQUFnQiw0QkFBNEIsc0JBQXNCLHFDQUFxQyx1REFBQyxTQUFTLGdCQUFnQiw0QkFBNEIsc0JBQXNCLHFDQUFxQyx1REFBQyxTQUF1TiIsInNvdXJjZXMiOlsid2VicGFjazovL2tseWsvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2pvaW4gYXMgcixnZXRQYXRoRXh0ZW5zaW9uIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIHMoZSx0PXt9LGEpe2F3YWl0IGUubG9hZChhKTtjb25zdCBzPXIoZS5pdGVtVXJsLFwicmVzb3VyY2VzXCIpLHtzdGFydDpvPTEsbnVtOm49MTAsc29ydE9yZGVyOnU9XCJhc2NcIixzb3J0RmllbGQ6bD1cImNyZWF0ZWRcIn09dCxjPXtxdWVyeTp7c3RhcnQ6byxudW06bixzb3J0T3JkZXI6dSxzb3J0RmllbGQ6bCx0b2tlbjplLmFwaUtleX0sc2lnbmFsOmE/LnNpZ25hbH0saT1hd2FpdCBlLnBvcnRhbC5yZXF1ZXN0KHMsYyk7cmV0dXJue3RvdGFsOmkudG90YWwsbmV4dFN0YXJ0OmkubmV4dFN0YXJ0LHJlc291cmNlczppLnJlc291cmNlcy5tYXAoKCh7Y3JlYXRlZDp0LHNpemU6cixyZXNvdXJjZTphfSk9Pih7Y3JlYXRlZDpuZXcgRGF0ZSh0KSxzaXplOnIscmVzb3VyY2U6ZS5yZXNvdXJjZUZyb21QYXRoKGEpfSkpKX19YXN5bmMgZnVuY3Rpb24gbyhlLGEscyxvKXtpZighZS5oYXNQYXRoKCkpdGhyb3cgbmV3IHQoYHBvcnRhbC1pdGVtLXJlc291cmNlLSR7YX06aW52YWxpZC1wYXRoYCxcIlJlc291cmNlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBwYXRoXCIpO2NvbnN0IG49ZS5wb3J0YWxJdGVtO2F3YWl0IG4ubG9hZChvKTtjb25zdCB1PXIobi51c2VySXRlbVVybCxcImFkZFwiPT09YT9cImFkZFJlc291cmNlc1wiOlwidXBkYXRlUmVzb3VyY2VzXCIpLFtjLGldPWwoZS5wYXRoKSxkPWF3YWl0IHAocyksbT1uZXcgRm9ybURhdGE7cmV0dXJuIGMmJlwiLlwiIT09YyYmbS5hcHBlbmQoXCJyZXNvdXJjZXNQcmVmaXhcIixjKSxudWxsIT1vJiZvLmNvbXByZXNzJiZtLmFwcGVuZChcImNvbXByZXNzXCIsXCJ0cnVlXCIpLG0uYXBwZW5kKFwiZmlsZU5hbWVcIixpKSxtLmFwcGVuZChcImZpbGVcIixkLGkpLG0uYXBwZW5kKFwiZlwiLFwianNvblwiKSxudWxsIT1vJiZvLmFjY2VzcyYmbS5hcHBlbmQoXCJhY2Nlc3NcIixvLmFjY2VzcyksYXdhaXQgbi5wb3J0YWwucmVxdWVzdCh1LHttZXRob2Q6XCJwb3N0XCIsYm9keTptLHNpZ25hbDpvPy5zaWduYWx9KSxlfWFzeW5jIGZ1bmN0aW9uIG4oZSxhLHMpe2lmKCFhLmhhc1BhdGgoKSl0aHJvdyBuZXcgdChcInBvcnRhbC1pdGVtLXJlc291cmNlcy1yZW1vdmU6aW52YWxpZC1wYXRoXCIsXCJSZXNvdXJjZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcGF0aFwiKTthd2FpdCBlLmxvYWQocyk7Y29uc3Qgbz1yKGUudXNlckl0ZW1VcmwsXCJyZW1vdmVSZXNvdXJjZXNcIik7YXdhaXQgZS5wb3J0YWwucmVxdWVzdChvLHttZXRob2Q6XCJwb3N0XCIscXVlcnk6e3Jlc291cmNlOmEucGF0aH0sc2lnbmFsOnM/LnNpZ25hbH0pLGEucG9ydGFsSXRlbT1udWxsfWFzeW5jIGZ1bmN0aW9uIHUoZSx0KXthd2FpdCBlLmxvYWQodCk7Y29uc3QgYT1yKGUudXNlckl0ZW1VcmwsXCJyZW1vdmVSZXNvdXJjZXNcIik7cmV0dXJuIGUucG9ydGFsLnJlcXVlc3QoYSx7bWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntkZWxldGVBbGw6ITB9LHNpZ25hbDp0Py5zaWduYWx9KX1mdW5jdGlvbiBsKGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuLTE9PT10P1tcIi5cIixlXTpbZS5zbGljZSgwLHQpLGUuc2xpY2UodCsxKV19ZnVuY3Rpb24gYyhlKXtjb25zdFt0LHJdPWkoZSksW2Esc109bCh0KTtyZXR1cm5bYSxzLHJdfWZ1bmN0aW9uIGkoZSl7Y29uc3QgdD1hKGUpO3JldHVybiBudWxsPT10P1tlLFwiXCJdOltlLnNsaWNlKDAsZS5sZW5ndGgtdC5sZW5ndGgtMSksYC4ke3R9YF19YXN5bmMgZnVuY3Rpb24gcCh0KXtpZih0IGluc3RhbmNlb2YgQmxvYilyZXR1cm4gdDtyZXR1cm4oYXdhaXQgZSh0LnVybCx7cmVzcG9uc2VUeXBlOlwiYmxvYlwifSkpLmRhdGF9ZnVuY3Rpb24gZChlLHQpe2lmKCFlLmhhc1BhdGgoKSlyZXR1cm4gbnVsbDtjb25zdFthLCxzXT1jKGUucGF0aCk7cmV0dXJuIGUucG9ydGFsSXRlbS5yZXNvdXJjZUZyb21QYXRoKHIoYSx0K3MpKX1mdW5jdGlvbiBtKGUsdCl7aWYoIWUuaGFzUGF0aCgpKXJldHVybiBudWxsO2NvbnN0W2EsLHNdPWMoZS5wYXRoKTtyZXR1cm4gZS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgocihhLHQrcykpfWV4cG9ydHtvIGFzIGFkZE9yVXBkYXRlUmVzb3VyY2UscCBhcyBjb250ZW50VG9CbG9iLHMgYXMgZmV0Y2hSZXNvdXJjZXMsZCBhcyBnZXRTaWJsaW5nT2ZTYW1lVHlwZSxtIGFzIGdldFNpYmxpbmdPZlNhbWVUeXBlSSx1IGFzIHJlbW92ZUFsbFJlc291cmNlcyxuIGFzIHJlbW92ZVJlc291cmNlLGMgYXMgc3BsaXRQcmVmaXhGaWxlTmFtZUFuZEV4dGVuc2lvbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=