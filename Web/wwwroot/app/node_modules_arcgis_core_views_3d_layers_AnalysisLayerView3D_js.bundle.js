"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkweb"] = self["webpackChunkweb"] || []).push([["node_modules_arcgis_core_views_3d_layers_AnalysisLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/AnalysisLayerView3D.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/AnalysisLayerView3D.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ d)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Collection.js */ \"./node_modules/@arcgis/core/core/Collection.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LayerView3D.js */ \"./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js\");\n/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/LayerView.js */ \"./node_modules/@arcgis/core/views/layers/LayerView.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst m=\"analysis-view-handles\";let w=class extends((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_8__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])){constructor(s){super(s),this.type=\"analysis-3d\",this.allAnalysisViews=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],this._creatingViewCount=0,this._analysisViewCreationTasks=new Map,this._analysisModules={\"area-measurement\":{module:null},\"direct-line-measurement\":{module:null},\"line-of-sight\":{module:null},slice:{module:null}}}initialize(){for(const s of this.layer.analyses)this._createAnalysisView(s);this.handles.add([this.layer.analyses.on(\"after-add\",(s=>{this._createAnalysisView(s.item)})),this.layer.analyses.on(\"after-remove\",(s=>{const e=this.allAnalysisViews.removeAt(this.allAnalysisViews.findIndex((e=>e.analysis===s.item)));(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)&&e.destroy();const i=this._analysisViewCreationTasks.get(s.item);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(i)&&(i.abort(),this._analysisViewCreationTasks.delete(s.item))}))],m)}destroy(){this.handles.remove(m),this.allAnalysisViews.drain((s=>s.destroy())),this._analysisViewCreationTasks.clear(),this._creatingViewCount=0}whenAnalysisView(s){const e=this._analysisViewCreationTasks.get(s);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e))return e.promise;const t=new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the AnalysisLayer of this layer view\",{analysis:s});return Promise.reject(t)}isUpdating(){return 0!==this._creatingViewCount||this.allAnalysisViews.some((s=>s.updating))}_createAnalysisView(s){this._analysisViewCreationTasks.set(s,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createTask)((e=>this._createAnalysisViewPromise(s,e))))}async _createAnalysisViewPromise(s,e){this._creatingViewCount+=1;const a=s.type,r=this._analysisModules[a];if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(r.module)){const s=await this._loadAnalysisModule(a);r.module=s}const o=new r.module.default({analysis:s,view:this.view,parent:this});if(await o.when(),this._creatingViewCount-=1,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAborted)(e))throw o.destroy(),new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the AnalysisLayer of this layer view\",{analysis:s});return this.allAnalysisViews.add(o),o}_loadAnalysisModule(s){switch(s){case\"area-measurement\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-cd5243\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_core_quantityFormatUtils_js-node_modules_arcgis_core_geometr-610b72\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AreaMeasurementAnalysisView3D_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/AreaMeasurementAnalysisView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/AreaMeasurementAnalysisView3D.js\"));case\"direct-line-measurement\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-cd5243\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_core_quantityFormatUtils_js-node_modules_arcgis_core_geometr-610b72\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_DirectLineMeasurementAnalysisView3D_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/DirectLineMeasurementAnalysisView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js\"));case\"line-of-sight\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-cd5243\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_LineOfSightAnalysisView3D_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/LineOfSightAnalysisView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js\"));case\"slice\":return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_views_3d_analysis_AnalysisView3D_js-node_modules_arcgis_core-cd5243\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_layers_buildingSublayers_BuildingComponentSublayer_js\"), __webpack_require__.e(\"vendors-node_modules_arcgis_core_layers_support_I3SIndexInfo_js-node_modules_arcgis_core_view-30d517\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../analysis/SliceAnalysisView3D.js */ \"./node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js\"));default:return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"type\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"layer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"allAnalysisViews\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],w.prototype,\"_creatingViewCount\",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)(\"esri.views.3d.layers.AnalysisLayerView3D\")],w);const d=w;\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/3d/layers/AnalysisLayerView3D.js?");

/***/ })

}]);