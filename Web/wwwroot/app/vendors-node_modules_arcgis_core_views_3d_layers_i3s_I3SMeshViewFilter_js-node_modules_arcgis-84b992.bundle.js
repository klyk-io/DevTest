"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkweb"] = self["webpackChunkweb"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_i3s_I3SMeshViewFilter_js-node_modules_arcgis-84b992"],{

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"I3SMeshViewFilter\": () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ \"./node_modules/@arcgis/core/geometry.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ \"./node_modules/@arcgis/core/core/mathUtils.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ \"./node_modules/@arcgis/core/core/unitUtils.js\");\n/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/watchUtils.js */ \"./node_modules/@arcgis/core/core/watchUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ \"./node_modules/@arcgis/core/chunks/vec3.js\");\n/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/sql/WhereClause.js */ \"./node_modules/@arcgis/core/core/sql/WhereClause.js\");\n/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/projection.js */ \"./node_modules/@arcgis/core/geometry/projection.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\");\n/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/Ellipsoid.js */ \"./node_modules/@arcgis/core/geometry/support/Ellipsoid.js\");\n/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ \"./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js\");\n/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ \"./node_modules/@arcgis/core/layers/support/FeatureFilter.js\");\n/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./I3SUtil.js */ \"./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js\");\n/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ \"./node_modules/@arcgis/core/geometry/SpatialReference.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst v=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let x,M=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_8__.whenOnce)(this,\"filter.geometry\").then((()=>this.loadAsyncModule(O().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isNone)(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(this.filter)?this.filter.where:null;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isNone)(e)||!e)return null;try{return _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_14__.WhereClause.create(e,this.layerFieldsIndex)}catch(t){v.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const i=this.sortedObjectIds;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(i)&&e.push((e=>(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_21__.objectIdFilter)(i,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const o=this.parsedGeometry;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(o)){const i=this.spatialRelationship;e.push(((e,n)=>P(e,n,s,t,r,o,i)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(s)){const i=this.spatialRelationship,o=s[0].spatialReference||t;if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectBoundingSphere)(e,r,K,o))return v.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return L(K,s,o,i)}return!0}get parsedGeometry(){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isNone)(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isNone)(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,i=\"mesh\"===e.type?e.extent:e;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isNone)(t)||0===t)return B(i,s);const o=r||(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__.getUnitString)(i.spatialReference);if(i.spatialReference.isWGS84){return B(this._geometryEngine.geodesicBuffer(i,t,o),s)}const l=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_19__.project)(i,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"].WGS84);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(l)){return B((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_19__.project)(this._geometryEngine.geodesicBuffer(l,t,o),i.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule((0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.load)().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let p=null;try{p=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.project)(i,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"].WGS84)}catch(u){}if(p)try{p=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.project)(this._geometryEngine.geodesicBuffer(p,t,o),i.spatialReference)}catch(u){p=null}return p||v.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${i.spatialReference.wkid}) to WGS84.`),B(p,s)}get spatialRelationship(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isSome)(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(v.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!G(e.spatialRelationship)||(v.warn(`Filters with spatialRelationship other than ${k.join(\", \")} are not supported for mesh scene layers`),!1)}};function _(){return!!x}async function O(){return _()||(x=await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js\"), __webpack_require__.e(\"node_modules_arcgis_core_geometry_geometryEngine_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../geometry/geometryEngine.js */ \"./node_modules/@arcgis/core/geometry/geometryEngine.js\"))),x}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]})],M.prototype,\"filter\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],M.prototype,\"layerFieldsIndex\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],M.prototype,\"loadAsyncModule\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],M.prototype,\"applyFilters\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],M.prototype,\"addSqlFilter\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],M.prototype,\"sortedObjectIds\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],M.prototype,\"parsedWhereClause\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],M.prototype,\"parsedGeometry\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],M.prototype,\"spatialRelationship\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],M.prototype,\"_projectionEngineLoaded\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],M.prototype,\"_geometryEngine\",void 0),M=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],M);const k=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function G(e){return null!=e&&k.indexOf(e)>=0}var W;function B(e,t){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.isNone)(e))return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__.fromValues)(1/0,1/0,-1/0,-1/0);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__.expandWithNestedArray)(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const i=new Set,o=new _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.PositionHint;for(let e=0;e<t.length;++e){const r=t[e];for(let s=e+1;s<t.length;++s){const e=t[s];if(e.aabr[0]>=r.aabr[2])break;i.add(e)}i.forEach((e=>{if(r!==e)if(e.aabr[2]<=r.aabr[0])i.delete(e);else if(x.intersects(r,e)){r.rings=r.rings.concat(e.rings),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__.expand)(r.aabr,e.aabr,r.aabr),delete r._geVersion,i.delete(e);const n=(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__.indexOf)(t,e,t.length,o);t.splice(n,1)}})),i.add(r)}for(const e of t)delete e.aabr;return t}return[e]}function L(e,t,r,s){const i=U(e,r);return t.every((e=>q(e,i,s)!==W.DISCARD))}function P(e,t,r,s,i,o,n){const a=o[0].spatialReference||s.spatialReference;if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectBoundingSphere)(t.node.mbs,i,K,a))return void v.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=U(K,a),l=V(n,s,a,r,t.objectHandle);for(const p of o){if(0===e.length)return;switch(q(p,c,n)){case W.DISCARD:return void(e.length=0);case W.KEEP:continue}(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_21__.filterInPlace)(e,t.featureIds,(e=>z(p,e,l)))}}!function(e){e[e.KEEP=0]=\"KEEP\",e[e.DISCARD=1]=\"DISCARD\",e[e.TEST=2]=\"TEST\"}(W||(W={}));const K=[0,0,0,0];function V(e,t,r,s,i){const o=t.renderSpatialReference,n=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>x.intersects(e,t)?W.KEEP:W.TEST,p=N;break;case\"contains\":l=(e,t)=>x.contains(e,t)?W.TEST:W.DISCARD,p=N;break;default:l=(e,t)=>x.disjoint(e,t)?W.TEST:W.DISCARD,p=Z}return{collection:s,object:i,type:e,maskSR:r,renderSR:o,aabbCache:n,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function U(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator,i=Number.isNaN(e[3])?0:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.clamp)(e[3],0,2*_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_18__.earth.radius),n=s?x.buffer(r,i,1):x.geodesicBuffer(r,i,1);return n.type=\"polygon\",n}function q(e,t,r){switch(r){case\"intersects\":case\"contains\":return N(e,t);case\"disjoint\":return Z(e,t)}}function N(e,t){return x.intersects(e,t)?x.contains(e,t)?W.KEEP:W.TEST:W.DISCARD}function Z(e,t){return x.intersects(e,t)?x.contains(e,t)?W.DISCARD:W.TEST:W.KEEP}const $=2**-32;function z(e,t,r){const{collection:s,object:i,renderSR:o,maskSR:n,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(i);s.getComponentAabb(i,t,H);const r=[[H[0],H[1],0],[H[0],H[4],0],[H[3],H[4],0],[H[3],H[1],0]];for(let t=0;t<4;++t)(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.t)(r[t],r[t],e.rotationScale),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.b)(r[t],r[t],e.position),(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectVectorToVector)(r[t],o,r[t],n);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:n},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case W.DISCARD:return!1;case W.KEEP:return!0}const{triangle:p,triangleTest:u,positions:h}=r,m=p.rings[0][0],y=p.rings[0][1],S=p.rings[0][2],b=s.getObjectTransform(i);s.getComponentPositions(i,t,h);const{indices:R,data:E,stride:w,startIndex:I,endIndex:T}=h;for(let D=I;D<T;D+=3){const t=w*R[D+0],r=w*R[D+1],s=w*R[D+2];(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.s)(m,E[t+0],E[t+1],E[t+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.s)(y,E[r+0],E[r+1],E[r+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.s)(S,E[s+0],E[s+1],E[s+2]),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.t)(m,m,b.rotationScale),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.t)(y,y,b.rotationScale),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.t)(S,S,b.rotationScale),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.b)(m,m,b.position),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.b)(y,y,b.position),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.b)(S,S,b.position),(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectVectorToVector)(m,o,m,n),(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectVectorToVector)(y,o,y,n),(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectVectorToVector)(S,o,S,n);const i=y[0]-m[0],a=y[1]-m[1],c=S[0]-m[0],l=S[1]-m[1];if(!(Math.abs(i*l-a*c)<$))switch(delete p._geVersion,u(e,p)){case W.DISCARD:return!1;case W.KEEP:return!0}}return\"intersects\"!==r.type}const H=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.create)();\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"I3SQueryEngine\": () => (/* binding */ p),\n/* harmony export */   \"default\": () => (/* binding */ d)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Handles.js */ \"./node_modules/@arcgis/core/core/Handles.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ \"./node_modules/@arcgis/core/geometry/Extent.js\");\n/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/graphics/data/QueryEngine.js */ \"./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js\");\n/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../rest/support/FeatureSet.js */ \"./node_modules/@arcgis/core/rest/support/FeatureSet.js\");\n/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ \"./node_modules/@arcgis/core/rest/support/Query.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst l=_layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"];let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]}get defaultQueryJSON(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this._ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"].fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"].fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:a,scheduler:s,priority:o}),this._dataQueryEngineInstance}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],p.prototype,\"layerView\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],p.prototype,\"priority\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);const d=p;\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"I3SQueryFeatureAdapter\": () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/centroid.js */ \"./node_modules/@arcgis/core/layers/graphics/centroid.js\");\n/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ \"./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js\");\n/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I3SUtil.js */ \"./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(r.attributeInfo)&&r.attributeInfo.attributeData;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(s))for(const t of Object.keys(s))n[t]=(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_4__.getCachedAttributeValue)(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(o.attributeInfo)&&o.attributeInfo.attributeData;return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(s)?(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_4__.getCachedAttributeValue)(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_2__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_1__.create)();\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"I3SQueryFeatureStore\": () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ d)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ \"./node_modules/@arcgis/core/core/Evented.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ \"./node_modules/@arcgis/core/chunks/vec4f64.js\");\n/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/projection.js */ \"./node_modules/@arcgis/core/geometry/projection.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\");\n/* harmony import */ var _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../II3SMeshView3D.js */ \"./node_modules/@arcgis/core/views/3d/layers/II3SMeshView3D.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet f=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{constructor(e){super(e),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]}forEach(e){this.forAllFeatures((r=>(e(r),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,h);return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.intersects)(e,(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.toRect)(o,y))&&r(t),_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE}),(r=>{if((0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_9__.projectBoundingSphere)(r.node.mbs,this.sourceSpatialReference,l,this.viewSpatialReference),l[0]>=e[0]&&l[2]<=e[2]&&l[1]>=e[1]&&l[3]<=e[3])return _II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE;const t=Math.max(e[0],Math.min(l[0],e[2])),o=Math.max(e[1],Math.min(l[1],e[3])),s=l[0]-t,c=l[1]-o;return s*s+c*c<=l[3]*l[3]?_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.CONTINUE:_II3SMeshView3D_js__WEBPACK_IMPORTED_MODULE_12__.ForAllFeaturesReturnType.SKIP}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],f.prototype,\"featureAdapter\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],f.prototype,\"forAllFeatures\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],f.prototype,\"getFeatureExtent\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],f.prototype,\"sourceSpatialReference\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],f.prototype,\"viewSpatialReference\",void 0),f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],f);const l=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.c)(),h=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__.create)(),y=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)(),d=f;\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefinitionExpressionSceneLayerView\": () => (/* binding */ p)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/sql/WhereClause.js */ \"./node_modules/@arcgis/core/core/sql/WhereClause.js\");\n/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../i3s/I3SUtil.js */ \"./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_7__.WhereClause.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return (0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_8__.findFieldsCaseInsensitive)(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],p.prototype,\"i3slayer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getFetchPopupTemplate\": () => (/* binding */ d),\n/* harmony export */   \"getRequiredFields\": () => (/* binding */ t)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ \"./node_modules/@arcgis/core/layers/support/fieldUtils.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nasync function t(t,d=t.popupTemplate){if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.getFeatureEditFields)(t):[],r=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_1__.fixFields)(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(l)&&l.defaultPopupTemplateEnabled&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isSome)(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}\n\n\n//# sourceURL=webpack://web/./node_modules/@arcgis/core/views/layers/support/popupUtils.js?");

/***/ })

}]);